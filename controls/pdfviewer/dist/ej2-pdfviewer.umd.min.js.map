{"version":3,"file":"ej2-pdfviewer.umd.min.js","sources":["../src/pdfviewer/annotation/link-annotation.js","../src/pdfviewer/base/navigation-pane.js","../src/pdfviewer/base/pdfviewer-base.js","../src/pdfviewer/base/text-layer.js","../src/pdfviewer/base/context-menu.js","../src/pdfviewer/magnification/magnification.js","../src/pdfviewer/navigation/page-navigation.js","../src/pdfviewer/thumbnail-view/thumbnail-view.js","../src/pdfviewer/toolbar/toolbar.js","../src/pdfviewer/pdfviewer.js","../src/pdfviewer/bookmark-view/bookmark-view.js","../src/pdfviewer/text-selection/text-selection.js","../src/pdfviewer/text-search/text-search.js","../src/pdfviewer/print/print.js"],"sourcesContent":["import { createElement } from '@syncfusion/ej2-base';\n/**\n * The `LinkAnnotation` module is used to handle link annotation actions of PDF viewer.\n * @hidden\n */\nvar LinkAnnotation = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function LinkAnnotation(pdfViewer, viewerBase) {\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * @private\n     */\n    // tslint:disable-next-line    \n    LinkAnnotation.prototype.renderHyperlinkContent = function (data, pageIndex) {\n        if (this.pdfViewer.enableHyperlink) {\n            var hyperlinks = data.hyperlinks;\n            var hyperlinksBounds = data.hyperlinkBounds;\n            var linkAnnotation = data.linkAnnotation;\n            var linkPage = data.linkPage;\n            var annotationY = data.annotationLocation;\n            if (hyperlinks.length > 0 && hyperlinksBounds.length > 0) {\n                this.renderWebLink(hyperlinks, hyperlinksBounds, pageIndex);\n            }\n            if (linkAnnotation.length > 0 && linkPage.length > 0) {\n                this.renderDocumentLink(linkAnnotation, linkPage, annotationY, pageIndex);\n            }\n        }\n    };\n    LinkAnnotation.prototype.renderWebLink = function (hyperlinks, hyperlinksBounds, pageIndex) {\n        var proxy = this;\n        var _loop_1 = function (i) {\n            var aTag = createElement('a', { id: 'weblinkdiv_' + i });\n            // tslint:disable-next-line\n            var rect = hyperlinksBounds[i];\n            aTag = this_1.setHyperlinkProperties(aTag, rect);\n            aTag.title = hyperlinks[i];\n            aTag.setAttribute('href', hyperlinks[i]);\n            if (this_1.pdfViewer.hyperlinkOpenState === 'CurrentTab') {\n                aTag.target = '_self';\n                aTag.onclick = function () {\n                    proxy.pdfViewer.fireHyperlinkClick(hyperlinks[i]);\n                };\n            }\n            else if (this_1.pdfViewer.hyperlinkOpenState === 'NewTab') {\n                aTag.target = '_blank';\n                aTag.onclick = function () {\n                    proxy.pdfViewer.fireHyperlinkClick(hyperlinks[i]);\n                };\n            }\n            else if (this_1.pdfViewer.hyperlinkOpenState === 'NewWindow') {\n                aTag.onclick = function () {\n                    proxy.pdfViewer.fireHyperlinkClick(hyperlinks[i]);\n                    window.open(hyperlinks[i], '_blank', 'scrollbars=yes,resizable=yes');\n                    return false;\n                };\n            }\n            var pageDiv = document.getElementById(this_1.pdfViewer.element.id + '_pageDiv_' + pageIndex);\n            pageDiv.appendChild(aTag);\n        };\n        var this_1 = this;\n        for (var i = 0; i < hyperlinks.length; i++) {\n            _loop_1(i);\n        }\n    };\n    LinkAnnotation.prototype.renderDocumentLink = function (linkAnnotation, linkPage, annotationY, pageIndex) {\n        var proxy = this;\n        var _loop_2 = function (i) {\n            var aTag = createElement('a', { id: 'linkdiv_' + i });\n            // tslint:disable-next-line\n            var rect = linkAnnotation[i];\n            aTag = this_2.setHyperlinkProperties(aTag, rect);\n            aTag.setAttribute('href', '');\n            if (linkPage[i] !== undefined && linkPage[i] > 0) {\n                var destPageHeight = (this_2.pdfViewerBase.pageSize[pageIndex].height);\n                var destLocation = void 0;\n                var scrollValue = void 0;\n                if (annotationY.length !== 0) {\n                    destLocation = (annotationY[i]);\n                    // tslint:disable-next-line:max-line-length\n                    scrollValue = this_2.pdfViewerBase.pageSize[linkPage[i]].top * this_2.pdfViewerBase.getZoomFactor() + ((destPageHeight - destLocation) * this_2.pdfViewerBase.getZoomFactor());\n                }\n                else {\n                    // tslint:disable-next-line:max-line-length\n                    scrollValue = this_2.pdfViewerBase.pageSize[linkPage[i]].top * this_2.pdfViewerBase.getZoomFactor();\n                }\n                if (scrollValue !== undefined) {\n                    aTag.name = scrollValue.toString();\n                    aTag.onclick = function () {\n                        // tslint:disable-next-line:radix\n                        proxy.pdfViewerBase.viewerContainer.scrollTop = parseInt(aTag.name);\n                        return false;\n                    };\n                }\n            }\n            var pageDiv = document.getElementById(this_2.pdfViewer.element.id + '_pageDiv_' + pageIndex);\n            pageDiv.appendChild(aTag);\n        };\n        var this_2 = this;\n        for (var i = 0; i < linkAnnotation.length; i++) {\n            _loop_2(i);\n        }\n    };\n    // tslint:disable-next-line\n    LinkAnnotation.prototype.setHyperlinkProperties = function (aTag, rect) {\n        aTag.className = 'e-pv-hyperlink';\n        aTag.style.background = 'transparent';\n        aTag.style.position = 'absolute';\n        aTag.style.left = (rect.Left * this.pdfViewerBase.getZoomFactor()) + 'px';\n        aTag.style.top = (rect.Top * this.pdfViewerBase.getZoomFactor()) + 'px';\n        aTag.style.width = (rect.Width * this.pdfViewerBase.getZoomFactor()) + 'px';\n        if (rect.Height < 0) {\n            aTag.style.height = (-rect.Height * this.pdfViewerBase.getZoomFactor()) + 'px';\n            aTag.style.top = ((rect.Top + rect.Height) * this.pdfViewerBase.getZoomFactor()) + 'px';\n        }\n        else {\n            aTag.style.height = ((rect.Height < 0 ? -rect.Height : rect.Height) * this.pdfViewerBase.getZoomFactor()) + 'px';\n        }\n        aTag.style.color = 'transparent';\n        return aTag;\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.modifyZindexForTextSelection = function (pageNumber, isAdd) {\n        if (this.pdfViewerBase.pageCount > 0) {\n            var pageChildNodes = this.pdfViewerBase.getElement('_pageDiv_' + pageNumber).childNodes;\n            for (var i = 0; i < pageChildNodes.length; i++) {\n                var childElement = pageChildNodes[i];\n                if (childElement.tagName === 'A') {\n                    if (isAdd) {\n                        childElement.classList.add('e-pv-onselection');\n                    }\n                    else {\n                        childElement.classList.remove('e-pv-onselection');\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.modifyZindexForHyperlink = function (element, isAdd) {\n        if (isAdd) {\n            element.classList.add('e-pv-onselection');\n        }\n        else {\n            element.classList.remove('e-pv-onselection');\n        }\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.destroy = function () {\n        for (var i = 0; i < this.pdfViewerBase.pageCount - 1; i++) {\n            var pageDiv = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + i);\n            if (pageDiv) {\n                var aElement = pageDiv.getElementsByTagName('a');\n                if (aElement.length !== 0) {\n                    for (var index = aElement.length - 1; index >= 0; index--) {\n                        aElement[index].parentNode.removeChild(aElement[index]);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.getModuleName = function () {\n        return 'LinkAnnotation';\n    };\n    return LinkAnnotation;\n}());\nexport { LinkAnnotation };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { Toolbar as Tool } from '@syncfusion/ej2-navigations';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { Toast } from '@syncfusion/ej2-notifications';\n/**\n * The `NavigationPane` module is used to handle navigation pane for thumbnail and bookmark navigation of PDF viewer.\n * @hidden\n */\nvar NavigationPane = /** @class */ (function () {\n    function NavigationPane(viewer, base) {\n        var _this = this;\n        this.thumbnailWidthMin = 200;\n        this.contentContainerScrollWidth = 33;\n        this.closeButtonLeft = 170;\n        this.isBookmarkOpen = false;\n        this.isThumbnailOpen = false;\n        this.isTooltipCreated = false;\n        /**\n         * @private\n         */\n        this.isNavigationToolbarVisible = false;\n        /**\n         * @private\n         */\n        this.isBookmarkListOpen = false;\n        /**\n         * @private\n         */\n        this.isNavigationPaneResized = false;\n        this.resizeIconMouseOver = function (event) {\n            event.srcElement.style.cursor = 'default';\n        };\n        this.resizePanelMouseDown = function (event) {\n            var proxy = _this;\n            proxy.offset = [\n                proxy.sideBarResizer.offsetLeft - event.clientX,\n                proxy.sideBarResizer.offsetTop - event.clientY,\n                proxy.sideBarResizer.offsetParent.clientWidth\n            ];\n            _this.previousX = event.clientX;\n            proxy.isDown = true;\n            proxy.isNavigationPaneResized = true;\n            proxy.pdfViewerBase.viewerContainer.style.cursor = 'e-resize';\n            if (proxy.sideBarContentContainer) {\n                proxy.sideBarContentContainer.style.cursor = 'e-resize';\n            }\n        };\n        this.resizeViewerMouseLeave = function (event) {\n            var proxy = _this;\n            proxy.isDown = false;\n            if (proxy.isNavigationPaneResized && proxy.sideBarContentContainer) {\n                proxy.pdfViewerBase.viewerContainer.style.cursor = 'default';\n                proxy.sideBarContentContainer.style.cursor = 'default';\n                proxy.isNavigationPaneResized = false;\n            }\n        };\n        this.resizePanelMouseMove = function (event) {\n            var proxy = _this;\n            event.preventDefault();\n            if (proxy.isDown && _this.sideBarContentContainer) {\n                // prevent the sidebar from becoming too narrow, or from occupying more\n                // than half of the available viewer width.\n                if (_this.pdfViewer.enableRtl) {\n                    var currentWidth = _this.previousX - event.clientX;\n                    var width = currentWidth + proxy.offset[2];\n                    var maxWidth = Math.floor(_this.outerContainerWidth / 2);\n                    if (width > maxWidth) {\n                        width = maxWidth;\n                    }\n                    if (width < _this.thumbnailWidthMin) {\n                        width = _this.thumbnailWidthMin;\n                    }\n                    proxy.sideBarResizer.style.right = width + 'px';\n                    proxy.sideBarContentContainer.style.width = width + 'px';\n                    proxy.sideBarContent.style.width = width + 'px';\n                    proxy.sideBarContentSplitter.style.width = width + 'px';\n                    proxy.sideBarTitleContainer.style.width = width + 'px';\n                    // tslint:disable-next-line:max-line-length\n                    proxy.pdfViewerBase.viewerContainer.style.right = proxy.getViewerContainerLeft() + 'px';\n                }\n                else {\n                    var width = event.clientX + proxy.offset[0];\n                    var maxWidth = Math.floor(_this.outerContainerWidth / 2);\n                    if (width > maxWidth) {\n                        width = maxWidth;\n                    }\n                    if (width < _this.thumbnailWidthMin) {\n                        width = _this.thumbnailWidthMin;\n                    }\n                    proxy.sideBarResizer.style.left = width + 'px';\n                    proxy.closeDiv.style.left = width - proxy.contentContainerScrollWidth + 'px';\n                    proxy.sideBarContentContainer.style.width = width + 'px';\n                    proxy.sideBarContent.style.width = width + 'px';\n                    proxy.sideBarContentSplitter.style.width = width + 'px';\n                    proxy.sideBarTitleContainer.style.width = width + 'px';\n                    // tslint:disable-next-line:max-line-length\n                    proxy.pdfViewerBase.viewerContainer.style.left = proxy.getViewerContainerLeft() + 'px';\n                }\n                // tslint:disable-next-line:max-line-length\n                var viewerWidth = (proxy.pdfViewer.element.clientWidth - proxy.getViewerContainerLeft());\n                proxy.pdfViewerBase.viewerContainer.style.width = viewerWidth + 'px';\n                proxy.pdfViewerBase.pageContainer.style.width = proxy.pdfViewerBase.viewerContainer.clientWidth + 'px';\n                proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.pdfViewerBase.currentPageNumber - 1);\n                proxy.pdfViewerBase.updateZoomValue();\n                if (!proxy.bookmarkButton.children[0].classList.contains('e-pv-bookmark-disable-icon')) {\n                    proxy.pdfViewer.bookmarkViewModule.setBookmarkContentHeight();\n                }\n            }\n        };\n        this.sideToolbarOnClose = function (event) {\n            var proxy = _this;\n            proxy.removeThumbnailSelectionIconTheme();\n            proxy.removeBookmarkSelectionIconTheme();\n            proxy.updateViewerContainerOnClose();\n        };\n        this.sideToolbarOnClick = function (event) {\n            _this.sideBarTitle.textContent = _this.pdfViewer.localeObj.getConstant('Page Thumbnails');\n            var proxy = _this;\n            var bookmarkPane = document.getElementById(_this.pdfViewer.element.id + '_bookmark_view');\n            if (bookmarkPane) {\n                proxy.removeBookmarkSelectionIconTheme();\n                bookmarkPane.style.display = 'none';\n            }\n            document.getElementById(_this.pdfViewer.element.id + '_thumbnail_view').style.display = 'flex';\n            if (proxy.sideBarContentContainer) {\n                if (proxy.sideBarContentContainer.style.display !== 'none') {\n                    if (proxy.isBookmarkOpen) {\n                        proxy.isThumbnailOpen = true;\n                        proxy.setThumbnailSelectionIconTheme();\n                        _this.updateViewerContainerOnExpand();\n                    }\n                    else {\n                        proxy.isThumbnailOpen = false;\n                        proxy.removeThumbnailSelectionIconTheme();\n                        _this.updateViewerContainerOnClose();\n                    }\n                }\n                else {\n                    proxy.isThumbnailOpen = true;\n                    proxy.setThumbnailSelectionIconTheme();\n                    _this.updateViewerContainerOnExpand();\n                }\n            }\n            proxy.isBookmarkOpen = false;\n        };\n        this.bookmarkButtonOnClick = function (event) {\n            var proxy = _this;\n            document.getElementById(_this.pdfViewer.element.id + '_thumbnail_view').style.display = 'none';\n            _this.removeThumbnailSelectionIconTheme();\n            _this.sideBarTitle.textContent = _this.pdfViewer.localeObj.getConstant('Bookmarks');\n            _this.pdfViewer.bookmarkViewModule.renderBookmarkcontent();\n            if (_this.sideBarContentContainer) {\n                if (proxy.sideBarContentContainer.style.display !== 'none') {\n                    if (_this.isThumbnailOpen) {\n                        _this.setBookmarkSelectionIconTheme();\n                        _this.isBookmarkOpen = true;\n                        _this.updateViewerContainerOnExpand();\n                    }\n                    else {\n                        _this.removeBookmarkSelectionIconTheme();\n                        _this.isBookmarkOpen = false;\n                        _this.updateViewerContainerOnClose();\n                    }\n                }\n                else {\n                    _this.setBookmarkSelectionIconTheme();\n                    _this.isBookmarkOpen = true;\n                    _this.updateViewerContainerOnExpand();\n                }\n            }\n            _this.isThumbnailOpen = false;\n        };\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = base;\n    }\n    /**\n     * @private\n     */\n    NavigationPane.prototype.initializeNavigationPane = function () {\n        if (!Browser.isDevice) {\n            this.createNavigationPane();\n        }\n    };\n    NavigationPane.prototype.createNavigationPane = function () {\n        // tslint:disable-next-line:max-line-length\n        this.sideBarToolbar = createElement('div', { id: this.pdfViewer.element.id + '_sideBarToolbar', className: 'e-pv-sidebar-toolbar' });\n        this.pdfViewerBase.mainContainer.appendChild(this.sideBarToolbar);\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarToolbar.style.cssFloat = 'right';\n            this.sideBarToolbar.style.right = 1 + 'px';\n            this.sideBarToolbar.style.position = 'relative';\n        }\n        // tslint:disable-next-line:max-line-length\n        var sideBarToolbarSplitter = createElement('div', { id: this.pdfViewer.element.id + '_sideBarToolbarSplitter', className: 'e-pv-sidebar-toolbar-splitter' });\n        this.pdfViewerBase.mainContainer.appendChild(sideBarToolbarSplitter);\n        if (this.pdfViewer.enableRtl) {\n            sideBarToolbarSplitter.classList.add('e-right');\n        }\n        else {\n            sideBarToolbarSplitter.classList.add('e-left');\n        }\n        // tslint:disable-next-line:max-line-length\n        this.sideBarContentContainer = createElement('div', { id: this.pdfViewer.element.id + '_sideBarContentContainer', className: 'e-pv-sidebar-content-container' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarContentContainer.classList.add('e-right');\n        }\n        else {\n            this.sideBarContentContainer.classList.add('e-left');\n        }\n        this.pdfViewerBase.mainContainer.appendChild(this.sideBarContentContainer);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarContentSplitter = createElement('div', { id: this.pdfViewer.element.id + '_sideBarContentSplitter', className: 'e-pv-sidebar-content-splitter' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarContentSplitter.style.right = 0 + 'px';\n        }\n        this.sideBarContentContainer.appendChild(this.sideBarContentSplitter);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarContent = createElement('div', { id: this.pdfViewer.element.id + '_sideBarContent', className: 'e-pv-sidebar-content' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarContent.style.right = 0 + 'px';\n            this.sideBarContent.style.direction = 'rtl';\n        }\n        this.sideBarContentContainer.appendChild(this.sideBarContent);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarTitleContainer = createElement('div', { id: this.pdfViewer.element.id + '_sideBarTitleContainer', className: 'e-pv-sidebar-title-container' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarTitleContainer.style.right = 0 + 'px';\n        }\n        // tslint:disable-next-line:max-line-length\n        this.sideBarTitle = createElement('div', { id: this.pdfViewer.element.id + '_sideBarTitle', className: 'e-pv-sidebar-title' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarTitle.classList.add('e-right');\n        }\n        else {\n            this.sideBarTitle.classList.add('e-left');\n        }\n        this.sideBarTitleContainer.appendChild(this.sideBarTitle);\n        this.sideBarContentContainer.appendChild(this.sideBarTitleContainer);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarResizer = createElement('div', { id: this.pdfViewer.element.id + '_sideBarResizer', className: 'e-pv-sidebar-resizer' });\n        this.sideBarResizer.addEventListener('mousedown', this.resizePanelMouseDown);\n        this.pdfViewerBase.mainContainer.addEventListener('mousemove', this.resizePanelMouseMove);\n        this.pdfViewerBase.mainContainer.addEventListener('mouseup', this.resizeViewerMouseLeave);\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarResizer.classList.add('e-right');\n        }\n        else {\n            this.sideBarResizer.classList.add('e-left');\n        }\n        this.sideBarContentContainer.appendChild(this.sideBarResizer);\n        // tslint:disable-next-line:max-line-length\n        var controlLeft = this.getViewerContainerLeft();\n        if (!this.pdfViewer.enableRtl) {\n            this.pdfViewerBase.viewerContainer.style.left = controlLeft + 'px';\n        }\n        this.pdfViewerBase.viewerContainer.style.width = (this.pdfViewer.element.clientWidth - controlLeft) + 'px';\n        this.sideBarContentContainer.style.display = 'none';\n        this.createSidebarToolBar();\n        this.createSidebarTitleCloseButton();\n        this.createResizeIcon();\n        this.sideBarToolbar.addEventListener('mouseup', this.sideToolbarOnMouseup.bind(this));\n        this.sideBarContentContainer.addEventListener('mouseup', this.sideBarTitleOnMouseup.bind(this));\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.createNavigationPaneMobile = function (option) {\n        var _this = this;\n        this.isNavigationToolbarVisible = true;\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_navigationToolbar', className: 'e-pv-nav-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.insertBefore(this.toolbarElement, this.pdfViewerBase.viewerContainer);\n        var items;\n        if (option === 'search') {\n            var searchTemplate = '<div class=\"e-input-group e-pv-search-input-mobile\" id=\"' + this.pdfViewer.element.id +\n                '_search_input_container\"><input class=\"e-input\" type=\"text\" placeholder=\"' +\n                this.pdfViewer.localeObj.getConstant('Find in document') + '\" id=\"' +\n                this.pdfViewer.element.id + '_search_input\"></input></div>';\n            items = [\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-backward-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Go Back'), id: this.pdfViewer.element.id + '_backward', click: this.goBackToToolbar.bind(this) },\n                { template: searchTemplate },\n                {\n                    prefixIcon: 'e-pv-search-icon e-pv-icon', id: this.pdfViewer.element.id + '_search_box-icon',\n                    click: function () {\n                        var iconElement = _this.pdfViewerBase.getElement('_search_box-icon').firstElementChild;\n                        if (iconElement.classList.contains('e-pv-search-close')) {\n                            _this.enableSearchItems(false);\n                        }\n                        _this.pdfViewer.textSearchModule.searchButtonClick(iconElement, _this.searchInput);\n                    }\n                },\n                {\n                    prefixIcon: 'e-pv-prev-search-icon e-pv-icon', id: this.pdfViewer.element.id + '_prev_occurrence',\n                    click: function (args) {\n                        _this.pdfViewer.textSearchModule.searchPrevious();\n                    }\n                },\n                {\n                    prefixIcon: 'e-pv-next-search-icon e-pv-icon', id: this.pdfViewer.element.id + '_next_occurrence',\n                    click: function (args) {\n                        _this.pdfViewer.textSearchModule.searchNext();\n                    }\n                }\n            ];\n        }\n        else {\n            items = [\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-backward-icon e-pv-icon', id: this.pdfViewer.element.id + '_backward', click: this.goBackToToolbar.bind(this) },\n                { text: this.pdfViewer.localeObj.getConstant('Bookmarks') }\n            ];\n        }\n        this.toolbar = new Tool({ items: items, width: '', height: '', overflowMode: 'Popup' });\n        this.toolbar.appendTo(this.toolbarElement);\n        if (option === 'search') {\n            this.initiateSearchBox();\n        }\n        else {\n            this.initiateBookmarks();\n        }\n    };\n    NavigationPane.prototype.initiateSearchBox = function () {\n        var _this = this;\n        this.searchInput = this.pdfViewerBase.getElement('_search_input');\n        this.pdfViewer.textSearchModule.searchBtn = this.pdfViewerBase.getElement('_search_box-icon').firstElementChild;\n        this.searchInput.addEventListener('keyup', function (event) {\n            _this.enableSearchItems(true);\n            var searchString = _this.searchInput.value;\n            if (event.which === 13) {\n                _this.initiateTextSearch();\n            }\n            else {\n                _this.pdfViewer.textSearchModule.resetVariables();\n            }\n        });\n        this.pdfViewer.textSearchModule.searchInput = this.searchInput;\n        this.setSearchInputWidth();\n        this.enableSearchItems(false);\n        this.searchInput.focus();\n    };\n    NavigationPane.prototype.enableSearchItems = function (isEnable) {\n        this.toolbar.enableItems(this.pdfViewerBase.getElement('_prev_occurrence').parentElement, isEnable);\n        this.toolbar.enableItems(this.pdfViewerBase.getElement('_next_occurrence').parentElement, isEnable);\n    };\n    NavigationPane.prototype.initiateBookmarks = function () {\n        if (Browser.isDevice) {\n            this.pdfViewerBase.mobileScrollerContainer.style.display = 'none';\n        }\n        // tslint:disable-next-line:max-line-length\n        var bookmarkContainer = createElement('div', { id: this.pdfViewer.element.id + '_bookmarks_container', className: 'e-pv-bookmark-container' });\n        bookmarkContainer.style.width = '100%';\n        bookmarkContainer.style.height = this.pdfViewerBase.viewerContainer.style.height;\n        this.pdfViewerBase.getElement('_viewerMainContainer').appendChild(bookmarkContainer);\n        this.pdfViewerBase.viewerContainer.style.display = 'none';\n        this.isBookmarkListOpen = true;\n        this.pdfViewer.bookmarkViewModule.renderBookmarkContentMobile();\n    };\n    NavigationPane.prototype.initiateTextSearch = function () {\n        var inputString = this.searchInput.value;\n        this.pdfViewer.textSearchModule.initiateSearch(inputString);\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.goBackToToolbar = function () {\n        this.isNavigationToolbarVisible = false;\n        this.pdfViewer.textSearchModule.cancelTextSearch();\n        this.searchInput = null;\n        if (this.pdfViewer.bookmarkViewModule.childNavigateCount !== 0) {\n            this.pdfViewer.bookmarkViewModule.bookmarkList.back();\n            this.pdfViewer.bookmarkViewModule.childNavigateCount--;\n        }\n        else {\n            this.toolbar.destroy();\n            this.toolbar = null;\n            var bookmarkContainer = this.pdfViewerBase.getElement('_bookmarks_container');\n            if (bookmarkContainer) {\n                bookmarkContainer.parentElement.removeChild(bookmarkContainer);\n                if (Browser.isDevice) {\n                    this.pdfViewerBase.mobileScrollerContainer.style.display = '';\n                }\n            }\n            this.toolbarElement.parentElement.removeChild(this.toolbarElement);\n            this.pdfViewerBase.viewerContainer.style.display = 'block';\n            this.isBookmarkListOpen = false;\n            this.pdfViewer.toolbarModule.showToolbar(true);\n            this.pdfViewerBase.onWindowResize();\n        }\n    };\n    NavigationPane.prototype.setSearchInputWidth = function () {\n        var searchInputParent = this.searchInput.parentElement;\n        var padding = window.getComputedStyle(searchInputParent.parentElement, null).getPropertyValue('padding-left');\n        // tslint:disable-next-line:max-line-length\n        var width = this.toolbarElement.clientWidth - this.getParentElementSearchBox('_backward').clientWidth\n            - this.getParentElementSearchBox('_search_box-icon').clientWidth - this.getParentElementSearchBox('_prev_occurrence').clientWidth\n            - this.getParentElementSearchBox('_next_occurrence').clientWidth - 6;\n        if (padding !== '') {\n            width = width - (parseFloat(padding) * 2);\n        }\n        searchInputParent.style.width = width + 'px';\n    };\n    NavigationPane.prototype.getParentElementSearchBox = function (idString) {\n        return this.pdfViewerBase.getElement(idString).parentElement;\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.createTooltipMobile = function (text) {\n        if (!this.isTooltipCreated) { //boolean to prevent again toast creation.\n            // tslint:disable-next-line:max-line-length\n            var tooltipDiv = createElement('div', { className: 'e-pv-container-tooltip', id: this.pdfViewer.element.id + '_container_tooltip' });\n            this.pdfViewer.element.appendChild(tooltipDiv);\n            // tslint:disable-next-line:max-line-length\n            this.toastObject = new Toast({ title: text, target: this.pdfViewer.element, close: this.onTooltipClose.bind(this), position: { X: 0, Y: 0 }, animation: { hide: { duration: 200, effect: 'FadeOut' } } });\n            this.toastObject.appendTo(tooltipDiv);\n            var y = this.pdfViewer.element.clientHeight * 0.65;\n            var x = (this.pdfViewer.element.clientWidth - tooltipDiv.clientWidth) / 2;\n            this.isTooltipCreated = true;\n            this.toastObject.show({ position: { X: x, Y: y } });\n            var tooltipChild = tooltipDiv.firstElementChild;\n            if (tooltipChild) {\n                tooltipChild.style.width = 'auto';\n            }\n        }\n        else {\n            if (this.toastObject) {\n                this.toastObject.title = text;\n                var tooltipElement = this.pdfViewerBase.getElement('_container_tooltip');\n                var tooltipChild = tooltipElement.firstElementChild;\n                if (tooltipChild) {\n                    tooltipChild.style.width = 'auto';\n                    tooltipChild.firstElementChild.firstElementChild.textContent = text;\n                }\n            }\n        }\n    };\n    NavigationPane.prototype.onTooltipClose = function (args) {\n        this.isTooltipCreated = false;\n        var tooltipElement = this.pdfViewerBase.getElement('_container_tooltip');\n        this.pdfViewer.textSearchModule.isMessagePopupOpened = false;\n        this.toastObject.destroy();\n        tooltipElement.parentElement.removeChild(tooltipElement);\n        this.toastObject = null;\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.toolbarResize = function () {\n        if (this.searchInput) {\n            this.searchInput.style.width = 'auto';\n            this.setSearchInputWidth();\n        }\n    };\n    NavigationPane.prototype.createSidebarToolBar = function () {\n        // tslint:disable-next-line:max-line-length\n        this.thumbnailButton = createElement('button', { id: this.pdfViewer.element.id + '_thumbnail-view', attrs: { 'disabled': 'disabled' } });\n        this.thumbnailButton.className = 'e-pv-tbar-btn e-pv-thumbnail-view-button e-btn';\n        // tslint:disable-next-line:max-line-length\n        var thumbnailButtonSpan = createElement('span', { id: this.pdfViewer.element.id + '_thumbnail-view' + '_icon', className: 'e-pv-thumbnail-view-disable-icon e-pv-icon' });\n        this.thumbnailButton.appendChild(thumbnailButtonSpan);\n        // tslint:disable-next-line:max-line-length\n        var thumbnailTooltip = new Tooltip({ content: this.pdfViewer.localeObj.getConstant('Page Thumbnails'), opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n        thumbnailTooltip.appendTo(this.thumbnailButton);\n        // tslint:disable-next-line:max-line-length\n        this.bookmarkButton = createElement('button', { id: this.pdfViewer.element.id + '_bookmark', attrs: { 'disabled': 'disabled' } });\n        this.bookmarkButton.className = 'e-pv-tbar-btn e-pv-bookmark-button e-btn';\n        // tslint:disable-next-line:max-line-length\n        var buttonSpan = createElement('span', { id: this.pdfViewer.element.id + '_bookmark' + '_icon', className: 'e-pv-bookmark-disable-icon e-pv-icon' });\n        this.bookmarkButton.appendChild(buttonSpan);\n        // tslint:disable-next-line:max-line-length\n        var bookMarkTooltip = new Tooltip({ content: this.pdfViewer.localeObj.getConstant('Bookmarks'), opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n        bookMarkTooltip.appendTo(this.bookmarkButton);\n        this.sideBarToolbar.appendChild(this.thumbnailButton);\n        this.sideBarToolbar.appendChild(this.bookmarkButton);\n        this.thumbnailButton.addEventListener('click', this.sideToolbarOnClick);\n        this.bookmarkButton.addEventListener('click', this.bookmarkButtonOnClick);\n    };\n    NavigationPane.prototype.onTooltipBeforeOpen = function (args) {\n        if (!this.pdfViewer.toolbarSettings.showTooltip) {\n            args.cancel = true;\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.enableThumbnailButton = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.removeAttribute('disabled');\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-disable-icon');\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-icon');\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.enableBookmarkButton = function () {\n        if (this.bookmarkButton) {\n            this.bookmarkButton.removeAttribute('disabled');\n            this.bookmarkButton.children[0].classList.remove('e-pv-bookmark-disable-icon');\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-icon');\n        }\n    };\n    NavigationPane.prototype.createSidebarTitleCloseButton = function () {\n        this.closeDiv = createElement('button', { id: this.pdfViewer.element.id + '_close_btn' });\n        this.closeDiv.className = 'e-btn e-pv-tbar-btn e-pv-title-close-div e-btn';\n        if (this.pdfViewer.enableRtl) {\n            this.closeDiv.style.left = 8 + 'px';\n        }\n        else {\n            this.closeDiv.style.left = this.closeButtonLeft + 'px';\n        }\n        // tslint:disable-next-line:max-line-length\n        var buttonSpan = createElement('span', { id: this.pdfViewer.element.id + '_close' + '_icon', className: 'e-pv-title-close-icon e-pv-icon' });\n        this.closeDiv.appendChild(buttonSpan);\n        this.sideBarTitleContainer.appendChild(this.closeDiv);\n        this.closeDiv.addEventListener('click', this.sideToolbarOnClose);\n    };\n    NavigationPane.prototype.createResizeIcon = function () {\n        // tslint:disable-next-line:max-line-length\n        var resizeIcon = createElement('div', { id: this.pdfViewer.element.id + '_resize', className: 'e-pv-resize-icon e-pv-icon' });\n        resizeIcon.style.top = (this.sideBarToolbar.clientHeight) / 2 + 'px';\n        resizeIcon.style.position = 'absolute';\n        resizeIcon.addEventListener('click', this.sideToolbarOnClose);\n        resizeIcon.addEventListener('mouseover', this.resizeIconMouseOver);\n        this.sideBarResizer.appendChild(resizeIcon);\n    };\n    Object.defineProperty(NavigationPane.prototype, \"outerContainerWidth\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (!this.mainContainerWidth) {\n                this.mainContainerWidth = this.pdfViewerBase.mainContainer.clientWidth;\n            }\n            return this.mainContainerWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigationPane.prototype, \"sideToolbarWidth\", {\n        /**\n         *  @private\n         */\n        get: function () {\n            if (this.sideBarToolbar) {\n                return this.sideBarToolbar.clientWidth;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigationPane.prototype, \"sideBarContentContainerWidth\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.sideBarContentContainer) {\n                return this.sideBarContentContainer.clientWidth;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    NavigationPane.prototype.updateViewerContainerOnClose = function () {\n        var proxy = this;\n        if (proxy.sideBarContentContainer) {\n            proxy.sideBarContentContainer.style.display = 'none';\n            if (this.pdfViewer.enableRtl) {\n                proxy.pdfViewerBase.viewerContainer.style.right = (proxy.sideToolbarWidth) + 'px';\n            }\n            else {\n                proxy.pdfViewerBase.viewerContainer.style.left = (proxy.sideToolbarWidth) + 'px';\n            }\n            proxy.pdfViewerBase.viewerContainer.style.width = (proxy.pdfViewer.element.clientWidth - proxy.sideToolbarWidth) + 'px';\n            proxy.pdfViewerBase.pageContainer.style.width = proxy.pdfViewerBase.viewerContainer.clientWidth + 'px';\n            proxy.pdfViewerBase.updateZoomValue();\n        }\n    };\n    NavigationPane.prototype.updateViewerContainerOnExpand = function () {\n        var proxy = this;\n        if (proxy.sideBarContentContainer) {\n            proxy.sideBarContentContainer.style.display = 'block';\n            if (this.pdfViewer.enableRtl) {\n                // tslint:disable-next-line:max-line-length\n                proxy.pdfViewerBase.viewerContainer.style.right = proxy.getViewerContainerLeft() + 'px';\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                proxy.pdfViewerBase.viewerContainer.style.left = proxy.getViewerContainerLeft() + 'px';\n            }\n            // tslint:disable-next-line:max-line-length\n            proxy.pdfViewerBase.viewerContainer.style.width = (proxy.pdfViewer.element.clientWidth - this.getViewerContainerLeft()) + 'px';\n            proxy.pdfViewerBase.pageContainer.style.width = proxy.pdfViewerBase.viewerContainer.clientWidth + 'px';\n            proxy.pdfViewerBase.updateZoomValue();\n            proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.pdfViewerBase.currentPageNumber - 1);\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.getViewerContainerLeft = function () {\n        return (this.sideToolbarWidth + this.sideBarContentContainerWidth);\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.getViewerMainContainerWidth = function () {\n        return this.pdfViewer.element.clientWidth - this.sideToolbarWidth;\n    };\n    NavigationPane.prototype.setThumbnailSelectionIconTheme = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-icon');\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-selection-icon');\n            this.thumbnailButton.classList.add('e-pv-thumbnail-view-button-selection');\n        }\n    };\n    NavigationPane.prototype.removeThumbnailSelectionIconTheme = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-icon');\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-selection-icon');\n            this.thumbnailButton.classList.remove('e-pv-thumbnail-view-button-selection');\n        }\n    };\n    NavigationPane.prototype.resetThumbnailIcon = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-icon');\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-disable-icon');\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.resetThumbnailView = function () {\n        if (this.sideBarContentContainer) {\n            this.sideBarContentContainer.style.display = 'none';\n            if (this.pdfViewer.enableRtl) {\n                this.pdfViewerBase.viewerContainer.style.left = 1 + 'px';\n            }\n            else {\n                this.pdfViewerBase.viewerContainer.style.left = (this.sideToolbarWidth) + 'px';\n            }\n            this.pdfViewerBase.viewerContainer.style.width = (this.pdfViewer.element.clientWidth - this.sideToolbarWidth) + 'px';\n            this.pdfViewerBase.pageContainer.style.width = this.pdfViewerBase.viewerContainer.clientWidth + 'px';\n            this.thumbnailButton.setAttribute('disabled', 'disabled');\n            this.removeThumbnailSelectionIconTheme();\n            this.resetThumbnailIcon();\n        }\n    };\n    NavigationPane.prototype.setBookmarkSelectionIconTheme = function () {\n        if (this.bookmarkButton) {\n            this.bookmarkButton.children[0].classList.remove('e-pv-bookmark-icon');\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-selection-icon');\n            this.bookmarkButton.classList.add('e-pv-bookmark-button-selection');\n        }\n    };\n    NavigationPane.prototype.removeBookmarkSelectionIconTheme = function () {\n        if (this.bookmarkButton) {\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-icon');\n            this.bookmarkButton.children[0].classList.remove('e-pv-bookmark-selection-icon');\n            this.bookmarkButton.classList.remove('e-pv-bookmark-button-selection');\n        }\n    };\n    NavigationPane.prototype.sideToolbarOnMouseup = function (event) {\n        if (event.target === this.sideBarToolbar) {\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    NavigationPane.prototype.sideBarTitleOnMouseup = function (event) {\n        this.pdfViewerBase.focusViewerContainer();\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.disableBookmarkButton = function () {\n        if (this.sideBarContentContainer) {\n            this.sideBarContentContainer.style.display = 'none';\n            this.bookmarkButton.setAttribute('disabled', 'disabled');\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-disable-icon');\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.clear = function () {\n        this.removeBookmarkSelectionIconTheme();\n        this.removeThumbnailSelectionIconTheme();\n    };\n    NavigationPane.prototype.getModuleName = function () {\n        return 'NavigationPane';\n    };\n    return NavigationPane;\n}());\nexport { NavigationPane };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { createElement, Browser } from '@syncfusion/ej2-base';\nimport { Dialog, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TextLayer, ContextMenu } from '../index';\nimport { NavigationPane } from './navigation-pane';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\n/**\n * The `PdfViewerBase` module is used to handle base methods of PDF viewer.\n * @hidden\n */\nvar PdfViewerBase = /** @class */ (function () {\n    function PdfViewerBase(viewer) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.pageSize = [];\n        /**\n         * @private\n         */\n        this.pageCount = 0;\n        /**\n         * @private\n         */\n        this.currentPageNumber = 0;\n        this.isDocumentLoaded = false;\n        /**\n         * @private\n         */\n        this.renderedPagesList = [];\n        /**\n         * @private\n         */\n        this.pageGap = 8;\n        this.pageLeft = 5;\n        this.sessionLimit = 1000;\n        this.pageStopValue = 300;\n        this.toolbarHeight = 56;\n        this.pageLimit = 0;\n        this.previousPage = 0;\n        this.isViewerMouseDown = false;\n        this.isViewerMouseWheel = false;\n        this.scrollPosition = 0;\n        this.sessionStorage = [];\n        this.pointerCount = 0;\n        this.pointersForTouch = [];\n        this.isPasswordAvailable = false;\n        /**\n         * @private\n         */\n        this.reRenderedCount = 0;\n        this.mouseX = 0;\n        this.mouseY = 0;\n        this.touchClientX = 0;\n        this.touchClientY = 0;\n        this.previousTime = 0;\n        this.currentTime = 0;\n        this.isTouchScrolled = false;\n        this.isLongTouchPropagated = false;\n        // tslint:disable-next-line\n        this.longTouchTimer = null;\n        this.isViewerContainerDoubleClick = false;\n        // tslint:disable-next-line\n        this.dblClickTimer = null;\n        /**\n         * @private\n         */\n        this.pinchZoomStorage = [];\n        /**\n         * @private\n         */\n        this.isTextSelectionDisabled = false;\n        this.isPanMode = false;\n        this.dragX = 0;\n        this.dragY = 0;\n        this.isScrollbarMouseDown = false;\n        this.scrollX = 0;\n        this.scrollY = 0;\n        this.ispageMoved = false;\n        this.isThumb = false;\n        this.isTapHidden = false;\n        // tslint:disable-next-line\n        this.singleTapTimer = null;\n        this.tapCount = 0;\n        /**\n         * @private\n         */\n        this.onWindowResize = function () {\n            var proxy = _this;\n            if (_this.pdfViewer.enableRtl) {\n                // tslint:disable-next-line:max-line-length\n                proxy.viewerContainer.style.right = (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0) + 'px';\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                proxy.viewerContainer.style.left = (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0) + 'px';\n            }\n            // tslint:disable-next-line:max-line-length\n            var viewerWidth = (proxy.pdfViewer.element.clientWidth - (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0));\n            proxy.viewerContainer.style.width = viewerWidth + 'px';\n            if (proxy.pdfViewer.toolbarModule) {\n                // tslint:disable-next-line:max-line-length\n                proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, 56);\n            }\n            else {\n                proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, 0);\n            }\n            if (proxy.pdfViewer.bookmarkViewModule && Browser.isDevice) {\n                var bookmarkContainer = proxy.getElement('_bookmarks_container');\n                if (bookmarkContainer) {\n                    bookmarkContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, 0);\n                }\n            }\n            proxy.pageContainer.style.width = proxy.viewerContainer.clientWidth + 'px';\n            if (proxy.pdfViewer.toolbarModule) {\n                // tslint:disable-next-line:max-line-length\n                proxy.pdfViewer.toolbarModule.onToolbarResize((proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerMainContainerWidth() : proxy.pdfViewer.element.clientWidth));\n            }\n            if (_this.pdfViewer.enableToolbar && _this.pdfViewer.thumbnailViewModule) {\n                proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.currentPageNumber - 1);\n            }\n            if (proxy.pdfViewer.textSearchModule && !Browser.isDevice) {\n                proxy.pdfViewer.textSearchModule.textSearchBoxOnResize();\n            }\n            if (!proxy.navigationPane.isBookmarkListOpen) {\n                proxy.updateZoomValue();\n            }\n            if (Browser.isDevice) {\n                proxy.mobileScrollerContainer.style.left = (viewerWidth - parseFloat(proxy.mobileScrollerContainer.style.width)) + 'px';\n                proxy.mobilePageNoContainer.style.left = (viewerWidth / 2) - (parseFloat(proxy.mobilePageNoContainer.style.width) / 2) + 'px';\n                proxy.mobilePageNoContainer.style.top = (proxy.pdfViewer.element.clientHeight / 2) + 'px';\n                proxy.updateMobileScrollerPosition();\n            }\n        };\n        this.viewerContainerOnMousedown = function (event) {\n            if (event.button === 0) {\n                _this.isViewerMouseDown = true;\n                if (event.detail === 1) {\n                    _this.focusViewerContainer();\n                }\n                _this.scrollPosition = _this.viewerContainer.scrollTop / _this.getZoomFactor();\n                _this.mouseX = event.clientX;\n                _this.mouseY = event.clientY;\n                // tslint:disable-next-line\n                var isIE = !!document.documentMode;\n                if (_this.pdfViewer.textSelectionModule && !_this.isClickedOnScrollBar(event) && !_this.isTextSelectionDisabled) {\n                    if (!isIE) {\n                        event.preventDefault();\n                    }\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                }\n            }\n            if (_this.isPanMode) {\n                _this.dragX = event.pageX;\n                _this.dragY = event.pageY;\n                // tslint:disable-next-line:max-line-length\n                if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer) && _this.isPanMode) {\n                    _this.viewerContainer.style.cursor = 'grabbing';\n                }\n            }\n        };\n        this.viewerContainerOnMouseup = function (event) {\n            if (_this.isViewerMouseDown) {\n                if (_this.scrollHoldTimer) {\n                    clearTimeout(_this.scrollHoldTimer);\n                    _this.scrollHoldTimer = null;\n                }\n                if ((_this.scrollPosition * _this.getZoomFactor()) !== _this.viewerContainer.scrollTop) {\n                    _this.pageViewScrollChanged(_this.currentPageNumber);\n                }\n            }\n            if (event.button === 0) {\n                // 0 is for left button.\n                var eventTarget = event.target;\n                if (eventTarget.classList.contains('e-pv-page-canvas')) {\n                    var idStringArray = eventTarget.id.split('_');\n                    // tslint:disable-next-line\n                    _this.pdfViewer.firePageClick(event.offsetX, event.offsetY, parseInt(idStringArray[idStringArray.length - 1]) + 1);\n                }\n                // tslint:disable-next-line:max-line-length\n                if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer) && _this.isPanMode) {\n                    _this.viewerContainer.style.cursor = 'move';\n                    _this.viewerContainer.style.cursor = '-webkit-grab';\n                    _this.viewerContainer.style.cursor = '-moz-grab';\n                    _this.viewerContainer.style.cursor = 'grab';\n                }\n            }\n            _this.isViewerMouseDown = false;\n        };\n        this.viewerContainerOnMouseWheel = function (event) {\n            _this.isViewerMouseWheel = true;\n            if (_this.getRerenderCanvasCreated()) {\n                event.preventDefault();\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.pageRerenderOnMouseWheel();\n                if (event.ctrlKey) {\n                    event.preventDefault();\n                }\n                _this.pdfViewer.magnificationModule.fitPageScrollMouseWheel(event);\n            }\n            if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                if (_this.isViewerMouseDown) {\n                    if (!event.target.classList.contains('e-pv-text')) {\n                        _this.pdfViewer.textSelectionModule.textSelectionOnMouseWheel(_this.currentPageNumber - 1);\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnKeyDown = function (event) {\n            var isMac = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) ? true : false;\n            var isCommandKey = isMac ? event.metaKey : false;\n            if (event.ctrlKey || isCommandKey) {\n                // add keycodes if shift key is used.\n                if ((event.shiftKey && !isMac) || (isMac && !event.shiftKey)) {\n                    switch (event.keyCode) {\n                        case 38: // up arrow\n                        case 33: // page up\n                            event.preventDefault();\n                            if (_this.currentPageNumber !== 1) {\n                                _this.updateScrollTop(0);\n                            }\n                            break;\n                        case 40: // down arrow\n                        case 34: // page down\n                            event.preventDefault();\n                            if (_this.currentPageNumber !== _this.pageCount) {\n                                _this.updateScrollTop(_this.pageCount - 1);\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                }\n                switch (event.keyCode) {\n                    case 79: // o key\n                        if (_this.pdfViewer.toolbarModule && _this.pdfViewer.enableToolbar) {\n                            _this.pdfViewer.toolbarModule.openFileDialogBox(event);\n                        }\n                        break;\n                    case 67: // c key\n                        if (_this.pdfViewer.textSelectionModule && _this.pdfViewer.enableTextSelection && !_this.isTextSelectionDisabled) {\n                            event.preventDefault();\n                            _this.pdfViewer.textSelectionModule.copyText();\n                        }\n                        break;\n                    case 70: // f key\n                        if (_this.pdfViewer.textSearchModule && _this.pdfViewer.enableTextSearch) {\n                            event.preventDefault();\n                            _this.pdfViewer.toolbarModule.textSearchButtonHandler();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.magnifyBehaviorKeyDown(event);\n            }\n        };\n        this.viewerContainerOnMousemove = function (event) {\n            _this.mouseX = event.clientX;\n            _this.mouseY = event.clientY;\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (_this.isViewerMouseDown) {\n                // tslint:disable-next-line:max-line-length\n                if (_this.pdfViewer.textSelectionModule && _this.pdfViewer.enableTextSelection && !_this.isTextSelectionDisabled) {\n                    // text selection won't perform if we start the selection from hyperlink content by commenting this line.\n                    // this region block the toc/hyperlink navigation on sometimes.\n                    // if ((event.target as HTMLElement).classList.contains('e-pv-hyperlink') && this.pdfViewer.linkAnnotationModule) {\n                    // this.pdfViewer.linkAnnotationModule.modifyZindexForHyperlink((event.target as HTMLElement), true);\n                    // }\n                    if (!isIE) {\n                        event.preventDefault();\n                        _this.pdfViewer.textSelectionModule.textSelectionOnMouseMove(event.target, _this.mouseX, _this.mouseY);\n                    }\n                    else {\n                        var selection = window.getSelection();\n                        if (!selection.type && !selection.isCollapsed && selection.anchorNode !== null) {\n                            _this.pdfViewer.textSelectionModule.isTextSelection = true;\n                        }\n                    }\n                }\n                else {\n                    event.preventDefault();\n                }\n            }\n            if (_this.isPanMode) {\n                _this.panOnMouseMove(event);\n            }\n        };\n        this.panOnMouseMove = function (event) {\n            // tslint:disable-next-line:max-line-length\n            if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer)) {\n                if (_this.isViewerMouseDown) {\n                    var deltaX = _this.dragX - event.pageX;\n                    var deltaY = _this.dragY - event.pageY;\n                    _this.viewerContainer.scrollTop = _this.viewerContainer.scrollTop + deltaY;\n                    _this.viewerContainer.scrollLeft = _this.viewerContainer.scrollLeft + deltaX;\n                    _this.viewerContainer.style.cursor = 'move';\n                    _this.viewerContainer.style.cursor = '-webkit-grabbing';\n                    _this.viewerContainer.style.cursor = '-moz-grabbing';\n                    _this.viewerContainer.style.cursor = 'grabbing';\n                    _this.dragX = event.pageX;\n                    _this.dragY = event.pageY;\n                }\n                else {\n                    if (!_this.navigationPane.isNavigationPaneResized) {\n                        _this.viewerContainer.style.cursor = 'move';\n                        _this.viewerContainer.style.cursor = '-webkit-grab';\n                        _this.viewerContainer.style.cursor = '-moz-grab';\n                        _this.viewerContainer.style.cursor = 'grab';\n                    }\n                }\n            }\n            else {\n                if (!_this.navigationPane.isNavigationPaneResized) {\n                    _this.viewerContainer.style.cursor = 'auto';\n                }\n            }\n        };\n        this.viewerContainerOnMouseLeave = function (event) {\n            if (_this.isViewerMouseDown) {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.textSelectionOnMouseLeave(event);\n                }\n            }\n        };\n        this.viewerContainerOnMouseEnter = function (event) {\n            if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                _this.pdfViewer.textSelectionModule.clear();\n            }\n        };\n        this.viewerContainerOnMouseOver = function (event) {\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (_this.isViewerMouseDown) {\n                if (!isIE) {\n                    event.preventDefault();\n                }\n            }\n        };\n        this.viewerContainerOnClick = function (event) {\n            if (event.type === 'dblclick') {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    if (event.target.classList.contains('e-pv-text')) {\n                        _this.isViewerContainerDoubleClick = true;\n                        _this.pdfViewer.textSelectionModule.selectAWord(event.target, event.clientX, event.clientY, false);\n                        _this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(true, false);\n                        _this.dblClickTimer = setTimeout(function () { _this.applySelection(); }, 100);\n                    }\n                }\n            }\n            else {\n                if (event.detail === 3) {\n                    if (_this.isViewerContainerDoubleClick) {\n                        clearTimeout(_this.dblClickTimer);\n                        _this.isViewerContainerDoubleClick = false;\n                    }\n                    if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                        _this.pdfViewer.textSelectionModule.selectEntireLine(event);\n                        _this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(true, false);\n                        _this.applySelection();\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnDragStart = function (event) {\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (!isIE) {\n                event.preventDefault();\n            }\n        };\n        // tslint:disable-next-line\n        this.viewerContainerOnContextMenuClick = function (event) {\n            _this.isViewerMouseDown = false;\n        };\n        this.onWindowMouseUp = function (event) {\n            if (event.button === 0) {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    // tslint:disable-next-line:max-line-length\n                    if (event.detail === 1 && !_this.viewerContainer.contains(event.target) && !_this.contextMenuModule.contextMenuElement.contains(event.target)) {\n                        if (window.getSelection().anchorNode !== null) {\n                            _this.pdfViewer.textSelectionModule.textSelectionOnMouseup();\n                        }\n                    }\n                    if (_this.viewerContainer.contains(event.target)) {\n                        if (!_this.isClickedOnScrollBar(event) && !_this.isScrollbarMouseDown) {\n                            _this.pdfViewer.textSelectionModule.textSelectionOnMouseup();\n                        }\n                        else {\n                            if (window.getSelection().anchorNode !== null) {\n                                _this.pdfViewer.textSelectionModule.applySpanForSelection();\n                            }\n                        }\n                    }\n                }\n            }\n            else if (event.button === 2) {\n                if (_this.viewerContainer.contains(event.target)) {\n                    window.getSelection().removeAllRanges();\n                }\n            }\n            if (_this.isViewerMouseDown) {\n                _this.isViewerMouseDown = false;\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.clear();\n                    _this.pdfViewer.textSelectionModule.selectionStartPage = null;\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                return false;\n            }\n            else {\n                return true;\n            }\n        };\n        this.onWindowTouchEnd = function (event) {\n            // tslint:disable-next-line:max-line-length\n            if (!_this.pdfViewer.element.contains(event.target) && !_this.contextMenuModule.contextMenuElement.contains(event.target)) {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                }\n            }\n        };\n        this.viewerContainerOnTouchStart = function (event) {\n            var touchPoints = event.touches;\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.setTouchPoints(touchPoints[0].clientX, touchPoints[0].clientY);\n            }\n            if (touchPoints.length === 1 && !(event.target.classList.contains('e-pv-hyperlink'))) {\n                _this.preventTouchEvent(event);\n            }\n            _this.touchClientX = touchPoints[0].clientX;\n            _this.touchClientY = touchPoints[0].clientY;\n            _this.scrollY = touchPoints[0].clientY;\n            _this.previousTime = new Date().getTime();\n            // tslint:disable-next-line:max-line-length\n            if (touchPoints.length === 1 && !(event.target.classList.contains('e-pv-touch-select-drop') || event.target.classList.contains('e-pv-touch-ellipse'))) {\n                if (Browser.isDevice && _this.pageCount > 0 && !_this.isThumb && !(event.target.classList.contains('e-pv-hyperlink'))) {\n                    _this.handleTaps(touchPoints);\n                }\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                    _this.contextMenuModule.contextMenuObj.close();\n                    // event.preventDefault();\n                    if (!_this.isLongTouchPropagated) {\n                        _this.longTouchTimer = setTimeout(function () { _this.viewerContainerOnLongTouch(event); }, 1000);\n                    }\n                    _this.isLongTouchPropagated = true;\n                }\n            }\n        };\n        this.viewerContainerOnLongTouch = function (event) {\n            _this.touchClientX = event.touches[0].clientX;\n            _this.touchClientY = event.touches[0].clientY;\n            event.preventDefault();\n            if (_this.pdfViewer.textSelectionModule) {\n                _this.pdfViewer.textSelectionModule.initiateTouchSelection(event, _this.touchClientX, _this.touchClientY);\n            }\n        };\n        this.viewerContainerOnPointerDown = function (event) {\n            if (event.pointerType === 'touch') {\n                _this.pointerCount++;\n                if (_this.pointerCount <= 2) {\n                    event.preventDefault();\n                    _this.pointersForTouch.push(event);\n                    if (_this.pointerCount === 2) {\n                        _this.pointerCount = 0;\n                    }\n                    if (_this.pdfViewer.magnificationModule) {\n                        _this.pdfViewer.magnificationModule.setTouchPoints(event.clientX, event.clientY);\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnTouchMove = function (event) {\n            if (Browser.isDevice) {\n                clearTimeout(_this.singleTapTimer);\n                _this.tapCount = 0;\n            }\n            _this.preventTouchEvent(event);\n            var touchPoints = event.touches;\n            if (_this.pdfViewer.magnificationModule) {\n                _this.isTouchScrolled = true;\n                if (touchPoints.length > 1 && _this.pageCount > 0) {\n                    if (Browser.isDevice) {\n                        _this.isTouchScrolled = false;\n                        _this.mobileScrollerContainer.style.display = 'none';\n                    }\n                    // tslint:disable-next-line:max-line-length\n                    _this.pdfViewer.magnificationModule.initiatePinchMove(touchPoints[0].clientX, touchPoints[0].clientY, touchPoints[1].clientX, touchPoints[1].clientY);\n                }\n                else if (touchPoints.length === 1 && _this.getPagesPinchZoomed()) {\n                    if (Browser.isDevice) {\n                        _this.isTouchScrolled = false;\n                        _this.mobileScrollerContainer.style.display = 'none';\n                    }\n                    _this.pdfViewer.magnificationModule.pinchMoveScroll();\n                }\n            }\n            touchPoints = null;\n        };\n        this.viewerContainerOnPointerMove = function (event) {\n            if (event.pointerType === 'touch' && _this.pageCount > 0) {\n                event.preventDefault();\n                if (_this.pointersForTouch.length === 2) {\n                    for (var i = 0; i < _this.pointersForTouch.length; i++) {\n                        if (event.pointerId === _this.pointersForTouch[i].pointerId) {\n                            _this.pointersForTouch[i] = event;\n                            break;\n                        }\n                    }\n                    if (_this.pdfViewer.magnificationModule) {\n                        // tslint:disable-next-line:max-line-length\n                        _this.pdfViewer.magnificationModule.initiatePinchMove(_this.pointersForTouch[0].clientX, _this.pointersForTouch[0].clientY, _this.pointersForTouch[1].clientX, _this.pointersForTouch[1].clientY);\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnTouchEnd = function (event) {\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.pinchMoveEnd();\n            }\n            _this.isLongTouchPropagated = false;\n            clearInterval(_this.longTouchTimer);\n            _this.longTouchTimer = null;\n            if (Browser.isDevice && _this.isTouchScrolled) {\n                _this.currentTime = new Date().getTime();\n                var duration = _this.currentTime - _this.previousTime;\n                // tslint:disable-next-line\n                var difference = _this.scrollY - event.changedTouches[0].pageY;\n                // tslint:disable-next-line\n                var speed = (difference) / (duration);\n                if (Math.abs(speed) > 1.5) {\n                    // tslint:disable-next-line\n                    var scrollTop = (difference) + ((duration) * speed);\n                    _this.viewerContainer.scrollTop += scrollTop;\n                    _this.updateMobileScrollerPosition();\n                }\n            }\n        };\n        this.viewerContainerOnPointerEnd = function (event) {\n            if (event.pointerType === 'touch') {\n                event.preventDefault();\n                if (_this.pdfViewer.magnificationModule) {\n                    _this.pdfViewer.magnificationModule.pinchMoveEnd();\n                }\n                _this.pointersForTouch = [];\n                _this.pointerCount = 0;\n            }\n        };\n        // tslint:disable-next-line\n        this.viewerContainerOnScroll = function (event) {\n            var proxy = _this;\n            var scrollposX = 0;\n            var scrollposY = 0;\n            if (event.touches && Browser.isDevice) {\n                // tslint:disable-next-line\n                var ratio = (_this.viewerContainer.scrollHeight - _this.viewerContainer.clientHeight) / (_this.viewerContainer.clientHeight - _this.toolbarHeight);\n                if (_this.isThumb) {\n                    _this.ispageMoved = true;\n                    _this.mobilePageNoContainer.style.display = 'block';\n                    scrollposX = event.touches[0].pageX - _this.scrollX;\n                    scrollposY = event.touches[0].pageY - _this.viewerContainer.offsetTop;\n                    _this.viewerContainer.scrollTop = scrollposY * ratio;\n                    // tslint:disable-next-line\n                    var containerValue = event.touches[0].pageY;\n                    if (_this.viewerContainer.scrollTop !== 0 && ((containerValue) <= _this.viewerContainer.clientHeight)) {\n                        _this.mobileScrollerContainer.style.top = containerValue + 'px';\n                    }\n                }\n                else {\n                    _this.mobilePageNoContainer.style.display = 'none';\n                    scrollposY = _this.touchClientY - event.touches[0].pageY;\n                    scrollposX = _this.touchClientX - event.touches[0].pageX;\n                    _this.viewerContainer.scrollTop = _this.viewerContainer.scrollTop + (scrollposY);\n                    _this.viewerContainer.scrollLeft = _this.viewerContainer.scrollLeft + (scrollposX);\n                    // tslint:disable-next-line\n                    _this.updateMobileScrollerPosition();\n                    _this.touchClientY = event.touches[0].pageY;\n                    _this.touchClientX = event.touches[0].pageX;\n                }\n            }\n            if (_this.scrollHoldTimer) {\n                clearTimeout(_this.scrollHoldTimer);\n            }\n            var pageIndex = _this.currentPageNumber;\n            _this.scrollHoldTimer = null;\n            _this.contextMenuModule.contextMenuObj.close();\n            var verticalScrollValue = _this.viewerContainer.scrollTop;\n            // tslint:disable-next-line:max-line-length\n            for (var i = 0; i < _this.pageCount; i++) {\n                if (_this.pageSize[i] != null) {\n                    var pageHeight = _this.getPageHeight(i);\n                    // tslint:disable-next-line:max-line-length\n                    if ((verticalScrollValue + _this.pageStopValue) <= (_this.getPageTop(i) + pageHeight)) {\n                        _this.currentPageNumber = i + 1;\n                        break;\n                    }\n                }\n            }\n            _this.renderElementsVirtualScroll(_this.currentPageNumber);\n            // tslint:disable-next-line:max-line-length\n            if (!_this.isViewerMouseDown && !_this.getPinchZoomed() && !_this.getPinchScrolled() && !_this.getPagesPinchZoomed() || _this.isViewerMouseWheel) {\n                _this.pageViewScrollChanged(_this.currentPageNumber);\n                _this.isViewerMouseWheel = false;\n            }\n            else {\n                _this.showPageLoadingIndicator(_this.currentPageNumber - 1, false);\n            }\n            if (_this.pdfViewer.toolbarModule) {\n                _this.pdfViewer.toolbarModule.updateCurrentPage(_this.currentPageNumber);\n                if (!Browser.isDevice) {\n                    _this.pdfViewer.toolbarModule.updateNavigationButtons();\n                }\n            }\n            if (pageIndex !== _this.currentPageNumber) {\n                if (proxy.pdfViewer.thumbnailViewModule && !Browser.isDevice) {\n                    proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.currentPageNumber - 1);\n                    proxy.pdfViewer.thumbnailViewModule.isThumbnailClicked = false;\n                }\n                _this.pdfViewer.firePageChange(pageIndex);\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.updatePagesForFitPage(_this.currentPageNumber - 1);\n            }\n            var currentPage = _this.getElement('_pageDiv_' + (_this.currentPageNumber - 1));\n            if (currentPage) {\n                currentPage.style.visibility = 'visible';\n            }\n            if (_this.isViewerMouseDown) {\n                if (_this.getRerenderCanvasCreated()) {\n                    _this.pdfViewer.magnificationModule.clearIntervalTimer();\n                }\n                _this.scrollHoldTimer = setTimeout(function () { _this.initiatePageViewScrollChanged(); }, 100);\n            }\n        };\n        this.pdfViewer = viewer;\n        this.navigationPane = new NavigationPane(this.pdfViewer, this);\n        this.textLayer = new TextLayer(this.pdfViewer, this);\n    }\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initializeComponent = function () {\n        var element = document.getElementById(this.pdfViewer.element.id);\n        if (element) {\n            if (Browser.isDevice) {\n                this.pdfViewer.element.classList.add('e-pv-mobile-view');\n            }\n            var controlWidth = '100%';\n            var toolbarDiv = void 0;\n            // tslint:disable-next-line:max-line-length\n            this.viewerMainContainer = createElement('div', { id: this.pdfViewer.element.id + '_viewerMainContainer', className: 'e-pv-viewer-main-container' });\n            // tslint:disable-next-line:max-line-length\n            this.viewerContainer = createElement('div', { id: this.pdfViewer.element.id + '_viewerContainer', className: 'e-pv-viewer-container' });\n            if (Browser.isDevice) {\n                this.createMobilePageNumberContainer();\n            }\n            this.viewerContainer.tabIndex = 0;\n            if (this.pdfViewer.enableRtl) {\n                this.viewerContainer.style.direction = 'rtl';\n            }\n            element.style.touchAction = 'pan-x pan-y';\n            this.setMaximumHeight(element);\n            // tslint:disable-next-line:max-line-length\n            this.mainContainer = createElement('div', { id: this.pdfViewer.element.id + '_mainContainer', className: 'e-pv-main-container' });\n            this.mainContainer.appendChild(this.viewerMainContainer);\n            element.appendChild(this.mainContainer);\n            if (this.pdfViewer.toolbarModule) {\n                this.navigationPane.initializeNavigationPane();\n                toolbarDiv = this.pdfViewer.toolbarModule.intializeToolbar(controlWidth);\n            }\n            if (toolbarDiv) {\n                // tslint:disable-next-line:max-line-length\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 56);\n            }\n            else {\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 0);\n            }\n            // tslint:disable-next-line:max-line-length\n            var viewerWidth = this.pdfViewer.element.clientWidth;\n            if (!Browser.isDevice) {\n                viewerWidth = viewerWidth - (this.navigationPane.sideBarToolbar ? this.navigationPane.getViewerContainerLeft() : 0);\n            }\n            this.viewerContainer.style.width = viewerWidth + 'px';\n            this.viewerMainContainer.appendChild(this.viewerContainer);\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.left = (viewerWidth - parseFloat(this.mobileScrollerContainer.style.width)) + 'px';\n                this.mobilePageNoContainer.style.left = (viewerWidth / 2) - (parseFloat(this.mobilePageNoContainer.style.width) / 2) + 'px';\n                this.mobilePageNoContainer.style.top = (this.pdfViewer.element.clientHeight / 2) + 'px';\n                this.mobilePageNoContainer.style.display = 'none';\n                this.mobilePageNoContainer.appendChild(this.mobilecurrentPageContainer);\n                this.mobilePageNoContainer.appendChild(this.mobilenumberContainer);\n                this.mobilePageNoContainer.appendChild(this.mobiletotalPageContainer);\n                this.viewerContainer.appendChild(this.mobilePageNoContainer);\n                this.viewerMainContainer.appendChild(this.mobileScrollerContainer);\n                this.mobileScrollerContainer.appendChild(this.mobileSpanContainer);\n            }\n            // tslint:disable-next-line:max-line-length\n            this.pageContainer = createElement('div', { id: this.pdfViewer.element.id + '_pageViewContainer', className: 'e-pv-page-container' });\n            this.viewerContainer.appendChild(this.pageContainer);\n            this.pageContainer.style.width = this.viewerContainer.clientWidth + 'px';\n            if (toolbarDiv && this.pdfViewer.thumbnailViewModule && !Browser.isDevice) {\n                this.pdfViewer.thumbnailViewModule.createThumbnailContainer();\n            }\n            this.createPrintPopup();\n            if (Browser.isDevice) {\n                this.createGoToPagePopup();\n            }\n            this.waitingPopup = createElement('div', { id: this.pdfViewer.element.id + '_loadingIndicator' });\n            this.viewerContainer.appendChild(this.waitingPopup);\n            createSpinner({ target: this.waitingPopup, cssClass: 'e-spin-center' });\n            this.setLoaderProperties(this.waitingPopup);\n            this.contextMenuModule = new ContextMenu(this.pdfViewer, this);\n            this.contextMenuModule.createContextMenu();\n            this.wireEvents();\n            if (this.pdfViewer.textSearchModule && !Browser.isDevice) {\n                this.pdfViewer.textSearchModule.createTextSearchBox();\n            }\n            if (this.pdfViewer.documentPath) {\n                this.pdfViewer.load(this.pdfViewer.documentPath, null);\n            }\n        }\n    };\n    PdfViewerBase.prototype.createMobilePageNumberContainer = function () {\n        // tslint:disable-next-line:max-line-length\n        this.mobilePageNoContainer = createElement('div', { id: this.pdfViewer.element.id + '_mobilepagenoContainer', className: 'e-pv-mobilepagenoscroll-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobilecurrentPageContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobilecurrentpageContainer', className: 'e-pv-mobilecurrentpage-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobilenumberContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobiledashedlineContainer', className: 'e-pv-mobiledashedline-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobiletotalPageContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobiletotalpageContainer', className: 'e-pv-mobiletotalpage-container' });\n        this.mobileScrollerContainer = createElement('div', { id: this.pdfViewer.element.id + '_mobilescrollContainer', className: 'e-pv-mobilescroll-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobileSpanContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobilespanContainer', className: 'e-pv-mobilespanscroll-container' });\n        this.mobileSpanContainer.innerHTML = '1';\n        this.mobilecurrentPageContainer.innerHTML = '1';\n        this.mobilenumberContainer.innerHTML = '&#x2015;&#x2015;&#x2015;&#x2015;&#x2015;';\n        this.mobileScrollerContainer.style.cssFloat = 'right';\n        this.mobileScrollerContainer.style.width = '40px';\n        this.mobileScrollerContainer.style.height = '32px';\n        this.mobileScrollerContainer.style.zIndex = '100';\n        this.mobilePageNoContainer.style.width = '120px';\n        this.mobilePageNoContainer.style.height = '100px';\n        this.mobilePageNoContainer.style.zIndex = '100';\n        this.mobilePageNoContainer.style.position = 'fixed';\n        this.mobileScrollerContainer.addEventListener('touchstart', this.mobileScrollContainerDown.bind(this));\n        this.mobileScrollerContainer.addEventListener('touchend', this.mobileScrollContainerEnd.bind(this));\n        this.mobileScrollerContainer.style.display = 'none';\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initiatePageRender = function (documentData, password) {\n        this.documentId = this.createGUID();\n        this.viewerContainer.scrollTop = 0;\n        this.showLoadingIndicator(true);\n        this.hashId = ' ';\n        this.isFileName = false;\n        this.saveDocumentInfo();\n        documentData = this.checkDocumentData(documentData);\n        this.setFileName();\n        var jsonObject = this.constructJsonObject(documentData, password);\n        this.createAjaxRequest(jsonObject, documentData, password);\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.mobileScrollContainerDown = function (event) {\n        this.ispageMoved = false;\n        this.isThumb = true;\n        this.mobileScrollerContainer.addEventListener('touchmove', this.viewerContainerOnScroll.bind(this), true);\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.setMaximumHeight = function (element) {\n        if (!Browser.isDevice) {\n            element.style.minHeight = '500px';\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.mobileScrollContainerEnd = function (event) {\n        if (!this.ispageMoved) {\n            this.goToPagePopup.show();\n        }\n        this.isThumb = false;\n        this.ispageMoved = false;\n        this.mobileScrollerContainer.removeEventListener('touchmove', this.viewerContainerOnScroll.bind(this), true);\n        this.mobilePageNoContainer.style.display = 'none';\n    };\n    PdfViewerBase.prototype.createAjaxRequest = function (jsonObject, documentData, password) {\n        var _this = this;\n        var request = new XMLHttpRequest();\n        request.open('POST', this.pdfViewer.serviceUrl + '/' + this.pdfViewer.serverActionSettings.load);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8'); // jshint ignore:line\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject)); // jshint ignore:line\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response; // jshint ignore:line\n                // tslint:disable-next-line:max-line-length\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                _this.requestSuccess(data, documentData, password);\n            }\n            else if (request.readyState === 4 && request.status === 400) { // jshint ignore:line\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.openNotificationPopup();\n            _this.showLoadingIndicator(false);\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText); // jshint ignore:line\n        };\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.openNotificationPopup = function () {\n        this.textLayer.createNotificationPopup(this.pdfViewer.localeObj.getConstant('Server error'));\n        this.getElement('_notify').classList.add('e-pv-notification-large-content');\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.requestSuccess = function (data, documentData, password) {\n        if (data && data.pageCount !== undefined) {\n            this.pageCount = data.pageCount;\n            this.hashId = data.hashId;\n            this.documentLiveCount = data.documentLiveCount;\n            this.saveDocumentHashData();\n            this.pageRender(data);\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.display = '';\n                this.mobileScrollerContainer.style.top = (this.toolbarHeight) + 'px';\n            }\n        }\n        else {\n            this.pageCount = 0;\n            this.currentPageNumber = 0;\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.display = 'none';\n            }\n            if (data === 4) {\n                // 4 is error code for encrypted document.\n                this.renderPasswordPopup(documentData, password);\n            }\n            else if (data === 3) {\n                // 3 is error code for corrupted document.\n                this.renderCorruptPopup();\n            }\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.toolbarModule.updateToolbarItems();\n            }\n        }\n        if (this.pdfViewer.thumbnailViewModule && !Browser.isDevice) {\n            this.pdfViewer.thumbnailViewModule.createRequestForThumbnails();\n        }\n        if (this.pdfViewer.bookmarkViewModule) {\n            this.pdfViewer.bookmarkViewModule.createRequestForBookmarks();\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.pageRender = function (data) {\n        this.document = null;\n        this.passwordDialogReset();\n        if (this.passwordPopup) {\n            this.passwordPopup.hide();\n        }\n        var pageIndex = 0;\n        this.initPageDiv(data);\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.isAutoZoom = true;\n            this.pdfViewer.magnificationModule.isInitialLoading = true;\n            this.onWindowResize();\n            this.pdfViewer.magnificationModule.isInitialLoading = false;\n        }\n        this.isDocumentLoaded = true;\n        if (this.renderedPagesList.indexOf(pageIndex) === -1) {\n            this.createRequestForRender(pageIndex);\n            var pageNumber = pageIndex + 1;\n            if (this.pageSize[pageNumber]) {\n                var pageTop = this.getPageTop(pageNumber);\n                var viewerHeight = this.viewerContainer.clientHeight;\n                while (viewerHeight > pageTop) {\n                    if (this.pageSize[pageNumber]) {\n                        this.renderPageElement(pageNumber);\n                        this.createRequestForRender(pageNumber);\n                        pageTop = this.getPageTop(pageNumber);\n                        pageNumber = pageNumber + 1;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        this.showLoadingIndicator(false);\n        this.currentPageNumber = pageIndex + 1;\n        if (this.pdfViewer.toolbarModule) {\n            this.pdfViewer.toolbarModule.uploadedDocumentName = null;\n            this.pdfViewer.toolbarModule.updateCurrentPage(this.currentPageNumber);\n            this.pdfViewer.toolbarModule.updateToolbarItems();\n        }\n        if (Browser.isDevice) {\n            this.mobileSpanContainer.innerHTML = this.currentPageNumber.toString();\n            this.mobilecurrentPageContainer.innerHTML = this.currentPageNumber.toString();\n        }\n    };\n    PdfViewerBase.prototype.renderPasswordPopup = function (documentData, password) {\n        if (!this.isPasswordAvailable) {\n            if (this.isFileName) {\n                this.document = documentData;\n            }\n            else {\n                this.document = 'data:application/pdf;base64,' + documentData;\n            }\n            this.createPasswordPopup();\n            this.pdfViewer.fireDocumentLoadFailed(true, null);\n            this.passwordPopup.show();\n        }\n        else {\n            this.pdfViewer.fireDocumentLoadFailed(true, password);\n            this.promptElement.classList.add('e-pv-password-error');\n            this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Invalid Password');\n            if (this.isFileName) {\n                this.document = documentData;\n            }\n            else {\n                this.document = 'data:application/pdf;base64,' + documentData;\n            }\n            this.passwordPopup.show();\n        }\n    };\n    PdfViewerBase.prototype.renderCorruptPopup = function () {\n        this.pdfViewer.fireDocumentLoadFailed(false, null);\n        this.createCorruptedPopup();\n        this.documentId = null;\n        this.corruptPopup.show();\n    };\n    PdfViewerBase.prototype.constructJsonObject = function (documentData, password) {\n        var jsonObject;\n        if (password) {\n            this.isPasswordAvailable = true;\n            // tslint:disable-next-line:max-line-length\n            jsonObject = { document: documentData, password: password, zoomFactor: 1, isFileName: this.isFileName };\n        }\n        else {\n            this.isPasswordAvailable = false;\n            jsonObject = { document: documentData, zoomFactor: 1, isFileName: this.isFileName };\n        }\n        return jsonObject;\n    };\n    PdfViewerBase.prototype.checkDocumentData = function (documentData) {\n        var base64String = documentData.split('base64,')[1];\n        if (base64String === undefined) {\n            this.isFileName = true;\n            if (this.pdfViewer.fileName === null) {\n                // tslint:disable-next-line:max-line-length\n                var documentStringArray = (documentData.indexOf('\\\\') !== -1) ? documentData.split('\\\\') : documentData.split('/');\n                this.pdfViewer.fileName = documentStringArray[documentStringArray.length - 1];\n                base64String = documentData;\n            }\n        }\n        return base64String;\n    };\n    PdfViewerBase.prototype.setFileName = function () {\n        if (this.pdfViewer.fileName === null) {\n            if (this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.uploadedDocumentName !== null) {\n                this.pdfViewer.fileName = this.pdfViewer.toolbarModule.uploadedDocumentName;\n            }\n            else {\n                this.pdfViewer.fileName = 'undefined.pdf';\n            }\n        }\n    };\n    PdfViewerBase.prototype.saveDocumentInfo = function () {\n        window.sessionStorage.setItem('currentDocument', this.documentId);\n        window.sessionStorage.setItem('serviceURL', this.pdfViewer.serviceUrl);\n        window.sessionStorage.setItem('unload', this.pdfViewer.serverActionSettings.unload);\n    };\n    PdfViewerBase.prototype.saveDocumentHashData = function () {\n        window.sessionStorage.setItem('hashId', this.hashId);\n        window.sessionStorage.setItem('documentLiveCount', this.documentLiveCount.toString());\n    };\n    PdfViewerBase.prototype.updateWaitingPopup = function (pageNumber) {\n        if (this.pageSize[pageNumber].top != null) {\n            // tslint:disable-next-line:max-line-length\n            var pageCurrentRect = this.getElement('_pageDiv_' + pageNumber).getBoundingClientRect();\n            var waitingPopup = this.getElement('_pageDiv_' + pageNumber).firstChild.firstChild;\n            if (pageCurrentRect.top < 0) {\n                if (this.toolbarHeight + (this.viewerContainer.clientHeight / 2) - pageCurrentRect.top < pageCurrentRect.height) {\n                    waitingPopup.style.top = ((this.viewerContainer.clientHeight / 2) - pageCurrentRect.top) - this.toolbarHeight + 'px';\n                }\n                else {\n                    if (this.toolbarHeight + (pageCurrentRect.bottom / 2) - pageCurrentRect.top < pageCurrentRect.height) {\n                        waitingPopup.style.top = ((pageCurrentRect.bottom / 2) - pageCurrentRect.top) - this.toolbarHeight + 'px';\n                    }\n                }\n            }\n            else {\n                waitingPopup.style.top = this.viewerContainer.clientHeight / 2 + 'px';\n            }\n            if (this.getZoomFactor() > 1.25 && pageCurrentRect.width > this.viewerContainer.clientWidth) {\n                waitingPopup.style.left = this.viewerContainer.clientWidth / 2 + 'px';\n            }\n            else {\n                waitingPopup.style.left = pageCurrentRect.width / 2 + 'px';\n            }\n        }\n    };\n    PdfViewerBase.prototype.createWaitingPopup = function (pageNumber) {\n        // tslint:disable-next-line:max-line-length\n        this.waitingPopup = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + pageNumber);\n        if (this.waitingPopup) {\n            createSpinner({ target: this.waitingPopup });\n            this.setLoaderProperties(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.showLoadingIndicator = function (isShow) {\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup != null) {\n            if (isShow) {\n                showSpinner(this.waitingPopup);\n            }\n            else {\n                hideSpinner(this.waitingPopup);\n            }\n        }\n    };\n    PdfViewerBase.prototype.showPageLoadingIndicator = function (pageIndex, isShow) {\n        this.waitingPopup = this.getElement('_pageDiv_' + pageIndex);\n        if (this.waitingPopup != null) {\n            if (isShow) {\n                showSpinner(this.waitingPopup);\n            }\n            else {\n                hideSpinner(this.waitingPopup);\n            }\n            this.updateWaitingPopup(pageIndex);\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.showPrintLoadingIndicator = function (isShow) {\n        this.printWaitingPopup = this.getElement('_printLoadingIndicator');\n        if (this.printWaitingPopup != null) {\n            if (isShow) {\n                this.printMainContainer.style.display = 'block';\n                showSpinner(this.printWaitingPopup);\n            }\n            else {\n                this.printMainContainer.style.display = 'none';\n                hideSpinner(this.printWaitingPopup);\n            }\n        }\n    };\n    PdfViewerBase.prototype.setLoaderProperties = function (element) {\n        var spinnerElement = element.firstChild.firstChild.firstChild;\n        spinnerElement.style.height = '48px';\n        spinnerElement.style.width = '48px';\n        spinnerElement.style.transformOrigin = '24px 24px 24px';\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateScrollTop = function (pageNumber) {\n        // tslint:disable-next-line\n        if (this.pageSize[pageNumber] != null) {\n            this.viewerContainer.scrollTop = this.getPageTop(pageNumber);\n            this.renderElementsVirtualScroll(pageNumber);\n            if (this.renderedPagesList.indexOf(pageNumber) === -1) {\n                this.createRequestForRender(pageNumber);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getZoomFactor = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.zoomFactor;\n        }\n        else {\n            // default value\n            return 1;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPinchZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPinchZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getMagnified = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isMagnified;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPinchScrolled = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPinchScrolled;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPagesPinchZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPagePinchZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPagesZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPagesZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getRerenderCanvasCreated = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isRerenderCanvasCreated;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getDocumentId = function () {\n        return this.documentId;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.download = function () {\n        if (this.pageCount > 0) {\n            this.createRequestForDownload();\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.clear = function (isTriggerEvent) {\n        this.isPasswordAvailable = false;\n        this.isDocumentLoaded = false;\n        this.initiateTextSelectMode();\n        if (!Browser.isDevice) {\n            if (this.navigationPane.sideBarToolbar) {\n                this.navigationPane.clear();\n            }\n        }\n        if (this.pdfViewer.thumbnailViewModule) {\n            this.pdfViewer.thumbnailViewModule.clear();\n        }\n        if (this.pdfViewer.bookmarkViewModule) {\n            this.pdfViewer.bookmarkViewModule.clear();\n        }\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.clearIntervalTimer();\n        }\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.clearTextSelection();\n        }\n        if (this.pdfViewer.textSearchModule) {\n            this.pdfViewer.textSearchModule.resetTextSearch();\n        }\n        if (this.pageSize) {\n            this.pageSize = [];\n        }\n        if (this.renderedPagesList) {\n            this.renderedPagesList = [];\n        }\n        while (this.pageContainer.hasChildNodes()) {\n            this.pageContainer.removeChild(this.pageContainer.lastChild);\n        }\n        if (this.pageCount > 0) {\n            this.unloadDocument(null);\n        }\n        this.windowSessionStorageClear();\n        if (this.pinchZoomStorage) {\n            this.pinchZoomStorage = [];\n        }\n        if (isTriggerEvent && this.pageCount > 0) {\n            this.pdfViewer.fireDocumentUnload(this.pdfViewer.fileName);\n        }\n        this.pdfViewer.fileName = null;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.destroy = function () {\n        if (Browser.isDevice) {\n            this.pdfViewer.element.classList.remove('e-pv-mobile-view');\n        }\n        this.unWireEvents();\n        this.clear(false);\n        this.pageContainer.parentNode.removeChild(this.pageContainer);\n        this.viewerContainer.parentNode.removeChild(this.viewerContainer);\n        if (this.pdfViewer.thumbnailViewModule) {\n            this.pdfViewer.thumbnailViewModule.clear();\n        }\n        if (this.pdfViewer.bookmarkViewModule) {\n            this.pdfViewer.bookmarkViewModule.clear();\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.unloadDocument = function (e) {\n        var _this = this;\n        var documentId = window.sessionStorage.getItem('hashId');\n        var documentLiveCount = window.sessionStorage.getItem('documentLiveCount');\n        if (documentId !== null) {\n            var jsonObject = { hashId: documentId, documentLiveCount: documentLiveCount };\n            var request_1 = new XMLHttpRequest();\n            request_1.open('POST', window.sessionStorage.getItem('serviceURL') + '/' + window.sessionStorage.getItem('unload'), false);\n            request_1.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n            request_1.send(JSON.stringify(jsonObject));\n            // tslint:disable-next-line\n            request_1.onreadystatechange = function (event) {\n                if (request_1.readyState === 4 && request_1.status === 400) {\n                    // error message\n                    _this.pdfViewer.fireAjaxRequestFailed(request_1.status, request_1.statusText);\n                }\n            };\n            // tslint:disable-next-line\n            request_1.onerror = function (event) {\n                _this.pdfViewer.fireAjaxRequestFailed(request_1.status, request_1.statusText);\n            };\n        }\n        window.sessionStorage.removeItem('hashId');\n        window.sessionStorage.removeItem('documentLiveCount');\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.windowSessionStorageClear = function () {\n        window.sessionStorage.removeItem('currentDocument');\n        window.sessionStorage.removeItem('serviceURL');\n        window.sessionStorage.removeItem('unload');\n        this.sessionStorage.forEach(function (element) {\n            window.sessionStorage.removeItem(element);\n        });\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.focusViewerContainer = function () {\n        var scrollX = window.scrollX;\n        var scrollY = window.scrollY;\n        // tslint:disable-next-line\n        var parentNode = this.getScrollParent(this.viewerContainer);\n        var scrollNodeX = 0;\n        var scrollNodeY = 0;\n        if (parentNode !== null) {\n            scrollNodeX = parentNode.scrollLeft;\n            scrollNodeY = parentNode.scrollTop;\n        }\n        this.viewerContainer.focus();\n        // tslint:disable-next-line:max-line-length\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > -1 || navigator.userAgent.indexOf('Edge') !== -1 && parentNode != null) {\n            parentNode.scrollLeft = scrollNodeX;\n            parentNode.scrollTop = scrollNodeY;\n        }\n        else if (parentNode !== null) {\n            parentNode.scrollTo(scrollNodeX, scrollNodeY);\n        }\n        window.scrollTo(scrollX, scrollY);\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.getScrollParent = function (node) {\n        if (node === null || node.nodeName === 'HTML') {\n            return null;\n        }\n        var style = getComputedStyle(node);\n        if (this.viewerContainer.id !== node.id && (style.overflowY === 'scroll' || style.overflowY === 'auto')) {\n            return node;\n        }\n        else {\n            return this.getScrollParent(node.parentNode);\n        }\n    };\n    PdfViewerBase.prototype.createCorruptedPopup = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_corrupted_popup', className: 'e-pv-corrupted-popup' });\n        this.pageContainer.appendChild(popupElement);\n        this.corruptPopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: true, isModal: true,\n            // tslint:disable-next-line:max-line-length\n            header: '<div class=\"e-pv-corrupted-popup-header\"> ' + this.pdfViewer.localeObj.getConstant('File Corrupted') + '</div>', visible: false,\n            // tslint:disable-next-line:max-line-length\n            buttons: [{ buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true }, click: this.closeCorruptPopup.bind(this) }],\n            target: this.pdfViewer.element, beforeClose: function () {\n                _this.corruptPopup.destroy();\n                _this.getElement('_corrupted_popup').remove();\n                _this.corruptPopup = null;\n                _this.waitingPopup = _this.getElement('_loadingIndicator');\n                if (_this.waitingPopup != null) {\n                    hideSpinner(_this.waitingPopup);\n                }\n            }\n        });\n        if (this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            this.corruptPopup.content = '<div id=\"templatertl\" class=\"e-pv-notification-icon-rtl\"> <div class=\"e-pv-corrupted-popup-content-rtl\">' + this.pdfViewer.localeObj.getConstant('File Corrupted Content') + '</div></div>';\n            this.corruptPopup.enableRtl = true;\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            this.corruptPopup.content = '<div id=\"template\" class=\"e-pv-notification-icon\"> <div class=\"e-pv-corrupted-popup-content\">' + this.pdfViewer.localeObj.getConstant('File Corrupted Content') + '</div></div>';\n        }\n        this.corruptPopup.appendTo(popupElement);\n    };\n    PdfViewerBase.prototype.closeCorruptPopup = function () {\n        this.corruptPopup.hide();\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup !== null) {\n            hideSpinner(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.createPrintPopup = function () {\n        var element = document.getElementById(this.pdfViewer.element.id);\n        this.printMainContainer = createElement('div', {\n            id: this.pdfViewer.element.id + '_printcontainer',\n            className: 'e-pv-print-popup-container'\n        });\n        element.appendChild(this.printMainContainer);\n        this.printMainContainer.style.display = 'none';\n        this.printWaitingPopup = createElement('div', {\n            id: this.pdfViewer.element.id + '_printLoadingIndicator',\n            className: 'e-pv-print-loading-container'\n        });\n        this.printMainContainer.appendChild(this.printWaitingPopup);\n        createSpinner({ target: this.printWaitingPopup, cssClass: 'e-spin-center' });\n        this.setLoaderProperties(this.printWaitingPopup);\n    };\n    PdfViewerBase.prototype.createGoToPagePopup = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_goTopage_popup', className: 'e-pv-gotopage-popup' });\n        this.goToPageElement = createElement('span', { id: this.pdfViewer.element.id + '_prompt' });\n        this.goToPageElement.textContent = this.pdfViewer.localeObj.getConstant('Enter pagenumber');\n        popupElement.appendChild(this.goToPageElement);\n        var inputContainer = createElement('span', { className: 'e-pv-text-input' });\n        // tslint:disable-next-line:max-line-length\n        this.goToPageInput = createElement('input', { id: this.pdfViewer.element.id + '_page_input', className: 'e-input' });\n        this.goToPageInput.type = 'text';\n        this.goToPageInput.style.maxWidth = '80%';\n        this.pageNoContainer = createElement('span', { className: '.e-pv-number-ofpages' });\n        inputContainer.appendChild(this.goToPageInput);\n        inputContainer.appendChild(this.pageNoContainer);\n        popupElement.appendChild(inputContainer);\n        this.pageContainer.appendChild(popupElement);\n        this.goToPagePopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true,\n            header: this.pdfViewer.localeObj.getConstant('GoToPage'), visible: false, buttons: [\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') },\n                    click: this.GoToPageCancelClick.bind(this),\n                },\n                // tslint:disable-next-line:max-line-length\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('Apply'), disabled: true, cssClass: 'e-pv-gotopage-apply-btn', isPrimary: true },\n                    click: this.GoToPageApplyClick.bind(this),\n                },\n            ], close: this.closeGoToPagePopUp.bind(this),\n        });\n        this.goToPagePopup.appendTo(popupElement);\n        var goToPageTextBox = new NumericTextBox({ format: '##', showSpinButton: false });\n        goToPageTextBox.appendTo(this.goToPageInput);\n        this.goToPageInput.addEventListener('keyup', function () {\n            // tslint:disable-next-line\n            var inputValue = _this.goToPageInput.value;\n            if (inputValue !== '' && parseFloat(inputValue) > 0 && (_this.pdfViewer.pageCount + 1) > parseFloat(inputValue)) {\n                _this.EnableApplyButton();\n            }\n            else {\n                _this.DisableApplyButton();\n            }\n        });\n    };\n    PdfViewerBase.prototype.closeGoToPagePopUp = function () {\n        this.goToPageInput.value = '';\n        this.DisableApplyButton();\n    };\n    PdfViewerBase.prototype.EnableApplyButton = function () {\n        // tslint:disable-next-line\n        var popupElements = document.getElementsByClassName('e-pv-gotopage-apply-btn')[0];\n        popupElements.removeAttribute('disabled');\n    };\n    PdfViewerBase.prototype.DisableApplyButton = function () {\n        // tslint:disable-next-line\n        var popupElements = document.getElementsByClassName('e-pv-gotopage-apply-btn')[0];\n        popupElements.setAttribute('disabled', true);\n    };\n    PdfViewerBase.prototype.GoToPageCancelClick = function () {\n        this.goToPagePopup.hide();\n    };\n    PdfViewerBase.prototype.GoToPageApplyClick = function () {\n        this.goToPagePopup.hide();\n        // tslint:disable-next-line\n        var pageNumber = this.goToPageInput.value;\n        this.pdfViewer.navigation.goToPage(pageNumber);\n        this.updateMobileScrollerPosition();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateMobileScrollerPosition = function () {\n        if (Browser.isDevice) {\n            // tslint:disable-next-line\n            var ratio = (this.viewerContainer.scrollHeight - this.viewerContainer.clientHeight) / (this.viewerContainer.clientHeight - 56);\n            // tslint:disable-next-line\n            var differenceRatio = (this.viewerContainer.scrollTop) / ratio;\n            if (differenceRatio > this.toolbarHeight) {\n                this.mobileScrollerContainer.style.top = (differenceRatio) + 'px';\n            }\n            else {\n                this.mobileScrollerContainer.style.top = (this.toolbarHeight) + 'px';\n            }\n        }\n    };\n    PdfViewerBase.prototype.createPasswordPopup = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_password_popup', className: 'e-pv-password-popup' });\n        this.promptElement = createElement('span', { id: this.pdfViewer.element.id + '_prompt' });\n        this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Enter Password');\n        popupElement.appendChild(this.promptElement);\n        var inputContainer = createElement('span', { className: 'e-input-group e-pv-password-input' });\n        // tslint:disable-next-line:max-line-length\n        this.passwordInput = createElement('input', { id: this.pdfViewer.element.id + '_password_input', className: 'e-input' });\n        this.passwordInput.type = 'password';\n        this.passwordInput.name = 'Required';\n        inputContainer.appendChild(this.passwordInput);\n        popupElement.appendChild(inputContainer);\n        this.pageContainer.appendChild(popupElement);\n        this.passwordPopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true,\n            header: this.pdfViewer.localeObj.getConstant('Password Protected'), visible: false,\n            close: this.passwordCancel.bind(this), target: this.pdfViewer.element, beforeClose: function () {\n                _this.passwordPopup.destroy();\n                _this.getElement('_password_popup').remove();\n                _this.passwordPopup = null;\n                _this.waitingPopup = _this.getElement('_loadingIndicator');\n                if (_this.waitingPopup != null) {\n                    hideSpinner(_this.waitingPopup);\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.passwordPopup.buttons = [\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.applyPassword.bind(this)\n                },\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.passwordCancelClick.bind(this) }\n            ];\n        }\n        else {\n            this.passwordPopup.buttons = [\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.passwordCancelClick.bind(this) },\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.applyPassword.bind(this)\n                }\n            ];\n        }\n        if (this.pdfViewer.enableRtl) {\n            this.passwordPopup.enableRtl = true;\n        }\n        this.passwordPopup.appendTo(popupElement);\n        this.passwordInput.addEventListener('keyup', function () {\n            if (_this.passwordInput.value === '') {\n                _this.passwordDialogReset();\n            }\n        });\n        this.passwordInput.addEventListener('focus', function () {\n            _this.passwordInput.parentElement.classList.add('e-input-focus');\n        });\n        this.passwordInput.addEventListener('blur', function () {\n            _this.passwordInput.parentElement.classList.remove('e-input-focus');\n        });\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.passwordCancel = function (args) {\n        if (args.isInteraction) {\n            this.clear(false);\n            this.passwordDialogReset();\n            this.passwordInput.value = '';\n        }\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup !== null) {\n            hideSpinner(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.passwordCancelClick = function () {\n        this.clear(false);\n        this.passwordDialogReset();\n        this.passwordPopup.hide();\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup !== null) {\n            hideSpinner(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.passwordDialogReset = function () {\n        if (this.promptElement) {\n            this.promptElement.classList.remove('e-pv-password-error');\n            this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Enter Password');\n            this.passwordInput.value = '';\n        }\n    };\n    PdfViewerBase.prototype.applyPassword = function () {\n        var password = this.passwordInput.value;\n        if (password !== '') {\n            this.pdfViewer.load(this.document, password);\n        }\n        this.focusViewerContainer();\n    };\n    PdfViewerBase.prototype.wireEvents = function () {\n        this.viewerContainer.addEventListener('scroll', this.viewerContainerOnScroll, true);\n        if (Browser.isDevice) {\n            this.viewerContainer.addEventListener('touchmove', this.viewerContainerOnScroll, true);\n        }\n        this.viewerContainer.addEventListener('mousedown', this.viewerContainerOnMousedown);\n        this.viewerContainer.addEventListener('mouseup', this.viewerContainerOnMouseup);\n        this.viewerContainer.addEventListener('wheel', this.viewerContainerOnMouseWheel);\n        this.viewerContainer.addEventListener('mousemove', this.viewerContainerOnMousemove);\n        this.viewerContainer.addEventListener('mouseleave', this.viewerContainerOnMouseLeave);\n        this.viewerContainer.addEventListener('mouseenter', this.viewerContainerOnMouseEnter);\n        this.viewerContainer.addEventListener('mouseover', this.viewerContainerOnMouseOver);\n        this.viewerContainer.addEventListener('click', this.viewerContainerOnClick);\n        this.viewerContainer.addEventListener('dblclick', this.viewerContainerOnClick);\n        this.viewerContainer.addEventListener('dragstart', this.viewerContainerOnDragStart);\n        this.pdfViewer.element.addEventListener('keydown', this.viewerContainerOnKeyDown);\n        window.addEventListener('mouseup', this.onWindowMouseUp);\n        window.addEventListener('touchend', this.onWindowTouchEnd);\n        window.addEventListener('unload', this.unloadDocument);\n        window.addEventListener('resize', this.onWindowResize);\n        // tslint:disable-next-line:max-line-length\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.userAgent.indexOf('Edge') !== -1 || navigator.userAgent.indexOf('Trident') !== -1) {\n            this.viewerContainer.addEventListener('pointerdown', this.viewerContainerOnPointerDown);\n            this.viewerContainer.addEventListener('pointermove', this.viewerContainerOnPointerMove);\n            this.viewerContainer.addEventListener('pointerup', this.viewerContainerOnPointerEnd);\n            this.viewerContainer.addEventListener('pointerleave', this.viewerContainerOnPointerEnd);\n        }\n        else {\n            this.viewerContainer.addEventListener('touchstart', this.viewerContainerOnTouchStart);\n            this.viewerContainer.addEventListener('touchmove', this.viewerContainerOnTouchMove);\n            this.viewerContainer.addEventListener('touchend', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.addEventListener('touchleave', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.addEventListener('touchcancel', this.viewerContainerOnTouchEnd);\n        }\n    };\n    PdfViewerBase.prototype.unWireEvents = function () {\n        this.viewerContainer.removeEventListener('scroll', this.viewerContainerOnScroll, true);\n        if (Browser.isDevice) {\n            this.viewerContainer.removeEventListener('touchmove', this.viewerContainerOnScroll, true);\n        }\n        this.viewerContainer.removeEventListener('mousedown', this.viewerContainerOnMousedown);\n        this.viewerContainer.removeEventListener('mouseup', this.viewerContainerOnMouseup);\n        this.viewerContainer.removeEventListener('wheel', this.viewerContainerOnMouseWheel);\n        this.viewerContainer.removeEventListener('mousemove', this.viewerContainerOnMousemove);\n        this.viewerContainer.removeEventListener('mouseleave', this.viewerContainerOnMouseLeave);\n        this.viewerContainer.removeEventListener('mouseenter', this.viewerContainerOnMouseEnter);\n        this.viewerContainer.removeEventListener('mouseover', this.viewerContainerOnMouseOver);\n        this.viewerContainer.removeEventListener('click', this.viewerContainerOnClick);\n        this.viewerContainer.removeEventListener('dragstart', this.viewerContainerOnDragStart);\n        this.viewerContainer.removeEventListener('contextmenu', this.viewerContainerOnContextMenuClick);\n        this.pdfViewer.element.removeEventListener('keydown', this.viewerContainerOnKeyDown);\n        window.removeEventListener('mouseup', this.onWindowMouseUp);\n        window.removeEventListener('unload', this.unloadDocument);\n        window.removeEventListener('resize', this.onWindowResize);\n        // tslint:disable-next-line:max-line-length\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.userAgent.indexOf('Edge') !== -1 || navigator.userAgent.indexOf('Trident') !== -1) {\n            this.viewerContainer.removeEventListener('pointerdown', this.viewerContainerOnPointerDown);\n            this.viewerContainer.removeEventListener('pointermove', this.viewerContainerOnPointerMove);\n            this.viewerContainer.removeEventListener('pointerup', this.viewerContainerOnPointerEnd);\n            this.viewerContainer.removeEventListener('pointerleave', this.viewerContainerOnPointerEnd);\n        }\n        else {\n            this.viewerContainer.removeEventListener('touchstart', this.viewerContainerOnTouchStart);\n            this.viewerContainer.removeEventListener('touchmove', this.viewerContainerOnTouchMove);\n            this.viewerContainer.removeEventListener('touchend', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.removeEventListener('touchleave', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.removeEventListener('touchcancel', this.viewerContainerOnTouchEnd);\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateZoomValue = function () {\n        if (this.pdfViewer.magnificationModule) {\n            if (this.pdfViewer.magnificationModule.isAutoZoom) {\n                this.pdfViewer.magnificationModule.fitToAuto();\n            }\n            else if (this.pdfViewer.magnificationModule.fitType === 'fitToWidth') {\n                this.pdfViewer.magnificationModule.fitToWidth();\n            }\n        }\n        for (var i = 0; i < this.pageCount; i++) {\n            this.applyLeftPosition(i);\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initiatePanning = function () {\n        this.isPanMode = true;\n        this.textLayer.modifyTextCursor(false);\n        this.disableTextSelectionMode();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initiateTextSelectMode = function () {\n        this.isPanMode = false;\n        this.viewerContainer.style.cursor = 'auto';\n        if (this.pdfViewer.textSelectionModule) {\n            this.textLayer.modifyTextCursor(true);\n            this.pdfViewer.textSelectionModule.enableTextSelectionMode();\n        }\n    };\n    PdfViewerBase.prototype.applySelection = function () {\n        if (window.getSelection().anchorNode !== null) {\n            this.pdfViewer.textSelectionModule.applySpanForSelection();\n        }\n        this.isViewerContainerDoubleClick = false;\n    };\n    PdfViewerBase.prototype.handleTaps = function (touchPoints) {\n        var _this = this;\n        this.singleTapTimer = setTimeout(function () { _this.onSingleTap(touchPoints); }, 300);\n        this.tapCount++;\n        // tslint:disable-next-line\n        var timer = setTimeout(function () { _this.onDoubleTap(touchPoints); }, 200);\n        if (this.tapCount > 2) {\n            this.tapCount = 0;\n        }\n    };\n    PdfViewerBase.prototype.onSingleTap = function (touches) {\n        if (!this.isLongTouchPropagated && !this.navigationPane.isNavigationToolbarVisible) {\n            if (this.pdfViewer.toolbarModule) {\n                if ((this.touchClientX >= touches[0].clientX - 10) && (this.touchClientX <= touches[0].clientX + 10) &&\n                    (this.touchClientY >= touches[0].clientY - 10) && (this.touchClientY <= touches[0].clientY + 10)) {\n                    if (!this.isTapHidden) {\n                        this.viewerContainer.scrollTop -= this.getElement('_toolbarContainer').clientHeight * this.getZoomFactor();\n                        this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 0);\n                        if (this.pdfViewer.toolbar.moreDropDown) {\n                            var dropDown = this.getElement('_more_option-popup');\n                            if (dropDown.firstElementChild) {\n                                dropDown.classList.remove('e-popup-open');\n                                dropDown.classList.add('e-popup-close');\n                                dropDown.removeChild(dropDown.firstElementChild);\n                            }\n                        }\n                    }\n                    else {\n                        this.viewerContainer.scrollTop += this.getElement('_toolbarContainer').clientHeight * this.getZoomFactor();\n                        // tslint:disable-next-line:max-line-length\n                        this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 56);\n                    }\n                    if (this.isTapHidden && Browser.isDevice) {\n                        this.mobileScrollerContainer.style.display = '';\n                        this.updateMobileScrollerPosition();\n                    }\n                    else if (Browser.isDevice) {\n                        this.mobileScrollerContainer.style.display = 'none';\n                    }\n                    this.pdfViewer.toolbarModule.showToolbar(this.isTapHidden);\n                    this.isTapHidden = !this.isTapHidden;\n                }\n                this.tapCount = 0;\n            }\n        }\n    };\n    PdfViewerBase.prototype.onDoubleTap = function (touches) {\n        if (this.tapCount === 2) {\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.display = 'none';\n            }\n            this.tapCount = 0;\n            if ((this.touchClientX >= touches[0].clientX - 10) && (this.touchClientX <= touches[0].clientX + 10) &&\n                (this.touchClientY >= touches[0].clientY - 10) && (this.touchClientY <= touches[0].clientY + 10)) {\n                this.pdfViewer.magnification.onDoubleTapMagnification();\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 0);\n                this.isTapHidden = false;\n                clearTimeout(this.singleTapTimer);\n            }\n        }\n    };\n    PdfViewerBase.prototype.preventTouchEvent = function (event) {\n        if (this.pdfViewer.textSelectionModule) {\n            if (!this.isPanMode && this.pdfViewer.enableTextSelection && !this.isTextSelectionDisabled) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.initPageDiv = function (pageValues) {\n        if (this.pdfViewer.toolbarModule) {\n            this.pdfViewer.toolbarModule.updateTotalPage();\n            if (Browser.isDevice && this.mobiletotalPageContainer) {\n                this.mobiletotalPageContainer.innerHTML = this.pageCount.toString();\n                this.pageNoContainer.innerHTML = '(1-' + this.pageCount.toString() + ')';\n            }\n        }\n        if (this.pageCount > 0) {\n            var topValue = 0;\n            var pageLimit = 0;\n            if (this.pageCount > 100) {\n                // to render 100 pages intially.\n                pageLimit = 100;\n                this.pageLimit = pageLimit;\n            }\n            else {\n                pageLimit = this.pageCount;\n            }\n            for (var i = 0; i < pageLimit; i++) {\n                var pageSize = pageValues.pageSizes[i].split(',');\n                if (pageValues.pageSizes[i - 1] !== null && i !== 0) {\n                    var previousPageHeight = pageValues.pageSizes[i - 1].split(',');\n                    topValue = this.pageGap + parseFloat(previousPageHeight[1]) + topValue;\n                }\n                else {\n                    topValue = this.pageGap;\n                }\n                var size = { width: parseFloat(pageSize[0]), height: parseFloat(pageSize[1]), top: topValue };\n                this.pageSize.push(size);\n            }\n            var limit = this.pageCount < 10 ? this.pageCount : 10;\n            for (var i = 0; i < limit; i++) {\n                this.renderPageContainer(i, this.getPageWidth(i), this.getPageHeight(i), this.getPageTop(i));\n            }\n            // tslint:disable-next-line:max-line-length\n            this.pageContainer.style.height = this.getPageTop(this.pageSize.length - 1) + this.getPageHeight(this.pageSize.length - 1) + 'px';\n            this.pageContainer.style.position = 'relative';\n            if (this.pageLimit === 100) {\n                var pageDiv = this.getElement('_pageDiv_' + this.pageLimit);\n                if (pageDiv === null && this.pageLimit < this.pageCount) {\n                    Promise.all([this.renderPagesVirtually()]);\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderElementsVirtualScroll = function (pageNumber) {\n        var pageValue = pageNumber + 1;\n        if (pageValue > this.pageCount) {\n            pageValue = this.pageCount;\n        }\n        for (var i = pageNumber - 1; i <= pageValue; i++) {\n            if (i !== -1) {\n                this.renderPageElement(i);\n            }\n        }\n        var lowerPageValue = pageNumber - 3;\n        if (lowerPageValue < 0) {\n            lowerPageValue = 0;\n        }\n        for (var i = pageNumber - 1; i >= lowerPageValue; i--) {\n            if (i !== -1) {\n                this.renderPageElement(i);\n            }\n        }\n        for (var j = 0; j < this.pageCount; j++) {\n            if (!((lowerPageValue <= j) && (j <= pageValue))) {\n                var pageDiv = this.getElement('_pageDiv_' + j);\n                var pageCanvas = this.getElement('_pageCanvas_' + j);\n                var textLayer = this.getElement('_textLayer_' + j);\n                if (pageCanvas) {\n                    pageCanvas.parentNode.removeChild(pageCanvas);\n                    if (textLayer) {\n                        if (this.pdfViewer.textSelectionModule && textLayer.childNodes.length !== 0 && !this.isTextSelectionDisabled) {\n                            this.pdfViewer.textSelectionModule.maintainSelectionOnScroll(j, true);\n                        }\n                        textLayer.parentNode.removeChild(textLayer);\n                    }\n                    var indexInArray = this.renderedPagesList.indexOf(j);\n                    if (indexInArray !== -1) {\n                        this.renderedPagesList.splice(indexInArray, 1);\n                    }\n                }\n                if (pageDiv) {\n                    pageDiv.parentNode.removeChild(pageDiv);\n                    var indexInArray = this.renderedPagesList.indexOf(j);\n                    if (indexInArray !== -1) {\n                        this.renderedPagesList.splice(indexInArray, 1);\n                    }\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderPageElement = function (i) {\n        var pageDiv = this.getElement('_pageDiv_' + i);\n        var canvas = this.getElement('_pageCanvas_' + i);\n        if (canvas == null && pageDiv == null && i < this.pageSize.length) {\n            // tslint:disable-next-line\n            this.renderPageContainer(i, this.getPageWidth(i), this.getPageHeight(i), this.getPageTop(i));\n        }\n    };\n    PdfViewerBase.prototype.renderPagesVirtually = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var proxy;\n            var _this = this;\n            return __generator(this, function (_a) {\n                proxy = this;\n                setTimeout(function () { _this.initiateRenderPagesVirtually(proxy); }, 500);\n                return [2 /*return*/];\n            });\n        });\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.initiateRenderPagesVirtually = function (proxy) {\n        var _this = this;\n        var jsonObject = { hashId: proxy.hashId, isCompletePageSizeNotReceived: true };\n        var request = new XMLHttpRequest();\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.load);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                if (data) {\n                    // tslint:disable-next-line\n                    var pageValues = data;\n                    var topValue = proxy.pageSize[proxy.pageLimit - 1].top;\n                    for (var i = proxy.pageLimit; i < proxy.pageCount; i++) {\n                        var pageSize = pageValues.pageSizes[i].split(',');\n                        if (proxy.pageSize[i - 1] !== null && i !== 0) {\n                            var previousPageHeight = proxy.pageSize[i - 1].height;\n                            topValue = _this.pageGap + parseFloat(previousPageHeight) + topValue;\n                        }\n                        var size = { width: parseFloat(pageSize[0]), height: parseFloat(pageSize[1]), top: topValue };\n                        _this.pageSize.push(size);\n                    }\n                    // tslint:disable-next-line:max-line-length\n                    _this.pageContainer.style.height = _this.getPageTop(_this.pageSize.length - 1) + _this.getPageHeight(_this.pageSize.length - 1) + 'px';\n                }\n            }\n            else if (request.readyState === 4 && request.status === 400) {\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText); // jshint ignore:line\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.openNotificationPopup();\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.renderPage = function (data, pageIndex) {\n        var _this = this;\n        if (data) {\n            var pageWidth_1 = this.getPageWidth(pageIndex);\n            var pageHeight_1 = this.getPageHeight(pageIndex);\n            // tslint:disable-next-line:max-line-length\n            var canvas_1 = this.getElement('_pageCanvas_' + pageIndex);\n            var pageDiv = this.getElement('_pageDiv_' + pageIndex);\n            if (pageDiv) {\n                pageDiv.style.width = pageWidth_1 + 'px';\n                pageDiv.style.height = pageHeight_1 + 'px';\n                pageDiv.style.top = this.getPageTop(pageIndex) + 'px';\n                if (this.pdfViewer.enableRtl) {\n                    pageDiv.style.right = this.updateLeftPosition(pageIndex) + 'px';\n                }\n                else {\n                    pageDiv.style.left = this.updateLeftPosition(pageIndex) + 'px';\n                }\n            }\n            if (canvas_1) {\n                canvas_1.style.width = pageWidth_1 + 'px';\n                canvas_1.style.height = pageHeight_1 + 'px';\n                var context_1 = canvas_1.getContext('2d');\n                // tslint:disable-next-line\n                var imageData = data['image'];\n                // tslint:disable-next-line\n                var matrix_1 = data['transformationMatrix'];\n                if (imageData) {\n                    var image_1 = new Image();\n                    image_1.onload = function () {\n                        // tslint:disable-next-line\n                        if (parseInt((pageWidth_1 * 1.5).toString()) === image_1.width) {\n                            if (!isNaN(parseFloat(canvas_1.style.width))) {\n                                canvas_1.style.width = pageWidth_1 + 'px';\n                                canvas_1.style.height = pageHeight_1 + 'px';\n                                canvas_1.height = pageHeight_1 * window.devicePixelRatio;\n                                canvas_1.width = pageWidth_1 * window.devicePixelRatio;\n                            }\n                            context_1.imageSmoothingEnabled = false;\n                            // tslint:disable-next-line\n                            context_1.setTransform(matrix_1.Elements[0], matrix_1.Elements[1], matrix_1.Elements[2], matrix_1.Elements[3], matrix_1.Elements[4], matrix_1.Elements[5]);\n                            context_1.drawImage(image_1, 0, 0, canvas_1.width, canvas_1.height);\n                            _this.showPageLoadingIndicator(pageIndex, false);\n                            if (pageIndex === 0 && _this.getZoomFactor() === 1 && _this.isDocumentLoaded) {\n                                _this.pdfViewer.fireDocumentLoad();\n                                _this.isDocumentLoaded = false;\n                            }\n                            if (_this.pdfViewer.magnificationModule) {\n                                _this.pdfViewer.magnificationModule.rerenderCountIncrement();\n                            }\n                        }\n                    };\n                    image_1.src = imageData;\n                    if (this.pdfViewer.magnificationModule) {\n                        this.pdfViewer.magnificationModule.pushImageObjects(image_1);\n                    }\n                }\n                var aElement = pageDiv.getElementsByTagName('a');\n                if (aElement.length !== 0) {\n                    for (var index = aElement.length - 1; index >= 0; index--) {\n                        aElement[index].parentNode.removeChild(aElement[index]);\n                    }\n                }\n                this.renderTextContent(data, pageIndex);\n                if (this.pdfViewer.enableHyperlink && this.pdfViewer.linkAnnotationModule) {\n                    this.pdfViewer.linkAnnotationModule.renderHyperlinkContent(data, pageIndex);\n                }\n                if (this.pdfViewer.textSelectionModule && !this.isTextSelectionDisabled) {\n                    this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(pageIndex);\n                }\n                if (this.pdfViewer.textSearchModule) {\n                    if (this.pdfViewer.textSearchModule.isTextSearch) {\n                        this.pdfViewer.textSearchModule.highlightOtherOccurrences(pageIndex);\n                    }\n                }\n            }\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.renderTextContent = function (data, pageIndex) {\n        // tslint:disable-next-line\n        var texts = data['textContent'];\n        // tslint:disable-next-line\n        var bounds = data['textBounds'];\n        // tslint:disable-next-line\n        var rotation = data['rotation'];\n        var textLayer = this.getElement('_textLayer_' + pageIndex);\n        if (!textLayer) {\n            // tslint:disable-next-line:max-line-length\n            textLayer = this.textLayer.addTextLayer(pageIndex, this.getPageWidth(pageIndex), this.getPageHeight(pageIndex), this.getElement('_pageDiv_' + pageIndex));\n        }\n        if (textLayer) {\n            if (textLayer.childNodes.length === 0) {\n                this.textLayer.renderTextContents(pageIndex, texts, bounds, rotation);\n            }\n            else {\n                this.textLayer.resizeTextContents(pageIndex, texts, bounds, rotation);\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderPageContainer = function (pageNumber, pageWidth, pageHeight, topValue) {\n        // tslint:disable-next-line:max-line-length\n        var pageDiv = createElement('div', { id: this.pdfViewer.element.id + '_pageDiv_' + pageNumber, className: 'e-pv-page-div' });\n        pageDiv.style.width = pageWidth + 'px';\n        pageDiv.style.height = pageHeight + 'px';\n        if (this.pdfViewer.enableRtl) {\n            pageDiv.style.right = this.updateLeftPosition(pageNumber) + 'px';\n        }\n        else {\n            pageDiv.style.left = this.updateLeftPosition(pageNumber) + 'px';\n        }\n        pageDiv.style.top = topValue + 'px';\n        this.pageContainer.appendChild(pageDiv);\n        this.pageContainer.style.width = this.viewerContainer.clientWidth + 'px';\n        this.createWaitingPopup(pageNumber);\n        this.orderPageDivElements(pageDiv, pageNumber);\n        this.renderPageCanvas(pageDiv, pageWidth, pageHeight, pageNumber);\n    };\n    PdfViewerBase.prototype.orderPageDivElements = function (pageDiv, pageIndex) {\n        var nextElement = this.getElement('_pageDiv_' + (pageIndex + 1));\n        if (nextElement) {\n            this.pageContainer.insertBefore(pageDiv, nextElement);\n        }\n        else {\n            this.pageContainer.appendChild(pageDiv);\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.renderPageCanvas = function (pageDiv, pageWidth, pageHeight, pageNumber) {\n        // tslint:disable-next-line:max-line-length\n        var pageCanvas = createElement('canvas', { id: this.pdfViewer.element.id + '_pageCanvas_' + pageNumber, className: 'e-pv-page-canvas' });\n        pageCanvas.width = pageWidth;\n        pageCanvas.height = pageHeight;\n        pageDiv.appendChild(pageCanvas);\n        this.textLayer.addTextLayer(pageNumber, pageWidth, pageHeight, pageDiv);\n        return pageCanvas;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateLeftPosition = function (pageIndex) {\n        var leftPosition;\n        // tslint:disable-next-line:max-line-length\n        leftPosition = (this.viewerContainer.getBoundingClientRect().width - this.getPageWidth(pageIndex)) / 2;\n        // tslint:disable-next-line:max-line-length\n        if (leftPosition < 0 || (this.pdfViewer.magnificationModule ? ((this.pdfViewer.magnificationModule.isAutoZoom && this.getZoomFactor() < 1) || this.pdfViewer.magnificationModule.fitType === 'fitToWidth') : false)) {\n            leftPosition = this.pageLeft;\n        }\n        return leftPosition;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.applyLeftPosition = function (pageIndex) {\n        var leftPosition;\n        if (this.pageSize[pageIndex]) {\n            // tslint:disable-next-line:max-line-length\n            leftPosition = (this.viewerContainer.getBoundingClientRect().width - this.pageSize[pageIndex].width * this.getZoomFactor()) / 2;\n            // tslint:disable-next-line:max-line-length\n            if (leftPosition < 0 || (this.pdfViewer.magnificationModule ? ((this.pdfViewer.magnificationModule.isAutoZoom && this.getZoomFactor() < 1) || this.pdfViewer.magnificationModule.fitType === 'fitToWidth') : false)) {\n                leftPosition = this.pageLeft;\n            }\n            // tslint:disable-next-line:max-line-length\n            var pageDiv = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + pageIndex);\n            if (pageDiv) {\n                if (!this.pdfViewer.enableRtl) {\n                    pageDiv.style.left = leftPosition + 'px';\n                }\n                else {\n                    pageDiv.style.right = leftPosition + 'px';\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.updatePageHeight = function (viewerHeight, toolbarHeight) {\n        return ((viewerHeight - toolbarHeight) / viewerHeight) * 100 + '%';\n    };\n    PdfViewerBase.prototype.initiatePageViewScrollChanged = function () {\n        if ((this.scrollPosition * this.getZoomFactor()) !== this.viewerContainer.scrollTop) {\n            this.scrollPosition = this.viewerContainer.scrollTop;\n            this.pageViewScrollChanged(this.currentPageNumber);\n        }\n    };\n    PdfViewerBase.prototype.renderCountIncrement = function () {\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.renderCountIncrement();\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.pageViewScrollChanged = function (currentPageNumber) {\n        this.reRenderedCount = 0;\n        var currentPageIndex = currentPageNumber - 1;\n        if (currentPageNumber !== this.previousPage && currentPageNumber <= this.pageCount) {\n            if (this.renderedPagesList.indexOf(currentPageIndex) === -1 && !this.getMagnified()) {\n                this.createRequestForRender(currentPageIndex);\n                this.renderCountIncrement();\n            }\n        }\n        if (!(this.getMagnified() || this.getPagesPinchZoomed())) {\n            var previous = currentPageIndex - 1;\n            var canvas = this.getElement('_pageCanvas_' + previous);\n            if (canvas !== null) {\n                if (this.renderedPagesList.indexOf(previous) === -1 && !this.getMagnified()) {\n                    this.createRequestForRender(previous);\n                    this.renderCountIncrement();\n                }\n            }\n            var next = currentPageIndex + 1;\n            if (next < this.pageCount) {\n                if (this.renderedPagesList.indexOf(next) === -1 && !this.getMagnified()) {\n                    this.createRequestForRender(next);\n                    var pageHeight = this.getPageHeight(next);\n                    this.renderCountIncrement();\n                    while (this.viewerContainer.clientHeight > pageHeight) {\n                        next = next + 1;\n                        if (next < this.pageCount) {\n                            this.renderPageElement(next);\n                            this.createRequestForRender(next);\n                            pageHeight += this.getPageHeight(next);\n                            this.renderCountIncrement();\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.downloadDocument = function (blobUrl) {\n        var anchorElement = createElement('a');\n        if (anchorElement.click) {\n            anchorElement.href = blobUrl;\n            anchorElement.target = '_parent';\n            if ('download' in anchorElement) {\n                anchorElement.download = this.pdfViewer.fileName;\n            }\n            (document.body || document.documentElement).appendChild(anchorElement);\n            anchorElement.click();\n            anchorElement.parentNode.removeChild(anchorElement);\n        }\n        else {\n            if (window.top === window &&\n                blobUrl.split('#')[0] === window.location.href.split('#')[0]) {\n                var padCharacter = blobUrl.indexOf('?') === -1 ? '?' : '&';\n                blobUrl = blobUrl.replace(/#|$/, padCharacter + '$&');\n            }\n            window.open(blobUrl, '_parent');\n        }\n    };\n    PdfViewerBase.prototype.createRequestForDownload = function () {\n        var _this = this;\n        var jsonObject;\n        jsonObject = { hashId: this.hashId };\n        var request = new XMLHttpRequest();\n        request.open('POST', this.pdfViewer.serviceUrl + '/' + this.pdfViewer.serverActionSettings.download);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8'); // jshint ignore:line\n        request.responseType = 'text';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) { // jshint ignore:line\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                // tslint:disable-next-line:max-line-length\n                if (typeof data === 'object') {\n                    data = JSON.parse(data);\n                }\n                if (data) {\n                    var blobUrl = _this.createBlobUrl(data.split('base64,')[1], 'application/pdf');\n                    _this.downloadDocument(blobUrl);\n                }\n            }\n            else if (request.readyState === 4 && request.status === 400) {\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.openNotificationPopup();\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    PdfViewerBase.prototype.createRequestForRender = function (pageIndex) {\n        var _this = this;\n        var canvas = this.getElement('_pageCanvas_' + pageIndex);\n        var oldCanvas = this.getElement('_oldCanvas_' + pageIndex);\n        if (!this.getPagesZoomed()) {\n            this.showPageLoadingIndicator(pageIndex, true);\n        }\n        else {\n            this.showPageLoadingIndicator(pageIndex, false);\n        }\n        if (canvas) {\n            if (!isNaN(parseFloat(canvas.style.width)) || oldCanvas) {\n                this.showPageLoadingIndicator(pageIndex, false);\n            }\n            // tslint:disable-next-line\n            var data = this.getStoredData(pageIndex);\n            if (data) {\n                this.renderPage(data, pageIndex);\n            }\n            else {\n                var noTileX = 1;\n                var noTileY = 1;\n                for (var x = 0; x < noTileX; x++) {\n                    var _loop_1 = function (y) {\n                        var jsonObject = void 0;\n                        // tslint:disable-next-line:max-line-length\n                        jsonObject = { xCoordinate: x, yCoordinate: y, pageNumber: pageIndex, documentId: this_1.documentId, hashId: this_1.hashId, zoomFactor: this_1.getZoomFactor() };\n                        var request = new XMLHttpRequest();\n                        request.open('POST', this_1.pdfViewer.serviceUrl + '/' + this_1.pdfViewer.serverActionSettings.renderPages);\n                        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n                        request.responseType = 'json';\n                        request.send(JSON.stringify(jsonObject));\n                        // tslint:disable-next-line\n                        request.onreadystatechange = function (event) {\n                            var proxy = _this;\n                            if (request.readyState === 4 && request.status === 200) {\n                                // tslint:disable-next-line\n                                var data_1 = event.currentTarget.response;\n                                // tslint:disable-next-line:max-line-length\n                                if (typeof data_1 !== 'object') {\n                                    data_1 = JSON.parse(data_1);\n                                }\n                                if (data_1) {\n                                    if (data_1.image) {\n                                        proxy.storeWinData(data_1, pageIndex);\n                                        proxy.renderPage(data_1, pageIndex);\n                                    }\n                                }\n                            }\n                            else if (request.readyState === 4 && request.status === 400) {\n                                // error\n                                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n                            }\n                        };\n                        // tslint:disable-next-line\n                        request.onerror = function (event) {\n                            _this.openNotificationPopup();\n                            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n                        };\n                    };\n                    var this_1 = this;\n                    for (var y = 0; y < noTileY; y++) {\n                        _loop_1(y);\n                    }\n                }\n            }\n            this.renderedPagesList.push(pageIndex);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.getStoredData = function (pageIndex) {\n        // tslint:disable-next-line\n        var storedData = this.getWindowSessionStorage(pageIndex) ? this.getWindowSessionStorage(pageIndex) : this.getPinchZoomPage(pageIndex);\n        // tslint:disable-next-line\n        var data = null;\n        if (storedData) {\n            // tslint:disable-next-line\n            data = storedData;\n            if (!this.isPinchZoomStorage) {\n                data = JSON.parse(storedData);\n            }\n            this.isPinchZoomStorage = false;\n        }\n        return data;\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.storeWinData = function (data, pageIndex) {\n        // tslint:disable-next-line\n        var blobUrl = this.createBlobUrl(data['image'].split('base64,')[1], 'image/png');\n        // tslint:disable-next-line\n        var storeObject = {\n            // tslint:disable-next-line\n            image: blobUrl, transformationMatrix: data['transformationMatrix'], hyperlinks: data['hyperlinks'], hyperlinkBounds: data['hyperlinkBounds'], linkAnnotation: data['linkAnnotation'], linkPage: data['linkPage'], annotationLocation: data['annotationLocation'],\n            // tslint:disable-next-line\n            textContent: data['textContent'], textBounds: data['textBounds'], pageText: data['pageText'], rotation: data['rotation']\n        };\n        // tslint:disable-next-line:max-line-length\n        if (this.pdfViewer.magnificationModule ? this.pdfViewer.magnificationModule.checkZoomFactor() : true) {\n            this.manageSessionStorage(pageIndex, storeObject);\n        }\n        else {\n            this.pinchZoomStorage.push({ index: pageIndex, pinchZoomStorage: storeObject });\n        }\n    };\n    PdfViewerBase.prototype.getPinchZoomPage = function (pageIndex) {\n        // tslint:disable-next-line\n        for (var key in this.pinchZoomStorage) {\n            if (this.pinchZoomStorage.hasOwnProperty(key)) {\n                if (this.pinchZoomStorage[key].index === pageIndex) {\n                    this.isPinchZoomStorage = true;\n                    return this.pinchZoomStorage[key].pinchZoomStorage;\n                }\n            }\n        }\n        return null;\n    };\n    PdfViewerBase.prototype.getWindowSessionStorage = function (pageIndex) {\n        return window.sessionStorage.getItem(this.documentId + '_' + pageIndex + '_' + this.getZoomFactor());\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.manageSessionStorage = function (pageIndex, storeObject) {\n        if (this.pageCount > this.sessionLimit && window.sessionStorage.length > this.sessionLimit) {\n            var lowerPageValue = this.currentPageNumber - this.sessionLimit;\n            if (lowerPageValue < 0) {\n                lowerPageValue = 0;\n            }\n            var higherPageValue = this.currentPageNumber + this.sessionLimit;\n            if (higherPageValue > this.pageCount) {\n                higherPageValue = this.pageCount;\n            }\n            for (var i = 0; i <= this.pageCount; i++) {\n                if (!((lowerPageValue <= i) && (i < higherPageValue))) {\n                    window.sessionStorage.removeItem(this.documentId + '_' + i + '_' + this.getZoomFactor());\n                }\n            }\n        }\n        window.sessionStorage.setItem(this.documentId + '_' + pageIndex + '_' + this.getZoomFactor(), JSON.stringify(storeObject));\n        this.sessionStorage.push(this.documentId + '_' + pageIndex + '_' + this.getZoomFactor());\n    };\n    PdfViewerBase.prototype.createBlobUrl = function (base64String, contentType) {\n        var sliceSize = 512;\n        var byteCharacters = atob(base64String);\n        // tslint:disable-next-line\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            // tslint:disable-next-line\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            // tslint:disable-next-line\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, { type: contentType });\n        return URL.createObjectURL(blob);\n    };\n    PdfViewerBase.prototype.getRandomNumber = function () {\n        // tslint:disable-next-line\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            // tslint:disable-next-line\n            var random = Math.random() * 16 | 0, v = c == 'x' ? random : (random & 0x3 | 0x8);\n            return random.toString(16);\n        });\n    };\n    PdfViewerBase.prototype.createGUID = function () {\n        // tslint:disable-next-line:max-line-length\n        return 'Sync_PdfViewer_' + this.getRandomNumber();\n    };\n    PdfViewerBase.prototype.isClickedOnScrollBar = function (event) {\n        var isScrollBar = false;\n        this.setScrollDownValue(event.type, false);\n        // tslint:disable-next-line:max-line-length\n        if ((this.viewerContainer.clientWidth + this.viewerContainer.offsetLeft) < event.clientX && event.clientX < (this.viewerContainer.offsetWidth + this.viewerContainer.offsetLeft)) {\n            isScrollBar = true;\n            this.setScrollDownValue(event.type, true);\n        }\n        // tslint:disable-next-line:max-line-length\n        if ((this.viewerContainer.clientHeight + this.viewerContainer.offsetTop) < event.clientY && event.clientY < (this.viewerContainer.offsetHeight + this.viewerContainer.offsetTop)) {\n            isScrollBar = true;\n            this.setScrollDownValue(event.type, true);\n        }\n        return isScrollBar;\n    };\n    PdfViewerBase.prototype.setScrollDownValue = function (eventType, boolValue) {\n        if (eventType === 'mousedown') {\n            this.isScrollbarMouseDown = boolValue;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.disableTextSelectionMode = function () {\n        this.isTextSelectionDisabled = true;\n        this.viewerContainer.classList.remove('e-enable-text-selection');\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.clearTextSelection();\n        }\n        this.viewerContainer.classList.add('e-disable-text-selection');\n        this.viewerContainer.addEventListener('selectstart', function () { return false; });\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getElement = function (idString) {\n        return document.getElementById(this.pdfViewer.element.id + idString);\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPageWidth = function (pageIndex) {\n        return this.pageSize[pageIndex].width * this.getZoomFactor();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPageHeight = function (pageIndex) {\n        return this.pageSize[pageIndex].height * this.getZoomFactor();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPageTop = function (pageIndex) {\n        return this.pageSize[pageIndex].top * this.getZoomFactor();\n    };\n    return PdfViewerBase;\n}());\nexport { PdfViewerBase };\n","import { createElement } from '@syncfusion/ej2-base';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * TextLayer module is used to handle the text content on the control.\n * @hidden\n */\nvar TextLayer = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function TextLayer(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        // tslint:disable-next-line\n        this.textBoundsArray = [];\n        this.closeNotification = function () {\n            _this.notifyDialog.hide();\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    TextLayer.prototype.addTextLayer = function (pageNumber, pageWidth, pageHeight, pageDiv) {\n        var textDiv = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n        var textLayer;\n        if (!textDiv) {\n            textLayer = createElement('div', { id: this.pdfViewer.element.id + '_textLayer_' + pageNumber, className: 'e-pv-text-layer' });\n            textLayer.style.width = pageWidth + 'px';\n            textLayer.style.height = pageHeight + 'px';\n            pageDiv.appendChild(textLayer);\n        }\n        return textLayer;\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextLayer.prototype.renderTextContents = function (pageNumber, textContents, textBounds, rotation) {\n        var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n        var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + pageNumber);\n        if (canvasElement && textLayer.childNodes.length === 0) {\n            for (var i = 0; i < textContents.length; i++) {\n                // tslint:disable-next-line\n                var bounds = textBounds[i];\n                // tslint:disable-next-line:max-line-length\n                var textDiv = createElement('div', { id: this.pdfViewer.element.id + '_text_' + pageNumber + '_' + i, className: 'e-pv-text' });\n                var textContent = textContents[i];\n                textContent = textContent.replace(/</g, '&lt;');\n                textContent = textContent.replace(/>/g, '&gt;');\n                textDiv.innerHTML = textContent.replace(/&nbsp;/g, ' ');\n                // tslint:disable-next-line\n                var newLine = textContents[i].replace(/  +/g, ' ');\n                if (newLine !== ' ') {\n                    textDiv.style.whiteSpace = 'pre';\n                }\n                this.setStyleToTextDiv(textDiv, bounds.X, bounds.Y, bounds.Bottom, bounds.Width, bounds.Height);\n                this.setTextElementProperties(textDiv);\n                var context = canvasElement.getContext('2d');\n                context.font = textDiv.style.fontSize + ' ' + textDiv.style.fontFamily;\n                var contextWidth = context.measureText(textContents[i].replace(/(\\r\\n|\\n|\\r)/gm, '')).width;\n                var scale = bounds.Width * this.pdfViewerBase.getZoomFactor() / contextWidth;\n                this.applyTextRotation(scale, textDiv, rotation, bounds.Rotation);\n                textLayer.appendChild(textDiv);\n                this.resizeExcessDiv(textLayer, textDiv);\n                // tslint:disable-next-line:max-line-length\n                if (this.pdfViewer.textSelectionModule && this.pdfViewer.enableTextSelection && !this.pdfViewerBase.isTextSelectionDisabled) {\n                    textDiv.classList.add('e-pv-cursor');\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextLayer.prototype.resizeTextContents = function (pageNumber, textContents, textBounds, rotation) {\n        var textLayer = this.pdfViewerBase.getElement('_textLayer_' + pageNumber);\n        var canvasElement = this.pdfViewerBase.getElement('_pageCanvas_' + pageNumber);\n        if (canvasElement) {\n            for (var i = 0; i < textLayer.childNodes.length; i++) {\n                // tslint:disable-next-line\n                var bounds = void 0;\n                var textDiv = this.pdfViewerBase.getElement('_text_' + pageNumber + '_' + i);\n                if (textBounds) {\n                    bounds = textBounds[i];\n                    this.setStyleToTextDiv(textDiv, bounds.X, bounds.Y, bounds.Bottom, bounds.Width, bounds.Height);\n                }\n                this.setTextElementProperties(textDiv);\n                var context = canvasElement.getContext('2d');\n                context.font = textDiv.style.fontSize + ' ' + textDiv.style.fontFamily;\n                var contextWidth = void 0;\n                if (textContents) {\n                    contextWidth = context.measureText(textContents[i].replace(/(\\r\\n|\\n|\\r)/gm, '')).width;\n                }\n                else {\n                    contextWidth = context.measureText(textDiv.textContent.replace(/(\\r\\n|\\n|\\r)/gm, '')).width;\n                }\n                var scale = bounds.Width * this.pdfViewerBase.getZoomFactor() / contextWidth;\n                this.applyTextRotation(scale, textDiv, rotation, bounds.Rotation);\n                this.resizeExcessDiv(textLayer, textDiv);\n            }\n        }\n        else {\n            textLayer.parentElement.removeChild(textLayer);\n        }\n    };\n    TextLayer.prototype.applyTextRotation = function (scale, textDiv, rotation, textRotation) {\n        var scaleString = 'scale(' + scale + ')';\n        if (rotation === 0) {\n            if (textRotation === 0) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n        else if (rotation === 1) {\n            if (textRotation === 0) {\n                textDiv.style.transform = 'rotate(90deg) ' + scaleString;\n            }\n            else if (textRotation === -90) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n        else if (rotation === 2) {\n            if (textRotation === 0) {\n                textDiv.style.transform = 'rotate(180deg) ' + scaleString;\n            }\n            else if (textRotation === 180) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n        else if (rotation === 3) {\n            if (textRotation === 0) {\n                textDiv.style.transform = 'rotate(-90deg) ' + scaleString;\n            }\n            else if (textRotation === 90) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n    };\n    TextLayer.prototype.setTextElementProperties = function (textDiv) {\n        textDiv.style.fontFamily = 'sans-serif';\n        textDiv.style.transformOrigin = '0%';\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.resizeTextContentsOnZoom = function (pageNumber) {\n        // tslint:disable-next-line:max-line-length\n        var renderObject = window.sessionStorage.getItem(this.pdfViewerBase.getDocumentId() + '_' + pageNumber + '_' + this.getPreviousZoomFactor());\n        // tslint:disable-next-line\n        var textBounds = [];\n        var textContents = [];\n        // tslint:disable-next-line\n        var rotation;\n        if (renderObject) {\n            // tslint:disable-next-line\n            var data = JSON.parse(renderObject);\n            // tslint:disable-next-line\n            textBounds = data['textBounds'];\n            // tslint:disable-next-line\n            textContents = data['textContent'];\n            // tslint:disable-next-line\n            rotation = data['rotation'];\n        }\n        if (textBounds.length !== 0) {\n            this.textBoundsArray.push({ pageNumber: pageNumber, textBounds: textBounds });\n            this.resizeTextContents(pageNumber, textContents, textBounds, rotation);\n        }\n        else {\n            // tslint:disable-next-line\n            var textElements = this.textBoundsArray.filter(function (obj) {\n                return obj.pageNumber === pageNumber;\n            });\n            if (textElements) {\n                if (textElements.length !== 0) {\n                    // tslint:disable-next-line\n                    textBounds = textElements[0]['textBounds'];\n                    this.resizeTextContents(pageNumber, null, textBounds, rotation);\n                }\n            }\n        }\n    };\n    TextLayer.prototype.resizeExcessDiv = function (textLayer, textDiv) {\n        var textLayerPosition = textLayer.getBoundingClientRect();\n        var textDivPosition = textDiv.getBoundingClientRect();\n        // tslint:disable-next-line:max-line-length\n        if ((textDivPosition.width + textDivPosition.left) >= (textLayerPosition.width + textLayerPosition.left) || (textDivPosition.width > textLayerPosition.width)) {\n            // 'auto' width is set to reset the size of the div to its contents.\n            textDiv.style.width = 'auto';\n            // Client width gets reset by 'auto' width property which has the width of the content.\n            textDiv.style.width = textDiv.clientWidth + 'px';\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.clearTextLayers = function () {\n        var lowerPageValue = this.pdfViewerBase.currentPageNumber - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = this.pdfViewerBase.currentPageNumber + 1;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        var textLayers = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n        for (var i = 0; i < textLayers.length; i++) {\n            textLayers[i].style.display = 'block';\n            if (this.pdfViewerBase.getMagnified() && (this.getTextSelectionStatus() || this.getTextSearchStatus())) {\n                // tslint:disable-next-line:radix\n                var pageNumber = parseInt(textLayers[i].id.split('_textLayer_')[1]);\n                if (!(((lowerPageValue + 1) <= pageNumber) && (pageNumber <= (higherPageValue - 1)))) {\n                    textLayers[i].remove();\n                }\n            }\n            else if (this.pdfViewerBase.getPinchZoomed()) {\n                textLayers[i].remove();\n            }\n            else {\n                textLayers[i].remove();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    TextLayer.prototype.convertToSpan = function (pageNumber, divId, fromOffset, toOffset, textString, className) {\n        var textDiv = this.pdfViewerBase.getElement('_text_' + pageNumber + '_' + divId);\n        var textContent = textString.substring(fromOffset, toOffset);\n        var node = document.createTextNode(textContent);\n        if (className) {\n            var spanElement = createElement('span');\n            spanElement.className = className + ' e-pv-text';\n            spanElement.appendChild(node);\n            textDiv.appendChild(spanElement);\n        }\n        else {\n            textDiv.appendChild(node);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    TextLayer.prototype.applySpanForSelection = function (startPage, endPage, anchorOffsetDiv, focusOffsetDiv, anchorOffset, focusOffset) {\n        if (this.pdfViewer.textSelectionModule) {\n            for (var i = startPage; i <= endPage; i++) {\n                var startId = void 0;\n                var endId = void 0;\n                // tslint:disable-next-line\n                var textDivs = this.pdfViewerBase.getElement('_textLayer_' + i).childNodes;\n                if (i === startPage) {\n                    startId = anchorOffsetDiv;\n                    endId = textDivs.length - 1;\n                }\n                else if (i === endPage) {\n                    startId = 0;\n                    endId = focusOffsetDiv;\n                }\n                else {\n                    startId = 0;\n                    endId = textDivs.length - 1;\n                }\n                if (startPage === endPage) {\n                    startId = anchorOffsetDiv;\n                    endId = focusOffsetDiv;\n                }\n                for (var j = startId; j <= endId; j++) {\n                    var textDiv = this.pdfViewerBase.getElement('_text_' + i + '_' + j);\n                    var initId = void 0;\n                    var lastId = void 0;\n                    var length_1 = void 0;\n                    length_1 = textDiv.textContent.length;\n                    var textContent = textDiv.textContent;\n                    textDiv.textContent = '';\n                    if (j === startId) {\n                        if (i === startPage) {\n                            initId = anchorOffset;\n                        }\n                        else {\n                            initId = 0;\n                        }\n                        lastId = length_1;\n                        this.convertToSpan(i, j, 0, initId, textContent, null);\n                    }\n                    else if (j === endId && i === endPage) {\n                        initId = 0;\n                        lastId = focusOffset;\n                    }\n                    else {\n                        initId = 0;\n                        lastId = length_1;\n                    }\n                    if (startId === endId) {\n                        initId = anchorOffset;\n                        lastId = focusOffset;\n                    }\n                    this.convertToSpan(i, j, initId, lastId, textContent, 'e-pv-maintaincontent');\n                    if (j === endId && i === endPage) {\n                        this.convertToSpan(i, j, lastId, textContent.length, textContent, null);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.clearDivSelection = function () {\n        var textLayers = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n        for (var i = 0; i < textLayers.length; i++) {\n            var childNodes = textLayers[i].childNodes;\n            for (var j = 0; j < childNodes.length; j++) {\n                var textDiv = childNodes[j];\n                var textContent = textDiv.textContent;\n                // tslint:disable-next-line:max-line-length\n                if (textDiv.childNodes.length > 1 || textDiv.childNodes.length === 1 && (textDiv.childNodes[0].tagName === 'SPAN')) {\n                    textDiv.textContent = '';\n                    textDiv.textContent = textContent;\n                }\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextLayer.prototype.setStyleToTextDiv = function (textDiv, left, top, bottom, width, height) {\n        textDiv.style.left = left * this.pdfViewerBase.getZoomFactor() + 'px';\n        textDiv.style.top = top * this.pdfViewerBase.getZoomFactor() + 'px';\n        textDiv.style.width = width * this.pdfViewerBase.getZoomFactor() + 'px';\n        var textHeight = height * this.pdfViewerBase.getZoomFactor();\n        textDiv.style.height = textHeight + 'px';\n        if (textHeight > 11) {\n            // tslint:disable-next-line:radix\n            textDiv.style.fontSize = (parseInt(height.toString()) - 2.6) * this.pdfViewerBase.getZoomFactor() + 'px';\n        }\n        else {\n            textDiv.style.fontSize = height * this.pdfViewerBase.getZoomFactor() + 'px';\n        }\n    };\n    TextLayer.prototype.getTextSelectionStatus = function () {\n        if (this.pdfViewer.textSelectionModule) {\n            return this.pdfViewer.textSelectionModule.isTextSelection;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.modifyTextCursor = function (isAdd) {\n        var textLayerList = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n        for (var i = 0; i < textLayerList.length; i++) {\n            var childNodes = textLayerList[i].childNodes;\n            for (var j = 0; j < childNodes.length; j++) {\n                var textElement = childNodes[j];\n                if (isAdd) {\n                    textElement.classList.add('e-pv-cursor');\n                }\n                else {\n                    textElement.classList.remove('e-pv-cursor');\n                }\n            }\n        }\n    };\n    TextLayer.prototype.getPreviousZoomFactor = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.previousZoomFactor;\n        }\n        else {\n            return 1;\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.getTextSearchStatus = function () {\n        if (this.pdfViewer.textSearchModule) {\n            return this.pdfViewer.textSearchModule.isTextSearch;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.createNotificationPopup = function (text) {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_notify', className: 'e-pv-notification-popup' });\n        this.pdfViewerBase.viewerContainer.appendChild(popupElement);\n        this.notifyDialog = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true, header: this.pdfViewer.localeObj.getConstant('PdfViewer'),\n            buttons: [{\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.closeNotification.bind(this)\n                }],\n            content: '<div class=\"e-pv-notification-popup-content\">' + text + '</div>', target: this.pdfViewer.element,\n            beforeClose: function () {\n                _this.notifyDialog.destroy();\n                _this.pdfViewer.element.removeChild(popupElement);\n                if (_this.pdfViewer.textSearchModule) {\n                    _this.pdfViewer.textSearch.isMessagePopupOpened = false;\n                }\n            }\n        });\n        if (this.pdfViewer.enableRtl) {\n            this.notifyDialog.enableRtl = true;\n        }\n        this.notifyDialog.appendTo(popupElement);\n    };\n    return TextLayer;\n}());\nexport { TextLayer };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { ContextMenu as Context } from '@syncfusion/ej2-navigations';\n/**\n * ContextMenu module is used to handle the context menus used in the control.\n * @hidden\n */\nvar ContextMenu = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ContextMenu(pdfViewer, pdfViewerBase) {\n        this.copyContextMenu = [];\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n        this.copyContextMenu = [{ text: this.pdfViewer.localeObj.getConstant('Copy') }];\n    }\n    /**\n     * @private\n     */\n    ContextMenu.prototype.createContextMenu = function () {\n        this.contextMenuElement = createElement('ul', { id: this.pdfViewer.element.id + '_context_menu' });\n        if (this.pdfViewer.enableRtl) {\n            this.contextMenuElement.style.direction = 'rtl';\n        }\n        this.pdfViewer.element.appendChild(this.contextMenuElement);\n        this.contextMenuObj = new Context({\n            target: '#' + this.pdfViewerBase.viewerContainer.id, items: this.copyContextMenu,\n            beforeOpen: this.contextMenuOnBeforeOpen.bind(this), select: this.onMenuItemSelect.bind(this),\n            cssClass: 'e-pv-context-menu'\n        });\n        this.contextMenuObj.appendTo(this.contextMenuElement);\n        if (Browser.isDevice) {\n            this.contextMenuObj.animationSettings.effect = 'ZoomIn';\n        }\n        else {\n            this.contextMenuObj.animationSettings.effect = 'SlideDown';\n        }\n    };\n    ContextMenu.prototype.contextMenuOnBeforeOpen = function (args) {\n        if (this.pdfViewer.textSelectionModule) {\n            if (args.event) {\n                var isClickWithinSelectionBounds = this.isClickWithinSelectionBounds(args.event);\n                // tslint:disable-next-line:max-line-length\n                if (isClickWithinSelectionBounds) {\n                    if ((!args.event.target.classList.contains('e-pv-maintaincontent') && args.event.target.classList.contains('e-pv-text') || args.event.target.classList.contains('e-pv-text-layer'))) {\n                        args.cancel = true;\n                    }\n                }\n                else {\n                    args.cancel = true;\n                }\n            }\n        }\n        else {\n            args.cancel = true;\n        }\n    };\n    // tslint:disable-next-line\n    ContextMenu.prototype.isClickWithinSelectionBounds = function (event) {\n        var isWithin = false;\n        var bounds = this.pdfViewer.textSelectionModule.getCurrentSelectionBounds(this.pdfViewerBase.currentPageNumber - 1);\n        if (bounds) {\n            for (var i = 0; i < bounds.length; i++) {\n                var currentBound = bounds[i];\n                if (this.getHorizontalValue(currentBound.left) < event.clientX && this.getHorizontalValue(currentBound.right) >\n                    event.clientX && this.getVerticalValue(currentBound.top) < event.clientY &&\n                    this.getVerticalValue(currentBound.bottom) > event.clientY) {\n                    isWithin = true;\n                    break;\n                }\n            }\n        }\n        return isWithin;\n    };\n    ContextMenu.prototype.getHorizontalClientValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value - pageBounds.left);\n    };\n    ContextMenu.prototype.getVerticalClientValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value - pageBounds.top);\n    };\n    ContextMenu.prototype.getHorizontalValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value * this.pdfViewerBase.getZoomFactor()) + pageBounds.left;\n    };\n    ContextMenu.prototype.getVerticalValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value * this.pdfViewerBase.getZoomFactor()) + pageBounds.top;\n    };\n    ContextMenu.prototype.onMenuItemSelect = function (args) {\n        switch (args.item.text) {\n            case 'Copy':\n                if (this.pdfViewer.textSelectionModule) {\n                    this.pdfViewer.textSelectionModule.copyText();\n                    this.contextMenuObj.close();\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { Browser } from '@syncfusion/ej2-base';\n/**\n * Magnification module\n */\nvar Magnification = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Magnification(pdfViewer, viewerBase) {\n        /**\n         * @private\n         */\n        this.zoomFactor = 1;\n        /**\n         * @private\n         */\n        this.previousZoomFactor = 1;\n        this.scrollWidth = 25;\n        this.zoomPercentages = [50, 75, 100, 125, 150, 200, 400];\n        this.isNotPredefinedZoom = false;\n        this.pinchStep = 0.02;\n        this.reRenderPageNumber = 0;\n        // tslint:disable-next-line\n        this.magnifyPageRerenderTimer = null;\n        // tslint:disable-next-line\n        this.rerenderOnScrollTimer = null;\n        // tslint:disable-next-line\n        this.rerenderInterval = null;\n        this.touchCenterX = 0;\n        this.touchCenterY = 0;\n        this.pageRerenderCount = 0;\n        this.imageObjects = [];\n        this.topValue = 0;\n        this.isTapToFitZoom = false;\n        /**\n         * @private\n         */\n        this.fitType = null;\n        /**\n         * @private\n         */\n        this.isPinchZoomed = false;\n        /**\n         * @private\n         */\n        this.isPagePinchZoomed = false;\n        /**\n         * @private\n         */\n        this.isRerenderCanvasCreated = false;\n        /**\n         * @private\n         */\n        this.isMagnified = false;\n        /**\n         * @private\n         */\n        this.isPagesZoomed = false;\n        /**\n         * @private\n         */\n        this.isPinchScrolled = false;\n        /**\n         * @private\n         */\n        this.isAutoZoom = false;\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = viewerBase;\n        this.zoomLevel = 2;\n    }\n    /**\n     * Zoom the PDF document to the given zoom value\n     * @param  {number} zoomValue - Specifies the Zoom Value for magnify the PDF document\n     * @returns void\n     */\n    Magnification.prototype.zoomTo = function (zoomValue) {\n        if (zoomValue < 50) {\n            zoomValue = 50;\n        }\n        else if (zoomValue > 400) {\n            zoomValue = 400;\n        }\n        this.fitType = null;\n        this.isNotPredefinedZoom = false;\n        if (this.isAutoZoom && this.isInitialLoading) {\n            this.pdfViewerBase.onWindowResize();\n        }\n        else {\n            this.isAutoZoom = false;\n            this.onZoomChanged(zoomValue);\n        }\n        this.isInitialLoading = false;\n    };\n    /**\n     * Magnifies the page to the next value in the zoom drop down list.\n     * @returns void\n     */\n    Magnification.prototype.zoomIn = function () {\n        if (this.fitType || this.isNotPredefinedZoom) {\n            this.zoomLevel = this.lowerZoomLevel;\n            this.fitType = null;\n        }\n        this.isNotPredefinedZoom = false;\n        if (this.zoomLevel >= 6) {\n            this.zoomLevel = 6;\n        }\n        else {\n            this.zoomLevel++;\n        }\n        this.isAutoZoom = false;\n        this.onZoomChanged(this.zoomPercentages[this.zoomLevel]);\n    };\n    /**\n     * Magnifies the page to the previous value in the zoom drop down list.\n     * @returns void\n     */\n    Magnification.prototype.zoomOut = function () {\n        if (this.fitType || this.isNotPredefinedZoom) {\n            this.zoomLevel = this.higherZoomLevel;\n            this.fitType = null;\n        }\n        this.isNotPredefinedZoom = false;\n        if (this.zoomLevel <= 0) {\n            this.zoomLevel = 0;\n        }\n        else {\n            this.zoomLevel--;\n        }\n        this.isAutoZoom = false;\n        this.onZoomChanged(this.zoomPercentages[this.zoomLevel]);\n    };\n    /**\n     * Scales the page to fit the page width to the width of the container in the control.\n     * @returns void\n     */\n    Magnification.prototype.fitToWidth = function () {\n        this.isAutoZoom = false;\n        var zoomValue = this.calculateFitZoomFactor('fitToWidth');\n        this.onZoomChanged(zoomValue);\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.fitToAuto = function () {\n        this.isAutoZoom = true;\n        var zoomValue = this.calculateFitZoomFactor('fitToWidth');\n        this.onZoomChanged(zoomValue);\n    };\n    /**\n     * Scales the page to fit the page in the container in the control.\n     * @param  {number} zoomValue - Defines the Zoom Value for fit the page in the Container\n     * @returns void\n     */\n    Magnification.prototype.fitToPage = function () {\n        var zoomValue = this.calculateFitZoomFactor('fitToPage');\n        this.isAutoZoom = false;\n        this.onZoomChanged(zoomValue);\n        if (Browser.isDevice) {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'hidden';\n        }\n        else {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'auto';\n        }\n        // tslint:disable-next-line:max-line-length\n        this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber - 1].top * this.zoomFactor;\n    };\n    /**\n     * Returns zoom factor for the fit zooms.\n     */\n    Magnification.prototype.calculateFitZoomFactor = function (type) {\n        var viewerWidth = this.pdfViewerBase.viewerContainer.getBoundingClientRect().width;\n        var viewerHeight = this.pdfViewerBase.viewerContainer.getBoundingClientRect().height;\n        var highestWidth = 0;\n        var highestHeight = 0;\n        this.fitType = type;\n        if (this.fitType === 'fitToWidth') {\n            var pageWidth = 0;\n            for (var i = 0; i < this.pdfViewerBase.pageSize.length; i++) {\n                pageWidth = this.pdfViewerBase.pageSize[i].width;\n                if (pageWidth > highestWidth) {\n                    highestWidth = pageWidth;\n                }\n            }\n            var scaleX = ((viewerWidth - this.scrollWidth) / highestWidth);\n            if (this.isAutoZoom) {\n                this.fitType = null;\n                scaleX = Math.min(1, scaleX);\n                if (scaleX === 1) {\n                    this.zoomLevel = 2;\n                }\n            }\n            return scaleX * 100;\n        }\n        else {\n            var pageHeight = 0;\n            for (var i = 0; i < this.pdfViewerBase.pageSize.length; i++) {\n                pageHeight = this.pdfViewerBase.pageSize[i].height;\n                if (pageHeight > highestHeight) {\n                    highestHeight = pageHeight;\n                }\n            }\n            if (this.pdfViewerBase.pageCount === 1) {\n                return ((viewerHeight - this.pdfViewerBase.pageSize[0].top) / highestHeight) * 100;\n            }\n            else {\n                return (viewerHeight / highestHeight) * 100;\n            }\n        }\n    };\n    /**\n     * Performs pinch in operation\n     */\n    Magnification.prototype.pinchIn = function () {\n        this.fitType = null;\n        var temporaryZoomFactor = this.zoomFactor - this.pinchStep;\n        if (temporaryZoomFactor < 4 && temporaryZoomFactor > 2) {\n            temporaryZoomFactor = this.zoomFactor - this.pinchStep;\n        }\n        if (temporaryZoomFactor < 0.5) {\n            temporaryZoomFactor = 0.5;\n        }\n        this.isPinchZoomed = true;\n        this.onZoomChanged(temporaryZoomFactor * 100);\n    };\n    /**\n     * Performs pinch out operation\n     */\n    Magnification.prototype.pinchOut = function () {\n        this.fitType = null;\n        var temporaryZoomFactor = this.zoomFactor + this.pinchStep;\n        if (temporaryZoomFactor > 2) {\n            temporaryZoomFactor = temporaryZoomFactor + this.pinchStep;\n        }\n        if (temporaryZoomFactor > 4) {\n            temporaryZoomFactor = 4;\n        }\n        this.isPinchZoomed = true;\n        this.onZoomChanged(temporaryZoomFactor * 100);\n    };\n    /**\n     * returns zoom level for the zoom factor.\n     */\n    Magnification.prototype.getZoomLevel = function (zoomFactor) {\n        var min = 0;\n        var max = this.zoomPercentages.length - 1;\n        while ((min <= max) && !(min === 0 && max === 0)) {\n            var mid = Math.round((min + max) / 2);\n            if (this.zoomPercentages[mid] <= zoomFactor) {\n                min = mid + 1;\n            }\n            else if (this.zoomPercentages[mid] >= zoomFactor) {\n                max = mid - 1;\n            }\n        }\n        this.higherZoomLevel = min;\n        this.lowerZoomLevel = max;\n        return max;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.checkZoomFactor = function () {\n        return this.zoomPercentages.indexOf(this.zoomFactor * 100) > -1;\n    };\n    /**\n     * Executes when the zoom or pinch operation is performed\n     */\n    Magnification.prototype.onZoomChanged = function (zoomValue) {\n        this.previousZoomFactor = this.zoomFactor;\n        this.zoomLevel = this.getZoomLevel(zoomValue);\n        this.zoomFactor = this.getZoomFactor(zoomValue);\n        if (Browser.isDevice) {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'hidden';\n        }\n        else {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'auto';\n        }\n        if (this.pdfViewerBase.pageCount > 0) {\n            if (this.previousZoomFactor !== this.zoomFactor) {\n                if (!this.isPinchZoomed) {\n                    this.magnifyPages();\n                }\n                else {\n                    if (Browser.isDevice) {\n                        // tslint:disable-next-line:max-line-length\n                        this.pdfViewerBase.mobilePageNoContainer.style.left = (this.pdfViewer.element.clientWidth / 2) - (parseFloat(this.pdfViewerBase.mobilePageNoContainer.style.width) / 2) + 'px';\n                    }\n                    this.responsivePages();\n                }\n            }\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.toolbarModule.updateZoomButtons();\n            }\n            this.pdfViewer.fireZoomChange();\n        }\n        if (this.pdfViewer.toolbarModule) {\n            this.pdfViewer.toolbarModule.updateZoomPercentage(this.zoomFactor);\n        }\n        if (Browser.isDevice && this.isPinchZoomed) {\n            // tslint:disable-next-line:radix\n            var zoomPercentage = parseInt((this.zoomFactor * 100).toString()) + '%';\n            this.pdfViewerBase.navigationPane.createTooltipMobile(zoomPercentage);\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.setTouchPoints = function (clientX, clientY) {\n        this.touchCenterX = clientX;\n        this.touchCenterY = clientY;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.initiatePinchMove = function (pointX1, pointY1, pointX2, pointY2) {\n        this.isPinchScrolled = false;\n        this.isMagnified = false;\n        this.reRenderPageNumber = this.pdfViewerBase.currentPageNumber;\n        this.touchCenterX = (pointX1 + pointX2) / 2;\n        this.touchCenterY = (pointY1 + pointY2) / 2;\n        this.zoomOverPages(pointX1, pointY1, pointX2, pointY2);\n    };\n    Magnification.prototype.magnifyPages = function () {\n        this.clearRerenderTimer();\n        if (!this.isPagesZoomed) {\n            this.reRenderPageNumber = this.pdfViewerBase.currentPageNumber;\n        }\n        this.isPagesZoomed = true;\n        var scrollValue = this.getMagnifiedValue(this.pdfViewerBase.viewerContainer.scrollTop);\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(false, true);\n        }\n        this.isMagnified = true;\n        this.updatePageLocation();\n        this.resizeCanvas(this.reRenderPageNumber);\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.resizeTouchElements();\n        }\n        if (this.pdfViewerBase.pageSize.length > 0) {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.pageContainer.style.height = this.topValue + this.pdfViewerBase.getPageHeight(this.pdfViewerBase.pageSize.length - 1) + 'px';\n            // tslint:disable-next-line \n            var proxy_1 = this;\n            this.pdfViewerBase.renderedPagesList = [];\n            this.pdfViewerBase.pinchZoomStorage = [];\n            this.pdfViewerBase.viewerContainer.scrollTop = scrollValue;\n            this.magnifyPageRerenderTimer = setTimeout(function () { proxy_1.rerenderMagnifiedPages(); }, 800);\n        }\n    };\n    Magnification.prototype.updatePageLocation = function () {\n        this.topValue = 0;\n        for (var i = 1; i < this.pdfViewerBase.pageSize.length; i++) {\n            this.topValue += (this.pdfViewerBase.pageSize[i].height + this.pdfViewerBase.pageGap) * this.zoomFactor;\n        }\n    };\n    Magnification.prototype.clearRerenderTimer = function () {\n        clearTimeout(this.rerenderOnScrollTimer);\n        clearTimeout(this.magnifyPageRerenderTimer);\n        this.clearIntervalTimer();\n        this.isPinchScrolled = false;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.clearIntervalTimer = function () {\n        clearInterval(this.rerenderInterval);\n        this.rerenderInterval = null;\n        this.clearRendering();\n        var oldCanvases = document.querySelectorAll('canvas[id*=\"oldCanvas\"]');\n        for (var i = 0; i < oldCanvases.length; i++) {\n            // tslint:disable-next-line\n            var pageNumber = parseInt(oldCanvases[i].id.split('_oldCanvas_')[1]);\n            var pageCanvas = this.pdfViewerBase.getElement('_pageCanvas_' + pageNumber);\n            if (pageCanvas) {\n                oldCanvases[i].id = pageCanvas.id;\n                pageCanvas.parentElement.removeChild(pageCanvas);\n            }\n            else {\n                oldCanvases[i].id = this.pdfViewer.element.id + '_pageCanvas_' + pageNumber;\n            }\n        }\n        this.isRerenderCanvasCreated = false;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pushImageObjects = function (image) {\n        this.imageObjects.push(image);\n    };\n    Magnification.prototype.clearRendering = function () {\n        if (this.imageObjects) {\n            for (var j = 0; j < this.imageObjects.length; j++) {\n                if (this.imageObjects[j]) {\n                    this.imageObjects[j].onload = null;\n                }\n            }\n            this.imageObjects = [];\n        }\n    };\n    Magnification.prototype.rerenderMagnifiedPages = function () {\n        this.renderInSeparateThread(this.reRenderPageNumber);\n        this.isPagesZoomed = false;\n    };\n    Magnification.prototype.renderInSeparateThread = function (pageNumber) {\n        var _this = this;\n        this.designNewCanvas(pageNumber);\n        this.pageRerenderCount = 0;\n        this.pdfViewerBase.renderedPagesList = [];\n        this.pdfViewerBase.pinchZoomStorage = [];\n        this.isMagnified = false;\n        this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber);\n        // tslint:disable-next-line\n        var proxy = this;\n        this.rerenderInterval = setInterval(function () { _this.initiateRerender(proxy); }, 1);\n    };\n    Magnification.prototype.responsivePages = function () {\n        this.isPagesZoomed = true;\n        this.clearRerenderTimer();\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.clearTextSelection();\n        }\n        var scrollValue = this.pdfViewerBase.viewerContainer.scrollTop;\n        this.isAutoZoom = false;\n        this.updatePageLocation();\n        // tslint:disable-next-line:max-line-length\n        this.pdfViewerBase.pageContainer.style.height = this.topValue + this.pdfViewerBase.pageSize[this.pdfViewerBase.pageSize.length - 1].height * this.zoomFactor + 'px';\n        this.resizeCanvas(this.pdfViewerBase.currentPageNumber);\n        if (this.isPinchZoomed) {\n            this.calculateScrollValues(scrollValue);\n        }\n        this.pdfViewerBase.renderedPagesList = [];\n        this.pdfViewerBase.pinchZoomStorage = [];\n    };\n    Magnification.prototype.calculateScrollValues = function (scrollValue) {\n        var pageIndex = this.pdfViewerBase.currentPageNumber - 1;\n        var currentPageCanvas = this.pdfViewerBase.getElement('_pageDiv_' + pageIndex);\n        if (currentPageCanvas) {\n            var currentPageBounds = currentPageCanvas.getBoundingClientRect();\n            // update scroll top for the viewer container based on pinch zoom factor\n            var previousPageTop = (currentPageBounds.top) * this.previousZoomFactor;\n            var previousY = scrollValue + this.touchCenterY;\n            // tslint:disable-next-line:max-line-length\n            var currentY = (currentPageBounds.top) * this.zoomFactor + ((previousY - previousPageTop) < 0 ? previousY - previousPageTop : (previousY -\n                // tslint:disable-next-line:max-line-length\n                previousPageTop) * (this.zoomFactor / this.previousZoomFactor));\n            this.pdfViewerBase.viewerContainer.scrollTop = currentY - this.touchCenterY;\n            // update scroll left for the viewer container based on pinch zoom factor\n            var prevValue = (currentPageBounds.width * this.previousZoomFactor) / currentPageBounds.width;\n            var scaleCorrectionFactor = this.zoomFactor / prevValue - 1;\n            var scrollX_1 = this.touchCenterX - currentPageBounds.left;\n            this.pdfViewerBase.viewerContainer.scrollLeft += scrollX_1 * scaleCorrectionFactor;\n        }\n    };\n    Magnification.prototype.rerenderOnScroll = function () {\n        var _this = this;\n        this.isPinchZoomed = false;\n        if (this.isPinchScrolled) {\n            this.rerenderOnScrollTimer = null;\n            this.isPinchScrolled = false;\n            this.reRenderPageNumber = this.pdfViewerBase.currentPageNumber;\n            this.pdfViewerBase.renderedPagesList = [];\n            this.pdfViewerBase.pinchZoomStorage = [];\n            if (this.pdfViewerBase.textLayer) {\n                var textLayers = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n                for (var i = 0; i < textLayers.length; i++) {\n                    textLayers[i].style.display = 'block';\n                }\n            }\n            this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber);\n            this.isPagePinchZoomed = false;\n            this.rerenderOnScrollTimer = setTimeout(function () { _this.pdfViewerBase.pageViewScrollChanged(_this.reRenderPageNumber); }, 300);\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pinchMoveScroll = function () {\n        var _this = this;\n        if (this.isRerenderCanvasCreated) {\n            this.clearIntervalTimer();\n        }\n        if (this.isPagesZoomed || (!this.isRerenderCanvasCreated && this.isPagePinchZoomed)) {\n            this.clearRendering();\n            this.isPagesZoomed = false;\n            clearTimeout(this.magnifyPageRerenderTimer);\n            this.isPinchScrolled = true;\n            this.rerenderOnScrollTimer = setTimeout(function () { _this.rerenderOnScroll(); }, 100);\n        }\n    };\n    // tslint:disable-next-line\n    Magnification.prototype.initiateRerender = function (proxy) {\n        if (proxy.pageRerenderCount === proxy.pdfViewerBase.reRenderedCount && proxy.pageRerenderCount !== 0 && proxy.pdfViewerBase.reRenderedCount !== 0) {\n            proxy.reRenderAfterPinch(this.reRenderPageNumber);\n        }\n    };\n    Magnification.prototype.reRenderAfterPinch = function (currentPageIndex) {\n        this.pageRerenderCount = 0;\n        var lowerPageValue = currentPageIndex - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = currentPageIndex + 1;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + i);\n            var pageCanvas = this.pdfViewerBase.getElement('_pageCanvas_' + i);\n            if (pageCanvas) {\n                pageCanvas.style.display = 'block';\n            }\n            var oldCanvas = this.pdfViewerBase.getElement('_oldCanvas_' + i);\n            if (oldCanvas) {\n                oldCanvas.parentNode.removeChild(oldCanvas);\n            }\n            if (pageDiv) {\n                pageDiv.style.visibility = 'visible';\n            }\n        }\n        this.isRerenderCanvasCreated = false;\n        this.isPagePinchZoomed = false;\n        if (this.pdfViewerBase.reRenderedCount !== 0) {\n            this.pdfViewerBase.reRenderedCount = 0;\n            this.pageRerenderCount = 0;\n            clearInterval(this.rerenderInterval);\n            this.rerenderInterval = null;\n        }\n        this.imageObjects = [];\n    };\n    Magnification.prototype.designNewCanvas = function (currentPageIndex) {\n        if (this.pdfViewerBase.textLayer) {\n            this.pdfViewerBase.textLayer.clearTextLayers();\n        }\n        var lowerPageValue = currentPageIndex - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = currentPageIndex + 1; // jshint ignore:line\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            var canvas = this.pdfViewerBase.getElement('_pageCanvas_' + i);\n            if (canvas) {\n                canvas.id = this.pdfViewer.element.id + '_oldCanvas_' + i;\n                // tslint:disable-next-line:max-line-length\n                var newCanvas = this.pdfViewerBase.renderPageCanvas(this.pdfViewerBase.getElement('_pageDiv_' + i), this.pdfViewerBase.pageSize[i].width * this.zoomFactor, this.pdfViewerBase.pageSize[i].height * this.zoomFactor, i);\n                newCanvas.style.display = 'none';\n            }\n        }\n        this.isRerenderCanvasCreated = true;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pageRerenderOnMouseWheel = function () {\n        var _this = this;\n        if (this.isRerenderCanvasCreated) {\n            this.clearIntervalTimer();\n            clearTimeout(this.magnifyPageRerenderTimer);\n            if (!this.isPinchScrolled) {\n                this.isPinchScrolled = true;\n                this.rerenderOnScrollTimer = setTimeout(function () { _this.rerenderOnScroll(); }, 100);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.renderCountIncrement = function () {\n        if (this.isRerenderCanvasCreated) {\n            this.pageRerenderCount++;\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.rerenderCountIncrement = function () {\n        if (this.pageRerenderCount > 0) {\n            this.pdfViewerBase.reRenderedCount++;\n        }\n    };\n    Magnification.prototype.resizeCanvas = function (pageNumber) {\n        var lowerPageValue = pageNumber - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = pageNumber + 3;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + i);\n            var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + i);\n            if (pageDiv) {\n                if ((lowerPageValue <= i) && (i <= higherPageValue)) {\n                    var isSelectionAvailable = false;\n                    if (this.pdfViewer.textSelectionModule) {\n                        isSelectionAvailable = this.pdfViewer.textSelectionModule.isSelectionAvailableOnScroll(i);\n                    }\n                    if (this.pdfViewerBase.pageSize[i] != null) {\n                        var width = this.pdfViewerBase.pageSize[i].width * this.zoomFactor;\n                        var height = this.pdfViewerBase.pageSize[i].height * this.zoomFactor;\n                        pageDiv.style.width = width + 'px';\n                        pageDiv.style.height = height + 'px';\n                        // tslint:disable-next-line:max-line-length\n                        pageDiv.style.top = ((this.pdfViewerBase.pageSize[i].top) * this.zoomFactor) + 'px';\n                        if (this.pdfViewer.enableRtl) {\n                            pageDiv.style.right = this.pdfViewerBase.updateLeftPosition(i) + 'px';\n                        }\n                        else {\n                            pageDiv.style.left = this.pdfViewerBase.updateLeftPosition(i) + 'px';\n                        }\n                        var canvas = this.pdfViewerBase.getElement('_pageCanvas_' + i);\n                        if (canvas) {\n                            canvas.style.width = width + 'px';\n                            canvas.style.height = height + 'px';\n                        }\n                        if (textLayer) {\n                            textLayer.style.width = width + 'px';\n                            textLayer.style.height = height + 'px';\n                            if (this.pdfViewer.textSelectionModule) {\n                                if (this.isPinchZoomed) {\n                                    textLayer.style.display = 'none';\n                                }\n                                else if (this.isMagnified) {\n                                    var lowerValue = ((pageNumber - 2) === 0) ? 0 : (pageNumber - 2);\n                                    // tslint:disable-next-line:max-line-length\n                                    var higherValue = ((pageNumber) === (this.pdfViewerBase.pageCount)) ? (this.pdfViewerBase.pageCount - 1) : pageNumber;\n                                    if ((lowerValue <= i) && (i <= higherValue) && ((this.pdfViewer.textSelectionModule.isTextSelection && isSelectionAvailable) || this.pdfViewerBase.textLayer.getTextSearchStatus())) {\n                                        this.pdfViewerBase.textLayer.resizeTextContentsOnZoom(i);\n                                        if (this.pdfViewer.textSelectionModule.isTextSelection && isSelectionAvailable) {\n                                            this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(i);\n                                        }\n                                    }\n                                    else {\n                                        textLayer.style.display = 'none';\n                                    }\n                                }\n                                else {\n                                    textLayer.style.display = 'none';\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Magnification.prototype.zoomOverPages = function (pointX1, pointY1, pointX2, pointY2) {\n        // tslint:disable-next-line\n        var currentDifference = Math.sqrt(Math.pow((pointX1 - pointX2), 2) + Math.pow((pointY1 - pointY2), 2));\n        if (this.previousTouchDifference > -1) {\n            if (currentDifference > this.previousTouchDifference) {\n                this.pinchOut();\n            }\n            else if (currentDifference < this.previousTouchDifference) {\n                this.pinchIn();\n            }\n        }\n        this.previousTouchDifference = currentDifference;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pinchMoveEnd = function () {\n        this.touchCenterX = 0;\n        this.touchCenterY = 0;\n        this.previousTouchDifference = -1;\n        if (this.isPinchZoomed) {\n            this.isPinchScrolled = false;\n            this.isPagePinchZoomed = true;\n            this.pinchMoveScroll();\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.fitPageScrollMouseWheel = function (event) {\n        if (this.fitType === 'fitToPage') {\n            event.preventDefault();\n            if (event.wheelDelta > 0) {\n                this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n            }\n            else {\n                this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.magnifyBehaviorKeyDown = function (event) {\n        var isMac = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) ? true : false;\n        var isCommandKey = isMac ? event.metaKey : false;\n        switch (event.keyCode) {\n            case 38: // up arrow\n            case 37: // left arrow\n            case 33: // page up\n                if (this.fitType === 'fitToPage' && !((event.ctrlKey || isCommandKey) && event.shiftKey)) {\n                    event.preventDefault();\n                    this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n                }\n                break;\n            case 40: // down arrow\n            case 39: // right arrow\n            case 34: // page down\n                if (this.fitType === 'fitToPage' && !((event.ctrlKey || isCommandKey) && event.shiftKey)) {\n                    event.preventDefault();\n                    this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n                }\n                break;\n            case 187: // equal key\n                if (event.ctrlKey || isCommandKey) {\n                    event.preventDefault();\n                    this.zoomIn();\n                }\n                break;\n            case 189: // minus key\n                if (event.ctrlKey || isCommandKey) {\n                    event.preventDefault();\n                    this.zoomOut();\n                }\n                break;\n            case 48: // zero key\n                if ((event.ctrlKey || isCommandKey) && !event.shiftKey) {\n                    event.preventDefault();\n                    this.fitToPage();\n                }\n                break;\n            case 49: // one key\n                if ((event.ctrlKey || isCommandKey) && !event.shiftKey) {\n                    event.preventDefault();\n                    this.zoomTo(100);\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    Magnification.prototype.upwardScrollFitPage = function (currentPageIndex) {\n        if (currentPageIndex > 0) {\n            this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex - 1)).style.visibility = 'visible';\n            this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.pageSize[currentPageIndex - 1].top * this.zoomFactor;\n            this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex)).style.visibility = 'hidden';\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.updatePagesForFitPage = function (currentPageIndex) {\n        if (this.fitType === 'fitToPage') {\n            if (currentPageIndex > 0) {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex - 1)).style.visibility = 'hidden';\n            }\n            if (currentPageIndex < (this.pdfViewerBase.pageCount - 1)) {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex + 1)).style.visibility = 'hidden';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.onDoubleTapMagnification = function () {\n        this.pdfViewer.toolbarModule.showToolbar(false);\n        var scrollValue = this.pdfViewerBase.viewerContainer.scrollTop;\n        if (!this.isTapToFitZoom) {\n            if (this.zoomFactor < 2) {\n                this.zoomTo(200);\n            }\n            else {\n                this.fitToWidth();\n            }\n        }\n        else {\n            this.zoomTo(this.previousZoomFactor * 100);\n        }\n        this.calculateScrollValues(scrollValue);\n        this.isTapToFitZoom = !this.isTapToFitZoom;\n    };\n    Magnification.prototype.downwardScrollFitPage = function (currentPageIndex) {\n        if (currentPageIndex !== (this.pdfViewerBase.pageCount - 1)) {\n            this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex + 1)).style.visibility = 'visible';\n            this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.pageSize[currentPageIndex + 1].top * this.zoomFactor;\n            if (currentPageIndex + 1 === (this.pdfViewerBase.pageCount - 1)) {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex)).style.visibility = 'hidden';\n            }\n            else {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex + 2)).style.visibility = 'hidden';\n            }\n        }\n    };\n    Magnification.prototype.getMagnifiedValue = function (value) {\n        return (value / this.previousZoomFactor) * this.zoomFactor;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.destroy = function () {\n        this.imageObjects = undefined;\n    };\n    /**\n     * returns zoom factor when the zoom percent is passed.\n     */\n    Magnification.prototype.getZoomFactor = function (zoomValue) {\n        return zoomValue / 100;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.getModuleName = function () {\n        return 'Magnification';\n    };\n    return Magnification;\n}());\nexport { Magnification };\n","/**\n * Navigation module\n */\nvar Navigation = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Navigation(viewer, viewerBase) {\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * Navigate to Next page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToNextPage = function () {\n        this.pageNumber = this.pdfViewerBase.currentPageNumber;\n        this.pageNumber++;\n        if (this.pageNumber <= this.pdfViewerBase.pageCount) {\n            this.pdfViewerBase.updateScrollTop(this.pageNumber - 1);\n        }\n    };\n    /**\n     * Navigate to Previous page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToPreviousPage = function () {\n        this.pageNumber = this.pdfViewerBase.currentPageNumber;\n        this.pageNumber--;\n        if (this.pageNumber > 0) {\n            this.pdfViewerBase.updateScrollTop(this.pageNumber - 1);\n        }\n    };\n    /**\n     * Navigate to given Page number\n     * Note : In case if we have provided incorrect page number as argument it will retain the existing page\n     * @param  {number} pageNumber - Defines the page number to navigate\n     * @returns void\n     */\n    Navigation.prototype.goToPage = function (pageNumber) {\n        if (pageNumber > 0 && pageNumber <= this.pdfViewerBase.pageCount && this.pdfViewerBase.currentPageNumber !== pageNumber) {\n            this.pdfViewerBase.updateScrollTop(pageNumber - 1);\n        }\n    };\n    /**\n     * Navigate to First page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToFirstPage = function () {\n        this.pageNumber = 0;\n        this.pdfViewerBase.updateScrollTop(this.pageNumber);\n    };\n    /**\n     * Navigate to Last page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToLastPage = function () {\n        this.pageNumber = this.pdfViewerBase.pageCount - 1;\n        this.pdfViewerBase.updateScrollTop(this.pageNumber);\n    };\n    /**\n     * @private\n     */\n    Navigation.prototype.destroy = function () {\n        this.pageNumber = 0;\n    };\n    /**\n     * @private\n     */\n    Navigation.prototype.getModuleName = function () {\n        return 'Navigation';\n    };\n    return Navigation;\n}());\nexport { Navigation };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * The `ThumbnailView` module is used to handle thumbnail view navigation of PDF viewer.\n * @hidden\n */\nvar ThumbnailView = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ThumbnailView(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        this.thumbnailLimit = 30;\n        this.thumbnailThreshold = 50;\n        this.thumbnailTopMargin = 10;\n        /**\n         * @private\n         */\n        this.isThumbnailClicked = false;\n        /**\n         * @private\n         */\n        this.thumbnailClick = function (event) {\n            var proxy = _this;\n            var pageNumber = proxy.getPageNumberFromID(event.srcElement.id);\n            if (proxy.previousElement) {\n                proxy.previousElement.classList.remove('e-pv-thumbnail-selection');\n                proxy.previousElement.classList.remove('e-pv-thumbnail-focus');\n                proxy.previousElement.classList.add('e-pv-thumbnail-selection-ring');\n            }\n            if (event.srcElement.parentElement.id === proxy.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n                proxy.setSelectionStyle(event.srcElement.parentElement);\n                proxy.previousElement = event.srcElement.parentElement;\n            }\n            else if (event.srcElement.id === proxy.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n                proxy.setSelectionStyle(event.srcElement);\n                proxy.previousElement = event.srcElement;\n            }\n            proxy.isThumbnailClicked = true;\n            proxy.goToThumbnailPage(pageNumber + 1);\n            proxy.pdfViewerBase.focusViewerContainer();\n        };\n        /**\n         * @private\n         */\n        this.thumbnailMouseOver = function (event) {\n            var proxy = _this;\n            var pageNumber = proxy.getPageNumberFromID(event.srcElement.id);\n            if (event.srcElement.id === proxy.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n                proxy.setMouseOverStyle(event.srcElement);\n            }\n            else if (event.srcElement.id === proxy.pdfViewer.element.id + '_thumbnail_image_' + pageNumber) {\n                proxy.setMouseOverStyle(event.srcElement.parentElement);\n            }\n        };\n        /**\n         * @private\n         */\n        this.thumbnailMouseLeave = function (event) {\n            var proxy = _this;\n            var pageNumber = proxy.getPageNumberFromID(event.srcElement.id);\n            if (event.srcElement.parentElement.id === proxy.pdfViewer.element.id + '_thumbnail_view') {\n                proxy.setMouseLeaveStyle(event.srcElement.children[0].children[0]);\n            }\n            else if (event.srcElement.parentElement.id === proxy.pdfViewer.element.id + '_thumbnail_' + pageNumber) {\n                proxy.setMouseLeaveStyle(event.srcElement.parentElement.children[0]);\n            }\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.createThumbnailContainer = function () {\n        // tslint:disable-next-line:max-line-length\n        this.thumbnailView = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_view', className: 'e-pv-thumbnail-view e-pv-thumbnail-row' });\n        this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.thumbnailView);\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    ThumbnailView.prototype.createRequestForThumbnails = function () {\n        var proxy = this;\n        // tslint:disable-next-line\n        var isIE = !!document.documentMode;\n        if (!isIE) {\n            // tslint:disable-next-line\n            return new Promise(\n            // tslint:disable-next-line\n            function (renderThumbnailImage, reject) {\n                proxy.requestCreation(proxy);\n            });\n        }\n        else {\n            this.requestCreation(proxy);\n            return null;\n        }\n    };\n    ThumbnailView.prototype.requestCreation = function (proxy) {\n        var _this = this;\n        if (!proxy.isThumbnailCompleted) {\n            // tslint:disable-next-line:max-line-length\n            proxy.thumbnailLimit = proxy.thumbnailLimit < proxy.pdfViewer.pageCount ? proxy.thumbnailLimit : proxy.pdfViewer.pageCount;\n            if (proxy.thumbnailLimit !== proxy.pdfViewer.pageCount) {\n                proxy.isThumbnailCompleted = false;\n                proxy.startIndex = 0;\n            }\n        }\n        else {\n            proxy.startIndex = proxy.thumbnailLimit;\n            // tslint:disable-next-line:max-line-length\n            proxy.thumbnailLimit = proxy.startIndex + proxy.thumbnailThreshold < proxy.pdfViewer.pageCount ? proxy.startIndex + proxy.thumbnailThreshold : proxy.pdfViewer.pageCount;\n        }\n        var request = new XMLHttpRequest();\n        // tslint:disable-next-line:max-line-length\n        var jsonObject = { startPage: proxy.startIndex, endPage: proxy.thumbnailLimit, sizeX: 99.7, sizeY: 141, hashId: proxy.pdfViewerBase.hashId };\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.renderThumbnail);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                proxy.renderThumbnailImage(data);\n                if (!proxy.isThumbnailCompleted) {\n                    proxy.startIndex = proxy.thumbnailLimit;\n                    proxy.isThumbnailCompleted = true;\n                }\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.pdfViewerBase.openNotificationPopup();\n            proxy.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.gotoThumbnailImage = function (pageNumber) {\n        var shouldScroll = this.checkThumbnailScroll(pageNumber);\n        if (this.thumbnailView) {\n            var thumbnailChild = this.thumbnailView.children[pageNumber];\n            if (thumbnailChild) {\n                var thumbnailDiv = thumbnailChild.children[0];\n                if (shouldScroll) {\n                    var offsetTop = thumbnailDiv.offsetTop + thumbnailDiv.clientTop - this.thumbnailTopMargin;\n                    this.pdfViewerBase.navigationPane.sideBarContent.scrollTop = offsetTop;\n                }\n                if (!this.isThumbnailClicked) {\n                    if (this.previousElement) {\n                        this.previousElement.classList.remove('e-pv-thumbnail-selection');\n                        this.previousElement.classList.remove('e-pv-thumbnail-focus');\n                        this.previousElement.classList.remove('e-pv-thumbnail-hover');\n                        this.previousElement.classList.add('e-pv-thumbnail-selection-ring');\n                    }\n                    this.setFocusStyle(thumbnailDiv, pageNumber);\n                }\n                this.previousElement = thumbnailDiv.children[0];\n            }\n        }\n    };\n    ThumbnailView.prototype.checkThumbnailScroll = function (pageNumber) {\n        var shouldScroll = false;\n        if (this.thumbnailView) {\n            var visibleThumbs = this.getVisibleThumbs();\n            var numVisibleThumbs = visibleThumbs.views.length;\n            // if the thumbnail isn't currently visible, scroll it into view.\n            if (numVisibleThumbs > 0) {\n                var visibleFirstPageID = this.getPageNumberFromID(visibleThumbs.first.id);\n                // account for only one thumbnail being visible.\n                // tslint:disable-next-line:max-line-length\n                var visibleLastPageID = (numVisibleThumbs > 1 ? this.getPageNumberFromID(visibleThumbs.last.id) : visibleFirstPageID);\n                if (pageNumber <= visibleFirstPageID || pageNumber >= visibleLastPageID) {\n                    shouldScroll = true;\n                }\n                else {\n                    // tslint:disable-next-line\n                    visibleThumbs.views.some(function (view) {\n                        var pageID = view.id.split('_');\n                        var thumbPageNumber = pageID[pageID.length - 1];\n                        // tslint:disable-next-line:radix\n                        if (parseInt(thumbPageNumber) !== pageNumber) {\n                            return false;\n                        }\n                        shouldScroll = view.percent < 100;\n                        return true;\n                    });\n                }\n            }\n        }\n        return shouldScroll;\n    };\n    ThumbnailView.prototype.getPageNumberFromID = function (pageId) {\n        var pageID = pageId.split('_');\n        var pageNumber = pageID[pageID.length - 1];\n        // tslint:disable-next-line:radix\n        return parseInt(pageNumber);\n    };\n    ThumbnailView.prototype.setFocusStyle = function (thumbnail, pageNumber) {\n        if (thumbnail.children[0].id === this.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n            this.setMouseFocusStyle(thumbnail.children[0]);\n        }\n    };\n    // tslint:disable-next-line\n    ThumbnailView.prototype.renderThumbnailImage = function (data) {\n        if (this.thumbnailView) {\n            for (var i = this.startIndex; i < this.thumbnailLimit; i++) {\n                var pageLink = createElement('a', { id: 'page_' + i });\n                // tslint:disable-next-line:max-line-length\n                var thumbnail = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_' + i, className: 'e-pv-thumbnail e-pv-thumbnail-column' });\n                // tslint:disable-next-line:max-line-length\n                this.thumbnailSelectionRing = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + i, className: 'e-pv-thumbnail-selection-ring' });\n                thumbnail.appendChild(this.thumbnailSelectionRing);\n                // tslint:disable-next-line:max-line-length\n                var thumbnailPageNumber = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_pagenumber_' + i, className: 'e-pv-thumbnail-number' });\n                thumbnailPageNumber.textContent = (i + 1).toString();\n                thumbnail.appendChild(thumbnailPageNumber);\n                // tslint:disable-next-line:max-line-length\n                this.thumbnailImage = createElement('img', { id: this.pdfViewer.element.id + '_thumbnail_image_' + i, className: 'e-pv-thumbnail-image' });\n                this.thumbnailImage.src = data.thumbnailImage[i];\n                this.thumbnailSelectionRing.appendChild(this.thumbnailImage);\n                pageLink.appendChild(thumbnail);\n                this.thumbnailView.appendChild(pageLink);\n                this.wireUpEvents();\n                if (i === 0) {\n                    this.setMouseFocusToFirstPage();\n                }\n            }\n        }\n        this.pdfViewerBase.navigationPane.enableThumbnailButton();\n        if (this.thumbnailLimit !== this.pdfViewerBase.pageCount && this.thumbnailView) {\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (!isIE) {\n                Promise.all([this.createRequestForThumbnails()]);\n            }\n            else {\n                this.createRequestForThumbnails();\n            }\n        }\n    };\n    ThumbnailView.prototype.wireUpEvents = function () {\n        if (this.thumbnailSelectionRing) {\n            this.thumbnailSelectionRing.addEventListener('click', this.thumbnailClick);\n            this.thumbnailSelectionRing.addEventListener('mouseover', this.thumbnailMouseOver);\n            this.thumbnailSelectionRing.addEventListener('mouseleave', this.thumbnailMouseLeave);\n        }\n    };\n    ThumbnailView.prototype.unwireUpEvents = function () {\n        if (this.thumbnailSelectionRing && this.thumbnailImage) {\n            this.thumbnailSelectionRing.removeEventListener('click', this.thumbnailClick);\n            this.thumbnailSelectionRing.removeEventListener('mouseover', this.thumbnailMouseOver);\n            this.thumbnailSelectionRing.removeEventListener('mouseleave', this.thumbnailMouseLeave);\n        }\n    };\n    ThumbnailView.prototype.goToThumbnailPage = function (pageNumber) {\n        if (pageNumber > 0 && pageNumber <= this.pdfViewerBase.pageCount && this.pdfViewerBase.currentPageNumber !== pageNumber) {\n            this.pdfViewerBase.updateScrollTop(pageNumber - 1);\n        }\n        else {\n            this.isThumbnailClicked = false;\n        }\n    };\n    ThumbnailView.prototype.setSelectionStyle = function (thumbnailElement) {\n        thumbnailElement.classList.remove('e-pv-thumbnail-selection-ring');\n        thumbnailElement.classList.remove('e-pv-thumbnail-hover');\n        thumbnailElement.classList.remove('e-pv-thumbnail-focus');\n        thumbnailElement.classList.add('e-pv-thumbnail-selection');\n    };\n    ThumbnailView.prototype.setMouseOverStyle = function (thumbnailElement) {\n        // tslint:disable-next-line:max-line-length\n        if (!thumbnailElement.classList.contains('e-pv-thumbnail-selection')) {\n            thumbnailElement.classList.remove('e-pv-thumbnail-selection-ring');\n            if (!thumbnailElement.classList.contains('e-pv-thumbnail-focus')) {\n                thumbnailElement.classList.add('e-pv-thumbnail-hover');\n            }\n        }\n    };\n    ThumbnailView.prototype.setMouseLeaveStyle = function (thumbnailElement) {\n        if (!thumbnailElement.classList.contains('e-pv-thumbnail-selection')) {\n            if (!thumbnailElement.classList.contains('e-pv-thumbnail-focus')) {\n                thumbnailElement.classList.add('e-pv-thumbnail-selection-ring');\n            }\n            thumbnailElement.classList.remove('e-pv-thumbnail-hover');\n        }\n        else {\n            if (!thumbnailElement.classList.contains('e-pv-thumbnail-selection')) {\n                thumbnailElement.classList.remove('e-pv-thumbnail-selection');\n                thumbnailElement.classList.add('e-pv-thumbnail-focus');\n            }\n        }\n    };\n    ThumbnailView.prototype.setMouseFocusStyle = function (thumbnailElement) {\n        thumbnailElement.classList.remove('e-pv-thumbnail-selection');\n        thumbnailElement.classList.remove('e-pv-thumbnail-hover');\n        thumbnailElement.classList.add('e-pv-thumbnail-focus');\n    };\n    ThumbnailView.prototype.setMouseFocusToFirstPage = function () {\n        var thumbnailChild = this.thumbnailView.children[0];\n        if (thumbnailChild) {\n            var thumbnailDiv = thumbnailChild.children[0].children[0];\n            this.setMouseFocusStyle(thumbnailDiv);\n            this.previousElement = thumbnailDiv;\n        }\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.clear = function () {\n        this.startIndex = 0;\n        this.thumbnailLimit = 0;\n        this.isThumbnailCompleted = false;\n        if (this.pdfViewerBase.navigationPane) {\n            if (this.pdfViewerBase.navigationPane.sideBarContentContainer) {\n                this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display = 'block';\n                this.pdfViewerBase.navigationPane.sideBarContent.scrollTop = 0;\n                this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display = 'none';\n            }\n        }\n        if (this.thumbnailView) {\n            while (this.thumbnailView.hasChildNodes()) {\n                this.thumbnailView.removeChild(this.thumbnailView.lastChild);\n            }\n        }\n        if (this.pdfViewerBase.navigationPane) {\n            this.pdfViewerBase.navigationPane.resetThumbnailView();\n        }\n        this.unwireUpEvents();\n    };\n    ThumbnailView.prototype.getVisibleThumbs = function () {\n        return this.getVisibleElements(this.pdfViewerBase.navigationPane.sideBarContent, this.thumbnailView.children);\n    };\n    ThumbnailView.prototype.getVisibleElements = function (scrollElement, thumbnailViewChildren) {\n        var top = scrollElement.scrollTop;\n        var bottom = top + scrollElement.clientHeight;\n        var left = scrollElement.scrollLeft;\n        var right = left + scrollElement.clientWidth;\n        function isThumbnailElementBottomAfterViewTop(thumbnailViewChildrenElement) {\n            var elementBottom = thumbnailViewChildrenElement.offsetTop + thumbnailViewChildrenElement.clientTop + thumbnailViewChildrenElement.clientHeight;\n            return elementBottom > top;\n        }\n        // tslint:disable-next-line\n        var visible = [];\n        var thumbnailView;\n        var element;\n        var currentHeight;\n        var viewHeight;\n        var viewBottom;\n        var hiddenHeight;\n        var currentWidth;\n        var viewWidth;\n        var viewRight;\n        var hiddenWidth;\n        var percentVisible;\n        var firstVisibleElementInd = thumbnailViewChildren.length === 0 ? 0 :\n            this.binarySearchFirstItem(thumbnailViewChildren, isThumbnailElementBottomAfterViewTop);\n        if (thumbnailViewChildren.length > 0) {\n            firstVisibleElementInd =\n                this.backtrackBeforeAllVisibleElements(firstVisibleElementInd, thumbnailViewChildren, top);\n        }\n        var lastEdge = -1;\n        for (var i = firstVisibleElementInd, ii = thumbnailViewChildren.length; i < ii; i++) {\n            thumbnailView = this.getThumbnailElement(i);\n            element = thumbnailView;\n            currentWidth = element.offsetLeft + element.clientLeft;\n            currentHeight = element.offsetTop + element.clientTop;\n            viewWidth = element.clientWidth;\n            viewHeight = element.clientHeight;\n            viewRight = currentWidth + viewWidth;\n            viewBottom = currentHeight + viewHeight;\n            if (lastEdge === -1) {\n                if (viewBottom >= bottom) {\n                    lastEdge = viewBottom;\n                }\n            }\n            else if (currentHeight > lastEdge) {\n                break;\n            }\n            if (viewBottom <= top || currentHeight >= bottom ||\n                viewRight <= left || currentWidth >= right) {\n                continue;\n            }\n            hiddenHeight = Math.max(0, top - currentHeight) +\n                Math.max(0, viewBottom - bottom);\n            hiddenWidth = Math.max(0, left - currentWidth) +\n                Math.max(0, viewRight - right);\n            // tslint:disable-next-line:no-bitwise\n            percentVisible = ((viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth) | 0;\n            visible.push({\n                id: thumbnailView.id,\n                x: currentWidth,\n                y: currentHeight,\n                view: thumbnailView,\n                percent: percentVisible,\n            });\n        }\n        var first = visible[0];\n        var last = visible[visible.length - 1];\n        return { first: first, last: last, views: visible, };\n    };\n    // tslint:disable-next-line\n    ThumbnailView.prototype.binarySearchFirstItem = function (items, condition) {\n        var minIndex = 0;\n        var maxIndex = items.length - 1;\n        if (items.length === 0 || !condition(this.getThumbnailElement(maxIndex))) {\n            return items.length - 1;\n        }\n        if (condition(this.getThumbnailElement(minIndex))) {\n            return minIndex;\n        }\n        while (minIndex < maxIndex) {\n            // tslint:disable-next-line:no-bitwise\n            var currentIndex = (minIndex + maxIndex) >> 1;\n            if (condition(this.getThumbnailElement(currentIndex))) {\n                maxIndex = currentIndex;\n            }\n            else {\n                minIndex = currentIndex + 1;\n            }\n        }\n        return minIndex; /* === maxIndex */\n    };\n    ThumbnailView.prototype.backtrackBeforeAllVisibleElements = function (index, views, top) {\n        if (index < 2) {\n            return index;\n        }\n        var thumbnailElement = this.getThumbnailElement(index);\n        var pageTop = thumbnailElement.offsetTop + thumbnailElement.clientTop;\n        if (pageTop >= top) {\n            thumbnailElement = this.getThumbnailElement(index - 1);\n            pageTop = thumbnailElement.offsetTop + thumbnailElement.clientTop;\n        }\n        for (var i = index - 2; i >= 0; --i) {\n            thumbnailElement = this.getThumbnailElement(i);\n            if (thumbnailElement.offsetTop + thumbnailElement.clientTop + thumbnailElement.clientHeight <= pageTop) {\n                break;\n            }\n            index = i;\n        }\n        return index;\n    };\n    ThumbnailView.prototype.getThumbnailElement = function (index) {\n        var thumbnailChild = this.thumbnailView.children[index];\n        return thumbnailChild.children[0];\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.getModuleName = function () {\n        return 'ThumbnailView';\n    };\n    return ThumbnailView;\n}());\nexport { ThumbnailView };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Toolbar module\n */\nvar Toolbar = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Toolbar(viewer, viewerBase) {\n        var _this = this;\n        this.isPageNavigationToolDisabled = false;\n        this.isMagnificationToolDisabled = false;\n        this.isSelectionToolDisabled = false;\n        this.isScrollingToolDisabled = false;\n        this.isOpenBtnVisible = true;\n        this.isNavigationToolVisible = true;\n        this.isMagnificationToolVisible = true;\n        this.isSelectionBtnVisible = true;\n        this.isScrollingBtnVisible = true;\n        this.isDownloadBtnVisible = true;\n        this.isPrintBtnVisible = true;\n        this.isSearchBtnVisible = true;\n        this.isTextSearchBoxDisplayed = false;\n        this.onToolbarKeydown = function (event) {\n            var targetId = event.target.id;\n            if (!(targetId === _this.pdfViewer.element.id + '_currentPageInput' || targetId === _this.pdfViewer.element.id + '_zoomDropDown')) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        };\n        this.toolbarClickHandler = function (args) {\n            // tslint:disable-next-line:max-line-length\n            if (!Browser.isDevice) {\n                if (args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2]) {\n                    args.cancel = true;\n                }\n                else if (args.originalEvent.target.id === _this.pdfViewer.element.id + '_openIcon') {\n                    var tooltipData = args.originalEvent.target.parentElement.dataset;\n                    if (tooltipData && tooltipData.tooltipId) {\n                        var tooltipElement = document.getElementById(tooltipData.tooltipId);\n                        if (tooltipElement) {\n                            tooltipElement.style.display = 'none';\n                        }\n                    }\n                }\n            }\n            switch (args.originalEvent.target.id) {\n                case _this.pdfViewer.element.id + '_open':\n                case _this.pdfViewer.element.id + '_openIcon':\n                    _this.fileInputElement.click();\n                    if (Browser.isDevice) {\n                        args.originalEvent.target.blur();\n                        _this.pdfViewerBase.focusViewerContainer();\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_download':\n                case _this.pdfViewer.element.id + '_downloadIcon':\n                    _this.pdfViewerBase.download();\n                    break;\n                case _this.pdfViewer.element.id + '_print':\n                case _this.pdfViewer.element.id + '_printIcon':\n                    if (_this.pdfViewer.printModule) {\n                        _this.pdfViewer.printModule.print();\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_firstPage':\n                case _this.pdfViewer.element.id + '_firstPageIcon':\n                    if (_this.pdfViewer.navigationModule) {\n                        _this.pdfViewer.navigationModule.goToFirstPage();\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_previousPage':\n                case _this.pdfViewer.element.id + '_previousPageIcon':\n                    if (_this.pdfViewer.navigationModule) {\n                        _this.pdfViewer.navigationModule.goToPreviousPage();\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_nextPage':\n                case _this.pdfViewer.element.id + '_nextPageIcon':\n                    if (_this.pdfViewer.navigationModule) {\n                        _this.pdfViewer.navigationModule.goToNextPage();\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_lastPage':\n                case _this.pdfViewer.element.id + '_lastPageIcon':\n                    if (_this.pdfViewer.navigationModule) {\n                        _this.pdfViewer.navigationModule.goToLastPage();\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_zoomIn':\n                case _this.pdfViewer.element.id + '_zoomInIcon':\n                    _this.pdfViewer.magnificationModule.zoomIn();\n                    break;\n                case _this.pdfViewer.element.id + '_zoomOut':\n                case _this.pdfViewer.element.id + '_zoomOutIcon':\n                    _this.pdfViewer.magnificationModule.zoomOut();\n                    break;\n                case _this.pdfViewer.element.id + '_selectTool':\n                case _this.pdfViewer.element.id + '_selectToolIcon':\n                    if (!_this.isSelectionToolDisabled) {\n                        _this.pdfViewerBase.initiateTextSelectMode();\n                        _this.updateInteractionTools(true);\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_handTool':\n                case _this.pdfViewer.element.id + '_handToolIcon':\n                    if (!_this.isScrollingToolDisabled) {\n                        _this.pdfViewerBase.initiatePanning();\n                        _this.updateInteractionTools(false);\n                    }\n                    break;\n                case _this.pdfViewer.element.id + '_search':\n                case _this.pdfViewer.element.id + '_searchIcon':\n                    _this.textSearchButtonHandler();\n                    break;\n            }\n            // tslint:disable-next-line:max-line-length\n            if (!Browser.isDevice) {\n                if (!(args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2] || args.originalEvent.target === _this.currentPageBoxElement || args.originalEvent.target === _this.textSearchItem.childNodes[0])) {\n                    args.originalEvent.target.blur();\n                    _this.pdfViewerBase.focusViewerContainer();\n                }\n            }\n        };\n        // tslint:disable-next-line\n        this.loadDocument = function (args) {\n            // tslint:disable-next-line\n            var upoadedFiles = args.target.files;\n            if (args.target.files[0] !== null) {\n                var uploadedFile = upoadedFiles[0];\n                if (uploadedFile) {\n                    _this.uploadedDocumentName = uploadedFile.name;\n                    var reader = new FileReader();\n                    reader.readAsDataURL(uploadedFile);\n                    // tslint:disable-next-line\n                    reader.onload = function (e) {\n                        var uploadedFileUrl = e.currentTarget.result;\n                        _this.pdfViewer.load(uploadedFileUrl, null);\n                    };\n                }\n            }\n        };\n        this.navigateToPage = function (args) {\n            if (args.which === 13) {\n                // tslint:disable-next-line\n                var enteredValue = parseInt(_this.currentPageBoxElement.value);\n                if (enteredValue !== null) {\n                    if (enteredValue > 0 && enteredValue <= _this.pdfViewerBase.pageCount) {\n                        if (_this.pdfViewer.navigationModule) {\n                            _this.pdfViewer.navigationModule.goToPage(enteredValue);\n                        }\n                    }\n                    else {\n                        _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                    }\n                }\n                else {\n                    _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                }\n                _this.currentPageBoxElement.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        };\n        this.textBoxFocusOut = function () {\n            // tslint:disable-next-line\n            if (_this.currentPageBox.value === null || _this.currentPageBox.value >= _this.pdfViewerBase.pageCount || _this.currentPageBox.value !== _this.pdfViewerBase.currentPageNumber) {\n                _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n            }\n        };\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * @private\n     */\n    Toolbar.prototype.intializeToolbar = function (width) {\n        var toolbarDiv = this.createToolbar(width);\n        // tslint:disable-next-line\n        var isIE = !!document.documentMode;\n        if (isIE) {\n            this.totalPageItem.classList.add('e-pv-total-page-ms');\n        }\n        this.createFileElement(toolbarDiv);\n        this.wireEvent();\n        this.updateToolbarItems();\n        if (!Browser.isDevice) {\n            this.applyToolbarSettings();\n            this.initialEnableItems();\n        }\n        return toolbarDiv;\n    };\n    /**\n     * Shows /hides the toolbar in the PdfViewer\n     * @param  {boolean} enableToolbar - If set true , its show the Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showToolbar = function (enableToolbar) {\n        var toolbar = this.toolbarElement;\n        if (enableToolbar) {\n            toolbar.style.display = 'block';\n        }\n        else {\n            toolbar.style.display = 'none';\n            if (!Browser.isDevice) {\n                this.pdfViewerBase.navigationPane.sideBarToolbar.style.display = 'none';\n            }\n        }\n    };\n    /**\n     * Shows /hides the the toolbar items in the PdfViewer\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isVisible - If set true, then its show the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.showToolbarItem = function (items, isVisible) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.showOpenOption(isVisible);\n                    break;\n                case 'PageNavigationTool':\n                    this.showPageNavigationTool(isVisible);\n                    break;\n                case 'MagnificationTool':\n                    this.showMagnificationTool(isVisible);\n                    break;\n                case 'SelectionTool':\n                    this.showSelectionTool(isVisible);\n                    break;\n                case 'PanTool':\n                    this.showScrollingTool(isVisible);\n                    break;\n                case 'DownloadOption':\n                    this.showDownloadOption(isVisible);\n                    break;\n                case 'PrintOption':\n                    this.showPrintOption(isVisible);\n                    break;\n                case 'SearchOption':\n                    this.showSearchOption(isVisible);\n                    break;\n            }\n        }\n        this.applyHideToToolbar(true, 1, 1);\n        this.applyHideToToolbar(true, 8, 8);\n        this.applyHideToToolbar(true, 12, 12);\n        this.showSeparator(items);\n    };\n    /**\n     * Enables /disables the the toolbar items in the PdfViewer\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isEnable - If set true, then its Enable the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.enableToolbarItem = function (items, isEnable) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.enableOpenOption(isEnable);\n                    break;\n                case 'PageNavigationTool':\n                    this.isPageNavigationToolDisabled = isEnable;\n                    this.enablePageNavigationTool(isEnable);\n                    break;\n                case 'MagnificationTool':\n                    this.isMagnificationToolDisabled = isEnable;\n                    this.enableMagnificationTool(isEnable);\n                    break;\n                case 'SelectionTool':\n                    this.isSelectionToolDisabled = isEnable;\n                    this.enableSelectionTool(isEnable);\n                    break;\n                case 'PanTool':\n                    this.isScrollingToolDisabled = isEnable;\n                    this.enableScrollingTool(isEnable);\n                    break;\n                case 'DownloadOption':\n                    this.enableDownloadOption(isEnable);\n                    break;\n                case 'PrintOption':\n                    this.enablePrintOption(isEnable);\n                    break;\n                case 'SearchOption':\n                    this.enableSearchOption(isEnable);\n                    break;\n            }\n        }\n    };\n    Toolbar.prototype.showOpenOption = function (enableOpenOption) {\n        this.isOpenBtnVisible = enableOpenOption;\n        this.applyHideToToolbar(enableOpenOption, 0, 0);\n    };\n    Toolbar.prototype.showPageNavigationTool = function (enablePageNavigationTool) {\n        this.isNavigationToolVisible = enablePageNavigationTool;\n        this.applyHideToToolbar(enablePageNavigationTool, 2, 7);\n    };\n    Toolbar.prototype.showMagnificationTool = function (enableMagnificationTool) {\n        this.isMagnificationToolVisible = enableMagnificationTool;\n        this.applyHideToToolbar(enableMagnificationTool, 9, 11);\n    };\n    Toolbar.prototype.showSelectionTool = function (enableSelectionTool) {\n        this.isSelectionBtnVisible = enableSelectionTool;\n        this.applyHideToToolbar(enableSelectionTool, 13, 13);\n    };\n    Toolbar.prototype.showScrollingTool = function (enableScrollingTool) {\n        this.isScrollingBtnVisible = enableScrollingTool;\n        this.applyHideToToolbar(enableScrollingTool, 14, 14);\n    };\n    Toolbar.prototype.showDownloadOption = function (enableDownloadOption) {\n        this.isDownloadBtnVisible = enableDownloadOption;\n        this.applyHideToToolbar(enableDownloadOption, 16, 16);\n    };\n    Toolbar.prototype.showPrintOption = function (enablePrintOption) {\n        this.isPrintBtnVisible = enablePrintOption;\n        this.applyHideToToolbar(enablePrintOption, 17, 17);\n    };\n    Toolbar.prototype.showSearchOption = function (enableSearchOption) {\n        this.isSearchBtnVisible = enableSearchOption;\n        this.applyHideToToolbar(enableSearchOption, 15, 15);\n    };\n    Toolbar.prototype.enableOpenOption = function (enableOpenOption) {\n        this.toolbar.enableItems(this.openDocumentItem.parentElement, enableOpenOption);\n    };\n    Toolbar.prototype.enablePageNavigationTool = function (enablePageNavigationTool) {\n        this.toolbar.enableItems(this.firstPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.previousPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.nextPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.lastPageItem.parentElement, enablePageNavigationTool);\n        this.currentPageBox.readonly = !enablePageNavigationTool;\n    };\n    Toolbar.prototype.enableMagnificationTool = function (enableMagnificationTool) {\n        this.toolbar.enableItems(this.zoomInItem.parentElement, enableMagnificationTool);\n        this.toolbar.enableItems(this.zoomOutItem.parentElement, enableMagnificationTool);\n        this.zoomDropDown.readonly = !enableMagnificationTool;\n    };\n    Toolbar.prototype.enableSelectionTool = function (enableSelectionTool) {\n        this.toolbar.enableItems(this.textSelectItem.parentElement, enableSelectionTool);\n    };\n    Toolbar.prototype.enableScrollingTool = function (enableScrollingTool) {\n        this.toolbar.enableItems(this.panItem.parentElement, enableScrollingTool);\n    };\n    Toolbar.prototype.enableDownloadOption = function (enableDownloadOption) {\n        this.toolbar.enableItems(this.downloadItem.parentElement, enableDownloadOption);\n    };\n    Toolbar.prototype.enablePrintOption = function (enablePrintOption) {\n        this.toolbar.enableItems(this.printItem.parentElement, enablePrintOption);\n    };\n    Toolbar.prototype.enableSearchOption = function (enableSearchOption) {\n        this.toolbar.enableItems(this.textSearchItem.parentElement, enableSearchOption);\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.resetToolbar = function () {\n        if (!Browser.isDevice) {\n            this.currentPageBox.min = 0;\n            this.currentPageBox.value = 0;\n            this.updateTotalPage();\n            this.updateToolbarItems();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateToolbarItems = function () {\n        if (!Browser.isDevice) {\n            if (this.pdfViewerBase.pageCount === 0) {\n                this.toolbar.enableItems(this.downloadItem.parentElement, false);\n                this.toolbar.enableItems(this.printItem.parentElement, false);\n                this.updateNavigationButtons();\n                this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n                if (this.pdfViewer.magnificationModule) {\n                    this.zoomDropDown.readonly = true;\n                }\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), false);\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), false);\n                this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n                this.toolbar.enableItems(this.panItem.parentElement, false);\n                this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.downloadItem.parentElement, true);\n                this.toolbar.enableItems(this.printItem.parentElement, true);\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), true);\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), true);\n                this.updateNavigationButtons();\n                this.updateZoomButtons();\n                if (this.pdfViewer.magnificationModule) {\n                    this.zoomDropDown.readonly = false;\n                }\n                this.updateInteractionItems();\n                if (this.pdfViewer.textSearchModule && this.pdfViewer.enableTextSearch) {\n                    this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n                }\n            }\n        }\n        else {\n            if (this.pdfViewerBase.pageCount === 0) {\n                this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n                this.toolbar.enableItems(this.moreOptionItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n                this.toolbar.enableItems(this.moreOptionItem.parentElement, true);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateNavigationButtons = function () {\n        if (this.pdfViewer.navigationModule && !this.isPageNavigationToolDisabled) {\n            if (this.pdfViewerBase.pageCount === 0 || (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount === 1)) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === this.pdfViewerBase.pageCount && this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber > 1 && this.pdfViewerBase.currentPageNumber < this.pdfViewerBase.pageCount) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n            }\n        }\n        else {\n            this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n            this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n            this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n            this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            this.currentPageBox.readonly = true;\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateZoomButtons = function () {\n        if (this.pdfViewer.magnificationModule && !this.isMagnificationToolDisabled && !Browser.isDevice) {\n            if (this.pdfViewer.magnificationModule.zoomFactor <= 0.5) {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n            }\n            else if (this.pdfViewer.magnificationModule.zoomFactor >= 4) {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n            }\n            else {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        this.unWireEvent();\n        if (this.moreDropDown) {\n            this.moreDropDown.destroy();\n        }\n        this.toolbar.destroy();\n        this.toolbarElement.remove();\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateCurrentPage = function (pageIndex) {\n        if (!Browser.isDevice) {\n            if (this.currentPageBox.value === pageIndex) {\n                this.currentPageBoxElement.value = pageIndex.toString();\n            }\n            this.currentPageBox.value = pageIndex;\n        }\n        else {\n            this.pdfViewerBase.mobileSpanContainer.innerHTML = pageIndex.toString();\n            this.pdfViewerBase.mobilecurrentPageContainer.innerHTML = pageIndex.toString();\n        }\n        this.pdfViewerBase.currentPageNumber = pageIndex;\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateTotalPage = function () {\n        if (!Browser.isDevice) {\n            if (this.pdfViewerBase.pageCount > 0) {\n                this.currentPageBox.min = 1;\n            }\n            this.totalPageItem.textContent = 'of ' + this.pdfViewerBase.pageCount.toString();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.openFileDialogBox = function (event) {\n        event.preventDefault();\n        this.fileInputElement.click();\n    };\n    Toolbar.prototype.createToolbar = function (controlWidth) {\n        // tslint:disable-next-line:max-line-length\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_toolbarContainer', className: 'e-pv-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n        if (!Browser.isDevice) {\n            this.itemsContainer = createElement('div', { id: this.pdfViewer.element.id + '_toolbarItemsContainer' });\n            this.itemsContainer.style.position = 'absolute';\n            this.toolbarElement.appendChild(this.itemsContainer);\n            this.createToolbarItemsGeneral();\n            this.toolbar = new tool({ clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup' });\n            if (this.pdfViewer.enableRtl) {\n                this.toolbar.enableRtl = true;\n            }\n            this.toolbar.appendTo(this.toolbarElement);\n            this.toolbarElement.addEventListener('keydown', this.onToolbarKeydown);\n        }\n        else {\n            this.createToolbarItemsForMobile();\n        }\n        return this.toolbarElement;\n    };\n    Toolbar.prototype.createToolbarItemsGeneral = function () {\n        // tslint:disable-next-line:max-line-length\n        var openButtonContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_open', this.pdfViewer.localeObj.getConstant('Open'), 'e-pv-open-document');\n        this.openDocumentItem = openButtonContainer.firstChild;\n        this.itemsContainer.appendChild(openButtonContainer);\n        var seperatorDiv1 = createElement('div', { className: 'e-separator' });\n        this.itemsContainer.appendChild(seperatorDiv1);\n        this.createToolbarNavigationItems();\n        var seperatorDiv2 = createElement('div', { className: 'e-separator' });\n        this.itemsContainer.appendChild(seperatorDiv2);\n        this.createToolbarMagnificationItems();\n        var seperatorDiv3 = createElement('div', { className: 'e-separator' });\n        this.itemsContainer.appendChild(seperatorDiv3);\n        // tslint:disable-next-line:max-line-length\n        var selectToolContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_selectTool', this.pdfViewer.localeObj.getConstant('Text Selection'), 'e-pv-text-select-tool');\n        this.textSelectItem = selectToolContainer.firstChild;\n        this.itemsContainer.appendChild(selectToolContainer);\n        // tslint:disable-next-line:max-line-length\n        var handToolContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_handTool', this.pdfViewer.localeObj.getConstant('Panning'), 'e-pv-pan-tool');\n        this.panItem = handToolContainer.firstChild;\n        this.itemsContainer.appendChild(handToolContainer);\n        // tslint:disable-next-line:max-line-length\n        var searchButtonContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_search', this.pdfViewer.localeObj.getConstant('Text Search'), 'e-pv-text-search');\n        this.textSearchItem = searchButtonContainer.firstChild;\n        this.itemsContainer.appendChild(searchButtonContainer);\n        searchButtonContainer.style.position = 'absolute';\n        // tslint:disable-next-line:max-line-length\n        var downloadButtonContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_download', this.pdfViewer.localeObj.getConstant('Download file'), 'e-pv-download-document');\n        this.downloadItem = downloadButtonContainer.firstChild;\n        downloadButtonContainer.style.position = 'absolute';\n        if (this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            downloadButtonContainer.style.right = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft()) + 'px';\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            downloadButtonContainer.style.left = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft()) + 'px';\n        }\n        this.itemsContainer.appendChild(downloadButtonContainer);\n        // tslint:disable-next-line:max-line-length\n        var printButtonContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_print', this.pdfViewer.localeObj.getConstant('Print'), 'e-pv-print-document');\n        this.printItem = printButtonContainer.firstChild;\n        printButtonContainer.style.position = 'absolute';\n        if (this.pdfViewer.enableRtl) {\n            if (downloadButtonContainer !== undefined) {\n                // tslint:disable-next-line:max-line-length\n                printButtonContainer.style.right = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft() - 40) + 'px';\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                printButtonContainer.style.right = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft()) + 'px';\n            }\n        }\n        else {\n            if (downloadButtonContainer !== undefined) {\n                // tslint:disable-next-line:max-line-length\n                printButtonContainer.style.left = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft() - 43) + 'px';\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                printButtonContainer.style.left = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft()) + 'px';\n            }\n        }\n        if (this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            searchButtonContainer.style.right = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft() - downloadButtonContainer.clientWidth - printButtonContainer.clientWidth - 56) + 'px';\n            searchButtonContainer.style.paddingTop = '7px';\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            searchButtonContainer.style.left = (this.pdfViewer.element.clientWidth - this.pdfViewerBase.navigationPane.getViewerContainerLeft() - downloadButtonContainer.clientWidth - printButtonContainer.clientWidth - 54) + 'px';\n        }\n        this.itemsContainer.appendChild(printButtonContainer);\n        // tslint:disable-next-line:max-line-length\n        var items = [{ percent: '50%', id: '0' }, { percent: '75%', id: '1' }, { percent: '100%', id: '2' }, { percent: '125%', id: '3' },\n            // tslint:disable-next-line:max-line-length\n            { percent: '150%', id: '4' }, { percent: '200%', id: '5' }, { percent: '400%', id: '6' }, { percent: this.pdfViewer.localeObj.getConstant('Fit Page'), id: '7' }, { percent: this.pdfViewer.localeObj.getConstant('Fit Width'), id: '8' }, { percent: this.pdfViewer.localeObj.getConstant('Automatic'), id: '9' }\n        ];\n        // tslint:disable-next-line:max-line-length\n        this.zoomDropDown = new ComboBox({ dataSource: items, text: '100%', fields: { text: 'percent', value: 'id' }, readonly: true, cssClass: 'e-pv-zoom-drop-down', popupHeight: '402px', showClearButton: false });\n        this.zoomDropDown.appendTo(this.zoomDropdownItem);\n    };\n    Toolbar.prototype.createToolbarNavigationItems = function () {\n        var firstPageContainer;\n        var previousContainer;\n        var nextContainer;\n        var lastPageContainer;\n        if (!this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            firstPageContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_firstPage', this.pdfViewer.localeObj.getConstant('Go To First Page'), 'e-pv-first-page-navigation');\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            firstPageContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_firstPage', this.pdfViewer.localeObj.getConstant('Go To First Page'), 'e-pv-last-page-navigation');\n        }\n        this.firstPageItem = firstPageContainer.firstChild;\n        this.itemsContainer.appendChild(firstPageContainer);\n        if (!this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            previousContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_previousPage', this.pdfViewer.localeObj.getConstant('Previous Page'), 'e-pv-previous-page-navigation');\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            previousContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_previousPage', this.pdfViewer.localeObj.getConstant('Previous Page'), 'e-pv-next-page-navigation');\n        }\n        this.previousPageItem = previousContainer.firstChild;\n        this.itemsContainer.appendChild(previousContainer);\n        if (!this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            nextContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_nextPage', this.pdfViewer.localeObj.getConstant('Next Page'), 'e-pv-next-page-navigation');\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            nextContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_nextPage', this.pdfViewer.localeObj.getConstant('Next Page'), 'e-pv-previous-page-navigation');\n        }\n        this.nextPageItem = nextContainer.firstChild;\n        this.itemsContainer.appendChild(nextContainer);\n        if (!this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            lastPageContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_lastPage', this.pdfViewer.localeObj.getConstant('Go To Last Page'), 'e-pv-last-page-navigation');\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            lastPageContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_lastPage', this.pdfViewer.localeObj.getConstant('Go To Last Page'), 'e-pv-first-page-navigation');\n        }\n        this.lastPageItem = lastPageContainer.firstChild;\n        this.itemsContainer.appendChild(lastPageContainer);\n        // tslint:disable-next-line:max-line-length\n        var goToPageContainer = this.createToolbarItem('input', this.pdfViewer.element.id + '_currentPageInput', this.pdfViewer.localeObj.getConstant('Page Number'), null);\n        this.currentPageBox = new NumericTextBox({ value: 0, format: '##', cssClass: 'e-pv-current-page-box', showSpinButton: false });\n        this.currentPageBoxElement = goToPageContainer.firstChild;\n        this.currentPageBox.appendTo(this.currentPageBoxElement);\n        // tslint:disable-next-line:max-line-length\n        var totalPageContainer = this.createToolbarItem('span', this.pdfViewer.element.id + '_totalPage', null, 'e-pv-total-page');\n        this.totalPageItem = totalPageContainer.firstChild;\n        if (this.pdfViewer.enableRtl) {\n            this.itemsContainer.appendChild(totalPageContainer);\n            goToPageContainer.style.paddingLeft = '8px';\n            this.itemsContainer.appendChild(goToPageContainer);\n        }\n        else {\n            this.itemsContainer.appendChild(goToPageContainer);\n            this.itemsContainer.appendChild(totalPageContainer);\n        }\n        this.updateTotalPage();\n    };\n    Toolbar.prototype.createToolbarMagnificationItems = function () {\n        // tslint:disable-next-line:max-line-length\n        var zoomOutContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_zoomOut', this.pdfViewer.localeObj.getConstant('Zoom Out'), 'e-pv-zoom-out');\n        this.zoomOutItem = zoomOutContainer.firstChild;\n        this.itemsContainer.appendChild(zoomOutContainer);\n        // tslint:disable-next-line:max-line-length\n        var zoomInContainer = this.createToolbarItem('button', this.pdfViewer.element.id + '_zoomIn', this.pdfViewer.localeObj.getConstant('Zoom In'), 'e-pv-zoom-in');\n        this.zoomInItem = zoomInContainer.firstChild;\n        this.itemsContainer.appendChild(zoomInContainer);\n        // tslint:disable-next-line:max-line-length\n        var zoomDropdownContainer = this.createToolbarItem('input', this.pdfViewer.element.id + '_zoomDropDown', this.pdfViewer.localeObj.getConstant('Zoom'), null);\n        zoomDropdownContainer.className = zoomDropdownContainer.className + ' e-pv-zoom-drop-down-container';\n        this.zoomDropdownItem = zoomDropdownContainer.firstChild;\n        this.itemsContainer.appendChild(zoomDropdownContainer);\n    };\n    Toolbar.prototype.createToolbarItemsForMobile = function () {\n        this.toolbarElement.classList.add('e-pv-mobile-toolbar');\n        var template = '<button id=\"' + this.pdfViewer.element.id + '_more_option\" class=\"e-tbar-btn\"></button>';\n        this.toolbar = new tool({\n            // tslint:disable-next-line:max-line-length\n            items: [{ prefixIcon: 'e-pv-open-document-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Open'), id: this.pdfViewer.element.id + '_open' },\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-text-search-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Text Search'), id: this.pdfViewer.element.id + '_search', align: 'Right' },\n                { template: template, align: 'Right' }\n            ], clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup'\n        });\n        this.toolbar.appendTo(this.toolbarElement);\n        this.openDocumentItem = this.pdfViewerBase.getElement('_open');\n        this.openDocumentItem.classList.add('e-pv-open-document');\n        this.openDocumentItem.firstElementChild.id = this.pdfViewer.element.id + '_openIcon';\n        this.textSearchItem = this.pdfViewerBase.getElement('_search');\n        this.textSearchItem.classList.add('e-pv-text-search');\n        this.textSearchItem.firstElementChild.id = this.pdfViewer.element.id + '_searchIcon';\n        this.createMoreOption(this.pdfViewer.element.id + '_more_option');\n    };\n    Toolbar.prototype.createMoreOption = function (idString) {\n        var _this = this;\n        this.moreOptionItem = document.getElementById(idString);\n        var items = [\n            {\n                text: this.pdfViewer.localeObj.getConstant('Download'), id: this.pdfViewer.element.id + '_menu_download',\n                iconCss: 'e-icons e-pv-download-document-icon e-pv-icon'\n            },\n            {\n                text: this.pdfViewer.localeObj.getConstant('Bookmarks'), id: this.pdfViewer.element.id + '_menu_bookmarks',\n                iconCss: 'e-icons e-pv-bookmark-icon e-pv-icon'\n            }\n        ];\n        this.moreDropDown = new DropDownButton({\n            items: items, iconCss: 'e-pv-more-icon e-pv-icon', cssClass: 'e-caret-hide',\n            open: function (args) {\n                var dropdownButtonPosition = _this.moreDropDown.element.getBoundingClientRect();\n                // tslint:disable-next-line:max-line-length\n                args.element.parentElement.style.left = dropdownButtonPosition.left + dropdownButtonPosition.width - args.element.parentElement.offsetWidth + 'px';\n            }, select: function (args) {\n                switch (args.item.id) {\n                    case _this.pdfViewer.element.id + '_menu_download':\n                        _this.pdfViewerBase.download();\n                        break;\n                    case _this.pdfViewer.element.id + '_menu_bookmarks':\n                        _this.showToolbar(false);\n                        _this.pdfViewerBase.navigationPane.createNavigationPaneMobile('bookmarks');\n                        break;\n                    default:\n                        break;\n                }\n            }, beforeItemRender: function (args) {\n                if (args.item.id === _this.pdfViewer.element.id + '_menu_bookmarks') {\n                    if (!_this.pdfViewer.bookmarkViewModule || !_this.pdfViewer.bookmarkViewModule.bookmarks) {\n                        args.element.classList.add('e-disabled');\n                    }\n                    else {\n                        args.element.classList.remove('e-disabled');\n                    }\n                }\n            }, close: function (args) {\n                _this.moreOptionItem.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        });\n        this.moreDropDown.appendTo('#' + idString);\n    };\n    Toolbar.prototype.createToolbarItem = function (elementName, id, tooltipText, className) {\n        var containerElement = createElement('div', { id: id + 'Container' });\n        var toolbarItem = createElement(elementName, { id: id });\n        if (className !== null) {\n            containerElement.className = className + '-container e-overflow-show e-popup-text';\n            toolbarItem.className = className;\n        }\n        if (elementName === 'button' && id !== this.pdfViewer.element.id + '_zoomDropDown') {\n            toolbarItem.className = 'e-btn e-tbar-btn e-icon-btn e-pv-tbar-btn ' + className;\n            if (!this.pdfViewer.enableRtl) {\n                var buttonSpan = createElement('span', { id: id + 'Icon', className: className + '-icon e-pv-icon' });\n                toolbarItem.appendChild(buttonSpan);\n            }\n            else {\n                var buttonSpan = createElement('span', { id: id + 'Icon', className: className + '-icon e-pv-icon e-right' });\n                toolbarItem.appendChild(buttonSpan);\n            }\n        }\n        else if (elementName === 'input' && id !== this.pdfViewer.element.id + '_zoomDropDown') {\n            toolbarItem.type = 'text';\n        }\n        containerElement.appendChild(toolbarItem);\n        if (tooltipText !== null) {\n            // tslint:disable-next-line\n            var tooltip = new Tooltip({ content: tooltipText, opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n            tooltip.appendTo(toolbarItem);\n        }\n        return containerElement;\n    };\n    Toolbar.prototype.onTooltipBeforeOpen = function (args) {\n        if (!this.pdfViewer.toolbarSettings.showTooltip) {\n            args.cancel = true;\n        }\n    };\n    Toolbar.prototype.createFileElement = function (toolbarElement) {\n        // tslint:disable-next-line:max-line-length\n        this.fileInputElement = createElement('input', { id: this.pdfViewer.element.id + '_fileUploadElement', styles: 'position:fixed; left:-100em', attrs: { 'type': 'file' } });\n        this.fileInputElement.setAttribute('accept', '.pdf');\n        toolbarElement.appendChild(this.fileInputElement);\n    };\n    Toolbar.prototype.wireEvent = function () {\n        this.fileInputElement.addEventListener('change', this.loadDocument);\n        if (!Browser.isDevice) {\n            this.toolbarElement.addEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n            this.currentPageBoxElement.addEventListener('focusout', this.textBoxFocusOut);\n            this.currentPageBoxElement.addEventListener('keypress', this.navigateToPage);\n            this.zoomDropDown.change = this.zoomPercentSelect.bind(this);\n            this.zoomDropDown.element.addEventListener('keypress', this.onZoomDropDownInput.bind(this));\n            this.zoomDropDown.element.addEventListener('click', this.onZoomDropDownInputClick.bind(this));\n        }\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        this.fileInputElement.removeEventListener('change', this.loadDocument);\n        if (!Browser.isDevice) {\n            this.toolbarElement.removeEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n            this.currentPageBoxElement.removeEventListener('focusout', this.textBoxFocusOut);\n            this.currentPageBoxElement.removeEventListener('keypress', this.navigateToPage);\n            this.zoomDropDown.removeEventListener('change', this.zoomPercentSelect);\n            this.zoomDropDown.element.removeEventListener('keypress', this.onZoomDropDownInput);\n            this.zoomDropDown.element.removeEventListener('click', this.onZoomDropDownInputClick);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.onToolbarResize = function (viewerWidth) {\n        if (!Browser.isDevice) {\n            var navigationToolbar = document.getElementById(this.pdfViewer.element.id + '_toolbarContainer_nav');\n            var downloadButtonElement = document.getElementById(this.pdfViewer.element.id + '_downloadContainer');\n            var printButtonElement = document.getElementById(this.pdfViewer.element.id + '_printContainer');\n            var searchButtonElement = document.getElementById(this.pdfViewer.element.id + '_searchContainer');\n            if (!navigationToolbar) {\n                if (downloadButtonElement) {\n                    if (this.pdfViewer.enableRtl) {\n                        downloadButtonElement.style.right = viewerWidth + 'px';\n                        downloadButtonElement.style.position = 'absolute';\n                    }\n                    else {\n                        downloadButtonElement.style.left = viewerWidth + 'px';\n                        downloadButtonElement.style.position = 'absolute';\n                    }\n                }\n                if (printButtonElement) {\n                    if (this.pdfViewer.enableRtl) {\n                        if (downloadButtonElement !== null) {\n                            printButtonElement.style.right = (viewerWidth - downloadButtonElement.clientWidth + 3) + 'px';\n                            printButtonElement.style.position = 'absolute';\n                        }\n                        else {\n                            printButtonElement.style.right = viewerWidth + 'px';\n                            printButtonElement.style.position = 'absolute';\n                        }\n                    }\n                    else {\n                        if (downloadButtonElement !== null) {\n                            printButtonElement.style.left = (viewerWidth - downloadButtonElement.clientWidth) + 'px';\n                            printButtonElement.style.position = 'absolute';\n                        }\n                        else {\n                            printButtonElement.style.left = viewerWidth + 'px';\n                            printButtonElement.style.position = 'absolute';\n                        }\n                    }\n                }\n                if (searchButtonElement) {\n                    searchButtonElement.style.position = 'absolute';\n                    if (printButtonElement !== null) {\n                        if (this.pdfViewer.enableRtl) {\n                            // tslint:disable-next-line:max-line-length\n                            searchButtonElement.style.right = (viewerWidth - downloadButtonElement.clientWidth - printButtonElement.clientWidth + 2) + 'px';\n                        }\n                        else {\n                            // calculate the search Icon left Position value\n                            // tslint:disable-next-line:max-line-length\n                            searchButtonElement.style.left = (parseFloat(printButtonElement.style.left) - printButtonElement.clientWidth) + 'px';\n                        }\n                    }\n                    else if (downloadButtonElement !== null) {\n                        if (this.pdfViewer.enableRtl) {\n                            searchButtonElement.style.right = (viewerWidth - downloadButtonElement.clientWidth + 3) + 'px';\n                        }\n                        // tslint:disable-next-line:max-line-length\n                        searchButtonElement.style.left = (parseFloat(downloadButtonElement.style.left) - downloadButtonElement.clientWidth) + 'px';\n                    }\n                    else {\n                        if (this.pdfViewer.enableRtl) {\n                            searchButtonElement.style.right = viewerWidth + 'px';\n                        }\n                        searchButtonElement.style.left = viewerWidth + 'px';\n                    }\n                }\n            }\n        }\n        else {\n            this.pdfViewerBase.navigationPane.toolbarResize();\n        }\n    };\n    Toolbar.prototype.toolbarOnMouseup = function (event) {\n        if (event.target === this.itemsContainer || event.target === this.toolbarElement) {\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    Toolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n        var isHide = !show;\n        for (var index = startIndex; index <= endIndex; index++) {\n            this.toolbar.hideItem(index, isHide);\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInput = function (event) {\n        if ((event.which < 48 || event.which > 57) && event.which !== 8 && event.which !== 13) {\n            event.preventDefault();\n            return false;\n        }\n        else {\n            if (event.which === 13) {\n                event.preventDefault();\n                var value = this.zoomDropDown.element.value;\n                this.zoomDropDownChange(value);\n            }\n            return true;\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInputClick = function () {\n        this.zoomDropDown.element.select();\n    };\n    Toolbar.prototype.zoomPercentSelect = function (args) {\n        if (this.pdfViewerBase.pageCount > 0) {\n            if (args.isInteracted) {\n                if (args.itemData) {\n                    // tslint:disable-next-line:no-any\n                    var zoomText = args.itemData.percent;\n                    this.zoomDropDownChange(zoomText);\n                }\n            }\n            else {\n                this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n            }\n        }\n    };\n    Toolbar.prototype.zoomDropDownChange = function (zoomText) {\n        // tslint:disable-next-line:max-line-length\n        if (zoomText !== this.pdfViewer.localeObj.getConstant('Fit Width') && zoomText !== this.pdfViewer.localeObj.getConstant('Fit Page') && zoomText !== this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.zoomTo(parseFloat(zoomText));\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Width')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.fitToWidth();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Page')) {\n            this.pdfViewer.magnificationModule.fitToPage();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = true;\n            this.pdfViewer.magnificationModule.fitToAuto();\n            this.zoomDropDown.focusOut();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateZoomPercentage = function (zoomFactor) {\n        if (!Browser.isDevice) {\n            // tslint:disable-next-line:radix\n            var currentPercent = parseInt((zoomFactor * 100).toString()) + '%';\n            if (this.zoomDropDown.text === currentPercent) {\n                this.zoomDropDown.element.value = currentPercent;\n            }\n            if (this.zoomDropDown.index === 9) {\n                this.zoomDropDown.value = 2;\n            }\n            // tslint:disable-next-line\n            this.zoomDropDown.text = currentPercent;\n        }\n    };\n    Toolbar.prototype.updateInteractionItems = function () {\n        if (this.pdfViewer.textSelectionModule) {\n            if (this.pdfViewer.enableTextSelection) {\n                this.toolbar.enableItems(this.textSelectItem.parentElement, true);\n            }\n            else {\n                this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n            }\n        }\n        else {\n            this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n        }\n        this.toolbar.enableItems(this.panItem.parentElement, true);\n        if (this.pdfViewer.interactionMode === 'TextSelection') {\n            this.selectItem(this.textSelectItem);\n            this.deSelectItem(this.panItem);\n        }\n        else {\n            this.selectItem(this.panItem);\n            this.deSelectItem(this.textSelectItem);\n            this.pdfViewerBase.initiatePanning();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.textSearchButtonHandler = function () {\n        if (!Browser.isDevice) {\n            if (this.pdfViewer.textSearchModule && this.pdfViewerBase.pageCount > 0) {\n                this.isTextSearchBoxDisplayed = !this.isTextSearchBoxDisplayed;\n                this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed);\n                if (this.isTextSearchBoxDisplayed) {\n                    this.selectItem(this.textSearchItem);\n                    // tslint:disable-next-line:max-line-length\n                    var searchInputElement = document.getElementById(this.pdfViewer.element.id + '_search_input');\n                    searchInputElement.select();\n                    searchInputElement.focus();\n                }\n                else {\n                    this.deSelectItem(this.textSearchItem);\n                }\n            }\n        }\n        else {\n            this.showToolbar(false);\n            this.pdfViewerBase.navigationPane.createNavigationPaneMobile('search');\n        }\n    };\n    Toolbar.prototype.selectItem = function (element) {\n        element.classList.add('e-pv-select');\n    };\n    Toolbar.prototype.deSelectItem = function (element) {\n        element.classList.remove('e-pv-select');\n    };\n    Toolbar.prototype.updateInteractionTools = function (isTextSelect) {\n        if (isTextSelect) {\n            this.selectItem(this.textSelectItem);\n            this.deSelectItem(this.panItem);\n        }\n        else {\n            this.selectItem(this.panItem);\n            this.deSelectItem(this.textSelectItem);\n        }\n    };\n    Toolbar.prototype.initialEnableItems = function () {\n        if (this.pdfViewer.enableToolbar) {\n            this.showToolbar(true);\n        }\n        else {\n            this.showToolbar(false);\n        }\n        if (this.pdfViewer.enablePrint) {\n            this.showPrintOption(true);\n        }\n        else {\n            this.showPrintOption(false);\n        }\n        if (this.pdfViewer.enableDownload) {\n            this.showDownloadOption(true);\n        }\n        else {\n            this.showDownloadOption(false);\n        }\n        if (this.pdfViewer.enableTextSearch) {\n            this.showSearchOption(true);\n        }\n        else {\n            this.showSearchOption(false);\n        }\n    };\n    Toolbar.prototype.showSeparator = function (toolbarItems) {\n        if (!this.isOpenBtnVisible || (!this.isNavigationToolVisible && this.isOpenBtnVisible && this.isDownloadBtnVisible\n            && this.isPrintBtnVisible) || (this.isOpenBtnVisible && toolbarItems.length === 1)) {\n            this.applyHideToToolbar(false, 1, 1);\n        }\n        if ((!this.isNavigationToolVisible || !this.isMagnificationToolVisible) && !this.isOpenBtnVisible) {\n            this.applyHideToToolbar(false, 8, 8);\n        }\n        if ((!this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible) ||\n            (this.isMagnificationToolVisible && (!this.isSelectionBtnVisible && !this.isScrollingBtnVisible)) ||\n            (!this.isMagnificationToolVisible && (this.isSelectionBtnVisible && this.isScrollingBtnVisible))) {\n            this.applyHideToToolbar(false, 12, 12);\n        }\n    };\n    Toolbar.prototype.applyToolbarSettings = function () {\n        var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItem;\n        if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n            this.showOpenOption(true);\n        }\n        else {\n            this.showOpenOption(false);\n        }\n        if (toolbarSettingsItems.indexOf('PageNavigationTool') !== -1) {\n            this.showPageNavigationTool(true);\n        }\n        else {\n            this.showPageNavigationTool(false);\n        }\n        if (toolbarSettingsItems.indexOf('MagnificationTool') !== -1) {\n            this.showMagnificationTool(true);\n        }\n        else {\n            this.showMagnificationTool(false);\n        }\n        if (toolbarSettingsItems.indexOf('SelectionTool') !== -1) {\n            this.showSelectionTool(true);\n        }\n        else {\n            this.showSelectionTool(false);\n        }\n        if (toolbarSettingsItems.indexOf('PanTool') !== -1) {\n            this.showScrollingTool(true);\n        }\n        else {\n            this.showScrollingTool(false);\n        }\n        if (toolbarSettingsItems.indexOf('PrintOption') !== -1) {\n            this.showPrintOption(true);\n        }\n        else {\n            this.showPrintOption(false);\n        }\n        if (toolbarSettingsItems.indexOf('DownloadOption') !== -1) {\n            this.showDownloadOption(true);\n        }\n        else {\n            this.showDownloadOption(false);\n        }\n        if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n            this.showSearchOption(true);\n        }\n        else {\n            this.showSearchOption(false);\n        }\n        this.showSeparator(toolbarSettingsItems);\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'Toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, ChildProperty, L10n } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, Property, Event } from '@syncfusion/ej2-base';\nimport { PdfViewerBase } from './index';\n/**\n * The `ToolbarSettings` module is used to provide the toolbar settings of PDF viewer.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], ToolbarSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], ToolbarSettings.prototype, \"toolbarItem\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * The `ServerActionSettings` module is used to provide the server action methods of PDF viewer.\n */\nvar ServerActionSettings = /** @class */ (function (_super) {\n    __extends(ServerActionSettings, _super);\n    function ServerActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Load')\n    ], ServerActionSettings.prototype, \"load\", void 0);\n    __decorate([\n        Property('Unload')\n    ], ServerActionSettings.prototype, \"unload\", void 0);\n    __decorate([\n        Property('RenderPdfPages')\n    ], ServerActionSettings.prototype, \"renderPages\", void 0);\n    __decorate([\n        Property('RenderPdfPages')\n    ], ServerActionSettings.prototype, \"print\", void 0);\n    __decorate([\n        Property('Download')\n    ], ServerActionSettings.prototype, \"download\", void 0);\n    __decorate([\n        Property('RenderThumbnailImages')\n    ], ServerActionSettings.prototype, \"renderThumbnail\", void 0);\n    return ServerActionSettings;\n}(ChildProperty));\nexport { ServerActionSettings };\n/**\n * Represents the PDF viewer component.\n * ```html\n * <div id=\"pdfViewer\"></div>\n * <script>\n *  var pdfViewerObj = new PdfViewer();\n *  pdfViewerObj.appendTo(\"#pdfViewer\");\n * </script>\n * ```\n */\nvar PdfViewer = /** @class */ (function (_super) {\n    __extends(PdfViewer, _super);\n    function PdfViewer(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Gets or sets the document name loaded in the PdfViewer control.\n         */\n        _this.fileName = null;\n        /** @hidden */\n        _this.defaultLocale = {\n            'PdfViewer': 'PDF Viewer',\n            'Cancel': 'Cancel',\n            'Download file': 'Download file',\n            'Download': 'Download',\n            'Enter Password': 'This document is password protected. Please enter a password.',\n            'File Corrupted': 'File Corrupted',\n            'File Corrupted Content': 'The file is corrupted and cannot be opened.',\n            'Fit Page': 'Fit Page',\n            'Fit Width': 'Fit Width',\n            'Automatic': 'Automatic',\n            'Go To First Page': 'Show first page',\n            'Invalid Password': 'Incorrect Password. Please try again.',\n            'Next Page': 'Show next page',\n            'OK': 'OK',\n            'Open': 'Open file',\n            'Page Number': 'Current page number',\n            'Previous Page': 'Show previous page',\n            'Go To Last Page': 'Show last page',\n            'Zoom': 'Zoom',\n            'Zoom In': 'Zoom in',\n            'Zoom Out': 'Zoom out',\n            'Page Thumbnails': 'Page thumbnails',\n            'Bookmarks': 'Bookmarks',\n            'Print': 'Print file',\n            'Password Protected': 'Password Required',\n            'Copy': 'Copy',\n            'Text Selection': 'Text selection tool',\n            'Panning': 'Pan mode',\n            'Text Search': 'Find text',\n            'Find in document': 'Find in document',\n            'Match case': 'Match case',\n            'Apply': 'Apply',\n            'GoToPage': 'Go to Page',\n            // tslint:disable-next-line:max-line-length\n            'No matches': 'Viewer has finished searching the document. No more matches were found',\n            'No Text Found': 'No Text Found',\n            // tslint:disable-next-line:max-line-length\n            'Server error': 'Web-service is not listening. PDF Viewer depends on web-service for all it\\'s features. Please start the web service to continue.'\n        };\n        _this.viewerBase = new PdfViewerBase(_this);\n        return _this;\n    }\n    Object.defineProperty(PdfViewer.prototype, \"pageCount\", {\n        /**\n         * Returns the page count of the document loaded in the PdfViewer control.\n         */\n        get: function () {\n            return this.viewerBase.pageCount;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"currentPageNumber\", {\n        /**\n         * Returns the current page number of the document displayed in the PdfViewer control.\n         */\n        get: function () {\n            return this.viewerBase.currentPageNumber;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"zoomPercentage\", {\n        /**\n         * Returns the current zoom percentage of the PdfViewer control.\n         */\n        get: function () {\n            return this.magnificationModule.zoomFactor * 100;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"bookmark\", {\n        /**\n         * Gets the bookmark view object of the pdf viewer.\n         * @returns { BookmarkView }\n         */\n        get: function () {\n            return this.bookmarkViewModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"print\", {\n        /**\n         * Gets the print object of the pdf viewer.\n         * @returns { Print }\n         */\n        get: function () {\n            return this.printModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"magnification\", {\n        /**\n         * Gets the magnification object of the pdf viewer.\n         * @returns { Magnification }\n         */\n        get: function () {\n            return this.magnificationModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"navigation\", {\n        /**\n         * Gets the navigation object of the pdf viewer.\n         * @returns { Navigation }\n         */\n        get: function () {\n            return this.navigationModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"textSearch\", {\n        /**\n         * Gets the text search object of the pdf viewer.\n         * @returns { TextSearch }\n         */\n        get: function () {\n            return this.textSearchModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"toolbar\", {\n        /**\n         * Gets the toolbar object of the pdf viewer.\n         * @returns { Toolbar }\n         */\n        get: function () {\n            return this.toolbarModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfViewer.prototype.preRender = function () {\n        this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n    };\n    PdfViewer.prototype.render = function () {\n        this.viewerBase.initializeComponent();\n        if (this.enableTextSelection && this.textSelectionModule) {\n            this.textSelectionModule.enableTextSelectionMode();\n        }\n        else {\n            this.viewerBase.disableTextSelectionMode();\n        }\n    };\n    PdfViewer.prototype.getModuleName = function () {\n        return 'PdfViewer';\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.getLocaleConstants = function () {\n        return this.defaultLocale;\n    };\n    PdfViewer.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var requireRefresh = false;\n        if (this.isDestroyed) {\n            return;\n        }\n        var properties = Object.keys(newProp);\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            switch (prop) {\n                case 'enableToolbar':\n                    this.notify('', { module: 'toolbar', enable: this.enableToolbar });\n                    requireRefresh = true;\n                    break;\n            }\n        }\n    };\n    PdfViewer.prototype.getPersistData = function () {\n        return 'PdfViewer';\n    };\n    PdfViewer.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableMagnification) {\n            modules.push({\n                member: 'Magnification', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableNavigation) {\n            modules.push({\n                member: 'Navigation', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableToolbar) {\n            modules.push({\n                member: 'Toolbar', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableHyperlink) {\n            modules.push({\n                member: 'LinkAnnotation', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableThumbnail) {\n            modules.push({\n                member: 'ThumbnailView', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableBookmark) {\n            modules.push({\n                member: 'BookmarkView', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableTextSelection) {\n            modules.push({\n                member: 'TextSelection', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableTextSearch) {\n            modules.push({\n                member: 'TextSearch', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enablePrint) {\n            modules.push({\n                member: 'Print', args: [this, this.viewerBase]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Loads the given PDF document in the PDF viewer control\n     * @param  {string} document - Specifies the document name for load\n     * @param  {string} password - Specifies the Given document password\n     * @returns void\n     */\n    PdfViewer.prototype.load = function (document, password) {\n        if (this.viewerBase.pageCount !== 0) {\n            this.viewerBase.clear(true);\n        }\n        else {\n            this.viewerBase.clear(false);\n        }\n        this.viewerBase.pageCount = 0;\n        this.viewerBase.currentPageNumber = 0;\n        if (this.toolbarModule) {\n            this.toolbarModule.resetToolbar();\n        }\n        this.viewerBase.initiatePageRender(document, password);\n    };\n    /**\n     * Downloads the PDF document being loaded in the ejPdfViewer control.\n     * @returns void\n     */\n    PdfViewer.prototype.download = function () {\n        if (this.enableDownload) {\n            this.viewerBase.download();\n        }\n    };\n    /**\n     * Unloads the PDF document being displayed in the PDF viewer.\n     * @returns void\n     */\n    PdfViewer.prototype.unload = function () {\n        this.viewerBase.clear(true);\n        this.viewerBase.pageCount = 0;\n        this.toolbarModule.resetToolbar();\n        this.magnificationModule.zoomTo(100);\n    };\n    /**\n     * Destroys all managed resources used by this object.\n     */\n    PdfViewer.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.toolbarModule) {\n            this.toolbarModule.destroy();\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.element.classList.remove('e-pdfviewer');\n            this.element.innerHTML = '';\n        }\n        this.viewerBase.destroy();\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireDocumentLoad = function () {\n        var eventArgs = { name: 'documentLoad', documentName: this.fileName };\n        this.trigger('documentLoad', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireDocumentUnload = function (fileName) {\n        var eventArgs = { name: 'documentUnload', documentName: fileName };\n        this.trigger('documentUnload', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireDocumentLoadFailed = function (isPasswordRequired, password) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'documentLoadFailed', documentName: this.fileName, isPasswordRequired: isPasswordRequired, password: password };\n        this.trigger('documentLoadFailed', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireAjaxRequestFailed = function (errorStatusCode, errorMessage) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'ajaxRequestFailed', documentName: this.fileName, errorStatusCode: errorStatusCode, errorMessage: errorMessage };\n        this.trigger('ajaxRequestFailed', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.firePageClick = function (x, y, pageNumber) {\n        var eventArgs = { name: 'pageClick', documentName: this.fileName, x: x, y: y, pageNumber: pageNumber };\n        this.trigger('pageClick', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.firePageChange = function (previousPageNumber) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'pageChange', documentName: this.fileName, currentPageNumber: this.viewerBase.currentPageNumber, previousPageNumber: previousPageNumber };\n        this.trigger('pageChange', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireZoomChange = function () {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'zoomChange', zoomValue: this.magnificationModule.zoomFactor * 100, previousZoomValue: this.magnificationModule.previousZoomFactor * 100 };\n        this.trigger('zoomChange', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireHyperlinkClick = function (hyperlink) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'hyperlinkClick', hyperlink: hyperlink };\n        this.trigger('hyperlinkClick', eventArgs);\n    };\n    __decorate([\n        Property()\n    ], PdfViewer.prototype, \"serviceUrl\", void 0);\n    __decorate([\n        Property()\n    ], PdfViewer.prototype, \"documentPath\", void 0);\n    __decorate([\n        Property('auto')\n    ], PdfViewer.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], PdfViewer.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableToolbar\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableDownload\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enablePrint\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableThumbnail\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableBookmark\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableHyperlink\", void 0);\n    __decorate([\n        Property('CurrentTab')\n    ], PdfViewer.prototype, \"hyperlinkOpenState\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableNavigation\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableMagnification\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableTextSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableTextSearch\", void 0);\n    __decorate([\n        Property('TextSelection')\n    ], PdfViewer.prototype, \"interactionMode\", void 0);\n    __decorate([\n        Property({ showTooltip: true, toolbarItem: ['OpenOption', 'UndoRedoTool', 'PageNavigationTool', 'MagnificationTool', 'PanTool', 'SelectionTool', 'CommentOption', 'TextMarkupAnnotationOption', 'FreeTextAnnotationOption', 'InkAnnotationOption', 'ShapeAnnotationOption', 'StampAnnotation', 'SignatureOption', 'SearchOption', 'PrintOption', 'DownloadOption'] })\n    ], PdfViewer.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Property({ load: 'Load', renderPages: 'RenderPdfPages', unload: 'Unload', download: 'Download', renderThumbnail: 'RenderThumbnailImages' })\n    ], PdfViewer.prototype, \"serverActionSettings\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"documentLoad\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"documentUnload\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"documentLoadFailed\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"ajaxRequestFailed\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"pageClick\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"pageChange\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"hyperlinkClick\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"zoomChange\", void 0);\n    PdfViewer = __decorate([\n        NotifyPropertyChanges\n    ], PdfViewer);\n    return PdfViewer;\n}(Component));\nexport { PdfViewer };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nimport { ListView } from '@syncfusion/ej2-lists';\n/**\n * BookmarkView module\n */\nvar BookmarkView = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function BookmarkView(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.childNavigateCount = 0;\n        // tslint:disable-next-line\n        this.bookmarkClick = function (args) {\n            // tslint:disable-next-line\n            if (!args.event.target.classList.contains('e-icons')) {\n                var bookid = args.data.Id;\n                _this.childNavigateCount = 0;\n                _this.pdfViewerBase.navigationPane.goBackToToolbar();\n                _this.navigateToBookmark(bookid);\n            }\n            else {\n                _this.childNavigateCount++;\n            }\n            return false;\n        };\n        this.nodeClick = function (args) {\n            _this.setHeight(args.node);\n            var bookid = Number(args.nodeData.id);\n            _this.navigateToBookmark(bookid);\n            return false;\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    BookmarkView.prototype.createRequestForBookmarks = function () {\n        var _this = this;\n        var proxy = this;\n        var request = new XMLHttpRequest();\n        // tslint:disable-next-line:max-line-length\n        var jsonObject = { hashId: this.pdfViewerBase.hashId };\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/Bookmarks');\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                if (_this.pdfViewerBase.navigationPane) {\n                    _this.pdfViewerBase.navigationPane.disableBookmarkButton();\n                }\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                if (data) {\n                    if (typeof data !== 'object') {\n                        data = JSON.parse(data);\n                    }\n                    _this.bookmarks = { bookMark: data.Bookmarks };\n                    _this.bookmarksDestination = { bookMarkDestination: data.BookmarksDestination };\n                }\n                if (_this.pdfViewerBase.navigationPane) {\n                    if (_this.bookmarks == null) {\n                        _this.pdfViewerBase.navigationPane.disableBookmarkButton();\n                    }\n                    else {\n                        _this.pdfViewerBase.navigationPane.enableBookmarkButton();\n                        _this.isBookmarkViewDiv = false;\n                    }\n                }\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.pdfViewerBase.openNotificationPopup();\n            proxy.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.renderBookmarkcontent = function () {\n        var _this = this;\n        if (!this.isBookmarkViewDiv) {\n            this.bookmarkView = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_view', className: 'e-pv-bookmark-view' });\n            this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.bookmarkView);\n            // tslint:disable-next-line:max-line-length\n            var bookmarkIconView = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_iconview', className: 'e-pv-bookmark-icon-view' });\n            // tslint:disable-next-line:max-line-length\n            if (!this.pdfViewer.enableRtl) {\n                // tslint:disable-next-line:max-line-length\n                var bookmarkIcon = createElement('span', { id: this.pdfViewer.element.id + '_bookmark_icon', className: 'e-pv-bookmark-icon e-pv-icon' });\n                bookmarkIconView.appendChild(bookmarkIcon);\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                var bookmarkIcon = createElement('span', { id: this.pdfViewer.element.id + '_bookmark_icon', className: 'e-pv-bookmark-icon e-pv-icon e-right' });\n                bookmarkIconView.appendChild(bookmarkIcon);\n            }\n            // tslint:disable-next-line:max-line-length\n            var bookmarkTitle = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_Title', className: 'e-pv-bookmark-Title' });\n            if (this.pdfViewer.enableRtl) {\n                bookmarkTitle.style.paddingRight = 26 + 'px';\n            }\n            else {\n                bookmarkTitle.style.paddingLeft = 40 + 'px';\n            }\n            bookmarkTitle.innerText = '${Title}';\n            bookmarkIconView.appendChild(bookmarkTitle);\n            // tslint:disable-next-line:max-line-length\n            this.treeObj = new TreeView({\n                fields: {\n                    dataSource: this.bookmarks.bookMark,\n                    id: 'Id',\n                    text: 'Title',\n                    child: 'Child',\n                    hasChildren: 'HasChild',\n                },\n                nodeTemplate: bookmarkIconView.outerHTML,\n                nodeSelected: this.nodeClick.bind(this),\n            });\n            if (this.pdfViewer.enableRtl) {\n                this.treeObj.enableRtl = true;\n            }\n            this.treeObj.appendTo(this.bookmarkView);\n            ['mouseover', 'keydown'].forEach(function (evt) { return _this.bookmarkView.addEventListener(evt, function (event) {\n                _this.setHeight(event.target);\n            }); });\n            this.isBookmarkViewDiv = true;\n        }\n        this.bookmarkView.style.display = 'block';\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.renderBookmarkContentMobile = function () {\n        if (this.bookmarkView != null) {\n            this.bookmarkView.remove();\n        }\n        this.bookmarkView = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_view', className: 'e-pv-bookmark-view' });\n        this.pdfViewerBase.getElement('_bookmarks_container').appendChild(this.bookmarkView);\n        this.bookmarkList = new ListView({\n            dataSource: this.bookmarks.bookMark,\n            fields: {\n                id: 'Id',\n                text: 'Title',\n                child: 'Child'\n            },\n            showHeader: false,\n            select: this.bookmarkClick.bind(this)\n        });\n        this.bookmarkList.appendTo(this.bookmarkView);\n    };\n    // tslint:disable-next-line\n    BookmarkView.prototype.setHeight = function (element) {\n        if (this.treeObj.fullRowSelect) {\n            if (element.classList.contains('e-treeview')) {\n                element = element.querySelector('.e-node-focus').querySelector('.e-fullrow');\n            }\n            else if (element.classList.contains('e-list-parent')) {\n                element = element.querySelector('.e-fullrow');\n            }\n            else if (element.classList.value !== ('e-fullrow') && element.closest('.e-list-item')) {\n                element = element.closest('.e-list-item').querySelector('.e-fullrow');\n            }\n            if (element.nextElementSibling) {\n                element.style.height = element.nextElementSibling.offsetHeight + 'px';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.setBookmarkContentHeight = function () {\n        // tslint:disable-next-line\n        var element = this.treeObj.element;\n        if (this.treeObj.fullRowSelect) {\n            if (element.classList.contains('e-treeview')) {\n                element = element.querySelector('.e-node-focus').querySelector('.e-fullrow');\n            }\n            if (element.nextElementSibling) {\n                element.style.height = element.nextElementSibling.offsetHeight + 'px';\n            }\n        }\n    };\n    BookmarkView.prototype.navigateToBookmark = function (bookid) {\n        var pageIndex = this.bookmarksDestination.bookMarkDestination[bookid].PageIndex;\n        var Y = this.bookmarksDestination.bookMarkDestination[bookid].Y;\n        this.goToBookmark(pageIndex, Y);\n    };\n    /**\n     * Get Bookmarks of the PDF document being loaded in the ejPdfViewer control\n     * @returns any\n     */\n    // tslint:disable-next-line\n    BookmarkView.prototype.getBookmarks = function () {\n        if (this.bookmarks && this.bookmarksDestination) {\n            // tslint:disable-next-line:max-line-length\n            return { bookmarks: this.bookmarks, bookmarksDestination: this.bookmarksDestination };\n        }\n    };\n    /**\n     * Navigate To current Bookmark location of the PDF document being loaded in the ejPdfViewer control.\n     * @param  {number} pageIndex - Specifies the pageIndex for Navigate\n     * @param  {number} y - Specifies the Y coordinates value of the Page\n     * @returns void\n     */\n    BookmarkView.prototype.goToBookmark = function (pageIndex, y) {\n        var proxy = this;\n        var destPage = (this.pdfViewerBase.pageSize[pageIndex - 1].height);\n        // tslint:disable-next-line:max-line-length\n        var scrollValue = this.pdfViewerBase.pageSize[pageIndex].top * this.pdfViewerBase.getZoomFactor() + ((destPage - y) * this.pdfViewerBase.getZoomFactor());\n        var scroll = scrollValue.toString();\n        // tslint:disable-next-line:radix\n        proxy.pdfViewerBase.viewerContainer.scrollTop = parseInt(scroll);\n        if (Browser.isDevice) {\n            this.pdfViewerBase.mobileScrollerContainer.style.display = '';\n            this.pdfViewerBase.updateMobileScrollerPosition();\n        }\n        proxy.pdfViewerBase.focusViewerContainer();\n        return false;\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.clear = function () {\n        if (this.pdfViewerBase.navigationPane) {\n            this.pdfViewerBase.navigationPane.disableBookmarkButton();\n            this.pdfViewerBase.navigationPane.updateViewerContainerOnClose();\n        }\n        if (this.bookmarks) {\n            this.bookmarks.bookMark = [];\n            this.bookmarks = null;\n        }\n        if (this.bookmarksDestination) {\n            this.bookmarksDestination.bookMarkDestination = [];\n        }\n        if (this.bookmarkView != null) {\n            if (this.bookmarkView.parentElement !== null) {\n                this.bookmarkView.parentElement.removeChild(this.bookmarkView);\n            }\n            while (this.bookmarkView.hasChildNodes()) {\n                this.bookmarkView.removeChild(this.bookmarkView.lastChild);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.getModuleName = function () {\n        return 'BookmarkView';\n    };\n    return BookmarkView;\n}());\nexport { BookmarkView };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * The `TextSelection` module is used to handle the text selection of PDF viewer.\n * @hidden\n */\nvar TextSelection = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function TextSelection(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.isTextSelection = false;\n        /**\n         * @private\n         */\n        this.selectionStartPage = null;\n        this.isBackwardPropagatedSelection = false;\n        this.selectionRangeArray = [];\n        this.selectionAnchorTouch = null;\n        this.selectionFocusTouch = null;\n        // tslint:disable-next-line\n        this.scrollMoveTimer = 0;\n        this.isMouseLeaveSelection = false;\n        this.isTouchSelection = false;\n        this.previousScrollDifference = 0;\n        this.topStoreLeft = null;\n        this.topStoreRight = null;\n        this.onLeftTouchSelectElementTouchStart = function (event) {\n            _this.initiateSelectionByTouch();\n        };\n        this.onRightTouchSelectElementTouchStart = function (event) {\n            _this.initiateSelectionByTouch();\n        };\n        this.onLeftTouchSelectElementTouchEnd = function (event) {\n            _this.terminateSelectionByTouch(event);\n        };\n        this.onRightTouchSelectElementTouchEnd = function (event) {\n            _this.terminateSelectionByTouch(event);\n        };\n        this.onLeftTouchSelectElementTouchMove = function (event) {\n            var range;\n            var nodeElement;\n            event.preventDefault();\n            event.target.style.zIndex = '0';\n            var rightElement = _this.dropDivElementRight;\n            var isTouchedWithinViewerContainer = _this.isTouchedWithinContainer(event);\n            if (rightElement && isTouchedWithinViewerContainer) {\n                var dropBounds = rightElement.getBoundingClientRect();\n                var xTouch = event.changedTouches[0].clientX;\n                var yTouch = event.changedTouches[0].clientY;\n                event.target.style.zIndex = '1000';\n                nodeElement = _this.getNodeElement(range, xTouch, yTouch, event, nodeElement);\n                if (nodeElement) {\n                    // tslint:disable-next-line:max-line-length\n                    var currentDifference = Math.sqrt((yTouch - dropBounds.top) * (yTouch - dropBounds.top) + (xTouch - dropBounds.left) * (xTouch - dropBounds.left));\n                    var isCloserMovement = _this.isCloserTouchScroll(currentDifference);\n                    var isTextSelected = false;\n                    if (yTouch <= dropBounds.top) {\n                        _this.dropElementLeft.style.transform = 'rotate(0deg)';\n                        _this.dropElementRight.style.transform = 'rotate(-90deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, xTouch, yTouch, false, 'left', isCloserMovement);\n                    }\n                    else {\n                        _this.dropElementLeft.style.transform = 'rotate(-90deg)';\n                        _this.dropElementRight.style.transform = 'rotate(0deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, xTouch, yTouch, true, 'left', isCloserMovement);\n                    }\n                    if (isTextSelected) {\n                        var elementClientRect = _this.dropDivElementLeft.getBoundingClientRect();\n                        var pageTopValue = _this.pdfViewerBase.pageSize[_this.pdfViewerBase.currentPageNumber - 1].top;\n                        var topClientValue = _this.getClientValueTop(yTouch, _this.pdfViewerBase.currentPageNumber - 1);\n                        // tslint:disable-next-line:max-line-length\n                        var currentPageLeft = _this.pdfViewerBase.getElement('_pageDiv_' + (_this.pdfViewerBase.currentPageNumber - 1)).getBoundingClientRect().left;\n                        var currentRangeLeft = xTouch - currentPageLeft;\n                        // tslint:disable-next-line:max-line-length\n                        _this.dropDivElementLeft.style.top = pageTopValue * _this.pdfViewerBase.getZoomFactor() + topClientValue + 'px';\n                        _this.topStoreLeft = { pageTop: pageTopValue, topClientValue: _this.getMagnifiedValue(topClientValue), pageNumber: _this.pdfViewerBase.currentPageNumber - 1, left: _this.getMagnifiedValue(currentRangeLeft), isHeightNeeded: false };\n                        // tslint:disable-next-line:max-line-length\n                        _this.dropDivElementLeft.style.left = xTouch - _this.pdfViewerBase.viewerContainer.getBoundingClientRect().left - (elementClientRect.width / 2) + 'px';\n                        _this.previousScrollDifference = currentDifference;\n                    }\n                }\n            }\n        };\n        // tslint:disable-next-line\n        this.onRightTouchSelectElementTouchMove = function (event) {\n            var range;\n            var nodeElement;\n            event.preventDefault();\n            event.target.style.zIndex = '0';\n            var leftElement = _this.dropDivElementLeft;\n            var isTouchedWithinViewerContainer = _this.isTouchedWithinContainer(event);\n            if (leftElement && isTouchedWithinViewerContainer) {\n                var dropPosition = leftElement.getBoundingClientRect();\n                var touchX = event.changedTouches[0].clientX;\n                var touchY = event.changedTouches[0].clientY;\n                event.target.style.zIndex = '1000';\n                nodeElement = _this.getNodeElement(range, touchX, touchY, event, nodeElement);\n                if (nodeElement) {\n                    // tslint:disable-next-line:max-line-length\n                    var currentDifference = Math.sqrt((touchY - dropPosition.top) * (touchY - dropPosition.top) + (touchX - dropPosition.left) * (touchX - dropPosition.left));\n                    var isCloserMovement = _this.isCloserTouchScroll(currentDifference);\n                    var isTextSelected = false;\n                    if (touchY >= dropPosition.top) {\n                        _this.dropElementRight.style.transform = 'rotate(-90deg)';\n                        _this.dropElementLeft.style.transform = 'rotate(0deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, touchX, touchY, true, 'right', isCloserMovement);\n                    }\n                    else {\n                        _this.dropElementRight.style.transform = 'rotate(0deg)';\n                        _this.dropElementLeft.style.transform = 'rotate(-90deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, touchX, touchY, false, 'right', isCloserMovement);\n                    }\n                    if (isTextSelected) {\n                        var pageTopValue = _this.pdfViewerBase.pageSize[_this.pdfViewerBase.currentPageNumber - 1].top;\n                        var topClientValue = _this.getClientValueTop(touchY, _this.pdfViewerBase.currentPageNumber - 1);\n                        var elementClientRect = _this.dropDivElementRight.getBoundingClientRect();\n                        _this.dropDivElementRight.style.top = pageTopValue * _this.pdfViewerBase.getZoomFactor() + topClientValue + 'px';\n                        // tslint:disable-next-line:max-line-length\n                        var currentPageLeft = _this.pdfViewerBase.getElement('_pageDiv_' + (_this.pdfViewerBase.currentPageNumber - 1)).getBoundingClientRect().left;\n                        var currentRangeLeft = touchX - currentPageLeft;\n                        // tslint:disable-next-line:max-line-length\n                        _this.topStoreRight = { pageTop: pageTopValue, topClientValue: _this.getMagnifiedValue(topClientValue), pageNumber: _this.pdfViewerBase.currentPageNumber - 1, left: _this.getMagnifiedValue(currentRangeLeft), isHeightNeeded: false };\n                        // tslint:disable-next-line:max-line-length\n                        _this.dropDivElementRight.style.left = touchX - _this.pdfViewerBase.viewerContainer.getBoundingClientRect().left - (elementClientRect.width / 2) + 'px';\n                        _this.previousScrollDifference = currentDifference;\n                    }\n                }\n            }\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseMove = function (target, x, y) {\n        var targetElement = target;\n        if (targetElement.nodeType === targetElement.TEXT_NODE) {\n            this.isBackwardPropagatedSelection = false;\n            var range = targetElement.ownerDocument.createRange();\n            var selection = window.getSelection();\n            if (selection.anchorNode !== null) {\n                var position = selection.anchorNode.compareDocumentPosition(selection.focusNode);\n                if (!position && selection.anchorOffset > selection.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\n                    this.isBackwardPropagatedSelection = true;\n                }\n            }\n            range.selectNodeContents(targetElement);\n            var currentPosition = 0;\n            var endPosition = range.endOffset;\n            while (currentPosition < endPosition) {\n                range.setStart(targetElement, currentPosition);\n                range.setEnd(targetElement, currentPosition + 1);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    if (selection.anchorNode !== null && selection.anchorNode.parentNode.classList.contains('e-pv-text')) {\n                        range.setStart(selection.anchorNode, selection.anchorOffset);\n                    }\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                    if (!this.isTextSelection) {\n                        this.selectionStartPage = this.pdfViewerBase.currentPageNumber - 1;\n                    }\n                    this.isTextSelection = true;\n                    if (this.isBackwardPropagatedSelection) {\n                        selection.extend(targetElement, currentPosition);\n                    }\n                    else {\n                        selection.extend(targetElement, currentPosition + 1);\n                    }\n                    range.detach();\n                }\n                currentPosition += 1;\n            }\n        }\n        else {\n            for (var i = 0; i < targetElement.childNodes.length; i++) {\n                if (targetElement.childNodes[i].nodeType === targetElement.TEXT_NODE) {\n                    var range = this.getSelectionRange(i, targetElement);\n                    var rangeBounds = range.getBoundingClientRect();\n                    if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                        range.detach();\n                        this.textSelectionOnMouseMove(targetElement.childNodes[i], x, y);\n                    }\n                    else {\n                        range.detach();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseLeave = function (event) {\n        var _this = this;\n        event.preventDefault();\n        var viewerTop = this.pdfViewerBase.viewerContainer.offsetTop;\n        if (this.pdfViewer.magnificationModule) {\n            if (this.pdfViewer.magnificationModule.fitType === 'fitToPage') {\n                return;\n            }\n        }\n        if (event.clientY > viewerTop) {\n            this.scrollMoveTimer = setInterval(function () { _this.scrollForwardOnSelection(); }, 500);\n        }\n        else {\n            this.scrollMoveTimer = setInterval(function () { _this.scrollBackwardOnSelection(); }, 500);\n        }\n    };\n    TextSelection.prototype.scrollForwardOnSelection = function () {\n        this.isMouseLeaveSelection = true;\n        this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.viewerContainer.scrollTop + 200;\n        this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber - 1);\n    };\n    TextSelection.prototype.scrollBackwardOnSelection = function () {\n        this.isMouseLeaveSelection = true;\n        this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.viewerContainer.scrollTop - 200;\n        this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber - 1);\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.clear = function () {\n        if (this.scrollMoveTimer) {\n            this.isMouseLeaveSelection = false;\n            clearInterval(this.scrollMoveTimer);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextSelection.prototype.selectAWord = function (element, x, y, isStoreSelection) {\n        if (element.nodeType === element.TEXT_NODE) {\n            var selection = window.getSelection();\n            var range = element.ownerDocument.createRange();\n            range.selectNodeContents(element);\n            var currentPosition = 0;\n            var endPosition = range.endOffset;\n            while (currentPosition < endPosition) {\n                range.setStart(element, currentPosition);\n                range.setEnd(element, currentPosition + 1);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    var textContent = element.textContent;\n                    var indices = [];\n                    var startPosition = void 0;\n                    var endPos = void 0;\n                    for (var i = 0; i < textContent.length; i++) {\n                        if (textContent[i] === ' ') {\n                            indices.push(i);\n                        }\n                    }\n                    for (var j = 0; j < indices.length; j++) {\n                        if (currentPosition === indices[j]) {\n                            startPosition = indices[j];\n                            endPos = indices[j];\n                        }\n                        if (indices[0] > currentPosition) {\n                            startPosition = 0;\n                            endPos = indices[j];\n                            break;\n                        }\n                        if (currentPosition > indices[j] && currentPosition < indices[j + 1]) {\n                            startPosition = indices[j];\n                            endPos = indices[j + 1];\n                        }\n                        else if (currentPosition > indices[j]) {\n                            if (!indices[j + 1]) {\n                                startPosition = indices[j];\n                            }\n                        }\n                    }\n                    if (!endPos) {\n                        endPos = textContent.length;\n                    }\n                    if (startPosition === 0) {\n                        range.setStart(element, startPosition);\n                    }\n                    else {\n                        range.setStart(element, startPosition + 1);\n                    }\n                    range.setEnd(element, endPos);\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                    this.isTextSelection = true;\n                    // tslint:disable-next-line:radix\n                    this.selectionStartPage = parseInt(range.startContainer.parentElement.id.split('_text_')[1]);\n                    if (isStoreSelection) {\n                        // tslint:disable-next-line:max-line-length\n                        this.selectionAnchorTouch = { anchorNode: selection.anchorNode.parentElement.id, anchorOffset: selection.anchorOffset };\n                        this.selectionFocusTouch = { focusNode: selection.focusNode.parentElement.id, focusOffset: selection.focusOffset };\n                    }\n                    range.detach();\n                    break;\n                }\n                currentPosition += 1;\n            }\n        }\n        else {\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var range = this.getSelectionRange(i, element);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    range.detach();\n                    this.selectAWord(element.childNodes[i], x, y, isStoreSelection);\n                }\n                else {\n                    range.detach();\n                }\n            }\n        }\n    };\n    TextSelection.prototype.getSelectionRange = function (index, element) {\n        var range = element.childNodes[index].ownerDocument.createRange();\n        range.selectNodeContents(element.childNodes[index]);\n        return range;\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.selectEntireLine = function (event) {\n        var textIds = [];\n        var targetElement = event.target;\n        var targetRect = targetElement.getBoundingClientRect();\n        // tslint:disable-next-line\n        var targetcentre = parseInt((targetRect.top + (targetRect.height / 2)).toString());\n        // tslint:disable-next-line:radix\n        var pageNumber = parseInt(event.target.id.split('_text_')[1]);\n        var textDivs = document.querySelectorAll('div[id*=\"_text_' + pageNumber + '\"]');\n        if (targetElement.classList.contains('e-pv-text')) {\n            for (var i = 0; i < textDivs.length; i++) {\n                var rect = textDivs[i].getBoundingClientRect();\n                // tslint:disable-next-line:radix\n                var topValue = parseInt(rect.top.toString());\n                // tslint:disable-next-line:radix\n                var bottomValue = parseInt(rect.bottom.toString());\n                if ((topValue <= targetcentre && bottomValue > targetcentre) && (targetRect.bottom + 10 > bottomValue)) {\n                    var textId = textDivs[i].id;\n                    if (textId !== '') {\n                        textIds.push(textId);\n                    }\n                }\n            }\n            var selection = window.getSelection();\n            selection.removeAllRanges();\n            var range = document.createRange();\n            var lengths = (textIds.length - 1);\n            var d1 = document.getElementById(textIds[0]);\n            var d2 = document.getElementById(textIds[lengths]);\n            var childNodes = d2.childNodes.length;\n            if (childNodes > 0) {\n                range.setStart(d1.childNodes[0], 0);\n                range.setEnd(d2.childNodes[0], d2.textContent.length);\n            }\n            else {\n                range.setStart(d1.childNodes[0], 0);\n                range.setEnd(d2, 1);\n            }\n            // tslint:disable-next-line:radix\n            this.selectionStartPage = parseInt(range.startContainer.parentElement.id.split('_text_')[1]);\n            selection.addRange(range);\n            this.isTextSelection = true;\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.enableTextSelectionMode = function () {\n        this.pdfViewerBase.isTextSelectionDisabled = false;\n        this.pdfViewerBase.viewerContainer.classList.remove('e-disable-text-selection');\n        this.pdfViewerBase.viewerContainer.classList.add('e-enable-text-selection');\n        this.pdfViewerBase.viewerContainer.addEventListener('selectstart', function () { return true; });\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.clearTextSelection = function () {\n        if (this.isTextSelection) {\n            this.pdfViewerBase.textLayer.clearDivSelection();\n            if (window.getSelection) {\n                if (window.getSelection().removeAllRanges) {\n                    window.getSelection().removeAllRanges();\n                }\n            }\n            if (this.pdfViewer.linkAnnotationModule) {\n                var lowerPageIndex = this.pdfViewerBase.currentPageNumber - 3;\n                lowerPageIndex = (lowerPageIndex < 0) ? 0 : lowerPageIndex;\n                var higherPageIndex = this.pdfViewer.currentPageNumber + 1;\n                // tslint:disable-next-line:max-line-length\n                higherPageIndex = (higherPageIndex < (this.pdfViewerBase.pageCount - 1)) ? higherPageIndex : (this.pdfViewerBase.pageCount - 1);\n                for (var i = lowerPageIndex; i <= higherPageIndex; i++) {\n                    this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(i, false);\n                }\n            }\n            this.selectionRangeArray = [];\n            this.isTextSelection = false;\n            this.isTouchSelection = false;\n            if (this.pdfViewer.textSearchModule) {\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n            this.pdfViewerBase.contextMenuModule.contextMenuObj.close();\n            this.removeTouchElements();\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.removeTouchElements = function () {\n        if (this.dropDivElementLeft) {\n            this.dropDivElementLeft.parentElement.removeChild(this.dropDivElementLeft);\n            this.dropDivElementLeft = null;\n            this.dropElementLeft.style.transform = 'rotate(0deg)';\n        }\n        if (this.dropDivElementRight) {\n            this.dropDivElementRight.parentElement.removeChild(this.dropDivElementRight);\n            this.dropDivElementRight = null;\n            this.dropElementRight.style.transform = 'rotate(-90deg)';\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.resizeTouchElements = function () {\n        var viewerContainerLeft = this.pdfViewerBase.viewerContainer.getBoundingClientRect().left;\n        if (this.dropDivElementLeft) {\n            var elementClientRect = this.dropDivElementLeft.getBoundingClientRect();\n            var dropElementHeight = 0;\n            // tslint:disable-next-line:max-line-length\n            var leftCurrentPagePosition = this.pdfViewerBase.getElement('_pageDiv_' + this.topStoreLeft.pageNumber).getBoundingClientRect();\n            this.dropDivElementLeft.style.left = parseFloat(this.topStoreLeft.left.toString()) * this.pdfViewerBase.getZoomFactor() + leftCurrentPagePosition.left - viewerContainerLeft - (elementClientRect.width / 2) + 'px';\n            if (this.topStoreLeft.isHeightNeeded) {\n                dropElementHeight = (elementClientRect.height / 2) * this.pdfViewerBase.getZoomFactor();\n            }\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementLeft.style.top = parseFloat(this.topStoreLeft.pageTop.toString()) * this.pdfViewerBase.getZoomFactor() + parseFloat(this.topStoreLeft.topClientValue.toString()) * this.pdfViewerBase.getZoomFactor() + dropElementHeight + 'px';\n        }\n        if (this.dropDivElementRight) {\n            var elementClientRect = this.dropDivElementRight.getBoundingClientRect();\n            var dropElementHeight = 0;\n            // tslint:disable-next-line:max-line-length\n            var rightCurrentPagePosition = this.pdfViewerBase.getElement('_pageDiv_' + this.topStoreRight.pageNumber).getBoundingClientRect();\n            this.dropDivElementRight.style.left = parseFloat(this.topStoreRight.left.toString()) * this.pdfViewerBase.getZoomFactor() + rightCurrentPagePosition.left - viewerContainerLeft - (elementClientRect.width / 2) + 'px';\n            if (this.topStoreRight.isHeightNeeded) {\n                dropElementHeight = (elementClientRect.height / 2) * this.pdfViewerBase.getZoomFactor();\n            }\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementRight.style.top = parseFloat(this.topStoreRight.pageTop.toString()) * this.pdfViewerBase.getZoomFactor() + parseFloat(this.topStoreRight.topClientValue.toString()) * this.pdfViewerBase.getZoomFactor() + dropElementHeight + 'px';\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseup = function () {\n        this.clear();\n        if (window.getSelection().anchorNode !== null) {\n            this.isMouseLeaveSelection = false;\n            this.maintainSelectionOnZoom(true, false);\n            var isTextSearch = this.pdfViewerBase.textLayer.getTextSearchStatus();\n            if (isTextSearch) {\n                this.pdfViewerBase.textLayer.clearDivSelection();\n                // tslint:disable-next-line\n                var indexes = this.pdfViewer.textSearchModule.getIndexes();\n                var lowerPageValue = parseFloat(indexes.lowerPageValue.toString());\n                var higherPageValue = parseFloat(indexes.higherPageValue.toString());\n                for (var i = lowerPageValue; i < higherPageValue; i++) {\n                    this.applySelectionRangeOnScroll(i);\n                }\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n            else {\n                this.applySpanForSelection();\n            }\n            if (this.pdfViewer.linkAnnotationModule) {\n                this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(this.pdfViewerBase.currentPageNumber - 1, false);\n            }\n        }\n        else {\n            this.pdfViewerBase.textLayer.clearDivSelection();\n            if (this.pdfViewer.textSearchModule) {\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n            this.removeTouchElements();\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.maintainSelectionOnZoom = function (isMaintainSelection, isStich) {\n        var selection = window.getSelection();\n        if (selection.type === 'Range' || (!selection.type && !selection.isCollapsed)) {\n            var isBackward = this.isBackWardSelection(selection);\n            if (selection.anchorNode !== null) {\n                // tslint:disable-next-line:radix\n                var anchorPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                var focusPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n                if (this.isTouchSelection && isNaN(focusPageId)) {\n                    var focusElement = selection.focusNode;\n                    if (focusElement === this.pdfViewerBase.pageContainer) {\n                        var lastChildNode = this.pdfViewerBase.pageContainer.lastChild;\n                        if (lastChildNode.classList.contains('e-pv-touch-select-drop')) {\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastChildNode.previousSibling.previousSibling.id.split('_pageDiv_')[1]);\n                        }\n                        else if (lastChildNode.classList.contains('e-pv-page-div')) {\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastChildNode.id.split('_pageDiv_')[1]);\n                        }\n                    }\n                }\n                if (!isBackward) {\n                    for (var i = anchorPageId; i <= focusPageId; i++) {\n                        this.maintainSelectionOnScroll(i, isStich);\n                    }\n                }\n                else {\n                    for (var i = anchorPageId; i >= focusPageId; i--) {\n                        this.maintainSelectionOnScroll(i, isStich);\n                    }\n                }\n            }\n            if (!isMaintainSelection) {\n                selection.removeAllRanges();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.isSelectionAvailableOnScroll = function (pageNumber) {\n        var isSelectionAvailable = false;\n        var ranges = this.selectionRangeArray;\n        for (var i = 0; i < ranges.length; i++) {\n            if (ranges[i] !== null) {\n                if (pageNumber === ranges[i].pageNumber) {\n                    isSelectionAvailable = true;\n                    if (this.isTouchSelection && !this.pdfViewerBase.getMagnified()) {\n                        isSelectionAvailable = false;\n                    }\n                    break;\n                }\n            }\n        }\n        return isSelectionAvailable;\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.applySelectionRangeOnScroll = function (pageNumber) {\n        if (this.isMouseLeaveSelection) {\n            this.applySelectionMouseScroll(pageNumber);\n        }\n        else {\n            this.applySelectionRange(pageNumber);\n        }\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.getSelectionRangeFromArray = function (pageNumber) {\n        var isSelectionAvailable = false;\n        var selectionRange = null;\n        var ranges = this.selectionRangeArray;\n        for (var i = 0; i < ranges.length; i++) {\n            if (ranges[i] !== null) {\n                if (pageNumber === ranges[i].pageNumber) {\n                    selectionRange = ranges[i];\n                    isSelectionAvailable = true;\n                    break;\n                }\n            }\n        }\n        return { isSelectionAvailable: isSelectionAvailable, selectionRange: selectionRange };\n    };\n    TextSelection.prototype.applySelectionRange = function (pageNumber) {\n        var selectionObject = this.getSelectionRangeFromArray(pageNumber);\n        var isSelectionAvailable = selectionObject.isSelectionAvailable;\n        var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n        if (textLayer) {\n            if (isSelectionAvailable && textLayer.childNodes.length !== 0) {\n                var selectionRange = selectionObject.selectionRange;\n                var anchorOffsetDiv = void 0;\n                var focusOffsetDiv = void 0;\n                var anchorOffset = void 0;\n                var focusOffset = void 0;\n                if (selectionRange.isBackward) {\n                    // tslint:disable-next-line:radix\n                    var startId = parseInt(selectionRange.endNode.split('_text_')[1].split('_')[1]);\n                    // tslint:disable-next-line:radix\n                    var endId = parseInt(selectionRange.startNode.split('_text_')[1].split('_')[1]);\n                    if (startId < endId) {\n                        anchorOffsetDiv = startId;\n                        anchorOffset = selectionRange.endOffset;\n                        focusOffset = selectionRange.startOffset;\n                        focusOffsetDiv = endId;\n                    }\n                    else {\n                        anchorOffsetDiv = endId;\n                        anchorOffset = selectionRange.startOffset;\n                        focusOffsetDiv = startId;\n                        focusOffset = selectionRange.endOffset;\n                    }\n                }\n                else {\n                    // tslint:disable-next-line:radix\n                    anchorOffsetDiv = parseInt(selectionRange.startNode.split('text_')[1].split('_')[1]);\n                    // tslint:disable-next-line:radix\n                    focusOffsetDiv = parseInt(selectionRange.endNode.split('text_')[1].split('_')[1]);\n                    anchorOffset = selectionRange.startOffset;\n                    focusOffset = selectionRange.endOffset;\n                }\n                window.getSelection().removeAllRanges();\n                // tslint:disable-next-line:max-line-length\n                this.pdfViewerBase.textLayer.applySpanForSelection(pageNumber, pageNumber, anchorOffsetDiv, focusOffsetDiv, anchorOffset, focusOffset);\n                if (this.pdfViewer.textSearchModule) {\n                    this.pdfViewer.textSearchModule.searchAfterSelection();\n                }\n            }\n        }\n    };\n    TextSelection.prototype.applySelectionMouseScroll = function (pageNumber) {\n        var selectionObject = this.getSelectionRangeFromArray(pageNumber);\n        var isSelectionAvailable = selectionObject.isSelectionAvailable;\n        if (isSelectionAvailable) {\n            var selectionRange = selectionObject.selectionRange;\n            var selection = window.getSelection();\n            var anchorNode = document.getElementById(selectionRange.startNode).childNodes[0];\n            var focusNode = document.getElementById(selectionRange.endNode).childNodes[0];\n            var range = document.createRange();\n            if (selection.anchorNode === null) {\n                if (!selectionRange.isBackward) {\n                    range.setStart(anchorNode, selectionRange.startOffset);\n                    range.setEnd(focusNode, selectionRange.endOffset);\n                }\n                else {\n                    range.setStart(focusNode, selectionRange.endOffset);\n                    range.setEnd(anchorNode, selectionRange.startOffset);\n                }\n            }\n            else {\n                // tslint:disable-next-line\n                var anchorPageIndex = isNaN(parseInt(selection.anchorNode.parentElement.id.split('_text_')[1])) ? parseInt(selection.anchorNode.id.split('_pageDiv_')[1]) : parseInt(selection.anchorNode.parentElement.id.split('_text_')[1]);\n                if (isNaN(anchorPageIndex)) {\n                    // tslint:disable-next-line:radix\n                    anchorPageIndex = parseInt(selection.anchorNode.id.split('_text_')[1]);\n                }\n                // tslint:disable-next-line\n                var focusPageIndex = isNaN(parseInt(selection.focusNode.parentElement.id.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_pageDiv_')[1]) : parseInt(selection.focusNode.parentElement.id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                var currentAnchorIndex = parseInt(selectionRange.startNode.split('_text_')[1]);\n                if ((anchorPageIndex === focusPageIndex) && (anchorPageIndex === currentAnchorIndex)) {\n                    if (!selectionRange.isBackward) {\n                        range.setStart(anchorNode, selectionRange.startOffset);\n                        range.setEnd(focusNode, selectionRange.endOffset);\n                    }\n                    else {\n                        range.setStart(focusNode, selectionRange.endOffset);\n                        range.setEnd(anchorNode, selectionRange.startOffset);\n                    }\n                }\n                else {\n                    if (!selectionRange.isBackward) {\n                        // tslint:disable-next-line:max-line-length\n                        if (anchorPageIndex < currentAnchorIndex && currentAnchorIndex < focusPageIndex && anchorPageIndex !== focusPageIndex) {\n                            range.setStart(selection.anchorNode, selection.anchorOffset);\n                            range.setEnd(selection.focusNode, selection.focusOffset);\n                        }\n                        else if (anchorPageIndex < currentAnchorIndex) {\n                            range.setStart(selection.anchorNode, selection.anchorOffset);\n                            range.setEnd(focusNode, selectionRange.endOffset);\n                        }\n                        else {\n                            range.setStart(anchorNode, selectionRange.startOffset);\n                            range.setEnd(selection.focusNode, selection.focusOffset);\n                        }\n                    }\n                    else {\n                        var isBackward = this.isBackWardSelection(selection);\n                        // tslint:disable-next-line:max-line-length\n                        if (anchorPageIndex > currentAnchorIndex && currentAnchorIndex > focusPageIndex && anchorPageIndex !== focusPageIndex) {\n                            if (!isBackward) {\n                                range.setStart(selection.anchorNode, selection.anchorOffset);\n                                range.setEnd(selection.focusNode, selection.focusOffset);\n                            }\n                            else {\n                                selection.extend(selection.focusNode, selection.focusOffset);\n                            }\n                            // tslint:disable-next-line:max-line-length\n                        }\n                        else if (anchorPageIndex < currentAnchorIndex && currentAnchorIndex < focusPageIndex && anchorPageIndex !== focusPageIndex) {\n                            if (!isBackward) {\n                                range.setStart(selection.anchorNode, selection.anchorOffset);\n                                range.setEnd(selection.focusNode, selection.focusOffset);\n                            }\n                            else {\n                                selection.extend(selection.focusNode, selection.focusOffset);\n                            }\n                        }\n                        else if (anchorPageIndex < currentAnchorIndex) {\n                            if (!isBackward) {\n                                if (currentAnchorIndex !== this.selectionRangeArray[0].pageNumber) {\n                                    range.setStart(selection.anchorNode, selection.anchorOffset);\n                                    range.setEnd(focusNode, selectionRange.endOffset);\n                                }\n                                else {\n                                    range.setStart(selection.anchorNode, selection.anchorOffset);\n                                    range.setEnd(anchorNode, selectionRange.startOffset);\n                                }\n                            }\n                            else {\n                                if (currentAnchorIndex !== this.selectionRangeArray[0].pageNumber) {\n                                    this.extendCurrentSelection(focusNode.parentElement, selectionRange.endOffset, selection, range);\n                                }\n                                else {\n                                    this.extendCurrentSelection(anchorNode.parentElement, selectionRange.startOffset, selection, range);\n                                }\n                            }\n                        }\n                        else if (anchorPageIndex === currentAnchorIndex) {\n                            if (currentAnchorIndex === focusPageIndex) {\n                                range.setStart(anchorNode, selectionRange.startOffset);\n                                range.setEnd(anchorNode, selectionRange.startOffset);\n                                selection.removeAllRanges();\n                                selection.addRange(range);\n                                range = document.createRange();\n                                selection.extend(focusNode, selectionRange.endOffset);\n                            }\n                            else {\n                                if (isBackward) {\n                                    this.extendCurrentSelection(focusNode.parentElement, selectionRange.endOffset, selection, range);\n                                }\n                                else {\n                                    range.setStart(focusNode, selectionRange.endOffset);\n                                    range.setEnd(selection.focusNode, selection.focusOffset);\n                                }\n                            }\n                        }\n                        else if (focusPageIndex === currentAnchorIndex) {\n                            if (isBackward) {\n                                selection.extend(selection.focusNode, selection.focusOffset);\n                            }\n                            else {\n                                range.setStart(selection.anchorNode, selection.anchorOffset);\n                                range.setEnd(selection.focusNode, selection.focusOffset);\n                            }\n                        }\n                        else if (anchorPageIndex > currentAnchorIndex) {\n                            // tslint:disable-next-line:radix\n                            var currentAnchorOffset = parseInt(selectionRange.startNode.split('_' + currentAnchorIndex + '_')[1]);\n                            // tslint:disable-next-line:radix\n                            var currentFocusOffset = parseInt(selectionRange.endNode.split('_' + currentAnchorIndex + '_')[1]);\n                            if (isBackward) {\n                                if (currentAnchorIndex !== this.selectionRangeArray[0].pageNumber) {\n                                    if (currentAnchorOffset < currentFocusOffset) {\n                                        this.extendCurrentSelection(anchorNode.parentElement, selectionRange.startOffset, selection, range);\n                                    }\n                                    else {\n                                        range.setStart(focusNode.parentElement, selectionRange.endOffset);\n                                        range.setEnd(selection.anchorNode, selection.anchorOffset);\n                                    }\n                                }\n                                else {\n                                    this.extendCurrentSelection(focusNode.parentElement, selectionRange.endOffset, selection, range);\n                                }\n                            }\n                            else {\n                                if (currentAnchorOffset < currentFocusOffset) {\n                                    range.setStart(anchorNode, selectionRange.startOffset);\n                                    range.setEnd(selection.focusNode, selection.focusOffset);\n                                }\n                                else {\n                                    range.setStart(focusNode, selectionRange.endOffset);\n                                    range.setEnd(selection.focusNode, selection.focusOffset);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (range.toString() !== '') {\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.maintainSelectionOnScroll = function (pageNumber, isStich) {\n        var isSelectionAvailable = this.isSelectionAvailableOnScroll(pageNumber);\n        if (this.isTextSelection && !isSelectionAvailable) {\n            this.maintainSelection(pageNumber, isStich);\n        }\n    };\n    TextSelection.prototype.maintainSelection = function (pageNumber, isStich) {\n        var selection = window.getSelection();\n        if (this.isTextSelection && (selection.type === 'Range' || (!selection.type && !selection.isCollapsed))) {\n            // tslint:disable-next-line\n            var anchorPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n            // tslint:disable-next-line\n            var focusPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n            if (isNaN(focusPageId) && selection.anchorNode !== null) {\n                var backward_1 = this.isBackWardSelection(selection);\n                if (!backward_1) {\n                    // tslint:disable-next-line:radix\n                    var lastChildNode = this.pdfViewerBase.pageContainer.lastChild;\n                    if (lastChildNode.classList.contains('e-pv-touch-select-drop')) {\n                        // tslint:disable-next-line:radix\n                        focusPageId = parseInt(lastChildNode.previousSibling.previousSibling.id.split('_pageDiv_')[1]);\n                    }\n                    else {\n                        // tslint:disable-next-line:radix\n                        focusPageId = parseInt(lastChildNode.id.split('_pageDiv_')[1]);\n                    }\n                }\n                else {\n                    // tslint:disable-next-line:radix\n                    focusPageId = parseInt(this.pdfViewerBase.pageContainer.firstChild.id.split('_pageDiv_')[1]);\n                }\n            }\n            var backward = this.isBackWardSelection(selection);\n            if (this.isTouchSelection && pageNumber > focusPageId && pageNumber > anchorPageId) {\n                return;\n            }\n            if (anchorPageId === focusPageId) {\n                var selectionObject = null;\n                var selectionBounds = this.getSelectionBounds(selection.getRangeAt(0), pageNumber);\n                // tslint:disable-next-line:max-line-length\n                var anchorOffsetValue = (this.getNodeElementFromNode(selection.anchorNode).childNodes.length === 1) ? selection.anchorOffset : this.getCorrectOffset(selection.anchorNode, selection.anchorOffset);\n                var focusOffsetValue = (this.getNodeElementFromNode(selection.focusNode).childNodes.length === 1) ? selection.focusOffset : this.getCorrectOffset(selection.focusNode, selection.focusOffset);\n                selectionObject = {\n                    isBackward: backward, startNode: this.getNodeElementFromNode(selection.anchorNode).id,\n                    startOffset: anchorOffsetValue, endNode: this.getNodeElementFromNode(selection.focusNode).id,\n                    endOffset: focusOffsetValue, textContent: selection.toString(), pageNumber: pageNumber, bounds: selectionBounds\n                };\n                this.pushSelectionRangeObject(selectionObject, pageNumber);\n            }\n            else {\n                var selectionObject = this.createRangeObjectOnScroll(pageNumber, anchorPageId, focusPageId);\n                if (selectionObject) {\n                    this.pushSelectionRangeObject(selectionObject, pageNumber);\n                    if (isStich) {\n                        this.stichSelection(backward, selection, pageNumber);\n                    }\n                }\n            }\n        }\n    };\n    TextSelection.prototype.getCorrectOffset = function (node, offset) {\n        var offsetValue = 0;\n        var parentElement = this.getNodeElementFromNode(node);\n        for (var i = 0; i < parentElement.childNodes.length; i++) {\n            if (parentElement.childNodes[i] === node) {\n                offsetValue = offsetValue + offset;\n                break;\n            }\n            else {\n                offsetValue = offsetValue + parentElement.childNodes[i].textContent.length;\n            }\n        }\n        return offsetValue;\n    };\n    TextSelection.prototype.pushSelectionRangeObject = function (selectionObject, pageNumber) {\n        if (this.isTouchSelection) {\n            var currentObject = this.selectionRangeArray.filter(\n            // tslint:disable-next-line\n            function (obj) {\n                return (obj.pageNumber === pageNumber);\n            });\n            if (currentObject.length > 0) {\n                var currentObjectIndex = this.selectionRangeArray.indexOf(currentObject[0]);\n                this.selectionRangeArray.splice(currentObjectIndex, 1, selectionObject);\n                return;\n            }\n        }\n        var nextPageObject = this.selectionRangeArray.filter(\n        // tslint:disable-next-line\n        function (obj) {\n            return (obj.pageNumber === (pageNumber + 1));\n        });\n        if (nextPageObject.length === 0) {\n            if (this.isTouchSelection && this.selectionRangeArray.length !== 0) {\n                var prevPageObject = this.selectionRangeArray.filter(\n                // tslint:disable-next-line\n                function (obj) {\n                    return (obj.pageNumber === (pageNumber - 1));\n                });\n                if (prevPageObject.length !== 0) {\n                    var prevIndex = this.selectionRangeArray.indexOf(prevPageObject[0]);\n                    this.selectionRangeArray.splice(prevIndex + 1, 0, selectionObject);\n                }\n                else {\n                    var firstObject = this.selectionRangeArray[0];\n                    if (pageNumber < firstObject.pageNumber) {\n                        this.selectionRangeArray.splice(0, 0, selectionObject);\n                    }\n                    else {\n                        this.selectionRangeArray.push(selectionObject);\n                    }\n                }\n            }\n            else {\n                this.selectionRangeArray.push(selectionObject);\n            }\n        }\n        else {\n            var index = this.selectionRangeArray.indexOf(nextPageObject[0]);\n            this.selectionRangeArray.splice(index, 0, selectionObject);\n        }\n    };\n    TextSelection.prototype.extendCurrentSelection = function (element, offset, selection, range) {\n        var currentFocusOffset = selection.focusOffset;\n        var currentFocusElement = selection.focusNode.parentElement.id;\n        // tslint:disable-next-line\n        var focusPageId = isNaN(parseInt(currentFocusElement.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_pageDiv_')[1]) : parseInt(currentFocusElement.split('_text_')[1]);\n        // tslint:disable-next-line:radix\n        if (isNaN(parseInt(currentFocusElement.split('_text_')[1]))) {\n            // tslint:disable-next-line\n            currentFocusElement = this.pdfViewerBase.getElement('_textLayer_' + (focusPageId + 1)).firstChild.id;\n        }\n        range.setStart(element.childNodes[0], offset);\n        range.setEnd(element.childNodes[0], offset);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        selection.extend(document.getElementById(currentFocusElement).childNodes[0], currentFocusOffset);\n    };\n    TextSelection.prototype.stichSelection = function (backward, selection, pageNumber) {\n        var range = document.createRange();\n        var nextPageElement;\n        if (backward) {\n            nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber - 1));\n            if (nextPageElement) {\n                var lastElement = nextPageElement.lastChild;\n                if (lastElement) {\n                    this.extendCurrentSelection(lastElement, this.getTextLastLength(lastElement), selection, range);\n                }\n                else {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber - 2));\n                    lastElement = nextPageElement.lastChild;\n                    this.extendCurrentSelection(lastElement, this.getTextLastLength(lastElement), selection, range);\n                }\n            }\n            else {\n                nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber + 1));\n                var lastElement = nextPageElement.firstChild;\n                this.extendCurrentSelection(lastElement, 0, selection, range);\n            }\n        }\n        else {\n            nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber + 1));\n            if (nextPageElement) {\n                var firstElement = nextPageElement.firstChild;\n                if (!firstElement) {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber + 2));\n                    firstElement = nextPageElement.firstChild;\n                    range.setStart(firstElement.childNodes[0], 0);\n                }\n                else {\n                    range.setStart(firstElement.childNodes[0], 0);\n                }\n                range.setEnd(selection.focusNode, selection.focusOffset);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseWheel = function (currentPageNumber) {\n        this.isMouseLeaveSelection = true;\n        this.stichSelectionOnScroll(currentPageNumber);\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.stichSelectionOnScroll = function (currentPageNumber) {\n        var selection = window.getSelection();\n        if (this.isTextSelection) {\n            // tslint:disable-next-line:radix\n            var anchorPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n            // tslint:disable-next-line:radix\n            var focusPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n            var nextPageElement = void 0;\n            if (anchorPageId !== currentPageNumber && focusPageId !== currentPageNumber) {\n                var backward = this.isBackWardSelection(selection);\n                if (!backward) {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (currentPageNumber - 1));\n                    if (nextPageElement) {\n                        var lastElement = nextPageElement.lastChild;\n                        if (lastElement) {\n                            this.extendSelectionStich(lastElement.childNodes[0], this.getTextLastLength(lastElement), selection);\n                        }\n                        else {\n                            nextPageElement = this.pdfViewerBase.getElement('_textLayer_' + currentPageNumber);\n                            var lastElement_1 = nextPageElement.firstChild;\n                            this.extendSelectionStich(lastElement_1.childNodes[0], 0, selection);\n                        }\n                    }\n                }\n                else {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (currentPageNumber - 1));\n                    if (nextPageElement) {\n                        var lastElement = nextPageElement.firstChild;\n                        if (lastElement) {\n                            this.extendSelectionStich(lastElement.childNodes[0], 0, selection);\n                        }\n                    }\n                }\n            }\n            this.maintainSelectionArray();\n        }\n    };\n    TextSelection.prototype.extendSelectionStich = function (node, offset, selection) {\n        if (selection.extend) {\n            selection.extend(node, offset);\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.createRangeObjectOnScroll = function (pageNumber, anchorPageId, focusPageId) {\n        var selectionObject = null;\n        var selection = window.getSelection();\n        if (selection.anchorNode !== null) {\n            var backward = this.isBackWardSelection(selection);\n            var firstElement = void 0;\n            var lastElement = void 0;\n            var startOffset = void 0;\n            var endOffset = void 0;\n            var element = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n            if (element.childNodes) {\n                if (!backward) {\n                    if (pageNumber === anchorPageId) {\n                        firstElement = this.getNodeElementFromNode(selection.anchorNode);\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = this.getCorrectOffset(selection.anchorNode, selection.anchorOffset);\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                    else if (pageNumber > anchorPageId && pageNumber < focusPageId) {\n                        // tslint:disable-next-line:max-line-length\n                        firstElement = element.firstChild;\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = 0;\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                    else if (pageNumber === focusPageId) {\n                        // tslint:disable-next-line:max-line-length\n                        firstElement = element.firstChild;\n                        var pageNumberIndex = this.getNodeElementFromNode(selection.focusNode).id.indexOf(focusPageId.toString());\n                        if (pageNumberIndex !== -1) {\n                            lastElement = this.getNodeElementFromNode(selection.focusNode);\n                            endOffset = this.getCorrectOffset(selection.focusNode, selection.focusOffset);\n                        }\n                        else {\n                            // tslint:disable-next-line:max-line-length\n                            lastElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + focusPageId).lastChild;\n                            endOffset = this.getTextLastLength(lastElement);\n                        }\n                        startOffset = 0;\n                    }\n                }\n                else {\n                    if (pageNumber === anchorPageId) {\n                        firstElement = this.getNodeElementFromNode(selection.anchorNode);\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.firstChild;\n                        startOffset = this.getCorrectOffset(selection.anchorNode, selection.anchorOffset);\n                        endOffset = 0;\n                    }\n                    else if (pageNumber < anchorPageId && pageNumber > focusPageId) {\n                        // tslint:disable-next-line:max-line-length\n                        firstElement = element.firstChild;\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = 0;\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                    else if (pageNumber === focusPageId) {\n                        firstElement = this.getNodeElementFromNode(selection.focusNode);\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = this.getCorrectOffset(selection.focusNode, selection.focusOffset);\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                }\n                if (firstElement && lastElement) {\n                    // tslint:disable-next-line:max-line-length\n                    var selectionRangeObject = this.getSelectionRangeObject(firstElement.id, startOffset, lastElement.id, endOffset, pageNumber);\n                    var selectionString = selectionRangeObject.toString();\n                    var selectionBounds = this.getSelectionBounds(selectionRangeObject, pageNumber);\n                    // tslint:disable-next-line:max-line-length\n                    return selectionObject = { isBackward: backward, startNode: firstElement.id, startOffset: startOffset, endNode: lastElement.id, endOffset: endOffset, textContent: selectionString, pageNumber: pageNumber, bounds: selectionBounds };\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        return null;\n    };\n    TextSelection.prototype.getSelectionRangeObject = function (startNode, startOffset, endNode, endOffset, pageNumber) {\n        var startElement = document.getElementById(startNode).childNodes[0];\n        var endElement = document.getElementById(endNode).childNodes[0];\n        // tslint:disable-next-line:radix\n        var currentAnchorOffset = parseInt(startNode.split('_' + pageNumber + '_')[1]);\n        // tslint:disable-next-line:radix\n        var currentFocusOffset = parseInt(endNode.split('_' + pageNumber + '_')[1]);\n        var range = document.createRange();\n        if (currentAnchorOffset < currentFocusOffset) {\n            range.setStart(startElement, startOffset);\n            range.setEnd(endElement, endOffset);\n        }\n        else {\n            range.setStart(endElement, endOffset);\n            range.setEnd(startElement, startOffset);\n        }\n        return range;\n    };\n    TextSelection.prototype.getSelectionBounds = function (range, pageNumber) {\n        var startElement = this.getNodeElementFromNode(range.startContainer);\n        var endElement = this.getNodeElementFromNode(range.endContainer);\n        var bounds = [];\n        if (startElement !== endElement) {\n            var newStartRange = document.createRange();\n            // tslint:disable-next-line:max-line-length\n            var startRange = this.createRangeForSelection(range.startContainer, range.endContainer, range.startOffset, range.endOffset, newStartRange);\n            bounds.push(this.normalizeBounds(startRange.getBoundingClientRect(), pageNumber));\n        }\n        else {\n            bounds.push(this.normalizeBounds(range.getBoundingClientRect(), pageNumber));\n        }\n        return bounds;\n    };\n    TextSelection.prototype.getTextId = function (elementId) {\n        var index = elementId.lastIndexOf('_');\n        var divId = elementId.substring(index + 1, elementId.length);\n        // tslint:disable-next-line:radix\n        return parseInt(divId);\n    };\n    TextSelection.prototype.normalizeBounds = function (bound, pageNumber) {\n        var newBounds = null;\n        var currentPageElement = this.pdfViewerBase.getElement('_pageDiv_' + pageNumber);\n        var currentPageRect = currentPageElement.getBoundingClientRect();\n        newBounds = {\n            bottom: this.getMagnifiedValue(bound.bottom - currentPageRect.top), height: this.getMagnifiedValue(bound.height),\n            left: this.getMagnifiedValue(bound.left - currentPageRect.left), top: this.getMagnifiedValue(bound.top - currentPageRect.top),\n            right: this.getMagnifiedValue(bound.right - currentPageRect.left), width: this.getMagnifiedValue(bound.height)\n        };\n        return newBounds;\n    };\n    TextSelection.prototype.getMagnifiedValue = function (value) {\n        return value / this.pdfViewerBase.getZoomFactor();\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.getCurrentSelectionBounds = function (pageNumber) {\n        var bounds = null;\n        var ranges = this.selectionRangeArray;\n        for (var i = 0; i < ranges.length; i++) {\n            if (ranges[i] !== null) {\n                if (pageNumber === ranges[i].pageNumber) {\n                    bounds = ranges[i].bounds;\n                }\n            }\n        }\n        return bounds;\n    };\n    TextSelection.prototype.createRangeForSelection = function (start, end, startOffset, endOffset, range) {\n        range.setStart(start, startOffset);\n        range.setEnd(end, endOffset);\n        return range;\n    };\n    TextSelection.prototype.maintainSelectionArray = function () {\n        var _this = this;\n        if (this.selectionRangeArray.length !== 0) {\n            var selection = window.getSelection();\n            var isBackward = this.isBackWardSelection(selection);\n            // tslint:disable-next-line\n            var anchorPage = isNaN(parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1])) ? parseInt(selection.anchorNode.id.split('_pageDiv_')[1]) : parseInt(selection.anchorNode.parentElement.id.split('_text_')[1]);\n            if (isNaN(anchorPage)) {\n                // tslint:disable-next-line:radix\n                anchorPage = parseInt(selection.anchorNode.id.split('_text_')[1]);\n            }\n            // tslint:disable-next-line\n            var focusPage_1 = isNaN(parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_pageDiv_')[1]) : parseInt(selection.focusNode.parentElement.id.split('_text_')[1]);\n            if (isNaN(focusPage_1)) {\n                // tslint:disable-next-line\n                focusPage_1 = isNaN(parseInt(selection.focusNode.id.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_textLayer_')[1]) : parseInt(selection.focusNode.id.split('_text_')[1]);\n            }\n            var arrayObject = [];\n            if (!isBackward) {\n                arrayObject = this.selectionRangeArray.filter(\n                // tslint:disable-next-line\n                function (obj) {\n                    return (!((_this.selectionStartPage <= obj.pageNumber) && (obj.pageNumber < focusPage_1)));\n                });\n            }\n            else {\n                arrayObject = this.selectionRangeArray.filter(\n                // tslint:disable-next-line\n                function (obj) {\n                    return (!((focusPage_1 < obj.pageNumber) && (obj.pageNumber <= _this.selectionStartPage)));\n                });\n            }\n            if (arrayObject.length > 0) {\n                for (var i = 0; i < arrayObject.length; i++) {\n                    var indexInArray = this.selectionRangeArray.indexOf(arrayObject[i]);\n                    if (indexInArray !== -1) {\n                        this.selectionRangeArray.splice(indexInArray, 1);\n                    }\n                }\n                if (this.selectionRangeArray.length === 1) {\n                    // tslint:disable-next-line:max-line-length\n                    if (this.selectionRangeArray[0].pageNumber === anchorPage || this.selectionRangeArray[0].pageNumber === focusPage_1) {\n                        arrayObject = [];\n                    }\n                }\n            }\n        }\n    };\n    TextSelection.prototype.isBackWardSelection = function (selection) {\n        var position = selection.anchorNode.compareDocumentPosition(selection.focusNode);\n        var backward = false;\n        if (!position && selection.anchorOffset > selection.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\n            backward = true;\n        }\n        return backward;\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.applySpanForSelection = function () {\n        var selection = window.getSelection();\n        // tslint:disable-next-line:max-line-length\n        if (selection.anchorNode !== null && this.pdfViewerBase.viewerContainer.contains(this.getNodeElementFromNode(selection.anchorNode))) {\n            var isBackWardSelection = this.isBackWardSelection(selection);\n            var anchorPageId = void 0;\n            var focusPageId = void 0;\n            var anchorOffsetDiv = void 0;\n            var focusOffsetDiv = void 0;\n            var anchorOffset = void 0;\n            var focusOffset = void 0;\n            if (isBackWardSelection) {\n                // tslint:disable-next-line:radix\n                anchorPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                focusPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                anchorOffsetDiv = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1].split('_')[1]);\n                // tslint:disable-next-line:radix\n                focusOffsetDiv = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1].split('_')[1]);\n                anchorOffset = selection.focusOffset;\n                focusOffset = selection.anchorOffset;\n            }\n            else {\n                var anchorElement = this.getNodeElementFromNode(selection.anchorNode);\n                var focusElement = this.getNodeElementFromNode(selection.focusNode);\n                // tslint:disable-next-line\n                anchorPageId = (anchorElement.id.indexOf('text_') !== -1) ? parseInt(anchorElement.id.split('text_')[1]) : parseInt(anchorElement.id.split('_textLayer_')[1]);\n                // tslint:disable-next-line\n                focusPageId = (focusElement.id.indexOf('text_') !== -1) ? parseInt(focusElement.id.split('text_')[1]) : parseInt(focusElement.id.split('_textLayer_')[1]);\n                var isFocusChanged = false;\n                if (this.isTouchSelection) {\n                    if (selection.focusNode === this.pdfViewerBase.pageContainer) {\n                        var lastChildNode = this.pdfViewerBase.pageContainer.lastChild;\n                        if (lastChildNode.classList.contains('e-pv-touch-select-drop')) {\n                            var lastPageDiv = lastChildNode.previousSibling.previousSibling;\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastPageDiv.id.split('_pageDiv_')[1]);\n                            focusElement = this.pdfViewerBase.getElement('_textLayer_' + focusPageId).lastChild;\n                            isFocusChanged = true;\n                        }\n                        else if (lastChildNode.classList.contains('e-pv-page-div')) {\n                            var lastPageDiv = lastChildNode;\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastPageDiv.id.split('_pageDiv_')[1]);\n                            focusElement = this.pdfViewerBase.getElement('_textLayer_' + focusPageId).lastChild;\n                            isFocusChanged = true;\n                        }\n                    }\n                }\n                if (anchorElement.classList.contains('e-pv-maintaincontent')) {\n                    anchorElement = this.getNodeElementFromNode(anchorElement);\n                    // tslint:disable-next-line:radix\n                    anchorPageId = parseInt(anchorElement.id.split('text_')[1]);\n                }\n                if (focusElement.classList.contains('e-pv-maintaincontent')) {\n                    focusElement = this.getNodeElementFromNode(focusElement);\n                    // tslint:disable-next-line:radix\n                    focusPageId = parseInt(focusElement.id.split('text_')[1]);\n                }\n                if (anchorPageId === focusPageId) {\n                    if (anchorElement.contains(focusElement)) {\n                        anchorElement = focusElement;\n                    }\n                    if (focusElement.contains(anchorElement)) {\n                        focusElement = anchorElement;\n                    }\n                }\n                // tslint:disable-next-line:radix\n                anchorOffsetDiv = (anchorElement.id.split('text_')[1]) ? parseInt(anchorElement.id.split('text_')[1].split('_')[1]) : null;\n                // tslint:disable-next-line:radix\n                focusOffsetDiv = (focusElement.id.split('text_')[1]) ? parseInt(focusElement.id.split('text_')[1].split('_')[1]) : null;\n                anchorOffsetDiv = isNaN(anchorOffsetDiv) ? focusOffsetDiv : anchorOffsetDiv;\n                focusOffsetDiv = isNaN(focusOffsetDiv) ? anchorOffsetDiv : focusOffsetDiv;\n                anchorOffset = selection.anchorOffset;\n                focusOffset = !isFocusChanged ? selection.focusOffset : focusElement.textContent.length;\n            }\n            selection.removeAllRanges();\n            this.pdfViewerBase.textLayer.clearDivSelection();\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.textLayer.applySpanForSelection(anchorPageId, focusPageId, anchorOffsetDiv, focusOffsetDiv, anchorOffset, focusOffset);\n            if (this.pdfViewer.textSearchModule) {\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.initiateTouchSelection = function (event, x, y) {\n        // tslint:disable-next-line\n        var element = event.target;\n        var belowElements = document.elementsFromPoint(event.touches[0].clientX, event.touches[0].clientY);\n        if (belowElements.length !== 0) {\n            if (belowElements[0].classList.contains('e-pv-hyperlink') && belowElements[1].classList.contains('e-pv-text')) {\n                element = belowElements[1];\n            }\n        }\n        this.selectAWord(element, x, y, true);\n        this.createTouchSelectElement(event);\n        this.maintainSelectionOnZoom(true, false);\n        this.applySpanForSelection();\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.selectTextByTouch = function (element, x, y, isForwardSelection, target, isCloserMovement) {\n        var isTextSelected = false;\n        if (element.nodeType === element.TEXT_NODE) {\n            var rangeObject = element.ownerDocument.createRange();\n            var selection = window.getSelection();\n            rangeObject.selectNodeContents(element);\n            var currentPosition = 0;\n            var endPosition = rangeObject.endOffset;\n            while (currentPosition < endPosition) {\n                rangeObject.setStart(element, currentPosition);\n                rangeObject.setEnd(element, currentPosition + 1);\n                var rangeBounds = rangeObject.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    if (selection.anchorNode != null) {\n                        if (isForwardSelection) {\n                            rangeObject.setStart(selection.anchorNode, selection.anchorOffset);\n                        }\n                        // tslint:disable-next-line:max-line-length\n                        rangeObject = this.setTouchSelectionStartPosition(selection, rangeObject, isForwardSelection, target, element, currentPosition, isCloserMovement);\n                        if (isForwardSelection) {\n                            selection.extend(element, currentPosition);\n                        }\n                        isTextSelected = true;\n                    }\n                    rangeObject.detach();\n                    return isTextSelected;\n                }\n                currentPosition += 1;\n            }\n        }\n        else {\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var range = element.childNodes[i].ownerDocument.createRange();\n                range.selectNodeContents(element.childNodes[i]);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    range.detach();\n                    return (this.selectTextByTouch(element.childNodes[i], x, y, isForwardSelection, target, isCloserMovement));\n                }\n                else {\n                    range.detach();\n                }\n            }\n        }\n        return isTextSelected;\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.setTouchSelectionStartPosition = function (selection, range, isForwardSelection, target, element, currentPosition, isCloserMovement) {\n        if (isForwardSelection) {\n            if (target === 'left') {\n                // tslint:disable-next-line\n                var startNode = this.getTouchFocusElement(selection, true);\n                range.setStart(startNode.focusNode, startNode.focusOffset);\n                range.setEnd(element, currentPosition);\n                this.selectionAnchorTouch = { anchorNode: range.endContainer.parentElement.id, anchorOffset: range.endOffset };\n            }\n            else if (target === 'right') {\n                // tslint:disable-next-line\n                var startNode = this.getTouchAnchorElement(selection, false);\n                range.setStart(startNode.anchorNode, startNode.anchorOffset);\n                range.setEnd(element, currentPosition);\n                this.selectionFocusTouch = { focusNode: range.endContainer.parentElement.id, focusOffset: range.endOffset };\n            }\n        }\n        else {\n            if (target === 'left') {\n                if (!isCloserMovement) {\n                    // tslint:disable-next-line\n                    var startNode = this.getTouchFocusElement(selection, false);\n                    range.setStart(element, currentPosition);\n                    // tslint:disable-next-line:radix\n                    range.setEnd(startNode.focusNode, startNode.focusOffset);\n                    if (range.toString() === '') {\n                        range.setStart(element, currentPosition);\n                        range.setEnd(selection.focusNode, selection.focusOffset);\n                    }\n                    this.selectionAnchorTouch = { anchorNode: range.startContainer.parentElement.id, anchorOffset: range.startOffset };\n                }\n                else {\n                    range.setStart(element, currentPosition);\n                    range.setEnd(selection.focusNode, selection.focusOffset);\n                    this.selectionAnchorTouch = { anchorNode: range.startContainer.parentElement.id, anchorOffset: range.startOffset };\n                }\n            }\n            else if (target === 'right') {\n                // tslint:disable-next-line\n                var startNode = this.getTouchAnchorElement(selection, true);\n                range.setStart(element, currentPosition);\n                range.setEnd(startNode.anchorNode, startNode.anchorOffset);\n                if (range.toString() === '') {\n                    range.setStart(startNode.anchorNode, startNode.anchorOffset);\n                    range.setEnd(element, currentPosition);\n                }\n                this.selectionFocusTouch = { focusNode: range.startContainer.parentElement.id, focusOffset: range.startOffset };\n            }\n        }\n        selection.removeAllRanges();\n        selection.addRange(range);\n        return range;\n    };\n    TextSelection.prototype.getTouchAnchorElement = function (selection, isCurrentFocus) {\n        var element = document.getElementById(this.selectionAnchorTouch.anchorNode.toString());\n        var startNode = null;\n        var offset = 0;\n        if (element) {\n            startNode = element.childNodes[0];\n            // tslint:disable-next-line:radix\n            offset = parseInt(this.selectionAnchorTouch.anchorOffset.toString());\n        }\n        else {\n            if (isCurrentFocus) {\n                startNode = selection.focusNode;\n                offset = selection.focusOffset;\n            }\n            else {\n                startNode = selection.anchorNode;\n                offset = selection.anchorOffset;\n            }\n        }\n        return { anchorNode: startNode, anchorOffset: offset };\n    };\n    TextSelection.prototype.getTouchFocusElement = function (selection, isCurrentAnchor) {\n        var element = document.getElementById(this.selectionFocusTouch.focusNode.toString());\n        var startNode = null;\n        var offset = 0;\n        if (element) {\n            startNode = element.childNodes[0];\n            // tslint:disable-next-line:radix\n            offset = parseInt(this.selectionFocusTouch.focusOffset.toString());\n        }\n        else {\n            if (isCurrentAnchor) {\n                startNode = selection.anchorNode;\n                offset = selection.anchorOffset;\n            }\n            else {\n                startNode = selection.focusNode;\n                offset = selection.focusOffset;\n            }\n        }\n        return { focusNode: startNode, focusOffset: offset };\n    };\n    TextSelection.prototype.createTouchSelectElement = function (event) {\n        this.isTouchSelection = true;\n        var selection = window.getSelection();\n        if (selection.type === 'Range') {\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementLeft = createElement('div', { id: this.pdfViewer.element.id + '_touchSelect_droplet_left', className: 'e-pv-touch-select-drop' });\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementRight = createElement('div', { id: this.pdfViewer.element.id + '_touchSelect_droplet_right', className: 'e-pv-touch-select-drop' });\n            this.dropElementLeft = createElement('div', { className: 'e-pv-touch-ellipse' });\n            this.dropElementLeft.style.transform = 'rotate(0deg)';\n            this.dropDivElementLeft.appendChild(this.dropElementLeft);\n            this.dropElementRight = createElement('div', { className: 'e-pv-touch-ellipse' });\n            this.dropElementRight.style.transform = 'rotate(-90deg)';\n            this.dropDivElementRight.appendChild(this.dropElementRight);\n            this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementLeft);\n            this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementRight);\n            var range = selection.getRangeAt(0);\n            var rangePosition = range.getBoundingClientRect();\n            var dropElementRect = this.dropDivElementLeft.getBoundingClientRect();\n            // tslint:disable-next-line:max-line-length\n            var pageTopValue = this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber - 1].top;\n            var viewerLeftPosition = this.pdfViewerBase.viewerContainer.getBoundingClientRect().left;\n            var topClientValue = this.getClientValueTop(rangePosition.top, this.pdfViewerBase.currentPageNumber - 1);\n            // tslint:disable-next-line:max-line-length\n            var topPositionValue = topClientValue + pageTopValue * this.pdfViewerBase.getZoomFactor() + (dropElementRect.height / 2) * this.pdfViewerBase.getZoomFactor() + 'px';\n            this.dropDivElementLeft.style.top = topPositionValue;\n            this.dropDivElementLeft.style.left = rangePosition.left - (viewerLeftPosition + (dropElementRect.width)) + 'px';\n            this.dropDivElementRight.style.top = topPositionValue;\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementRight.style.left = rangePosition.left + rangePosition.width - viewerLeftPosition + 'px';\n            var currentPageLeft = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1)).getBoundingClientRect().left;\n            var currentRangeLeft = rangePosition.left - currentPageLeft;\n            // tslint:disable-next-line:max-line-length\n            this.topStoreLeft = { pageTop: pageTopValue, topClientValue: this.getMagnifiedValue(topClientValue), pageNumber: this.pdfViewerBase.currentPageNumber - 1, left: this.getMagnifiedValue(currentRangeLeft), isHeightNeeded: true };\n            // tslint:disable-next-line:max-line-length\n            this.topStoreRight = { pageTop: pageTopValue, topClientValue: this.getMagnifiedValue(topClientValue), pageNumber: this.pdfViewerBase.currentPageNumber - 1, left: this.getMagnifiedValue(currentRangeLeft + rangePosition.width), isHeightNeeded: true };\n            this.dropDivElementLeft.addEventListener('touchstart', this.onLeftTouchSelectElementTouchStart);\n            this.dropDivElementLeft.addEventListener('touchmove', this.onLeftTouchSelectElementTouchMove);\n            this.dropDivElementLeft.addEventListener('touchend', this.onLeftTouchSelectElementTouchEnd);\n            this.dropDivElementRight.addEventListener('touchstart', this.onRightTouchSelectElementTouchStart);\n            this.dropDivElementRight.addEventListener('touchmove', this.onRightTouchSelectElementTouchMove);\n            this.dropDivElementRight.addEventListener('touchend', this.onRightTouchSelectElementTouchEnd);\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.contextMenuModule.contextMenuObj.open(event.touches[0].clientY - this.pdfViewerBase.viewerContainer.offsetTop, event.touches[0].clientX - this.pdfViewerBase.viewerContainer.clientLeft, this.pdfViewerBase.viewerContainer);\n        }\n    };\n    TextSelection.prototype.initiateSelectionByTouch = function () {\n        this.pdfViewerBase.textLayer.clearDivSelection();\n        this.pdfViewerBase.contextMenuModule.contextMenuObj.close();\n        var lowerPageIndex = this.pdfViewerBase.currentPageNumber - 3;\n        lowerPageIndex = (lowerPageIndex < 0) ? 0 : lowerPageIndex;\n        var higherPageIndex = this.pdfViewer.currentPageNumber + 1;\n        // tslint:disable-next-line:max-line-length\n        higherPageIndex = (higherPageIndex < (this.pdfViewerBase.pageCount - 1)) ? higherPageIndex : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageIndex; i <= higherPageIndex; i++) {\n            var textLayer = this.pdfViewerBase.getElement('_textLayer_' + i);\n            if (textLayer) {\n                if (textLayer.childNodes !== null) {\n                    this.applySelectionMouseScroll(i);\n                }\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.terminateSelectionByTouch = function (event) {\n        this.maintainSelectionOnZoom(true, false);\n        this.applySpanForSelection();\n        // tslint:disable-next-line:max-line-length\n        this.pdfViewerBase.contextMenuModule.contextMenuObj.open(event.changedTouches[0].clientY - this.pdfViewerBase.viewerContainer.offsetTop + this.pdfViewerBase.contextMenuModule.contextMenuElement.clientHeight, event.changedTouches[0].clientX - this.pdfViewerBase.viewerContainer.offsetLeft, this.pdfViewerBase.viewerContainer);\n    };\n    TextSelection.prototype.getNodeElement = function (range, touchX, touchY, event, nodeElement) {\n        if (document.caretRangeFromPoint) {\n            range = document.caretRangeFromPoint(touchX, touchY);\n            nodeElement = this.onTouchElementScroll(range, nodeElement, touchY, event);\n            // tslint:disable-next-line\n        }\n        else if (document.caretPositionFromPoint) {\n            // tslint:disable-next-line\n            var start = document.caretPositionFromPoint(touchX, touchY);\n            // tslint:disable-next-line\n            var end = document.caretPositionFromPoint(touchX, touchY);\n            range = document.createRange();\n            range.setStart(start.offsetNode, start.offset);\n            range.setEnd(end.offsetNode, end.offset);\n            nodeElement = this.onTouchElementScroll(range, nodeElement, touchY, event);\n        }\n        return nodeElement;\n    };\n    TextSelection.prototype.isTouchedWithinContainer = function (event) {\n        var elements = document.elementsFromPoint(event.touches[0].clientX, event.touches[0].clientY);\n        var isTouchedWithinContainer = false;\n        if (elements.length !== 0) {\n            isTouchedWithinContainer = true;\n        }\n        return isTouchedWithinContainer;\n    };\n    TextSelection.prototype.onTouchElementScroll = function (range, nodeElement, touchY, event) {\n        var viewerScrollTop = this.pdfViewerBase.viewerContainer.scrollTop;\n        if (range != null) {\n            nodeElement = range.startContainer;\n            var isScrollBar = this.isScrolledOnScrollBar(event);\n            if (!this.pdfViewerBase.viewerContainer.contains(nodeElement.parentElement) || isScrollBar) {\n                if (touchY < this.pdfViewerBase.viewerContainer.clientHeight) {\n                    this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop - 30;\n                }\n                else {\n                    this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop + 30;\n                }\n            }\n        }\n        else {\n            if (touchY < this.pdfViewerBase.viewerContainer.clientHeight) {\n                this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop - 30;\n            }\n            else {\n                this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop + 30;\n            }\n        }\n        return nodeElement;\n    };\n    TextSelection.prototype.isCloserTouchScroll = function (currentDifference) {\n        var isForwardMovement = false;\n        if (this.previousScrollDifference > currentDifference) {\n            isForwardMovement = true;\n        }\n        return isForwardMovement;\n    };\n    TextSelection.prototype.getClientValueTop = function (clientValue, pageNumber) {\n        // tslint:disable-next-line:max-line-length\n        return clientValue - this.pdfViewerBase.getElement('_pageDiv_' + pageNumber).getBoundingClientRect().top;\n    };\n    TextSelection.prototype.isScrolledOnScrollBar = function (event) {\n        var isScrollBar = false;\n        // tslint:disable-next-line:max-line-length\n        if ((this.pdfViewerBase.viewerContainer.clientHeight + this.pdfViewerBase.viewerContainer.offsetTop) < event.touches[0].clientY && event.touches[0].clientY < (this.pdfViewerBase.viewerContainer.offsetHeight + this.pdfViewerBase.viewerContainer.offsetTop)) {\n            isScrollBar = true;\n        }\n        return isScrollBar;\n    };\n    TextSelection.prototype.getTextLastLength = function (element) {\n        if (element) {\n            return element.textContent.length;\n        }\n        else {\n            return 0;\n        }\n    };\n    TextSelection.prototype.getNodeElementFromNode = function (node) {\n        if (node.parentElement) {\n            return node.parentElement;\n        }\n        else {\n            return node.parentNode;\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.copyText = function () {\n        var selectionText = '';\n        this.maintainSelectionOnZoom(true, false);\n        if (this.selectionRangeArray.length > 0) {\n            for (var i = 0; i < this.selectionRangeArray.length; i++) {\n                selectionText += this.selectionRangeArray[i].textContent;\n            }\n        }\n        if (selectionText.length > 0) {\n            var textArea = document.createElement('textarea');\n            textArea.contentEditable = 'true';\n            textArea.textContent = selectionText;\n            textArea.style.position = 'fixed';\n            document.body.appendChild(textArea);\n            textArea.select();\n            try {\n                document.execCommand('copy');\n            }\n            catch (ex) {\n                console.warn('Copy to clipboard failed.', ex);\n            }\n            finally {\n                if (textArea) {\n                    document.body.removeChild(textArea);\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.getModuleName = function () {\n        return 'TextSelection';\n    };\n    return TextSelection;\n}());\nexport { TextSelection };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n/**\n * TextSearch module\n */\nvar TextSearch = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function TextSearch(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.isTextSearch = false;\n        this.searchIndex = 0;\n        this.currentSearchIndex = 0;\n        this.searchPageIndex = null;\n        this.searchString = null;\n        this.isMatchCase = false;\n        // tslint:disable-next-line\n        this.textContents = new Array();\n        // tslint:disable-next-line\n        this.searchMatches = new Array();\n        // tslint:disable-next-line\n        this.searchCollection = new Array();\n        this.searchedPages = [];\n        this.isPrevSearch = false;\n        // tslint:disable-next-line\n        this.tempElementStorage = new Array();\n        /**\n         * @private\n         */\n        this.isMessagePopupOpened = false;\n        this.checkBoxOnChange = function (event) {\n            if (event.checked) {\n                _this.isMatchCase = true;\n            }\n            else {\n                _this.isMatchCase = false;\n            }\n            if (_this.isTextSearch) {\n                _this.resetVariables();\n                _this.clearAllOccurrences();\n                var inputString = _this.searchInput.value;\n                _this.searchIndex = 0;\n                _this.textSearch(inputString);\n            }\n        };\n        this.searchKeypressHandler = function (event) {\n            _this.enableNextButton(true);\n            _this.enablePrevButton(true);\n            if (event.which === 13) {\n                _this.initiateTextSearch(_this.searchInput);\n                _this.updateSearchInputIcon(false);\n            }\n            else {\n                _this.resetVariables();\n            }\n        };\n        this.searchClickHandler = function (event) {\n            _this.searchButtonClick(_this.searchBtn, _this.searchInput);\n        };\n        this.nextButtonOnClick = function (event) {\n            _this.nextSearch();\n        };\n        this.prevButtonOnClick = function (event) {\n            _this.prevSearch();\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    TextSearch.prototype.createTextSearchBox = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        this.searchBox = createElement('div', { id: this.pdfViewer.element.id + '_search_box', className: 'e-pv-search-bar' });\n        var searchElementsContainer = createElement('div', { id: this.pdfViewer.element.id + '_search_box_elements', className: 'e-pv-search-bar-elements' });\n        // tslint:disable-next-line:max-line-length\n        var searchInputContainer = createElement('div', { id: this.pdfViewer.element.id + '_search_input_container', className: 'e-input-group e-pv-search-input' });\n        this.searchInput = createElement('input', { id: this.pdfViewer.element.id + '_search_input', className: 'e-input' });\n        this.searchInput.type = 'text';\n        this.searchInput.placeholder = this.pdfViewer.localeObj.getConstant('Find in document');\n        // tslint:disable-next-line:max-line-length\n        this.searchBtn = createElement('span', { id: this.pdfViewer.element.id + '_search_box-icon', className: 'e-input-group-icon e-input-search-group-icon e-pv-search-icon' });\n        searchInputContainer.appendChild(this.searchInput);\n        searchInputContainer.appendChild(this.searchBtn);\n        searchElementsContainer.appendChild(searchInputContainer);\n        if (this.pdfViewer.enableRtl) {\n            this.prevSearchBtn = this.createSearchBoxButtons('prev_occurrence', 'e-pv-next-search');\n        }\n        else {\n            this.prevSearchBtn = this.createSearchBoxButtons('prev_occurrence', 'e-pv-prev-search');\n        }\n        searchElementsContainer.appendChild(this.prevSearchBtn);\n        if (this.pdfViewer.enableRtl) {\n            this.nextSearchBtn = this.createSearchBoxButtons('next_occurrence', 'e-pv-prev-search');\n        }\n        else {\n            this.nextSearchBtn = this.createSearchBoxButtons('next_occurrence', 'e-pv-next-search');\n        }\n        searchElementsContainer.appendChild(this.nextSearchBtn);\n        // tslint:disable-next-line:max-line-length\n        var matchCaseContainer = createElement('div', { id: this.pdfViewer.element.id + '_match_case_container', className: 'e-pv-match-case-container' });\n        var matchCaseInput = createElement('input', { id: this.pdfViewer.element.id + '_match_case' });\n        matchCaseInput.type = 'checkbox';\n        matchCaseContainer.appendChild(matchCaseInput);\n        this.searchBox.appendChild(searchElementsContainer);\n        this.searchBox.appendChild(matchCaseContainer);\n        this.pdfViewerBase.mainContainer.appendChild(this.searchBox);\n        // tslint:disable-next-line:max-line-length\n        this.checkBox = new CheckBox({ cssClass: 'e-pv-match-case', label: this.pdfViewer.localeObj.getConstant('Match case'), change: this.checkBoxOnChange.bind(this) });\n        this.checkBox.appendTo(matchCaseInput);\n        this.showSearchBox(false);\n        if (this.pdfViewer.enableRtl) {\n            this.searchBox.classList.add('e-rtl');\n            this.searchBox.style.left = '88.3px';\n        }\n        else {\n            this.searchBox.classList.remove('e-rtl');\n            this.searchBox.style.right = '88.3px';\n        }\n        this.searchInput.addEventListener('focus', function () {\n            _this.searchInput.parentElement.classList.add('e-input-focus');\n        });\n        this.searchInput.addEventListener('blur', function () {\n            _this.searchInput.parentElement.classList.remove('e-input-focus');\n        });\n        this.searchInput.addEventListener('keypress', this.searchKeypressHandler.bind(this));\n        this.searchBtn.addEventListener('click', this.searchClickHandler.bind(this));\n        this.nextSearchBtn.addEventListener('click', this.nextButtonOnClick.bind(this));\n        this.prevSearchBtn.addEventListener('click', this.prevButtonOnClick.bind(this));\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.textSearchBoxOnResize = function () {\n        // tslint:disable-next-line:max-line-length\n        if (this.pdfViewerBase.viewerContainer.clientWidth + this.pdfViewerBase.viewerContainer.offsetLeft < this.searchBox.offsetLeft + this.searchBox.clientWidth) {\n            this.searchBox.style.right = '0px';\n            // tslint:disable-next-line\n            this.searchBox.style.width = parseInt(this.searchBox.style.width) - ((this.searchBox.offsetLeft + this.searchBox.clientWidth) - (this.pdfViewerBase.viewerContainer.clientWidth)) + 'px';\n            // tslint:disable-next-line\n            this.searchInput.style.width = parseInt(this.searchInput.style.width) - ((this.searchBox.offsetLeft + this.searchBox.clientWidth) - (this.pdfViewerBase.viewerContainer.clientWidth)) + 'px';\n        }\n        else {\n            this.searchBox.style.right = '88.3px';\n            this.searchBox.style.width = '';\n            this.searchInput.style.width = '';\n        }\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.showSearchBox = function (isShow) {\n        if (isShow) {\n            this.searchBox.style.display = 'block';\n        }\n        else {\n            this.searchBox.style.display = 'none';\n        }\n        this.onTextSearchClose();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.searchAfterSelection = function () {\n        if (this.isTextSearch) {\n            this.initSearch(this.searchPageIndex, true);\n            this.highlightOthers();\n        }\n    };\n    TextSearch.prototype.initiateTextSearch = function (searchElement) {\n        var inputString = searchElement.value;\n        this.initiateSearch(inputString);\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.initiateSearch = function (inputString) {\n        if (inputString !== this.searchString) {\n            this.isTextSearch = false;\n            this.searchPageIndex = this.pdfViewerBase.currentPageNumber - 1;\n        }\n        this.clearAllOccurrences();\n        if (inputString !== '') {\n            if (this.searchCollection[this.searchPageIndex] && inputString === this.searchString) {\n                if (this.searchCollection[this.searchPageIndex].length === 0) {\n                    this.initSearch(this.searchPageIndex, false);\n                }\n                else {\n                    this.nextSearch();\n                }\n            }\n            else {\n                this.resetVariables();\n                this.searchIndex = 0;\n                this.textSearch(inputString);\n            }\n        }\n    };\n    TextSearch.prototype.textSearch = function (inputString) {\n        if (inputString !== '' || inputString) {\n            this.searchString = inputString;\n            this.isTextSearch = true;\n            this.searchPageIndex = this.pdfViewerBase.currentPageNumber - 1;\n            this.initSearch(this.searchPageIndex, false);\n            this.highlightOthers();\n        }\n    };\n    TextSearch.prototype.nextSearch = function () {\n        this.isPrevSearch = false;\n        this.isTextSearch = true;\n        if (this.searchString) {\n            this.clearAllOccurrences();\n            this.searchIndex = this.searchIndex + 1;\n            if (this.searchCollection[this.searchPageIndex]) {\n                // tslint:disable-next-line:max-line-length\n                if (this.searchIndex >= this.searchCollection[this.searchPageIndex].length || this.searchPageIndex !== this.pdfViewerBase.currentPageNumber - 1) {\n                    this.searchIndex = 0;\n                    this.searchPageIndex = ((this.searchPageIndex + 1) < this.pdfViewerBase.pageCount) ? (this.searchPageIndex + 1) : 0;\n                    this.initSearch(this.searchPageIndex, false);\n                }\n                else {\n                    this.highlightSearchedTexts(this.searchPageIndex, false);\n                }\n                this.highlightOthers();\n            }\n            else {\n                this.initiateTextSearch(this.searchInput);\n            }\n        }\n        else {\n            this.initiateTextSearch(this.searchInput);\n        }\n    };\n    TextSearch.prototype.prevSearch = function () {\n        this.isPrevSearch = true;\n        this.isTextSearch = true;\n        if (this.searchString) {\n            this.clearAllOccurrences();\n            this.searchIndex = this.searchIndex - 1;\n            if (this.searchIndex < 0) {\n                this.searchPageIndex = ((this.searchPageIndex - 1) < 0) ? (this.pdfViewerBase.pageCount - 1) : this.searchPageIndex - 1;\n                this.initSearch(this.searchPageIndex, false);\n            }\n            else {\n                this.highlightSearchedTexts(this.searchPageIndex, false);\n            }\n            this.highlightOthers();\n        }\n        else {\n            this.searchIndex = this.searchIndex - 1;\n            this.searchPageIndex = ((this.searchPageIndex - 1) < 0) ? (this.pdfViewerBase.pageCount - 1) : this.searchPageIndex - 1;\n            var inputString = this.searchInput.value;\n            this.textSearch(inputString);\n        }\n    };\n    TextSearch.prototype.initSearch = function (pageIndex, isSinglePageSearch) {\n        // tslint:disable-next-line\n        var storedData = this.pdfViewerBase.getStoredData(pageIndex);\n        var pageText = null;\n        var textContents = null;\n        if (storedData) {\n            // tslint:disable-next-line\n            pageText = storedData['pageText'];\n            // tslint:disable-next-line\n            textContents = storedData['textContent'];\n            this.textContents[pageIndex] = textContents;\n            this.getPossibleMatches(pageIndex, this.searchString, pageText, textContents, isSinglePageSearch);\n        }\n        else {\n            if (!isSinglePageSearch) {\n                this.createRequestForSearch(pageIndex);\n            }\n        }\n    };\n    // tslint:disable-next-line:max-line-length\n    TextSearch.prototype.getPossibleMatches = function (pageIndex, searchString, pageString, textContents, isSinglePageSearch) {\n        var pageText = pageString;\n        var searchText = searchString;\n        var queryLength = searchString.length;\n        if (!this.isMatchCase) {\n            searchText = searchString.toLowerCase();\n            pageText = pageString.toLowerCase();\n        }\n        var matches = [];\n        var matchIndex = -queryLength;\n        while (matchIndex !== 0) {\n            if (searchText === '' || searchText === ' ' || !searchText) {\n                break;\n            }\n            matchIndex = pageText.indexOf(searchText, matchIndex + queryLength);\n            if (matchIndex === -1) {\n                break;\n            }\n            matches.push(matchIndex);\n        }\n        this.searchMatches[pageIndex] = matches;\n        if (!isSinglePageSearch) {\n            if (this.searchedPages.indexOf(pageIndex) === -1) {\n                this.searchedPages.push(pageIndex);\n            }\n            this.updateSearchInputIcon(false);\n        }\n        if (this.searchMatches[pageIndex].length !== 0) {\n            if (!isSinglePageSearch) {\n                if (this.isPrevSearch) {\n                    this.searchIndex = this.searchMatches[pageIndex].length - 1;\n                }\n                if ((this.pdfViewerBase.currentPageNumber - 1) !== this.searchPageIndex) {\n                    // tslint:disable-next-line:max-line-length\n                    if (this.searchCollection.length > 0 && (this.searchIndex === 0 || this.searchIndex === -1) && (this.searchPageIndex) === this.currentSearchIndex) {\n                        if (!this.isMessagePopupOpened) {\n                            this.onMessageBoxOpen();\n                        }\n                        this.searchPageIndex = this.getSearchPage(this.pdfViewerBase.currentPageNumber - 1);\n                        this.searchedPages = [];\n                    }\n                    this.pdfViewerBase.updateScrollTop(this.searchPageIndex);\n                }\n            }\n            this.convertMatches(pageIndex, queryLength, textContents, isSinglePageSearch);\n        }\n        else {\n            if (!isSinglePageSearch) {\n                if (this.isPrevSearch) {\n                    this.searchPageIndex = ((this.searchPageIndex - 1) < 0) ? (this.pdfViewerBase.pageCount - 1) : this.searchPageIndex - 1;\n                }\n                else {\n                    this.searchPageIndex = ((this.searchPageIndex + 1) < this.pdfViewerBase.pageCount) ? (this.searchPageIndex + 1) : 0;\n                }\n                if (this.searchedPages.indexOf(this.searchPageIndex) === -1 && this.searchedPages.length !== this.pdfViewerBase.pageCount) {\n                    this.initSearch(this.searchPageIndex, false);\n                }\n                else {\n                    var searchPageIndex = this.getSearchPage(pageIndex);\n                    // tslint:disable-next-line:max-line-length\n                    if (!this.searchCollection[this.searchPageIndex] && this.searchCollection.length === 0 && this.searchedPages.length === this.pdfViewerBase.pageCount) {\n                        // tslint:disable-next-line:max-line-length\n                        if (!this.isMessagePopupOpened) {\n                            this.onMessageBoxOpen();\n                        }\n                        // tslint:disable-next-line:max-line-length\n                    }\n                    else if (this.searchCollection.length > 0 && (this.searchIndex === 0 || this.searchIndex === -1) && (searchPageIndex) === this.currentSearchIndex) {\n                        if (this.isPrevSearch) {\n                            // tslint:disable-next-line:max-line-length\n                            if (!this.isMessagePopupOpened) {\n                                this.onMessageBoxOpen();\n                            }\n                            this.searchPageIndex = this.getSearchPage(this.pdfViewerBase.currentPageNumber - 1);\n                            this.searchedPages = [];\n                            this.searchIndex = -1;\n                        }\n                        else {\n                            if (!this.isMessagePopupOpened) {\n                                this.onMessageBoxOpen();\n                            }\n                            this.searchPageIndex = this.getSearchPage(this.pdfViewerBase.currentPageNumber - 1);\n                            this.searchedPages = [];\n                            this.searchIndex = 0;\n                        }\n                        this.highlightSearchedTexts(this.searchPageIndex, isSinglePageSearch);\n                    }\n                }\n            }\n        }\n    };\n    TextSearch.prototype.getSearchPage = function (pageIndex) {\n        var pageNumber = null;\n        if (this.isPrevSearch) {\n            for (var i = pageIndex; i >= 0; i--) {\n                if (i !== pageIndex && this.searchCollection[i]) {\n                    pageNumber = i;\n                    break;\n                }\n            }\n            if (!pageNumber) {\n                for (var j = this.pdfViewerBase.pageCount - 1; j > pageIndex; j--) {\n                    if (this.searchCollection[j]) {\n                        pageNumber = j;\n                        break;\n                    }\n                }\n            }\n        }\n        else {\n            for (var i = pageIndex; i < this.pdfViewerBase.pageCount; i++) {\n                if (i !== pageIndex && this.searchCollection[i]) {\n                    pageNumber = i;\n                    break;\n                }\n            }\n            if (!pageNumber) {\n                for (var j = 0; j < pageIndex; j++) {\n                    if (this.searchCollection[j]) {\n                        pageNumber = j;\n                        break;\n                    }\n                }\n            }\n        }\n        return pageNumber;\n    };\n    TextSearch.prototype.convertMatches = function (pageIndex, queryLength, textContents, isSinglePageSearch) {\n        var m = 0;\n        var matches = this.searchMatches[pageIndex];\n        var divIndex = 0;\n        var end = textContents.length - 1;\n        var matchCollection = [];\n        for (var i = 0; i < matches.length; i++) {\n            var matchIndex = matches[i];\n            while (m !== end && matchIndex >= (divIndex + textContents[m].split('\\r\\n')[0].length)) {\n                divIndex += textContents[m].split('\\r\\n')[0].length;\n                m++;\n            }\n            var match = {\n                begin: {\n                    divId: m,\n                    offsetValue: matchIndex - divIndex,\n                }\n            };\n            matchIndex += queryLength;\n            while (m !== end && matchIndex > (divIndex + textContents[m].length)) {\n                divIndex += textContents[m].length;\n                m++;\n            }\n            match.end = {\n                divId: m,\n                offsetValue: matchIndex - divIndex,\n            };\n            matchCollection.push(match);\n        }\n        if (this.searchCollection.length === 0) {\n            this.currentSearchIndex = pageIndex;\n        }\n        this.searchCollection[pageIndex] = matchCollection;\n        this.highlightSearchedTexts(pageIndex, isSinglePageSearch);\n    };\n    TextSearch.prototype.highlightSearchedTexts = function (pageIndex, isSinglePageSearch) {\n        var matches = this.searchCollection[pageIndex];\n        var prevEnd = null;\n        // tslint:disable-next-line\n        var scrollPoint = { y: -100, x: -100 };\n        var startId;\n        var className;\n        for (var i = 0; i < matches.length; i++) {\n            var match = matches[i];\n            // tslint:disable-next-line\n            var start = match.begin;\n            // tslint:disable-next-line\n            var end = match.end;\n            if (i === this.searchIndex && pageIndex === this.searchPageIndex) {\n                className = 'e-pv-search-text-highlight';\n                startId = start.divId;\n            }\n            else {\n                className = 'e-pv-search-text-highlightother';\n            }\n            if (!prevEnd || start.divId !== prevEnd.divId) {\n                if (prevEnd !== null) {\n                    // tslint:disable-next-line:max-line-length\n                    this.addSpanForSearch(pageIndex, parseFloat(prevEnd.divId.toString()), parseFloat(prevEnd.offsetValue.toString()), undefined, null);\n                }\n                this.beginText(start, pageIndex, null);\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                this.addSpanForSearch(pageIndex, parseFloat(prevEnd.divId.toString()), parseFloat(prevEnd.offsetValue.toString()), parseFloat(start.offsetValue.toString()), null);\n            }\n            if (start.divId === end.divId) {\n                this.addSpanForSearch(pageIndex, start.divId, start.offsetValue, end.offsetValue, className);\n            }\n            else {\n                this.addSpanForSearch(pageIndex, start.divId, start.offsetValue, undefined, className);\n                for (var k = start.divId + 1; k < end.divId; k++) {\n                    this.addSpanForSearch(pageIndex, k, 0, undefined, className + ' middle');\n                }\n                this.beginText(end, pageIndex, className);\n            }\n            prevEnd = end;\n        }\n        if (prevEnd) {\n            // tslint:disable-next-line:max-line-length\n            this.addSpanForSearch(pageIndex, parseFloat(prevEnd.divId.toString()), parseFloat(prevEnd.offsetValue.toString()), undefined, null);\n        }\n        if (pageIndex === this.searchPageIndex && !isSinglePageSearch) {\n            var element = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + startId);\n            if (element) {\n                var targetScrollElement = this.getScrollElement(element);\n                this.scrollToSearchStr(targetScrollElement, scrollPoint);\n            }\n            else {\n                this.pdfViewerBase.updateScrollTop(pageIndex);\n                var element_1 = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + startId);\n                var targetScrollElement = this.getScrollElement(element_1);\n                this.scrollToSearchStr(targetScrollElement, scrollPoint);\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextSearch.prototype.beginText = function (start, pageIndex, className) {\n        var divIndex = parseFloat(start.divId);\n        var textDiv = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + divIndex);\n        if (textDiv) {\n            // tslint:disable-next-line\n            this.tempElementStorage = new Array();\n            for (var i = 0; i < textDiv.childNodes.length; i++) {\n                // tslint:disable-next-line:max-line-length\n                var ele = { text: textDiv.childNodes[i].textContent, classString: textDiv.childNodes[i].className };\n                this.tempElementStorage.push(ele);\n            }\n            textDiv.textContent = '';\n            this.addSpanForSearch(pageIndex, divIndex, 0, start.offsetValue, className);\n        }\n    };\n    // tslint:disable-next-line:max-line-length\n    TextSearch.prototype.addSpanForSearch = function (pageIndex, divIndex, fromOffset, toOffset, className) {\n        var divTextContent;\n        var textDiv = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + divIndex);\n        if (textDiv) {\n            var textContent = this.textContents[pageIndex];\n            divTextContent = textContent[divIndex].substring(fromOffset, toOffset);\n            var node = document.createTextNode(divTextContent);\n            if (className) {\n                var spanElement = document.createElement('span');\n                spanElement.className = className;\n                if (spanElement.classList.contains('middle')) {\n                    textDiv.textContent = '';\n                }\n                spanElement.appendChild(node);\n                textDiv.appendChild(spanElement);\n            }\n            else {\n                if (this.pdfViewer.textSelectionModule.isTextSelection) {\n                    this.searchOnSelection(textDiv, node, divTextContent);\n                }\n                else {\n                    textDiv.appendChild(node);\n                }\n            }\n        }\n    };\n    TextSearch.prototype.isClassAvailable = function () {\n        var isClass = false;\n        for (var j = 0; j < this.tempElementStorage.length; j++) {\n            if (this.tempElementStorage[j].classString) {\n                // tslint:disable-next-line:max-line-length\n                if (this.tempElementStorage[j].classString === 'e-pv-search-text-highlight' || this.tempElementStorage[j].classString === 'e-pv-search-text-highlightother') {\n                    isClass = true;\n                    break;\n                }\n            }\n        }\n        return isClass;\n    };\n    TextSearch.prototype.addSpan = function (text, textDiv) {\n        var newNode = document.createTextNode(text);\n        var spanElement = document.createElement('span');\n        spanElement.className = 'e-pv-maintaincontent';\n        spanElement.appendChild(newNode);\n        textDiv.appendChild(spanElement);\n    };\n    TextSearch.prototype.searchOnSelection = function (textDiv, node, divTextContent) {\n        if (this.tempElementStorage.length === 1) {\n            if (this.tempElementStorage[0].classString) {\n                if (this.tempElementStorage[0].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                    this.addSpan(node.textContent, textDiv);\n                }\n            }\n            else {\n                textDiv.appendChild(node);\n            }\n        }\n        else {\n            if (this.tempElementStorage.length > 1) {\n                for (var i = 0; i < this.tempElementStorage.length; i++) {\n                    if (this.tempElementStorage[i].classString) {\n                        if (this.tempElementStorage[i].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                            if (this.tempElementStorage[i].text === node.textContent) {\n                                this.addSpan(node.textContent, textDiv);\n                                break;\n                            }\n                            else {\n                                if (this.tempElementStorage[i].text !== node.textContent) {\n                                    var currentString = node.textContent;\n                                    var isClassAvailable = this.isClassAvailable();\n                                    var subString = void 0;\n                                    if (isClassAvailable) {\n                                        subString = divTextContent.substring(0, this.tempElementStorage[i].text.length);\n                                    }\n                                    else {\n                                        subString = divTextContent.substring(0, this.tempElementStorage[i].text.length);\n                                    } // tslint:disable-next-line\n                                    if (this.tempElementStorage[i].text.indexOf(currentString) !== -1 && !this.tempElementStorage[i].classString) {\n                                        this.addSpan(currentString, textDiv);\n                                        break; // tslint:disable-next-line\n                                    }\n                                    else if (this.tempElementStorage[i].text.indexOf(subString) !== -1 && this.tempElementStorage[i].classString && subString !== '') {\n                                        if (this.tempElementStorage[i].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                                            this.addSpan(subString, textDiv); // tslint:disable-next-line\n                                            var nextSubString = divTextContent.substring(this.tempElementStorage[i].text.length, divTextContent.length);\n                                            if (this.tempElementStorage[i + 1]) { // tslint:disable-next-line\n                                                if (this.tempElementStorage[i + 1].text.indexOf(nextSubString) !== -1 && !this.tempElementStorage[i + 1].classString && nextSubString !== \"\") {\n                                                    node.textContent = nextSubString;\n                                                    textDiv.appendChild(node);\n                                                }\n                                            }\n                                            break;\n                                        }\n                                    }\n                                    else if (this.tempElementStorage[i + 1]) {\n                                        if (divTextContent === (this.tempElementStorage[i].text + this.tempElementStorage[i + 1].text)) {\n                                            this.addSpan(this.tempElementStorage[i].text, textDiv);\n                                            node.textContent = this.tempElementStorage[i + 1].text;\n                                            textDiv.appendChild(node);\n                                            break;\n                                        }\n                                        else if (this.tempElementStorage[i].text.indexOf(divTextContent) !== -1) {\n                                            this.addSpan(divTextContent, textDiv);\n                                            break;\n                                        }\n                                        else { // tslint:disable-next-line\n                                            var subString_1 = this.tempElementStorage[i].text.substring(textDiv.textContent.length, currentString.length);\n                                            if (this.tempElementStorage[i].text.indexOf(subString_1) !== -1 && this.tempElementStorage[i].classString && // tslint:disable-next-line\n                                                subString_1 !== '' && !this.tempElementStorage[i + 1].classString && divTextContent.indexOf(subString_1) !== -1) {\n                                                this.addSpan(subString_1, textDiv);\n                                                continue;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        if (this.tempElementStorage[i].text.indexOf(divTextContent) !== -1) {\n                                            this.addSpan(node.textContent, textDiv);\n                                            break;\n                                        }\n                                        else if (this.tempElementStorage[i].text.indexOf(divTextContent.replace('\\r\\n', '')) !== -1) {\n                                            this.addSpan(divTextContent, textDiv);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        if (this.tempElementStorage[i].text !== node.textContent) {\n                            var currentString = node.textContent;\n                            if (currentString !== '') {\n                                var isClassAvailable = this.isClassAvailable();\n                                var subString = void 0;\n                                if (isClassAvailable) {\n                                    subString = divTextContent.substring(0, this.tempElementStorage[i].text.length);\n                                }\n                                else { // tslint:disable-next-line\n                                    subString = divTextContent.substring(0, this.tempElementStorage[i].text.length - textDiv.textContent.length);\n                                } // tslint:disable-next-line\n                                if (subString === currentString && !this.tempElementStorage[i].classString && this.tempElementStorage[i].text.indexOf(subString) !== -1) {\n                                    node.textContent = subString;\n                                    textDiv.appendChild(node);\n                                    break;\n                                }\n                                else { // tslint:disable-next-line\n                                    if (this.tempElementStorage[i].text.indexOf(subString) !== -1 && this.tempElementStorage[i].classString) {\n                                        if (this.tempElementStorage[i].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                                            this.addSpan(subString, textDiv);\n                                            break;\n                                        }\n                                    }\n                                    else if (this.tempElementStorage[i + 1]) { // tslint:disable-next-line\n                                        var balanceString = currentString.substring(this.tempElementStorage[i].text.length, currentString.length);\n                                        var nextString = this.tempElementStorage[i + 1].text.substring(0, balanceString.length);\n                                        if (currentString === (subString + this.tempElementStorage[i + 1].text)) {\n                                            node.textContent = subString;\n                                            textDiv.appendChild(node);\n                                            this.addSpan(this.tempElementStorage[i + 1].text, textDiv);\n                                            break;\n                                        }\n                                        else if (currentString === (subString + nextString) && nextString !== '') {\n                                            node.textContent = subString;\n                                            textDiv.appendChild(node);\n                                            this.addSpan(balanceString, textDiv);\n                                            break;\n                                        }\n                                        else { // tslint:disable-next-line\n                                            if (this.tempElementStorage[i].text.indexOf(subString) !== -1 && !this.tempElementStorage[i].classString && subString !== '') {\n                                                var newSubString = divTextContent.substring(0, subString.length);\n                                                node.textContent = newSubString;\n                                                textDiv.appendChild(node); // tslint:disable-next-line\n                                                var nextNewSubString = divTextContent.substring(subString.length, divTextContent.length);\n                                                if (nextNewSubString !== '' && this.tempElementStorage[i + 1].text.indexOf(nextNewSubString) !== -1 && this.tempElementStorage[i + 1].classString) {\n                                                    this.addSpan(nextNewSubString, textDiv);\n                                                }\n                                                break;\n                                            }\n                                        }\n                                    }\n                                    else { // tslint:disable-next-line\n                                        if (this.tempElementStorage[i].text.indexOf(currentString) !== -1 && !this.tempElementStorage[i].classString) {\n                                            node.textContent = currentString;\n                                            textDiv.appendChild(node);\n                                            break; // tslint:disable-next-line\n                                        }\n                                        else if (this.tempElementStorage[i].text.indexOf(currentString.replace('\\r\\n', '')) !== -1 && !this.tempElementStorage[i].classString) {\n                                            node.textContent = currentString;\n                                            textDiv.appendChild(node);\n                                            break;\n                                        }\n                                        else {\n                                            if (divTextContent.indexOf(this.tempElementStorage[i].text) !== -1) {\n                                                node.textContent = this.tempElementStorage[i].text;\n                                                textDiv.appendChild(node);\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        else {\n                            textDiv.appendChild(node);\n                        }\n                    }\n                }\n            }\n            else {\n                textDiv.appendChild(node);\n            }\n        }\n    };\n    TextSearch.prototype.getScrollElement = function (element) {\n        var targetElement = element;\n        if (element.childNodes.length > 0) {\n            for (var i = 0; i < element.childNodes.length; i++) {\n                if (element.childNodes[i].classList) {\n                    if (element.childNodes[i].classList.contains('e-pv-search-text-highlight')) {\n                        targetElement = element.childNodes[i];\n                    }\n                }\n            }\n        }\n        return targetElement;\n    };\n    // tslint:disable-next-line\n    TextSearch.prototype.scrollToSearchStr = function (element, scrollPoint) {\n        var parent = element.offsetParent;\n        var offsetY = element.offsetTop + element.clientTop;\n        var offsetX = element.offsetLeft + element.clientLeft;\n        while (parent.id !== this.pdfViewerBase.viewerContainer.id) {\n            offsetY += parent.offsetTop;\n            offsetX += parent.offsetLeft;\n            parent = parent.offsetParent;\n        }\n        if (scrollPoint) {\n            offsetY += scrollPoint.y;\n            offsetX += scrollPoint.x;\n            if (Browser.isDevice) {\n                parent.scrollLeft = offsetX;\n            }\n            else {\n                if (this.pdfViewerBase.getZoomFactor() > 1.5) {\n                    parent.scrollLeft = offsetX;\n                }\n            }\n        }\n        parent.scrollTop = offsetY;\n        this.pdfViewerBase.updateMobileScrollerPosition();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.highlightOtherOccurrences = function (pageNumber) {\n        this.initSearch(pageNumber, true);\n    };\n    TextSearch.prototype.highlightOthers = function () {\n        var indexes = this.getIndexes();\n        var lowerPageValue = parseFloat(indexes.lowerPageValue.toString());\n        var higherPageValue = parseFloat(indexes.higherPageValue.toString());\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            this.highlightOtherOccurrences(i);\n        }\n    };\n    TextSearch.prototype.clearAllOccurrences = function () {\n        this.pdfViewerBase.textLayer.clearDivSelection();\n        this.applyTextSelection();\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextSearch.prototype.getIndexes = function () {\n        var lowerPageValue = this.pdfViewerBase.currentPageNumber - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = this.pdfViewerBase.currentPageNumber + 1;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        return { lowerPageValue: lowerPageValue, higherPageValue: higherPageValue };\n    };\n    TextSearch.prototype.applyTextSelection = function () {\n        if (this.pdfViewer.textSelectionModule && !this.pdfViewerBase.isTextSelectionDisabled) {\n            var indexes = this.getIndexes();\n            var lowerPageValue = parseFloat(indexes.lowerPageValue.toString());\n            var higherPageValue = parseFloat(indexes.higherPageValue.toString());\n            for (var i = lowerPageValue; i <= higherPageValue; i++) {\n                this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(i);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.resetTextSearch = function () {\n        this.resetVariables();\n        this.onTextSearchClose();\n        this.searchPageIndex = null;\n        this.searchIndex = 0;\n        this.updateSearchInputIcon(true);\n        this.enableNextButton(false);\n        this.enablePrevButton(false);\n    };\n    TextSearch.prototype.onTextSearchClose = function () {\n        this.isPrevSearch = false;\n        this.isTextSearch = false;\n        if (this.pdfViewerBase.pageCount > 0) {\n            this.clearAllOccurrences();\n        }\n    };\n    TextSearch.prototype.createRequestForSearch = function (pageIndex) {\n        var _this = this;\n        var jsonObject;\n        // tslint:disable-next-line:max-line-length\n        jsonObject = { xCoordinate: 0, yCoordinate: 0, pageNumber: pageIndex, documentId: this.pdfViewerBase.getDocumentId(), hashId: this.pdfViewerBase.hashId, zoomFactor: this.pdfViewerBase.getZoomFactor() };\n        var request = new XMLHttpRequest();\n        request.open('POST', this.pdfViewer.serviceUrl + '/' + this.pdfViewer.serverActionSettings.renderPages);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            var proxy = _this.pdfViewerBase;\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                // tslint:disable-next-line:max-line-length\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                if (data) {\n                    if (data.pageText) {\n                        proxy.storeWinData(data, pageIndex);\n                        _this.initSearch(pageIndex, false);\n                    }\n                }\n            }\n            else if (request.readyState === 4 && request.status === 400) {\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.pdfViewerBase.openNotificationPopup();\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    TextSearch.prototype.createSearchBoxButtons = function (id, className) {\n        // tslint:disable-next-line:max-line-length\n        var button = createElement('button', { id: this.pdfViewer.element.id + '_' + id, className: 'e-btn e-icon-btn e-pv-search-btn ' + className });\n        var iconSpan = createElement('span', { id: this.pdfViewer.element.id + '_' + id + 'Icon', className: 'e-pv-icon-search ' + className + '-icon' });\n        if (this.pdfViewer.enableRtl) {\n            if (className === 'e-pv-prev-search') {\n                iconSpan.style.paddingRight = '5px';\n            }\n        }\n        button.disabled = true;\n        button.appendChild(iconSpan);\n        return button;\n    };\n    TextSearch.prototype.enablePrevButton = function (isEnable) {\n        if (!Browser.isDevice) {\n            if (isEnable) {\n                this.prevSearchBtn.removeAttribute('disabled');\n            }\n            else {\n                this.prevSearchBtn.disabled = true;\n            }\n        }\n    };\n    TextSearch.prototype.enableNextButton = function (isEnable) {\n        if (!Browser.isDevice) {\n            if (isEnable) {\n                this.nextSearchBtn.removeAttribute('disabled');\n            }\n            else {\n                this.nextSearchBtn.disabled = true;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.resetVariables = function () {\n        this.searchedPages = [];\n        // tslint:disable-next-line\n        this.searchMatches = new Array();\n        // tslint:disable-next-line\n        this.searchCollection = new Array();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.searchButtonClick = function (element, inputElement) {\n        if (element.classList.contains('e-pv-search-icon')) {\n            this.initiateTextSearch(inputElement);\n        }\n        else if (element.classList.contains('e-pv-search-close')) {\n            inputElement.value = '';\n            this.resetTextSearch();\n            inputElement.focus();\n        }\n    };\n    TextSearch.prototype.updateSearchInputIcon = function (isEnable) {\n        if (this.searchBtn) {\n            if (isEnable) {\n                this.searchBtn.classList.remove('e-pv-search-close');\n                this.searchBtn.classList.add('e-pv-search-icon');\n            }\n            else {\n                this.searchBtn.classList.remove('e-pv-search-icon');\n                this.searchBtn.classList.add('e-pv-search-close');\n            }\n        }\n    };\n    TextSearch.prototype.onMessageBoxOpen = function () {\n        this.pdfViewerBase.getElement('_search_input').blur();\n        this.isMessagePopupOpened = true;\n        if (!Browser.isDevice) {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.textLayer.createNotificationPopup(this.pdfViewer.localeObj.getConstant('No matches'));\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.navigationPane.createTooltipMobile(this.pdfViewer.localeObj.getConstant('No Text Found'));\n        }\n    };\n    /**\n     * Searches the target text in the PDF document and highlights the occurrences in the pages\n     * @param  {string} searchText - Specifies the searchText content\n     * @param  {boolean} isMatchCase - If set true , its highlights the MatchCase content\n     * @returns void\n     */\n    TextSearch.prototype.searchText = function (searchText, isMatchCase) {\n        this.searchString = searchText;\n        this.isMatchCase = isMatchCase;\n        this.searchIndex = 0;\n        this.textSearch(searchText);\n    };\n    /**\n     * Searches the next occurrence of the searched text from the current occurrence of the PdfViewer.\n     * @returns void\n     */\n    TextSearch.prototype.searchNext = function () {\n        this.nextSearch();\n    };\n    /**\n     * Searches the previous occurrence of the searched text from the current occurrence of the PdfViewer.\n     * @returns void\n     */\n    TextSearch.prototype.searchPrevious = function () {\n        this.prevSearch();\n    };\n    /**\n     * Cancels the text search of the PdfViewer.\n     * @returns void\n     */\n    TextSearch.prototype.cancelTextSearch = function () {\n        this.resetTextSearch();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.destroy = function () {\n        this.searchCollection = undefined;\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.getModuleName = function () {\n        return 'TextSearch';\n    };\n    return TextSearch;\n}());\nexport { TextSearch };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * Print module\n */\nvar Print = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Print(viewer, base) {\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = base;\n    }\n    /**\n     * Print the PDF document being loaded in the ejPdfViewer control.\n     * @returns void\n     */\n    Print.prototype.print = function () {\n        var _this = this;\n        var pageIndex;\n        if (this.pdfViewerBase.pageCount > 0) {\n            // tslint:disable-next-line:max-line-length\n            this.printViewerContainer = createElement('div', { id: this.pdfViewer.element.id + '_print_viewer_container',\n                className: 'e-pv-print-viewer-container' });\n            this.pdfViewerBase.showPrintLoadingIndicator(true);\n            this.iframe = document.createElement('iframe');\n            this.iframe.className = 'iframeprint';\n            this.iframe.id = 'iframePrint';\n            this.iframe.style.position = 'absolute';\n            this.iframe.style.top = '-100000000px';\n            document.body.appendChild(this.iframe);\n            this.frameDoc = this.iframe.contentWindow ? this.iframe.contentWindow : this.iframe.contentDocument;\n            this.frameDoc.document.open();\n            setTimeout(function () {\n                for (pageIndex = 0; pageIndex <= _this.pdfViewerBase.pageCount; pageIndex++) {\n                    if (pageIndex < _this.pdfViewerBase.pageCount) {\n                        var pageWidth = _this.pdfViewerBase.pageSize[pageIndex].width;\n                        var pageHeight = _this.pdfViewerBase.pageSize[pageIndex].height;\n                        _this.pdfViewer.printModule.createRequestForPrint(pageIndex, pageWidth, pageHeight, _this.pdfViewerBase.pageCount);\n                    }\n                    else {\n                        _this.printWindowOpen();\n                    }\n                }\n            }, 100);\n        }\n    };\n    Print.prototype.createRequestForPrint = function (pageIndex, pageWidth, pageHeight, pageCount) {\n        var proxy = this;\n        var request = new XMLHttpRequest();\n        // tslint: disable-next-line:max-line-length\n        // set default zoomFactor value.  \n        var jsonObject = { pageNumber: pageIndex, documentId: this.pdfViewerBase.documentId,\n            hashId: this.pdfViewerBase.hashId, zoomFactor: 1 };\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/PrintImages', false);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.send(JSON.stringify(jsonObject));\n        var printImage = request.responseText;\n        // tslint:disable-next-line\n        var pageImage = new Image();\n        pageImage.src = printImage;\n        pageImage.height = pageHeight;\n        pageImage.width = pageWidth;\n        this.printImageContainer = createElement('div', { id: this.pdfViewer.element.id + '_print_image_container' + pageIndex });\n        if (pageHeight < pageWidth) {\n            this.printImageContainer.style.height = pageWidth + 'px';\n            pageImage.height = pageWidth;\n            this.printImageContainer.style.width = pageHeight + 'px';\n            pageImage.width = pageHeight;\n        }\n        this.printImageContainer.appendChild(pageImage);\n        this.printViewerContainer.appendChild(this.printImageContainer);\n    };\n    Print.prototype.printWindowOpen = function () {\n        var _this = this;\n        var browserUserAgent = navigator.userAgent;\n        // tslint: disable-next-line:max-line-length\n        if ((browserUserAgent.indexOf('Chrome') !== -1) || (browserUserAgent.indexOf('Safari') !== -1) ||\n            (browserUserAgent.indexOf('Firefox')) !== -1) {\n            //chrome and firefox\n            this.frameDoc.document.write('<!DOCTYPE html>');\n            // tslint: disable-next-line:max-line-length\n            this.frameDoc.document.write('<html moznomarginboxes mozdisallowselectionprint><head><style>html, body { height: 100%; }'\n                + ' img { height: 100%; width: 100%; display: block; }@media print { body { margin: 0cm; }'\n                + ' img { width:98%; max-width: 1048px; box-sizing: border-box; }br, button { display: none; }'\n                // set default page Height and page Width for A4 size.\n                + ' div{ page-break-inside: avoid; }} @page{margin:0mm; size: 816px 1056px;}</style></head><body><center class=\"loader\">');\n        }\n        else {\n            //ie\n            this.frameDoc.document.write('<!DOCTYPE html>');\n            // tslint: disable-next-line:max-line-length\n            this.frameDoc.document.write('<html><head>'\n                + '<style>html, body { height: 99%; } img { height: 99%; width: 100%; }@media print { body { margin: 0cm; }'\n                + 'img { width:98%; max-width: 1048px; box-sizing: border-box; }br, button { display: none; } '\n                // set default page Height and page Width for A4 size.\n                + 'div{ page-break-inside: avoid; }} @page{margin:0mm; size: 816px 1056px;}</style></head><body><center>');\n        }\n        this.frameDoc.document.write(this.printViewerContainer.outerHTML);\n        this.pdfViewerBase.showPrintLoadingIndicator(false);\n        setTimeout(function () {\n            _this.iframe.contentWindow.print();\n            _this.iframe.contentWindow.focus();\n            document.body.removeChild(_this.iframe);\n        }, 200);\n    };\n    /**\n     * @private\n     */\n    Print.prototype.destroy = function () {\n        this.printViewerContainer = undefined;\n        this.frameDoc = undefined;\n    };\n    /**\n     * @private\n     */\n    Print.prototype.getModuleName = function () {\n        return 'Print';\n    };\n    return Print;\n}());\nexport { Print };\n"],"names":["LinkAnnotation","pdfViewer","viewerBase","this","pdfViewerBase","prototype","renderHyperlinkContent","data","pageIndex","enableHyperlink","hyperlinks","hyperlinksBounds","hyperlinkBounds","linkAnnotation","linkPage","annotationY","annotationLocation","length","renderWebLink","renderDocumentLink","proxy","_loop_1","i","aTag","createElement","id","rect","this_1","setHyperlinkProperties","title","setAttribute","hyperlinkOpenState","target","onclick","fireHyperlinkClick","window","open","document","getElementById","element","appendChild","_loop_2","this_2","undefined","destPageHeight","pageSize","destLocation","scrollValue","top","getZoomFactor","name","toString","viewerContainer","scrollTop","parseInt","className","style","background","position","left","Left","Top","width","Width","Height","height","color","modifyZindexForTextSelection","pageNumber","isAdd","pageCount","pageChildNodes","getElement","childNodes","childElement","tagName","classList","add","remove","modifyZindexForHyperlink","destroy","pageDiv","aElement","getElementsByTagName","index","parentNode","removeChild","getModuleName","NavigationPane","viewer","base","_this","thumbnailWidthMin","contentContainerScrollWidth","closeButtonLeft","isBookmarkOpen","isThumbnailOpen","isTooltipCreated","isNavigationToolbarVisible","isBookmarkListOpen","isNavigationPaneResized","resizeIconMouseOver","event","srcElement","cursor","resizePanelMouseDown","offset","sideBarResizer","offsetLeft","clientX","offsetTop","clientY","offsetParent","clientWidth","previousX","isDown","sideBarContentContainer","resizeViewerMouseLeave","resizePanelMouseMove","preventDefault","enableRtl","maxWidth","Math","floor","outerContainerWidth","right","sideBarContent","sideBarContentSplitter","sideBarTitleContainer","getViewerContainerLeft","closeDiv","viewerWidth","pageContainer","thumbnailViewModule","gotoThumbnailImage","currentPageNumber","updateZoomValue","bookmarkButton","children","contains","bookmarkViewModule","setBookmarkContentHeight","sideToolbarOnClose","removeThumbnailSelectionIconTheme","removeBookmarkSelectionIconTheme","updateViewerContainerOnClose","sideToolbarOnClick","sideBarTitle","textContent","localeObj","getConstant","bookmarkPane","display","setThumbnailSelectionIconTheme","updateViewerContainerOnExpand","bookmarkButtonOnClick","renderBookmarkcontent","setBookmarkSelectionIconTheme","initializeNavigationPane","Browser","isDevice","createNavigationPane","sideBarToolbar","mainContainer","cssFloat","sideBarToolbarSplitter","direction","addEventListener","controlLeft","createSidebarToolBar","createSidebarTitleCloseButton","createResizeIcon","sideToolbarOnMouseup","bind","sideBarTitleOnMouseup","createNavigationPaneMobile","option","toolbarElement","viewerMainContainer","insertBefore","items","searchTemplate","prefixIcon","tooltipText","click","goBackToToolbar","template","iconElement","firstElementChild","enableSearchItems","textSearchModule","searchButtonClick","searchInput","args","searchPrevious","searchNext","text","toolbar","Tool","overflowMode","appendTo","initiateSearchBox","initiateBookmarks","searchBtn","value","which","initiateTextSearch","resetVariables","setSearchInputWidth","focus","isEnable","enableItems","parentElement","mobileScrollerContainer","bookmarkContainer","renderBookmarkContentMobile","inputString","initiateSearch","cancelTextSearch","childNavigateCount","bookmarkList","back","toolbarModule","showToolbar","onWindowResize","searchInputParent","padding","getComputedStyle","getPropertyValue","getParentElementSearchBox","parseFloat","idString","createTooltipMobile","toastObject","tooltipChild","tooltipDiv","Toast","close","onTooltipClose","X","Y","animation","hide","duration","effect","y","clientHeight","x","show","tooltipElement","isMessagePopupOpened","toolbarResize","thumbnailButton","attrs","disabled","thumbnailButtonSpan","Tooltip","content","opensOn","beforeOpen","onTooltipBeforeOpen","buttonSpan","toolbarSettings","showTooltip","cancel","enableThumbnailButton","removeAttribute","enableBookmarkButton","resizeIcon","Object","defineProperty","get","mainContainerWidth","enumerable","configurable","sideToolbarWidth","sideBarContentContainerWidth","getViewerMainContainerWidth","resetThumbnailIcon","resetThumbnailView","focusViewerContainer","disableBookmarkButton","clear","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","verb","n","v","op","f","TypeError","_","t","call","label","ops","pop","trys","push","g","sent","throw","return","Symbol","iterator","PdfViewerBase","isDocumentLoaded","renderedPagesList","pageGap","pageLeft","sessionLimit","pageStopValue","toolbarHeight","pageLimit","previousPage","isViewerMouseDown","isViewerMouseWheel","scrollPosition","sessionStorage","pointerCount","pointersForTouch","isPasswordAvailable","reRenderedCount","mouseX","mouseY","touchClientX","touchClientY","previousTime","currentTime","isTouchScrolled","isLongTouchPropagated","longTouchTimer","isViewerContainerDoubleClick","dblClickTimer","pinchZoomStorage","isTextSelectionDisabled","isPanMode","dragX","dragY","isScrollbarMouseDown","scrollX","scrollY","ispageMoved","isThumb","isTapHidden","singleTapTimer","tapCount","navigationPane","updatePageHeight","getBoundingClientRect","onToolbarResize","enableToolbar","textSearchBoxOnResize","mobilePageNoContainer","updateMobileScrollerPosition","viewerContainerOnMousedown","button","detail","isIE","documentMode","textSelectionModule","isClickedOnScrollBar","clearTextSelection","pageX","pageY","viewerContainerOnMouseup","scrollHoldTimer","clearTimeout","pageViewScrollChanged","eventTarget","idStringArray","split","firePageClick","offsetX","offsetY","viewerContainerOnMouseWheel","getRerenderCanvasCreated","magnificationModule","pageRerenderOnMouseWheel","ctrlKey","fitPageScrollMouseWheel","textSelectionOnMouseWheel","viewerContainerOnKeyDown","isMac","navigator","platform","match","isCommandKey","metaKey","shiftKey","keyCode","updateScrollTop","openFileDialogBox","enableTextSelection","copyText","enableTextSearch","textSearchButtonHandler","magnifyBehaviorKeyDown","viewerContainerOnMousemove","selection","getSelection","type","isCollapsed","anchorNode","isTextSelection","textSelectionOnMouseMove","panOnMouseMove","deltaX","deltaY","scrollLeft","viewerContainerOnMouseLeave","textSelectionOnMouseLeave","viewerContainerOnMouseEnter","viewerContainerOnMouseOver","viewerContainerOnClick","selectAWord","maintainSelectionOnZoom","setTimeout","applySelection","selectEntireLine","viewerContainerOnDragStart","viewerContainerOnContextMenuClick","onWindowMouseUp","contextMenuModule","contextMenuElement","textSelectionOnMouseup","applySpanForSelection","removeAllRanges","selectionStartPage","stopPropagation","onWindowTouchEnd","viewerContainerOnTouchStart","touchPoints","touches","setTouchPoints","preventTouchEvent","Date","getTime","handleTaps","contextMenuObj","viewerContainerOnLongTouch","initiateTouchSelection","viewerContainerOnPointerDown","pointerType","viewerContainerOnTouchMove","initiatePinchMove","getPagesPinchZoomed","pinchMoveScroll","viewerContainerOnPointerMove","pointerId","viewerContainerOnTouchEnd","pinchMoveEnd","clearInterval","difference","changedTouches","speed","abs","viewerContainerOnPointerEnd","viewerContainerOnScroll","scrollposX","scrollposY","ratio","scrollHeight","containerValue","verticalScrollValue","pageHeight","getPageHeight","getPageTop","renderElementsVirtualScroll","getPinchZoomed","getPinchScrolled","showPageLoadingIndicator","updateCurrentPage","updateNavigationButtons","isThumbnailClicked","firePageChange","updatePagesForFitPage","currentPage","visibility","clearIntervalTimer","initiatePageViewScrollChanged","textLayer","TextLayer","initializeComponent","toolbarDiv","createMobilePageNumberContainer","tabIndex","touchAction","setMaximumHeight","intializeToolbar","mobilecurrentPageContainer","mobilenumberContainer","mobiletotalPageContainer","mobileSpanContainer","createThumbnailContainer","createPrintPopup","createGoToPagePopup","waitingPopup","createSpinner","cssClass","setLoaderProperties","ContextMenu","createContextMenu","wireEvents","createTextSearchBox","documentPath","load","innerHTML","zIndex","mobileScrollContainerDown","mobileScrollContainerEnd","initiatePageRender","documentData","password","documentId","createGUID","showLoadingIndicator","hashId","isFileName","saveDocumentInfo","checkDocumentData","setFileName","jsonObject","constructJsonObject","createAjaxRequest","minHeight","goToPagePopup","removeEventListener","request","XMLHttpRequest","serviceUrl","serverActionSettings","setRequestHeader","responseType","send","JSON","stringify","onreadystatechange","readyState","status","currentTarget","response","parse","requestSuccess","fireAjaxRequestFailed","statusText","onerror","openNotificationPopup","createNotificationPopup","documentLiveCount","saveDocumentHashData","pageRender","renderPasswordPopup","renderCorruptPopup","updateToolbarItems","createRequestForThumbnails","createRequestForBookmarks","passwordDialogReset","passwordPopup","initPageDiv","isAutoZoom","isInitialLoading","indexOf","createRequestForRender","pageTop","viewerHeight","renderPageElement","uploadedDocumentName","fireDocumentLoadFailed","promptElement","createPasswordPopup","createCorruptedPopup","corruptPopup","zoomFactor","base64String","fileName","documentStringArray","setItem","unload","updateWaitingPopup","pageCurrentRect","firstChild","bottom","createWaitingPopup","isShow","showSpinner","hideSpinner","showPrintLoadingIndicator","printWaitingPopup","printMainContainer","spinnerElement","transformOrigin","isPinchZoomed","getMagnified","isMagnified","isPinchScrolled","isPagePinchZoomed","getPagesZoomed","isPagesZoomed","isRerenderCanvasCreated","getDocumentId","download","createRequestForDownload","isTriggerEvent","initiateTextSelectMode","resetTextSearch","hasChildNodes","lastChild","unloadDocument","windowSessionStorageClear","fireDocumentUnload","unWireEvents","getItem","request_1","removeItem","forEach","getScrollParent","scrollNodeX","scrollNodeY","userAgent","appVersion","scrollTo","node","nodeName","overflowY","popupElement","Dialog","showCloseIcon","closeOnEscape","isModal","header","visible","buttons","buttonModel","isPrimary","closeCorruptPopup","beforeClose","goToPageElement","inputContainer","goToPageInput","pageNoContainer","GoToPageCancelClick","GoToPageApplyClick","closeGoToPagePopUp","NumericTextBox","format","showSpinButton","inputValue","EnableApplyButton","DisableApplyButton","getElementsByClassName","navigation","goToPage","differenceRatio","passwordInput","passwordCancel","passwordCancelClick","applyPassword","isInteraction","fitToAuto","fitType","fitToWidth","applyLeftPosition","initiatePanning","modifyTextCursor","disableTextSelectionMode","enableTextSelectionMode","onSingleTap","onDoubleTap","moreDropDown","dropDown","magnification","onDoubleTapMagnification","pageValues","updateTotalPage","topValue","pageSizes","previousPageHeight","size","limit","renderPageContainer","getPageWidth","all","renderPagesVirtually","pageValue","lowerPageValue","j","pageCanvas","maintainSelectionOnScroll","indexInArray","splice","_a","initiateRenderPagesVirtually","isCompletePageSizeNotReceived","renderPage","pageWidth_1","pageHeight_1","canvas_1","updateLeftPosition","context_1","getContext","imageData","matrix_1","image_1","Image","onload","isNaN","devicePixelRatio","imageSmoothingEnabled","setTransform","Elements","drawImage","fireDocumentLoad","rerenderCountIncrement","src","pushImageObjects","renderTextContent","linkAnnotationModule","applySelectionRangeOnScroll","isTextSearch","highlightOtherOccurrences","texts","bounds","rotation","addTextLayer","renderTextContents","resizeTextContents","pageWidth","orderPageDivElements","renderPageCanvas","nextElement","leftPosition","renderCountIncrement","currentPageIndex","previous","downloadDocument","blobUrl","anchorElement","href","documentElement","location","padCharacter","replace","createBlobUrl","canvas","oldCanvas","getStoredData","xCoordinate","yCoordinate","renderPages","data_1","image","storeWinData","storedData","getWindowSessionStorage","getPinchZoomPage","isPinchZoomStorage","storeObject","transformationMatrix","textBounds","pageText","checkZoomFactor","manageSessionStorage","key","hasOwnProperty","higherPageValue","contentType","byteCharacters","atob","byteArrays","slice","byteNumbers","Array","charCodeAt","byteArray","Uint8Array","blob","Blob","URL","createObjectURL","getRandomNumber","c","random","isScrollBar","setScrollDownValue","offsetWidth","offsetHeight","eventType","boolValue","textBoundsArray","closeNotification","notifyDialog","textContents","canvasElement","textDiv","whiteSpace","setStyleToTextDiv","Bottom","setTextElementProperties","context","font","fontSize","fontFamily","contextWidth","measureText","scale","applyTextRotation","Rotation","resizeExcessDiv","textRotation","scaleString","transform","resizeTextContentsOnZoom","renderObject","getPreviousZoomFactor","textElements","filter","obj","textLayerPosition","textDivPosition","clearTextLayers","textLayers","querySelectorAll","getTextSelectionStatus","getTextSearchStatus","convertToSpan","divId","fromOffset","toOffset","textString","substring","createTextNode","spanElement","startPage","endPage","anchorOffsetDiv","focusOffsetDiv","anchorOffset","focusOffset","startId","endId","textDivs","initId","lastId","length_1","clearDivSelection","textHeight","textLayerList","textElement","previousZoomFactor","textSearch","copyContextMenu","Context","contextMenuOnBeforeOpen","select","onMenuItemSelect","animationSettings","isClickWithinSelectionBounds","isWithin","getCurrentSelectionBounds","currentBound","getHorizontalValue","getVerticalValue","getHorizontalClientValue","getVerticalClientValue","pageBounds","item","Magnification","scrollWidth","zoomPercentages","isNotPredefinedZoom","pinchStep","reRenderPageNumber","magnifyPageRerenderTimer","rerenderOnScrollTimer","rerenderInterval","touchCenterX","touchCenterY","pageRerenderCount","imageObjects","isTapToFitZoom","zoomLevel","zoomTo","zoomValue","onZoomChanged","zoomIn","lowerZoomLevel","zoomOut","higherZoomLevel","calculateFitZoomFactor","fitToPage","highestWidth","highestHeight","scaleX","min","pinchIn","temporaryZoomFactor","pinchOut","getZoomLevel","max","mid","round","responsivePages","magnifyPages","updateZoomButtons","fireZoomChange","updateZoomPercentage","zoomPercentage","pointX1","pointY1","pointX2","pointY2","zoomOverPages","clearRerenderTimer","getMagnifiedValue","updatePageLocation","resizeCanvas","resizeTouchElements","proxy_1","rerenderMagnifiedPages","clearRendering","oldCanvases","renderInSeparateThread","designNewCanvas","setInterval","initiateRerender","calculateScrollValues","currentPageCanvas","currentPageBounds","previousPageTop","previousY","currentY","prevValue","scaleCorrectionFactor","scrollX_1","rerenderOnScroll","reRenderAfterPinch","isSelectionAvailable","isSelectionAvailableOnScroll","lowerValue","higherValue","currentDifference","sqrt","pow","previousTouchDifference","wheelDelta","upwardScrollFitPage","downwardScrollFitPage","Navigation","goToNextPage","goToPreviousPage","goToFirstPage","goToLastPage","ThumbnailView","thumbnailLimit","thumbnailThreshold","thumbnailTopMargin","thumbnailClick","getPageNumberFromID","previousElement","setSelectionStyle","goToThumbnailPage","thumbnailMouseOver","setMouseOverStyle","thumbnailMouseLeave","setMouseLeaveStyle","thumbnailView","requestCreation","renderThumbnailImage","isThumbnailCompleted","startIndex","sizeX","sizeY","renderThumbnail","shouldScroll","checkThumbnailScroll","thumbnailChild","thumbnailDiv","clientTop","setFocusStyle","visibleThumbs","getVisibleThumbs","numVisibleThumbs","views","visibleFirstPageID","first","visibleLastPageID","last","some","view","pageID","thumbPageNumber","percent","pageId","thumbnail","setMouseFocusStyle","pageLink","thumbnailSelectionRing","thumbnailPageNumber","thumbnailImage","wireUpEvents","setMouseFocusToFirstPage","unwireUpEvents","thumbnailElement","getVisibleElements","scrollElement","thumbnailViewChildren","currentHeight","viewHeight","viewBottom","currentWidth","viewWidth","viewRight","percentVisible","firstVisibleElementInd","binarySearchFirstItem","thumbnailViewChildrenElement","backtrackBeforeAllVisibleElements","lastEdge","ii","getThumbnailElement","clientLeft","condition","minIndex","maxIndex","currentIndex","Toolbar","isPageNavigationToolDisabled","isMagnificationToolDisabled","isSelectionToolDisabled","isScrollingToolDisabled","isOpenBtnVisible","isNavigationToolVisible","isMagnificationToolVisible","isSelectionBtnVisible","isScrollingBtnVisible","isDownloadBtnVisible","isPrintBtnVisible","isSearchBtnVisible","isTextSearchBoxDisplayed","onToolbarKeydown","targetId","toolbarClickHandler","originalEvent","zoomDropdownItem","tooltipData","dataset","tooltipId","fileInputElement","blur","printModule","print","navigationModule","updateInteractionTools","currentPageBoxElement","textSearchItem","loadDocument","upoadedFiles","files","uploadedFile","reader","FileReader","readAsDataURL","uploadedFileUrl","navigateToPage","enteredValue","textBoxFocusOut","currentPageBox","createToolbar","totalPageItem","createFileElement","wireEvent","applyToolbarSettings","initialEnableItems","showToolbarItem","isVisible","showOpenOption","showPageNavigationTool","showMagnificationTool","showSelectionTool","showScrollingTool","showDownloadOption","showPrintOption","showSearchOption","applyHideToToolbar","showSeparator","enableToolbarItem","enableOpenOption","enablePageNavigationTool","enableMagnificationTool","enableSelectionTool","enableScrollingTool","enableDownloadOption","enablePrintOption","enableSearchOption","openDocumentItem","firstPageItem","previousPageItem","nextPageItem","lastPageItem","readonly","zoomInItem","zoomOutItem","zoomDropDown","textSelectItem","panItem","downloadItem","printItem","resetToolbar","moreOptionItem","updateInteractionItems","unWireEvent","controlWidth","createToolbarItemsForMobile","itemsContainer","createToolbarItemsGeneral","tool","clicked","openButtonContainer","createToolbarItem","seperatorDiv1","createToolbarNavigationItems","seperatorDiv2","createToolbarMagnificationItems","seperatorDiv3","selectToolContainer","handToolContainer","searchButtonContainer","downloadButtonContainer","printButtonContainer","paddingTop","ComboBox","dataSource","fields","popupHeight","showClearButton","firstPageContainer","previousContainer","nextContainer","lastPageContainer","goToPageContainer","totalPageContainer","paddingLeft","zoomOutContainer","zoomInContainer","zoomDropdownContainer","align","createMoreOption","iconCss","DropDownButton","dropdownButtonPosition","beforeItemRender","bookmarks","elementName","containerElement","toolbarItem","styles","toolbarOnMouseup","change","zoomPercentSelect","onZoomDropDownInput","onZoomDropDownInputClick","navigationToolbar","downloadButtonElement","printButtonElement","searchButtonElement","endIndex","isHide","hideItem","zoomDropDownChange","isInteracted","itemData","zoomText","focusOut","currentPercent","interactionMode","selectItem","deSelectItem","showSearchBox","searchInputElement","isTextSelect","enablePrint","enableDownload","toolbarItems","toolbarSettingsItems","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","__","constructor","create","__decorate","decorators","desc","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","ToolbarSettings","_super","Property","ChildProperty","ServerActionSettings","PdfViewer","options","defaultLocale","Cancel","Download file","Download","Enter Password","File Corrupted","File Corrupted Content","Fit Page","Fit Width","Automatic","Go To First Page","Invalid Password","Next Page","OK","Open","Page Number","Previous Page","Go To Last Page","Zoom","Zoom In","Zoom Out","Page Thumbnails","Bookmarks","Print","Password Protected","Copy","Text Selection","Panning","Text Search","Find in document","Match case","Apply","GoToPage","No matches","No Text Found","Server error","preRender","L10n","locale","render","getLocaleConstants","onPropertyChanged","newProp","oldProp","isDestroyed","_i","properties_1","keys","notify","module","enable","getPersistData","requiredModules","modules","enableMagnification","member","enableNavigation","enableThumbnail","enableBookmark","isNullOrUndefined","eventArgs","documentName","trigger","isPasswordRequired","errorStatusCode","errorMessage","previousPageNumber","previousZoomValue","hyperlink","Event","NotifyPropertyChanges","Component","BookmarkView","bookmarkClick","bookid","Id","navigateToBookmark","nodeClick","setHeight","Number","nodeData","bookMark","bookmarksDestination","bookMarkDestination","BookmarksDestination","isBookmarkViewDiv","bookmarkView","bookmarkIconView","bookmarkIcon","bookmarkTitle","paddingRight","innerText","treeObj","TreeView","child","hasChildren","nodeTemplate","outerHTML","nodeSelected","evt","ListView","showHeader","fullRowSelect","querySelector","closest","nextElementSibling","PageIndex","goToBookmark","getBookmarks","destPage","scroll","TextSelection","isBackwardPropagatedSelection","selectionRangeArray","selectionAnchorTouch","selectionFocusTouch","scrollMoveTimer","isMouseLeaveSelection","isTouchSelection","previousScrollDifference","topStoreLeft","topStoreRight","onLeftTouchSelectElementTouchStart","initiateSelectionByTouch","onRightTouchSelectElementTouchStart","onLeftTouchSelectElementTouchEnd","terminateSelectionByTouch","onRightTouchSelectElementTouchEnd","onLeftTouchSelectElementTouchMove","nodeElement","rightElement","dropDivElementRight","isTouchedWithinViewerContainer","isTouchedWithinContainer","dropBounds","xTouch","yTouch","getNodeElement","range","isCloserMovement","isCloserTouchScroll","isTextSelected","dropElementLeft","dropElementRight","selectTextByTouch","elementClientRect","dropDivElementLeft","pageTopValue","topClientValue","getClientValueTop","currentRangeLeft","isHeightNeeded","onRightTouchSelectElementTouchMove","leftElement","dropPosition","touchX","touchY","targetElement","nodeType","TEXT_NODE","ownerDocument","createRange","compareDocumentPosition","focusNode","Node","DOCUMENT_POSITION_PRECEDING","selectNodeContents","currentPosition","endPosition","endOffset","setStart","setEnd","rangeBounds","addRange","extend","detach","getSelectionRange","viewerTop","scrollForwardOnSelection","scrollBackwardOnSelection","stichSelectionOnScroll","isStoreSelection","indices","startPosition","endPos","startContainer","textIds","targetRect","targetcentre","bottomValue","textId","lengths","d1","d2","lowerPageIndex","higherPageIndex","searchAfterSelection","removeTouchElements","viewerContainerLeft","dropElementHeight","leftCurrentPagePosition","rightCurrentPagePosition","indexes","getIndexes","isMaintainSelection","isStich","isBackward","isBackWardSelection","anchorPageId","getNodeElementFromNode","focusPageId","lastChildNode","previousSibling","ranges","applySelectionMouseScroll","applySelectionRange","getSelectionRangeFromArray","selectionRange","selectionObject","endNode","startNode","startOffset","anchorPageIndex","focusPageIndex","currentAnchorIndex","extendCurrentSelection","currentAnchorOffset","currentFocusOffset","maintainSelection","backward","selectionBounds","getSelectionBounds","getRangeAt","anchorOffsetValue","getCorrectOffset","focusOffsetValue","pushSelectionRangeObject","createRangeObjectOnScroll","stichSelection","offsetValue","currentObject","currentObjectIndex","nextPageObject","prevPageObject","prevIndex","firstObject","currentFocusElement","nextPageElement","lastElement","getTextLastLength","firstElement","extendSelectionStich","lastElement_1","maintainSelectionArray","selectionRangeObject","getSelectionRangeObject","selectionString","startElement","endElement","endContainer","newStartRange","startRange","createRangeForSelection","normalizeBounds","getTextId","elementId","lastIndexOf","bound","currentPageRect","start","end","anchorPage","focusPage_1","arrayObject","focusElement","isFocusChanged","lastPageDiv","belowElements","elementsFromPoint","createTouchSelectElement","isForwardSelection","rangeObject","setTouchSelectionStartPosition","getTouchFocusElement","getTouchAnchorElement","isCurrentFocus","isCurrentAnchor","rangePosition","dropElementRect","viewerLeftPosition","topPositionValue","currentPageLeft","caretRangeFromPoint","onTouchElementScroll","caretPositionFromPoint","offsetNode","viewerScrollTop","isScrolledOnScrollBar","isForwardMovement","clientValue","selectionText","textArea","contentEditable","execCommand","ex","console","warn","TextSearch","searchIndex","currentSearchIndex","searchPageIndex","searchString","isMatchCase","searchMatches","searchCollection","searchedPages","isPrevSearch","tempElementStorage","checkBoxOnChange","checked","clearAllOccurrences","searchKeypressHandler","enableNextButton","enablePrevButton","updateSearchInputIcon","searchClickHandler","nextButtonOnClick","nextSearch","prevButtonOnClick","prevSearch","searchBox","searchElementsContainer","searchInputContainer","placeholder","prevSearchBtn","createSearchBoxButtons","nextSearchBtn","matchCaseContainer","matchCaseInput","checkBox","CheckBox","onTextSearchClose","initSearch","highlightOthers","searchElement","highlightSearchedTexts","isSinglePageSearch","getPossibleMatches","createRequestForSearch","pageString","searchText","queryLength","toLowerCase","matches","matchIndex","onMessageBoxOpen","getSearchPage","convertMatches","m","divIndex","matchCollection","begin","prevEnd","scrollPoint","addSpanForSearch","beginText","k","targetScrollElement","getScrollElement","scrollToSearchStr","element_1","ele","classString","divTextContent","searchOnSelection","isClassAvailable","isClass","addSpan","newNode","currentString","subString","nextSubString","subString_1","balanceString","nextString","newSubString","nextNewSubString","parent","applyTextSelection","iconSpan","inputElement","printViewerContainer","iframe","frameDoc","contentWindow","contentDocument","createRequestForPrint","printWindowOpen","printImage","responseText","pageImage","printImageContainer","browserUserAgent","write"],"mappings":"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"}