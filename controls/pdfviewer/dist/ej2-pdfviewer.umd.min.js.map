{"version":3,"file":"ej2-pdfviewer.umd.min.js","sources":["../src/pdfviewer/annotation/annotation.js","../src/pdfviewer/annotation/link-annotation.js","../src/pdfviewer/annotation/text-markup-annotation.js","../src/pdfviewer/base/navigation-pane.js","../src/pdfviewer/base/pdfviewer-base.js","../src/pdfviewer/base/text-layer.js","../src/pdfviewer/base/context-menu.js","../src/pdfviewer/magnification/magnification.js","../src/pdfviewer/navigation/page-navigation.js","../src/pdfviewer/thumbnail-view/thumbnail-view.js","../src/pdfviewer/toolbar/toolbar.js","../src/pdfviewer/toolbar/annotation-toolbar.js","../src/pdfviewer/pdfviewer.js","../src/pdfviewer/bookmark-view/bookmark-view.js","../src/pdfviewer/text-selection/text-selection.js","../src/pdfviewer/text-search/text-search.js","../src/pdfviewer/print/print.js"],"sourcesContent":["import { TextMarkupAnnotation } from '../index';\nimport { createElement } from '@syncfusion/ej2-base';\n/**\n * The `Annotation` module is used to handle annotation actions of PDF viewer.\n */\nvar Annotation = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Annotation(pdfViewer, viewerBase) {\n        /**\n         * @private\n         */\n        this.actionCollection = [];\n        /**\n         * @private\n         */\n        this.redoCollection = [];\n        /**\n         * @private\n         */\n        this.isPopupNoteVisible = false;\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = viewerBase;\n        if (this.pdfViewer.enableTextMarkupAnnotation) {\n            this.textMarkupAnnotationModule = new TextMarkupAnnotation(this.pdfViewer, this.pdfViewerBase);\n        }\n    }\n    /**\n     * Set annotation type to be added in next user interaction in PDF Document.\n     * @param type\n     * @returns void\n     */\n    Annotation.prototype.setAnnotationMode = function (type) {\n        if (type === 'None') {\n            this.clearAnnotationMode();\n        }\n        else if (type === 'Highlight' || type === 'Strikethrough' || type === 'Underline') {\n            if (this.textMarkupAnnotationModule) {\n                this.textMarkupAnnotationModule.drawTextMarkupAnnotations(type.toString());\n            }\n        }\n    };\n    Annotation.prototype.clearAnnotationMode = function () {\n        if (this.textMarkupAnnotationModule) {\n            this.textMarkupAnnotationModule.isTextMarkupAnnotationMode = false;\n        }\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.deleteAnnotation = function () {\n        if (this.textMarkupAnnotationModule) {\n            this.textMarkupAnnotationModule.deleteTextMarkupAnnotation();\n        }\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.initializeCollection = function () {\n        this.actionCollection = [];\n        this.redoCollection = [];\n        if (!this.popupNote) {\n            this.createNote();\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    Annotation.prototype.addAction = function (pageNumber, index, annotation, actionString, property) {\n        var action = { pageIndex: pageNumber, index: index, annotation: annotation, action: actionString, modifiedProperty: property };\n        this.actionCollection.push(action);\n        this.updateToolbar();\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.undo = function () {\n        var actionObject = this.actionCollection.pop();\n        if (actionObject) {\n            switch (actionObject.action) {\n                case 'Text Markup Added':\n                case 'Text Markup Deleted':\n                    if (this.textMarkupAnnotationModule) {\n                        // tslint:disable-next-line:max-line-length\n                        this.textMarkupAnnotationModule.undoTextMarkupAction(actionObject.annotation, actionObject.pageIndex, actionObject.index, actionObject.action);\n                    }\n                    break;\n                case 'Text Markup Property modified':\n                    if (this.textMarkupAnnotationModule) {\n                        // tslint:disable-next-line:max-line-length\n                        actionObject.annotation = this.textMarkupAnnotationModule.undoRedoPropertyChange(actionObject.annotation, actionObject.pageIndex, actionObject.index, actionObject.modifiedProperty);\n                    }\n                    break;\n            }\n            this.redoCollection.push(actionObject);\n            this.updateToolbar();\n        }\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.redo = function () {\n        var actionObject = this.redoCollection.pop();\n        if (actionObject) {\n            switch (actionObject.action) {\n                case 'Text Markup Added':\n                case 'Text Markup Deleted':\n                    if (this.textMarkupAnnotationModule) {\n                        // tslint:disable-next-line:max-line-length\n                        this.textMarkupAnnotationModule.redoTextMarkupAction(actionObject.annotation, actionObject.pageIndex, actionObject.index, actionObject.action);\n                    }\n                    break;\n                case 'Text Markup Property modified':\n                    if (this.textMarkupAnnotationModule) {\n                        // tslint:disable-next-line:max-line-length\n                        actionObject.annotation = this.textMarkupAnnotationModule.undoRedoPropertyChange(actionObject.annotation, actionObject.pageIndex, actionObject.index, actionObject.modifiedProperty);\n                    }\n                    break;\n            }\n            this.actionCollection.push(actionObject);\n            this.updateToolbar();\n        }\n    };\n    Annotation.prototype.updateToolbar = function () {\n        if (this.pdfViewer.toolbarModule) {\n            this.pdfViewer.toolbarModule.updateUndoRedoButtons();\n        }\n    };\n    Annotation.prototype.createNote = function () {\n        // tslint:disable-next-line:max-line-length\n        this.popupNote = createElement('div', { id: this.pdfViewer.element.id + '_annotation_note', className: 'e-pv-annotation-note', styles: 'display:none' });\n        this.popupNoteAuthor = createElement('div', { id: this.pdfViewer.element.id + '_annotation_note_author', className: 'e-pv-annotation-note-author' });\n        this.popupNote.appendChild(this.popupNoteAuthor);\n        // tslint:disable-next-line:max-line-length\n        this.popupNoteContent = createElement('div', { id: this.pdfViewer.element.id + '_annotation_note_content', className: 'e-pv-annotation-note-content' });\n        this.popupNote.appendChild(this.popupNoteContent);\n        this.pdfViewerBase.mainContainer.appendChild(this.popupNote);\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    Annotation.prototype.showPopupNote = function (event, color, author, note, type) {\n        var mainContainerPosition = this.pdfViewerBase.mainContainer.getBoundingClientRect();\n        var popupNoteClientRect = this.popupNote.getBoundingClientRect();\n        if (author) {\n            this.popupNoteAuthor.textContent = author;\n        }\n        this.popupNoteContent.textContent = note;\n        if (type === 'Highlight') {\n            this.popupNote.style.backgroundColor = 'rgb(237, 232, 177)';\n        }\n        else if (type === 'Underline') {\n            this.popupNote.style.backgroundColor = 'rgb(187, 241, 191)';\n        }\n        else if (type === 'Strikethrough') {\n            this.popupNote.style.backgroundColor = 'rgb(242, 188, 207)';\n        }\n        this.popupNote.style.display = 'block';\n        var topPosition = (event.pageY - mainContainerPosition.top + 5);\n        var leftPosition = (event.pageX - mainContainerPosition.left + 5);\n        if (leftPosition + popupNoteClientRect.width > mainContainerPosition.width) {\n            leftPosition = leftPosition - popupNoteClientRect.width;\n        }\n        if (topPosition + popupNoteClientRect.height > mainContainerPosition.height) {\n            topPosition = topPosition - popupNoteClientRect.height;\n        }\n        this.popupNote.style.top = topPosition + 'px';\n        this.popupNote.style.left = leftPosition + 'px';\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.hidePopupNote = function () {\n        this.popupNote.style.display = 'none';\n    };\n    Annotation.prototype.createTextMarkupPopup = function () {\n        var _this = this;\n        var elementId = this.pdfViewer.element.id;\n        // tslint:disable-next-line:max-line-length\n        this.popupElement = createElement('div', { id: elementId + '_popup_annotation_note', className: 'e-pv-annotation-popup-menu', styles: 'display:none' });\n        var headerElement = createElement('div', { id: elementId + '_popup_header', className: 'e-pv-annotation-popup-header' });\n        // tslint:disable-next-line:max-line-length\n        this.authorPopupElement = createElement('div', { id: elementId + '_popup_author', className: 'e-pv-annotation-popup-author' });\n        headerElement.appendChild(this.authorPopupElement);\n        // tslint:disable-next-line:max-line-length\n        var closeBtn = createElement('span', { id: elementId + '_popup_close', className: 'e-pv-annotation-popup-close e-pv-icon' });\n        headerElement.appendChild(closeBtn);\n        this.popupElement.appendChild(headerElement);\n        // tslint:disable-next-line:max-line-length\n        this.modifiedDateElement = createElement('div', { id: elementId + '_popup_modified_time', className: 'e-pv-annotation-modified-time' });\n        this.popupElement.appendChild(this.modifiedDateElement);\n        // tslint:disable-next-line:max-line-length\n        var contentContainer = createElement('div', { id: elementId + '_popup_content_container', className: 'e-pv-annotation-popup-note-container' });\n        this.noteContentElement = createElement('div', { id: elementId + '_popup_content', className: 'e-pv-annotation-popup-content' });\n        this.noteContentElement.contentEditable = 'true';\n        contentContainer.appendChild(this.noteContentElement);\n        this.popupElement.appendChild(contentContainer);\n        this.pdfViewerBase.viewerContainer.appendChild(this.popupElement);\n        closeBtn.addEventListener('click', this.saveClosePopupMenu.bind(this));\n        closeBtn.addEventListener('touchend', this.saveClosePopupMenu.bind(this));\n        this.popupElement.addEventListener('mousedown', this.onPopupElementMoveStart.bind(this));\n        this.popupElement.addEventListener('mousemove', this.onPopupElementMove.bind(this));\n        window.addEventListener('mouseup', this.onPopupElementMoveEnd.bind(this));\n        this.popupElement.addEventListener('touchstart', this.onPopupElementMoveStart.bind(this));\n        this.popupElement.addEventListener('touchmove', this.onPopupElementMove.bind(this));\n        window.addEventListener('touchend', this.onPopupElementMoveEnd.bind(this));\n        this.noteContentElement.addEventListener('mousedown', function () { _this.noteContentElement.focus(); });\n    };\n    // tslint:disable-next-line\n    Annotation.prototype.onPopupElementMoveStart = function (event) {\n        if (event.type === 'touchstart') {\n            event = event.changedTouches[0];\n        }\n        if ((event.target.id !== (this.noteContentElement.id) || !(event.target.contains(this.noteContentElement.childNodes[0])))) {\n            this.isPopupMenuMoved = true;\n            var popupElementClientRect = this.popupElement.getBoundingClientRect();\n            this.clientX = event.clientX - popupElementClientRect.left;\n            // tslint:disable-next-line:max-line-length\n            this.clientY = (event.clientY - popupElementClientRect.top) + (this.pdfViewerBase.pageSize[this.currentAnnotPageNumber].top * this.pdfViewerBase.getZoomFactor());\n        }\n    };\n    // tslint:disable-next-line\n    Annotation.prototype.onPopupElementMove = function (event) {\n        if (event.type === 'touchmove') {\n            event = event.changedTouches[0];\n        }\n        // tslint:disable-next-line:max-line-length\n        if (this.isPopupMenuMoved && (event.target.id !== (this.noteContentElement.id) || !(event.target.contains(this.noteContentElement.childNodes[0])))) {\n            var left = (event.clientX - this.clientX) + parseFloat(this.popupElement.style.left);\n            var top_1 = ((event.clientY - this.clientY) + parseFloat(this.popupElement.style.top));\n            this.clientX = event.clientX;\n            this.clientY = event.clientY;\n            var clientPosition = this.popupElement.getBoundingClientRect();\n            var pageDiv = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + this.currentAnnotPageNumber);\n            // tslint:disable-next-line:max-line-length\n            if (left > parseFloat(pageDiv.style.left) && (left + clientPosition.width) < (parseFloat(pageDiv.style.left) + parseFloat(pageDiv.style.width))) {\n                this.popupElement.style.left = (left) + 'px';\n            }\n            else {\n                this.popupElement.style.left = parseFloat(this.popupElement.style.left) + 'px';\n            }\n            // tslint:disable-next-line:max-line-length\n            if (top_1 > parseFloat(pageDiv.style.top) && (top_1 + clientPosition.height) < (parseFloat(pageDiv.style.top) + parseFloat(pageDiv.style.height))) {\n                this.popupElement.style.top = (top_1) + 'px';\n            }\n            else {\n                this.popupElement.style.top = parseFloat(this.popupElement.style.top) + 'px';\n            }\n        }\n    };\n    Annotation.prototype.onPopupElementMoveEnd = function () {\n        this.isPopupMenuMoved = false;\n    };\n    Annotation.prototype.saveClosePopupMenu = function () {\n        if (this.textMarkupAnnotationModule) {\n            this.textMarkupAnnotationModule.saveNoteContent(this.currentAnnotPageNumber, this.noteContentElement.innerText);\n        }\n        this.closePopupMenu();\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.closePopupMenu = function () {\n        if (this.popupElement) {\n            this.popupElement.parentElement.removeChild(this.popupElement);\n            this.popupElement = null;\n            this.isPopupNoteVisible = false;\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    Annotation.prototype.showAnnotationPopup = function (event) {\n        if (this.textMarkupAnnotationModule) {\n            this.currentAnnotPageNumber = this.getEventPageNumber(event);\n            // tslint:disable-next-line:max-line-length\n            if (this.textMarkupAnnotationModule && (event.target !== (this.noteContentElement) || (event.target.contains(this.noteContentElement.childNodes[0])))) {\n                this.hidePopupNote();\n                if (!this.popupElement) {\n                    this.createTextMarkupPopup();\n                    this.popupElement.style.display = 'block';\n                    this.authorPopupElement.textContent = this.textMarkupAnnotationModule.currentTextMarkupAnnotation.author;\n                    // tslint:disable-next-line:max-line-length\n                    this.modifiedDateElement.textContent = this.getProperDate(this.textMarkupAnnotationModule.currentTextMarkupAnnotation.modifiedDate);\n                    this.noteContentElement.textContent = this.textMarkupAnnotationModule.currentTextMarkupAnnotation.note;\n                    var clientPosition = this.popupElement.getBoundingClientRect();\n                    // tslint:disable-next-line:max-line-length\n                    var pageDiv = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + this.currentAnnotPageNumber);\n                    var canvasPosition = pageDiv.getBoundingClientRect();\n                    var topPosition = ((event.clientY) - canvasPosition.top) + parseFloat(pageDiv.style.top);\n                    var leftPosition = (event.clientX);\n                    if ((leftPosition + clientPosition.width) > (parseFloat(pageDiv.style.left) + parseFloat(pageDiv.style.width))) {\n                        this.popupElement.style.left = (leftPosition - clientPosition.width) + 'px';\n                    }\n                    else {\n                        this.popupElement.style.left = leftPosition + 'px';\n                    }\n                    if ((topPosition + clientPosition.height) > (parseFloat(pageDiv.style.top) + parseFloat(pageDiv.style.height))) {\n                        this.popupElement.style.top = (topPosition - clientPosition.height) + 'px';\n                    }\n                    else {\n                        this.popupElement.style.top = topPosition + 'px';\n                    }\n                    this.isPopupNoteVisible = true;\n                }\n            }\n        }\n    };\n    Annotation.prototype.getProperDate = function (date) {\n        var dateObject = new Date(date.toString());\n        if (isNaN(dateObject.getFullYear())) {\n            var dateString = date.slice(2, 16);\n            // tslint:disable-next-line:max-line-length\n            dateString = dateString.slice(0, 4) + '/' + dateString.slice(4, 6) + '/' + dateString.slice(6, 8) + ' ' + dateString.slice(8, 10) + ':' + dateString.slice(10, 12) + ':' + dateString.slice(12, 14);\n            dateObject = new Date(dateString);\n        }\n        // tslint:disable-next-line:max-line-length\n        return (dateObject.getMonth() + 1) + '/' + dateObject.getDate() + '/' + dateObject.getFullYear() + ' ' + dateObject.getHours() + ':' + dateObject.getMinutes() + ':' + dateObject.getSeconds();\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    Annotation.prototype.getEventPageNumber = function (event) {\n        var eventTarget = event.target;\n        // tslint:disable-next-line:max-line-length\n        var pageString = eventTarget.id.split('_text_')[1] || eventTarget.id.split('_textLayer_')[1] || eventTarget.id.split('_annotationCanvas_')[1];\n        // tslint:disable-next-line\n        return parseInt(pageString);\n    };\n    /**\n     * private\n     */\n    Annotation.prototype.clear = function () {\n        if (this.textMarkupAnnotationModule) {\n            this.textMarkupAnnotationModule.clear();\n        }\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.destroy = function () {\n        this.textMarkupAnnotationModule.clear();\n    };\n    /**\n     * @private\n     */\n    Annotation.prototype.getModuleName = function () {\n        return 'Annotation';\n    };\n    return Annotation;\n}());\nexport { Annotation };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * The `LinkAnnotation` module is used to handle link annotation actions of PDF viewer.\n * @hidden\n */\nvar LinkAnnotation = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function LinkAnnotation(pdfViewer, viewerBase) {\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * @private\n     */\n    // tslint:disable-next-line    \n    LinkAnnotation.prototype.renderHyperlinkContent = function (data, pageIndex) {\n        if (this.pdfViewer.enableHyperlink) {\n            var hyperlinks = data.hyperlinks;\n            var hyperlinksBounds = data.hyperlinkBounds;\n            var linkAnnotation = data.linkAnnotation;\n            var linkPage = data.linkPage;\n            var annotationY = data.annotationLocation;\n            if (hyperlinks.length > 0 && hyperlinksBounds.length > 0) {\n                this.renderWebLink(hyperlinks, hyperlinksBounds, pageIndex);\n            }\n            if (linkAnnotation.length > 0 && linkPage.length > 0) {\n                this.renderDocumentLink(linkAnnotation, linkPage, annotationY, pageIndex);\n            }\n        }\n    };\n    LinkAnnotation.prototype.renderWebLink = function (hyperlinks, hyperlinksBounds, pageIndex) {\n        var proxy = this;\n        var _loop_1 = function (i) {\n            var aTag = createElement('a', { id: 'weblinkdiv_' + i });\n            // tslint:disable-next-line\n            var rect = hyperlinksBounds[i];\n            aTag = this_1.setHyperlinkProperties(aTag, rect);\n            aTag.title = hyperlinks[i];\n            aTag.setAttribute('href', hyperlinks[i]);\n            if (this_1.pdfViewer.hyperlinkOpenState === 'CurrentTab') {\n                aTag.target = '_self';\n                aTag.onclick = function () {\n                    proxy.pdfViewer.fireHyperlinkClick(hyperlinks[i]);\n                };\n            }\n            else if (this_1.pdfViewer.hyperlinkOpenState === 'NewTab') {\n                aTag.target = '_blank';\n                aTag.onclick = function () {\n                    proxy.pdfViewer.fireHyperlinkClick(hyperlinks[i]);\n                };\n            }\n            else if (this_1.pdfViewer.hyperlinkOpenState === 'NewWindow') {\n                aTag.onclick = function () {\n                    proxy.pdfViewer.fireHyperlinkClick(hyperlinks[i]);\n                    window.open(hyperlinks[i], '_blank', 'scrollbars=yes,resizable=yes');\n                    return false;\n                };\n            }\n            var pageDiv = document.getElementById(this_1.pdfViewer.element.id + '_pageDiv_' + pageIndex);\n            pageDiv.appendChild(aTag);\n        };\n        var this_1 = this;\n        for (var i = 0; i < hyperlinks.length; i++) {\n            _loop_1(i);\n        }\n    };\n    LinkAnnotation.prototype.renderDocumentLink = function (linkAnnotation, linkPage, annotationY, pageIndex) {\n        var proxy = this;\n        var _loop_2 = function (i) {\n            var aTag = createElement('a', { id: 'linkdiv_' + i });\n            // tslint:disable-next-line\n            var rect = linkAnnotation[i];\n            aTag = this_2.setHyperlinkProperties(aTag, rect);\n            aTag.setAttribute('href', '');\n            if (linkPage[i] !== undefined && linkPage[i] > 0) {\n                var destPageHeight = (this_2.pdfViewerBase.pageSize[pageIndex].height);\n                var destLocation = void 0;\n                var scrollValue = void 0;\n                if (annotationY.length !== 0) {\n                    destLocation = (annotationY[i]);\n                    // tslint:disable-next-line:max-line-length\n                    scrollValue = this_2.pdfViewerBase.pageSize[linkPage[i]].top * this_2.pdfViewerBase.getZoomFactor() + ((destPageHeight - destLocation) * this_2.pdfViewerBase.getZoomFactor());\n                }\n                else {\n                    // tslint:disable-next-line:max-line-length\n                    scrollValue = this_2.pdfViewerBase.pageSize[linkPage[i]].top * this_2.pdfViewerBase.getZoomFactor();\n                }\n                if (scrollValue !== undefined) {\n                    aTag.name = scrollValue.toString();\n                    aTag.onclick = function () {\n                        // tslint:disable-next-line:radix\n                        proxy.pdfViewerBase.viewerContainer.scrollTop = parseInt(aTag.name);\n                        return false;\n                    };\n                }\n            }\n            var pageDiv = document.getElementById(this_2.pdfViewer.element.id + '_pageDiv_' + pageIndex);\n            pageDiv.appendChild(aTag);\n        };\n        var this_2 = this;\n        for (var i = 0; i < linkAnnotation.length; i++) {\n            _loop_2(i);\n        }\n    };\n    // tslint:disable-next-line\n    LinkAnnotation.prototype.setHyperlinkProperties = function (aTag, rect) {\n        aTag.className = 'e-pv-hyperlink';\n        aTag.style.background = 'transparent';\n        aTag.style.position = 'absolute';\n        aTag.style.left = (rect.Left * this.pdfViewerBase.getZoomFactor()) + 'px';\n        aTag.style.top = (rect.Top * this.pdfViewerBase.getZoomFactor()) + 'px';\n        aTag.style.width = (rect.Width * this.pdfViewerBase.getZoomFactor()) + 'px';\n        if (rect.Height < 0) {\n            aTag.style.height = (-rect.Height * this.pdfViewerBase.getZoomFactor()) + 'px';\n            aTag.style.top = ((rect.Top + rect.Height) * this.pdfViewerBase.getZoomFactor()) + 'px';\n        }\n        else {\n            aTag.style.height = ((rect.Height < 0 ? -rect.Height : rect.Height) * this.pdfViewerBase.getZoomFactor()) + 'px';\n        }\n        aTag.style.color = 'transparent';\n        return aTag;\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.modifyZindexForTextSelection = function (pageNumber, isAdd) {\n        if (this.pdfViewerBase.pageCount > 0) {\n            var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + pageNumber);\n            if (pageDiv) {\n                var pageChildNodes = pageDiv.childNodes;\n                for (var i = 0; i < pageChildNodes.length; i++) {\n                    var childElement = pageChildNodes[i];\n                    if (childElement.tagName === 'A') {\n                        if (isAdd) {\n                            childElement.classList.add('e-pv-onselection');\n                        }\n                        else {\n                            childElement.classList.remove('e-pv-onselection');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.modifyZindexForHyperlink = function (element, isAdd) {\n        if (isAdd) {\n            element.classList.add('e-pv-onselection');\n        }\n        else {\n            element.classList.remove('e-pv-onselection');\n        }\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.destroy = function () {\n        for (var i = 0; i < this.pdfViewerBase.pageCount - 1; i++) {\n            var pageDiv = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + i);\n            if (pageDiv) {\n                var aElement = pageDiv.getElementsByTagName('a');\n                if (aElement.length !== 0) {\n                    for (var index = aElement.length - 1; index >= 0; index--) {\n                        aElement[index].parentNode.removeChild(aElement[index]);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    LinkAnnotation.prototype.getModuleName = function () {\n        return 'LinkAnnotation';\n    };\n    return LinkAnnotation;\n}());\nexport { LinkAnnotation };\n","import { createElement, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\n/**\n * The `TextMarkupAnnotation` module is used to handle text markup annotation actions of PDF viewer.\n * @hidden\n */\nvar TextMarkupAnnotation = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function TextMarkupAnnotation(pdfViewer, viewerBase) {\n        /**\n         * @private\n         */\n        this.currentTextMarkupAddMode = '';\n        /**\n         * @private\n         */\n        this.selectTextMarkupCurrentPage = null;\n        /**\n         * @private\n         */\n        this.currentTextMarkupAnnotation = null;\n        this.currentAnnotationIndex = null;\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = viewerBase;\n        this.highlightColor = pdfViewer.highlightSettings.color;\n        this.underlineColor = pdfViewer.underlineSettings.color;\n        this.strikethroughColor = pdfViewer.strikethroughSettings.color;\n        this.highlightOpacity = pdfViewer.highlightSettings.opacity;\n        this.underlineOpacity = pdfViewer.underlineSettings.opacity;\n        this.strikethroughOpacity = pdfViewer.strikethroughSettings.opacity;\n    }\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    TextMarkupAnnotation.prototype.createAnnotationLayer = function (pageDiv, pageWidth, pageHeight, pageNumber, displayMode) {\n        // tslint:disable-next-line:max-line-length\n        var annotationCanvas = createElement('canvas', { id: this.pdfViewer.element.id + '_annotationCanvas_' + pageNumber, className: 'e-pv-annotation-canvas' });\n        annotationCanvas.width = pageWidth;\n        annotationCanvas.height = pageHeight;\n        annotationCanvas.style.display = displayMode;\n        pageDiv.appendChild(annotationCanvas);\n        return annotationCanvas;\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.renderTextMarkupAnnotationsInPage = function (textMarkupAnnotations, pageNumber) {\n        var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        this.renderTextMarkupAnnotations(textMarkupAnnotations, pageNumber, canvas, this.pdfViewerBase.getZoomFactor());\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.renderTextMarkupAnnotations = function (textMarkupAnnotations, pageNumber, canvas, factor) {\n        if (canvas) {\n            canvas.width = this.getMagnifiedValue(this.pdfViewerBase.pageSize[pageNumber].width, factor);\n            canvas.height = this.getMagnifiedValue(this.pdfViewerBase.pageSize[pageNumber].height, factor);\n            var context = canvas.getContext('2d');\n            context.setLineDash([]);\n            // tslint:disable-next-line\n            var annotations = this.getAnnotations(pageNumber, textMarkupAnnotations);\n            if (annotations) {\n                for (var i = 0; i < annotations.length; i++) {\n                    // tslint:disable-next-line\n                    var annotation = annotations[i];\n                    var annotationObject = null;\n                    if (annotation.TextMarkupAnnotationType) {\n                        // tslint:disable-next-line:max-line-length\n                        annotationObject = { textMarkupAnnotationType: annotation.TextMarkupAnnotationType, color: annotation.Color, opacity: annotation.Opacity, bounds: annotation.Bounds, author: annotation.Author, subject: annotation.Subject, modifiedDate: annotation.ModifiedDate, note: annotation.Note, rect: annotation.Rect };\n                        this.storeAnnotations(pageNumber, annotationObject);\n                    }\n                    // tslint:disable-next-line:max-line-length\n                    var type = annotation.TextMarkupAnnotationType ? annotation.TextMarkupAnnotationType : annotation.textMarkupAnnotationType;\n                    // tslint:disable-next-line\n                    var annotBounds = annotation.Bounds ? annotation.Bounds : annotation.bounds;\n                    var opacity = annotation.Opacity ? annotation.Opacity : annotation.opacity;\n                    var color = annotation.Color ? annotation.Color : annotation.color;\n                    switch (type) {\n                        case 'Highlight':\n                            this.renderHighlightAnnotation(annotBounds, opacity, color, context, factor);\n                            break;\n                        case 'Strikethrough':\n                            this.renderStrikeoutAnnotation(annotBounds, opacity, color, context, factor);\n                            break;\n                        case 'Underline':\n                            this.renderUnderlineAnnotation(annotBounds, opacity, color, context, factor);\n                            break;\n                    }\n                }\n            }\n            if (pageNumber === this.selectTextMarkupCurrentPage) {\n                this.maintainAnnotationSelection();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.drawTextMarkupAnnotations = function (type) {\n        this.isTextMarkupAnnotationMode = true;\n        this.currentTextMarkupAddMode = type;\n        var selectionObject = this.pdfViewer.textSelectionModule.selectionRangeArray;\n        if (selectionObject.length > 0) {\n            this.convertSelectionToTextMarkup(type, selectionObject, this.pdfViewerBase.getZoomFactor());\n        }\n        if (window.getSelection().toString()) {\n            var pageBounds = this.getDrawnBounds();\n            if (pageBounds.length > 0) {\n                for (var i = 0; i < pageBounds.length; i++) {\n                    // tslint:disable-next-line:max-line-length\n                    this.drawTextMarkups(type, pageBounds[i].bounds, pageBounds[i].pageIndex, pageBounds[i].rect, this.pdfViewerBase.getZoomFactor());\n                }\n            }\n        }\n        // this.pdfViewerBase.annotationHelper.redoCollection = [];\n        this.pdfViewer.textSelectionModule.clearTextSelection();\n    };\n    TextMarkupAnnotation.prototype.convertSelectionToTextMarkup = function (type, selectionObject, factor) {\n        for (var i = 0; i < selectionObject.length; i++) {\n            this.drawTextMarkups(type, selectionObject[i].rectangleBounds, selectionObject[i].pageNumber, selectionObject[i].bound, factor);\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.drawTextMarkups = function (type, bounds, pageNumber, rect, factor) {\n        var annotation = null;\n        var context = this.getPageContext(pageNumber);\n        if (context) {\n            context.setLineDash([]);\n            switch (type) {\n                case 'Highlight':\n                    // tslint:disable-next-line:max-line-length\n                    annotation = this.getAddedAnnotation(type, this.highlightColor, this.highlightOpacity, bounds, this.pdfViewer.highlightSettings.author, this.pdfViewer.highlightSettings.subject, this.pdfViewer.highlightSettings.modifiedDate, '', rect, pageNumber);\n                    this.renderHighlightAnnotation(annotation.bounds, annotation.opacity, annotation.color, context, factor);\n                    break;\n                case 'Strikethrough':\n                    // tslint:disable-next-line:max-line-length\n                    annotation = this.getAddedAnnotation(type, this.strikethroughColor, this.strikethroughOpacity, bounds, this.pdfViewer.strikethroughSettings.author, this.pdfViewer.strikethroughSettings.subject, this.pdfViewer.strikethroughSettings.modifiedDate, '', rect, pageNumber);\n                    this.renderStrikeoutAnnotation(annotation.bounds, annotation.opacity, annotation.color, context, factor);\n                    break;\n                case 'Underline':\n                    // tslint:disable-next-line:max-line-length\n                    annotation = this.getAddedAnnotation(type, this.underlineColor, this.underlineOpacity, bounds, this.pdfViewer.underlineSettings.author, this.pdfViewer.underlineSettings.subject, this.pdfViewer.underlineSettings.modifiedDate, '', rect, pageNumber);\n                    this.renderUnderlineAnnotation(annotation.bounds, annotation.opacity, annotation.color, context, factor);\n                    break;\n            }\n            this.pdfViewerBase.isDocumentEdited = true;\n            // tslint:disable-next-line\n            var settings = { opacity: annotation.opacity, color: annotation.color, author: annotation.author, subject: annotation.subject, modifiedDate: annotation.modifiedDate };\n            var index = this.pdfViewer.annotationModule.actionCollection[this.pdfViewer.annotationModule.actionCollection.length - 1].index;\n            this.pdfViewer.fireAnnotationAdd(pageNumber, index, type, annotation.rect, settings);\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.renderHighlightAnnotation = function (bounds, opacity, color, context, factor) {\n        for (var i = 0; i < bounds.length; i++) {\n            // tslint:disable-next-line\n            var bound = bounds[i];\n            context.beginPath();\n            var x = bound.X ? bound.X : bound.left;\n            var y = bound.Y ? bound.Y : bound.top;\n            var width = bound.Width ? bound.Width : bound.width;\n            var height = bound.Height ? bound.Height : bound.height;\n            // tslint:disable-next-line:max-line-length\n            context.rect((x * factor), (y * factor), (width * factor), (height * factor));\n            context.globalAlpha = opacity * 0.5;\n            context.closePath();\n            context.fillStyle = color;\n            context.msFillRule = 'nonzero';\n            context.fill();\n        }\n        context.save();\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.renderStrikeoutAnnotation = function (bounds, opacity, color, context, factor) {\n        for (var i = 0; i < bounds.length; i++) {\n            // tslint:disable-next-line\n            var bound = this.getProperBounds(bounds[i]);\n            this.drawLine(opacity, bound.x, bound.y, bound.width, (bound.height / 2), color, factor, context);\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.renderUnderlineAnnotation = function (bounds, opacity, color, context, factor) {\n        for (var i = 0; i < bounds.length; i++) {\n            // tslint:disable-next-line\n            var boundValues = this.getProperBounds(bounds[i]);\n            this.drawLine(opacity, boundValues.x, boundValues.y, boundValues.width, boundValues.height, color, factor, context);\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.getProperBounds = function (bound) {\n        var x = bound.X ? bound.X : bound.left;\n        var y = bound.Y ? bound.Y : bound.top;\n        var width = bound.Width ? bound.Width : bound.width;\n        var height = bound.Height ? bound.Height : bound.height;\n        return { x: x, y: y, width: width, height: height };\n    };\n    // tslint:disable-next-line:max-line-length\n    TextMarkupAnnotation.prototype.drawLine = function (opacity, x, y, width, height, color, factor, context) {\n        context.globalAlpha = opacity;\n        context.beginPath();\n        context.moveTo((x * factor), (y + height) * factor);\n        context.lineTo((width + x) * factor, (y + height) * factor);\n        context.lineWidth = 1;\n        context.strokeStyle = color;\n        context.closePath();\n        context.msFillRule = 'nonzero';\n        context.stroke();\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.printTextMarkupAnnotations = function (textMarkupAnnotations, pageIndex) {\n        var canvas = createElement('canvas', { id: this.pdfViewer.element.id + '_print_annotation_layer_' + pageIndex });\n        // tslint:disable-next-line\n        var annotations = this.getAnnotations(pageIndex, null);\n        if (annotations) {\n            this.renderTextMarkupAnnotations(null, pageIndex, canvas, 1);\n        }\n        else {\n            this.renderTextMarkupAnnotations(textMarkupAnnotations, pageIndex, canvas, 1);\n        }\n        var imageSource = canvas.toDataURL();\n        return imageSource;\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.saveTextMarkupAnnotations = function () {\n        // tslint:disable-next-line\n        var storeObject = window.sessionStorage.getItem(this.pdfViewerBase.documentId + '_annotations_textMarkup');\n        // tslint:disable-next-line\n        var annotations = new Array();\n        var colorpick = new ColorPicker();\n        for (var j = 0; j < this.pdfViewerBase.pageCount; j++) {\n            annotations[j] = [];\n        }\n        if (storeObject) {\n            var annotationCollection = JSON.parse(storeObject);\n            for (var i = 0; i < annotationCollection.length; i++) {\n                var newArray = [];\n                var pageAnnotationObject = annotationCollection[i];\n                if (pageAnnotationObject) {\n                    for (var z = 0; pageAnnotationObject.annotations.length > z; z++) {\n                        // tslint:disable-next-line:max-line-length\n                        pageAnnotationObject.annotations[z].bounds = JSON.stringify(this.getBoundsForSave(pageAnnotationObject.annotations[z].bounds));\n                        var colorString = colorpick.getValue(pageAnnotationObject.annotations[z].color, 'rgba');\n                        pageAnnotationObject.annotations[z].color = JSON.stringify(this.getRgbCode(colorString));\n                        pageAnnotationObject.annotations[z].rect = JSON.stringify(pageAnnotationObject.annotations[z].rect);\n                    }\n                    newArray = pageAnnotationObject.annotations;\n                }\n                annotations[pageAnnotationObject.pageIndex] = newArray;\n            }\n        }\n        return JSON.stringify(annotations);\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.deleteTextMarkupAnnotation = function () {\n        if (this.currentTextMarkupAnnotation) {\n            var pageAnnotations = this.getAnnotations(this.selectTextMarkupCurrentPage, null);\n            var deletedAnnotation = null;\n            for (var i = 0; i < pageAnnotations.length; i++) {\n                if (JSON.stringify(this.currentTextMarkupAnnotation) === JSON.stringify(pageAnnotations[i])) {\n                    deletedAnnotation = pageAnnotations.splice(i, 1)[0];\n                    // tslint:disable-next-line:max-line-length\n                    this.pdfViewer.annotationModule.addAction(this.selectTextMarkupCurrentPage, i, deletedAnnotation, 'Text Markup Deleted', null);\n                    this.currentAnnotationIndex = i;\n                }\n            }\n            this.manageAnnotations(pageAnnotations, this.selectTextMarkupCurrentPage);\n            this.currentTextMarkupAnnotation = null;\n            this.renderTextMarkupAnnotationsInPage(null, this.selectTextMarkupCurrentPage);\n            this.pdfViewerBase.isDocumentEdited = true;\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewer.fireAnnotationRemove(this.selectTextMarkupCurrentPage, this.currentAnnotationIndex, deletedAnnotation.textMarkupAnnotationType);\n            this.currentAnnotationIndex = null;\n            this.selectTextMarkupCurrentPage = null;\n            if (Browser.isDevice) {\n                // tslint:disable-next-line:max-line-length\n                this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar();\n                this.pdfViewer.toolbarModule.showToolbar(true);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.modifyColorProperty = function (color) {\n        if (this.currentTextMarkupAnnotation) {\n            var pageAnnotations = this.modifyAnnotationProperty('Color', color, null);\n            this.manageAnnotations(pageAnnotations, this.selectTextMarkupCurrentPage);\n            this.renderTextMarkupAnnotationsInPage(null, this.selectTextMarkupCurrentPage);\n            this.pdfViewerBase.isDocumentEdited = true;\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage, this.currentAnnotationIndex, this.currentTextMarkupAnnotation.textMarkupAnnotationType, true, false);\n            this.currentAnnotationIndex = null;\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.modifyOpacityProperty = function (args) {\n        if (this.currentTextMarkupAnnotation) {\n            var pageAnnotations = this.modifyAnnotationProperty('Opacity', args.value / 100, args.name);\n            this.manageAnnotations(pageAnnotations, this.selectTextMarkupCurrentPage);\n            this.renderTextMarkupAnnotationsInPage(null, this.selectTextMarkupCurrentPage);\n            if (args.name === 'changed') {\n                this.pdfViewerBase.isDocumentEdited = true;\n                // tslint:disable-next-line:max-line-length\n                this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage, this.currentAnnotationIndex, this.currentTextMarkupAnnotation.textMarkupAnnotationType, false, true);\n                this.currentAnnotationIndex = null;\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.modifyAnnotationProperty = function (property, value, status) {\n        var pageAnnotations = this.getAnnotations(this.selectTextMarkupCurrentPage, null);\n        for (var i = 0; i < pageAnnotations.length; i++) {\n            if (JSON.stringify(this.currentTextMarkupAnnotation) === JSON.stringify(pageAnnotations[i])) {\n                if (property === 'Color') {\n                    pageAnnotations[i].color = value;\n                }\n                else if (property === 'Opacity') {\n                    pageAnnotations[i].opacity = value;\n                }\n                var date = new Date();\n                pageAnnotations[i].modifiedDate = date.toLocaleString();\n                this.currentAnnotationIndex = i;\n                if (status === null || status === 'changed') {\n                    // tslint:disable-next-line:max-line-length\n                    this.pdfViewer.annotationModule.addAction(this.selectTextMarkupCurrentPage, i, this.currentTextMarkupAnnotation, 'Text Markup Property modified', property);\n                }\n                this.currentTextMarkupAnnotation = pageAnnotations[i];\n            }\n        }\n        return pageAnnotations;\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.undoTextMarkupAction = function (annotation, pageNumber, index, action) {\n        var pageAnnotations = this.getAnnotations(pageNumber, null);\n        if (pageAnnotations) {\n            if (action === 'Text Markup Added') {\n                pageAnnotations.splice(index, 1);\n            }\n            else if (action === 'Text Markup Deleted') {\n                pageAnnotations.splice(index, 0, annotation);\n            }\n        }\n        this.clearCurrentAnnotation();\n        this.pdfViewerBase.isDocumentEdited = true;\n        this.manageAnnotations(pageAnnotations, pageNumber);\n        this.renderTextMarkupAnnotationsInPage(null, pageNumber);\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    TextMarkupAnnotation.prototype.undoRedoPropertyChange = function (annotation, pageNumber, index, property) {\n        var pageAnnotations = this.getAnnotations(pageNumber, null);\n        if (pageAnnotations) {\n            if (property === 'Color') {\n                var tempColor = pageAnnotations[index].color;\n                pageAnnotations[index].color = annotation.color;\n                annotation.color = tempColor;\n            }\n            else {\n                var tempOpacity = pageAnnotations[index].opacity;\n                pageAnnotations[index].opacity = annotation.opacity;\n                annotation.opacity = tempOpacity;\n            }\n        }\n        this.clearCurrentAnnotation();\n        this.pdfViewerBase.isDocumentEdited = true;\n        this.manageAnnotations(pageAnnotations, pageNumber);\n        this.renderTextMarkupAnnotationsInPage(null, pageNumber);\n        return annotation;\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.redoTextMarkupAction = function (annotation, pageNumber, index, action) {\n        var pageAnnotations = this.getAnnotations(pageNumber, null);\n        if (pageAnnotations) {\n            if (action === 'Text Markup Added') {\n                pageAnnotations.push(annotation);\n            }\n            else if (action === 'Text Markup Deleted') {\n                pageAnnotations.splice(index, 1);\n            }\n        }\n        this.clearCurrentAnnotation();\n        this.pdfViewerBase.isDocumentEdited = true;\n        this.manageAnnotations(pageAnnotations, pageNumber);\n        this.renderTextMarkupAnnotationsInPage(null, pageNumber);\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.saveNoteContent = function (pageNumber, note) {\n        var pageAnnotations = this.getAnnotations(pageNumber, null);\n        if (pageAnnotations) {\n            for (var i = 0; i < pageAnnotations.length; i++) {\n                if (JSON.stringify(this.currentTextMarkupAnnotation) === JSON.stringify(pageAnnotations[i])) {\n                    pageAnnotations[i].note = note;\n                }\n            }\n        }\n        this.manageAnnotations(pageAnnotations, pageNumber);\n        this.pdfViewerBase.isDocumentEdited = true;\n    };\n    TextMarkupAnnotation.prototype.clearCurrentAnnotation = function () {\n        this.selectTextMarkupCurrentPage = null;\n        this.currentTextMarkupAnnotation = null;\n        this.enableAnnotationPropertiesTool(false);\n    };\n    TextMarkupAnnotation.prototype.clearCurrentAnnotationSelection = function (pageNumber) {\n        var lowerPageIndex = (pageNumber - 2) >= 0 ? (pageNumber - 2) : 0;\n        // tslint:disable-next-line:max-line-length\n        var higherPageIndex = (pageNumber + 2) < this.pdfViewerBase.pageCount ? (pageNumber + 2) : this.pdfViewerBase.pageCount - 1;\n        for (var k = lowerPageIndex; k <= higherPageIndex; k++) {\n            this.clearAnnotationSelection(k);\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.getBoundsForSave = function (bounds) {\n        // tslint:disable-next-line\n        var newArray = [];\n        for (var i = 0; i < bounds.length; i++) {\n            var left = bounds[i].left ? bounds[i].left : bounds[i].Left;\n            var top_1 = bounds[i].top ? bounds[i].top : bounds[i].Top;\n            var height = bounds[i].height ? bounds[i].height : bounds[i].Height;\n            var width = bounds[i].width ? bounds[i].width : bounds[i].Width;\n            newArray.push({ left: left, top: top_1, width: width, height: height });\n        }\n        return newArray;\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.getRgbCode = function (colorString) {\n        var stringArray = colorString.split(',');\n        // tslint:disable-next-line:radix\n        var r = parseInt(stringArray[0].split('(')[1]);\n        // tslint:disable-next-line:radix\n        var g = parseInt(stringArray[1]);\n        // tslint:disable-next-line:radix\n        var b = parseInt(stringArray[2]);\n        return { r: r, g: g, b: b };\n    };\n    TextMarkupAnnotation.prototype.getDrawnBounds = function () {\n        var pageBounds = [];\n        var selection = window.getSelection();\n        if (selection.anchorNode !== null) {\n            var range = document.createRange();\n            var isBackWardSelection = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n            if (selection.anchorNode === selection.focusNode) {\n                var pageId = this.pdfViewerBase.textLayer.getPageIndex(selection.anchorNode);\n                if (!isNaN(pageId)) {\n                    var pageRect = this.pdfViewerBase.getElement('_pageDiv_' + pageId).getBoundingClientRect();\n                    if (isBackWardSelection) {\n                        range.setStart(selection.focusNode, selection.focusOffset);\n                        range.setEnd(selection.anchorNode, selection.anchorOffset);\n                    }\n                    else {\n                        if (selection.anchorOffset < selection.focusOffset) {\n                            range.setStart(selection.anchorNode, selection.anchorOffset);\n                            range.setEnd(selection.focusNode, selection.focusOffset);\n                        }\n                        else {\n                            range.setStart(selection.focusNode, selection.focusOffset);\n                            range.setEnd(selection.anchorNode, selection.anchorOffset);\n                        }\n                    }\n                    var boundingRect = range.getBoundingClientRect();\n                    // tslint:disable-next-line:max-line-length\n                    var rectangle = { left: this.getDefaultValue(boundingRect.left - pageRect.left), top: this.getDefaultValue(boundingRect.top - pageRect.top), width: this.getDefaultValue(boundingRect.width), height: this.getDefaultValue(boundingRect.height), right: this.getDefaultValue(boundingRect.right - pageRect.left), bottom: this.getDefaultValue(boundingRect.bottom - pageRect.top) };\n                    var rectangleArray = [];\n                    rectangleArray.push(rectangle);\n                    // tslint:disable-next-line\n                    var rect = { left: rectangle.left, top: rectangle.top, right: rectangle.right, bottom: rectangle.bottom };\n                    pageBounds.push({ pageIndex: pageId, bounds: rectangleArray, rect: rect });\n                }\n            }\n            else {\n                var startNode = void 0;\n                var endNode = void 0;\n                var selectionStartOffset = void 0;\n                var selectionEndOffset = void 0;\n                if (isBackWardSelection) {\n                    startNode = selection.focusNode;\n                    selectionStartOffset = selection.focusOffset;\n                    endNode = selection.anchorNode;\n                    selectionEndOffset = selection.anchorOffset;\n                }\n                else {\n                    startNode = selection.anchorNode;\n                    selectionStartOffset = selection.anchorOffset;\n                    endNode = selection.focusNode;\n                    selectionEndOffset = selection.focusOffset;\n                }\n                var anchorPageId = this.pdfViewerBase.textLayer.getPageIndex(startNode);\n                var anchorTextId = this.pdfViewerBase.textLayer.getTextIndex(startNode, anchorPageId);\n                var focusPageId = this.pdfViewerBase.textLayer.getPageIndex(endNode);\n                var focusTextId = this.pdfViewerBase.textLayer.getTextIndex(endNode, focusPageId);\n                var startOffset = 0;\n                var endOffset = 0;\n                var currentId = 0;\n                for (var i = anchorPageId; i <= focusPageId; i++) {\n                    var selectionRects = [];\n                    var pageStartId = void 0;\n                    var pageEndId = void 0;\n                    var pageStartOffset = void 0;\n                    var pageEndOffset = void 0;\n                    var textDivs = this.pdfViewerBase.getElement('_textLayer_' + i).childNodes;\n                    var pageRect = this.pdfViewerBase.getElement('_pageDiv_' + i).getBoundingClientRect();\n                    if (i === anchorPageId) {\n                        currentId = anchorTextId;\n                    }\n                    else {\n                        currentId = 0;\n                    }\n                    for (var j = currentId; j < textDivs.length; j++) {\n                        var textElement = textDivs[j];\n                        if (j === currentId) {\n                            pageStartId = currentId;\n                            pageStartOffset = (i === anchorPageId) ? selectionStartOffset : 0;\n                        }\n                        else {\n                            pageEndId = j;\n                            pageEndOffset = (i === focusPageId) ? selectionEndOffset : textElement.textContent.length;\n                        }\n                        if (j === anchorTextId && i === anchorPageId) {\n                            startOffset = selectionStartOffset;\n                        }\n                        else {\n                            startOffset = 0;\n                        }\n                        if (j === focusTextId && i === focusPageId) {\n                            endOffset = selectionEndOffset;\n                        }\n                        else {\n                            endOffset = textElement.textContent.length;\n                        }\n                        for (var k = 0; k < textElement.childNodes.length; k++) {\n                            var node = textElement.childNodes[k];\n                            range.setStart(node, startOffset);\n                            range.setEnd(node, endOffset);\n                        }\n                        var boundingRect = range.getBoundingClientRect();\n                        // tslint:disable-next-line:max-line-length\n                        var rectangle = { left: this.getDefaultValue(boundingRect.left - pageRect.left), top: this.getDefaultValue(boundingRect.top - pageRect.top), width: this.getDefaultValue(boundingRect.width), height: this.getDefaultValue(boundingRect.height), right: this.getDefaultValue(boundingRect.right - pageRect.left), bottom: this.getDefaultValue(boundingRect.bottom - pageRect.top) };\n                        selectionRects.push(rectangle);\n                        range.detach();\n                        if (i === focusPageId && j === focusTextId) {\n                            break;\n                        }\n                    }\n                    var startElementNode = this.pdfViewerBase.getElement('_text_' + i + '_' + pageStartId).childNodes[0];\n                    var endElementNode = this.pdfViewerBase.getElement('_text_' + i + '_' + pageEndId).childNodes[0];\n                    var pageRange = document.createRange();\n                    pageRange.setStart(startElementNode, pageStartOffset);\n                    pageRange.setEnd(endElementNode, pageEndOffset);\n                    var pageRectBounds = pageRange.getBoundingClientRect();\n                    // tslint:disable-next-line:max-line-length\n                    var pageRectangle = { left: this.getDefaultValue(pageRectBounds.left - pageRect.left), top: this.getDefaultValue(pageRectBounds.top - pageRect.top), width: this.getDefaultValue(pageRectBounds.width), height: this.getDefaultValue(pageRectBounds.height), right: this.getDefaultValue(pageRectBounds.right - pageRect.left), bottom: this.getDefaultValue(pageRectBounds.bottom - pageRect.top) };\n                    // tslint:disable-next-line\n                    var rect = { left: pageRectangle.left, top: pageRectangle.top, right: pageRectangle.right, bottom: pageRectangle.bottom };\n                    pageBounds.push({ pageIndex: i, bounds: selectionRects, rect: rect });\n                }\n            }\n        }\n        selection.removeAllRanges();\n        return pageBounds;\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.rerenderAnnotationsPinch = function (pageNumber) {\n        var annotCanvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        if (annotCanvas) {\n            var oldAnnotCanvas = this.pdfViewerBase.getElement('_old_annotationCanvas_' + pageNumber);\n            if (oldAnnotCanvas) {\n                if (annotCanvas) {\n                    oldAnnotCanvas.id = annotCanvas.id;\n                    annotCanvas.parentElement.removeChild(annotCanvas);\n                }\n                else {\n                    oldAnnotCanvas.id = this.pdfViewer.element.id + '_annotationCanvas_' + pageNumber;\n                }\n                annotCanvas = oldAnnotCanvas;\n            }\n            annotCanvas.style.width = '';\n            annotCanvas.style.height = '';\n            annotCanvas.width = this.pdfViewerBase.pageSize[pageNumber].width * this.pdfViewerBase.getZoomFactor();\n            annotCanvas.height = this.pdfViewerBase.pageSize[pageNumber].height * this.pdfViewerBase.getZoomFactor();\n            this.renderTextMarkupAnnotations(null, pageNumber, annotCanvas, this.pdfViewerBase.getZoomFactor());\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.rerenderAnnotations = function (pageNumber) {\n        var oldCanvas = this.pdfViewerBase.getElement('_old_annotationCanvas_' + pageNumber);\n        if (oldCanvas) {\n            oldCanvas.parentElement.removeChild(oldCanvas);\n        }\n        var newCanvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        if (newCanvas) {\n            newCanvas.style.display = 'block';\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.resizeAnnotations = function (width, height, pageNumber) {\n        var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        if (canvas) {\n            canvas.style.width = width + 'px';\n            canvas.style.height = height + 'px';\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.onTextMarkupAnnotationMouseUp = function (event) {\n        var pageNumber = this.pdfViewer.annotationModule.getEventPageNumber(event);\n        if (!isNullOrUndefined(pageNumber) && !isNaN(pageNumber)) {\n            var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n            var currentAnnot = this.getCurrentMarkupAnnotation(event.clientX, event.clientY, pageNumber, canvas);\n            if (currentAnnot) {\n                this.selectAnnotation(currentAnnot, canvas);\n                this.currentTextMarkupAnnotation = currentAnnot;\n                this.selectTextMarkupCurrentPage = pageNumber;\n                this.enableAnnotationPropertiesTool(true);\n                if (this.pdfViewer.toolbarModule) {\n                    this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden = true;\n                    this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem);\n                }\n            }\n            else {\n                this.clearCurrentAnnotation();\n            }\n            this.clearCurrentAnnotationSelection(pageNumber);\n        }\n        else {\n            if (!this.pdfViewerBase.isClickedOnScrollBar(event)) {\n                this.clearCurrentAnnotation();\n                this.clearCurrentAnnotationSelection(pageNumber);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.onTextMarkupAnnotationTouchEnd = function (event) {\n        var pageNumber = this.pdfViewer.annotationModule.getEventPageNumber(event);\n        if (!isNullOrUndefined(pageNumber)) {\n            this.clearCurrentAnnotationSelection(pageNumber);\n            var touchCanvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n            // tslint:disable-next-line:max-line-length\n            var currentAnnot = this.getCurrentMarkupAnnotation(event.touches[0].clientX, event.touches[0].clientY, pageNumber, touchCanvas);\n            if (currentAnnot) {\n                this.selectAnnotation(currentAnnot, touchCanvas);\n                this.currentTextMarkupAnnotation = currentAnnot;\n                this.selectTextMarkupCurrentPage = pageNumber;\n                this.enableAnnotationPropertiesTool(true);\n            }\n            else {\n                this.clearCurrentAnnotation();\n            }\n            this.clearCurrentAnnotationSelection(pageNumber);\n        }\n        else if (this.selectTextMarkupCurrentPage != null && Browser.isDevice) {\n            var number = this.selectTextMarkupCurrentPage;\n            this.selectTextMarkupCurrentPage = null;\n            this.clearAnnotationSelection(number);\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.onTextMarkupAnnotationMouseMove = function (event) {\n        var eventTarget = event.target;\n        // tslint:disable-next-line\n        var pageIndex = parseInt(eventTarget.id.split('_text_')[1]) || parseInt(eventTarget.id.split('_textLayer_')[1]) || parseInt(eventTarget.id.split('_annotationCanvas_')[1]);\n        if (pageIndex) {\n            var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageIndex);\n            var currentAnnot = this.getCurrentMarkupAnnotation(event.clientX, event.clientY, pageIndex, canvas);\n            if (currentAnnot) {\n                eventTarget.style.cursor = 'pointer';\n                this.showPopupNote(event, currentAnnot);\n            }\n            else {\n                this.pdfViewer.annotationModule.hidePopupNote();\n                if (this.pdfViewerBase.isPanMode && !this.pdfViewerBase.getAnnotationToolStatus()) {\n                    eventTarget.style.cursor = 'grab';\n                }\n                else {\n                    eventTarget.style.cursor = 'auto';\n                }\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.showPopupNote = function (event, annotation) {\n        if (annotation.note) {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewer.annotationModule.showPopupNote(event, annotation.color, annotation.author, annotation.note, annotation.textMarkupAnnotationType);\n        }\n    };\n    TextMarkupAnnotation.prototype.getCurrentMarkupAnnotation = function (clientX, clientY, pageNumber, canvas) {\n        var currentTextMarkupAnnotations = [];\n        var canvasParentPosition = canvas.parentElement.getBoundingClientRect();\n        var leftClickPosition = clientX - canvasParentPosition.left;\n        var topClickPosition = clientY - canvasParentPosition.top;\n        var annotationList = this.getAnnotations(pageNumber, null);\n        var isAnnotationGot = false;\n        if (annotationList) {\n            for (var i = 0; i < annotationList.length; i++) {\n                var annotation = annotationList[i];\n                for (var j = 0; j < annotation.bounds.length; j++) {\n                    // tslint:disable-next-line\n                    var bound = annotation.bounds[j];\n                    var left = bound.left ? bound.left : bound.Left;\n                    var top_2 = bound.top ? bound.top : bound.Top;\n                    var width = bound.width ? bound.width : bound.Width;\n                    var height = bound.height ? bound.height : bound.Height;\n                    // tslint:disable-next-line:max-line-length\n                    if (leftClickPosition >= this.getMagnifiedValue(left, this.pdfViewerBase.getZoomFactor()) && leftClickPosition <= this.getMagnifiedValue(left + width, this.pdfViewerBase.getZoomFactor()) && topClickPosition >= this.getMagnifiedValue(top_2, this.pdfViewerBase.getZoomFactor()) && topClickPosition <= this.getMagnifiedValue(top_2 + height, this.pdfViewerBase.getZoomFactor())) {\n                        currentTextMarkupAnnotations.push(annotation);\n                        isAnnotationGot = true;\n                    }\n                    else {\n                        if (isAnnotationGot) {\n                            isAnnotationGot = false;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        var currentAnnot = null;\n        if (currentTextMarkupAnnotations.length > 1) {\n            currentAnnot = this.compareCurrentAnnotations(currentTextMarkupAnnotations);\n        }\n        else if (currentTextMarkupAnnotations.length === 1) {\n            currentAnnot = currentTextMarkupAnnotations[0];\n        }\n        return currentAnnot;\n    };\n    TextMarkupAnnotation.prototype.compareCurrentAnnotations = function (annotations) {\n        var previousX;\n        var currentAnnotation = null;\n        for (var i = 0; i < annotations.length; i++) {\n            if (i === annotations.length - 1) {\n                break;\n            }\n            // tslint:disable-next-line\n            var firstAnnotBounds = annotations[i].bounds;\n            var firstXposition = firstAnnotBounds[0].left ? firstAnnotBounds[0].left : firstAnnotBounds[0].Left;\n            var firstYposition = firstAnnotBounds[0].top ? firstAnnotBounds[0].top : firstAnnotBounds[0].Top;\n            // tslint:disable-next-line\n            var secondAnnotBounds = annotations[i + 1].bounds;\n            var secondXposition = secondAnnotBounds[0].left ? secondAnnotBounds[0].left : secondAnnotBounds[0].Left;\n            var secondYposition = secondAnnotBounds[0].top ? secondAnnotBounds[0].top : secondAnnotBounds[0].Top;\n            if ((firstXposition < secondXposition) || (firstYposition < secondYposition)) {\n                previousX = secondXposition;\n                currentAnnotation = annotations[i + 1];\n            }\n            else {\n                previousX = firstXposition;\n                currentAnnotation = annotations[i];\n            }\n            if (previousX && (i === (annotations.length - 2))) {\n                if ((previousX === firstXposition) && (previousX === secondXposition)) {\n                    previousX = secondXposition;\n                    currentAnnotation = annotations[i + 1];\n                }\n            }\n        }\n        return currentAnnotation;\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.clearAnnotationSelection = function (pageNumber) {\n        var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        if (canvas) {\n            var context = canvas.getContext('2d');\n            context.setLineDash([]);\n            this.renderTextMarkupAnnotationsInPage(null, pageNumber);\n        }\n    };\n    TextMarkupAnnotation.prototype.selectAnnotation = function (annotation, canvas) {\n        for (var i = 0; i < annotation.bounds.length; i++) {\n            // tslint:disable-next-line\n            var bound = annotation.bounds[i];\n            var x = bound.left ? bound.left : bound.Left;\n            var y = bound.top ? bound.top : bound.Top;\n            var width = bound.width ? bound.width : bound.Width;\n            var height = bound.height ? bound.height : bound.Height;\n            // tslint:disable-next-line:max-line-length\n            this.drawAnnotationSelectRect(canvas, this.getMagnifiedValue(x - 0.5, this.pdfViewerBase.getZoomFactor()), this.getMagnifiedValue(y - 0.5, this.pdfViewerBase.getZoomFactor()), this.getMagnifiedValue(width + 0.5, this.pdfViewerBase.getZoomFactor()), this.getMagnifiedValue(height + 0.5, this.pdfViewerBase.getZoomFactor()));\n        }\n    };\n    TextMarkupAnnotation.prototype.drawAnnotationSelectRect = function (canvas, x, y, width, height) {\n        var context = canvas.getContext('2d');\n        context.beginPath();\n        context.setLineDash([4 * this.pdfViewerBase.getZoomFactor()]);\n        context.globalAlpha = 1;\n        context.rect(x, y, width, height);\n        context.closePath();\n        context.strokeStyle = '#0000ff';\n        context.stroke();\n        context.save();\n    };\n    TextMarkupAnnotation.prototype.enableAnnotationPropertiesTool = function (isEnable) {\n        // tslint:disable-next-line:max-line-length\n        if (this.pdfViewer.toolbarModule.annotationToolbarModule) {\n            this.pdfViewer.toolbarModule.annotationToolbarModule.createMobileAnnotationToolbar(isEnable);\n        }\n        // tslint:disable-next-line:max-line-length\n        if (this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.annotationToolbarModule && this.pdfViewer.toolbarModule.annotationToolbarModule.isMobileAnnotEnabled) {\n            if (this.pdfViewer.toolbarModule.annotationToolbarModule) {\n                this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(isEnable);\n                var enable = isEnable;\n                if (this.isTextMarkupAnnotationMode) {\n                    enable = true;\n                }\n                this.pdfViewer.toolbarModule.annotationToolbarModule.enableAnnotationPropertiesTools(enable);\n                if (this.currentTextMarkupAnnotation) {\n                    // tslint:disable-next-line:max-line-length\n                    this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElement, this.currentTextMarkupAnnotation.color);\n                }\n                else {\n                    if (!this.isTextMarkupAnnotationMode) {\n                        // tslint:disable-next-line:max-line-length\n                        this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElement, '#000000');\n                    }\n                    else {\n                        this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.maintainAnnotationSelection = function () {\n        if (this.currentTextMarkupAnnotation) {\n            var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + this.selectTextMarkupCurrentPage);\n            if (canvas) {\n                this.selectAnnotation(this.currentTextMarkupAnnotation, canvas);\n            }\n        }\n    };\n    TextMarkupAnnotation.prototype.storeAnnotations = function (pageNumber, annotation) {\n        // tslint:disable-next-line\n        var storeObject = window.sessionStorage.getItem(this.pdfViewerBase.documentId + '_annotations_textMarkup');\n        var index = 0;\n        if (!storeObject) {\n            var markupAnnotation = { pageIndex: pageNumber, annotations: [] };\n            markupAnnotation.annotations.push(annotation);\n            index = markupAnnotation.annotations.indexOf(annotation);\n            var annotationCollection = [];\n            annotationCollection.push(markupAnnotation);\n            var annotationStringified = JSON.stringify(annotationCollection);\n            window.sessionStorage.setItem(this.pdfViewerBase.documentId + '_annotations_textMarkup', annotationStringified);\n        }\n        else {\n            var annotObject = JSON.parse(storeObject);\n            window.sessionStorage.removeItem(this.pdfViewerBase.documentId + '_annotations_textMarkup');\n            var pageIndex = this.getPageCollection(annotObject, pageNumber);\n            if (annotObject[pageIndex]) {\n                annotObject[pageIndex].annotations.push(annotation);\n                index = annotObject[pageIndex].annotations.indexOf(annotation);\n            }\n            else {\n                var markupAnnotation = { pageIndex: pageNumber, annotations: [] };\n                markupAnnotation.annotations.push(annotation);\n                index = markupAnnotation.annotations.indexOf(annotation);\n                annotObject.push(markupAnnotation);\n            }\n            var annotationStringified = JSON.stringify(annotObject);\n            window.sessionStorage.setItem(this.pdfViewerBase.documentId + '_annotations_textMarkup', annotationStringified);\n        }\n        return index;\n    };\n    TextMarkupAnnotation.prototype.manageAnnotations = function (pageAnnotations, pageNumber) {\n        // tslint:disable-next-line\n        var storeObject = window.sessionStorage.getItem(this.pdfViewerBase.documentId + '_annotations_textMarkup');\n        if (storeObject) {\n            var annotObject = JSON.parse(storeObject);\n            window.sessionStorage.removeItem(this.pdfViewerBase.documentId + '_annotations_textMarkup');\n            var index = this.getPageCollection(annotObject, pageNumber);\n            if (annotObject[index]) {\n                annotObject[index].annotations = pageAnnotations;\n            }\n            var annotationStringified = JSON.stringify(annotObject);\n            window.sessionStorage.setItem(this.pdfViewerBase.documentId + '_annotations_textMarkup', annotationStringified);\n        }\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.getAnnotations = function (pageIndex, textMarkupAnnotations) {\n        // tslint:disable-next-line\n        var annotationCollection;\n        // tslint:disable-next-line\n        var storeObject = window.sessionStorage.getItem(this.pdfViewerBase.documentId + '_annotations_textMarkup');\n        if (storeObject) {\n            var annotObject = JSON.parse(storeObject);\n            var index = this.getPageCollection(annotObject, pageIndex);\n            if (annotObject[index]) {\n                annotationCollection = annotObject[index].annotations;\n            }\n            else {\n                annotationCollection = textMarkupAnnotations;\n            }\n        }\n        else {\n            annotationCollection = textMarkupAnnotations;\n        }\n        return annotationCollection;\n    };\n    TextMarkupAnnotation.prototype.getPageCollection = function (pageAnnotations, pageNumber) {\n        var index = null;\n        for (var i = 0; i < pageAnnotations.length; i++) {\n            if (pageAnnotations[i].pageIndex === pageNumber) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    // tslint:disable-next-line\n    TextMarkupAnnotation.prototype.getAddedAnnotation = function (type, color, opacity, bounds, author, subject, predefinedDate, note, rect, pageNumber) {\n        var date = new Date();\n        // tslint:disable-next-line:max-line-length\n        var modifiedDate = predefinedDate ? predefinedDate : date.toLocaleString();\n        // tslint:disable-next-line\n        var annotation = { textMarkupAnnotationType: type, color: color, opacity: opacity, bounds: bounds, author: author, subject: subject, modifiedDate: modifiedDate, note: note, rect: rect };\n        var storedIndex = this.storeAnnotations(pageNumber, annotation);\n        this.pdfViewer.annotationModule.addAction(pageNumber, storedIndex, annotation, 'Text Markup Added', null);\n        return annotation;\n    };\n    TextMarkupAnnotation.prototype.getPageContext = function (pageNumber) {\n        var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        var context = null;\n        if (canvas) {\n            context = canvas.getContext('2d');\n        }\n        return context;\n    };\n    TextMarkupAnnotation.prototype.getDefaultValue = function (value) {\n        return value / this.pdfViewerBase.getZoomFactor();\n    };\n    TextMarkupAnnotation.prototype.getMagnifiedValue = function (value, factor) {\n        return value * factor;\n    };\n    /**\n     * @private\n     */\n    TextMarkupAnnotation.prototype.clear = function () {\n        window.sessionStorage.removeItem(this.pdfViewerBase.documentId + '_annotations_textMarkup');\n    };\n    return TextMarkupAnnotation;\n}());\nexport { TextMarkupAnnotation };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { Toolbar as Tool } from '@syncfusion/ej2-navigations';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { Toast } from '@syncfusion/ej2-notifications';\n/**\n * The `NavigationPane` module is used to handle navigation pane for thumbnail and bookmark navigation of PDF viewer.\n * @hidden\n */\nvar NavigationPane = /** @class */ (function () {\n    function NavigationPane(viewer, base) {\n        var _this = this;\n        this.thumbnailWidthMin = 200;\n        this.contentContainerScrollWidth = 33;\n        this.closeButtonLeft = 170;\n        this.isBookmarkOpen = false;\n        this.isThumbnailOpen = false;\n        this.isTooltipCreated = false;\n        /**\n         * @private\n         */\n        this.isNavigationToolbarVisible = false;\n        /**\n         * @private\n         */\n        this.isBookmarkListOpen = false;\n        /**\n         * @private\n         */\n        this.isNavigationPaneResized = false;\n        this.resizeIconMouseOver = function (event) {\n            event.srcElement.style.cursor = 'default';\n        };\n        this.resizePanelMouseDown = function (event) {\n            var proxy = _this;\n            proxy.offset = [\n                proxy.sideBarResizer.offsetLeft - event.clientX,\n                proxy.sideBarResizer.offsetTop - event.clientY,\n                proxy.sideBarResizer.offsetParent.clientWidth\n            ];\n            _this.previousX = event.clientX;\n            proxy.isDown = true;\n            proxy.isNavigationPaneResized = true;\n            proxy.pdfViewerBase.viewerContainer.style.cursor = 'e-resize';\n            if (proxy.sideBarContentContainer) {\n                proxy.sideBarContentContainer.style.cursor = 'e-resize';\n            }\n        };\n        this.resizeViewerMouseLeave = function (event) {\n            var proxy = _this;\n            proxy.isDown = false;\n            if (proxy.isNavigationPaneResized && proxy.sideBarContentContainer) {\n                proxy.pdfViewerBase.viewerContainer.style.cursor = 'default';\n                proxy.sideBarContentContainer.style.cursor = 'default';\n                proxy.isNavigationPaneResized = false;\n            }\n        };\n        this.resizePanelMouseMove = function (event) {\n            var proxy = _this;\n            if (!_this.pdfViewerBase.getPopupNoteVisibleStatus()) {\n                event.preventDefault();\n                if (proxy.isDown && _this.sideBarContentContainer) {\n                    // prevent the sidebar from becoming too narrow, or from occupying more\n                    // than half of the available viewer width.\n                    if (_this.pdfViewer.enableRtl) {\n                        var currentWidth = _this.previousX - event.clientX;\n                        var width = currentWidth + proxy.offset[2];\n                        var maxWidth = Math.floor(_this.outerContainerWidth / 2);\n                        if (width > maxWidth) {\n                            width = maxWidth;\n                        }\n                        if (width < _this.thumbnailWidthMin) {\n                            width = _this.thumbnailWidthMin;\n                        }\n                        proxy.sideBarResizer.style.right = width + 'px';\n                        proxy.sideBarContentContainer.style.width = width + 'px';\n                        proxy.sideBarContent.style.width = width + 'px';\n                        proxy.sideBarContentSplitter.style.width = width + 'px';\n                        proxy.sideBarTitleContainer.style.width = width + 'px';\n                        // tslint:disable-next-line:max-line-length\n                        proxy.pdfViewerBase.viewerContainer.style.right = proxy.getViewerContainerLeft() + 'px';\n                    }\n                    else {\n                        var width = event.clientX + proxy.offset[0];\n                        var maxWidth = Math.floor(_this.outerContainerWidth / 2);\n                        if (width > maxWidth) {\n                            width = maxWidth;\n                        }\n                        if (width < _this.thumbnailWidthMin) {\n                            width = _this.thumbnailWidthMin;\n                        }\n                        proxy.sideBarResizer.style.left = width + 'px';\n                        proxy.closeDiv.style.left = width - proxy.contentContainerScrollWidth + 'px';\n                        proxy.sideBarContentContainer.style.width = width + 'px';\n                        proxy.sideBarContent.style.width = width + 'px';\n                        proxy.sideBarContentSplitter.style.width = width + 'px';\n                        proxy.sideBarTitleContainer.style.width = width + 'px';\n                        // tslint:disable-next-line:max-line-length\n                        proxy.pdfViewerBase.viewerContainer.style.left = proxy.getViewerContainerLeft() + 'px';\n                    }\n                    // tslint:disable-next-line:max-line-length\n                    var viewerWidth = (proxy.pdfViewer.element.clientWidth - proxy.getViewerContainerLeft());\n                    proxy.pdfViewerBase.viewerContainer.style.width = viewerWidth + 'px';\n                    proxy.pdfViewerBase.pageContainer.style.width = proxy.pdfViewerBase.viewerContainer.clientWidth + 'px';\n                    proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.pdfViewerBase.currentPageNumber - 1);\n                    proxy.pdfViewerBase.updateZoomValue();\n                    if (!proxy.bookmarkButton.children[0].classList.contains('e-pv-bookmark-disable-icon')) {\n                        proxy.pdfViewer.bookmarkViewModule.setBookmarkContentHeight();\n                    }\n                }\n            }\n        };\n        this.sideToolbarOnClose = function (event) {\n            var proxy = _this;\n            proxy.removeThumbnailSelectionIconTheme();\n            proxy.removeBookmarkSelectionIconTheme();\n            proxy.updateViewerContainerOnClose();\n        };\n        this.sideToolbarOnClick = function (event) {\n            _this.sideBarTitle.textContent = _this.pdfViewer.localeObj.getConstant('Page Thumbnails');\n            _this.sideBarContent.setAttribute('aria-label', 'Thumbnail View Panel');\n            _this.sideBarContent.focus();\n            var proxy = _this;\n            var bookmarkPane = document.getElementById(_this.pdfViewer.element.id + '_bookmark_view');\n            if (bookmarkPane) {\n                proxy.removeBookmarkSelectionIconTheme();\n                bookmarkPane.style.display = 'none';\n            }\n            document.getElementById(_this.pdfViewer.element.id + '_thumbnail_view').style.display = 'flex';\n            if (proxy.sideBarContentContainer) {\n                if (proxy.sideBarContentContainer.style.display !== 'none') {\n                    if (proxy.isBookmarkOpen) {\n                        proxy.isThumbnailOpen = true;\n                        proxy.setThumbnailSelectionIconTheme();\n                        _this.updateViewerContainerOnExpand();\n                    }\n                    else {\n                        proxy.isThumbnailOpen = false;\n                        proxy.removeThumbnailSelectionIconTheme();\n                        _this.updateViewerContainerOnClose();\n                    }\n                }\n                else {\n                    proxy.isThumbnailOpen = true;\n                    proxy.setThumbnailSelectionIconTheme();\n                    _this.updateViewerContainerOnExpand();\n                }\n            }\n            proxy.isBookmarkOpen = false;\n        };\n        this.bookmarkButtonOnClick = function (event) {\n            var proxy = _this;\n            document.getElementById(_this.pdfViewer.element.id + '_thumbnail_view').style.display = 'none';\n            _this.removeThumbnailSelectionIconTheme();\n            _this.sideBarTitle.textContent = _this.pdfViewer.localeObj.getConstant('Bookmarks');\n            _this.sideBarContent.setAttribute('aria-label', 'Bookmark View Panel');\n            _this.sideBarContent.focus();\n            _this.pdfViewer.bookmarkViewModule.renderBookmarkcontent();\n            if (_this.sideBarContentContainer) {\n                if (proxy.sideBarContentContainer.style.display !== 'none') {\n                    if (_this.isThumbnailOpen) {\n                        _this.setBookmarkSelectionIconTheme();\n                        _this.isBookmarkOpen = true;\n                        _this.updateViewerContainerOnExpand();\n                    }\n                    else {\n                        _this.removeBookmarkSelectionIconTheme();\n                        _this.isBookmarkOpen = false;\n                        _this.updateViewerContainerOnClose();\n                    }\n                }\n                else {\n                    _this.setBookmarkSelectionIconTheme();\n                    _this.isBookmarkOpen = true;\n                    _this.updateViewerContainerOnExpand();\n                }\n            }\n            _this.isThumbnailOpen = false;\n        };\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = base;\n    }\n    /**\n     * @private\n     */\n    NavigationPane.prototype.initializeNavigationPane = function () {\n        if (!Browser.isDevice) {\n            this.createNavigationPane();\n        }\n    };\n    NavigationPane.prototype.createNavigationPane = function () {\n        // tslint:disable-next-line:max-line-length\n        this.sideBarToolbar = createElement('div', { id: this.pdfViewer.element.id + '_sideBarToolbar', className: 'e-pv-sidebar-toolbar', attrs: { 'role': 'toolbar', 'aria-orientation': 'vertical', 'tabindex': '-1' } });\n        this.pdfViewerBase.mainContainer.appendChild(this.sideBarToolbar);\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarToolbar.style.cssFloat = 'right';\n            this.sideBarToolbar.style.right = 1 + 'px';\n            this.sideBarToolbar.style.position = 'relative';\n        }\n        // tslint:disable-next-line:max-line-length\n        var sideBarToolbarSplitter = createElement('div', { id: this.pdfViewer.element.id + '_sideBarToolbarSplitter', className: 'e-pv-sidebar-toolbar-splitter' });\n        this.pdfViewerBase.mainContainer.appendChild(sideBarToolbarSplitter);\n        if (this.pdfViewer.enableRtl) {\n            sideBarToolbarSplitter.classList.add('e-right');\n        }\n        else {\n            sideBarToolbarSplitter.classList.add('e-left');\n        }\n        // tslint:disable-next-line:max-line-length\n        this.sideBarContentContainer = createElement('div', { id: this.pdfViewer.element.id + '_sideBarContentContainer', className: 'e-pv-sidebar-content-container' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarContentContainer.classList.add('e-right');\n        }\n        else {\n            this.sideBarContentContainer.classList.add('e-left');\n        }\n        this.pdfViewerBase.mainContainer.appendChild(this.sideBarContentContainer);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarContentSplitter = createElement('div', { id: this.pdfViewer.element.id + '_sideBarContentSplitter', className: 'e-pv-sidebar-content-splitter' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarContentSplitter.style.right = 0 + 'px';\n        }\n        this.sideBarContentContainer.appendChild(this.sideBarContentSplitter);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarContent = createElement('div', { id: this.pdfViewer.element.id + '_sideBarContent', className: 'e-pv-sidebar-content', attrs: { 'tabindex': '0' } });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarContent.style.right = 0 + 'px';\n            this.sideBarContent.style.direction = 'rtl';\n        }\n        this.sideBarContentContainer.appendChild(this.sideBarContent);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarTitleContainer = createElement('div', { id: this.pdfViewer.element.id + '_sideBarTitleContainer', className: 'e-pv-sidebar-title-container' });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarTitleContainer.style.right = 0 + 'px';\n        }\n        // tslint:disable-next-line:max-line-length\n        this.sideBarTitle = createElement('div', { id: this.pdfViewer.element.id + '_sideBarTitle', className: 'e-pv-sidebar-title', attrs: { 'tabindex': '-1' } });\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarTitle.classList.add('e-right');\n        }\n        else {\n            this.sideBarTitle.classList.add('e-left');\n        }\n        this.sideBarTitleContainer.appendChild(this.sideBarTitle);\n        this.sideBarContentContainer.appendChild(this.sideBarTitleContainer);\n        // tslint:disable-next-line:max-line-length\n        this.sideBarResizer = createElement('div', { id: this.pdfViewer.element.id + '_sideBarResizer', className: 'e-pv-sidebar-resizer' });\n        this.sideBarResizer.addEventListener('mousedown', this.resizePanelMouseDown);\n        this.pdfViewerBase.mainContainer.addEventListener('mousemove', this.resizePanelMouseMove);\n        this.pdfViewerBase.mainContainer.addEventListener('mouseup', this.resizeViewerMouseLeave);\n        if (this.pdfViewer.enableRtl) {\n            this.sideBarResizer.classList.add('e-right');\n        }\n        else {\n            this.sideBarResizer.classList.add('e-left');\n        }\n        this.sideBarContentContainer.appendChild(this.sideBarResizer);\n        // tslint:disable-next-line:max-line-length\n        var controlLeft = this.getViewerContainerLeft();\n        if (!this.pdfViewer.enableRtl) {\n            this.pdfViewerBase.viewerContainer.style.left = controlLeft + 'px';\n        }\n        this.pdfViewerBase.viewerContainer.style.width = (this.pdfViewer.element.clientWidth - controlLeft) + 'px';\n        this.sideBarContentContainer.style.display = 'none';\n        this.createSidebarToolBar();\n        this.createSidebarTitleCloseButton();\n        this.createResizeIcon();\n        this.sideBarToolbar.addEventListener('mouseup', this.sideToolbarOnMouseup.bind(this));\n        this.sideBarContentContainer.addEventListener('mouseup', this.sideBarTitleOnMouseup.bind(this));\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.adjustPane = function () {\n        var splitterElement = this.pdfViewerBase.getElement('_sideBarToolbarSplitter');\n        var toolbarContainer = this.pdfViewerBase.getElement('_toolbarContainer');\n        var toolbarHeight = toolbarContainer.getBoundingClientRect().height;\n        // tslint:disable-next-line:max-line-length\n        this.sideBarToolbar.style.top = toolbarHeight + 'px';\n        this.sideBarContentContainer.style.top = toolbarHeight + 'px';\n        splitterElement.style.top = toolbarHeight + 'px';\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.createNavigationPaneMobile = function (option) {\n        var _this = this;\n        this.isNavigationToolbarVisible = true;\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_navigationToolbar', className: 'e-pv-nav-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.insertBefore(this.toolbarElement, this.pdfViewerBase.viewerContainer);\n        var items;\n        if (option === 'search') {\n            var searchTemplate = '<div class=\"e-input-group e-pv-search-input-mobile\" id=\"' + this.pdfViewer.element.id +\n                '_search_input_container\"><input class=\"e-input\" type=\"text\" placeholder=\"' +\n                this.pdfViewer.localeObj.getConstant('Find in document') + '\" id=\"' +\n                this.pdfViewer.element.id + '_search_input\"></input></div>';\n            items = [\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-backward-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Go Back'), id: this.pdfViewer.element.id + '_backward', click: this.goBackToToolbar.bind(this) },\n                { template: searchTemplate },\n                {\n                    prefixIcon: 'e-pv-search-icon e-pv-icon', id: this.pdfViewer.element.id + '_search_box-icon',\n                    click: function () {\n                        var iconElement = _this.pdfViewerBase.getElement('_search_box-icon').firstElementChild;\n                        if (iconElement.classList.contains('e-pv-search-close')) {\n                            _this.enableSearchItems(false);\n                        }\n                        _this.pdfViewer.textSearchModule.searchButtonClick(iconElement, _this.searchInput);\n                    }\n                },\n                {\n                    prefixIcon: 'e-pv-prev-search-icon e-pv-icon', id: this.pdfViewer.element.id + '_prev_occurrence',\n                    click: function (args) {\n                        _this.pdfViewer.textSearchModule.searchPrevious();\n                    }\n                },\n                {\n                    prefixIcon: 'e-pv-next-search-icon e-pv-icon', id: this.pdfViewer.element.id + '_next_occurrence',\n                    click: function (args) {\n                        _this.pdfViewer.textSearchModule.searchNext();\n                    }\n                }\n            ];\n        }\n        else {\n            items = [\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-backward-icon e-pv-icon', id: this.pdfViewer.element.id + '_backward', click: this.goBackToToolbar.bind(this) },\n                { text: this.pdfViewer.localeObj.getConstant('Bookmarks') }\n            ];\n        }\n        this.toolbar = new Tool({ items: items, width: '', height: '', overflowMode: 'Popup' });\n        if (this.pdfViewer.enableRtl) {\n            this.toolbar.enableRtl = true;\n        }\n        this.toolbar.appendTo(this.toolbarElement);\n        if (option === 'search') {\n            this.initiateSearchBox();\n        }\n        else {\n            this.initiateBookmarks();\n        }\n    };\n    NavigationPane.prototype.initiateSearchBox = function () {\n        var _this = this;\n        this.searchInput = this.pdfViewerBase.getElement('_search_input');\n        this.pdfViewer.textSearchModule.searchBtn = this.pdfViewerBase.getElement('_search_box-icon').firstElementChild;\n        this.searchInput.addEventListener('keyup', function (event) {\n            _this.enableSearchItems(true);\n            var searchString = _this.searchInput.value;\n            if (event.which === 13) {\n                _this.initiateTextSearch();\n            }\n            else {\n                _this.pdfViewer.textSearchModule.resetVariables();\n            }\n        });\n        this.pdfViewer.textSearchModule.searchInput = this.searchInput;\n        this.setSearchInputWidth();\n        this.enableSearchItems(false);\n        this.searchInput.focus();\n    };\n    NavigationPane.prototype.enableSearchItems = function (isEnable) {\n        this.toolbar.enableItems(this.pdfViewerBase.getElement('_prev_occurrence').parentElement, isEnable);\n        this.toolbar.enableItems(this.pdfViewerBase.getElement('_next_occurrence').parentElement, isEnable);\n    };\n    NavigationPane.prototype.initiateBookmarks = function () {\n        if (Browser.isDevice) {\n            this.pdfViewerBase.mobileScrollerContainer.style.display = 'none';\n        }\n        // tslint:disable-next-line:max-line-length\n        var bookmarkContainer = createElement('div', { id: this.pdfViewer.element.id + '_bookmarks_container', className: 'e-pv-bookmark-container' });\n        bookmarkContainer.style.width = '100%';\n        bookmarkContainer.style.height = this.pdfViewerBase.viewerContainer.style.height;\n        this.pdfViewerBase.getElement('_viewerMainContainer').appendChild(bookmarkContainer);\n        this.pdfViewerBase.viewerContainer.style.display = 'none';\n        this.isBookmarkListOpen = true;\n        this.pdfViewer.bookmarkViewModule.renderBookmarkContentMobile();\n    };\n    NavigationPane.prototype.initiateTextSearch = function () {\n        var inputString = this.searchInput.value;\n        this.pdfViewer.textSearchModule.initiateSearch(inputString);\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.goBackToToolbar = function () {\n        this.isNavigationToolbarVisible = false;\n        this.pdfViewer.textSearchModule.cancelTextSearch();\n        this.searchInput = null;\n        if (this.pdfViewer.bookmarkViewModule.childNavigateCount !== 0) {\n            this.pdfViewer.bookmarkViewModule.bookmarkList.back();\n            this.pdfViewer.bookmarkViewModule.childNavigateCount--;\n        }\n        else {\n            if (this.toolbar != null) {\n                this.toolbar.destroy();\n                this.toolbar = null;\n            }\n            var bookmarkContainer = this.pdfViewerBase.getElement('_bookmarks_container');\n            if (bookmarkContainer) {\n                bookmarkContainer.parentElement.removeChild(bookmarkContainer);\n                if (Browser.isDevice) {\n                    this.pdfViewerBase.mobileScrollerContainer.style.display = '';\n                }\n            }\n            if (this.toolbarElement && this.toolbarElement.parentElement != null) {\n                this.toolbarElement.parentElement.removeChild(this.toolbarElement);\n            }\n            this.pdfViewerBase.viewerContainer.style.display = 'block';\n            this.isBookmarkListOpen = false;\n            if (!this.pdfViewer.toolbar.annotationToolbarModule.isMobileAnnotEnabled) {\n                this.pdfViewer.toolbarModule.showToolbar(true);\n                this.pdfViewerBase.onWindowResize();\n            }\n        }\n    };\n    NavigationPane.prototype.setSearchInputWidth = function () {\n        var searchInputParent = this.searchInput.parentElement;\n        var padding = window.getComputedStyle(searchInputParent.parentElement, null).getPropertyValue('padding-left');\n        // tslint:disable-next-line:max-line-length\n        var width = this.toolbarElement.clientWidth - this.getParentElementSearchBox('_backward').clientWidth\n            - this.getParentElementSearchBox('_search_box-icon').clientWidth - this.getParentElementSearchBox('_prev_occurrence').clientWidth\n            - this.getParentElementSearchBox('_next_occurrence').clientWidth - 6;\n        if (padding !== '') {\n            width = width - (parseFloat(padding) * 2);\n        }\n        searchInputParent.style.width = width + 'px';\n    };\n    NavigationPane.prototype.getParentElementSearchBox = function (idString) {\n        return this.pdfViewerBase.getElement(idString).parentElement;\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.createTooltipMobile = function (text) {\n        if (!this.isTooltipCreated) { //boolean to prevent again toast creation.\n            // tslint:disable-next-line:max-line-length\n            var tooltipDiv = createElement('div', { className: 'e-pv-container-tooltip', id: this.pdfViewer.element.id + '_container_tooltip' });\n            this.pdfViewer.element.appendChild(tooltipDiv);\n            // tslint:disable-next-line:max-line-length\n            this.toastObject = new Toast({ title: text, target: this.pdfViewer.element, close: this.onTooltipClose.bind(this), position: { X: 0, Y: 0 }, animation: { hide: { duration: 200, effect: 'FadeOut' } } });\n            this.toastObject.appendTo(tooltipDiv);\n            var y = this.pdfViewer.element.clientHeight * 0.65;\n            var x = (this.pdfViewer.element.clientWidth - tooltipDiv.clientWidth) / 2;\n            this.isTooltipCreated = true;\n            this.toastObject.show({ position: { X: x, Y: y } });\n            var tooltipChild = tooltipDiv.firstElementChild;\n            if (tooltipChild) {\n                tooltipChild.style.width = 'auto';\n            }\n        }\n        else {\n            if (this.toastObject) {\n                this.toastObject.title = text;\n                var tooltipElement = this.pdfViewerBase.getElement('_container_tooltip');\n                var tooltipChild = tooltipElement.firstElementChild;\n                if (tooltipChild) {\n                    tooltipChild.style.width = 'auto';\n                    tooltipChild.firstElementChild.firstElementChild.textContent = text;\n                }\n            }\n        }\n    };\n    NavigationPane.prototype.onTooltipClose = function (args) {\n        this.isTooltipCreated = false;\n        var tooltipElement = this.pdfViewerBase.getElement('_container_tooltip');\n        this.pdfViewer.textSearchModule.isMessagePopupOpened = false;\n        this.toastObject.destroy();\n        tooltipElement.parentElement.removeChild(tooltipElement);\n        this.toastObject = null;\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.toolbarResize = function () {\n        if (this.searchInput) {\n            this.searchInput.style.width = 'auto';\n            this.setSearchInputWidth();\n        }\n    };\n    NavigationPane.prototype.createSidebarToolBar = function () {\n        // tslint:disable-next-line:max-line-length\n        this.thumbnailButton = createElement('button', { id: this.pdfViewer.element.id + '_thumbnail-view', attrs: { 'disabled': 'disabled', 'aria-label': 'Page Thumbnails', 'tabindex': '-1' } });\n        this.thumbnailButton.className = 'e-pv-tbar-btn e-pv-thumbnail-view-button e-btn';\n        // tslint:disable-next-line:max-line-length\n        var thumbnailButtonSpan = createElement('span', { id: this.pdfViewer.element.id + '_thumbnail-view' + '_icon', className: 'e-pv-thumbnail-view-disable-icon e-pv-icon' });\n        this.thumbnailButton.appendChild(thumbnailButtonSpan);\n        // tslint:disable-next-line:max-line-length\n        var thumbnailTooltip = new Tooltip({ content: this.pdfViewer.localeObj.getConstant('Page Thumbnails'), opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n        thumbnailTooltip.appendTo(this.thumbnailButton);\n        // tslint:disable-next-line:max-line-length\n        this.bookmarkButton = createElement('button', { id: this.pdfViewer.element.id + '_bookmark', attrs: { 'disabled': 'disabled', 'aria-label': 'Bookmarks', 'tabindex': '-1' } });\n        this.bookmarkButton.className = 'e-pv-tbar-btn e-pv-bookmark-button e-btn';\n        // tslint:disable-next-line:max-line-length\n        var buttonSpan = createElement('span', { id: this.pdfViewer.element.id + '_bookmark' + '_icon', className: 'e-pv-bookmark-disable-icon e-pv-icon' });\n        this.bookmarkButton.appendChild(buttonSpan);\n        // tslint:disable-next-line:max-line-length\n        var bookMarkTooltip = new Tooltip({ content: this.pdfViewer.localeObj.getConstant('Bookmarks'), opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n        bookMarkTooltip.appendTo(this.bookmarkButton);\n        this.sideBarToolbar.appendChild(this.thumbnailButton);\n        this.sideBarToolbar.appendChild(this.bookmarkButton);\n        this.thumbnailButton.addEventListener('click', this.sideToolbarOnClick);\n        this.bookmarkButton.addEventListener('click', this.bookmarkButtonOnClick);\n    };\n    NavigationPane.prototype.onTooltipBeforeOpen = function (args) {\n        if (!this.pdfViewer.toolbarSettings.showTooltip) {\n            args.cancel = true;\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.enableThumbnailButton = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.removeAttribute('disabled');\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-disable-icon');\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-icon');\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.enableBookmarkButton = function () {\n        if (this.bookmarkButton) {\n            this.bookmarkButton.removeAttribute('disabled');\n            this.bookmarkButton.children[0].classList.remove('e-pv-bookmark-disable-icon');\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-icon');\n        }\n    };\n    NavigationPane.prototype.createSidebarTitleCloseButton = function () {\n        this.closeDiv = createElement('button', { id: this.pdfViewer.element.id + '_close_btn' });\n        this.closeDiv.className = 'e-btn e-pv-tbar-btn e-pv-title-close-div e-btn';\n        if (this.pdfViewer.enableRtl) {\n            this.closeDiv.style.left = 8 + 'px';\n        }\n        else {\n            this.closeDiv.style.left = this.closeButtonLeft + 'px';\n        }\n        // tslint:disable-next-line:max-line-length\n        var buttonSpan = createElement('span', { id: this.pdfViewer.element.id + '_close' + '_icon', className: 'e-pv-title-close-icon e-pv-icon' });\n        this.closeDiv.appendChild(buttonSpan);\n        this.sideBarTitleContainer.appendChild(this.closeDiv);\n        this.closeDiv.addEventListener('click', this.sideToolbarOnClose);\n    };\n    NavigationPane.prototype.createResizeIcon = function () {\n        // tslint:disable-next-line:max-line-length\n        var resizeIcon = createElement('div', { id: this.pdfViewer.element.id + '_resize', className: 'e-pv-resize-icon e-pv-icon' });\n        resizeIcon.style.top = (this.sideBarToolbar.clientHeight) / 2 + 'px';\n        resizeIcon.style.position = 'absolute';\n        resizeIcon.addEventListener('click', this.sideToolbarOnClose);\n        resizeIcon.addEventListener('mouseover', this.resizeIconMouseOver);\n        this.sideBarResizer.appendChild(resizeIcon);\n    };\n    Object.defineProperty(NavigationPane.prototype, \"outerContainerWidth\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (!this.mainContainerWidth) {\n                this.mainContainerWidth = this.pdfViewerBase.mainContainer.clientWidth;\n            }\n            return this.mainContainerWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigationPane.prototype, \"sideToolbarWidth\", {\n        /**\n         *  @private\n         */\n        get: function () {\n            if (this.sideBarToolbar) {\n                return this.sideBarToolbar.clientWidth;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigationPane.prototype, \"sideBarContentContainerWidth\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.sideBarContentContainer) {\n                return this.sideBarContentContainer.clientWidth;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    NavigationPane.prototype.updateViewerContainerOnClose = function () {\n        var proxy = this;\n        if (proxy.sideBarContentContainer) {\n            proxy.sideBarContentContainer.style.display = 'none';\n            if (this.pdfViewer.enableRtl) {\n                proxy.pdfViewerBase.viewerContainer.style.right = (proxy.sideToolbarWidth) + 'px';\n            }\n            else {\n                proxy.pdfViewerBase.viewerContainer.style.left = (proxy.sideToolbarWidth) + 'px';\n            }\n            proxy.pdfViewerBase.viewerContainer.style.width = (proxy.pdfViewer.element.clientWidth - proxy.sideToolbarWidth) + 'px';\n            proxy.pdfViewerBase.pageContainer.style.width = proxy.pdfViewerBase.viewerContainer.clientWidth + 'px';\n            proxy.pdfViewerBase.updateZoomValue();\n        }\n    };\n    NavigationPane.prototype.updateViewerContainerOnExpand = function () {\n        var proxy = this;\n        if (proxy.sideBarContentContainer) {\n            proxy.sideBarContentContainer.style.display = 'block';\n            if (this.pdfViewer.enableRtl) {\n                // tslint:disable-next-line:max-line-length\n                proxy.pdfViewerBase.viewerContainer.style.right = proxy.getViewerContainerLeft() + 'px';\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                proxy.pdfViewerBase.viewerContainer.style.left = proxy.getViewerContainerLeft() + 'px';\n            }\n            // tslint:disable-next-line:max-line-length\n            proxy.pdfViewerBase.viewerContainer.style.width = (proxy.pdfViewer.element.clientWidth - this.getViewerContainerLeft()) + 'px';\n            proxy.pdfViewerBase.pageContainer.style.width = proxy.pdfViewerBase.viewerContainer.clientWidth + 'px';\n            proxy.pdfViewerBase.updateZoomValue();\n            proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.pdfViewerBase.currentPageNumber - 1);\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.getViewerContainerLeft = function () {\n        return (this.sideToolbarWidth + this.sideBarContentContainerWidth);\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.getViewerMainContainerWidth = function () {\n        return this.pdfViewer.element.clientWidth - this.sideToolbarWidth;\n    };\n    NavigationPane.prototype.setThumbnailSelectionIconTheme = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-icon');\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-selection-icon');\n            this.thumbnailButton.classList.add('e-pv-thumbnail-view-button-selection');\n        }\n    };\n    NavigationPane.prototype.removeThumbnailSelectionIconTheme = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-icon');\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-selection-icon');\n            this.thumbnailButton.classList.remove('e-pv-thumbnail-view-button-selection');\n        }\n    };\n    NavigationPane.prototype.resetThumbnailIcon = function () {\n        if (this.thumbnailButton) {\n            this.thumbnailButton.children[0].classList.remove('e-pv-thumbnail-view-icon');\n            this.thumbnailButton.children[0].classList.add('e-pv-thumbnail-view-disable-icon');\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.resetThumbnailView = function () {\n        if (this.sideBarContentContainer) {\n            this.sideBarContentContainer.style.display = 'none';\n            if (this.pdfViewer.enableRtl) {\n                this.pdfViewerBase.viewerContainer.style.left = 1 + 'px';\n            }\n            else {\n                this.pdfViewerBase.viewerContainer.style.left = (this.sideToolbarWidth) + 'px';\n            }\n            this.pdfViewerBase.viewerContainer.style.width = (this.pdfViewer.element.clientWidth - this.sideToolbarWidth) + 'px';\n            this.pdfViewerBase.pageContainer.style.width = this.pdfViewerBase.viewerContainer.clientWidth + 'px';\n            this.thumbnailButton.setAttribute('disabled', 'disabled');\n            this.removeThumbnailSelectionIconTheme();\n            this.resetThumbnailIcon();\n        }\n    };\n    NavigationPane.prototype.setBookmarkSelectionIconTheme = function () {\n        if (this.bookmarkButton) {\n            this.bookmarkButton.children[0].classList.remove('e-pv-bookmark-icon');\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-selection-icon');\n            this.bookmarkButton.classList.add('e-pv-bookmark-button-selection');\n        }\n    };\n    NavigationPane.prototype.removeBookmarkSelectionIconTheme = function () {\n        if (this.bookmarkButton) {\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-icon');\n            this.bookmarkButton.children[0].classList.remove('e-pv-bookmark-selection-icon');\n            this.bookmarkButton.classList.remove('e-pv-bookmark-button-selection');\n        }\n    };\n    NavigationPane.prototype.sideToolbarOnMouseup = function (event) {\n        if (event.target === this.sideBarToolbar) {\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    NavigationPane.prototype.sideBarTitleOnMouseup = function (event) {\n        this.pdfViewerBase.focusViewerContainer();\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.disableBookmarkButton = function () {\n        if (this.sideBarContentContainer) {\n            this.sideBarContentContainer.style.display = 'none';\n            this.bookmarkButton.setAttribute('disabled', 'disabled');\n            this.bookmarkButton.children[0].classList.add('e-pv-bookmark-disable-icon');\n        }\n    };\n    /**\n     * @private\n     */\n    NavigationPane.prototype.clear = function () {\n        this.removeBookmarkSelectionIconTheme();\n        this.removeThumbnailSelectionIconTheme();\n    };\n    NavigationPane.prototype.getModuleName = function () {\n        return 'NavigationPane';\n    };\n    return NavigationPane;\n}());\nexport { NavigationPane };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { createElement, Browser } from '@syncfusion/ej2-base';\nimport { Dialog, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TextLayer, ContextMenu } from '../index';\nimport { NavigationPane } from './navigation-pane';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\n/**\n * The `PdfViewerBase` module is used to handle base methods of PDF viewer.\n * @hidden\n */\nvar PdfViewerBase = /** @class */ (function () {\n    function PdfViewerBase(viewer) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.pageSize = [];\n        /**\n         * @private\n         */\n        this.pageCount = 0;\n        /**\n         * @private\n         */\n        this.currentPageNumber = 0;\n        this.isDocumentLoaded = false;\n        /**\n         * @private\n         */\n        this.isDocumentEdited = false;\n        /**\n         * @private\n         */\n        this.renderedPagesList = [];\n        /**\n         * @private\n         */\n        this.pageGap = 8;\n        this.pageLeft = 5;\n        this.sessionLimit = 1000;\n        this.pageStopValue = 300;\n        /**\n         * @private\n         */\n        this.toolbarHeight = 56;\n        this.pageLimit = 0;\n        this.previousPage = 0;\n        this.isViewerMouseDown = false;\n        this.isViewerMouseWheel = false;\n        this.scrollPosition = 0;\n        this.sessionStorage = [];\n        this.pointerCount = 0;\n        this.pointersForTouch = [];\n        this.isPasswordAvailable = false;\n        /**\n         * @private\n         */\n        this.reRenderedCount = 0;\n        this.mouseX = 0;\n        this.mouseY = 0;\n        this.touchClientX = 0;\n        this.touchClientY = 0;\n        this.previousTime = 0;\n        this.currentTime = 0;\n        this.isTouchScrolled = false;\n        this.isLongTouchPropagated = false;\n        // tslint:disable-next-line\n        this.longTouchTimer = null;\n        this.isViewerContainerDoubleClick = false;\n        // tslint:disable-next-line\n        this.dblClickTimer = null;\n        /**\n         * @private\n         */\n        this.pinchZoomStorage = [];\n        /**\n         * @private\n         */\n        this.isTextSelectionDisabled = false;\n        /**\n         * @private\n         */\n        this.isPanMode = false;\n        this.dragX = 0;\n        this.dragY = 0;\n        this.isScrollbarMouseDown = false;\n        this.scrollX = 0;\n        this.scrollY = 0;\n        this.ispageMoved = false;\n        this.isThumb = false;\n        this.isTapHidden = false;\n        // tslint:disable-next-line\n        this.singleTapTimer = null;\n        this.tapCount = 0;\n        /**\n         * @private\n         */\n        this.onWindowResize = function () {\n            var proxy = _this;\n            if (_this.pdfViewer.enableRtl) {\n                // tslint:disable-next-line:max-line-length\n                proxy.viewerContainer.style.right = (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0) + 'px';\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                proxy.viewerContainer.style.left = (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0) + 'px';\n            }\n            // tslint:disable-next-line:max-line-length\n            var viewerWidth = (proxy.pdfViewer.element.clientWidth - (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0));\n            proxy.viewerContainer.style.width = viewerWidth + 'px';\n            if (proxy.pdfViewer.toolbarModule) {\n                var toolbarHeight = proxy.getElement('_toolbarContainer').getBoundingClientRect().height;\n                if (proxy.isAnnotationToolbarHidden() || Browser.isDevice) {\n                    // tslint:disable-next-line:max-line-length\n                    proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, toolbarHeight);\n                }\n                else {\n                    var annotationToolbarHeight = proxy.getElement('_annotation_toolbar').getBoundingClientRect().height;\n                    // tslint:disable-next-line:max-line-length\n                    proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, toolbarHeight + annotationToolbarHeight);\n                }\n            }\n            else {\n                proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, 0);\n            }\n            if (proxy.pdfViewer.bookmarkViewModule && Browser.isDevice) {\n                var bookmarkContainer = proxy.getElement('_bookmarks_container');\n                if (bookmarkContainer) {\n                    bookmarkContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, 0);\n                }\n            }\n            proxy.pageContainer.style.width = proxy.viewerContainer.clientWidth + 'px';\n            if (proxy.pdfViewer.toolbarModule) {\n                // tslint:disable-next-line:max-line-length\n                proxy.pdfViewer.toolbarModule.onToolbarResize((proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerMainContainerWidth() : proxy.pdfViewer.element.clientWidth));\n            }\n            if (_this.pdfViewer.enableToolbar && _this.pdfViewer.thumbnailViewModule) {\n                proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.currentPageNumber - 1);\n            }\n            if (proxy.pdfViewer.textSearchModule && !Browser.isDevice) {\n                proxy.pdfViewer.textSearchModule.textSearchBoxOnResize();\n            }\n            if (!proxy.navigationPane.isBookmarkListOpen) {\n                proxy.updateZoomValue();\n            }\n            if (Browser.isDevice) {\n                proxy.mobileScrollerContainer.style.left = (viewerWidth - parseFloat(proxy.mobileScrollerContainer.style.width)) + 'px';\n                proxy.mobilePageNoContainer.style.left = (viewerWidth / 2) - (parseFloat(proxy.mobilePageNoContainer.style.width) / 2) + 'px';\n                proxy.mobilePageNoContainer.style.top = (proxy.pdfViewer.element.clientHeight / 2) + 'px';\n                proxy.updateMobileScrollerPosition();\n            }\n        };\n        this.viewerContainerOnMousedown = function (event) {\n            if (event.button === 0 && !_this.getPopupNoteVisibleStatus()) {\n                _this.isViewerMouseDown = true;\n                if (event.detail === 1) {\n                    _this.focusViewerContainer();\n                }\n                _this.scrollPosition = _this.viewerContainer.scrollTop / _this.getZoomFactor();\n                _this.mouseX = event.clientX;\n                _this.mouseY = event.clientY;\n                // tslint:disable-next-line\n                var isIE = !!document.documentMode;\n                if (_this.pdfViewer.textSelectionModule && !_this.isClickedOnScrollBar(event) && !_this.isTextSelectionDisabled) {\n                    if (!isIE) {\n                        event.preventDefault();\n                    }\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                }\n            }\n            if (_this.isPanMode) {\n                _this.dragX = event.pageX;\n                _this.dragY = event.pageY;\n                // tslint:disable-next-line:max-line-length\n                if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer) && _this.isPanMode) {\n                    _this.viewerContainer.style.cursor = 'grabbing';\n                }\n            }\n        };\n        this.viewerContainerOnMouseup = function (event) {\n            if (!_this.getPopupNoteVisibleStatus()) {\n                if (_this.isViewerMouseDown) {\n                    if (_this.scrollHoldTimer) {\n                        clearTimeout(_this.scrollHoldTimer);\n                        _this.scrollHoldTimer = null;\n                    }\n                    if ((_this.scrollPosition * _this.getZoomFactor()) !== _this.viewerContainer.scrollTop) {\n                        _this.pageViewScrollChanged(_this.currentPageNumber);\n                    }\n                }\n                if (event.button === 0) {\n                    // 0 is for left button.\n                    var eventTarget = event.target;\n                    if (eventTarget.classList.contains('e-pv-page-canvas')) {\n                        var idStringArray = eventTarget.id.split('_');\n                        // tslint:disable-next-line\n                        _this.pdfViewer.firePageClick(event.offsetX, event.offsetY, parseInt(idStringArray[idStringArray.length - 1]) + 1);\n                    }\n                    if (_this.isTextMarkupAnnotationModule()) {\n                        _this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseUp(event);\n                    }\n                    // tslint:disable-next-line:max-line-length\n                    if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer) && _this.isPanMode) {\n                        _this.viewerContainer.style.cursor = 'move';\n                        _this.viewerContainer.style.cursor = '-webkit-grab';\n                        _this.viewerContainer.style.cursor = '-moz-grab';\n                        _this.viewerContainer.style.cursor = 'grab';\n                    }\n                }\n                _this.isViewerMouseDown = false;\n            }\n        };\n        this.viewerContainerOnMouseWheel = function (event) {\n            _this.isViewerMouseWheel = true;\n            if (_this.getRerenderCanvasCreated()) {\n                event.preventDefault();\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.pageRerenderOnMouseWheel();\n                if (event.ctrlKey) {\n                    event.preventDefault();\n                }\n                _this.pdfViewer.magnificationModule.fitPageScrollMouseWheel(event);\n            }\n            if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                if (_this.isViewerMouseDown) {\n                    if (!event.target.classList.contains('e-pv-text')) {\n                        _this.pdfViewer.textSelectionModule.textSelectionOnMouseWheel(_this.currentPageNumber - 1);\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnKeyDown = function (event) {\n            var isMac = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) ? true : false;\n            var isCommandKey = isMac ? event.metaKey : false;\n            if (event.ctrlKey || isCommandKey) {\n                // add keycodes if shift key is used.\n                if ((event.shiftKey && !isMac) || (isMac && !event.shiftKey)) {\n                    switch (event.keyCode) {\n                        case 38: // up arrow\n                        case 33: // page up\n                            event.preventDefault();\n                            if (_this.currentPageNumber !== 1) {\n                                _this.updateScrollTop(0);\n                            }\n                            break;\n                        case 40: // down arrow\n                        case 34: // page down\n                            event.preventDefault();\n                            if (_this.currentPageNumber !== _this.pageCount) {\n                                _this.updateScrollTop(_this.pageCount - 1);\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                }\n                switch (event.keyCode) {\n                    case 79: // o key\n                        if (_this.pdfViewer.toolbarModule && _this.pdfViewer.enableToolbar) {\n                            _this.pdfViewer.toolbarModule.openFileDialogBox(event);\n                        }\n                        break;\n                    case 67: // c key\n                        if (_this.pdfViewer.textSelectionModule && _this.pdfViewer.enableTextSelection && !_this.isTextSelectionDisabled) {\n                            event.preventDefault();\n                            _this.pdfViewer.textSelectionModule.copyText();\n                        }\n                        break;\n                    case 70: // f key\n                        if (_this.pdfViewer.textSearchModule && _this.pdfViewer.enableTextSearch) {\n                            event.preventDefault();\n                            _this.pdfViewer.toolbarModule.textSearchButtonHandler();\n                        }\n                        break;\n                    case 90: //z key\n                        if (_this.pdfViewer.annotationModule) {\n                            _this.pdfViewer.annotationModule.undo();\n                        }\n                        break;\n                    case 89: //y key\n                        if (_this.pdfViewer.annotationModule) {\n                            _this.pdfViewer.annotationModule.redo();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else {\n                switch (event.keyCode) {\n                    case 46:\n                        if (_this.isTextMarkupAnnotationModule() && !_this.getPopupNoteVisibleStatus()) {\n                            _this.pdfViewer.annotationModule.textMarkupAnnotationModule.deleteTextMarkupAnnotation();\n                        }\n                }\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.magnifyBehaviorKeyDown(event);\n            }\n        };\n        this.viewerContainerOnMousemove = function (event) {\n            _this.mouseX = event.clientX;\n            _this.mouseY = event.clientY;\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (_this.isViewerMouseDown) {\n                // tslint:disable-next-line:max-line-length\n                if (_this.pdfViewer.textSelectionModule && _this.pdfViewer.enableTextSelection && !_this.isTextSelectionDisabled && !_this.getPopupNoteVisibleStatus()) {\n                    // text selection won't perform if we start the selection from hyperlink content by commenting this line.\n                    // this region block the toc/hyperlink navigation on sometimes.\n                    // if ((event.target as HTMLElement).classList.contains('e-pv-hyperlink') && this.pdfViewer.linkAnnotationModule) {\n                    // this.pdfViewer.linkAnnotationModule.modifyZindexForHyperlink((event.target as HTMLElement), true);\n                    // }\n                    if (!isIE) {\n                        event.preventDefault();\n                        _this.pdfViewer.textSelectionModule.textSelectionOnMouseMove(event.target, _this.mouseX, _this.mouseY);\n                    }\n                    else {\n                        var selection = window.getSelection();\n                        if (!selection.type && !selection.isCollapsed && selection.anchorNode !== null) {\n                            _this.pdfViewer.textSelectionModule.isTextSelection = true;\n                        }\n                    }\n                }\n                else {\n                    event.preventDefault();\n                }\n            }\n            if (_this.isTextMarkupAnnotationModule() && !_this.getPopupNoteVisibleStatus()) {\n                _this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseMove(event);\n            }\n            if (_this.isPanMode) {\n                _this.panOnMouseMove(event);\n            }\n        };\n        this.panOnMouseMove = function (event) {\n            // tslint:disable-next-line:max-line-length\n            if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer)) {\n                if (_this.isViewerMouseDown) {\n                    var deltaX = _this.dragX - event.pageX;\n                    var deltaY = _this.dragY - event.pageY;\n                    _this.viewerContainer.scrollTop = _this.viewerContainer.scrollTop + deltaY;\n                    _this.viewerContainer.scrollLeft = _this.viewerContainer.scrollLeft + deltaX;\n                    _this.viewerContainer.style.cursor = 'move';\n                    _this.viewerContainer.style.cursor = '-webkit-grabbing';\n                    _this.viewerContainer.style.cursor = '-moz-grabbing';\n                    _this.viewerContainer.style.cursor = 'grabbing';\n                    _this.dragX = event.pageX;\n                    _this.dragY = event.pageY;\n                }\n                else {\n                    if (!_this.navigationPane.isNavigationPaneResized) {\n                        _this.viewerContainer.style.cursor = 'move';\n                        _this.viewerContainer.style.cursor = '-webkit-grab';\n                        _this.viewerContainer.style.cursor = '-moz-grab';\n                        _this.viewerContainer.style.cursor = 'grab';\n                    }\n                }\n            }\n            else {\n                if (!_this.navigationPane.isNavigationPaneResized) {\n                    _this.viewerContainer.style.cursor = 'auto';\n                }\n            }\n        };\n        this.viewerContainerOnMouseLeave = function (event) {\n            if (_this.isViewerMouseDown) {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled && !_this.getTextMarkupAnnotationMode()) {\n                    _this.pdfViewer.textSelectionModule.textSelectionOnMouseLeave(event);\n                }\n            }\n        };\n        this.viewerContainerOnMouseEnter = function (event) {\n            if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                _this.pdfViewer.textSelectionModule.clear();\n            }\n        };\n        this.viewerContainerOnMouseOver = function (event) {\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (_this.isViewerMouseDown) {\n                if (!isIE) {\n                    event.preventDefault();\n                }\n            }\n        };\n        this.viewerContainerOnClick = function (event) {\n            if (event.type === 'dblclick') {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled && !_this.getCurrentTextMarkupAnnotation()) {\n                    if (event.target.classList.contains('e-pv-text')) {\n                        _this.isViewerContainerDoubleClick = true;\n                        _this.pdfViewer.textSelectionModule.selectAWord(event.target, event.clientX, event.clientY, false);\n                        if (!_this.getTextMarkupAnnotationMode()) {\n                            _this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(true, false);\n                            _this.dblClickTimer = setTimeout(function () { _this.applySelection(); }, 100);\n                        }\n                        else if (_this.isTextMarkupAnnotationModule() && _this.getTextMarkupAnnotationMode()) {\n                            // tslint:disable-next-line:max-line-length\n                            _this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(_this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode);\n                        }\n                    }\n                }\n                else if (_this.getCurrentTextMarkupAnnotation()) {\n                    _this.pdfViewer.annotationModule.showAnnotationPopup(event);\n                }\n            }\n            else {\n                if (event.detail === 3) {\n                    if (_this.isViewerContainerDoubleClick) {\n                        clearTimeout(_this.dblClickTimer);\n                        _this.isViewerContainerDoubleClick = false;\n                    }\n                    if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled && !_this.getTextMarkupAnnotationMode()) {\n                        _this.pdfViewer.textSelectionModule.selectEntireLine(event);\n                        _this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(true, false);\n                        _this.applySelection();\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnDragStart = function (event) {\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (!isIE) {\n                event.preventDefault();\n            }\n        };\n        // tslint:disable-next-line\n        this.viewerContainerOnContextMenuClick = function (event) {\n            _this.isViewerMouseDown = false;\n        };\n        // tslint:disable-next-line\n        this.onWindowMouseUp = function (event) {\n            if (!_this.getPopupNoteVisibleStatus()) {\n                if (event.button === 0) {\n                    if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled && !_this.getTextMarkupAnnotationMode()) {\n                        // tslint:disable-next-line:max-line-length\n                        if (event.detail === 1 && !_this.viewerContainer.contains(event.target) && !_this.contextMenuModule.contextMenuElement.contains(event.target)) {\n                            if (window.getSelection().anchorNode !== null) {\n                                _this.pdfViewer.textSelectionModule.textSelectionOnMouseup();\n                            }\n                        }\n                        if (_this.viewerContainer.contains(event.target)) {\n                            if (!_this.isClickedOnScrollBar(event) && !_this.isScrollbarMouseDown) {\n                                _this.pdfViewer.textSelectionModule.textSelectionOnMouseup();\n                            }\n                            else {\n                                if (window.getSelection().anchorNode !== null) {\n                                    _this.pdfViewer.textSelectionModule.applySpanForSelection();\n                                }\n                            }\n                        }\n                    }\n                    else if (_this.getTextMarkupAnnotationMode()) {\n                        // tslint:disable-next-line:max-line-length\n                        _this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(_this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode);\n                    }\n                }\n                else if (event.button === 2) {\n                    if (_this.viewerContainer.contains(event.target)) {\n                        window.getSelection().removeAllRanges();\n                    }\n                }\n                if (_this.isViewerMouseDown) {\n                    _this.isViewerMouseDown = false;\n                    if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                        _this.pdfViewer.textSelectionModule.clear();\n                        _this.pdfViewer.textSelectionModule.selectionStartPage = null;\n                    }\n                    event.preventDefault();\n                    event.stopPropagation();\n                    return false;\n                }\n                else {\n                    return true;\n                }\n            }\n        };\n        this.onWindowTouchEnd = function (event) {\n            // tslint:disable-next-line:max-line-length\n            if (!_this.pdfViewer.element.contains(event.target) && !_this.contextMenuModule.contextMenuElement.contains(event.target)) {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                }\n            }\n        };\n        this.viewerContainerOnTouchStart = function (event) {\n            var touchPoints = event.touches;\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.setTouchPoints(touchPoints[0].clientX, touchPoints[0].clientY);\n            }\n            if (touchPoints.length === 1 && !(event.target.classList.contains('e-pv-hyperlink'))) {\n                _this.preventTouchEvent(event);\n            }\n            if (event.touches.length === 1 && _this.isTextMarkupAnnotationModule() && !_this.getPopupNoteVisibleStatus()) {\n                _this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationTouchEnd(event);\n            }\n            _this.touchClientX = touchPoints[0].clientX;\n            _this.touchClientY = touchPoints[0].clientY;\n            _this.scrollY = touchPoints[0].clientY;\n            _this.previousTime = new Date().getTime();\n            // tslint:disable-next-line:max-line-length\n            if (touchPoints.length === 1 && !(event.target.classList.contains('e-pv-touch-select-drop') || event.target.classList.contains('e-pv-touch-ellipse'))) {\n                if (Browser.isDevice && _this.pageCount > 0 && !_this.isThumb && !(event.target.classList.contains('e-pv-hyperlink'))) {\n                    _this.handleTaps(touchPoints);\n                }\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                    _this.contextMenuModule.contextMenuObj.close();\n                    // event.preventDefault();\n                    if (!_this.isLongTouchPropagated) {\n                        _this.longTouchTimer = setTimeout(function () { _this.viewerContainerOnLongTouch(event); }, 1000);\n                    }\n                    _this.isLongTouchPropagated = true;\n                }\n            }\n        };\n        this.viewerContainerOnLongTouch = function (event) {\n            _this.touchClientX = event.touches[0].clientX;\n            _this.touchClientY = event.touches[0].clientY;\n            event.preventDefault();\n            if (_this.pdfViewer.textSelectionModule) {\n                _this.pdfViewer.textSelectionModule.initiateTouchSelection(event, _this.touchClientX, _this.touchClientY);\n                if (Browser.isDevice) {\n                    clearTimeout(_this.singleTapTimer);\n                    _this.tapCount = 0;\n                }\n            }\n        };\n        this.viewerContainerOnPointerDown = function (event) {\n            if (event.pointerType === 'touch') {\n                _this.pointerCount++;\n                if (_this.pointerCount <= 2) {\n                    event.preventDefault();\n                    _this.pointersForTouch.push(event);\n                    if (_this.pointerCount === 2) {\n                        _this.pointerCount = 0;\n                    }\n                    if (_this.pdfViewer.magnificationModule) {\n                        _this.pdfViewer.magnificationModule.setTouchPoints(event.clientX, event.clientY);\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnTouchMove = function (event) {\n            if (Browser.isDevice) {\n                clearTimeout(_this.singleTapTimer);\n                _this.tapCount = 0;\n            }\n            _this.preventTouchEvent(event);\n            var touchPoints = event.touches;\n            if (_this.pdfViewer.magnificationModule) {\n                _this.isTouchScrolled = true;\n                if (touchPoints.length > 1 && _this.pageCount > 0) {\n                    if (Browser.isDevice) {\n                        _this.isTouchScrolled = false;\n                        _this.mobileScrollerContainer.style.display = 'none';\n                    }\n                    // tslint:disable-next-line:max-line-length\n                    _this.pdfViewer.magnificationModule.initiatePinchMove(touchPoints[0].clientX, touchPoints[0].clientY, touchPoints[1].clientX, touchPoints[1].clientY);\n                }\n                else if (touchPoints.length === 1 && _this.getPagesPinchZoomed()) {\n                    if (Browser.isDevice) {\n                        _this.isTouchScrolled = false;\n                        _this.mobileScrollerContainer.style.display = 'none';\n                    }\n                    _this.pdfViewer.magnificationModule.pinchMoveScroll();\n                }\n            }\n            touchPoints = null;\n        };\n        this.viewerContainerOnPointerMove = function (event) {\n            if (event.pointerType === 'touch' && _this.pageCount > 0) {\n                event.preventDefault();\n                if (_this.pointersForTouch.length === 2) {\n                    for (var i = 0; i < _this.pointersForTouch.length; i++) {\n                        if (event.pointerId === _this.pointersForTouch[i].pointerId) {\n                            _this.pointersForTouch[i] = event;\n                            break;\n                        }\n                    }\n                    if (_this.pdfViewer.magnificationModule) {\n                        // tslint:disable-next-line:max-line-length\n                        _this.pdfViewer.magnificationModule.initiatePinchMove(_this.pointersForTouch[0].clientX, _this.pointersForTouch[0].clientY, _this.pointersForTouch[1].clientX, _this.pointersForTouch[1].clientY);\n                    }\n                }\n            }\n        };\n        this.viewerContainerOnTouchEnd = function (event) {\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.pinchMoveEnd();\n            }\n            _this.isLongTouchPropagated = false;\n            clearInterval(_this.longTouchTimer);\n            _this.longTouchTimer = null;\n            if (Browser.isDevice && _this.isTouchScrolled) {\n                _this.currentTime = new Date().getTime();\n                var duration = _this.currentTime - _this.previousTime;\n                // tslint:disable-next-line\n                var difference = _this.scrollY - event.changedTouches[0].pageY;\n                // tslint:disable-next-line\n                var speed = (difference) / (duration);\n                if (Math.abs(speed) > 1.5) {\n                    // tslint:disable-next-line\n                    var scrollTop = (difference) + ((duration) * speed);\n                    _this.viewerContainer.scrollTop += scrollTop;\n                    _this.updateMobileScrollerPosition();\n                }\n            }\n        };\n        this.viewerContainerOnPointerEnd = function (event) {\n            if (event.pointerType === 'touch') {\n                event.preventDefault();\n                if (_this.pdfViewer.magnificationModule) {\n                    _this.pdfViewer.magnificationModule.pinchMoveEnd();\n                }\n                _this.pointersForTouch = [];\n                _this.pointerCount = 0;\n            }\n        };\n        // tslint:disable-next-line\n        this.viewerContainerOnScroll = function (event) {\n            var proxy = _this;\n            var scrollposX = 0;\n            var scrollposY = 0;\n            if (event.touches && Browser.isDevice) {\n                // tslint:disable-next-line\n                var ratio = (_this.viewerContainer.scrollHeight - _this.viewerContainer.clientHeight) / (_this.viewerContainer.clientHeight - _this.toolbarHeight);\n                if (_this.isThumb) {\n                    _this.ispageMoved = true;\n                    _this.mobilePageNoContainer.style.display = 'block';\n                    scrollposX = event.touches[0].pageX - _this.scrollX;\n                    scrollposY = event.touches[0].pageY - _this.viewerContainer.offsetTop;\n                    _this.viewerContainer.scrollTop = scrollposY * ratio;\n                    // tslint:disable-next-line\n                    var containerValue = event.touches[0].pageY;\n                    if (_this.viewerContainer.scrollTop !== 0 && ((containerValue) <= _this.viewerContainer.clientHeight)) {\n                        _this.mobileScrollerContainer.style.top = containerValue + 'px';\n                    }\n                }\n                else if (event.touches[0].target.className !== 'e-pv-touch-ellipse') {\n                    _this.mobilePageNoContainer.style.display = 'none';\n                    scrollposY = _this.touchClientY - event.touches[0].pageY;\n                    scrollposX = _this.touchClientX - event.touches[0].pageX;\n                    _this.viewerContainer.scrollTop = _this.viewerContainer.scrollTop + (scrollposY);\n                    _this.viewerContainer.scrollLeft = _this.viewerContainer.scrollLeft + (scrollposX);\n                    // tslint:disable-next-line\n                    _this.updateMobileScrollerPosition();\n                    _this.touchClientY = event.touches[0].pageY;\n                    _this.touchClientX = event.touches[0].pageX;\n                }\n            }\n            if (_this.scrollHoldTimer) {\n                clearTimeout(_this.scrollHoldTimer);\n            }\n            var pageIndex = _this.currentPageNumber;\n            _this.scrollHoldTimer = null;\n            _this.contextMenuModule.contextMenuObj.close();\n            var verticalScrollValue = _this.viewerContainer.scrollTop;\n            // tslint:disable-next-line:max-line-length\n            for (var i = 0; i < _this.pageCount; i++) {\n                if (_this.pageSize[i] != null) {\n                    var pageHeight = _this.getPageHeight(i);\n                    // tslint:disable-next-line:max-line-length\n                    if ((verticalScrollValue + _this.pageStopValue) <= (_this.getPageTop(i) + pageHeight)) {\n                        _this.currentPageNumber = i + 1;\n                        break;\n                    }\n                }\n            }\n            _this.renderElementsVirtualScroll(_this.currentPageNumber);\n            // tslint:disable-next-line:max-line-length\n            if (!_this.isViewerMouseDown && !_this.getPinchZoomed() && !_this.getPinchScrolled() && !_this.getPagesPinchZoomed() || _this.isViewerMouseWheel) {\n                _this.pageViewScrollChanged(_this.currentPageNumber);\n                _this.isViewerMouseWheel = false;\n            }\n            else {\n                _this.showPageLoadingIndicator(_this.currentPageNumber - 1, false);\n            }\n            if (_this.pdfViewer.toolbarModule) {\n                _this.pdfViewer.toolbarModule.updateCurrentPage(_this.currentPageNumber);\n                _this.viewerContainer.setAttribute('aria-labelledby', _this.pdfViewer.element.id + '_pageDiv_' + (_this.currentPageNumber - 1));\n                if (!Browser.isDevice) {\n                    _this.pdfViewer.toolbarModule.updateNavigationButtons();\n                }\n            }\n            if (pageIndex !== _this.currentPageNumber) {\n                if (proxy.pdfViewer.thumbnailViewModule && !Browser.isDevice) {\n                    proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.currentPageNumber - 1);\n                    proxy.pdfViewer.thumbnailViewModule.isThumbnailClicked = false;\n                }\n                _this.pdfViewer.firePageChange(pageIndex);\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.updatePagesForFitPage(_this.currentPageNumber - 1);\n            }\n            var currentPage = _this.getElement('_pageDiv_' + (_this.currentPageNumber - 1));\n            if (currentPage) {\n                currentPage.style.visibility = 'visible';\n            }\n            if (_this.isViewerMouseDown) {\n                if (_this.getRerenderCanvasCreated()) {\n                    _this.pdfViewer.magnificationModule.clearIntervalTimer();\n                }\n                _this.scrollHoldTimer = setTimeout(function () { _this.initiatePageViewScrollChanged(); }, 100);\n            }\n        };\n        this.pdfViewer = viewer;\n        this.navigationPane = new NavigationPane(this.pdfViewer, this);\n        this.textLayer = new TextLayer(this.pdfViewer, this);\n    }\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initializeComponent = function () {\n        var element = document.getElementById(this.pdfViewer.element.id);\n        if (element) {\n            if (Browser.isDevice) {\n                this.pdfViewer.element.classList.add('e-pv-mobile-view');\n            }\n            var controlWidth = '100%';\n            var toolbarDiv = void 0;\n            // tslint:disable-next-line:max-line-length\n            this.viewerMainContainer = createElement('div', { id: this.pdfViewer.element.id + '_viewerMainContainer', className: 'e-pv-viewer-main-container' });\n            // tslint:disable-next-line:max-line-length\n            this.viewerContainer = createElement('div', { id: this.pdfViewer.element.id + '_viewerContainer', className: 'e-pv-viewer-container', attrs: { 'aria-label': 'pdfviewer scroll view' } });\n            if (Browser.isDevice) {\n                this.createMobilePageNumberContainer();\n            }\n            this.viewerContainer.tabIndex = 0;\n            if (this.pdfViewer.enableRtl) {\n                this.viewerContainer.style.direction = 'rtl';\n            }\n            element.style.touchAction = 'pan-x pan-y';\n            this.setMaximumHeight(element);\n            // tslint:disable-next-line:max-line-length\n            this.mainContainer = createElement('div', { id: this.pdfViewer.element.id + '_mainContainer', className: 'e-pv-main-container' });\n            this.mainContainer.appendChild(this.viewerMainContainer);\n            element.appendChild(this.mainContainer);\n            if (this.pdfViewer.toolbarModule) {\n                this.navigationPane.initializeNavigationPane();\n                toolbarDiv = this.pdfViewer.toolbarModule.intializeToolbar(controlWidth);\n            }\n            if (toolbarDiv) {\n                // tslint:disable-next-line:max-line-length\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 56);\n            }\n            else {\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 0);\n            }\n            // tslint:disable-next-line:max-line-length\n            var viewerWidth = this.pdfViewer.element.clientWidth;\n            if (!Browser.isDevice) {\n                viewerWidth = viewerWidth - (this.navigationPane.sideBarToolbar ? this.navigationPane.getViewerContainerLeft() : 0);\n            }\n            this.viewerContainer.style.width = viewerWidth + 'px';\n            this.viewerMainContainer.appendChild(this.viewerContainer);\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.left = (viewerWidth - parseFloat(this.mobileScrollerContainer.style.width)) + 'px';\n                this.mobilePageNoContainer.style.left = (viewerWidth / 2) - (parseFloat(this.mobilePageNoContainer.style.width) / 2) + 'px';\n                this.mobilePageNoContainer.style.top = (this.pdfViewer.element.clientHeight / 2) + 'px';\n                this.mobilePageNoContainer.style.display = 'none';\n                this.mobilePageNoContainer.appendChild(this.mobilecurrentPageContainer);\n                this.mobilePageNoContainer.appendChild(this.mobilenumberContainer);\n                this.mobilePageNoContainer.appendChild(this.mobiletotalPageContainer);\n                this.viewerContainer.appendChild(this.mobilePageNoContainer);\n                this.viewerMainContainer.appendChild(this.mobileScrollerContainer);\n                this.mobileScrollerContainer.appendChild(this.mobileSpanContainer);\n            }\n            // tslint:disable-next-line:max-line-length\n            this.pageContainer = createElement('div', { id: this.pdfViewer.element.id + '_pageViewContainer', className: 'e-pv-page-container', attrs: { 'tabindex': '0', 'aria-label': 'pdfviewer Page View' } });\n            if (this.pdfViewer.enableRtl) {\n                this.pageContainer.style.direction = 'ltr';\n            }\n            this.viewerContainer.appendChild(this.pageContainer);\n            this.pageContainer.style.width = this.viewerContainer.clientWidth + 'px';\n            if (toolbarDiv && this.pdfViewer.thumbnailViewModule && !Browser.isDevice) {\n                this.pdfViewer.thumbnailViewModule.createThumbnailContainer();\n            }\n            this.createPrintPopup();\n            if (Browser.isDevice) {\n                this.createGoToPagePopup();\n            }\n            this.waitingPopup = createElement('div', { id: this.pdfViewer.element.id + '_loadingIndicator' });\n            this.viewerContainer.appendChild(this.waitingPopup);\n            createSpinner({ target: this.waitingPopup, cssClass: 'e-spin-center' });\n            this.setLoaderProperties(this.waitingPopup);\n            this.contextMenuModule = new ContextMenu(this.pdfViewer, this);\n            this.contextMenuModule.createContextMenu();\n            this.wireEvents();\n            if (this.pdfViewer.textSearchModule && !Browser.isDevice) {\n                this.pdfViewer.textSearchModule.createTextSearchBox();\n            }\n            if (this.pdfViewer.documentPath) {\n                this.pdfViewer.load(this.pdfViewer.documentPath, null);\n            }\n            if (this.pdfViewer.annotationModule) {\n                this.pdfViewer.annotationModule.initializeCollection();\n            }\n        }\n    };\n    PdfViewerBase.prototype.createMobilePageNumberContainer = function () {\n        // tslint:disable-next-line:max-line-length\n        this.mobilePageNoContainer = createElement('div', { id: this.pdfViewer.element.id + '_mobilepagenoContainer', className: 'e-pv-mobilepagenoscroll-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobilecurrentPageContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobilecurrentpageContainer', className: 'e-pv-mobilecurrentpage-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobilenumberContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobiledashedlineContainer', className: 'e-pv-mobiledashedline-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobiletotalPageContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobiletotalpageContainer', className: 'e-pv-mobiletotalpage-container' });\n        this.mobileScrollerContainer = createElement('div', { id: this.pdfViewer.element.id + '_mobilescrollContainer', className: 'e-pv-mobilescroll-container' });\n        // tslint:disable-next-line:max-line-length\n        this.mobileSpanContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobilespanContainer', className: 'e-pv-mobilespanscroll-container' });\n        this.mobileSpanContainer.innerHTML = '1';\n        this.mobilecurrentPageContainer.innerHTML = '1';\n        this.mobilenumberContainer.innerHTML = '&#x2015;&#x2015;&#x2015;&#x2015;&#x2015;';\n        this.mobileScrollerContainer.style.cssFloat = 'right';\n        this.mobileScrollerContainer.style.width = '40px';\n        this.mobileScrollerContainer.style.height = '32px';\n        this.mobileScrollerContainer.style.zIndex = '100';\n        this.mobilePageNoContainer.style.width = '120px';\n        this.mobilePageNoContainer.style.height = '100px';\n        this.mobilePageNoContainer.style.zIndex = '100';\n        this.mobilePageNoContainer.style.position = 'fixed';\n        this.mobileScrollerContainer.addEventListener('touchstart', this.mobileScrollContainerDown.bind(this));\n        this.mobileScrollerContainer.addEventListener('touchend', this.mobileScrollContainerEnd.bind(this));\n        this.mobileScrollerContainer.style.display = 'none';\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initiatePageRender = function (documentData, password) {\n        this.documentId = this.createGUID();\n        this.viewerContainer.scrollTop = 0;\n        this.showLoadingIndicator(true);\n        this.hashId = ' ';\n        this.isFileName = false;\n        this.saveDocumentInfo();\n        documentData = this.checkDocumentData(documentData);\n        this.setFileName();\n        var jsonObject = this.constructJsonObject(documentData, password);\n        this.createAjaxRequest(jsonObject, documentData, password);\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.mobileScrollContainerDown = function (event) {\n        this.ispageMoved = false;\n        this.isThumb = true;\n        if (this.isTextMarkupAnnotationModule()) {\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage != null && Browser.isDevice) {\n                var pageNumber = this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage;\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage = null;\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearAnnotationSelection(pageNumber);\n                this.pdfViewer.toolbar.showToolbar(true);\n            }\n        }\n        this.mobileScrollerContainer.addEventListener('touchmove', this.viewerContainerOnScroll.bind(this), true);\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.setMaximumHeight = function (element) {\n        if (!Browser.isDevice) {\n            element.style.minHeight = '500px';\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.mobileScrollContainerEnd = function (event) {\n        if (!this.ispageMoved) {\n            this.goToPagePopup.show();\n        }\n        this.isThumb = false;\n        this.ispageMoved = false;\n        this.mobileScrollerContainer.removeEventListener('touchmove', this.viewerContainerOnScroll.bind(this), true);\n        this.mobilePageNoContainer.style.display = 'none';\n    };\n    PdfViewerBase.prototype.createAjaxRequest = function (jsonObject, documentData, password) {\n        var _this = this;\n        var request = new XMLHttpRequest();\n        request.open('POST', this.pdfViewer.serviceUrl + '/' + this.pdfViewer.serverActionSettings.load);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8'); // jshint ignore:line\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject)); // jshint ignore:line\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response; // jshint ignore:line\n                // tslint:disable-next-line:max-line-length\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                _this.requestSuccess(data, documentData, password);\n            }\n            else if (request.readyState === 4 && request.status === 400) { // jshint ignore:line\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.openNotificationPopup();\n            _this.showLoadingIndicator(false);\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText); // jshint ignore:line\n        };\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.openNotificationPopup = function () {\n        this.textLayer.createNotificationPopup(this.pdfViewer.localeObj.getConstant('Server error'));\n        this.getElement('_notify').classList.add('e-pv-notification-large-content');\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.requestSuccess = function (data, documentData, password) {\n        if (data && data.pageCount !== undefined) {\n            this.pageCount = data.pageCount;\n            this.hashId = data.hashId;\n            this.documentLiveCount = data.documentLiveCount;\n            this.saveDocumentHashData();\n            this.pageRender(data);\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.display = '';\n                this.mobileScrollerContainer.style.top = (this.toolbarHeight) + 'px';\n            }\n        }\n        else {\n            this.pageCount = 0;\n            this.currentPageNumber = 0;\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.display = 'none';\n            }\n            if (data === 4) {\n                // 4 is error code for encrypted document.\n                this.renderPasswordPopup(documentData, password);\n            }\n            else if (data === 3) {\n                // 3 is error code for corrupted document.\n                this.renderCorruptPopup();\n            }\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.toolbarModule.updateToolbarItems();\n            }\n        }\n        if (this.pdfViewer.thumbnailViewModule && !Browser.isDevice) {\n            this.pdfViewer.thumbnailViewModule.createRequestForThumbnails();\n        }\n        if (this.pdfViewer.bookmarkViewModule) {\n            this.pdfViewer.bookmarkViewModule.createRequestForBookmarks();\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.pageRender = function (data) {\n        this.document = null;\n        this.passwordDialogReset();\n        if (this.passwordPopup) {\n            this.passwordPopup.hide();\n        }\n        var pageIndex = 0;\n        this.initPageDiv(data);\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.isAutoZoom = true;\n            this.pdfViewer.magnificationModule.isInitialLoading = true;\n            this.onWindowResize();\n            this.pdfViewer.magnificationModule.isInitialLoading = false;\n        }\n        this.isDocumentLoaded = true;\n        if (this.renderedPagesList.indexOf(pageIndex) === -1) {\n            this.createRequestForRender(pageIndex);\n            var pageNumber = pageIndex + 1;\n            if (this.pageSize[pageNumber]) {\n                var pageTop = this.getPageTop(pageNumber);\n                var viewerHeight = this.viewerContainer.clientHeight;\n                while (viewerHeight > pageTop) {\n                    if (this.pageSize[pageNumber]) {\n                        this.renderPageElement(pageNumber);\n                        this.createRequestForRender(pageNumber);\n                        pageTop = this.getPageTop(pageNumber);\n                        pageNumber = pageNumber + 1;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        this.showLoadingIndicator(false);\n        this.currentPageNumber = pageIndex + 1;\n        if (this.pdfViewer.toolbarModule) {\n            this.pdfViewer.toolbarModule.uploadedDocumentName = null;\n            this.pdfViewer.toolbarModule.updateCurrentPage(this.currentPageNumber);\n            this.pdfViewer.toolbarModule.updateToolbarItems();\n            this.viewerContainer.setAttribute('aria-labelledby', this.pdfViewer.element.id + '_pageDiv_' + (this.currentPageNumber - 1));\n        }\n        if (Browser.isDevice) {\n            this.mobileSpanContainer.innerHTML = this.currentPageNumber.toString();\n            this.mobilecurrentPageContainer.innerHTML = this.currentPageNumber.toString();\n        }\n    };\n    PdfViewerBase.prototype.renderPasswordPopup = function (documentData, password) {\n        if (!this.isPasswordAvailable) {\n            if (this.isFileName) {\n                this.document = documentData;\n            }\n            else {\n                this.document = 'data:application/pdf;base64,' + documentData;\n            }\n            this.createPasswordPopup();\n            this.pdfViewer.fireDocumentLoadFailed(true, null);\n            this.passwordPopup.show();\n        }\n        else {\n            this.pdfViewer.fireDocumentLoadFailed(true, password);\n            this.promptElement.classList.add('e-pv-password-error');\n            this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Invalid Password');\n            this.promptElement.focus();\n            if (this.isFileName) {\n                this.document = documentData;\n            }\n            else {\n                this.document = 'data:application/pdf;base64,' + documentData;\n            }\n            this.passwordPopup.show();\n        }\n    };\n    PdfViewerBase.prototype.renderCorruptPopup = function () {\n        this.pdfViewer.fireDocumentLoadFailed(false, null);\n        this.createCorruptedPopup();\n        this.documentId = null;\n        this.corruptPopup.show();\n    };\n    PdfViewerBase.prototype.constructJsonObject = function (documentData, password) {\n        var jsonObject;\n        if (password) {\n            this.isPasswordAvailable = true;\n            // tslint:disable-next-line:max-line-length\n            jsonObject = { document: documentData, password: password, zoomFactor: 1, isFileName: this.isFileName };\n        }\n        else {\n            this.isPasswordAvailable = false;\n            jsonObject = { document: documentData, zoomFactor: 1, isFileName: this.isFileName };\n        }\n        return jsonObject;\n    };\n    PdfViewerBase.prototype.checkDocumentData = function (documentData) {\n        var base64String = documentData.split('base64,')[1];\n        if (base64String === undefined) {\n            this.isFileName = true;\n            if (this.pdfViewer.fileName === null) {\n                // tslint:disable-next-line:max-line-length\n                var documentStringArray = (documentData.indexOf('\\\\') !== -1) ? documentData.split('\\\\') : documentData.split('/');\n                this.pdfViewer.fileName = documentStringArray[documentStringArray.length - 1];\n                base64String = documentData;\n            }\n        }\n        return base64String;\n    };\n    PdfViewerBase.prototype.setFileName = function () {\n        if (this.pdfViewer.fileName === null) {\n            if (this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.uploadedDocumentName !== null) {\n                this.pdfViewer.fileName = this.pdfViewer.toolbarModule.uploadedDocumentName;\n            }\n            else {\n                this.pdfViewer.fileName = 'undefined.pdf';\n            }\n        }\n    };\n    PdfViewerBase.prototype.saveDocumentInfo = function () {\n        window.sessionStorage.setItem('currentDocument', this.documentId);\n        window.sessionStorage.setItem('serviceURL', this.pdfViewer.serviceUrl);\n        window.sessionStorage.setItem('unload', this.pdfViewer.serverActionSettings.unload);\n    };\n    PdfViewerBase.prototype.saveDocumentHashData = function () {\n        window.sessionStorage.setItem('hashId', this.hashId);\n        window.sessionStorage.setItem('documentLiveCount', this.documentLiveCount.toString());\n    };\n    PdfViewerBase.prototype.updateWaitingPopup = function (pageNumber) {\n        if (this.pageSize[pageNumber].top != null) {\n            // tslint:disable-next-line:max-line-length\n            var pageCurrentRect = this.getElement('_pageDiv_' + pageNumber).getBoundingClientRect();\n            var waitingPopup = this.getElement('_pageDiv_' + pageNumber).firstChild.firstChild;\n            if (pageCurrentRect.top < 0) {\n                if (this.toolbarHeight + (this.viewerContainer.clientHeight / 2) - pageCurrentRect.top < pageCurrentRect.height) {\n                    waitingPopup.style.top = ((this.viewerContainer.clientHeight / 2) - pageCurrentRect.top) - this.toolbarHeight + 'px';\n                }\n                else {\n                    if (this.toolbarHeight + (pageCurrentRect.bottom / 2) - pageCurrentRect.top < pageCurrentRect.height) {\n                        waitingPopup.style.top = ((pageCurrentRect.bottom / 2) - pageCurrentRect.top) - this.toolbarHeight + 'px';\n                    }\n                }\n            }\n            else {\n                waitingPopup.style.top = this.viewerContainer.clientHeight / 2 + 'px';\n            }\n            if (this.getZoomFactor() > 1.25 && pageCurrentRect.width > this.viewerContainer.clientWidth) {\n                waitingPopup.style.left = this.viewerContainer.clientWidth / 2 + 'px';\n            }\n            else {\n                waitingPopup.style.left = pageCurrentRect.width / 2 + 'px';\n            }\n        }\n    };\n    PdfViewerBase.prototype.createWaitingPopup = function (pageNumber) {\n        // tslint:disable-next-line:max-line-length\n        this.waitingPopup = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + pageNumber);\n        if (this.waitingPopup) {\n            createSpinner({ target: this.waitingPopup });\n            this.setLoaderProperties(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.showLoadingIndicator = function (isShow) {\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup != null) {\n            if (isShow) {\n                showSpinner(this.waitingPopup);\n            }\n            else {\n                hideSpinner(this.waitingPopup);\n            }\n        }\n    };\n    PdfViewerBase.prototype.showPageLoadingIndicator = function (pageIndex, isShow) {\n        this.waitingPopup = this.getElement('_pageDiv_' + pageIndex);\n        if (this.waitingPopup != null) {\n            if (isShow) {\n                showSpinner(this.waitingPopup);\n            }\n            else {\n                hideSpinner(this.waitingPopup);\n            }\n            this.updateWaitingPopup(pageIndex);\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.showPrintLoadingIndicator = function (isShow) {\n        this.printWaitingPopup = this.getElement('_printLoadingIndicator');\n        if (this.printWaitingPopup != null) {\n            if (isShow) {\n                this.printMainContainer.style.display = 'block';\n                showSpinner(this.printWaitingPopup);\n            }\n            else {\n                this.printMainContainer.style.display = 'none';\n                hideSpinner(this.printWaitingPopup);\n            }\n        }\n    };\n    PdfViewerBase.prototype.setLoaderProperties = function (element) {\n        var spinnerElement = element.firstChild.firstChild.firstChild;\n        if (spinnerElement) {\n            spinnerElement.style.height = '48px';\n            spinnerElement.style.width = '48px';\n            spinnerElement.style.transformOrigin = '24px 24px 24px';\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateScrollTop = function (pageNumber) {\n        // tslint:disable-next-line\n        if (this.pageSize[pageNumber] != null) {\n            this.viewerContainer.scrollTop = this.getPageTop(pageNumber);\n            this.renderElementsVirtualScroll(pageNumber);\n            if (this.renderedPagesList.indexOf(pageNumber) === -1) {\n                this.createRequestForRender(pageNumber);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getZoomFactor = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.zoomFactor;\n        }\n        else {\n            // default value\n            return 1;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPinchZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPinchZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getMagnified = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isMagnified;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPinchScrolled = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPinchScrolled;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPagesPinchZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPagePinchZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPagesZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPagesZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getRerenderCanvasCreated = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isRerenderCanvasCreated;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getDocumentId = function () {\n        return this.documentId;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.download = function () {\n        if (this.pageCount > 0) {\n            this.createRequestForDownload();\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.clear = function (isTriggerEvent) {\n        this.isPasswordAvailable = false;\n        this.isDocumentLoaded = false;\n        this.initiateTextSelectMode();\n        if (!Browser.isDevice) {\n            if (this.navigationPane.sideBarToolbar) {\n                this.navigationPane.clear();\n            }\n        }\n        if (this.pdfViewer.thumbnailViewModule) {\n            this.pdfViewer.thumbnailViewModule.clear();\n        }\n        if (this.pdfViewer.bookmarkViewModule) {\n            this.pdfViewer.bookmarkViewModule.clear();\n        }\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.clearIntervalTimer();\n        }\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.clearTextSelection();\n        }\n        if (this.pdfViewer.textSearchModule) {\n            this.pdfViewer.textSearchModule.resetTextSearch();\n        }\n        if (this.pdfViewer.annotationModule) {\n            this.pdfViewer.annotationModule.clear();\n        }\n        if (this.pdfViewer.annotationModule) {\n            this.pdfViewer.annotationModule.initializeCollection();\n        }\n        if (this.pageSize) {\n            this.pageSize = [];\n        }\n        if (this.renderedPagesList) {\n            this.renderedPagesList = [];\n        }\n        while (this.pageContainer.hasChildNodes()) {\n            this.pageContainer.removeChild(this.pageContainer.lastChild);\n        }\n        if (this.pageCount > 0) {\n            this.unloadDocument(null);\n        }\n        this.windowSessionStorageClear();\n        if (this.pinchZoomStorage) {\n            this.pinchZoomStorage = [];\n        }\n        if (isTriggerEvent && this.pageCount > 0) {\n            this.pdfViewer.fireDocumentUnload(this.pdfViewer.fileName);\n        }\n        this.pdfViewer.fileName = null;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.destroy = function () {\n        if (Browser.isDevice) {\n            this.pdfViewer.element.classList.remove('e-pv-mobile-view');\n        }\n        this.unWireEvents();\n        this.clear(false);\n        this.pageContainer.parentNode.removeChild(this.pageContainer);\n        this.viewerContainer.parentNode.removeChild(this.viewerContainer);\n        if (this.pdfViewer.thumbnailViewModule) {\n            this.pdfViewer.thumbnailViewModule.clear();\n        }\n        if (this.pdfViewer.bookmarkViewModule) {\n            this.pdfViewer.bookmarkViewModule.clear();\n        }\n        this.contextMenuModule.destroy();\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.unloadDocument = function (e) {\n        var _this = this;\n        var documentId = window.sessionStorage.getItem('hashId');\n        var documentLiveCount = window.sessionStorage.getItem('documentLiveCount');\n        if (documentId !== null) {\n            var jsonObject = { hashId: documentId, documentLiveCount: documentLiveCount };\n            var request_1 = new XMLHttpRequest();\n            request_1.open('POST', window.sessionStorage.getItem('serviceURL') + '/' + window.sessionStorage.getItem('unload'), false);\n            request_1.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n            request_1.send(JSON.stringify(jsonObject));\n            // tslint:disable-next-line\n            request_1.onreadystatechange = function (event) {\n                if (request_1.readyState === 4 && request_1.status === 400) {\n                    // error message\n                    _this.pdfViewer.fireAjaxRequestFailed(request_1.status, request_1.statusText);\n                }\n            };\n            // tslint:disable-next-line\n            request_1.onerror = function (event) {\n                _this.pdfViewer.fireAjaxRequestFailed(request_1.status, request_1.statusText);\n            };\n        }\n        window.sessionStorage.removeItem('hashId');\n        window.sessionStorage.removeItem('documentLiveCount');\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.windowSessionStorageClear = function () {\n        window.sessionStorage.removeItem('currentDocument');\n        window.sessionStorage.removeItem('serviceURL');\n        window.sessionStorage.removeItem('unload');\n        this.sessionStorage.forEach(function (element) {\n            window.sessionStorage.removeItem(element);\n        });\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.focusViewerContainer = function () {\n        var scrollX = window.scrollX;\n        var scrollY = window.scrollY;\n        // tslint:disable-next-line\n        var parentNode = this.getScrollParent(this.viewerContainer);\n        var scrollNodeX = 0;\n        var scrollNodeY = 0;\n        if (parentNode !== null) {\n            scrollNodeX = parentNode.scrollLeft;\n            scrollNodeY = parentNode.scrollTop;\n        }\n        this.viewerContainer.focus();\n        if (this.currentPageNumber > 0) {\n            this.viewerContainer.setAttribute('aria-labelledby', this.pdfViewer.element.id + '_pageDiv_' + (this.currentPageNumber - 1));\n        }\n        // tslint:disable-next-line:max-line-length\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > -1 || navigator.userAgent.indexOf('Edge') !== -1 && parentNode != null) {\n            parentNode.scrollLeft = scrollNodeX;\n            parentNode.scrollTop = scrollNodeY;\n        }\n        else if (parentNode !== null) {\n            parentNode.scrollTo(scrollNodeX, scrollNodeY);\n        }\n        window.scrollTo(scrollX, scrollY);\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.getScrollParent = function (node) {\n        if (node === null || node.nodeName === 'HTML') {\n            return null;\n        }\n        var style = getComputedStyle(node);\n        if (this.viewerContainer.id !== node.id && (style.overflowY === 'scroll' || style.overflowY === 'auto')) {\n            return node;\n        }\n        else {\n            return this.getScrollParent(node.parentNode);\n        }\n    };\n    PdfViewerBase.prototype.createCorruptedPopup = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_corrupted_popup', className: 'e-pv-corrupted-popup' });\n        this.pageContainer.appendChild(popupElement);\n        this.corruptPopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: true, isModal: true,\n            // tslint:disable-next-line:max-line-length\n            header: '<div class=\"e-pv-corrupted-popup-header\"> ' + this.pdfViewer.localeObj.getConstant('File Corrupted') + '</div>', visible: false,\n            // tslint:disable-next-line:max-line-length\n            buttons: [{ buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true }, click: this.closeCorruptPopup.bind(this) }],\n            target: this.pdfViewer.element, beforeClose: function () {\n                _this.corruptPopup.destroy();\n                _this.getElement('_corrupted_popup').remove();\n                _this.corruptPopup = null;\n                _this.waitingPopup = _this.getElement('_loadingIndicator');\n                if (_this.waitingPopup != null) {\n                    hideSpinner(_this.waitingPopup);\n                }\n            }\n        });\n        if (this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            this.corruptPopup.content = '<div id=\"templatertl\" class=\"e-pv-notification-icon-rtl\"> <div class=\"e-pv-corrupted-popup-content-rtl\" tabindex=\"0\">' + this.pdfViewer.localeObj.getConstant('File Corrupted Content') + '</div></div>';\n            this.corruptPopup.enableRtl = true;\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            this.corruptPopup.content = '<div id=\"template\" class=\"e-pv-notification-icon\"> <div class=\"e-pv-corrupted-popup-content\" tabindex=\"0\">' + this.pdfViewer.localeObj.getConstant('File Corrupted Content') + '</div></div>';\n        }\n        this.corruptPopup.appendTo(popupElement);\n    };\n    PdfViewerBase.prototype.closeCorruptPopup = function () {\n        this.corruptPopup.hide();\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup !== null) {\n            hideSpinner(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.createPrintPopup = function () {\n        var element = document.getElementById(this.pdfViewer.element.id);\n        this.printMainContainer = createElement('div', {\n            id: this.pdfViewer.element.id + '_printcontainer',\n            className: 'e-pv-print-popup-container'\n        });\n        element.appendChild(this.printMainContainer);\n        this.printMainContainer.style.display = 'none';\n        this.printWaitingPopup = createElement('div', {\n            id: this.pdfViewer.element.id + '_printLoadingIndicator',\n            className: 'e-pv-print-loading-container'\n        });\n        this.printMainContainer.appendChild(this.printWaitingPopup);\n        createSpinner({ target: this.printWaitingPopup, cssClass: 'e-spin-center' });\n        this.setLoaderProperties(this.printWaitingPopup);\n    };\n    PdfViewerBase.prototype.createGoToPagePopup = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_goTopage_popup', className: 'e-pv-gotopage-popup' });\n        this.goToPageElement = createElement('span', { id: this.pdfViewer.element.id + '_prompt' });\n        this.goToPageElement.textContent = this.pdfViewer.localeObj.getConstant('Enter pagenumber');\n        popupElement.appendChild(this.goToPageElement);\n        var inputContainer = createElement('span', { className: 'e-pv-text-input' });\n        // tslint:disable-next-line:max-line-length\n        this.goToPageInput = createElement('input', { id: this.pdfViewer.element.id + '_page_input', className: 'e-input' });\n        this.goToPageInput.type = 'text';\n        this.goToPageInput.style.maxWidth = '80%';\n        this.pageNoContainer = createElement('span', { className: '.e-pv-number-ofpages' });\n        inputContainer.appendChild(this.goToPageInput);\n        inputContainer.appendChild(this.pageNoContainer);\n        popupElement.appendChild(inputContainer);\n        this.pageContainer.appendChild(popupElement);\n        this.goToPagePopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true,\n            header: this.pdfViewer.localeObj.getConstant('GoToPage'), visible: false, buttons: [\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') },\n                    click: this.GoToPageCancelClick.bind(this),\n                },\n                // tslint:disable-next-line:max-line-length\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('Apply'), disabled: true, cssClass: 'e-pv-gotopage-apply-btn', isPrimary: true },\n                    click: this.GoToPageApplyClick.bind(this),\n                },\n            ], close: this.closeGoToPagePopUp.bind(this),\n        });\n        if (this.pdfViewer.enableRtl) {\n            this.goToPagePopup.enableRtl = true;\n        }\n        this.goToPagePopup.appendTo(popupElement);\n        var goToPageTextBox = new NumericTextBox({ format: '##', showSpinButton: false });\n        goToPageTextBox.appendTo(this.goToPageInput);\n        this.goToPageInput.addEventListener('keyup', function () {\n            // tslint:disable-next-line\n            var inputValue = _this.goToPageInput.value;\n            if (inputValue !== '' && parseFloat(inputValue) > 0 && (_this.pdfViewer.pageCount + 1) > parseFloat(inputValue)) {\n                _this.EnableApplyButton();\n            }\n            else {\n                _this.DisableApplyButton();\n            }\n        });\n    };\n    PdfViewerBase.prototype.closeGoToPagePopUp = function () {\n        this.goToPageInput.value = '';\n        this.DisableApplyButton();\n    };\n    PdfViewerBase.prototype.EnableApplyButton = function () {\n        // tslint:disable-next-line\n        var popupElements = document.getElementsByClassName('e-pv-gotopage-apply-btn')[0];\n        popupElements.removeAttribute('disabled');\n    };\n    PdfViewerBase.prototype.DisableApplyButton = function () {\n        // tslint:disable-next-line\n        var popupElements = document.getElementsByClassName('e-pv-gotopage-apply-btn')[0];\n        popupElements.setAttribute('disabled', true);\n    };\n    PdfViewerBase.prototype.GoToPageCancelClick = function () {\n        this.goToPagePopup.hide();\n    };\n    PdfViewerBase.prototype.GoToPageApplyClick = function () {\n        this.goToPagePopup.hide();\n        // tslint:disable-next-line\n        var pageNumber = this.goToPageInput.value;\n        this.pdfViewer.navigation.goToPage(pageNumber);\n        this.updateMobileScrollerPosition();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateMobileScrollerPosition = function () {\n        if (Browser.isDevice) {\n            // tslint:disable-next-line\n            var ratio = (this.viewerContainer.scrollHeight - this.viewerContainer.clientHeight) / (this.viewerContainer.clientHeight - 56);\n            // tslint:disable-next-line\n            var differenceRatio = (this.viewerContainer.scrollTop) / ratio;\n            this.mobileScrollerContainer.style.top = (this.toolbarHeight + differenceRatio) + 'px';\n        }\n    };\n    PdfViewerBase.prototype.createPasswordPopup = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_password_popup', className: 'e-pv-password-popup', attrs: { 'tabindex': '-1' } });\n        this.promptElement = createElement('span', { id: this.pdfViewer.element.id + '_prompt', attrs: { 'tabindex': '-1' } });\n        this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Enter Password');\n        popupElement.appendChild(this.promptElement);\n        var inputContainer = createElement('span', { className: 'e-input-group e-pv-password-input' });\n        // tslint:disable-next-line:max-line-length\n        this.passwordInput = createElement('input', { id: this.pdfViewer.element.id + '_password_input', className: 'e-input' });\n        this.passwordInput.type = 'password';\n        this.passwordInput.name = 'Required';\n        inputContainer.appendChild(this.passwordInput);\n        popupElement.appendChild(inputContainer);\n        this.pageContainer.appendChild(popupElement);\n        this.passwordPopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true,\n            header: this.pdfViewer.localeObj.getConstant('Password Protected'), visible: false,\n            close: this.passwordCancel.bind(this), target: this.pdfViewer.element, beforeClose: function () {\n                _this.passwordPopup.destroy();\n                _this.getElement('_password_popup').remove();\n                _this.passwordPopup = null;\n                _this.waitingPopup = _this.getElement('_loadingIndicator');\n                if (_this.waitingPopup != null) {\n                    hideSpinner(_this.waitingPopup);\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.passwordPopup.buttons = [\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.applyPassword.bind(this)\n                },\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.passwordCancelClick.bind(this) }\n            ];\n        }\n        else {\n            this.passwordPopup.buttons = [\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.passwordCancelClick.bind(this) },\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.applyPassword.bind(this)\n                }\n            ];\n        }\n        if (this.pdfViewer.enableRtl) {\n            this.passwordPopup.enableRtl = true;\n        }\n        this.passwordPopup.appendTo(popupElement);\n        this.passwordInput.addEventListener('keyup', function () {\n            if (_this.passwordInput.value === '') {\n                _this.passwordDialogReset();\n            }\n        });\n        this.passwordInput.addEventListener('focus', function () {\n            _this.passwordInput.parentElement.classList.add('e-input-focus');\n        });\n        this.passwordInput.addEventListener('blur', function () {\n            _this.passwordInput.parentElement.classList.remove('e-input-focus');\n        });\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.passwordCancel = function (args) {\n        if (args.isInteraction) {\n            this.clear(false);\n            this.passwordDialogReset();\n            this.passwordInput.value = '';\n        }\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup !== null) {\n            hideSpinner(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.passwordCancelClick = function () {\n        this.clear(false);\n        this.passwordDialogReset();\n        this.passwordPopup.hide();\n        this.waitingPopup = this.getElement('_loadingIndicator');\n        if (this.waitingPopup !== null) {\n            hideSpinner(this.waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.passwordDialogReset = function () {\n        if (this.promptElement) {\n            this.promptElement.classList.remove('e-pv-password-error');\n            this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Enter Password');\n            this.passwordInput.value = '';\n        }\n    };\n    PdfViewerBase.prototype.applyPassword = function () {\n        var password = this.passwordInput.value;\n        if (password !== '') {\n            this.pdfViewer.load(this.document, password);\n        }\n        this.focusViewerContainer();\n    };\n    PdfViewerBase.prototype.wireEvents = function () {\n        this.viewerContainer.addEventListener('scroll', this.viewerContainerOnScroll, true);\n        if (Browser.isDevice) {\n            this.viewerContainer.addEventListener('touchmove', this.viewerContainerOnScroll, true);\n        }\n        this.viewerContainer.addEventListener('mousedown', this.viewerContainerOnMousedown);\n        this.viewerContainer.addEventListener('mouseup', this.viewerContainerOnMouseup);\n        this.viewerContainer.addEventListener('wheel', this.viewerContainerOnMouseWheel);\n        this.viewerContainer.addEventListener('mousemove', this.viewerContainerOnMousemove);\n        this.viewerContainer.addEventListener('mouseleave', this.viewerContainerOnMouseLeave);\n        this.viewerContainer.addEventListener('mouseenter', this.viewerContainerOnMouseEnter);\n        this.viewerContainer.addEventListener('mouseover', this.viewerContainerOnMouseOver);\n        this.viewerContainer.addEventListener('click', this.viewerContainerOnClick);\n        this.viewerContainer.addEventListener('dblclick', this.viewerContainerOnClick);\n        this.viewerContainer.addEventListener('dragstart', this.viewerContainerOnDragStart);\n        this.pdfViewer.element.addEventListener('keydown', this.viewerContainerOnKeyDown);\n        window.addEventListener('mouseup', this.onWindowMouseUp);\n        window.addEventListener('touchend', this.onWindowTouchEnd);\n        window.addEventListener('unload', this.unloadDocument);\n        window.addEventListener('resize', this.onWindowResize);\n        // tslint:disable-next-line:max-line-length\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.userAgent.indexOf('Edge') !== -1 || navigator.userAgent.indexOf('Trident') !== -1) {\n            this.viewerContainer.addEventListener('pointerdown', this.viewerContainerOnPointerDown);\n            this.viewerContainer.addEventListener('pointermove', this.viewerContainerOnPointerMove);\n            this.viewerContainer.addEventListener('pointerup', this.viewerContainerOnPointerEnd);\n            this.viewerContainer.addEventListener('pointerleave', this.viewerContainerOnPointerEnd);\n        }\n        else {\n            this.viewerContainer.addEventListener('touchstart', this.viewerContainerOnTouchStart);\n            this.viewerContainer.addEventListener('touchmove', this.viewerContainerOnTouchMove);\n            this.viewerContainer.addEventListener('touchend', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.addEventListener('touchleave', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.addEventListener('touchcancel', this.viewerContainerOnTouchEnd);\n        }\n    };\n    PdfViewerBase.prototype.unWireEvents = function () {\n        this.viewerContainer.removeEventListener('scroll', this.viewerContainerOnScroll, true);\n        if (Browser.isDevice) {\n            this.viewerContainer.removeEventListener('touchmove', this.viewerContainerOnScroll, true);\n        }\n        this.viewerContainer.removeEventListener('mousedown', this.viewerContainerOnMousedown);\n        this.viewerContainer.removeEventListener('mouseup', this.viewerContainerOnMouseup);\n        this.viewerContainer.removeEventListener('wheel', this.viewerContainerOnMouseWheel);\n        this.viewerContainer.removeEventListener('mousemove', this.viewerContainerOnMousemove);\n        this.viewerContainer.removeEventListener('mouseleave', this.viewerContainerOnMouseLeave);\n        this.viewerContainer.removeEventListener('mouseenter', this.viewerContainerOnMouseEnter);\n        this.viewerContainer.removeEventListener('mouseover', this.viewerContainerOnMouseOver);\n        this.viewerContainer.removeEventListener('click', this.viewerContainerOnClick);\n        this.viewerContainer.removeEventListener('dragstart', this.viewerContainerOnDragStart);\n        this.viewerContainer.removeEventListener('contextmenu', this.viewerContainerOnContextMenuClick);\n        this.pdfViewer.element.removeEventListener('keydown', this.viewerContainerOnKeyDown);\n        window.removeEventListener('mouseup', this.onWindowMouseUp);\n        window.removeEventListener('unload', this.unloadDocument);\n        window.removeEventListener('resize', this.onWindowResize);\n        // tslint:disable-next-line:max-line-length\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.userAgent.indexOf('Edge') !== -1 || navigator.userAgent.indexOf('Trident') !== -1) {\n            this.viewerContainer.removeEventListener('pointerdown', this.viewerContainerOnPointerDown);\n            this.viewerContainer.removeEventListener('pointermove', this.viewerContainerOnPointerMove);\n            this.viewerContainer.removeEventListener('pointerup', this.viewerContainerOnPointerEnd);\n            this.viewerContainer.removeEventListener('pointerleave', this.viewerContainerOnPointerEnd);\n        }\n        else {\n            this.viewerContainer.removeEventListener('touchstart', this.viewerContainerOnTouchStart);\n            this.viewerContainer.removeEventListener('touchmove', this.viewerContainerOnTouchMove);\n            this.viewerContainer.removeEventListener('touchend', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.removeEventListener('touchleave', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.removeEventListener('touchcancel', this.viewerContainerOnTouchEnd);\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateZoomValue = function () {\n        if (this.pdfViewer.magnificationModule) {\n            if (this.pdfViewer.magnificationModule.isAutoZoom) {\n                this.pdfViewer.magnificationModule.fitToAuto();\n            }\n            else if (this.pdfViewer.magnificationModule.fitType === 'fitToWidth') {\n                this.pdfViewer.magnificationModule.fitToWidth();\n            }\n        }\n        for (var i = 0; i < this.pageCount; i++) {\n            this.applyLeftPosition(i);\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initiatePanning = function () {\n        this.isPanMode = true;\n        this.textLayer.modifyTextCursor(false);\n        this.disableTextSelectionMode();\n        this.enableAnnotationAddTools(false);\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initiateTextSelectMode = function () {\n        this.isPanMode = false;\n        this.viewerContainer.style.cursor = 'auto';\n        if (this.pdfViewer.textSelectionModule) {\n            this.textLayer.modifyTextCursor(true);\n            this.pdfViewer.textSelectionModule.enableTextSelectionMode();\n        }\n        if (!Browser.isDevice) {\n            this.enableAnnotationAddTools(true);\n        }\n    };\n    PdfViewerBase.prototype.enableAnnotationAddTools = function (isEnable) {\n        if (this.pdfViewer.toolbarModule) {\n            if (this.pdfViewer.toolbarModule.annotationToolbarModule) {\n                this.pdfViewer.toolbarModule.annotationToolbarModule.enableAnnotationAddTools(isEnable);\n            }\n        }\n    };\n    PdfViewerBase.prototype.applySelection = function () {\n        if (window.getSelection().anchorNode !== null) {\n            this.pdfViewer.textSelectionModule.applySpanForSelection();\n        }\n        this.isViewerContainerDoubleClick = false;\n    };\n    PdfViewerBase.prototype.handleTaps = function (touchPoints) {\n        var _this = this;\n        this.singleTapTimer = setTimeout(function () { _this.onSingleTap(touchPoints); }, 300);\n        this.tapCount++;\n        // tslint:disable-next-line\n        var timer = setTimeout(function () { _this.onDoubleTap(touchPoints); }, 200);\n        if (this.tapCount > 2) {\n            this.tapCount = 0;\n        }\n    };\n    PdfViewerBase.prototype.onSingleTap = function (touches) {\n        if (!this.isLongTouchPropagated && !this.navigationPane.isNavigationToolbarVisible) {\n            if (this.pdfViewer.toolbarModule) {\n                if ((this.touchClientX >= touches[0].clientX - 10) && (this.touchClientX <= touches[0].clientX + 10) &&\n                    (this.touchClientY >= touches[0].clientY - 10) && (this.touchClientY <= touches[0].clientY + 10)) {\n                    if (!this.isTapHidden) {\n                        this.viewerContainer.scrollTop -= this.getElement('_toolbarContainer').clientHeight * this.getZoomFactor();\n                        this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 0);\n                        if (this.pdfViewer.toolbar.moreDropDown) {\n                            var dropDown = this.getElement('_more_option-popup');\n                            if (dropDown.firstElementChild) {\n                                dropDown.classList.remove('e-popup-open');\n                                dropDown.classList.add('e-popup-close');\n                                dropDown.removeChild(dropDown.firstElementChild);\n                            }\n                        }\n                    }\n                    else {\n                        this.viewerContainer.scrollTop += this.getElement('_toolbarContainer').clientHeight * this.getZoomFactor();\n                        // tslint:disable-next-line:max-line-length\n                        this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 56);\n                    }\n                    if (this.isTapHidden && Browser.isDevice) {\n                        this.mobileScrollerContainer.style.display = '';\n                        this.updateMobileScrollerPosition();\n                    }\n                    else if (Browser.isDevice && this.getSelectTextMarkupCurrentPage() == null) {\n                        this.mobileScrollerContainer.style.display = 'none';\n                    }\n                    if (this.getSelectTextMarkupCurrentPage() == null) {\n                        this.pdfViewer.toolbarModule.showToolbar(this.isTapHidden);\n                        this.isTapHidden = !this.isTapHidden;\n                    }\n                }\n                this.tapCount = 0;\n            }\n        }\n    };\n    PdfViewerBase.prototype.onDoubleTap = function (touches) {\n        if (this.tapCount === 2) {\n            if (Browser.isDevice) {\n                this.mobileScrollerContainer.style.display = 'none';\n            }\n            this.tapCount = 0;\n            if ((this.touchClientX >= touches[0].clientX - 10) && (this.touchClientX <= touches[0].clientX + 10) &&\n                (this.touchClientY >= touches[0].clientY - 10) && (this.touchClientY <= touches[0].clientY + 10)) {\n                this.pdfViewer.magnification.onDoubleTapMagnification();\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 0);\n                this.isTapHidden = false;\n                clearTimeout(this.singleTapTimer);\n            }\n        }\n    };\n    PdfViewerBase.prototype.preventTouchEvent = function (event) {\n        if (this.pdfViewer.textSelectionModule) {\n            // tslint:disable-next-line:max-line-length\n            if (!this.isPanMode && this.pdfViewer.enableTextSelection && !this.isTextSelectionDisabled && this.getSelectTextMarkupCurrentPage() == null) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.initPageDiv = function (pageValues) {\n        if (this.pdfViewer.toolbarModule) {\n            this.pdfViewer.toolbarModule.updateTotalPage();\n            if (Browser.isDevice && this.mobiletotalPageContainer) {\n                this.mobiletotalPageContainer.innerHTML = this.pageCount.toString();\n                this.pageNoContainer.innerHTML = '(1-' + this.pageCount.toString() + ')';\n            }\n        }\n        if (this.pageCount > 0) {\n            var topValue = 0;\n            var pageLimit = 0;\n            if (this.pageCount > 100) {\n                // to render 100 pages intially.\n                pageLimit = 100;\n                this.pageLimit = pageLimit;\n            }\n            else {\n                pageLimit = this.pageCount;\n            }\n            for (var i = 0; i < pageLimit; i++) {\n                var pageSize = pageValues.pageSizes[i].split(',');\n                if (pageValues.pageSizes[i - 1] !== null && i !== 0) {\n                    var previousPageHeight = pageValues.pageSizes[i - 1].split(',');\n                    topValue = this.pageGap + parseFloat(previousPageHeight[1]) + topValue;\n                }\n                else {\n                    topValue = this.pageGap;\n                }\n                var size = { width: parseFloat(pageSize[0]), height: parseFloat(pageSize[1]), top: topValue };\n                this.pageSize.push(size);\n            }\n            var limit = this.pageCount < 10 ? this.pageCount : 10;\n            for (var i = 0; i < limit; i++) {\n                this.renderPageContainer(i, this.getPageWidth(i), this.getPageHeight(i), this.getPageTop(i));\n            }\n            // tslint:disable-next-line:max-line-length\n            this.pageContainer.style.height = this.getPageTop(this.pageSize.length - 1) + this.getPageHeight(this.pageSize.length - 1) + 'px';\n            this.pageContainer.style.position = 'relative';\n            if (this.pageLimit === 100) {\n                var pageDiv = this.getElement('_pageDiv_' + this.pageLimit);\n                if (pageDiv === null && this.pageLimit < this.pageCount) {\n                    Promise.all([this.renderPagesVirtually()]);\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderElementsVirtualScroll = function (pageNumber) {\n        var pageValue = pageNumber + 1;\n        if (pageValue > this.pageCount) {\n            pageValue = this.pageCount;\n        }\n        for (var i = pageNumber - 1; i <= pageValue; i++) {\n            if (i !== -1) {\n                this.renderPageElement(i);\n            }\n        }\n        var lowerPageValue = pageNumber - 3;\n        if (lowerPageValue < 0) {\n            lowerPageValue = 0;\n        }\n        for (var i = pageNumber - 1; i >= lowerPageValue; i--) {\n            if (i !== -1) {\n                this.renderPageElement(i);\n            }\n        }\n        for (var j = 0; j < this.pageCount; j++) {\n            if (!((lowerPageValue <= j) && (j <= pageValue))) {\n                var pageDiv = this.getElement('_pageDiv_' + j);\n                var pageCanvas = this.getElement('_pageCanvas_' + j);\n                var textLayer = this.getElement('_textLayer_' + j);\n                if (pageCanvas) {\n                    pageCanvas.parentNode.removeChild(pageCanvas);\n                    if (textLayer) {\n                        if (this.pdfViewer.textSelectionModule && textLayer.childNodes.length !== 0 && !this.isTextSelectionDisabled) {\n                            this.pdfViewer.textSelectionModule.maintainSelectionOnScroll(j, true);\n                        }\n                        textLayer.parentNode.removeChild(textLayer);\n                    }\n                    var indexInArray = this.renderedPagesList.indexOf(j);\n                    if (indexInArray !== -1) {\n                        this.renderedPagesList.splice(indexInArray, 1);\n                    }\n                }\n                if (pageDiv) {\n                    pageDiv.parentNode.removeChild(pageDiv);\n                    var indexInArray = this.renderedPagesList.indexOf(j);\n                    if (indexInArray !== -1) {\n                        this.renderedPagesList.splice(indexInArray, 1);\n                    }\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderPageElement = function (i) {\n        var pageDiv = this.getElement('_pageDiv_' + i);\n        var canvas = this.getElement('_pageCanvas_' + i);\n        if (canvas == null && pageDiv == null && i < this.pageSize.length) {\n            // tslint:disable-next-line\n            this.renderPageContainer(i, this.getPageWidth(i), this.getPageHeight(i), this.getPageTop(i));\n        }\n    };\n    PdfViewerBase.prototype.renderPagesVirtually = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var proxy;\n            var _this = this;\n            return __generator(this, function (_a) {\n                proxy = this;\n                setTimeout(function () { _this.initiateRenderPagesVirtually(proxy); }, 500);\n                return [2 /*return*/];\n            });\n        });\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.initiateRenderPagesVirtually = function (proxy) {\n        var _this = this;\n        var jsonObject = { hashId: proxy.hashId, isCompletePageSizeNotReceived: true };\n        var request = new XMLHttpRequest();\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.load);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                if (data) {\n                    // tslint:disable-next-line\n                    var pageValues = data;\n                    var topValue = proxy.pageSize[proxy.pageLimit - 1].top;\n                    for (var i = proxy.pageLimit; i < proxy.pageCount; i++) {\n                        var pageSize = pageValues.pageSizes[i].split(',');\n                        if (proxy.pageSize[i - 1] !== null && i !== 0) {\n                            var previousPageHeight = proxy.pageSize[i - 1].height;\n                            topValue = _this.pageGap + parseFloat(previousPageHeight) + topValue;\n                        }\n                        var size = { width: parseFloat(pageSize[0]), height: parseFloat(pageSize[1]), top: topValue };\n                        _this.pageSize.push(size);\n                    }\n                    // tslint:disable-next-line:max-line-length\n                    _this.pageContainer.style.height = _this.getPageTop(_this.pageSize.length - 1) + _this.getPageHeight(_this.pageSize.length - 1) + 'px';\n                }\n            }\n            else if (request.readyState === 4 && request.status === 400) {\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText); // jshint ignore:line\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.openNotificationPopup();\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.renderPage = function (data, pageIndex) {\n        var _this = this;\n        if (data) {\n            var pageWidth_1 = this.getPageWidth(pageIndex);\n            var pageHeight_1 = this.getPageHeight(pageIndex);\n            // tslint:disable-next-line:max-line-length\n            var canvas_1 = this.getElement('_pageCanvas_' + pageIndex);\n            var pageDiv = this.getElement('_pageDiv_' + pageIndex);\n            if (pageDiv) {\n                pageDiv.style.width = pageWidth_1 + 'px';\n                pageDiv.style.height = pageHeight_1 + 'px';\n                pageDiv.style.top = this.getPageTop(pageIndex) + 'px';\n                if (this.pdfViewer.enableRtl) {\n                    pageDiv.style.right = this.updateLeftPosition(pageIndex) + 'px';\n                }\n                else {\n                    pageDiv.style.left = this.updateLeftPosition(pageIndex) + 'px';\n                }\n            }\n            if (canvas_1) {\n                canvas_1.style.width = pageWidth_1 + 'px';\n                canvas_1.style.height = pageHeight_1 + 'px';\n                var context_1 = canvas_1.getContext('2d');\n                // tslint:disable-next-line\n                var imageData = data['image'];\n                // tslint:disable-next-line\n                var matrix_1 = data['transformationMatrix'];\n                if (imageData) {\n                    var image_1 = new Image();\n                    image_1.onload = function () {\n                        // tslint:disable-next-line\n                        if (parseInt((pageWidth_1 * 1.5).toString()) === image_1.width) {\n                            if (!isNaN(parseFloat(canvas_1.style.width))) {\n                                canvas_1.style.width = pageWidth_1 + 'px';\n                                canvas_1.style.height = pageHeight_1 + 'px';\n                                canvas_1.height = pageHeight_1 * window.devicePixelRatio;\n                                canvas_1.width = pageWidth_1 * window.devicePixelRatio;\n                            }\n                            // tslint:disable-next-line\n                            context_1.setTransform(matrix_1.Elements[0], matrix_1.Elements[1], matrix_1.Elements[2], matrix_1.Elements[3], matrix_1.Elements[4], matrix_1.Elements[5]);\n                            context_1.drawImage(image_1, 0, 0, canvas_1.width, canvas_1.height);\n                            _this.showPageLoadingIndicator(pageIndex, false);\n                            if (pageIndex === 0 && _this.isDocumentLoaded) {\n                                _this.pdfViewer.fireDocumentLoad();\n                                _this.isDocumentLoaded = false;\n                            }\n                            if (_this.pdfViewer.magnificationModule) {\n                                _this.pdfViewer.magnificationModule.rerenderCountIncrement();\n                            }\n                        }\n                    };\n                    image_1.src = imageData;\n                    if (this.pdfViewer.magnificationModule) {\n                        this.pdfViewer.magnificationModule.pushImageObjects(image_1);\n                    }\n                }\n                var aElement = pageDiv.getElementsByTagName('a');\n                if (aElement.length !== 0) {\n                    for (var index = aElement.length - 1; index >= 0; index--) {\n                        aElement[index].parentNode.removeChild(aElement[index]);\n                    }\n                }\n                this.renderTextContent(data, pageIndex);\n                if (this.pdfViewer.enableHyperlink && this.pdfViewer.linkAnnotationModule) {\n                    this.pdfViewer.linkAnnotationModule.renderHyperlinkContent(data, pageIndex);\n                }\n                if (this.pdfViewer.textSelectionModule && !this.isTextSelectionDisabled) {\n                    this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(pageIndex);\n                }\n                if (this.isTextMarkupAnnotationModule()) {\n                    // tslint:disable-next-line\n                    this.pdfViewer.annotationModule.textMarkupAnnotationModule.renderTextMarkupAnnotationsInPage(data['textMarkupAnnotation'], pageIndex);\n                }\n                if (this.pdfViewer.textSearchModule) {\n                    if (this.pdfViewer.textSearchModule.isTextSearch) {\n                        this.pdfViewer.textSearchModule.highlightOtherOccurrences(pageIndex);\n                    }\n                }\n            }\n        }\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.renderTextContent = function (data, pageIndex) {\n        // tslint:disable-next-line\n        var texts = data['textContent'];\n        // tslint:disable-next-line\n        var bounds = data['textBounds'];\n        // tslint:disable-next-line\n        var rotation = data['rotation'];\n        var textLayer = this.getElement('_textLayer_' + pageIndex);\n        if (!textLayer) {\n            // tslint:disable-next-line:max-line-length\n            textLayer = this.textLayer.addTextLayer(pageIndex, this.getPageWidth(pageIndex), this.getPageHeight(pageIndex), this.getElement('_pageDiv_' + pageIndex));\n        }\n        if (textLayer) {\n            if (textLayer.childNodes.length === 0) {\n                this.textLayer.renderTextContents(pageIndex, texts, bounds, rotation);\n            }\n            else {\n                this.textLayer.resizeTextContents(pageIndex, texts, bounds, rotation);\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderPageContainer = function (pageNumber, pageWidth, pageHeight, topValue) {\n        // tslint:disable-next-line:max-line-length\n        var pageDiv = createElement('div', { id: this.pdfViewer.element.id + '_pageDiv_' + pageNumber, className: 'e-pv-page-div', attrs: { 'tabindex': '0' } });\n        pageDiv.style.width = pageWidth + 'px';\n        pageDiv.style.height = pageHeight + 'px';\n        if (this.pdfViewer.enableRtl) {\n            pageDiv.style.right = this.updateLeftPosition(pageNumber) + 'px';\n        }\n        else {\n            pageDiv.style.left = this.updateLeftPosition(pageNumber) + 'px';\n        }\n        pageDiv.style.top = topValue + 'px';\n        this.pageContainer.appendChild(pageDiv);\n        this.pageContainer.style.width = this.viewerContainer.clientWidth + 'px';\n        this.createWaitingPopup(pageNumber);\n        this.orderPageDivElements(pageDiv, pageNumber);\n        this.renderPageCanvas(pageDiv, pageWidth, pageHeight, pageNumber, 'block');\n    };\n    PdfViewerBase.prototype.orderPageDivElements = function (pageDiv, pageIndex) {\n        var nextElement = this.getElement('_pageDiv_' + (pageIndex + 1));\n        if (nextElement) {\n            this.pageContainer.insertBefore(pageDiv, nextElement);\n        }\n        else {\n            this.pageContainer.appendChild(pageDiv);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    PdfViewerBase.prototype.renderPageCanvas = function (pageDiv, pageWidth, pageHeight, pageNumber, displayMode) {\n        var pageCanvas = createElement('canvas', { id: this.pdfViewer.element.id + '_pageCanvas_' + pageNumber, className: 'e-pv-page-canvas' });\n        pageCanvas.width = pageWidth;\n        pageCanvas.height = pageHeight;\n        pageCanvas.style.display = displayMode;\n        pageDiv.appendChild(pageCanvas);\n        this.textLayer.addTextLayer(pageNumber, pageWidth, pageHeight, pageDiv);\n        if (this.isTextMarkupAnnotationModule()) {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.createAnnotationLayer(pageDiv, pageWidth, pageHeight, pageNumber, displayMode);\n        }\n        return pageCanvas;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.updateLeftPosition = function (pageIndex) {\n        var leftPosition;\n        // tslint:disable-next-line:max-line-length\n        leftPosition = (this.viewerContainer.getBoundingClientRect().width - this.getPageWidth(pageIndex)) / 2;\n        // tslint:disable-next-line:max-line-length\n        if (leftPosition < 0 || (this.pdfViewer.magnificationModule ? ((this.pdfViewer.magnificationModule.isAutoZoom && this.getZoomFactor() < 1) || this.pdfViewer.magnificationModule.fitType === 'fitToWidth') : false)) {\n            leftPosition = this.pageLeft;\n        }\n        return leftPosition;\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.applyLeftPosition = function (pageIndex) {\n        var leftPosition;\n        if (this.pageSize[pageIndex]) {\n            // tslint:disable-next-line:max-line-length\n            leftPosition = (this.viewerContainer.getBoundingClientRect().width - this.pageSize[pageIndex].width * this.getZoomFactor()) / 2;\n            // tslint:disable-next-line:max-line-length\n            if (leftPosition < 0 || (this.pdfViewer.magnificationModule ? ((this.pdfViewer.magnificationModule.isAutoZoom && this.getZoomFactor() < 1) || this.pdfViewer.magnificationModule.fitType === 'fitToWidth') : false)) {\n                leftPosition = this.pageLeft;\n            }\n            // tslint:disable-next-line:max-line-length\n            var pageDiv = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + pageIndex);\n            if (pageDiv) {\n                if (!this.pdfViewer.enableRtl) {\n                    pageDiv.style.left = leftPosition + 'px';\n                }\n                else {\n                    pageDiv.style.right = leftPosition + 'px';\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.updatePageHeight = function (viewerHeight, toolbarHeight) {\n        return ((viewerHeight - toolbarHeight) / viewerHeight) * 100 + '%';\n    };\n    PdfViewerBase.prototype.initiatePageViewScrollChanged = function () {\n        if ((this.scrollPosition * this.getZoomFactor()) !== this.viewerContainer.scrollTop) {\n            this.scrollPosition = this.viewerContainer.scrollTop;\n            this.pageViewScrollChanged(this.currentPageNumber);\n        }\n    };\n    PdfViewerBase.prototype.renderCountIncrement = function () {\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.renderCountIncrement();\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.pageViewScrollChanged = function (currentPageNumber) {\n        this.reRenderedCount = 0;\n        var currentPageIndex = currentPageNumber - 1;\n        if (currentPageNumber !== this.previousPage && currentPageNumber <= this.pageCount) {\n            if (this.renderedPagesList.indexOf(currentPageIndex) === -1 && !this.getMagnified()) {\n                this.createRequestForRender(currentPageIndex);\n                this.renderCountIncrement();\n            }\n        }\n        if (!(this.getMagnified() || this.getPagesPinchZoomed())) {\n            var previous = currentPageIndex - 1;\n            var canvas = this.getElement('_pageCanvas_' + previous);\n            if (canvas !== null) {\n                if (this.renderedPagesList.indexOf(previous) === -1 && !this.getMagnified()) {\n                    this.createRequestForRender(previous);\n                    this.renderCountIncrement();\n                }\n            }\n            var next = currentPageIndex + 1;\n            if (next < this.pageCount) {\n                if (this.renderedPagesList.indexOf(next) === -1 && !this.getMagnified()) {\n                    this.createRequestForRender(next);\n                    var pageHeight = this.getPageHeight(next);\n                    this.renderCountIncrement();\n                    while (this.viewerContainer.clientHeight > pageHeight) {\n                        next = next + 1;\n                        if (next < this.pageCount) {\n                            this.renderPageElement(next);\n                            this.createRequestForRender(next);\n                            pageHeight += this.getPageHeight(next);\n                            this.renderCountIncrement();\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.downloadDocument = function (blobUrl) {\n        blobUrl = URL.createObjectURL(blobUrl);\n        var anchorElement = createElement('a');\n        if (anchorElement.click) {\n            anchorElement.href = blobUrl;\n            anchorElement.target = '_parent';\n            if ('download' in anchorElement) {\n                anchorElement.download = this.pdfViewer.fileName;\n            }\n            (document.body || document.documentElement).appendChild(anchorElement);\n            anchorElement.click();\n            anchorElement.parentNode.removeChild(anchorElement);\n        }\n        else {\n            if (window.top === window &&\n                blobUrl.split('#')[0] === window.location.href.split('#')[0]) {\n                var padCharacter = blobUrl.indexOf('?') === -1 ? '?' : '&';\n                blobUrl = blobUrl.replace(/#|$/, padCharacter + '$&');\n            }\n            window.open(blobUrl, '_parent');\n        }\n    };\n    PdfViewerBase.prototype.createRequestForDownload = function () {\n        var _this = this;\n        var jsonObject;\n        if (this.isTextMarkupAnnotationModule()) {\n            // tslint:disable-next-line:max-line-length\n            var textMarkupAnnotationCollection = this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveTextMarkupAnnotations();\n            jsonObject = { hashId: this.hashId, textMarkupAnnotations: textMarkupAnnotationCollection };\n        }\n        else {\n            jsonObject = { hashId: this.hashId };\n        }\n        var request = new XMLHttpRequest();\n        request.open('POST', this.pdfViewer.serviceUrl + '/' + this.pdfViewer.serverActionSettings.download);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8'); // jshint ignore:line\n        request.responseType = 'text';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) { // jshint ignore:line\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                // tslint:disable-next-line:max-line-length\n                if (typeof data === 'object') {\n                    data = JSON.parse(data);\n                }\n                if (data) {\n                    var blobUrl = _this.createBlobUrl(data.split('base64,')[1], 'application/pdf');\n                    if (Browser.isIE || Browser.info.name === 'edge') {\n                        window.navigator.msSaveOrOpenBlob(blobUrl, _this.pdfViewer.fileName);\n                    }\n                    else {\n                        _this.downloadDocument(blobUrl);\n                    }\n                }\n            }\n            else if (request.readyState === 4 && request.status === 400) {\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.openNotificationPopup();\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    PdfViewerBase.prototype.createRequestForRender = function (pageIndex) {\n        var _this = this;\n        var canvas = this.getElement('_pageCanvas_' + pageIndex);\n        var oldCanvas = this.getElement('_oldCanvas_' + pageIndex);\n        if (!this.getPagesZoomed()) {\n            this.showPageLoadingIndicator(pageIndex, true);\n        }\n        else {\n            this.showPageLoadingIndicator(pageIndex, false);\n        }\n        if (canvas) {\n            if (!isNaN(parseFloat(canvas.style.width)) || oldCanvas) {\n                this.showPageLoadingIndicator(pageIndex, false);\n            }\n            // tslint:disable-next-line\n            var data = this.getStoredData(pageIndex);\n            if (data) {\n                this.renderPage(data, pageIndex);\n            }\n            else {\n                var noTileX = 1;\n                var noTileY = 1;\n                for (var x = 0; x < noTileX; x++) {\n                    var _loop_1 = function (y) {\n                        var jsonObject = void 0;\n                        // tslint:disable-next-line:max-line-length\n                        jsonObject = { xCoordinate: x, yCoordinate: y, pageNumber: pageIndex, documentId: this_1.documentId, hashId: this_1.hashId, zoomFactor: this_1.getZoomFactor() };\n                        var request = new XMLHttpRequest();\n                        request.open('POST', this_1.pdfViewer.serviceUrl + '/' + this_1.pdfViewer.serverActionSettings.renderPages);\n                        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n                        request.responseType = 'json';\n                        request.send(JSON.stringify(jsonObject));\n                        // tslint:disable-next-line\n                        request.onreadystatechange = function (event) {\n                            var proxy = _this;\n                            if (request.readyState === 4 && request.status === 200) {\n                                // tslint:disable-next-line\n                                var data_1 = event.currentTarget.response;\n                                // tslint:disable-next-line:max-line-length\n                                if (typeof data_1 !== 'object') {\n                                    data_1 = JSON.parse(data_1);\n                                }\n                                if (data_1) {\n                                    if (data_1.image) {\n                                        proxy.storeWinData(data_1, pageIndex);\n                                        proxy.renderPage(data_1, pageIndex);\n                                    }\n                                }\n                            }\n                            else if (request.readyState === 4 && request.status === 400) {\n                                // error\n                                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n                            }\n                        };\n                        // tslint:disable-next-line\n                        request.onerror = function (event) {\n                            _this.openNotificationPopup();\n                            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n                        };\n                    };\n                    var this_1 = this;\n                    for (var y = 0; y < noTileY; y++) {\n                        _loop_1(y);\n                    }\n                }\n            }\n            this.renderedPagesList.push(pageIndex);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.getStoredData = function (pageIndex) {\n        // tslint:disable-next-line\n        var storedData = this.getWindowSessionStorage(pageIndex) ? this.getWindowSessionStorage(pageIndex) : this.getPinchZoomPage(pageIndex);\n        // tslint:disable-next-line\n        var data = null;\n        if (storedData) {\n            // tslint:disable-next-line\n            data = storedData;\n            if (!this.isPinchZoomStorage) {\n                data = JSON.parse(storedData);\n            }\n            this.isPinchZoomStorage = false;\n        }\n        return data;\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.storeWinData = function (data, pageIndex) {\n        // tslint:disable-next-line\n        var blobObj = this.createBlobUrl(data['image'].split('base64,')[1], 'image/png');\n        var blobUrl = URL.createObjectURL(blobObj);\n        // tslint:disable-next-line\n        var storeObject = {\n            // tslint:disable-next-line\n            image: blobUrl, transformationMatrix: data['transformationMatrix'], hyperlinks: data['hyperlinks'], hyperlinkBounds: data['hyperlinkBounds'], linkAnnotation: data['linkAnnotation'], linkPage: data['linkPage'], annotationLocation: data['annotationLocation'],\n            // tslint:disable-next-line\n            textContent: data['textContent'], textBounds: data['textBounds'], pageText: data['pageText'], rotation: data['rotation']\n        };\n        // tslint:disable-next-line:max-line-length\n        if (this.pdfViewer.magnificationModule ? this.pdfViewer.magnificationModule.checkZoomFactor() : true) {\n            this.manageSessionStorage(pageIndex, storeObject);\n        }\n        else {\n            this.pinchZoomStorage.push({ index: pageIndex, pinchZoomStorage: storeObject });\n        }\n    };\n    PdfViewerBase.prototype.getPinchZoomPage = function (pageIndex) {\n        // tslint:disable-next-line\n        for (var key in this.pinchZoomStorage) {\n            if (this.pinchZoomStorage.hasOwnProperty(key)) {\n                if (this.pinchZoomStorage[key].index === pageIndex) {\n                    this.isPinchZoomStorage = true;\n                    return this.pinchZoomStorage[key].pinchZoomStorage;\n                }\n            }\n        }\n        return null;\n    };\n    PdfViewerBase.prototype.getWindowSessionStorage = function (pageIndex) {\n        return window.sessionStorage.getItem(this.documentId + '_' + pageIndex + '_' + this.getZoomFactor());\n    };\n    // tslint:disable-next-line\n    PdfViewerBase.prototype.manageSessionStorage = function (pageIndex, storeObject) {\n        if (this.pageCount > this.sessionLimit && window.sessionStorage.length > this.sessionLimit) {\n            var lowerPageValue = this.currentPageNumber - this.sessionLimit;\n            if (lowerPageValue < 0) {\n                lowerPageValue = 0;\n            }\n            var higherPageValue = this.currentPageNumber + this.sessionLimit;\n            if (higherPageValue > this.pageCount) {\n                higherPageValue = this.pageCount;\n            }\n            for (var i = 0; i <= this.pageCount; i++) {\n                if (!((lowerPageValue <= i) && (i < higherPageValue))) {\n                    window.sessionStorage.removeItem(this.documentId + '_' + i + '_' + this.getZoomFactor());\n                }\n            }\n        }\n        window.sessionStorage.setItem(this.documentId + '_' + pageIndex + '_' + this.getZoomFactor(), JSON.stringify(storeObject));\n        this.sessionStorage.push(this.documentId + '_' + pageIndex + '_' + this.getZoomFactor());\n    };\n    PdfViewerBase.prototype.createBlobUrl = function (base64String, contentType) {\n        var sliceSize = 512;\n        var byteCharacters = atob(base64String);\n        // tslint:disable-next-line\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            // tslint:disable-next-line\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            // tslint:disable-next-line\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        // tslint:disable-next-line\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    };\n    PdfViewerBase.prototype.getRandomNumber = function () {\n        // tslint:disable-next-line\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            // tslint:disable-next-line\n            var random = Math.random() * 16 | 0, v = c == 'x' ? random : (random & 0x3 | 0x8);\n            return random.toString(16);\n        });\n    };\n    PdfViewerBase.prototype.createGUID = function () {\n        // tslint:disable-next-line:max-line-length\n        return 'Sync_PdfViewer_' + this.getRandomNumber();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.isClickedOnScrollBar = function (event) {\n        var isScrollBar = false;\n        this.setScrollDownValue(event.type, false);\n        // tslint:disable-next-line:max-line-length\n        if ((this.viewerContainer.clientWidth + this.viewerContainer.offsetLeft) < event.clientX && event.clientX < (this.viewerContainer.offsetWidth + this.viewerContainer.offsetLeft)) {\n            isScrollBar = true;\n            this.setScrollDownValue(event.type, true);\n        }\n        // tslint:disable-next-line:max-line-length\n        if ((this.viewerContainer.clientHeight + this.viewerContainer.offsetTop) < event.clientY && event.clientY < (this.viewerContainer.offsetHeight + this.viewerContainer.offsetTop)) {\n            isScrollBar = true;\n            this.setScrollDownValue(event.type, true);\n        }\n        return isScrollBar;\n    };\n    PdfViewerBase.prototype.setScrollDownValue = function (eventType, boolValue) {\n        if (eventType === 'mousedown') {\n            this.isScrollbarMouseDown = boolValue;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.disableTextSelectionMode = function () {\n        this.isTextSelectionDisabled = true;\n        this.viewerContainer.classList.remove('e-enable-text-selection');\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.clearTextSelection();\n        }\n        this.viewerContainer.classList.add('e-disable-text-selection');\n        this.viewerContainer.addEventListener('selectstart', function () { return false; });\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getElement = function (idString) {\n        return document.getElementById(this.pdfViewer.element.id + idString);\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPageWidth = function (pageIndex) {\n        return this.pageSize[pageIndex].width * this.getZoomFactor();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPageHeight = function (pageIndex) {\n        return this.pageSize[pageIndex].height * this.getZoomFactor();\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPageTop = function (pageIndex) {\n        return this.pageSize[pageIndex].top * this.getZoomFactor();\n    };\n    PdfViewerBase.prototype.isAnnotationToolbarHidden = function () {\n        if (this.pdfViewer.toolbarModule.annotationToolbarModule) {\n            return this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getTextMarkupAnnotationMode = function () {\n        if (this.isTextMarkupAnnotationModule()) {\n            return this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode;\n        }\n        else {\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getCurrentTextMarkupAnnotation = function () {\n        if (this.isTextMarkupAnnotationModule()) {\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getSelectTextMarkupCurrentPage = function () {\n        if (this.isTextMarkupAnnotationModule()) {\n            return this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getAnnotationToolStatus = function () {\n        if (this.pdfViewer.toolbarModule) {\n            return this.pdfViewer.toolbarModule.annotationToolbarModule.isAnnotationButtonsEnabled();\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.getPopupNoteVisibleStatus = function () {\n        if (this.pdfViewer.annotationModule) {\n            return this.pdfViewer.annotationModule.isPopupNoteVisible;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.isTextMarkupAnnotationModule = function () {\n        if (this.pdfViewer.annotationModule) {\n            return this.pdfViewer.annotationModule.textMarkupAnnotationModule;\n        }\n        else {\n            return null;\n        }\n    };\n    return PdfViewerBase;\n}());\nexport { PdfViewerBase };\n","import { createElement } from '@syncfusion/ej2-base';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * TextLayer module is used to handle the text content on the control.\n * @hidden\n */\nvar TextLayer = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function TextLayer(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        // tslint:disable-next-line\n        this.textBoundsArray = [];\n        this.closeNotification = function () {\n            _this.notifyDialog.hide();\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    TextLayer.prototype.addTextLayer = function (pageNumber, pageWidth, pageHeight, pageDiv) {\n        var textDiv = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n        var textLayer;\n        if (!textDiv) {\n            textLayer = createElement('div', { id: this.pdfViewer.element.id + '_textLayer_' + pageNumber, className: 'e-pv-text-layer' });\n            textLayer.style.width = pageWidth + 'px';\n            textLayer.style.height = pageHeight + 'px';\n            pageDiv.appendChild(textLayer);\n        }\n        return textLayer;\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextLayer.prototype.renderTextContents = function (pageNumber, textContents, textBounds, rotation) {\n        var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n        var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + pageNumber);\n        if (canvasElement && textLayer.childNodes.length === 0) {\n            for (var i = 0; i < textContents.length; i++) {\n                // tslint:disable-next-line\n                var bounds = textBounds[i];\n                // tslint:disable-next-line:max-line-length\n                var textDiv = createElement('div', { id: this.pdfViewer.element.id + '_text_' + pageNumber + '_' + i, className: 'e-pv-text', attrs: { 'tabindex': '0' } });\n                var textContent = textContents[i];\n                textContent = textContent.replace(/</g, '&lt;');\n                textContent = textContent.replace(/>/g, '&gt;');\n                textDiv.innerHTML = textContent.replace(/&nbsp;/g, ' ');\n                // tslint:disable-next-line\n                var newLine = textContents[i].replace(/  +/g, ' ');\n                if (newLine !== ' ') {\n                    textDiv.style.whiteSpace = 'pre';\n                }\n                this.setStyleToTextDiv(textDiv, bounds.X, bounds.Y, bounds.Bottom, bounds.Width, bounds.Height);\n                this.setTextElementProperties(textDiv);\n                var context = canvasElement.getContext('2d');\n                context.font = textDiv.style.fontSize + ' ' + textDiv.style.fontFamily;\n                var contextWidth = context.measureText(textContents[i].replace(/(\\r\\n|\\n|\\r)/gm, '')).width;\n                var scale = bounds.Width * this.pdfViewerBase.getZoomFactor() / contextWidth;\n                this.applyTextRotation(scale, textDiv, rotation, bounds.Rotation);\n                textLayer.appendChild(textDiv);\n                this.resizeExcessDiv(textLayer, textDiv);\n                // tslint:disable-next-line:max-line-length\n                if (this.pdfViewer.textSelectionModule && this.pdfViewer.enableTextSelection && !this.pdfViewerBase.isTextSelectionDisabled) {\n                    textDiv.classList.add('e-pv-cursor');\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextLayer.prototype.resizeTextContents = function (pageNumber, textContents, textBounds, rotation) {\n        var textLayer = this.pdfViewerBase.getElement('_textLayer_' + pageNumber);\n        var canvasElement = this.pdfViewerBase.getElement('_pageCanvas_' + pageNumber);\n        if (canvasElement) {\n            for (var i = 0; i < textLayer.childNodes.length; i++) {\n                // tslint:disable-next-line\n                var bounds = void 0;\n                var textDiv = this.pdfViewerBase.getElement('_text_' + pageNumber + '_' + i);\n                if (textBounds) {\n                    bounds = textBounds[i];\n                    this.setStyleToTextDiv(textDiv, bounds.X, bounds.Y, bounds.Bottom, bounds.Width, bounds.Height);\n                }\n                this.setTextElementProperties(textDiv);\n                var context = canvasElement.getContext('2d');\n                context.font = textDiv.style.fontSize + ' ' + textDiv.style.fontFamily;\n                var contextWidth = void 0;\n                if (textContents) {\n                    contextWidth = context.measureText(textContents[i].replace(/(\\r\\n|\\n|\\r)/gm, '')).width;\n                }\n                else {\n                    contextWidth = context.measureText(textDiv.textContent.replace(/(\\r\\n|\\n|\\r)/gm, '')).width;\n                }\n                var scale = bounds.Width * this.pdfViewerBase.getZoomFactor() / contextWidth;\n                this.applyTextRotation(scale, textDiv, rotation, bounds.Rotation);\n                this.resizeExcessDiv(textLayer, textDiv);\n            }\n        }\n        else {\n            textLayer.parentElement.removeChild(textLayer);\n        }\n    };\n    TextLayer.prototype.applyTextRotation = function (scale, textDiv, rotation, textRotation) {\n        var scaleString = 'scale(' + scale + ')';\n        if (rotation === 0) {\n            if (textRotation === 0) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n        else if (rotation === 1) {\n            if (textRotation === 0) {\n                textDiv.style.transform = 'rotate(90deg) ' + scaleString;\n            }\n            else if (textRotation === -90) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n        else if (rotation === 2) {\n            if (textRotation === 0) {\n                textDiv.style.transform = 'rotate(180deg) ' + scaleString;\n            }\n            else if (textRotation === 180) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n        else if (rotation === 3) {\n            if (textRotation === 0) {\n                textDiv.style.transform = 'rotate(-90deg) ' + scaleString;\n            }\n            else if (textRotation === 90) {\n                textDiv.style.transform = scaleString;\n            }\n            else {\n                textDiv.style.transform = 'rotate(' + textRotation + 'deg) ' + scaleString;\n            }\n        }\n    };\n    TextLayer.prototype.setTextElementProperties = function (textDiv) {\n        textDiv.style.fontFamily = 'sans-serif';\n        textDiv.style.transformOrigin = '0%';\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.resizeTextContentsOnZoom = function (pageNumber) {\n        // tslint:disable-next-line:max-line-length\n        var renderObject = window.sessionStorage.getItem(this.pdfViewerBase.getDocumentId() + '_' + pageNumber + '_' + this.getPreviousZoomFactor());\n        // tslint:disable-next-line\n        var textBounds = [];\n        var textContents = [];\n        // tslint:disable-next-line\n        var rotation;\n        if (renderObject) {\n            // tslint:disable-next-line\n            var data = JSON.parse(renderObject);\n            // tslint:disable-next-line\n            textBounds = data['textBounds'];\n            // tslint:disable-next-line\n            textContents = data['textContent'];\n            // tslint:disable-next-line\n            rotation = data['rotation'];\n        }\n        if (textBounds.length !== 0) {\n            this.textBoundsArray.push({ pageNumber: pageNumber, textBounds: textBounds });\n            this.resizeTextContents(pageNumber, textContents, textBounds, rotation);\n        }\n        else {\n            // tslint:disable-next-line\n            var textElements = this.textBoundsArray.filter(function (obj) {\n                return obj.pageNumber === pageNumber;\n            });\n            if (textElements) {\n                if (textElements.length !== 0) {\n                    // tslint:disable-next-line\n                    textBounds = textElements[0]['textBounds'];\n                    this.resizeTextContents(pageNumber, null, textBounds, rotation);\n                }\n            }\n        }\n    };\n    TextLayer.prototype.resizeExcessDiv = function (textLayer, textDiv) {\n        var textLayerPosition = textLayer.getBoundingClientRect();\n        var textDivPosition = textDiv.getBoundingClientRect();\n        // tslint:disable-next-line:max-line-length\n        if ((textDivPosition.width + textDivPosition.left) >= (textLayerPosition.width + textLayerPosition.left) || (textDivPosition.width > textLayerPosition.width)) {\n            // 'auto' width is set to reset the size of the div to its contents.\n            textDiv.style.width = 'auto';\n            // Client width gets reset by 'auto' width property which has the width of the content.\n            textDiv.style.width = textDiv.clientWidth + 'px';\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.clearTextLayers = function () {\n        var lowerPageValue = this.pdfViewerBase.currentPageNumber - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = this.pdfViewerBase.currentPageNumber + 1;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        var textLayers = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n        for (var i = 0; i < textLayers.length; i++) {\n            textLayers[i].style.display = 'block';\n            if (this.pdfViewerBase.getMagnified() && (this.getTextSelectionStatus() || this.getTextSearchStatus())) {\n                // tslint:disable-next-line:radix\n                var pageNumber = parseInt(textLayers[i].id.split('_textLayer_')[1]);\n                if (!(((lowerPageValue + 1) <= pageNumber) && (pageNumber <= (higherPageValue - 1)))) {\n                    textLayers[i].remove();\n                }\n            }\n            else if (this.pdfViewerBase.getPinchZoomed()) {\n                textLayers[i].remove();\n            }\n            else {\n                textLayers[i].remove();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    TextLayer.prototype.convertToSpan = function (pageNumber, divId, fromOffset, toOffset, textString, className) {\n        var textDiv = this.pdfViewerBase.getElement('_text_' + pageNumber + '_' + divId);\n        var textContent = textString.substring(fromOffset, toOffset);\n        var node = document.createTextNode(textContent);\n        if (className) {\n            var spanElement = createElement('span');\n            spanElement.className = className + ' e-pv-text';\n            spanElement.appendChild(node);\n            textDiv.appendChild(spanElement);\n        }\n        else {\n            textDiv.appendChild(node);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    TextLayer.prototype.applySpanForSelection = function (startPage, endPage, anchorOffsetDiv, focusOffsetDiv, anchorOffset, focusOffset) {\n        if (this.pdfViewer.textSelectionModule) {\n            for (var i = startPage; i <= endPage; i++) {\n                var startId = void 0;\n                var endId = void 0;\n                // tslint:disable-next-line\n                var textDivs = this.pdfViewerBase.getElement('_textLayer_' + i).childNodes;\n                if (i === startPage) {\n                    startId = anchorOffsetDiv;\n                    endId = textDivs.length - 1;\n                }\n                else if (i === endPage) {\n                    startId = 0;\n                    endId = focusOffsetDiv;\n                }\n                else {\n                    startId = 0;\n                    endId = textDivs.length - 1;\n                }\n                if (startPage === endPage) {\n                    startId = anchorOffsetDiv;\n                    endId = focusOffsetDiv;\n                }\n                for (var j = startId; j <= endId; j++) {\n                    var textDiv = this.pdfViewerBase.getElement('_text_' + i + '_' + j);\n                    var initId = void 0;\n                    var lastId = void 0;\n                    var length_1 = void 0;\n                    length_1 = textDiv.textContent.length;\n                    var textContent = textDiv.textContent;\n                    textDiv.textContent = '';\n                    if (j === startId) {\n                        if (i === startPage) {\n                            initId = anchorOffset;\n                        }\n                        else {\n                            initId = 0;\n                        }\n                        lastId = length_1;\n                        this.convertToSpan(i, j, 0, initId, textContent, null);\n                    }\n                    else if (j === endId && i === endPage) {\n                        initId = 0;\n                        lastId = focusOffset;\n                    }\n                    else {\n                        initId = 0;\n                        lastId = length_1;\n                    }\n                    if (startId === endId) {\n                        initId = anchorOffset;\n                        lastId = focusOffset;\n                    }\n                    this.convertToSpan(i, j, initId, lastId, textContent, 'e-pv-maintaincontent');\n                    if (j === endId && i === endPage) {\n                        this.convertToSpan(i, j, lastId, textContent.length, textContent, null);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.clearDivSelection = function () {\n        var textLayers = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n        for (var i = 0; i < textLayers.length; i++) {\n            var childNodes = textLayers[i].childNodes;\n            for (var j = 0; j < childNodes.length; j++) {\n                var textDiv = childNodes[j];\n                var textContent = textDiv.textContent;\n                // tslint:disable-next-line:max-line-length\n                if (textDiv.childNodes.length > 1 || textDiv.childNodes.length === 1 && (textDiv.childNodes[0].tagName === 'SPAN')) {\n                    textDiv.textContent = '';\n                    textDiv.textContent = textContent;\n                }\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextLayer.prototype.setStyleToTextDiv = function (textDiv, left, top, bottom, width, height) {\n        textDiv.style.left = left * this.pdfViewerBase.getZoomFactor() + 'px';\n        textDiv.style.top = top * this.pdfViewerBase.getZoomFactor() + 'px';\n        var textHeight = height * this.pdfViewerBase.getZoomFactor();\n        textDiv.style.height = textHeight + 'px';\n        textDiv.style.fontSize = height * this.pdfViewerBase.getZoomFactor() + 'px';\n    };\n    TextLayer.prototype.getTextSelectionStatus = function () {\n        if (this.pdfViewer.textSelectionModule) {\n            return this.pdfViewer.textSelectionModule.isTextSelection;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.modifyTextCursor = function (isAdd) {\n        var textLayerList = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n        for (var i = 0; i < textLayerList.length; i++) {\n            var childNodes = textLayerList[i].childNodes;\n            for (var j = 0; j < childNodes.length; j++) {\n                var textElement = childNodes[j];\n                if (isAdd) {\n                    textElement.classList.add('e-pv-cursor');\n                }\n                else {\n                    textElement.classList.remove('e-pv-cursor');\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.isBackWardSelection = function (selection) {\n        var position = selection.anchorNode.compareDocumentPosition(selection.focusNode);\n        var backward = false;\n        if (!position && selection.anchorOffset > selection.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\n            backward = true;\n        }\n        return backward;\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.getPageIndex = function (element) {\n        var pageId;\n        // tslint:disable-next-line\n        var parentElement = element.parentElement;\n        if (!parentElement) {\n            parentElement = element.parentNode;\n        }\n        if (parentElement.className === 'e-pv-text-layer') {\n            // tslint:disable-next-line:radix\n            pageId = parseInt(element.id.split('_text_')[1]);\n        }\n        else {\n            // tslint:disable-next-line:radix\n            pageId = parseInt(parentElement.id.split('_text_')[1]);\n        }\n        return pageId;\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.getTextIndex = function (element, pageIndex) {\n        var textIndex;\n        // tslint:disable-next-line\n        var parentElement = element.parentElement;\n        if (!parentElement) {\n            parentElement = element.parentNode;\n        }\n        if (parentElement.className === 'e-pv-text-layer') {\n            // tslint:disable-next-line:radix\n            textIndex = parseInt(element.id.split('_text_' + pageIndex + '_')[1]);\n        }\n        else {\n            // tslint:disable-next-line:radix\n            textIndex = parseInt(parentElement.id.split('_text_' + pageIndex + '_')[1]);\n        }\n        return textIndex;\n    };\n    TextLayer.prototype.getPreviousZoomFactor = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.previousZoomFactor;\n        }\n        else {\n            return 1;\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.getTextSearchStatus = function () {\n        if (this.pdfViewer.textSearchModule) {\n            return this.pdfViewer.textSearchModule.isTextSearch;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     */\n    TextLayer.prototype.createNotificationPopup = function (text) {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_notify', className: 'e-pv-notification-popup' });\n        this.pdfViewerBase.viewerContainer.appendChild(popupElement);\n        this.notifyDialog = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true, header: this.pdfViewer.localeObj.getConstant('PdfViewer'),\n            buttons: [{\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.closeNotification.bind(this)\n                }],\n            content: '<div class=\"e-pv-notification-popup-content\" tabindex = \"0\">' + text + '</div>', target: this.pdfViewer.element,\n            beforeClose: function () {\n                _this.notifyDialog.destroy();\n                _this.pdfViewer.element.removeChild(popupElement);\n                if (_this.pdfViewer.textSearchModule) {\n                    _this.pdfViewer.textSearch.isMessagePopupOpened = false;\n                }\n            }\n        });\n        if (this.pdfViewer.enableRtl) {\n            this.notifyDialog.enableRtl = true;\n        }\n        this.notifyDialog.appendTo(popupElement);\n    };\n    return TextLayer;\n}());\nexport { TextLayer };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { ContextMenu as Context } from '@syncfusion/ej2-navigations';\n/**\n * ContextMenu module is used to handle the context menus used in the control.\n * @hidden\n */\nvar ContextMenu = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ContextMenu(pdfViewer, pdfViewerBase) {\n        this.copyContextMenu = [];\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n        this.copyContextMenu = [{ text: this.pdfViewer.localeObj.getConstant('Copy'), iconCss: 'e-pv-copy-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('highlight'), iconCss: 'e-pv-highlight-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('underline'), iconCss: 'e-pv-underline-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('strikethrough'), iconCss: 'e-pv-strikethrough-icon' }];\n    }\n    /**\n     * @private\n     */\n    ContextMenu.prototype.createContextMenu = function () {\n        this.contextMenuElement = createElement('ul', { id: this.pdfViewer.element.id + '_context_menu' });\n        if (this.pdfViewer.enableRtl) {\n            this.contextMenuElement.style.direction = 'rtl';\n        }\n        this.pdfViewer.element.appendChild(this.contextMenuElement);\n        this.contextMenuObj = new Context({\n            target: '#' + this.pdfViewerBase.viewerContainer.id, items: this.copyContextMenu,\n            beforeOpen: this.contextMenuOnBeforeOpen.bind(this), select: this.onMenuItemSelect.bind(this),\n            created: this.contextMenuOnCreated.bind(this)\n        });\n        this.contextMenuObj.appendTo(this.contextMenuElement);\n        if (Browser.isDevice) {\n            this.contextMenuObj.animationSettings.effect = 'ZoomIn';\n        }\n        else {\n            this.contextMenuObj.animationSettings.effect = 'SlideDown';\n        }\n    };\n    ContextMenu.prototype.contextMenuOnCreated = function (args) {\n        var items = [this.pdfViewer.localeObj.getConstant('highlight'), this.pdfViewer.localeObj.getConstant('underline'),\n            this.pdfViewer.localeObj.getConstant('strikethrough')];\n        if (this.pdfViewer.annotationModule) {\n            if (!this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n                this.contextMenuObj.enableItems(items, false);\n            }\n        }\n        else {\n            this.contextMenuObj.enableItems(items, false);\n        }\n    };\n    ContextMenu.prototype.contextMenuOnBeforeOpen = function (args) {\n        if (this.pdfViewer.textSelectionModule) {\n            if (args.event) {\n                var isClickWithinSelectionBounds = this.isClickWithinSelectionBounds(args.event);\n                // tslint:disable-next-line:max-line-length\n                if (isClickWithinSelectionBounds) {\n                    // tslint:disable-next-line:max-line-length\n                    if ((!args.event.target.classList.contains('e-pv-maintaincontent') && args.event.target.classList.contains('e-pv-text') || args.event.target.classList.contains('e-pv-text-layer'))) {\n                        args.cancel = true;\n                        // tslint:disable-next-line:max-line-length\n                    }\n                    else if ((Browser.isIE || Browser.info.name === 'edge') && args.event.target.classList.contains('e-pv-page-container')) {\n                        args.cancel = true;\n                    }\n                }\n                else {\n                    args.cancel = true;\n                }\n            }\n        }\n        else {\n            args.cancel = true;\n        }\n    };\n    // tslint:disable-next-line\n    ContextMenu.prototype.isClickWithinSelectionBounds = function (event) {\n        var isWithin = false;\n        var bounds = this.pdfViewer.textSelectionModule.getCurrentSelectionBounds(this.pdfViewerBase.currentPageNumber - 1);\n        if (bounds) {\n            var currentBound = bounds;\n            if (this.getHorizontalValue(currentBound.left) < event.clientX && this.getHorizontalValue(currentBound.right) >\n                event.clientX && this.getVerticalValue(currentBound.top) < event.clientY &&\n                this.getVerticalValue(currentBound.bottom) > event.clientY) {\n                isWithin = true;\n            }\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && bounds) {\n            isWithin = true;\n        }\n        return isWithin;\n    };\n    ContextMenu.prototype.getHorizontalClientValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value - pageBounds.left);\n    };\n    ContextMenu.prototype.getVerticalClientValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value - pageBounds.top);\n    };\n    ContextMenu.prototype.getHorizontalValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value * this.pdfViewerBase.getZoomFactor()) + pageBounds.left;\n    };\n    ContextMenu.prototype.getVerticalValue = function (value) {\n        var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value * this.pdfViewerBase.getZoomFactor()) + pageBounds.top;\n    };\n    ContextMenu.prototype.onMenuItemSelect = function (args) {\n        switch (args.item.text) {\n            case this.pdfViewer.localeObj.getConstant('Copy'):\n                if (this.pdfViewer.textSelectionModule) {\n                    this.pdfViewer.textSelectionModule.copyText();\n                    this.contextMenuObj.close();\n                }\n                break;\n            case this.pdfViewer.localeObj.getConstant('highlight'):\n                if (this.pdfViewer.annotation.textMarkupAnnotationModule) {\n                    this.pdfViewer.annotation.textMarkupAnnotationModule.drawTextMarkupAnnotations('Highlight');\n                    this.pdfViewer.annotation.textMarkupAnnotationModule.isTextMarkupAnnotationMode = false;\n                }\n                break;\n            case this.pdfViewer.localeObj.getConstant('underline'):\n                if (this.pdfViewer.annotation.textMarkupAnnotationModule) {\n                    this.pdfViewer.annotation.textMarkupAnnotationModule.drawTextMarkupAnnotations('Underline');\n                    this.pdfViewer.annotation.textMarkupAnnotationModule.isTextMarkupAnnotationMode = false;\n                }\n                break;\n            case this.pdfViewer.localeObj.getConstant('strikethrough'):\n                if (this.pdfViewer.annotation.textMarkupAnnotationModule) {\n                    this.pdfViewer.annotation.textMarkupAnnotationModule.drawTextMarkupAnnotations('Strikethrough');\n                    this.pdfViewer.annotation.textMarkupAnnotationModule.isTextMarkupAnnotationMode = false;\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    /**\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenuObj.destroy();\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { Browser } from '@syncfusion/ej2-base';\n/**\n * Magnification module\n */\nvar Magnification = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Magnification(pdfViewer, viewerBase) {\n        /**\n         * @private\n         */\n        this.zoomFactor = 1;\n        /**\n         * @private\n         */\n        this.previousZoomFactor = 1;\n        this.scrollWidth = 25;\n        this.zoomPercentages = [50, 75, 100, 125, 150, 200, 400];\n        this.isNotPredefinedZoom = false;\n        this.pinchStep = 0.02;\n        this.reRenderPageNumber = 0;\n        // tslint:disable-next-line\n        this.magnifyPageRerenderTimer = null;\n        // tslint:disable-next-line\n        this.rerenderOnScrollTimer = null;\n        // tslint:disable-next-line\n        this.rerenderInterval = null;\n        this.touchCenterX = 0;\n        this.touchCenterY = 0;\n        this.pageRerenderCount = 0;\n        this.imageObjects = [];\n        this.topValue = 0;\n        this.isTapToFitZoom = false;\n        /**\n         * @private\n         */\n        this.fitType = null;\n        /**\n         * @private\n         */\n        this.isPinchZoomed = false;\n        /**\n         * @private\n         */\n        this.isPagePinchZoomed = false;\n        /**\n         * @private\n         */\n        this.isRerenderCanvasCreated = false;\n        /**\n         * @private\n         */\n        this.isMagnified = false;\n        /**\n         * @private\n         */\n        this.isPagesZoomed = false;\n        /**\n         * @private\n         */\n        this.isPinchScrolled = false;\n        /**\n         * @private\n         */\n        this.isAutoZoom = false;\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = viewerBase;\n        this.zoomLevel = 2;\n    }\n    /**\n     * Zoom the PDF document to the given zoom value\n     * @param  {number} zoomValue - Specifies the Zoom Value for magnify the PDF document\n     * @returns void\n     */\n    Magnification.prototype.zoomTo = function (zoomValue) {\n        if (zoomValue < 50) {\n            zoomValue = 50;\n        }\n        else if (zoomValue > 400) {\n            zoomValue = 400;\n        }\n        this.fitType = null;\n        this.isNotPredefinedZoom = false;\n        if (this.isAutoZoom && this.isInitialLoading) {\n            this.pdfViewerBase.onWindowResize();\n        }\n        else {\n            this.isAutoZoom = false;\n            this.onZoomChanged(zoomValue);\n        }\n        this.isInitialLoading = false;\n    };\n    /**\n     * Magnifies the page to the next value in the zoom drop down list.\n     * @returns void\n     */\n    Magnification.prototype.zoomIn = function () {\n        if (this.fitType || this.isNotPredefinedZoom) {\n            this.zoomLevel = this.lowerZoomLevel;\n            this.fitType = null;\n        }\n        this.isNotPredefinedZoom = false;\n        if (this.zoomLevel >= 6) {\n            this.zoomLevel = 6;\n        }\n        else {\n            this.zoomLevel++;\n        }\n        this.isAutoZoom = false;\n        this.onZoomChanged(this.zoomPercentages[this.zoomLevel]);\n    };\n    /**\n     * Magnifies the page to the previous value in the zoom drop down list.\n     * @returns void\n     */\n    Magnification.prototype.zoomOut = function () {\n        if (this.fitType || this.isNotPredefinedZoom) {\n            this.zoomLevel = this.higherZoomLevel;\n            this.fitType = null;\n        }\n        this.isNotPredefinedZoom = false;\n        if (this.zoomLevel <= 0) {\n            this.zoomLevel = 0;\n        }\n        else {\n            this.zoomLevel--;\n        }\n        this.isAutoZoom = false;\n        this.onZoomChanged(this.zoomPercentages[this.zoomLevel]);\n    };\n    /**\n     * Scales the page to fit the page width to the width of the container in the control.\n     * @returns void\n     */\n    Magnification.prototype.fitToWidth = function () {\n        this.isAutoZoom = false;\n        var zoomValue = this.calculateFitZoomFactor('fitToWidth');\n        this.onZoomChanged(zoomValue);\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.fitToAuto = function () {\n        this.isAutoZoom = true;\n        var zoomValue = this.calculateFitZoomFactor('fitToWidth');\n        this.onZoomChanged(zoomValue);\n    };\n    /**\n     * Scales the page to fit the page in the container in the control.\n     * @param  {number} zoomValue - Defines the Zoom Value for fit the page in the Container\n     * @returns void\n     */\n    Magnification.prototype.fitToPage = function () {\n        var zoomValue = this.calculateFitZoomFactor('fitToPage');\n        this.isAutoZoom = false;\n        this.onZoomChanged(zoomValue);\n        if (Browser.isDevice) {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'hidden';\n        }\n        else {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'auto';\n        }\n        // tslint:disable-next-line:max-line-length\n        this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber - 1].top * this.zoomFactor;\n    };\n    /**\n     * Returns zoom factor for the fit zooms.\n     */\n    Magnification.prototype.calculateFitZoomFactor = function (type) {\n        var viewerWidth = this.pdfViewerBase.viewerContainer.getBoundingClientRect().width;\n        var viewerHeight = this.pdfViewerBase.viewerContainer.getBoundingClientRect().height;\n        var highestWidth = 0;\n        var highestHeight = 0;\n        this.fitType = type;\n        if (this.fitType === 'fitToWidth') {\n            var pageWidth = 0;\n            for (var i = 0; i < this.pdfViewerBase.pageSize.length; i++) {\n                pageWidth = this.pdfViewerBase.pageSize[i].width;\n                if (pageWidth > highestWidth) {\n                    highestWidth = pageWidth;\n                }\n            }\n            var scaleX = ((viewerWidth - this.scrollWidth) / highestWidth);\n            if (this.isAutoZoom) {\n                this.fitType = null;\n                scaleX = Math.min(1, scaleX);\n                if (scaleX === 1) {\n                    this.zoomLevel = 2;\n                }\n            }\n            return scaleX * 100;\n        }\n        else {\n            var pageHeight = 0;\n            for (var i = 0; i < this.pdfViewerBase.pageSize.length; i++) {\n                pageHeight = this.pdfViewerBase.pageSize[i].height;\n                if (pageHeight > highestHeight) {\n                    highestHeight = pageHeight;\n                }\n            }\n            if (this.pdfViewerBase.pageCount === 1) {\n                return ((viewerHeight - this.pdfViewerBase.pageSize[0].top) / highestHeight) * 100;\n            }\n            else {\n                return (viewerHeight / highestHeight) * 100;\n            }\n        }\n    };\n    /**\n     * Performs pinch in operation\n     */\n    Magnification.prototype.pinchIn = function () {\n        this.fitType = null;\n        var temporaryZoomFactor = this.zoomFactor - this.pinchStep;\n        if (temporaryZoomFactor < 4 && temporaryZoomFactor > 2) {\n            temporaryZoomFactor = this.zoomFactor - this.pinchStep;\n        }\n        if (temporaryZoomFactor < 0.5) {\n            temporaryZoomFactor = 0.5;\n        }\n        this.isPinchZoomed = true;\n        this.onZoomChanged(temporaryZoomFactor * 100);\n    };\n    /**\n     * Performs pinch out operation\n     */\n    Magnification.prototype.pinchOut = function () {\n        this.fitType = null;\n        var temporaryZoomFactor = this.zoomFactor + this.pinchStep;\n        if (temporaryZoomFactor > 2) {\n            temporaryZoomFactor = temporaryZoomFactor + this.pinchStep;\n        }\n        if (temporaryZoomFactor > 4) {\n            temporaryZoomFactor = 4;\n        }\n        this.isPinchZoomed = true;\n        this.onZoomChanged(temporaryZoomFactor * 100);\n    };\n    /**\n     * returns zoom level for the zoom factor.\n     */\n    Magnification.prototype.getZoomLevel = function (zoomFactor) {\n        var min = 0;\n        var max = this.zoomPercentages.length - 1;\n        while ((min <= max) && !(min === 0 && max === 0)) {\n            var mid = Math.round((min + max) / 2);\n            if (this.zoomPercentages[mid] <= zoomFactor) {\n                min = mid + 1;\n            }\n            else if (this.zoomPercentages[mid] >= zoomFactor) {\n                max = mid - 1;\n            }\n        }\n        this.higherZoomLevel = min;\n        this.lowerZoomLevel = max;\n        return max;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.checkZoomFactor = function () {\n        return this.zoomPercentages.indexOf(this.zoomFactor * 100) > -1;\n    };\n    /**\n     * Executes when the zoom or pinch operation is performed\n     */\n    Magnification.prototype.onZoomChanged = function (zoomValue) {\n        if (this.pdfViewer.annotationModule) {\n            this.pdfViewer.annotationModule.closePopupMenu();\n        }\n        this.previousZoomFactor = this.zoomFactor;\n        this.zoomLevel = this.getZoomLevel(zoomValue);\n        this.zoomFactor = this.getZoomFactor(zoomValue);\n        if (Browser.isDevice) {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'hidden';\n        }\n        else {\n            this.pdfViewerBase.viewerContainer.style.overflowY = 'auto';\n        }\n        if (this.pdfViewerBase.pageCount > 0) {\n            if (this.previousZoomFactor !== this.zoomFactor) {\n                if (!this.isPinchZoomed) {\n                    this.magnifyPages();\n                }\n                else {\n                    if (Browser.isDevice) {\n                        // tslint:disable-next-line:max-line-length\n                        this.pdfViewerBase.mobilePageNoContainer.style.left = (this.pdfViewer.element.clientWidth / 2) - (parseFloat(this.pdfViewerBase.mobilePageNoContainer.style.width) / 2) + 'px';\n                    }\n                    this.responsivePages();\n                }\n            }\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.toolbarModule.updateZoomButtons();\n            }\n            this.pdfViewer.fireZoomChange();\n        }\n        if (this.pdfViewer.toolbarModule) {\n            this.pdfViewer.toolbarModule.updateZoomPercentage(this.zoomFactor);\n        }\n        if (Browser.isDevice && this.isPinchZoomed) {\n            // tslint:disable-next-line:radix\n            var zoomPercentage = parseInt((this.zoomFactor * 100).toString()) + '%';\n            this.pdfViewerBase.navigationPane.createTooltipMobile(zoomPercentage);\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.setTouchPoints = function (clientX, clientY) {\n        this.touchCenterX = clientX;\n        this.touchCenterY = clientY;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.initiatePinchMove = function (pointX1, pointY1, pointX2, pointY2) {\n        this.isPinchScrolled = false;\n        this.isMagnified = false;\n        this.reRenderPageNumber = this.pdfViewerBase.currentPageNumber;\n        this.touchCenterX = (pointX1 + pointX2) / 2;\n        this.touchCenterY = (pointY1 + pointY2) / 2;\n        this.zoomOverPages(pointX1, pointY1, pointX2, pointY2);\n    };\n    Magnification.prototype.magnifyPages = function () {\n        this.clearRerenderTimer();\n        if (!this.isPagesZoomed) {\n            this.reRenderPageNumber = this.pdfViewerBase.currentPageNumber;\n        }\n        this.isPagesZoomed = true;\n        var scrollValue = this.getMagnifiedValue(this.pdfViewerBase.viewerContainer.scrollTop);\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(false, true);\n        }\n        this.isMagnified = true;\n        this.updatePageLocation();\n        this.resizeCanvas(this.reRenderPageNumber);\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.resizeTouchElements();\n        }\n        if (this.pdfViewerBase.pageSize.length > 0) {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.pageContainer.style.height = this.topValue + this.pdfViewerBase.getPageHeight(this.pdfViewerBase.pageSize.length - 1) + 'px';\n            // tslint:disable-next-line \n            var proxy_1 = this;\n            this.pdfViewerBase.renderedPagesList = [];\n            this.pdfViewerBase.pinchZoomStorage = [];\n            this.pdfViewerBase.viewerContainer.scrollTop = scrollValue;\n            this.magnifyPageRerenderTimer = setTimeout(function () { proxy_1.rerenderMagnifiedPages(); }, 800);\n        }\n    };\n    Magnification.prototype.updatePageLocation = function () {\n        this.topValue = 0;\n        for (var i = 1; i < this.pdfViewerBase.pageSize.length; i++) {\n            this.topValue += (this.pdfViewerBase.pageSize[i].height + this.pdfViewerBase.pageGap) * this.zoomFactor;\n        }\n    };\n    Magnification.prototype.clearRerenderTimer = function () {\n        clearTimeout(this.rerenderOnScrollTimer);\n        clearTimeout(this.magnifyPageRerenderTimer);\n        this.clearIntervalTimer();\n        this.isPinchScrolled = false;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.clearIntervalTimer = function () {\n        clearInterval(this.rerenderInterval);\n        this.rerenderInterval = null;\n        this.clearRendering();\n        var oldCanvases = document.querySelectorAll('canvas[id*=\"oldCanvas\"]');\n        for (var i = 0; i < oldCanvases.length; i++) {\n            // tslint:disable-next-line\n            var pageNumber = parseInt(oldCanvases[i].id.split('_oldCanvas_')[1]);\n            var pageCanvas = this.pdfViewerBase.getElement('_pageCanvas_' + pageNumber);\n            if (pageCanvas) {\n                oldCanvases[i].id = pageCanvas.id;\n                pageCanvas.parentElement.removeChild(pageCanvas);\n            }\n            else {\n                oldCanvases[i].id = this.pdfViewer.element.id + '_pageCanvas_' + pageNumber;\n            }\n            if (this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotationsPinch(i);\n            }\n        }\n        this.isRerenderCanvasCreated = false;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pushImageObjects = function (image) {\n        this.imageObjects.push(image);\n    };\n    Magnification.prototype.clearRendering = function () {\n        if (this.imageObjects) {\n            for (var j = 0; j < this.imageObjects.length; j++) {\n                if (this.imageObjects[j]) {\n                    this.imageObjects[j].onload = null;\n                }\n            }\n            this.imageObjects = [];\n        }\n    };\n    Magnification.prototype.rerenderMagnifiedPages = function () {\n        this.renderInSeparateThread(this.reRenderPageNumber);\n        this.isPagesZoomed = false;\n    };\n    Magnification.prototype.renderInSeparateThread = function (pageNumber) {\n        var _this = this;\n        this.designNewCanvas(pageNumber);\n        this.pageRerenderCount = 0;\n        this.pdfViewerBase.renderedPagesList = [];\n        this.pdfViewerBase.pinchZoomStorage = [];\n        this.isMagnified = false;\n        this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber);\n        // tslint:disable-next-line\n        var proxy = this;\n        this.rerenderInterval = setInterval(function () { _this.initiateRerender(proxy); }, 1);\n    };\n    Magnification.prototype.responsivePages = function () {\n        this.isPagesZoomed = true;\n        this.clearRerenderTimer();\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.clearTextSelection();\n        }\n        var scrollValue = this.pdfViewerBase.viewerContainer.scrollTop;\n        this.isAutoZoom = false;\n        this.updatePageLocation();\n        // tslint:disable-next-line:max-line-length\n        this.pdfViewerBase.pageContainer.style.height = this.topValue + this.pdfViewerBase.pageSize[this.pdfViewerBase.pageSize.length - 1].height * this.zoomFactor + 'px';\n        this.resizeCanvas(this.pdfViewerBase.currentPageNumber);\n        if (this.isPinchZoomed) {\n            this.calculateScrollValues(scrollValue);\n        }\n        this.pdfViewerBase.renderedPagesList = [];\n        this.pdfViewerBase.pinchZoomStorage = [];\n    };\n    Magnification.prototype.calculateScrollValues = function (scrollValue) {\n        var pageIndex = this.pdfViewerBase.currentPageNumber - 1;\n        var currentPageCanvas = this.pdfViewerBase.getElement('_pageDiv_' + pageIndex);\n        if (currentPageCanvas) {\n            var currentPageBounds = currentPageCanvas.getBoundingClientRect();\n            // update scroll top for the viewer container based on pinch zoom factor\n            var previousPageTop = (currentPageBounds.top) * this.previousZoomFactor;\n            var previousY = scrollValue + this.touchCenterY;\n            // tslint:disable-next-line:max-line-length\n            var currentY = (currentPageBounds.top) * this.zoomFactor + ((previousY - previousPageTop) < 0 ? previousY - previousPageTop : (previousY -\n                // tslint:disable-next-line:max-line-length\n                previousPageTop) * (this.zoomFactor / this.previousZoomFactor));\n            this.pdfViewerBase.viewerContainer.scrollTop = currentY - this.touchCenterY;\n            // update scroll left for the viewer container based on pinch zoom factor\n            var prevValue = (currentPageBounds.width * this.previousZoomFactor) / currentPageBounds.width;\n            var scaleCorrectionFactor = this.zoomFactor / prevValue - 1;\n            var scrollX_1 = this.touchCenterX - currentPageBounds.left;\n            this.pdfViewerBase.viewerContainer.scrollLeft += scrollX_1 * scaleCorrectionFactor;\n        }\n    };\n    Magnification.prototype.rerenderOnScroll = function () {\n        var _this = this;\n        this.isPinchZoomed = false;\n        if (this.isPinchScrolled) {\n            this.rerenderOnScrollTimer = null;\n            this.isPinchScrolled = false;\n            this.reRenderPageNumber = this.pdfViewerBase.currentPageNumber;\n            this.pdfViewerBase.renderedPagesList = [];\n            this.pdfViewerBase.pinchZoomStorage = [];\n            if (this.pdfViewerBase.textLayer) {\n                var textLayers = document.querySelectorAll('div[id*=\"_textLayer_\"]');\n                for (var i = 0; i < textLayers.length; i++) {\n                    textLayers[i].style.display = 'block';\n                }\n            }\n            if (this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n                var annotationLayers = document.querySelectorAll('canvas[id*=\"_annotationCanvas_\"]');\n                for (var j = 0; j < annotationLayers.length; j++) {\n                    var pageNumber = annotationLayers[j].id.split('_annotationCanvas_')[1];\n                    // tslint:disable-next-line:radix\n                    this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotationsPinch(parseInt(pageNumber));\n                }\n            }\n            this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber);\n            this.isPagePinchZoomed = false;\n            this.rerenderOnScrollTimer = setTimeout(function () { _this.pdfViewerBase.pageViewScrollChanged(_this.reRenderPageNumber); }, 300);\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pinchMoveScroll = function () {\n        var _this = this;\n        if (this.isRerenderCanvasCreated) {\n            this.clearIntervalTimer();\n        }\n        if (this.isPagesZoomed || (!this.isRerenderCanvasCreated && this.isPagePinchZoomed)) {\n            this.clearRendering();\n            this.isPagesZoomed = false;\n            clearTimeout(this.magnifyPageRerenderTimer);\n            this.isPinchScrolled = true;\n            this.rerenderOnScrollTimer = setTimeout(function () { _this.rerenderOnScroll(); }, 100);\n        }\n    };\n    // tslint:disable-next-line\n    Magnification.prototype.initiateRerender = function (proxy) {\n        if (proxy.pageRerenderCount === proxy.pdfViewerBase.reRenderedCount && proxy.pageRerenderCount !== 0 && proxy.pdfViewerBase.reRenderedCount !== 0) {\n            proxy.reRenderAfterPinch(this.reRenderPageNumber);\n        }\n    };\n    Magnification.prototype.reRenderAfterPinch = function (currentPageIndex) {\n        this.pageRerenderCount = 0;\n        var lowerPageValue = currentPageIndex - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = currentPageIndex + 1;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + i);\n            var pageCanvas = this.pdfViewerBase.getElement('_pageCanvas_' + i);\n            if (pageCanvas) {\n                pageCanvas.style.display = 'block';\n            }\n            var oldCanvas = this.pdfViewerBase.getElement('_oldCanvas_' + i);\n            if (oldCanvas) {\n                oldCanvas.parentNode.removeChild(oldCanvas);\n            }\n            if (this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(i);\n            }\n            if (pageDiv) {\n                pageDiv.style.visibility = 'visible';\n            }\n        }\n        this.isRerenderCanvasCreated = false;\n        this.isPagePinchZoomed = false;\n        if (this.pdfViewerBase.reRenderedCount !== 0) {\n            this.pdfViewerBase.reRenderedCount = 0;\n            this.pageRerenderCount = 0;\n            clearInterval(this.rerenderInterval);\n            this.rerenderInterval = null;\n        }\n        this.imageObjects = [];\n    };\n    Magnification.prototype.designNewCanvas = function (currentPageIndex) {\n        if (this.pdfViewerBase.textLayer) {\n            this.pdfViewerBase.textLayer.clearTextLayers();\n        }\n        var lowerPageValue = currentPageIndex - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = currentPageIndex + 1; // jshint ignore:line\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            var canvas = this.pdfViewerBase.getElement('_pageCanvas_' + i);\n            if (canvas) {\n                canvas.id = this.pdfViewer.element.id + '_oldCanvas_' + i;\n                if (this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n                    var annotationCanvas = this.pdfViewerBase.getElement('_annotationCanvas_' + i);\n                    annotationCanvas.id = this.pdfViewer.element.id + '_old_annotationCanvas_' + i;\n                }\n                // tslint:disable-next-line:max-line-length\n                this.pdfViewerBase.renderPageCanvas(this.pdfViewerBase.getElement('_pageDiv_' + i), this.pdfViewerBase.pageSize[i].width * this.zoomFactor, this.pdfViewerBase.pageSize[i].height * this.zoomFactor, i, 'none');\n            }\n        }\n        this.isRerenderCanvasCreated = true;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pageRerenderOnMouseWheel = function () {\n        var _this = this;\n        if (this.isRerenderCanvasCreated) {\n            this.clearIntervalTimer();\n            clearTimeout(this.magnifyPageRerenderTimer);\n            if (!this.isPinchScrolled) {\n                this.isPinchScrolled = true;\n                this.rerenderOnScrollTimer = setTimeout(function () { _this.rerenderOnScroll(); }, 100);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.renderCountIncrement = function () {\n        if (this.isRerenderCanvasCreated) {\n            this.pageRerenderCount++;\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.rerenderCountIncrement = function () {\n        if (this.pageRerenderCount > 0) {\n            this.pdfViewerBase.reRenderedCount++;\n        }\n    };\n    Magnification.prototype.resizeCanvas = function (pageNumber) {\n        var lowerPageValue = pageNumber - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = pageNumber + 3;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            var pageDiv = this.pdfViewerBase.getElement('_pageDiv_' + i);\n            var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + i);\n            if (pageDiv) {\n                if ((lowerPageValue <= i) && (i <= higherPageValue)) {\n                    var isSelectionAvailable = false;\n                    if (this.pdfViewer.textSelectionModule) {\n                        isSelectionAvailable = this.pdfViewer.textSelectionModule.isSelectionAvailableOnScroll(i);\n                    }\n                    if (this.pdfViewerBase.pageSize[i] != null) {\n                        var width = this.pdfViewerBase.pageSize[i].width * this.zoomFactor;\n                        var height = this.pdfViewerBase.pageSize[i].height * this.zoomFactor;\n                        pageDiv.style.width = width + 'px';\n                        pageDiv.style.height = height + 'px';\n                        // tslint:disable-next-line:max-line-length\n                        pageDiv.style.top = ((this.pdfViewerBase.pageSize[i].top) * this.zoomFactor) + 'px';\n                        if (this.pdfViewer.enableRtl) {\n                            pageDiv.style.right = this.pdfViewerBase.updateLeftPosition(i) + 'px';\n                        }\n                        else {\n                            pageDiv.style.left = this.pdfViewerBase.updateLeftPosition(i) + 'px';\n                        }\n                        var canvas = this.pdfViewerBase.getElement('_pageCanvas_' + i);\n                        if (canvas) {\n                            canvas.style.width = width + 'px';\n                            canvas.style.height = height + 'px';\n                            if (this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n                                this.pdfViewer.annotationModule.textMarkupAnnotationModule.resizeAnnotations(width, height, i);\n                            }\n                        }\n                        if (textLayer) {\n                            textLayer.style.width = width + 'px';\n                            textLayer.style.height = height + 'px';\n                            if (this.pdfViewer.textSelectionModule) {\n                                if (this.isPinchZoomed) {\n                                    textLayer.style.display = 'none';\n                                }\n                                else if (this.isMagnified) {\n                                    var lowerValue = ((pageNumber - 2) === 0) ? 0 : (pageNumber - 2);\n                                    // tslint:disable-next-line:max-line-length\n                                    var higherValue = ((pageNumber) === (this.pdfViewerBase.pageCount)) ? (this.pdfViewerBase.pageCount - 1) : pageNumber;\n                                    if ((lowerValue <= i) && (i <= higherValue) && ((this.pdfViewer.textSelectionModule.isTextSelection && isSelectionAvailable) || this.pdfViewerBase.textLayer.getTextSearchStatus())) {\n                                        this.pdfViewerBase.textLayer.resizeTextContentsOnZoom(i);\n                                        if (this.pdfViewer.textSelectionModule.isTextSelection && isSelectionAvailable) {\n                                            this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(i);\n                                        }\n                                    }\n                                    else {\n                                        textLayer.style.display = 'none';\n                                    }\n                                }\n                                else {\n                                    textLayer.style.display = 'none';\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Magnification.prototype.zoomOverPages = function (pointX1, pointY1, pointX2, pointY2) {\n        // tslint:disable-next-line\n        var currentDifference = Math.sqrt(Math.pow((pointX1 - pointX2), 2) + Math.pow((pointY1 - pointY2), 2));\n        if (this.previousTouchDifference > -1) {\n            if (currentDifference > this.previousTouchDifference) {\n                this.pinchOut();\n            }\n            else if (currentDifference < this.previousTouchDifference) {\n                this.pinchIn();\n            }\n        }\n        this.previousTouchDifference = currentDifference;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.pinchMoveEnd = function () {\n        this.touchCenterX = 0;\n        this.touchCenterY = 0;\n        this.previousTouchDifference = -1;\n        if (this.isPinchZoomed) {\n            this.isPinchScrolled = false;\n            this.isPagePinchZoomed = true;\n            this.pinchMoveScroll();\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.fitPageScrollMouseWheel = function (event) {\n        if (this.fitType === 'fitToPage') {\n            event.preventDefault();\n            if (event.wheelDelta > 0) {\n                this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n            }\n            else {\n                this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.magnifyBehaviorKeyDown = function (event) {\n        var isMac = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) ? true : false;\n        var isCommandKey = isMac ? event.metaKey : false;\n        switch (event.keyCode) {\n            case 38: // up arrow\n            case 37: // left arrow\n            case 33: // page up\n                if (this.fitType === 'fitToPage' && !((event.ctrlKey || isCommandKey) && event.shiftKey)) {\n                    event.preventDefault();\n                    this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n                }\n                break;\n            case 40: // down arrow\n            case 39: // right arrow\n            case 34: // page down\n                if (this.fitType === 'fitToPage' && !((event.ctrlKey || isCommandKey) && event.shiftKey)) {\n                    event.preventDefault();\n                    this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber - 1);\n                }\n                break;\n            case 187: // equal key\n                if (event.ctrlKey || isCommandKey) {\n                    event.preventDefault();\n                    this.zoomIn();\n                }\n                break;\n            case 189: // minus key\n                if (event.ctrlKey || isCommandKey) {\n                    event.preventDefault();\n                    this.zoomOut();\n                }\n                break;\n            case 48: // zero key\n                if ((event.ctrlKey || isCommandKey) && !event.shiftKey) {\n                    event.preventDefault();\n                    this.fitToPage();\n                }\n                break;\n            case 49: // one key\n                if ((event.ctrlKey || isCommandKey) && !event.shiftKey) {\n                    event.preventDefault();\n                    this.zoomTo(100);\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    Magnification.prototype.upwardScrollFitPage = function (currentPageIndex) {\n        if (currentPageIndex > 0) {\n            this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex - 1)).style.visibility = 'visible';\n            this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.pageSize[currentPageIndex - 1].top * this.zoomFactor;\n            this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex)).style.visibility = 'hidden';\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.updatePagesForFitPage = function (currentPageIndex) {\n        if (this.fitType === 'fitToPage') {\n            if (currentPageIndex > 0) {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex - 1)).style.visibility = 'hidden';\n            }\n            if (currentPageIndex < (this.pdfViewerBase.pageCount - 1)) {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex + 1)).style.visibility = 'hidden';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.onDoubleTapMagnification = function () {\n        this.pdfViewer.toolbarModule.showToolbar(false);\n        var scrollValue = this.pdfViewerBase.viewerContainer.scrollTop;\n        if (!this.isTapToFitZoom) {\n            if (this.zoomFactor < 2) {\n                this.zoomTo(200);\n            }\n            else {\n                this.fitToWidth();\n            }\n        }\n        else {\n            this.zoomTo(this.previousZoomFactor * 100);\n        }\n        this.calculateScrollValues(scrollValue);\n        this.isTapToFitZoom = !this.isTapToFitZoom;\n    };\n    Magnification.prototype.downwardScrollFitPage = function (currentPageIndex) {\n        if (currentPageIndex !== (this.pdfViewerBase.pageCount - 1)) {\n            this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex + 1)).style.visibility = 'visible';\n            this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.pageSize[currentPageIndex + 1].top * this.zoomFactor;\n            if (currentPageIndex + 1 === (this.pdfViewerBase.pageCount - 1)) {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex)).style.visibility = 'hidden';\n            }\n            else {\n                this.pdfViewerBase.getElement('_pageDiv_' + (currentPageIndex + 2)).style.visibility = 'hidden';\n            }\n        }\n    };\n    Magnification.prototype.getMagnifiedValue = function (value) {\n        return (value / this.previousZoomFactor) * this.zoomFactor;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.destroy = function () {\n        this.imageObjects = undefined;\n    };\n    /**\n     * returns zoom factor when the zoom percent is passed.\n     */\n    Magnification.prototype.getZoomFactor = function (zoomValue) {\n        return zoomValue / 100;\n    };\n    /**\n     * @private\n     */\n    Magnification.prototype.getModuleName = function () {\n        return 'Magnification';\n    };\n    return Magnification;\n}());\nexport { Magnification };\n","/**\n * Navigation module\n */\nvar Navigation = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Navigation(viewer, viewerBase) {\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * Navigate to Next page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToNextPage = function () {\n        this.pageNumber = this.pdfViewerBase.currentPageNumber;\n        this.pageNumber++;\n        if (this.pageNumber <= this.pdfViewerBase.pageCount) {\n            this.pdfViewerBase.updateScrollTop(this.pageNumber - 1);\n        }\n    };\n    /**\n     * Navigate to Previous page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToPreviousPage = function () {\n        this.pageNumber = this.pdfViewerBase.currentPageNumber;\n        this.pageNumber--;\n        if (this.pageNumber > 0) {\n            this.pdfViewerBase.updateScrollTop(this.pageNumber - 1);\n        }\n    };\n    /**\n     * Navigate to given Page number\n     * Note : In case if we have provided incorrect page number as argument it will retain the existing page\n     * @param  {number} pageNumber - Defines the page number to navigate\n     * @returns void\n     */\n    Navigation.prototype.goToPage = function (pageNumber) {\n        if (pageNumber > 0 && pageNumber <= this.pdfViewerBase.pageCount && this.pdfViewerBase.currentPageNumber !== pageNumber) {\n            this.pdfViewerBase.updateScrollTop(pageNumber - 1);\n        }\n    };\n    /**\n     * Navigate to First page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToFirstPage = function () {\n        this.pageNumber = 0;\n        this.pdfViewerBase.updateScrollTop(this.pageNumber);\n    };\n    /**\n     * Navigate to Last page of the PDF document\n     * @returns void\n     */\n    Navigation.prototype.goToLastPage = function () {\n        this.pageNumber = this.pdfViewerBase.pageCount - 1;\n        this.pdfViewerBase.updateScrollTop(this.pageNumber);\n    };\n    /**\n     * @private\n     */\n    Navigation.prototype.destroy = function () {\n        this.pageNumber = 0;\n    };\n    /**\n     * @private\n     */\n    Navigation.prototype.getModuleName = function () {\n        return 'Navigation';\n    };\n    return Navigation;\n}());\nexport { Navigation };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * The `ThumbnailView` module is used to handle thumbnail view navigation of PDF viewer.\n * @hidden\n */\nvar ThumbnailView = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ThumbnailView(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        this.thumbnailLimit = 30;\n        this.thumbnailThreshold = 50;\n        this.thumbnailTopMargin = 10;\n        /**\n         * @private\n         */\n        this.isThumbnailClicked = false;\n        /**\n         * @private\n         */\n        this.thumbnailClick = function (event) {\n            var proxy = _this;\n            var pageNumber = proxy.getPageNumberFromID(event.srcElement.id);\n            if (proxy.previousElement) {\n                proxy.previousElement.classList.remove('e-pv-thumbnail-selection');\n                proxy.previousElement.classList.remove('e-pv-thumbnail-focus');\n                proxy.previousElement.classList.add('e-pv-thumbnail-selection-ring');\n            }\n            if (event.srcElement.parentElement.id === proxy.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n                proxy.setSelectionStyle(event.srcElement.parentElement);\n                proxy.previousElement = event.srcElement.parentElement;\n            }\n            else if (event.srcElement.id === proxy.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n                proxy.setSelectionStyle(event.srcElement);\n                proxy.previousElement = event.srcElement;\n            }\n            proxy.isThumbnailClicked = true;\n            proxy.goToThumbnailPage(pageNumber + 1);\n            proxy.pdfViewerBase.focusViewerContainer();\n        };\n        /**\n         * @private\n         */\n        this.thumbnailMouseOver = function (event) {\n            var proxy = _this;\n            var pageNumber = proxy.getPageNumberFromID(event.srcElement.id);\n            if (event.srcElement.id === proxy.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n                proxy.setMouseOverStyle(event.srcElement);\n            }\n            else if (event.srcElement.id === proxy.pdfViewer.element.id + '_thumbnail_image_' + pageNumber) {\n                proxy.setMouseOverStyle(event.srcElement.parentElement);\n            }\n        };\n        /**\n         * @private\n         */\n        this.thumbnailMouseLeave = function (event) {\n            var proxy = _this;\n            var pageNumber = proxy.getPageNumberFromID(event.srcElement.id);\n            if (event.srcElement.parentElement.id === proxy.pdfViewer.element.id + '_thumbnail_view') {\n                proxy.setMouseLeaveStyle(event.srcElement.children[0].children[0]);\n            }\n            else if (event.srcElement.parentElement.id === proxy.pdfViewer.element.id + '_thumbnail_' + pageNumber) {\n                proxy.setMouseLeaveStyle(event.srcElement.parentElement.children[0]);\n            }\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.createThumbnailContainer = function () {\n        // tslint:disable-next-line:max-line-length\n        this.thumbnailView = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_view', className: 'e-pv-thumbnail-view e-pv-thumbnail-row' });\n        this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.thumbnailView);\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    ThumbnailView.prototype.createRequestForThumbnails = function () {\n        var proxy = this;\n        // tslint:disable-next-line\n        var isIE = !!document.documentMode;\n        if (!isIE) {\n            // tslint:disable-next-line\n            return new Promise(\n            // tslint:disable-next-line\n            function (renderThumbnailImage, reject) {\n                proxy.requestCreation(proxy);\n            });\n        }\n        else {\n            this.requestCreation(proxy);\n            return null;\n        }\n    };\n    ThumbnailView.prototype.requestCreation = function (proxy) {\n        var _this = this;\n        if (!proxy.isThumbnailCompleted) {\n            // tslint:disable-next-line:max-line-length\n            proxy.thumbnailLimit = proxy.thumbnailLimit < proxy.pdfViewer.pageCount ? proxy.thumbnailLimit : proxy.pdfViewer.pageCount;\n            if (proxy.thumbnailLimit !== proxy.pdfViewer.pageCount) {\n                proxy.isThumbnailCompleted = false;\n                proxy.startIndex = 0;\n            }\n        }\n        else {\n            proxy.startIndex = proxy.thumbnailLimit;\n            // tslint:disable-next-line:max-line-length\n            proxy.thumbnailLimit = proxy.startIndex + proxy.thumbnailThreshold < proxy.pdfViewer.pageCount ? proxy.startIndex + proxy.thumbnailThreshold : proxy.pdfViewer.pageCount;\n        }\n        var request = new XMLHttpRequest();\n        // tslint:disable-next-line:max-line-length\n        var jsonObject = { startPage: proxy.startIndex, endPage: proxy.thumbnailLimit, sizeX: 99.7, sizeY: 141, hashId: proxy.pdfViewerBase.hashId };\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.renderThumbnail);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                proxy.renderThumbnailImage(data);\n                if (!proxy.isThumbnailCompleted) {\n                    proxy.startIndex = proxy.thumbnailLimit;\n                    proxy.isThumbnailCompleted = true;\n                }\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.pdfViewerBase.openNotificationPopup();\n            proxy.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.gotoThumbnailImage = function (pageNumber) {\n        var shouldScroll = this.checkThumbnailScroll(pageNumber);\n        if (this.thumbnailView) {\n            var thumbnailChild = this.thumbnailView.children[pageNumber];\n            if (thumbnailChild) {\n                var thumbnailDiv = thumbnailChild.children[0];\n                if (shouldScroll) {\n                    var offsetTop = thumbnailDiv.offsetTop + thumbnailDiv.clientTop - this.thumbnailTopMargin;\n                    this.pdfViewerBase.navigationPane.sideBarContent.scrollTop = offsetTop;\n                }\n                if (!this.isThumbnailClicked) {\n                    if (this.previousElement) {\n                        this.previousElement.classList.remove('e-pv-thumbnail-selection');\n                        this.previousElement.classList.remove('e-pv-thumbnail-focus');\n                        this.previousElement.classList.remove('e-pv-thumbnail-hover');\n                        this.previousElement.classList.add('e-pv-thumbnail-selection-ring');\n                    }\n                    this.setFocusStyle(thumbnailDiv, pageNumber);\n                }\n                this.previousElement = thumbnailDiv.children[0];\n            }\n        }\n    };\n    ThumbnailView.prototype.checkThumbnailScroll = function (pageNumber) {\n        var shouldScroll = false;\n        if (this.thumbnailView) {\n            var visibleThumbs = this.getVisibleThumbs();\n            var numVisibleThumbs = visibleThumbs.views.length;\n            // if the thumbnail isn't currently visible, scroll it into view.\n            if (numVisibleThumbs > 0) {\n                var visibleFirstPageID = this.getPageNumberFromID(visibleThumbs.first.id);\n                // account for only one thumbnail being visible.\n                // tslint:disable-next-line:max-line-length\n                var visibleLastPageID = (numVisibleThumbs > 1 ? this.getPageNumberFromID(visibleThumbs.last.id) : visibleFirstPageID);\n                if (pageNumber <= visibleFirstPageID || pageNumber >= visibleLastPageID) {\n                    shouldScroll = true;\n                }\n                else {\n                    // tslint:disable-next-line\n                    visibleThumbs.views.some(function (view) {\n                        var pageID = view.id.split('_');\n                        var thumbPageNumber = pageID[pageID.length - 1];\n                        // tslint:disable-next-line:radix\n                        if (parseInt(thumbPageNumber) !== pageNumber) {\n                            return false;\n                        }\n                        shouldScroll = view.percent < 100;\n                        return true;\n                    });\n                }\n            }\n        }\n        return shouldScroll;\n    };\n    ThumbnailView.prototype.getPageNumberFromID = function (pageId) {\n        var pageID = pageId.split('_');\n        var pageNumber = pageID[pageID.length - 1];\n        // tslint:disable-next-line:radix\n        return parseInt(pageNumber);\n    };\n    ThumbnailView.prototype.setFocusStyle = function (thumbnail, pageNumber) {\n        if (thumbnail.children[0].id === this.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + pageNumber) {\n            this.setMouseFocusStyle(thumbnail.children[0]);\n        }\n    };\n    // tslint:disable-next-line\n    ThumbnailView.prototype.renderThumbnailImage = function (data) {\n        if (this.thumbnailView) {\n            for (var i = this.startIndex; i < this.thumbnailLimit; i++) {\n                // tslint:disable-next-line:max-line-length\n                var pageLink = createElement('a', { id: 'page_' + i, attrs: { 'aria-label': 'Thumbnail of Page' + (i + 1), 'tabindex': '-1', 'role': 'link' } });\n                // tslint:disable-next-line:max-line-length\n                var thumbnail = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_' + i, className: 'e-pv-thumbnail e-pv-thumbnail-column' });\n                // tslint:disable-next-line:max-line-length\n                this.thumbnailSelectionRing = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_Selection_Ring_' + i, className: 'e-pv-thumbnail-selection-ring' });\n                thumbnail.appendChild(this.thumbnailSelectionRing);\n                // tslint:disable-next-line:max-line-length\n                var thumbnailPageNumber = createElement('div', { id: this.pdfViewer.element.id + '_thumbnail_pagenumber_' + i, className: 'e-pv-thumbnail-number' });\n                thumbnailPageNumber.textContent = (i + 1).toString();\n                thumbnail.appendChild(thumbnailPageNumber);\n                // tslint:disable-next-line:max-line-length\n                this.thumbnailImage = createElement('img', { id: this.pdfViewer.element.id + '_thumbnail_image_' + i, className: 'e-pv-thumbnail-image' });\n                this.thumbnailImage.src = data.thumbnailImage[i];\n                this.thumbnailSelectionRing.appendChild(this.thumbnailImage);\n                pageLink.appendChild(thumbnail);\n                this.thumbnailView.appendChild(pageLink);\n                this.wireUpEvents();\n                if (i === 0) {\n                    this.setMouseFocusToFirstPage();\n                }\n            }\n        }\n        this.pdfViewerBase.navigationPane.enableThumbnailButton();\n        if (this.thumbnailLimit !== this.pdfViewerBase.pageCount && this.thumbnailView) {\n            // tslint:disable-next-line\n            var isIE = !!document.documentMode;\n            if (!isIE) {\n                Promise.all([this.createRequestForThumbnails()]);\n            }\n            else {\n                this.createRequestForThumbnails();\n            }\n        }\n    };\n    ThumbnailView.prototype.wireUpEvents = function () {\n        if (this.thumbnailSelectionRing) {\n            this.thumbnailSelectionRing.addEventListener('click', this.thumbnailClick);\n            this.thumbnailSelectionRing.addEventListener('mouseover', this.thumbnailMouseOver);\n            this.thumbnailSelectionRing.addEventListener('mouseleave', this.thumbnailMouseLeave);\n        }\n    };\n    ThumbnailView.prototype.unwireUpEvents = function () {\n        if (this.thumbnailSelectionRing && this.thumbnailImage) {\n            this.thumbnailSelectionRing.removeEventListener('click', this.thumbnailClick);\n            this.thumbnailSelectionRing.removeEventListener('mouseover', this.thumbnailMouseOver);\n            this.thumbnailSelectionRing.removeEventListener('mouseleave', this.thumbnailMouseLeave);\n        }\n    };\n    ThumbnailView.prototype.goToThumbnailPage = function (pageNumber) {\n        if (pageNumber > 0 && pageNumber <= this.pdfViewerBase.pageCount && this.pdfViewerBase.currentPageNumber !== pageNumber) {\n            this.pdfViewerBase.updateScrollTop(pageNumber - 1);\n        }\n        else {\n            this.isThumbnailClicked = false;\n        }\n    };\n    ThumbnailView.prototype.setSelectionStyle = function (thumbnailElement) {\n        thumbnailElement.classList.remove('e-pv-thumbnail-selection-ring');\n        thumbnailElement.classList.remove('e-pv-thumbnail-hover');\n        thumbnailElement.classList.remove('e-pv-thumbnail-focus');\n        thumbnailElement.classList.add('e-pv-thumbnail-selection');\n    };\n    ThumbnailView.prototype.setMouseOverStyle = function (thumbnailElement) {\n        // tslint:disable-next-line:max-line-length\n        if (!thumbnailElement.classList.contains('e-pv-thumbnail-selection')) {\n            thumbnailElement.classList.remove('e-pv-thumbnail-selection-ring');\n            if (!thumbnailElement.classList.contains('e-pv-thumbnail-focus')) {\n                thumbnailElement.classList.add('e-pv-thumbnail-hover');\n            }\n        }\n    };\n    ThumbnailView.prototype.setMouseLeaveStyle = function (thumbnailElement) {\n        if (!thumbnailElement.classList.contains('e-pv-thumbnail-selection')) {\n            if (!thumbnailElement.classList.contains('e-pv-thumbnail-focus')) {\n                thumbnailElement.classList.add('e-pv-thumbnail-selection-ring');\n            }\n            thumbnailElement.classList.remove('e-pv-thumbnail-hover');\n        }\n        else {\n            if (!thumbnailElement.classList.contains('e-pv-thumbnail-selection')) {\n                thumbnailElement.classList.remove('e-pv-thumbnail-selection');\n                thumbnailElement.classList.add('e-pv-thumbnail-focus');\n            }\n        }\n    };\n    ThumbnailView.prototype.setMouseFocusStyle = function (thumbnailElement) {\n        thumbnailElement.classList.remove('e-pv-thumbnail-selection');\n        thumbnailElement.classList.remove('e-pv-thumbnail-hover');\n        thumbnailElement.classList.add('e-pv-thumbnail-focus');\n    };\n    ThumbnailView.prototype.setMouseFocusToFirstPage = function () {\n        var thumbnailChild = this.thumbnailView.children[0];\n        if (thumbnailChild) {\n            var thumbnailDiv = thumbnailChild.children[0].children[0];\n            this.setMouseFocusStyle(thumbnailDiv);\n            this.previousElement = thumbnailDiv;\n        }\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.clear = function () {\n        this.startIndex = 0;\n        this.thumbnailLimit = 0;\n        this.isThumbnailCompleted = false;\n        if (this.pdfViewerBase.navigationPane) {\n            if (this.pdfViewerBase.navigationPane.sideBarContentContainer) {\n                this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display = 'block';\n                this.pdfViewerBase.navigationPane.sideBarContent.scrollTop = 0;\n                this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display = 'none';\n            }\n        }\n        if (this.thumbnailView) {\n            while (this.thumbnailView.hasChildNodes()) {\n                this.thumbnailView.removeChild(this.thumbnailView.lastChild);\n            }\n        }\n        if (this.pdfViewerBase.navigationPane) {\n            this.pdfViewerBase.navigationPane.resetThumbnailView();\n        }\n        this.unwireUpEvents();\n    };\n    ThumbnailView.prototype.getVisibleThumbs = function () {\n        return this.getVisibleElements(this.pdfViewerBase.navigationPane.sideBarContent, this.thumbnailView.children);\n    };\n    ThumbnailView.prototype.getVisibleElements = function (scrollElement, thumbnailViewChildren) {\n        var top = scrollElement.scrollTop;\n        var bottom = top + scrollElement.clientHeight;\n        var left = scrollElement.scrollLeft;\n        var right = left + scrollElement.clientWidth;\n        function isThumbnailElementBottomAfterViewTop(thumbnailViewChildrenElement) {\n            var elementBottom = thumbnailViewChildrenElement.offsetTop + thumbnailViewChildrenElement.clientTop + thumbnailViewChildrenElement.clientHeight;\n            return elementBottom > top;\n        }\n        // tslint:disable-next-line\n        var visible = [];\n        var thumbnailView;\n        var element;\n        var currentHeight;\n        var viewHeight;\n        var viewBottom;\n        var hiddenHeight;\n        var currentWidth;\n        var viewWidth;\n        var viewRight;\n        var hiddenWidth;\n        var percentVisible;\n        var firstVisibleElementInd = thumbnailViewChildren.length === 0 ? 0 :\n            this.binarySearchFirstItem(thumbnailViewChildren, isThumbnailElementBottomAfterViewTop);\n        if (thumbnailViewChildren.length > 0) {\n            firstVisibleElementInd =\n                this.backtrackBeforeAllVisibleElements(firstVisibleElementInd, thumbnailViewChildren, top);\n        }\n        var lastEdge = -1;\n        for (var i = firstVisibleElementInd, ii = thumbnailViewChildren.length; i < ii; i++) {\n            thumbnailView = this.getThumbnailElement(i);\n            element = thumbnailView;\n            currentWidth = element.offsetLeft + element.clientLeft;\n            currentHeight = element.offsetTop + element.clientTop;\n            viewWidth = element.clientWidth;\n            viewHeight = element.clientHeight;\n            viewRight = currentWidth + viewWidth;\n            viewBottom = currentHeight + viewHeight;\n            if (lastEdge === -1) {\n                if (viewBottom >= bottom) {\n                    lastEdge = viewBottom;\n                }\n            }\n            else if (currentHeight > lastEdge) {\n                break;\n            }\n            if (viewBottom <= top || currentHeight >= bottom ||\n                viewRight <= left || currentWidth >= right) {\n                continue;\n            }\n            hiddenHeight = Math.max(0, top - currentHeight) +\n                Math.max(0, viewBottom - bottom);\n            hiddenWidth = Math.max(0, left - currentWidth) +\n                Math.max(0, viewRight - right);\n            // tslint:disable-next-line:no-bitwise\n            percentVisible = ((viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth) | 0;\n            visible.push({\n                id: thumbnailView.id,\n                x: currentWidth,\n                y: currentHeight,\n                view: thumbnailView,\n                percent: percentVisible,\n            });\n        }\n        var first = visible[0];\n        var last = visible[visible.length - 1];\n        return { first: first, last: last, views: visible, };\n    };\n    // tslint:disable-next-line\n    ThumbnailView.prototype.binarySearchFirstItem = function (items, condition) {\n        var minIndex = 0;\n        var maxIndex = items.length - 1;\n        if (items.length === 0 || !condition(this.getThumbnailElement(maxIndex))) {\n            return items.length - 1;\n        }\n        if (condition(this.getThumbnailElement(minIndex))) {\n            return minIndex;\n        }\n        while (minIndex < maxIndex) {\n            // tslint:disable-next-line:no-bitwise\n            var currentIndex = (minIndex + maxIndex) >> 1;\n            if (condition(this.getThumbnailElement(currentIndex))) {\n                maxIndex = currentIndex;\n            }\n            else {\n                minIndex = currentIndex + 1;\n            }\n        }\n        return minIndex; /* === maxIndex */\n    };\n    ThumbnailView.prototype.backtrackBeforeAllVisibleElements = function (index, views, top) {\n        if (index < 2) {\n            return index;\n        }\n        var thumbnailElement = this.getThumbnailElement(index);\n        var pageTop = thumbnailElement.offsetTop + thumbnailElement.clientTop;\n        if (pageTop >= top) {\n            thumbnailElement = this.getThumbnailElement(index - 1);\n            pageTop = thumbnailElement.offsetTop + thumbnailElement.clientTop;\n        }\n        for (var i = index - 2; i >= 0; --i) {\n            thumbnailElement = this.getThumbnailElement(i);\n            if (thumbnailElement.offsetTop + thumbnailElement.clientTop + thumbnailElement.clientHeight <= pageTop) {\n                break;\n            }\n            index = i;\n        }\n        return index;\n    };\n    ThumbnailView.prototype.getThumbnailElement = function (index) {\n        var thumbnailChild = this.thumbnailView.children[index];\n        return thumbnailChild.children[0];\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * @private\n     */\n    ThumbnailView.prototype.getModuleName = function () {\n        return 'ThumbnailView';\n    };\n    return ThumbnailView;\n}());\nexport { ThumbnailView };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { AnnotationToolbar } from '../index';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Toolbar module\n */\nvar Toolbar = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Toolbar(viewer, viewerBase) {\n        var _this = this;\n        this.isPageNavigationToolDisabled = false;\n        this.isMagnificationToolDisabled = false;\n        this.isSelectionToolDisabled = false;\n        this.isScrollingToolDisabled = false;\n        this.isOpenBtnVisible = true;\n        this.isNavigationToolVisible = true;\n        this.isMagnificationToolVisible = true;\n        this.isSelectionBtnVisible = true;\n        this.isScrollingBtnVisible = true;\n        this.isDownloadBtnVisible = true;\n        this.isPrintBtnVisible = true;\n        this.isSearchBtnVisible = true;\n        this.isTextSearchBoxDisplayed = false;\n        this.isUndoRedoBtnsVisible = true;\n        this.isAnnotationEditBtnVisible = true;\n        this.onToolbarKeydown = function (event) {\n            var targetId = event.target.id;\n            if (!(targetId === _this.pdfViewer.element.id + '_currentPageInput' || targetId === _this.pdfViewer.element.id + '_zoomDropDown')) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        };\n        this.toolbarClickHandler = function (args) {\n            // tslint:disable-next-line:max-line-length\n            if (!Browser.isDevice) {\n                if (args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2]) {\n                    args.cancel = true;\n                }\n                else if (args.originalEvent.target.id === _this.pdfViewer.element.id + '_openIcon') {\n                    var tooltipData = args.originalEvent.target.parentElement.dataset;\n                    if (tooltipData && tooltipData.tooltipId) {\n                        var tooltipElement = document.getElementById(tooltipData.tooltipId);\n                        if (tooltipElement) {\n                            tooltipElement.style.display = 'none';\n                        }\n                    }\n                }\n            }\n            _this.handleToolbarButtonClick(args);\n            // tslint:disable-next-line:max-line-length\n            if (!Browser.isDevice) {\n                if (!(args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2] || args.originalEvent.target === _this.currentPageBoxElement || args.originalEvent.target === _this.textSearchItem.childNodes[0])) {\n                    args.originalEvent.target.blur();\n                    _this.pdfViewerBase.focusViewerContainer();\n                }\n            }\n        };\n        // tslint:disable-next-line\n        this.loadDocument = function (args) {\n            // tslint:disable-next-line\n            var upoadedFiles = args.target.files;\n            if (args.target.files[0] !== null) {\n                var uploadedFile = upoadedFiles[0];\n                if (uploadedFile) {\n                    _this.uploadedDocumentName = uploadedFile.name;\n                    var reader = new FileReader();\n                    reader.readAsDataURL(uploadedFile);\n                    // tslint:disable-next-line\n                    reader.onload = function (e) {\n                        var uploadedFileUrl = e.currentTarget.result;\n                        _this.pdfViewer.load(uploadedFileUrl, null);\n                    };\n                }\n            }\n        };\n        this.navigateToPage = function (args) {\n            if (args.which === 13) {\n                // tslint:disable-next-line\n                var enteredValue = parseInt(_this.currentPageBoxElement.value);\n                if (enteredValue !== null) {\n                    if (enteredValue > 0 && enteredValue <= _this.pdfViewerBase.pageCount) {\n                        if (_this.pdfViewer.navigationModule) {\n                            _this.pdfViewer.navigationModule.goToPage(enteredValue);\n                        }\n                    }\n                    else {\n                        _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                    }\n                }\n                else {\n                    _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                }\n                _this.currentPageBoxElement.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        };\n        this.textBoxFocusOut = function () {\n            // tslint:disable-next-line\n            if (_this.currentPageBox.value === null || _this.currentPageBox.value >= _this.pdfViewerBase.pageCount || _this.currentPageBox.value !== _this.pdfViewerBase.currentPageNumber) {\n                _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n            }\n        };\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * @private\n     */\n    Toolbar.prototype.intializeToolbar = function (width) {\n        var toolbarDiv = this.createToolbar(width);\n        // tslint:disable-next-line\n        var isIE = !!document.documentMode;\n        if (isIE) {\n            this.totalPageItem.classList.add('e-pv-total-page-ms');\n        }\n        this.createFileElement(toolbarDiv);\n        this.wireEvent();\n        this.updateToolbarItems();\n        if (!Browser.isDevice) {\n            this.applyToolbarSettings();\n            this.initialEnableItems();\n            this.pdfViewerBase.navigationPane.adjustPane();\n        }\n        if (this.pdfViewer.annotationModule) {\n            this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n            if (!Browser.isDevice) {\n                this.annotationToolbarModule.initializeAnnotationToolbar();\n            }\n        }\n        return toolbarDiv;\n    };\n    /**\n     * Shows /hides the toolbar in the PdfViewer\n     * @param  {boolean} enableToolbar - If set true , its show the Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showToolbar = function (enableToolbar) {\n        var toolbar = this.toolbarElement;\n        if (enableToolbar) {\n            toolbar.style.display = 'block';\n            if (Browser.isDevice) {\n                this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar();\n            }\n        }\n        else {\n            toolbar.style.display = 'none';\n            if (!Browser.isDevice) {\n                this.pdfViewerBase.navigationPane.sideBarToolbar.style.display = 'none';\n            }\n        }\n    };\n    /**\n     * Shows /hides the the toolbar items in the PdfViewer\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isVisible - If set true, then its show the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.showToolbarItem = function (items, isVisible) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.showOpenOption(isVisible);\n                    break;\n                case 'PageNavigationTool':\n                    this.showPageNavigationTool(isVisible);\n                    break;\n                case 'MagnificationTool':\n                    this.showMagnificationTool(isVisible);\n                    break;\n                case 'SelectionTool':\n                    this.showSelectionTool(isVisible);\n                    break;\n                case 'PanTool':\n                    this.showScrollingTool(isVisible);\n                    break;\n                case 'DownloadOption':\n                    this.showDownloadOption(isVisible);\n                    break;\n                case 'PrintOption':\n                    this.showPrintOption(isVisible);\n                    break;\n                case 'SearchOption':\n                    this.showSearchOption(isVisible);\n                    break;\n                case 'UndoRedoTool':\n                    this.showUndoRedoTool(isVisible);\n                    break;\n                case 'AnnotationEditTool':\n                    this.showAnnotationEditTool(isVisible);\n                    break;\n            }\n        }\n        this.applyHideToToolbar(true, 1, 1);\n        this.applyHideToToolbar(true, 8, 8);\n        this.applyHideToToolbar(true, 12, 12);\n        this.applyHideToToolbar(true, 15, 15);\n        this.showSeparator(items);\n    };\n    /**\n     * Enables /disables the the toolbar items in the PdfViewer\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isEnable - If set true, then its Enable the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.enableToolbarItem = function (items, isEnable) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.enableOpenOption(isEnable);\n                    break;\n                case 'PageNavigationTool':\n                    this.isPageNavigationToolDisabled = isEnable;\n                    this.enablePageNavigationTool(isEnable);\n                    break;\n                case 'MagnificationTool':\n                    this.isMagnificationToolDisabled = isEnable;\n                    this.enableMagnificationTool(isEnable);\n                    break;\n                case 'SelectionTool':\n                    this.isSelectionToolDisabled = isEnable;\n                    this.enableSelectionTool(isEnable);\n                    break;\n                case 'PanTool':\n                    this.isScrollingToolDisabled = isEnable;\n                    this.enableScrollingTool(isEnable);\n                    break;\n                case 'DownloadOption':\n                    this.enableDownloadOption(isEnable);\n                    break;\n                case 'PrintOption':\n                    this.enablePrintOption(isEnable);\n                    break;\n                case 'SearchOption':\n                    this.enableSearchOption(isEnable);\n                    break;\n                case 'UndoRedoTool':\n                    this.enableUndoRedoTool(isEnable);\n                    break;\n                case 'AnnotationEditTool':\n                    this.enableAnnotationEditTool(isEnable);\n                    break;\n            }\n        }\n    };\n    Toolbar.prototype.showOpenOption = function (enableOpenOption) {\n        this.isOpenBtnVisible = enableOpenOption;\n        this.applyHideToToolbar(enableOpenOption, 0, 0);\n    };\n    Toolbar.prototype.showPageNavigationTool = function (enablePageNavigationTool) {\n        this.isNavigationToolVisible = enablePageNavigationTool;\n        this.applyHideToToolbar(enablePageNavigationTool, 2, 7);\n    };\n    Toolbar.prototype.showMagnificationTool = function (enableMagnificationTool) {\n        this.isMagnificationToolVisible = enableMagnificationTool;\n        this.applyHideToToolbar(enableMagnificationTool, 9, 11);\n    };\n    Toolbar.prototype.showSelectionTool = function (enableSelectionTool) {\n        this.isSelectionBtnVisible = enableSelectionTool;\n        this.applyHideToToolbar(enableSelectionTool, 13, 13);\n    };\n    Toolbar.prototype.showScrollingTool = function (enableScrollingTool) {\n        this.isScrollingBtnVisible = enableScrollingTool;\n        this.applyHideToToolbar(enableScrollingTool, 14, 14);\n    };\n    Toolbar.prototype.showDownloadOption = function (enableDownloadOption) {\n        this.isDownloadBtnVisible = enableDownloadOption;\n        this.applyHideToToolbar(enableDownloadOption, 21, 21);\n    };\n    Toolbar.prototype.showPrintOption = function (enablePrintOption) {\n        this.isPrintBtnVisible = enablePrintOption;\n        this.applyHideToToolbar(enablePrintOption, 20, 20);\n    };\n    Toolbar.prototype.showSearchOption = function (enableSearchOption) {\n        this.isSearchBtnVisible = enableSearchOption;\n        this.applyHideToToolbar(enableSearchOption, 18, 18);\n    };\n    Toolbar.prototype.showUndoRedoTool = function (isEnable) {\n        this.isUndoRedoBtnsVisible = isEnable;\n        this.applyHideToToolbar(isEnable, 16, 17);\n    };\n    Toolbar.prototype.showAnnotationEditTool = function (isEnable) {\n        this.isAnnotationEditBtnVisible = isEnable;\n        this.applyHideToToolbar(isEnable, 19, 19);\n    };\n    Toolbar.prototype.enableOpenOption = function (enableOpenOption) {\n        this.toolbar.enableItems(this.openDocumentItem.parentElement, enableOpenOption);\n    };\n    Toolbar.prototype.enablePageNavigationTool = function (enablePageNavigationTool) {\n        this.toolbar.enableItems(this.firstPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.previousPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.nextPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.lastPageItem.parentElement, enablePageNavigationTool);\n        this.currentPageBox.readonly = !enablePageNavigationTool;\n    };\n    Toolbar.prototype.enableMagnificationTool = function (enableMagnificationTool) {\n        this.toolbar.enableItems(this.zoomInItem.parentElement, enableMagnificationTool);\n        this.toolbar.enableItems(this.zoomOutItem.parentElement, enableMagnificationTool);\n        this.zoomDropDown.readonly = !enableMagnificationTool;\n    };\n    Toolbar.prototype.enableSelectionTool = function (enableSelectionTool) {\n        this.toolbar.enableItems(this.textSelectItem.parentElement, enableSelectionTool);\n    };\n    Toolbar.prototype.enableScrollingTool = function (enableScrollingTool) {\n        this.toolbar.enableItems(this.panItem.parentElement, enableScrollingTool);\n    };\n    Toolbar.prototype.enableDownloadOption = function (enableDownloadOption) {\n        this.toolbar.enableItems(this.downloadItem.parentElement, enableDownloadOption);\n    };\n    Toolbar.prototype.enablePrintOption = function (enablePrintOption) {\n        this.toolbar.enableItems(this.printItem.parentElement, enablePrintOption);\n    };\n    Toolbar.prototype.enableSearchOption = function (enableSearchOption) {\n        this.toolbar.enableItems(this.textSearchItem.parentElement, enableSearchOption);\n    };\n    Toolbar.prototype.enableUndoRedoTool = function (isEnable) {\n        this.toolbar.enableItems(this.undoItem.parentElement, isEnable);\n        this.toolbar.enableItems(this.redoItem.parentElement, isEnable);\n    };\n    Toolbar.prototype.enableAnnotationEditTool = function (isEnable) {\n        this.toolbar.enableItems(this.annotationItem.parentElement, isEnable);\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.resetToolbar = function () {\n        if (!Browser.isDevice) {\n            this.currentPageBox.min = 0;\n            this.currentPageBox.value = 0;\n            this.updateTotalPage();\n            this.updateToolbarItems();\n            if (this.annotationToolbarModule) {\n                this.annotationToolbarModule.clear();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateToolbarItems = function () {\n        if (!Browser.isDevice) {\n            if (this.pdfViewerBase.pageCount === 0) {\n                this.toolbar.enableItems(this.downloadItem.parentElement, false);\n                this.toolbar.enableItems(this.printItem.parentElement, false);\n                this.updateUndoRedoButtons();\n                this.updateNavigationButtons();\n                this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n                if (this.pdfViewer.magnificationModule) {\n                    this.zoomDropDown.readonly = true;\n                }\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), false);\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), false);\n                this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n                this.toolbar.enableItems(this.annotationItem.parentElement, false);\n                this.toolbar.enableItems(this.panItem.parentElement, false);\n                this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n                this.deSelectItem(this.annotationItem);\n                if (this.annotationToolbarModule) {\n                    this.annotationToolbarModule.resetToolbar();\n                }\n            }\n            else if (this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.downloadItem.parentElement, true);\n                this.toolbar.enableItems(this.printItem.parentElement, true);\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), true);\n                this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), true);\n                this.updateUndoRedoButtons();\n                this.updateNavigationButtons();\n                this.updateZoomButtons();\n                if (this.pdfViewer.magnificationModule) {\n                    this.zoomDropDown.readonly = false;\n                }\n                this.updateInteractionItems();\n                // modify this condition if new annotation types are added.\n                if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n                    this.toolbar.enableItems(this.annotationItem.parentElement, true);\n                }\n                if (this.pdfViewer.textSearchModule && this.pdfViewer.enableTextSearch) {\n                    this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n                }\n            }\n            if (this.pdfViewer.annotationToolbarSettings.annotationToolbarItem.length === 0 || !this.pdfViewer.annotationModule) {\n                this.enableToolbarItem(['AnnotationEditTool'], false);\n            }\n        }\n        else {\n            if (this.pdfViewerBase.pageCount === 0) {\n                this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n                this.toolbar.enableItems(this.moreOptionItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n                this.toolbar.enableItems(this.moreOptionItem.parentElement, true);\n                this.updateUndoRedoButtons();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateNavigationButtons = function () {\n        if (this.pdfViewer.navigationModule && !this.isPageNavigationToolDisabled) {\n            if (this.pdfViewerBase.pageCount === 0 || (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount === 1)) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === this.pdfViewerBase.pageCount && this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber > 1 && this.pdfViewerBase.currentPageNumber < this.pdfViewerBase.pageCount) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n            }\n        }\n        else {\n            this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n            this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n            this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n            this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            this.currentPageBox.readonly = true;\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateZoomButtons = function () {\n        if (this.pdfViewer.magnificationModule && !this.isMagnificationToolDisabled && !Browser.isDevice) {\n            if (this.pdfViewer.magnificationModule.zoomFactor <= 0.5) {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n            }\n            else if (this.pdfViewer.magnificationModule.zoomFactor >= 4) {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n            }\n            else {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateUndoRedoButtons = function () {\n        if (this.pdfViewer.annotationModule) {\n            if (this.pdfViewerBase.pageCount > 0) {\n                this.enableCollectionAvailable(this.pdfViewer.annotationModule.actionCollection, this.undoItem.parentElement);\n                this.enableCollectionAvailable(this.pdfViewer.annotationModule.redoCollection, this.redoItem.parentElement);\n            }\n            else {\n                this.disableUndoRedoButtons();\n            }\n        }\n        else {\n            this.disableUndoRedoButtons();\n        }\n    };\n    // tslint:disable-next-line\n    Toolbar.prototype.enableCollectionAvailable = function (collection, item) {\n        if (collection.length > 0) {\n            this.toolbar.enableItems(item, true);\n        }\n        else {\n            this.toolbar.enableItems(item, false);\n        }\n    };\n    Toolbar.prototype.disableUndoRedoButtons = function () {\n        this.toolbar.enableItems(this.undoItem.parentElement, false);\n        this.toolbar.enableItems(this.redoItem.parentElement, false);\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        this.unWireEvent();\n        if (this.moreDropDown) {\n            this.moreDropDown.destroy();\n        }\n        if (this.annotationToolbarModule) {\n            this.annotationToolbarModule.destroy();\n        }\n        this.toolbar.destroy();\n        this.toolbarElement.remove();\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateCurrentPage = function (pageIndex) {\n        if (!Browser.isDevice) {\n            if (this.currentPageBox.value === pageIndex) {\n                this.currentPageBoxElement.value = pageIndex.toString();\n            }\n            this.currentPageBox.value = pageIndex;\n        }\n        else {\n            this.pdfViewerBase.mobileSpanContainer.innerHTML = pageIndex.toString();\n            this.pdfViewerBase.mobilecurrentPageContainer.innerHTML = pageIndex.toString();\n        }\n        this.pdfViewerBase.currentPageNumber = pageIndex;\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateTotalPage = function () {\n        if (!Browser.isDevice) {\n            if (this.pdfViewerBase.pageCount > 0) {\n                this.currentPageBox.min = 1;\n            }\n            this.totalPageItem.textContent = 'of ' + this.pdfViewerBase.pageCount.toString();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.openFileDialogBox = function (event) {\n        event.preventDefault();\n        this.fileInputElement.click();\n    };\n    Toolbar.prototype.createToolbar = function (controlWidth) {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_toolbarContainer', className: 'e-pv-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n        if (!Browser.isDevice) {\n            this.toolbar = new tool({\n                clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup',\n                items: this.createToolbarItems(), created: function () {\n                    _this.createZoomDropdown();\n                    _this.createNumericTextBox();\n                    _this.toolbar.refreshOverflow();\n                }\n            });\n            if (this.pdfViewer.enableRtl) {\n                this.toolbar.enableRtl = true;\n            }\n            this.toolbar.appendTo(this.toolbarElement);\n            this.afterToolbarCreation();\n            this.updateTotalPage();\n            this.toolbarElement.addEventListener('keydown', this.onToolbarKeydown);\n        }\n        else {\n            this.createToolbarItemsForMobile();\n            if (this.pdfViewer.enableRtl) {\n                this.toolbar.enableRtl = true;\n            }\n            this.disableUndoRedoButtons();\n        }\n        return this.toolbarElement;\n    };\n    // tslint:disable-next-line\n    Toolbar.prototype.createToolbarItems = function () {\n        var currentPageInputTemplate = this.createCurrentPageInputTemplate();\n        var totalPageTemplate = this.createTotalPageTemplate();\n        var zoomDropDownTemplateString = this.createZoomDropdownElement();\n        // tslint:disable-next-line\n        var items = [];\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-open-document-icon e-pv-icon', cssClass: 'e-pv-open-document-container', id: this.pdfViewer.element.id + '_open', text: this.pdfViewer.localeObj.getConstant('Open text'), align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left' });\n        if (!this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            items.push({ prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon', cssClass: 'e-pv-first-page-navigation-container', id: this.pdfViewer.element.id + '_firstPage', text: this.pdfViewer.localeObj.getConstant('First text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon', cssClass: 'e-pv-previous-page-navigation-container', id: this.pdfViewer.element.id + '_previousPage', text: this.pdfViewer.localeObj.getConstant('Previous text'), align: 'Left' });\n            // tslint:disable-next-line:max-line-length\n            items.push({ prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon', cssClass: 'e-pv-next-page-navigation-container', id: this.pdfViewer.element.id + '_nextPage', text: this.pdfViewer.localeObj.getConstant('Next text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon', cssClass: 'e-pv-last-page-navigation-container', id: this.pdfViewer.element.id + '_lastPage', text: this.pdfViewer.localeObj.getConstant('Last text'), align: 'Left' });\n            items.push({ template: currentPageInputTemplate, align: 'Left' });\n            items.push({ template: totalPageTemplate, align: 'Left' });\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            items.push({ prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon', cssClass: 'e-pv-last-page-navigation-container', id: this.pdfViewer.element.id + '_firstPage', text: this.pdfViewer.localeObj.getConstant('First text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon', cssClass: 'e-pv-next-page-navigation-container', id: this.pdfViewer.element.id + '_previousPage', text: this.pdfViewer.localeObj.getConstant('Previous text'), align: 'Left' });\n            // tslint:disable-next-line:max-line-length\n            items.push({ prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon', cssClass: 'e-pv-previous-page-navigation-container', id: this.pdfViewer.element.id + '_nextPage', text: this.pdfViewer.localeObj.getConstant('Next text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon', cssClass: 'e-pv-first-page-navigation-container', id: this.pdfViewer.element.id + '_lastPage', text: this.pdfViewer.localeObj.getConstant('Last text'), align: 'Left' });\n            items.push({ template: totalPageTemplate, align: 'Left' });\n            items.push({ template: currentPageInputTemplate, align: 'Left' });\n        }\n        items.push({ type: 'Separator', align: 'Left' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-zoom-out-icon e-pv-icon', cssClass: 'e-pv-zoom-out-container', id: this.pdfViewer.element.id + '_zoomOut', text: this.pdfViewer.localeObj.getConstant('Zoom out text'), align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-zoom-in-icon e-pv-icon', cssClass: 'e-pv-zoom-in-container', id: this.pdfViewer.element.id + '_zoomIn', text: this.pdfViewer.localeObj.getConstant('Zoom in text'), align: 'Left' });\n        items.push({ template: zoomDropDownTemplateString, cssClass: 'e-pv-zoom-drop-down-container', align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-text-select-tool-icon e-pv-icon', cssClass: 'e-pv-text-select-tool-container', id: this.pdfViewer.element.id + '_selectTool', text: this.pdfViewer.localeObj.getConstant('Selection text') });\n        items.push({ prefixIcon: 'e-pv-pan-tool-icon e-pv-icon', cssClass: 'e-pv-pan-tool-container', id: this.pdfViewer.element.id + '_handTool', text: this.pdfViewer.localeObj.getConstant('Pan text') });\n        items.push({ type: 'Separator', align: 'Left' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-undo-icon e-pv-icon', cssClass: 'e-pv-undo-container', id: this.pdfViewer.element.id + '_undo', text: this.pdfViewer.localeObj.getConstant('Undo'), align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-redo-icon e-pv-icon', cssClass: 'e-pv-redo-container', id: this.pdfViewer.element.id + '_redo', text: this.pdfViewer.localeObj.getConstant('Redo'), align: 'Left' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-text-search-icon e-pv-icon', cssClass: 'e-pv-text-search-container', id: this.pdfViewer.element.id + '_search', text: this.pdfViewer.localeObj.getConstant('Seach text'), align: 'Right' });\n        items.push({ prefixIcon: 'e-pv-annotation-icon e-pv-icon', cssClass: 'e-pv-annotation-container', id: this.pdfViewer.element.id + '_annotation', text: this.pdfViewer.localeObj.getConstant('Annotation Edit text'), align: 'Right' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-print-document-icon e-pv-icon', cssClass: 'e-pv-print-document-container', id: this.pdfViewer.element.id + '_print', text: this.pdfViewer.localeObj.getConstant('Print text'), align: 'Right' });\n        items.push({ prefixIcon: 'e-pv-download-document-icon e-pv-icon', cssClass: 'e-pv-download-document-container', id: this.pdfViewer.element.id + '_download', text: this.pdfViewer.localeObj.getConstant('Download'), align: 'Right' });\n        return items;\n    };\n    Toolbar.prototype.afterToolbarCreation = function () {\n        this.itemsContainer = this.toolbar.element.childNodes[0];\n        this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n        this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n        this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n        this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n        if (!this.pdfViewer.enableRtl) {\n            // tslint:disable-next-line:max-line-length\n            this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n            this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n            // tslint:disable-next-line:max-line-length\n            this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n            this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n            this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n            // tslint:disable-next-line:max-line-length\n            this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n            this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n        }\n        this.zoomOutItem = this.addClassToolbarItem('_zoomOut', 'e-pv-zoom-out', this.pdfViewer.localeObj.getConstant('Zoom Out'));\n        this.zoomInItem = this.addClassToolbarItem('_zoomIn', 'e-pv-zoom-in', this.pdfViewer.localeObj.getConstant('Zoom In'));\n        // tslint:disable-next-line:max-line-length\n        this.textSelectItem = this.addClassToolbarItem('_selectTool', 'e-pv-text-select-tool', this.pdfViewer.localeObj.getConstant('Text Selection'));\n        this.panItem = this.addClassToolbarItem('_handTool', 'e-pv-pan-tool', this.pdfViewer.localeObj.getConstant('Panning'));\n        // tslint:disable-next-line:max-line-length\n        this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n        this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n        // tslint:disable-next-line:max-line-length\n        this.printItem = this.addClassToolbarItem('_print', 'e-pv-print-document', this.pdfViewer.localeObj.getConstant('Print'));\n        this.downloadItem = this.addClassToolbarItem('_download', 'e-pv-download-document', this.pdfViewer.localeObj.getConstant('Download file'));\n        this.zoomDropdownItem = this.pdfViewerBase.getElement('_zoomDropDown');\n        this.createTooltip(this.zoomDropdownItem, this.pdfViewer.localeObj.getConstant('Zoom'));\n        this.zoomDropdownItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Zoom'));\n        // tslint:disable-next-line:max-line-length\n        this.addPropertiesToolItemContainer(this.zoomDropdownItem.parentElement.parentElement, null, '_zoomDropDownContainer');\n        this.pdfViewerBase.getElement('_zoomDropDownContainer').style.minWidth = '';\n        this.createTooltip(this.currentPageBoxElement, this.pdfViewer.localeObj.getConstant('Page Number'));\n        this.currentPageBoxElement.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Page Number'));\n        // tslint:disable-next-line:max-line-length\n        this.addPropertiesToolItemContainer(this.currentPageBoxElement.parentElement.parentElement, 'e-pv-current-page-container', '_currentPageInputContainer');\n        this.pdfViewerBase.getElement('_currentPageInputContainer').style.minWidth = '20px';\n        this.totalPageItem = this.pdfViewerBase.getElement('_totalPage');\n        this.addPropertiesToolItemContainer(this.totalPageItem.parentElement, 'e-pv-total-page-container', '_totalPageContainer');\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.addClassToolbarItem = function (idString, className, tooltipText) {\n        var element = this.pdfViewerBase.getElement(idString);\n        element.classList.add(className);\n        element.classList.add('e-pv-tbar-btn');\n        element.setAttribute('aria-label', tooltipText);\n        element.parentElement.classList.add(className + '-container');\n        element.parentElement.classList.add('e-popup-text');\n        element.parentElement.id = this.pdfViewer.element.id + idString + 'Container';\n        if (element.childNodes.length > 0) {\n            var spanElement = element.childNodes[0];\n            spanElement.id = this.pdfViewer.element.id + idString + 'Icon';\n            spanElement.classList.remove('e-icons');\n            spanElement.classList.remove('e-btn-icon');\n            if (this.pdfViewer.enableRtl) {\n                spanElement.classList.add('e-right');\n            }\n            var textElement = element.childNodes[1];\n            if (textElement) {\n                if (textElement.classList.contains('e-tbar-btn-text')) {\n                    textElement.id = this.pdfViewer.element.id + idString + 'Text';\n                }\n            }\n        }\n        element.style.width = '';\n        this.createTooltip(element, tooltipText);\n        return element;\n    };\n    Toolbar.prototype.addPropertiesToolItemContainer = function (element, className, idString) {\n        if (className !== null) {\n            element.classList.add(className);\n        }\n        element.classList.add('e-popup-text');\n        element.id = this.pdfViewer.element.id + idString;\n    };\n    Toolbar.prototype.createZoomDropdownElement = function () {\n        // tslint:disable-next-line:max-line-length\n        var zoomDropdownElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_zoomDropDown', null);\n        return zoomDropdownElement.outerHTML;\n    };\n    Toolbar.prototype.createZoomDropdown = function () {\n        // tslint:disable-next-line:max-line-length\n        var items = [{ percent: '50%', id: '0' }, { percent: '75%', id: '1' }, { percent: '100%', id: '2' }, { percent: '125%', id: '3' },\n            // tslint:disable-next-line:max-line-length\n            { percent: '150%', id: '4' }, { percent: '200%', id: '5' }, { percent: '400%', id: '6' }, { percent: this.pdfViewer.localeObj.getConstant('Fit Page'), id: '7' }, { percent: this.pdfViewer.localeObj.getConstant('Fit Width'), id: '8' }, { percent: this.pdfViewer.localeObj.getConstant('Automatic'), id: '9' }\n        ];\n        // tslint:disable-next-line:max-line-length\n        this.zoomDropDown = new ComboBox({ dataSource: items, text: '100%', fields: { text: 'percent', value: 'id' }, readonly: true, cssClass: 'e-pv-zoom-drop-down', popupHeight: '402px', showClearButton: false });\n        this.zoomDropDown.appendTo(this.pdfViewerBase.getElement('_zoomDropDown'));\n    };\n    Toolbar.prototype.createCurrentPageInputTemplate = function () {\n        // tslint:disable-next-line:max-line-length\n        var goToPageElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_currentPageInput', null);\n        return goToPageElement.outerHTML;\n    };\n    Toolbar.prototype.createTotalPageTemplate = function () {\n        // tslint:disable-next-line:max-line-length\n        var totalPageElement = this.createToolbarItem('span', this.pdfViewer.element.id + '_totalPage', 'e-pv-total-page');\n        return totalPageElement.outerHTML;\n    };\n    Toolbar.prototype.createNumericTextBox = function () {\n        this.currentPageBox = new NumericTextBox({ value: 0, format: '##', cssClass: 'e-pv-current-page-box', showSpinButton: false });\n        this.currentPageBoxElement = this.pdfViewerBase.getElement('_currentPageInput');\n        this.currentPageBox.appendTo(this.currentPageBoxElement);\n    };\n    Toolbar.prototype.createToolbarItemsForMobile = function () {\n        this.toolbarElement.classList.add('e-pv-mobile-toolbar');\n        var template = '<button id=\"' + this.pdfViewer.element.id + '_more_option\" class=\"e-tbar-btn\"></button>';\n        this.toolbar = new tool({\n            // tslint:disable-next-line:max-line-length\n            items: [{ prefixIcon: 'e-pv-open-document-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Open'), id: this.pdfViewer.element.id + '_open' },\n                { type: 'Separator', align: 'Left' },\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-undo-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Undo'), id: this.pdfViewer.element.id + '_undo', },\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-redo-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Redo'), id: this.pdfViewer.element.id + '_redo', },\n                // tslint:disable-next-line:max-line-length\n                { prefixIcon: 'e-pv-text-search-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Text Search'), id: this.pdfViewer.element.id + '_search', align: 'Right' },\n                { template: template, align: 'Right' }\n            ], clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup'\n        });\n        this.toolbar.appendTo(this.toolbarElement);\n        this.openDocumentItem = this.pdfViewerBase.getElement('_open');\n        this.openDocumentItem.classList.add('e-pv-open-document');\n        this.openDocumentItem.firstElementChild.id = this.pdfViewer.element.id + '_openIcon';\n        this.textSearchItem = this.pdfViewerBase.getElement('_search');\n        this.textSearchItem.classList.add('e-pv-text-search');\n        this.textSearchItem.firstElementChild.id = this.pdfViewer.element.id + '_searchIcon';\n        this.undoItem = this.pdfViewerBase.getElement('_undo');\n        this.undoItem.classList.add('e-pv-undo');\n        this.redoItem = this.pdfViewerBase.getElement('_redo');\n        this.redoItem.classList.add('e-pv-redo');\n        this.redoItem.firstElementChild.id = this.pdfViewer.element.id + '_redoIcon';\n        this.undoItem.firstElementChild.id = this.pdfViewer.element.id + '_undoIcon';\n        this.createMoreOption(this.pdfViewer.element.id + '_more_option');\n    };\n    Toolbar.prototype.createMoreOption = function (idString) {\n        var _this = this;\n        this.moreOptionItem = document.getElementById(idString);\n        var items = [\n            {\n                text: this.pdfViewer.localeObj.getConstant('Download'), id: this.pdfViewer.element.id + '_menu_download',\n                iconCss: 'e-icons e-pv-download-document-icon e-pv-icon'\n            },\n            {\n                text: this.pdfViewer.localeObj.getConstant('Bookmarks'), id: this.pdfViewer.element.id + '_menu_bookmarks',\n                iconCss: 'e-icons e-pv-bookmark-icon e-pv-icon'\n            }\n        ];\n        this.moreDropDown = new DropDownButton({\n            items: items, iconCss: 'e-pv-more-icon e-pv-icon', cssClass: 'e-caret-hide',\n            open: function (args) {\n                var dropdownButtonPosition = _this.moreDropDown.element.getBoundingClientRect();\n                // tslint:disable-next-line:max-line-length\n                if (!_this.pdfViewer.enableRtl) {\n                    args.element.parentElement.style.left = dropdownButtonPosition.left + dropdownButtonPosition.width - args.element.parentElement.offsetWidth + 'px';\n                }\n            }, select: function (args) {\n                switch (args.item.id) {\n                    case _this.pdfViewer.element.id + '_menu_download':\n                        _this.pdfViewerBase.download();\n                        break;\n                    case _this.pdfViewer.element.id + '_menu_bookmarks':\n                        _this.showToolbar(false);\n                        _this.pdfViewerBase.navigationPane.createNavigationPaneMobile('bookmarks');\n                        break;\n                    default:\n                        break;\n                }\n            }, beforeItemRender: function (args) {\n                if (args.item.id === _this.pdfViewer.element.id + '_menu_bookmarks') {\n                    if (!_this.pdfViewer.bookmarkViewModule || !_this.pdfViewer.bookmarkViewModule.bookmarks) {\n                        args.element.classList.add('e-disabled');\n                    }\n                    else {\n                        args.element.classList.remove('e-disabled');\n                    }\n                }\n            }, close: function (args) {\n                _this.moreOptionItem.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        });\n        this.moreDropDown.appendTo('#' + idString);\n    };\n    Toolbar.prototype.createToolbarItem = function (elementName, id, className) {\n        var toolbarItem = createElement(elementName, { id: id });\n        if (className !== null) {\n            toolbarItem.className = className;\n        }\n        if (elementName === 'input' && id !== this.pdfViewer.element.id + '_zoomDropDown') {\n            toolbarItem.type = 'text';\n        }\n        return toolbarItem;\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.createTooltip = function (toolbarItem, tooltipText) {\n        if (tooltipText !== null) {\n            // tslint:disable-next-line\n            var tooltip = new Tooltip({ content: tooltipText, opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n            tooltip.appendTo(toolbarItem);\n        }\n    };\n    Toolbar.prototype.onTooltipBeforeOpen = function (args) {\n        if (!this.pdfViewer.toolbarSettings.showTooltip && this.toolbarElement.contains(args.target)) {\n            args.cancel = true;\n        }\n        if (this.annotationToolbarModule) {\n            // tslint:disable-next-line:max-line-length\n            if (!this.pdfViewer.annotationToolbarSettings.showTooltip && this.annotationToolbarModule.toolbarElement.contains(args.target)) {\n                args.cancel = true;\n            }\n        }\n    };\n    Toolbar.prototype.createFileElement = function (toolbarElement) {\n        // tslint:disable-next-line:max-line-length\n        this.fileInputElement = createElement('input', { id: this.pdfViewer.element.id + '_fileUploadElement', styles: 'position:fixed; left:-100em', attrs: { 'type': 'file' } });\n        this.fileInputElement.setAttribute('accept', '.pdf');\n        toolbarElement.appendChild(this.fileInputElement);\n    };\n    Toolbar.prototype.wireEvent = function () {\n        this.fileInputElement.addEventListener('change', this.loadDocument);\n        if (!Browser.isDevice) {\n            this.toolbarElement.addEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n            this.currentPageBoxElement.addEventListener('focusout', this.textBoxFocusOut);\n            this.currentPageBoxElement.addEventListener('keypress', this.navigateToPage);\n            this.zoomDropDown.change = this.zoomPercentSelect.bind(this);\n            this.zoomDropDown.element.addEventListener('keypress', this.onZoomDropDownInput.bind(this));\n            this.zoomDropDown.element.addEventListener('click', this.onZoomDropDownInputClick.bind(this));\n        }\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        this.fileInputElement.removeEventListener('change', this.loadDocument);\n        if (!Browser.isDevice) {\n            this.toolbarElement.removeEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n            this.currentPageBoxElement.removeEventListener('focusout', this.textBoxFocusOut);\n            this.currentPageBoxElement.removeEventListener('keypress', this.navigateToPage);\n            this.zoomDropDown.removeEventListener('change', this.zoomPercentSelect);\n            this.zoomDropDown.element.removeEventListener('keypress', this.onZoomDropDownInput);\n            this.zoomDropDown.element.removeEventListener('click', this.onZoomDropDownInputClick);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.onToolbarResize = function (viewerWidth) {\n        if (Browser.isDevice) {\n            this.pdfViewerBase.navigationPane.toolbarResize();\n        }\n    };\n    Toolbar.prototype.toolbarOnMouseup = function (event) {\n        if (event.target === this.itemsContainer || event.target === this.toolbarElement) {\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    Toolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n        var isHide = !show;\n        for (var index = startIndex; index <= endIndex; index++) {\n            this.toolbar.hideItem(index, isHide);\n        }\n    };\n    Toolbar.prototype.handleToolbarButtonClick = function (args) {\n        switch (args.originalEvent.target.id) {\n            case this.pdfViewer.element.id + '_open':\n            case this.pdfViewer.element.id + '_openIcon':\n            case this.pdfViewer.element.id + '_openText':\n                this.fileInputElement.click();\n                if (Browser.isDevice) {\n                    args.originalEvent.target.blur();\n                    this.pdfViewerBase.focusViewerContainer();\n                }\n                break;\n            case this.pdfViewer.element.id + '_download':\n            case this.pdfViewer.element.id + '_downloadIcon':\n            case this.pdfViewer.element.id + '_downloadText':\n                this.pdfViewerBase.download();\n                break;\n            case this.pdfViewer.element.id + '_print':\n            case this.pdfViewer.element.id + '_printIcon':\n            case this.pdfViewer.element.id + '_printText':\n                if (this.pdfViewer.printModule) {\n                    this.pdfViewer.printModule.print();\n                }\n                break;\n            case this.pdfViewer.element.id + '_undo':\n            case this.pdfViewer.element.id + '_undoIcon':\n            case this.pdfViewer.element.id + '_undoText':\n                if (this.pdfViewer.annotationModule) {\n                    this.pdfViewer.annotationModule.undo();\n                }\n                break;\n            case this.pdfViewer.element.id + '_redo':\n            case this.pdfViewer.element.id + '_redoIcon':\n            case this.pdfViewer.element.id + '_redoText':\n                if (this.pdfViewer.annotationModule) {\n                    this.pdfViewer.annotationModule.redo();\n                }\n                break;\n            case this.pdfViewer.element.id + '_firstPage':\n            case this.pdfViewer.element.id + '_firstPageIcon':\n            case this.pdfViewer.element.id + '_firstPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToFirstPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_previousPage':\n            case this.pdfViewer.element.id + '_previousPageIcon':\n            case this.pdfViewer.element.id + '_previousPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToPreviousPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_nextPage':\n            case this.pdfViewer.element.id + '_nextPageIcon':\n            case this.pdfViewer.element.id + '_nextPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToNextPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_lastPage':\n            case this.pdfViewer.element.id + '_lastPageIcon':\n            case this.pdfViewer.element.id + '_lastPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToLastPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_zoomIn':\n            case this.pdfViewer.element.id + '_zoomInIcon':\n            case this.pdfViewer.element.id + '_zoomInText':\n                this.pdfViewer.magnificationModule.zoomIn();\n                break;\n            case this.pdfViewer.element.id + '_zoomOut':\n            case this.pdfViewer.element.id + '_zoomOutIcon':\n            case this.pdfViewer.element.id + '_zoomOutText':\n                this.pdfViewer.magnificationModule.zoomOut();\n                break;\n            case this.pdfViewer.element.id + '_selectTool':\n            case this.pdfViewer.element.id + '_selectToolIcon':\n            case this.pdfViewer.element.id + '_selectToolText':\n                if (!this.isSelectionToolDisabled) {\n                    this.pdfViewerBase.initiateTextSelectMode();\n                    this.updateInteractionTools(true);\n                }\n                break;\n            case this.pdfViewer.element.id + '_handTool':\n            case this.pdfViewer.element.id + '_handToolIcon':\n            case this.pdfViewer.element.id + '_handToolText':\n                if (!this.isScrollingToolDisabled) {\n                    this.pdfViewerBase.initiatePanning();\n                    this.updateInteractionTools(false);\n                }\n                break;\n            case this.pdfViewer.element.id + '_search':\n            case this.pdfViewer.element.id + '_searchIcon':\n            case this.pdfViewer.element.id + '_searchText':\n                this.textSearchButtonHandler();\n                break;\n            case this.pdfViewer.element.id + '_annotation':\n            case this.pdfViewer.element.id + '_annotationIcon':\n            case this.pdfViewer.element.id + '_annotationText':\n                this.initiateAnnotationMode();\n                break;\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInput = function (event) {\n        if ((event.which < 48 || event.which > 57) && event.which !== 8 && event.which !== 13) {\n            event.preventDefault();\n            return false;\n        }\n        else {\n            if (event.which === 13) {\n                event.preventDefault();\n                var value = this.zoomDropDown.element.value;\n                this.zoomDropDownChange(value);\n            }\n            return true;\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInputClick = function () {\n        this.zoomDropDown.element.select();\n    };\n    Toolbar.prototype.zoomPercentSelect = function (args) {\n        if (this.pdfViewerBase.pageCount > 0) {\n            if (args.isInteracted) {\n                if (args.itemData) {\n                    // tslint:disable-next-line:no-any\n                    var zoomText = args.itemData.percent;\n                    this.zoomDropDownChange(zoomText);\n                }\n            }\n            else {\n                this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n            }\n        }\n    };\n    Toolbar.prototype.zoomDropDownChange = function (zoomText) {\n        // tslint:disable-next-line:max-line-length\n        if (zoomText !== this.pdfViewer.localeObj.getConstant('Fit Width') && zoomText !== this.pdfViewer.localeObj.getConstant('Fit Page') && zoomText !== this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.zoomTo(parseFloat(zoomText));\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Width')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.fitToWidth();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Page')) {\n            this.pdfViewer.magnificationModule.fitToPage();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = true;\n            this.pdfViewer.magnificationModule.fitToAuto();\n            this.zoomDropDown.focusOut();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateZoomPercentage = function (zoomFactor) {\n        if (!Browser.isDevice) {\n            // tslint:disable-next-line:radix\n            var currentPercent = parseInt((zoomFactor * 100).toString()) + '%';\n            if (this.zoomDropDown.text === currentPercent) {\n                this.zoomDropDown.element.value = currentPercent;\n            }\n            if (this.zoomDropDown.index === 9) {\n                this.zoomDropDown.value = 2;\n            }\n            // tslint:disable-next-line\n            this.zoomDropDown.text = currentPercent;\n        }\n    };\n    Toolbar.prototype.updateInteractionItems = function () {\n        if (this.pdfViewer.textSelectionModule) {\n            if (this.pdfViewer.enableTextSelection) {\n                this.toolbar.enableItems(this.textSelectItem.parentElement, true);\n            }\n            else {\n                this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n            }\n        }\n        else {\n            this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n        }\n        this.toolbar.enableItems(this.panItem.parentElement, true);\n        if (this.pdfViewer.interactionMode === 'TextSelection') {\n            this.selectItem(this.textSelectItem);\n            this.deSelectItem(this.panItem);\n        }\n        else {\n            this.selectItem(this.panItem);\n            this.deSelectItem(this.textSelectItem);\n            this.pdfViewerBase.initiatePanning();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.textSearchButtonHandler = function () {\n        if (!Browser.isDevice) {\n            if (this.pdfViewer.textSearchModule && this.pdfViewerBase.pageCount > 0) {\n                this.isTextSearchBoxDisplayed = !this.isTextSearchBoxDisplayed;\n                this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed);\n                if (this.isTextSearchBoxDisplayed) {\n                    this.selectItem(this.textSearchItem);\n                    // tslint:disable-next-line:max-line-length\n                    var searchInputElement = document.getElementById(this.pdfViewer.element.id + '_search_input');\n                    searchInputElement.select();\n                    searchInputElement.focus();\n                }\n                else {\n                    this.deSelectItem(this.textSearchItem);\n                }\n            }\n        }\n        else {\n            this.showToolbar(false);\n            this.pdfViewerBase.navigationPane.createNavigationPaneMobile('search');\n        }\n    };\n    Toolbar.prototype.initiateAnnotationMode = function () {\n        if (this.annotationToolbarModule) {\n            if (this.pdfViewerBase.isPanMode && this.annotationToolbarModule.isToolbarHidden) {\n                this.pdfViewerBase.initiateTextSelectMode();\n                this.updateInteractionTools(true);\n            }\n            this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.selectItem = function (element) {\n        element.classList.add('e-pv-select');\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.deSelectItem = function (element) {\n        element.classList.remove('e-pv-select');\n    };\n    Toolbar.prototype.updateInteractionTools = function (isTextSelect) {\n        if (isTextSelect) {\n            this.selectItem(this.textSelectItem);\n            this.deSelectItem(this.panItem);\n        }\n        else {\n            this.selectItem(this.panItem);\n            this.deSelectItem(this.textSelectItem);\n        }\n    };\n    Toolbar.prototype.initialEnableItems = function () {\n        if (this.pdfViewer.enableToolbar) {\n            this.showToolbar(true);\n        }\n        else {\n            this.showToolbar(false);\n        }\n        if (this.isPrintBtnVisible) {\n            this.showPrintOption(true);\n        }\n        else {\n            this.showPrintOption(false);\n        }\n        if (this.isDownloadBtnVisible) {\n            this.showDownloadOption(true);\n        }\n        else {\n            this.showDownloadOption(false);\n        }\n        if (this.isSearchBtnVisible) {\n            this.showSearchOption(true);\n        }\n        else {\n            this.showSearchOption(false);\n        }\n    };\n    Toolbar.prototype.showSeparator = function (toolbarItems) {\n        if (!this.isOpenBtnVisible || (this.isOpenBtnVisible && toolbarItems.length === 1) ||\n            // tslint:disable-next-line:max-line-length\n            (!this.isNavigationToolVisible && !this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible && !this.isUndoRedoBtnsVisible)) {\n            this.applyHideToToolbar(false, 1, 1);\n        }\n        if (((!this.isNavigationToolVisible && !this.isMagnificationToolVisible) && !this.isOpenBtnVisible) ||\n            (this.isOpenBtnVisible && !this.isNavigationToolVisible) ||\n            // tslint:disable-next-line:max-line-length\n            ((!this.isOpenBtnVisible && !this.isNavigationToolVisible) || (!this.isMagnificationToolVisible && !this.isScrollingBtnVisible && !this.isSelectionBtnVisible))) {\n            this.applyHideToToolbar(false, 8, 8);\n        }\n        if ((!this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible) ||\n            (this.isMagnificationToolVisible && (!this.isSelectionBtnVisible && !this.isScrollingBtnVisible)) ||\n            (!this.isMagnificationToolVisible && (this.isSelectionBtnVisible || this.isScrollingBtnVisible))) {\n            this.applyHideToToolbar(false, 12, 12);\n        }\n        if (((!this.isMagnificationToolVisible && !this.isNavigationToolVisible && !this.isScrollingBtnVisible\n            && !this.isSelectionBtnVisible) && this.isUndoRedoBtnsVisible || !this.isUndoRedoBtnsVisible)) {\n            this.applyHideToToolbar(false, 15, 15);\n        }\n    };\n    Toolbar.prototype.applyToolbarSettings = function () {\n        var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItem;\n        if (toolbarSettingsItems) {\n            if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n                this.showOpenOption(true);\n            }\n            else {\n                this.showOpenOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('PageNavigationTool') !== -1) {\n                this.showPageNavigationTool(true);\n            }\n            else {\n                this.showPageNavigationTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('MagnificationTool') !== -1) {\n                this.showMagnificationTool(true);\n            }\n            else {\n                this.showMagnificationTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('SelectionTool') !== -1) {\n                this.showSelectionTool(true);\n            }\n            else {\n                this.showSelectionTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('PanTool') !== -1) {\n                this.showScrollingTool(true);\n            }\n            else {\n                this.showScrollingTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('PrintOption') !== -1) {\n                this.showPrintOption(true);\n            }\n            else {\n                this.showPrintOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('DownloadOption') !== -1) {\n                this.showDownloadOption(true);\n            }\n            else {\n                this.showDownloadOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n                this.showSearchOption(true);\n            }\n            else {\n                this.showSearchOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n                this.showUndoRedoTool(true);\n            }\n            else {\n                this.showUndoRedoTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n                this.showAnnotationEditTool(true);\n            }\n            else {\n                this.showAnnotationEditTool(false);\n            }\n            this.showSeparator(toolbarSettingsItems);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'Toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { Toolbar as Tool } from '@syncfusion/ej2-navigations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ColorPicker, Slider } from '@syncfusion/ej2-inputs';\n/**\n * @hidden\n */\nvar AnnotationToolbar = /** @class */ (function () {\n    function AnnotationToolbar(viewer, viewerBase, toolbar) {\n        /**\n         * @private\n         */\n        this.isToolbarHidden = false;\n        /**\n         * @private\n         */\n        this.isMobileAnnotEnabled = false;\n        this.isHighlightEnabled = false;\n        this.isUnderlineEnabled = false;\n        this.isStrikethroughEnabled = false;\n        this.isHighlightBtnVisible = true;\n        this.isUnderlineBtnVisible = true;\n        this.isStrikethroughBtnVisible = true;\n        this.isColorToolVisible = true;\n        this.isOpacityToolVisible = true;\n        this.isDeleteAnnotationToolVisible = true;\n        this.isCurrentAnnotationOpacitySet = false;\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n        this.primaryToolbar = toolbar;\n    }\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.initializeAnnotationToolbar = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_annotation_toolbar', className: 'e-pv-annotation-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n        this.toolbar = new Tool({\n            width: '', height: '', overflowMode: 'Popup',\n            items: this.createToolbarItems(), clicked: this.onToolbarClicked.bind(this),\n            created: function () {\n                _this.createDropDowns();\n            }\n        });\n        if (this.pdfViewer.enableRtl) {\n            this.toolbar.enableRtl = true;\n        }\n        this.toolbar.appendTo(this.toolbarElement);\n        this.afterToolbarCreation();\n        this.showAnnotationToolbar(null);\n        this.applyAnnotationToolbarSettings();\n        this.updateToolbarItems();\n    };\n    AnnotationToolbar.prototype.createMobileAnnotationToolbar = function (isEnable) {\n        var _this = this;\n        if (Browser.isDevice) {\n            if (this.toolbarElement == null && isEnable) {\n                this.isMobileAnnotEnabled = true;\n                // tslint:disable-next-line:max-line-length\n                this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_annotation_toolbar', className: 'e-pv-annotation-toolbar' });\n                this.pdfViewerBase.viewerMainContainer.insertBefore(this.toolbarElement, this.pdfViewerBase.viewerContainer);\n                this.toolbar = new Tool({\n                    width: '', height: '', overflowMode: 'Popup',\n                    items: this.createMobileToolbarItems(), clicked: this.onToolbarClicked.bind(this),\n                    created: function () {\n                        _this.createDropDowns();\n                    }\n                });\n                if (this.pdfViewer.enableRtl) {\n                    this.toolbar.enableRtl = true;\n                }\n                this.pdfViewerBase.navigationPane.goBackToToolbar();\n                this.pdfViewer.toolbarModule.showToolbar(false);\n                this.toolbar.appendTo(this.toolbarElement);\n                this.deleteItem = this.pdfViewerBase.getElement('_annotation_delete');\n                this.deleteItem.firstElementChild.id = this.pdfViewer.element.id + '_annotation_delete';\n            }\n            else if (this.toolbarElement != null) {\n                if (isEnable) {\n                    this.isMobileAnnotEnabled = true;\n                    this.pdfViewerBase.navigationPane.goBackToToolbar();\n                    this.pdfViewer.toolbarModule.showToolbar(false);\n                    this.toolbarElement.style.display = 'block';\n                }\n                else if (!isEnable) {\n                    this.isMobileAnnotEnabled = false;\n                    this.pdfViewer.toolbarModule.showToolbar(true);\n                    this.hideMobileAnnotationToolbar();\n                }\n            }\n        }\n        else {\n            this.isMobileAnnotEnabled = true;\n        }\n    };\n    AnnotationToolbar.prototype.hideMobileAnnotationToolbar = function () {\n        if (this.toolbarElement != null) {\n            this.toolbarElement.style.display = 'none';\n        }\n    };\n    // tslint:disable-next-line\n    AnnotationToolbar.prototype.createMobileToolbarItems = function () {\n        var colorTemplate = this.getTemplate('span', '_annotation_color', 'e-pv-annotation-color-container');\n        var opacityTemplate = this.getTemplate('span', '_annotation_opacity', 'e-pv-annotation-opacity-container');\n        // tslint:disable-next-line\n        var items = [];\n        items.push({ prefixIcon: 'e-pv-backward-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Go Back'), id: this.pdfViewer.element.id + '_backward', click: this.goBackToToolbar.bind(this) });\n        // tslint:disable-next-line:max-line-length\n        items.push({ template: colorTemplate, align: 'right' });\n        items.push({ template: opacityTemplate, align: 'right' });\n        items.push({ type: 'Separator', align: 'right' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-annotation-delete-icon e-pv-icon', className: 'e-pv-annotation-delete-container', id: this.pdfViewer.element.id + '_annotation_delete', align: 'right' });\n        return items;\n    };\n    AnnotationToolbar.prototype.goBackToToolbar = function () {\n        this.isMobileAnnotEnabled = false;\n        this.hideMobileAnnotationToolbar();\n        this.pdfViewer.toolbarModule.showToolbar(true);\n        var page = this.pdfViewerBase.getSelectTextMarkupCurrentPage();\n        if (page) {\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage = null;\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearAnnotationSelection(page);\n        }\n    };\n    // tslint:disable-next-line\n    AnnotationToolbar.prototype.createToolbarItems = function () {\n        var colorTemplate = this.getTemplate('span', '_annotation_color', 'e-pv-annotation-color-container');\n        var opacityTemplate = this.getTemplate('span', '_annotation_opacity', 'e-pv-annotation-opacity-container');\n        // tslint:disable-next-line\n        var items = [];\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-highlight-icon e-pv-icon', className: 'e-pv-highlight-container', id: this.pdfViewer.element.id + '_highlight', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-underline-icon e-pv-icon', className: 'e-pv-underline-container', id: this.pdfViewer.element.id + '_underline', align: 'Left' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-strikethrough-icon e-pv-icon', className: 'e-pv-strikethrough-container', id: this.pdfViewer.element.id + '_strikethrough', align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left' });\n        items.push({ template: colorTemplate, align: 'Left' });\n        items.push({ template: opacityTemplate, align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left' });\n        // tslint:disable-next-line:max-line-length\n        items.push({ prefixIcon: 'e-pv-annotation-delete-icon e-pv-icon', className: 'e-pv-annotation-delete-container', id: this.pdfViewer.element.id + '_annotation_delete', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-annotation-tools-close-icon e-pv-icon', className: 'e-pv-annotation-tools-close-container', id: this.pdfViewer.element.id + '_annotation_close', align: 'Right' });\n        return items;\n    };\n    AnnotationToolbar.prototype.getTemplate = function (elementName, id, className) {\n        var element = createElement(elementName, { id: this.pdfViewer.element.id + id });\n        if (className) {\n            element.className = className;\n        }\n        return element.outerHTML;\n    };\n    AnnotationToolbar.prototype.createDropDowns = function () {\n        this.colorDropDownElement = this.pdfViewerBase.getElement('_annotation_color');\n        this.colorPalette = this.createColorPicker(this.colorDropDownElement.id);\n        // tslint:disable-next-line:max-line-length\n        this.colorDropDown = this.createDropDownButton(this.colorDropDownElement, 'e-pv-annotation-color-icon', this.colorPalette.element.parentElement, this.pdfViewer.localeObj.getConstant('Color edit'));\n        this.colorDropDown.beforeOpen = this.colorDropDownBeforeOpen.bind(this);\n        this.colorDropDown.open = this.colorDropDownOpen.bind(this);\n        this.pdfViewerBase.getElement('_annotation_color-popup').addEventListener('click', this.onColorPickerCancelClick.bind(this));\n        this.opacityDropDownElement = this.pdfViewerBase.getElement('_annotation_opacity');\n        var sliderContainer = this.createSlider(this.opacityDropDownElement.id);\n        // tslint:disable-next-line:max-line-length\n        this.opacityDropDown = this.createDropDownButton(this.opacityDropDownElement, 'e-pv-annotation-opacity-icon', sliderContainer, this.pdfViewer.localeObj.getConstant('Opacity edit'));\n        this.opacityDropDown.beforeOpen = this.opacityDropDownBeforeOpen.bind(this);\n        this.opacitySlider.change = this.opacityChange.bind(this);\n        this.opacitySlider.changed = this.opacityChange.bind(this);\n        this.opacityDropDown.open = this.opacityDropDownOpen.bind(this);\n    };\n    AnnotationToolbar.prototype.opacityDropDownOpen = function () {\n        if (Browser.isDevice) {\n            // tslint:disable-next-line:max-line-length\n            var opacityElement = this.pdfViewerBase.getElement('_annotation_opacity-popup');\n            opacityElement.style.left = '0px';\n        }\n    };\n    AnnotationToolbar.prototype.onColorPickerCancelClick = function (event) {\n        if (event.target.classList.contains('e-cancel')) {\n            this.colorDropDown.toggle();\n        }\n    };\n    AnnotationToolbar.prototype.colorDropDownBeforeOpen = function (args) {\n        if (this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                this.colorPalette.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.color;\n            }\n            else {\n                this.setCurrentColorInPicker();\n            }\n        }\n        this.updateColorInIcon(this.colorDropDownElement, this.colorPalette.value);\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.setCurrentColorInPicker = function () {\n        if (this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n            switch (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode) {\n                case 'Highlight':\n                    this.colorPalette.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor;\n                    break;\n                case 'Underline':\n                    this.colorPalette.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor;\n                    break;\n                case 'Strikethrough':\n                    this.colorPalette.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor;\n                    break;\n            }\n        }\n        this.updateColorInIcon(this.colorDropDownElement, this.colorPalette.value);\n    };\n    AnnotationToolbar.prototype.colorDropDownOpen = function () {\n        this.colorPalette.refresh();\n    };\n    AnnotationToolbar.prototype.opacityChange = function (args) {\n        if (this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                if (this.isCurrentAnnotationOpacitySet && args.name === 'changed') {\n                    this.isCurrentAnnotationOpacitySet = false;\n                }\n                else {\n                    this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyOpacityProperty(args);\n                }\n            }\n            else {\n                switch (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode) {\n                    case 'Highlight':\n                        this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightOpacity = args.value / 100;\n                        break;\n                    case 'Underline':\n                        this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineOpacity = args.value / 100;\n                        break;\n                    case 'Strikethrough':\n                        this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughOpacity = args.value / 100;\n                        break;\n                }\n            }\n        }\n        this.updateOpacityIndicator();\n    };\n    AnnotationToolbar.prototype.opacityDropDownBeforeOpen = function (args) {\n        if (this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                this.isCurrentAnnotationOpacitySet = true;\n                // tslint:disable-next-line:max-line-length\n                this.opacitySlider.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.opacity * 100;\n            }\n            else {\n                switch (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode) {\n                    case 'Highlight':\n                        this.opacitySlider.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightOpacity * 100;\n                        break;\n                    case 'Underline':\n                        this.opacitySlider.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineOpacity * 100;\n                        break;\n                    case 'Strikethrough':\n                        this.opacitySlider.value = this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughOpacity * 100;\n                        break;\n                }\n            }\n        }\n        this.updateOpacityIndicator();\n    };\n    AnnotationToolbar.prototype.createDropDownButton = function (element, iconClass, target, tooltipText) {\n        // tslint:disable-next-line:max-line-length\n        var dropDownButton = new DropDownButton({ iconCss: iconClass + ' e-pv-icon', target: target });\n        if (this.pdfViewer.enableRtl) {\n            dropDownButton.enableRtl = true;\n        }\n        dropDownButton.appendTo(element);\n        this.primaryToolbar.createTooltip(element, tooltipText);\n        return dropDownButton;\n    };\n    AnnotationToolbar.prototype.createColorPicker = function (idString) {\n        var inputElement = createElement('input', { id: idString + '_target' });\n        document.body.appendChild(inputElement);\n        var colorPicker = new ColorPicker({\n            inline: true, mode: 'Palette', cssClass: 'e-show-value', enableOpacity: false,\n            change: this.onColorPickerChange.bind(this), value: '#000000'\n        });\n        if (this.pdfViewer.enableRtl) {\n            colorPicker.enableRtl = true;\n        }\n        colorPicker.appendTo(inputElement);\n        return colorPicker;\n    };\n    AnnotationToolbar.prototype.onColorPickerChange = function (args) {\n        if (this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyColorProperty(args.currentValue.hex);\n            }\n            else {\n                switch (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode) {\n                    case 'Highlight':\n                        this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor = args.currentValue.hex;\n                        break;\n                    case 'Underline':\n                        this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor = args.currentValue.hex;\n                        break;\n                    case 'Strikethrough':\n                        this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor = args.currentValue.hex;\n                        break;\n                }\n            }\n        }\n        this.updateColorInIcon(this.colorDropDownElement, args.currentValue.hex);\n        this.colorDropDown.toggle();\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.updateColorInIcon = function (element, color) {\n        element.childNodes[0].style.borderBottomColor = color;\n    };\n    AnnotationToolbar.prototype.updateOpacityIndicator = function () {\n        this.opacityIndicator.textContent = this.opacitySlider.value + '%';\n    };\n    AnnotationToolbar.prototype.createSlider = function (idString) {\n        var outerContainer = createElement('div', { className: 'e-pv-annotation-opacity-popup-container' });\n        document.body.appendChild(outerContainer);\n        var label = createElement('span', { id: idString + '_label', className: 'e-pv-annotation-opacity-label' });\n        label.textContent = this.pdfViewer.localeObj.getConstant('Opacity');\n        var sliderElement = createElement('div', { id: idString + '_slider' });\n        this.opacitySlider = new Slider({ type: 'MinRange', cssClass: 'e-pv-annotation-opacity-slider', max: 100, min: 0 });\n        // tslint:disable-next-line:max-line-length\n        this.opacityIndicator = createElement('div', { id: idString + '_opacity_indicator', className: 'e-pv-annotation-opacity-indicator' });\n        this.opacityIndicator.textContent = '100%';\n        if (!this.pdfViewer.enableRtl) {\n            outerContainer.appendChild(label);\n            outerContainer.appendChild(sliderElement);\n            this.opacitySlider.appendTo(sliderElement);\n            this.opacitySlider.element.parentElement.classList.add('e-pv-annotation-opacity-slider-container');\n            outerContainer.appendChild(this.opacityIndicator);\n        }\n        else {\n            outerContainer.appendChild(this.opacityIndicator);\n            outerContainer.appendChild(sliderElement);\n            this.opacitySlider.enableRtl = true;\n            this.opacitySlider.appendTo(sliderElement);\n            this.opacitySlider.element.parentElement.classList.add('e-pv-annotation-opacity-slider-container');\n            outerContainer.appendChild(label);\n        }\n        return outerContainer;\n    };\n    AnnotationToolbar.prototype.afterToolbarCreation = function () {\n        // tslint:disable-next-line:max-line-length\n        this.highlightItem = this.primaryToolbar.addClassToolbarItem('_highlight', 'e-pv-highlight', this.pdfViewer.localeObj.getConstant('Highlight'));\n        this.underlineItem = this.primaryToolbar.addClassToolbarItem('_underline', 'e-pv-underline', this.pdfViewer.localeObj.getConstant('Underline'));\n        // tslint:disable-next-line:max-line-length\n        this.strikethroughItem = this.primaryToolbar.addClassToolbarItem('_strikethrough', 'e-pv-strikethrough', this.pdfViewer.localeObj.getConstant('Strikethrough'));\n        this.deleteItem = this.primaryToolbar.addClassToolbarItem('_annotation_delete', 'e-pv-annotation-delete', this.pdfViewer.localeObj.getConstant('Delete'));\n        this.closeItem = this.primaryToolbar.addClassToolbarItem('_annotation_close', 'e-pv-annotation-tools-close', null);\n        this.selectAnnotationDeleteItem(false);\n        this.enableAnnotationPropertiesTools(false);\n    };\n    AnnotationToolbar.prototype.onToolbarClicked = function (args) {\n        switch (args.originalEvent.target.id) {\n            case this.pdfViewer.element.id + '_highlight':\n            case this.pdfViewer.element.id + '_highlightIcon':\n                this.handleHighlight();\n                break;\n            case this.pdfViewer.element.id + '_underline':\n            case this.pdfViewer.element.id + '_underlineIcon':\n                this.handleUnderline();\n                break;\n            case this.pdfViewer.element.id + '_strikethrough':\n            case this.pdfViewer.element.id + '_strikethroughIcon':\n                this.handleStrikethrough();\n                break;\n            case this.pdfViewer.element.id + '_annotation_delete':\n            case this.pdfViewer.element.id + '_annotation_deleteIcon':\n                this.pdfViewer.annotationModule.deleteAnnotation();\n                this.selectAnnotationDeleteItem(false);\n                break;\n            case this.pdfViewer.element.id + '_annotation_close':\n            case this.pdfViewer.element.id + '_annotation_closeIcon':\n                this.showAnnotationToolbar(this.primaryToolbar.annotationItem);\n                break;\n        }\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.showAnnotationToolbar = function (element) {\n        if (!this.isToolbarHidden) {\n            if (element) {\n                this.adjustViewer(false);\n                this.primaryToolbar.deSelectItem(element);\n            }\n            this.deselectAllItems();\n            this.toolbarElement.style.display = 'none';\n        }\n        else {\n            var toolBarInitialStatus = this.toolbarElement.style.display;\n            this.toolbarElement.style.display = 'block';\n            if (element) {\n                this.primaryToolbar.selectItem(element);\n                if (toolBarInitialStatus === 'none') {\n                    this.adjustViewer(true);\n                }\n            }\n        }\n        if (this.pdfViewerBase.isPanMode) {\n            this.enableAnnotationAddTools(false);\n        }\n        else {\n            this.enableAnnotationAddTools(true);\n        }\n        this.isToolbarHidden = !this.isToolbarHidden;\n    };\n    AnnotationToolbar.prototype.applyAnnotationToolbarSettings = function () {\n        if (this.pdfViewer.annotationToolbarSettings.annotationToolbarItem.indexOf('HighlightTool') !== -1) {\n            this.showHighlightTool(true);\n        }\n        else {\n            this.showHighlightTool(false);\n        }\n        if (this.pdfViewer.annotationToolbarSettings.annotationToolbarItem.indexOf('UnderlineTool') !== -1) {\n            this.showUnderlineTool(true);\n        }\n        else {\n            this.showUnderlineTool(false);\n        }\n        if (this.pdfViewer.annotationToolbarSettings.annotationToolbarItem.indexOf('StrikethroughTool') !== -1) {\n            this.showStrikethroughTool(true);\n        }\n        else {\n            this.showStrikethroughTool(false);\n        }\n        if (this.pdfViewer.annotationToolbarSettings.annotationToolbarItem.indexOf('ColorEditTool') !== -1) {\n            this.showColorEditTool(true);\n        }\n        else {\n            this.showColorEditTool(false);\n        }\n        if (this.pdfViewer.annotationToolbarSettings.annotationToolbarItem.indexOf('OpacityEditTool') !== -1) {\n            this.showOpacityEditTool(true);\n        }\n        else {\n            this.showOpacityEditTool(false);\n        }\n        if (this.pdfViewer.annotationToolbarSettings.annotationToolbarItem.indexOf('AnnotationDeleteTool') !== -1) {\n            this.showAnnotationDeleteTool(true);\n        }\n        else {\n            this.showAnnotationDeleteTool(false);\n        }\n        this.showSeparator();\n    };\n    AnnotationToolbar.prototype.showSeparator = function () {\n        if ((!this.isHighlightBtnVisible && !this.isUnderlineBtnVisible && !this.isStrikethroughBtnVisible)\n            || (!this.isColorToolVisible && !this.isOpacityToolVisible)) {\n            this.applyHideToToolbar(false, 3, 3);\n        }\n        if ((!this.isColorToolVisible && !this.isOpacityToolVisible) && (!this.isHighlightBtnVisible &&\n            !this.isUnderlineBtnVisible && !this.isStrikethroughBtnVisible) || !this.isDeleteAnnotationToolVisible) {\n            this.applyHideToToolbar(false, 6, 6);\n        }\n    };\n    AnnotationToolbar.prototype.showHighlightTool = function (isShow) {\n        this.isHighlightBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 0, 0);\n    };\n    AnnotationToolbar.prototype.showUnderlineTool = function (isShow) {\n        this.isUnderlineBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 1, 1);\n    };\n    AnnotationToolbar.prototype.showStrikethroughTool = function (isShow) {\n        this.isStrikethroughBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 2, 2);\n    };\n    AnnotationToolbar.prototype.showColorEditTool = function (isShow) {\n        this.isColorToolVisible = isShow;\n        this.applyHideToToolbar(isShow, 4, 4);\n    };\n    AnnotationToolbar.prototype.showOpacityEditTool = function (isShow) {\n        this.isOpacityToolVisible = isShow;\n        this.applyHideToToolbar(isShow, 5, 5);\n    };\n    AnnotationToolbar.prototype.showAnnotationDeleteTool = function (isShow) {\n        this.isDeleteAnnotationToolVisible = isShow;\n        this.applyHideToToolbar(isShow, 7, 7);\n    };\n    AnnotationToolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n        var isHide = !show;\n        for (var index = startIndex; index <= endIndex; index++) {\n            this.toolbar.hideItem(index, isHide);\n        }\n    };\n    AnnotationToolbar.prototype.adjustViewer = function (isAdjust) {\n        var splitterElement = this.pdfViewerBase.getElement('_sideBarToolbarSplitter');\n        var toolbarContainer = this.pdfViewerBase.getElement('_toolbarContainer');\n        var toolbarHeight = toolbarContainer.getBoundingClientRect().height;\n        var annotationToolbarHeight = this.toolbarElement.getBoundingClientRect().height;\n        var sideBarToolbar = this.pdfViewerBase.navigationPane.sideBarToolbar;\n        var sideBarContentContainer = this.pdfViewerBase.navigationPane.sideBarContentContainer;\n        if (isAdjust) {\n            // tslint:disable-next-line:max-line-length\n            sideBarToolbar.style.top = (toolbarHeight + annotationToolbarHeight) + 'px';\n            sideBarContentContainer.style.top = (toolbarHeight + annotationToolbarHeight) + 'px';\n            splitterElement.style.top = (toolbarHeight + annotationToolbarHeight) + 'px';\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.viewerContainer.style.height = this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer), (annotationToolbarHeight)) + 'px';\n            sideBarToolbar.style.height = sideBarToolbar.getBoundingClientRect().height - annotationToolbarHeight + 'px';\n            splitterElement.style.height = splitterElement.getBoundingClientRect().height - annotationToolbarHeight + 'px';\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            sideBarToolbar.style.top = toolbarHeight + 'px';\n            sideBarContentContainer.style.top = toolbarHeight + 'px';\n            splitterElement.style.top = toolbarHeight + 'px';\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.viewerContainer.style.height = this.resetViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer), annotationToolbarHeight) + 'px';\n            sideBarToolbar.style.height = sideBarToolbar.getBoundingClientRect().height + annotationToolbarHeight + 'px';\n            splitterElement.style.height = splitterElement.getBoundingClientRect().height + annotationToolbarHeight + 'px';\n        }\n    };\n    AnnotationToolbar.prototype.handleHighlight = function () {\n        if (!this.isHighlightEnabled) {\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations('Highlight');\n            this.primaryToolbar.selectItem(this.highlightItem);\n            this.primaryToolbar.deSelectItem(this.underlineItem);\n            this.primaryToolbar.deSelectItem(this.strikethroughItem);\n            this.enableAnnotationPropertiesTools(true);\n            this.updateColorInIcon(this.colorDropDownElement, this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor);\n            this.isHighlightEnabled = true;\n            this.isUnderlineEnabled = false;\n            this.isStrikethroughEnabled = false;\n        }\n        else {\n            this.deselectAllItems();\n        }\n    };\n    AnnotationToolbar.prototype.handleUnderline = function () {\n        if (!this.isUnderlineEnabled) {\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations('Underline');\n            this.primaryToolbar.selectItem(this.underlineItem);\n            this.primaryToolbar.deSelectItem(this.highlightItem);\n            this.primaryToolbar.deSelectItem(this.strikethroughItem);\n            this.enableAnnotationPropertiesTools(true);\n            this.updateColorInIcon(this.colorDropDownElement, this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor);\n            this.isUnderlineEnabled = true;\n            this.isHighlightEnabled = false;\n            this.isStrikethroughEnabled = false;\n        }\n        else {\n            this.deselectAllItems();\n        }\n    };\n    AnnotationToolbar.prototype.handleStrikethrough = function () {\n        if (!this.isStrikethroughEnabled) {\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations('Strikethrough');\n            this.primaryToolbar.selectItem(this.strikethroughItem);\n            this.primaryToolbar.deSelectItem(this.highlightItem);\n            this.primaryToolbar.deSelectItem(this.underlineItem);\n            this.enableAnnotationPropertiesTools(true);\n            // tslint:disable-next-line:max-line-length\n            this.updateColorInIcon(this.colorDropDownElement, this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor);\n            this.isStrikethroughEnabled = true;\n            this.isHighlightEnabled = false;\n            this.isUnderlineEnabled = false;\n        }\n        else {\n            this.deselectAllItems();\n        }\n    };\n    AnnotationToolbar.prototype.deselectAllItems = function () {\n        this.isHighlightEnabled = false;\n        this.isUnderlineEnabled = false;\n        this.isStrikethroughEnabled = false;\n        if (this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode = false;\n        }\n        this.primaryToolbar.deSelectItem(this.highlightItem);\n        this.primaryToolbar.deSelectItem(this.underlineItem);\n        this.primaryToolbar.deSelectItem(this.strikethroughItem);\n        this.enableAnnotationPropertiesTools(false);\n        this.updateColorInIcon(this.colorDropDownElement, '#000000');\n        this.selectAnnotationDeleteItem(false);\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.selectAnnotationDeleteItem = function (isEnable) {\n        this.toolbar.enableItems(this.deleteItem.parentElement, isEnable);\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.enableAnnotationPropertiesTools = function (isEnable) {\n        this.toolbar.enableItems(this.colorDropDownElement.parentElement, isEnable);\n        this.toolbar.enableItems(this.opacityDropDownElement.parentElement, isEnable);\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.enableAnnotationAddTools = function (isEnable) {\n        this.toolbar.enableItems(this.highlightItem.parentElement, isEnable);\n        this.toolbar.enableItems(this.underlineItem.parentElement, isEnable);\n        this.toolbar.enableItems(this.strikethroughItem.parentElement, isEnable);\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.isAnnotationButtonsEnabled = function () {\n        var isButtonsEnabled = false;\n        if (this.isHighlightEnabled || this.isUnderlineEnabled || this.isStrikethroughEnabled) {\n            isButtonsEnabled = true;\n        }\n        return isButtonsEnabled;\n    };\n    AnnotationToolbar.prototype.updateToolbarItems = function () {\n        if (this.pdfViewer.enableTextMarkupAnnotation) {\n            this.enableAnnotationAddTools(true);\n        }\n        else {\n            this.enableAnnotationAddTools(false);\n        }\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.resetToolbar = function () {\n        this.adjustViewer(false);\n        this.updateToolbarItems();\n        this.toolbarElement.style.display = 'none';\n        this.isToolbarHidden = true;\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.clear = function () {\n        this.deselectAllItems();\n    };\n    /**\n     * @private\n     */\n    AnnotationToolbar.prototype.destroy = function () {\n        this.colorDropDown.destroy();\n        this.opacityDropDown.destroy();\n        this.toolbar.destroy();\n    };\n    AnnotationToolbar.prototype.getElementHeight = function (element) {\n        return element.getBoundingClientRect().height;\n    };\n    AnnotationToolbar.prototype.updateViewerHeight = function (viewerHeight, toolbarHeight) {\n        return viewerHeight - toolbarHeight;\n    };\n    AnnotationToolbar.prototype.resetViewerHeight = function (viewerHeight, toolbarHeight) {\n        return viewerHeight + toolbarHeight;\n    };\n    return AnnotationToolbar;\n}());\nexport { AnnotationToolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, ChildProperty, L10n } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, Property, Event } from '@syncfusion/ej2-base';\nimport { PdfViewerBase } from './index';\n/**\n * The `ToolbarSettings` module is used to provide the toolbar settings of PDF viewer.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], ToolbarSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], ToolbarSettings.prototype, \"toolbarItem\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * The `AnnotationToolbarSettings` module is used to provide the annotation toolbar settings of the PDF viewer.\n */\nvar AnnotationToolbarSettings = /** @class */ (function (_super) {\n    __extends(AnnotationToolbarSettings, _super);\n    function AnnotationToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], AnnotationToolbarSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], AnnotationToolbarSettings.prototype, \"annotationToolbarItem\", void 0);\n    return AnnotationToolbarSettings;\n}(ChildProperty));\nexport { AnnotationToolbarSettings };\n/**\n * The `ServerActionSettings` module is used to provide the server action methods of PDF viewer.\n */\nvar ServerActionSettings = /** @class */ (function (_super) {\n    __extends(ServerActionSettings, _super);\n    function ServerActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Load')\n    ], ServerActionSettings.prototype, \"load\", void 0);\n    __decorate([\n        Property('Unload')\n    ], ServerActionSettings.prototype, \"unload\", void 0);\n    __decorate([\n        Property('RenderPdfPages')\n    ], ServerActionSettings.prototype, \"renderPages\", void 0);\n    __decorate([\n        Property('RenderPdfPages')\n    ], ServerActionSettings.prototype, \"print\", void 0);\n    __decorate([\n        Property('Download')\n    ], ServerActionSettings.prototype, \"download\", void 0);\n    __decorate([\n        Property('RenderThumbnailImages')\n    ], ServerActionSettings.prototype, \"renderThumbnail\", void 0);\n    return ServerActionSettings;\n}(ChildProperty));\nexport { ServerActionSettings };\n/**\n * The `StrikethroughSettings` module is used to provide the properties to Strikethrough annotation.\n */\nvar StrikethroughSettings = /** @class */ (function (_super) {\n    __extends(StrikethroughSettings, _super);\n    function StrikethroughSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], StrikethroughSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('#ff0000')\n    ], StrikethroughSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property('Guest')\n    ], StrikethroughSettings.prototype, \"author\", void 0);\n    __decorate([\n        Property('strikethrough')\n    ], StrikethroughSettings.prototype, \"subject\", void 0);\n    __decorate([\n        Property('')\n    ], StrikethroughSettings.prototype, \"modifiedDate\", void 0);\n    return StrikethroughSettings;\n}(ChildProperty));\nexport { StrikethroughSettings };\n/**\n * The `UnderlineSettings` module is used to provide the properties to Underline annotation.\n */\nvar UnderlineSettings = /** @class */ (function (_super) {\n    __extends(UnderlineSettings, _super);\n    function UnderlineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], UnderlineSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('#00ff00')\n    ], UnderlineSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property('Guest')\n    ], UnderlineSettings.prototype, \"author\", void 0);\n    __decorate([\n        Property('underline')\n    ], UnderlineSettings.prototype, \"subject\", void 0);\n    __decorate([\n        Property('')\n    ], UnderlineSettings.prototype, \"modifiedDate\", void 0);\n    return UnderlineSettings;\n}(ChildProperty));\nexport { UnderlineSettings };\n/**\n * The `HighlightSettings` module is used to provide the properties to Highlight annotation.\n */\nvar HighlightSettings = /** @class */ (function (_super) {\n    __extends(HighlightSettings, _super);\n    function HighlightSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(1)\n    ], HighlightSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('#ffff00')\n    ], HighlightSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property('Guest')\n    ], HighlightSettings.prototype, \"author\", void 0);\n    __decorate([\n        Property('highlight')\n    ], HighlightSettings.prototype, \"subject\", void 0);\n    __decorate([\n        Property('')\n    ], HighlightSettings.prototype, \"modifiedDate\", void 0);\n    return HighlightSettings;\n}(ChildProperty));\nexport { HighlightSettings };\n/**\n * Represents the PDF viewer component.\n * ```html\n * <div id=\"pdfViewer\"></div>\n * <script>\n *  var pdfViewerObj = new PdfViewer();\n *  pdfViewerObj.appendTo(\"#pdfViewer\");\n * </script>\n * ```\n */\nvar PdfViewer = /** @class */ (function (_super) {\n    __extends(PdfViewer, _super);\n    function PdfViewer(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Gets or sets the document name loaded in the PdfViewer control.\n         */\n        _this.fileName = null;\n        /** @hidden */\n        _this.defaultLocale = {\n            'PdfViewer': 'PDF Viewer',\n            'Cancel': 'Cancel',\n            'Download file': 'Download file',\n            'Download': 'Download',\n            'Enter Password': 'This document is password protected. Please enter a password.',\n            'File Corrupted': 'File Corrupted',\n            'File Corrupted Content': 'The file is corrupted and cannot be opened.',\n            'Fit Page': 'Fit Page',\n            'Fit Width': 'Fit Width',\n            'Automatic': 'Automatic',\n            'Go To First Page': 'Show first page',\n            'Invalid Password': 'Incorrect Password. Please try again.',\n            'Next Page': 'Show next page',\n            'OK': 'OK',\n            'Open': 'Open file',\n            'Page Number': 'Current page number',\n            'Previous Page': 'Show previous page',\n            'Go To Last Page': 'Show last page',\n            'Zoom': 'Zoom',\n            'Zoom In': 'Zoom in',\n            'Zoom Out': 'Zoom out',\n            'Page Thumbnails': 'Page thumbnails',\n            'Bookmarks': 'Bookmarks',\n            'Print': 'Print file',\n            'Password Protected': 'Password Required',\n            'Copy': 'Copy',\n            'Text Selection': 'Text selection tool',\n            'Panning': 'Pan mode',\n            'Text Search': 'Find text',\n            'Find in document': 'Find in document',\n            'Match case': 'Match case',\n            'Apply': 'Apply',\n            'GoToPage': 'Go to Page',\n            // tslint:disable-next-line:max-line-length\n            'No matches': 'Viewer has finished searching the document. No more matches were found',\n            'No Text Found': 'No Text Found',\n            'Undo': 'Undo',\n            'Redo': 'Redo',\n            'Annotation': 'Add or Edit annotations',\n            'Highlight': 'Highlight Text',\n            'Underline': 'Underline Text',\n            'Strikethrough': 'Strikethrough Text',\n            'Delete': 'Delete annotation',\n            'Opacity': 'Opacity',\n            'Color edit': 'Change Color',\n            'Opacity edit': 'Change Opacity',\n            'highlight': 'Highlight',\n            'underline': 'Underline',\n            'strikethrough': 'Strike through',\n            // tslint:disable-next-line:max-line-length\n            'Server error': 'Web-service is not listening. PDF Viewer depends on web-service for all it\\'s features. Please start the web service to continue.',\n            'Open text': 'Open',\n            'First text': 'First Page',\n            'Previous text': 'Previous Page',\n            'Next text': 'Next Page',\n            'Last text': 'Last Page',\n            'Zoom in text': 'Zoom In',\n            'Zoom out text': 'Zoom Out',\n            'Selection text': 'Selection',\n            'Pan text': 'Pan',\n            'Print text': 'Print',\n            'Seach text': 'Search',\n            'Annotation Edit text': 'Edit Annotation'\n        };\n        _this.viewerBase = new PdfViewerBase(_this);\n        return _this;\n    }\n    Object.defineProperty(PdfViewer.prototype, \"pageCount\", {\n        /**\n         * Returns the page count of the document loaded in the PdfViewer control.\n         */\n        get: function () {\n            return this.viewerBase.pageCount;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"isDocumentEdited\", {\n        /**\n         * Checks whether the PDF document is edited.\n         */\n        get: function () {\n            return this.viewerBase.isDocumentEdited;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"currentPageNumber\", {\n        /**\n         * Returns the current page number of the document displayed in the PdfViewer control.\n         */\n        get: function () {\n            return this.viewerBase.currentPageNumber;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"zoomPercentage\", {\n        /**\n         * Returns the current zoom percentage of the PdfViewer control.\n         */\n        get: function () {\n            return this.magnificationModule.zoomFactor * 100;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"bookmark\", {\n        /**\n         * Gets the bookmark view object of the pdf viewer.\n         * @returns { BookmarkView }\n         */\n        get: function () {\n            return this.bookmarkViewModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"print\", {\n        /**\n         * Gets the print object of the pdf viewer.\n         * @returns { Print }\n         */\n        get: function () {\n            return this.printModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"magnification\", {\n        /**\n         * Gets the magnification object of the pdf viewer.\n         * @returns { Magnification }\n         */\n        get: function () {\n            return this.magnificationModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"navigation\", {\n        /**\n         * Gets the navigation object of the pdf viewer.\n         * @returns { Navigation }\n         */\n        get: function () {\n            return this.navigationModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"textSearch\", {\n        /**\n         * Gets the text search object of the pdf viewer.\n         * @returns { TextSearch }\n         */\n        get: function () {\n            return this.textSearchModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"toolbar\", {\n        /**\n         * Gets the toolbar object of the pdf viewer.\n         * @returns { Toolbar }\n         */\n        get: function () {\n            return this.toolbarModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfViewer.prototype, \"annotation\", {\n        /**\n         * Gets the annotation object of the pdf viewer.\n         * @returns { Annotation }\n         */\n        get: function () {\n            return this.annotationModule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfViewer.prototype.preRender = function () {\n        this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n    };\n    PdfViewer.prototype.render = function () {\n        this.viewerBase.initializeComponent();\n        if (this.enableTextSelection && this.textSelectionModule) {\n            this.textSelectionModule.enableTextSelectionMode();\n        }\n        else {\n            this.viewerBase.disableTextSelectionMode();\n        }\n    };\n    PdfViewer.prototype.getModuleName = function () {\n        return 'PdfViewer';\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.getLocaleConstants = function () {\n        return this.defaultLocale;\n    };\n    PdfViewer.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var requireRefresh = false;\n        if (this.isDestroyed) {\n            return;\n        }\n        var properties = Object.keys(newProp);\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            switch (prop) {\n                case 'enableToolbar':\n                    this.notify('', { module: 'toolbar', enable: this.enableToolbar });\n                    requireRefresh = true;\n                    break;\n            }\n        }\n    };\n    PdfViewer.prototype.getPersistData = function () {\n        return 'PdfViewer';\n    };\n    PdfViewer.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableMagnification) {\n            modules.push({\n                member: 'Magnification', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableNavigation) {\n            modules.push({\n                member: 'Navigation', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableToolbar) {\n            modules.push({\n                member: 'Toolbar', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableHyperlink) {\n            modules.push({\n                member: 'LinkAnnotation', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableThumbnail) {\n            modules.push({\n                member: 'ThumbnailView', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableBookmark) {\n            modules.push({\n                member: 'BookmarkView', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableTextSelection) {\n            modules.push({\n                member: 'TextSelection', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableTextSearch) {\n            modules.push({\n                member: 'TextSearch', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enablePrint) {\n            modules.push({\n                member: 'Print', args: [this, this.viewerBase]\n            });\n        }\n        if (this.enableAnnotation) {\n            modules.push({\n                member: 'Annotation', args: [this, this.viewerBase]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Loads the given PDF document in the PDF viewer control\n     * @param  {string} document - Specifies the document name for load\n     * @param  {string} password - Specifies the Given document password\n     * @returns void\n     */\n    PdfViewer.prototype.load = function (document, password) {\n        if (this.viewerBase.pageCount !== 0) {\n            this.viewerBase.clear(true);\n        }\n        else {\n            this.viewerBase.clear(false);\n        }\n        this.viewerBase.pageCount = 0;\n        this.viewerBase.currentPageNumber = 0;\n        if (this.toolbarModule) {\n            this.toolbarModule.resetToolbar();\n        }\n        this.viewerBase.initiatePageRender(document, password);\n    };\n    /**\n     * Downloads the PDF document being loaded in the ejPdfViewer control.\n     * @returns void\n     */\n    PdfViewer.prototype.download = function () {\n        if (this.enableDownload) {\n            this.viewerBase.download();\n        }\n    };\n    /**\n     * Perform undo action for the edited annotations\n     * @returns void\n     */\n    PdfViewer.prototype.undo = function () {\n        if (this.annotationModule) {\n            this.annotationModule.undo();\n        }\n    };\n    /**\n     * Perform redo action for the edited annotations\n     * @returns void\n     */\n    PdfViewer.prototype.redo = function () {\n        if (this.annotationModule) {\n            this.annotationModule.redo();\n        }\n    };\n    /**\n     * Unloads the PDF document being displayed in the PDF viewer.\n     * @returns void\n     */\n    PdfViewer.prototype.unload = function () {\n        this.viewerBase.clear(true);\n        this.viewerBase.pageCount = 0;\n        this.toolbarModule.resetToolbar();\n        this.magnificationModule.zoomTo(100);\n    };\n    /**\n     * Destroys all managed resources used by this object.\n     */\n    PdfViewer.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.toolbarModule) {\n            this.toolbarModule.destroy();\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.element.classList.remove('e-pdfviewer');\n            this.element.innerHTML = '';\n        }\n        this.viewerBase.destroy();\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireDocumentLoad = function () {\n        var eventArgs = { name: 'documentLoad', documentName: this.fileName };\n        this.trigger('documentLoad', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireDocumentUnload = function (fileName) {\n        var eventArgs = { name: 'documentUnload', documentName: fileName };\n        this.trigger('documentUnload', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireDocumentLoadFailed = function (isPasswordRequired, password) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'documentLoadFailed', documentName: this.fileName, isPasswordRequired: isPasswordRequired, password: password };\n        this.trigger('documentLoadFailed', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireAjaxRequestFailed = function (errorStatusCode, errorMessage) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'ajaxRequestFailed', documentName: this.fileName, errorStatusCode: errorStatusCode, errorMessage: errorMessage };\n        this.trigger('ajaxRequestFailed', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.firePageClick = function (x, y, pageNumber) {\n        var eventArgs = { name: 'pageClick', documentName: this.fileName, x: x, y: y, pageNumber: pageNumber };\n        this.trigger('pageClick', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.firePageChange = function (previousPageNumber) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'pageChange', documentName: this.fileName, currentPageNumber: this.viewerBase.currentPageNumber, previousPageNumber: previousPageNumber };\n        this.trigger('pageChange', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireZoomChange = function () {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'zoomChange', zoomValue: this.magnificationModule.zoomFactor * 100, previousZoomValue: this.magnificationModule.previousZoomFactor * 100 };\n        this.trigger('zoomChange', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireHyperlinkClick = function (hyperlink) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'hyperlinkClick', hyperlink: hyperlink };\n        this.trigger('hyperlinkClick', eventArgs);\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    PdfViewer.prototype.fireAnnotationAdd = function (pageNumber, index, type, bounds, settings) {\n        var eventArgs = { name: 'annotationAdd', pageIndex: pageNumber, annotationId: index, annotationType: type, annotationBound: bounds, annotationSettings: settings };\n        this.trigger('annotationAdd', eventArgs);\n    };\n    /**\n     * @private\n     */\n    PdfViewer.prototype.fireAnnotationRemove = function (pageNumber, index, type) {\n        // tslint:disable-next-line:max-line-length\n        var eventArgs = { name: 'annotationRemove', pageIndex: pageNumber, annotationId: index, annotationType: type };\n        this.trigger('annotationRemove', eventArgs);\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-line-length\n    PdfViewer.prototype.fireAnnotationPropertiesChange = function (pageNumber, index, type, isColorChanged, isOpacityChanged) {\n        var eventArgs = { name: 'annotationPropertiesChange', pageIndex: pageNumber, annotationId: index, annotationType: type, isColorChanged: isColorChanged, isOpacityChanged: isOpacityChanged };\n        this.trigger('annotationPropertiesChange', eventArgs);\n    };\n    __decorate([\n        Property()\n    ], PdfViewer.prototype, \"serviceUrl\", void 0);\n    __decorate([\n        Property()\n    ], PdfViewer.prototype, \"documentPath\", void 0);\n    __decorate([\n        Property('auto')\n    ], PdfViewer.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], PdfViewer.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableToolbar\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableDownload\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enablePrint\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableThumbnail\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableBookmark\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableHyperlink\", void 0);\n    __decorate([\n        Property('CurrentTab')\n    ], PdfViewer.prototype, \"hyperlinkOpenState\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableNavigation\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableMagnification\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableTextSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableTextSearch\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableAnnotation\", void 0);\n    __decorate([\n        Property(true)\n    ], PdfViewer.prototype, \"enableTextMarkupAnnotation\", void 0);\n    __decorate([\n        Property('TextSelection')\n    ], PdfViewer.prototype, \"interactionMode\", void 0);\n    __decorate([\n        Property({ showTooltip: true, toolbarItem: ['OpenOption', 'UndoRedoTool', 'PageNavigationTool', 'MagnificationTool', 'PanTool', 'SelectionTool', 'CommentOption', 'AnnotationEditTool', 'FreeTextAnnotationOption', 'InkAnnotationOption', 'ShapeAnnotationOption', 'StampAnnotation', 'SignatureOption', 'SearchOption', 'PrintOption', 'DownloadOption'] })\n    ], PdfViewer.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Property({ showTooltip: true, annotationToolbarItem: ['HighlightTool', 'UnderlineTool', 'StrikethroughTool', 'ColorEditTool', 'OpacityEditTool', 'AnnotationDeleteTool'] })\n    ], PdfViewer.prototype, \"annotationToolbarSettings\", void 0);\n    __decorate([\n        Property({ load: 'Load', renderPages: 'RenderPdfPages', unload: 'Unload', download: 'Download', renderThumbnail: 'RenderThumbnailImages' })\n    ], PdfViewer.prototype, \"serverActionSettings\", void 0);\n    __decorate([\n        Property({ opacity: 1, color: '#ffff00', author: 'Guest', subject: 'Highlight', modifiedDate: '' })\n    ], PdfViewer.prototype, \"highlightSettings\", void 0);\n    __decorate([\n        Property({ opacity: 1, color: '#ff0000', author: 'Guest', subject: 'Strikethrough', modifiedDate: '' })\n    ], PdfViewer.prototype, \"strikethroughSettings\", void 0);\n    __decorate([\n        Property({ opacity: 1, color: '#00ff00', author: 'Guest', subject: 'Underline', modifiedDate: '' })\n    ], PdfViewer.prototype, \"underlineSettings\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"documentLoad\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"documentUnload\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"documentLoadFailed\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"ajaxRequestFailed\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"pageClick\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"pageChange\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"hyperlinkClick\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"zoomChange\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"annotationAdd\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"annotationRemove\", void 0);\n    __decorate([\n        Event()\n    ], PdfViewer.prototype, \"annotationPropertiesChange\", void 0);\n    PdfViewer = __decorate([\n        NotifyPropertyChanges\n    ], PdfViewer);\n    return PdfViewer;\n}(Component));\nexport { PdfViewer };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nimport { ListView } from '@syncfusion/ej2-lists';\n/**\n * BookmarkView module\n */\nvar BookmarkView = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function BookmarkView(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.childNavigateCount = 0;\n        // tslint:disable-next-line\n        this.bookmarkClick = function (args) {\n            // tslint:disable-next-line\n            if (!args.event.target.classList.contains('e-icons')) {\n                var bookid = args.data.Id;\n                _this.childNavigateCount = 0;\n                _this.pdfViewerBase.navigationPane.goBackToToolbar();\n                _this.navigateToBookmark(bookid);\n            }\n            else {\n                _this.childNavigateCount++;\n            }\n            return false;\n        };\n        this.nodeClick = function (args) {\n            _this.setHeight(args.node);\n            var bookid = Number(args.nodeData.id);\n            _this.navigateToBookmark(bookid);\n            return false;\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    BookmarkView.prototype.createRequestForBookmarks = function () {\n        var _this = this;\n        var proxy = this;\n        var request = new XMLHttpRequest();\n        // tslint:disable-next-line:max-line-length\n        var jsonObject = { hashId: this.pdfViewerBase.hashId };\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/Bookmarks');\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            if (request.readyState === 4 && request.status === 200) {\n                if (_this.pdfViewerBase.navigationPane) {\n                    _this.pdfViewerBase.navigationPane.disableBookmarkButton();\n                }\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                if (data) {\n                    if (typeof data !== 'object') {\n                        data = JSON.parse(data);\n                    }\n                    _this.bookmarks = { bookMark: data.Bookmarks };\n                    _this.bookmarksDestination = { bookMarkDestination: data.BookmarksDestination };\n                }\n                if (_this.pdfViewerBase.navigationPane) {\n                    if (_this.bookmarks == null) {\n                        _this.pdfViewerBase.navigationPane.disableBookmarkButton();\n                    }\n                    else {\n                        _this.pdfViewerBase.navigationPane.enableBookmarkButton();\n                        _this.isBookmarkViewDiv = false;\n                    }\n                }\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.pdfViewerBase.openNotificationPopup();\n            proxy.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.renderBookmarkcontent = function () {\n        var _this = this;\n        if (!this.isBookmarkViewDiv) {\n            this.bookmarkView = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_view', className: 'e-pv-bookmark-view' });\n            this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.bookmarkView);\n            // tslint:disable-next-line:max-line-length\n            var bookmarkIconView = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_iconview', className: 'e-pv-bookmark-icon-view' });\n            // tslint:disable-next-line:max-line-length\n            if (!this.pdfViewer.enableRtl) {\n                // tslint:disable-next-line:max-line-length\n                var bookmarkIcon = createElement('span', { id: this.pdfViewer.element.id + '_bookmark_icon', className: 'e-pv-bookmark-icon e-pv-icon' });\n                bookmarkIconView.appendChild(bookmarkIcon);\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                var bookmarkIcon = createElement('span', { id: this.pdfViewer.element.id + '_bookmark_icon', className: 'e-pv-bookmark-icon e-pv-icon e-right' });\n                bookmarkIconView.appendChild(bookmarkIcon);\n            }\n            // tslint:disable-next-line:max-line-length\n            var bookmarkTitle = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_Title', className: 'e-pv-bookmark-Title' });\n            if (this.pdfViewer.enableRtl) {\n                bookmarkTitle.style.paddingRight = 26 + 'px';\n            }\n            else {\n                bookmarkTitle.style.paddingLeft = 40 + 'px';\n            }\n            bookmarkTitle.innerText = '${Title}';\n            bookmarkIconView.appendChild(bookmarkTitle);\n            // tslint:disable-next-line:max-line-length\n            this.treeObj = new TreeView({\n                fields: {\n                    dataSource: this.bookmarks.bookMark,\n                    id: 'Id',\n                    text: 'Title',\n                    child: 'Child',\n                    hasChildren: 'HasChild',\n                },\n                nodeTemplate: bookmarkIconView.outerHTML,\n                nodeSelected: this.nodeClick.bind(this),\n            });\n            if (this.pdfViewer.enableRtl) {\n                this.treeObj.enableRtl = true;\n            }\n            this.treeObj.appendTo(this.bookmarkView);\n            ['mouseover', 'keydown'].forEach(function (evt) { return _this.bookmarkView.addEventListener(evt, function (event) {\n                _this.setHeight(event.target);\n            }); });\n            this.isBookmarkViewDiv = true;\n        }\n        this.bookmarkView.style.display = 'block';\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.renderBookmarkContentMobile = function () {\n        if (this.bookmarkView != null) {\n            this.bookmarkView.remove();\n        }\n        this.bookmarkView = createElement('div', { id: this.pdfViewer.element.id + '_bookmark_view', className: 'e-pv-bookmark-view' });\n        this.pdfViewerBase.getElement('_bookmarks_container').appendChild(this.bookmarkView);\n        this.bookmarkList = new ListView({\n            dataSource: this.bookmarks.bookMark,\n            fields: {\n                id: 'Id',\n                text: 'Title',\n                child: 'Child'\n            },\n            showHeader: false,\n            select: this.bookmarkClick.bind(this)\n        });\n        if (this.pdfViewer.enableRtl) {\n            this.bookmarkList.enableRtl = true;\n        }\n        this.bookmarkList.appendTo(this.bookmarkView);\n    };\n    // tslint:disable-next-line\n    BookmarkView.prototype.setHeight = function (element) {\n        if (this.treeObj.fullRowSelect) {\n            if (element.classList.contains('e-treeview')) {\n                element = element.querySelector('.e-node-focus').querySelector('.e-fullrow');\n            }\n            else if (element.classList.contains('e-list-parent')) {\n                element = element.querySelector('.e-fullrow');\n            }\n            else if (element.classList.value !== ('e-fullrow') && element.closest('.e-list-item')) {\n                element = element.closest('.e-list-item').querySelector('.e-fullrow');\n            }\n            if (element.nextElementSibling) {\n                element.style.height = element.nextElementSibling.offsetHeight + 'px';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.setBookmarkContentHeight = function () {\n        // tslint:disable-next-line\n        var element = this.treeObj.element;\n        if (this.treeObj.fullRowSelect) {\n            if (element.classList.contains('e-treeview')) {\n                element = element.querySelector('.e-node-focus').querySelector('.e-fullrow');\n            }\n            if (element.nextElementSibling) {\n                element.style.height = element.nextElementSibling.offsetHeight + 'px';\n            }\n        }\n    };\n    BookmarkView.prototype.navigateToBookmark = function (bookid) {\n        var pageIndex = this.bookmarksDestination.bookMarkDestination[bookid].PageIndex;\n        var Y = this.bookmarksDestination.bookMarkDestination[bookid].Y;\n        this.goToBookmark(pageIndex, Y);\n    };\n    /**\n     * Get Bookmarks of the PDF document being loaded in the ejPdfViewer control\n     * @returns any\n     */\n    // tslint:disable-next-line\n    BookmarkView.prototype.getBookmarks = function () {\n        if (this.bookmarks && this.bookmarksDestination) {\n            // tslint:disable-next-line:max-line-length\n            return { bookmarks: this.bookmarks, bookmarksDestination: this.bookmarksDestination };\n        }\n    };\n    /**\n     * Navigate To current Bookmark location of the PDF document being loaded in the ejPdfViewer control.\n     * @param  {number} pageIndex - Specifies the pageIndex for Navigate\n     * @param  {number} y - Specifies the Y coordinates value of the Page\n     * @returns void\n     */\n    BookmarkView.prototype.goToBookmark = function (pageIndex, y) {\n        var proxy = this;\n        var destPage = (this.pdfViewerBase.pageSize[pageIndex - 1].height);\n        // tslint:disable-next-line:max-line-length\n        var scrollValue = this.pdfViewerBase.pageSize[pageIndex].top * this.pdfViewerBase.getZoomFactor() + ((destPage - y) * this.pdfViewerBase.getZoomFactor());\n        var scroll = scrollValue.toString();\n        // tslint:disable-next-line:radix\n        proxy.pdfViewerBase.viewerContainer.scrollTop = parseInt(scroll);\n        if (Browser.isDevice) {\n            this.pdfViewerBase.mobileScrollerContainer.style.display = '';\n            this.pdfViewerBase.updateMobileScrollerPosition();\n        }\n        proxy.pdfViewerBase.focusViewerContainer();\n        return false;\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.clear = function () {\n        if (this.pdfViewerBase.navigationPane) {\n            this.pdfViewerBase.navigationPane.disableBookmarkButton();\n            this.pdfViewerBase.navigationPane.updateViewerContainerOnClose();\n        }\n        if (this.bookmarks) {\n            this.bookmarks.bookMark = [];\n            this.bookmarks = null;\n        }\n        if (this.bookmarksDestination) {\n            this.bookmarksDestination.bookMarkDestination = [];\n        }\n        if (this.bookmarkView != null) {\n            if (this.bookmarkView.parentElement !== null) {\n                this.bookmarkView.parentElement.removeChild(this.bookmarkView);\n            }\n            while (this.bookmarkView.hasChildNodes()) {\n                this.bookmarkView.removeChild(this.bookmarkView.lastChild);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * @private\n     */\n    BookmarkView.prototype.getModuleName = function () {\n        return 'BookmarkView';\n    };\n    return BookmarkView;\n}());\nexport { BookmarkView };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\n/**\n * The `TextSelection` module is used to handle the text selection of PDF viewer.\n * @hidden\n */\nvar TextSelection = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function TextSelection(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.isTextSelection = false;\n        /**\n         * @private\n         */\n        this.selectionStartPage = null;\n        this.isBackwardPropagatedSelection = false;\n        this.contextMenuHeight = 144;\n        /**\n         * @private\n         */\n        this.selectionRangeArray = [];\n        this.selectionAnchorTouch = null;\n        this.selectionFocusTouch = null;\n        // tslint:disable-next-line\n        this.scrollMoveTimer = 0;\n        this.isMouseLeaveSelection = false;\n        this.isTouchSelection = false;\n        this.previousScrollDifference = 0;\n        this.topStoreLeft = null;\n        this.topStoreRight = null;\n        this.onLeftTouchSelectElementTouchStart = function (event) {\n            _this.initiateSelectionByTouch();\n        };\n        this.onRightTouchSelectElementTouchStart = function (event) {\n            _this.initiateSelectionByTouch();\n        };\n        this.onLeftTouchSelectElementTouchEnd = function (event) {\n            _this.terminateSelectionByTouch(event);\n        };\n        this.onRightTouchSelectElementTouchEnd = function (event) {\n            _this.terminateSelectionByTouch(event);\n        };\n        this.onLeftTouchSelectElementTouchMove = function (event) {\n            var range;\n            var nodeElement;\n            event.preventDefault();\n            event.target.style.zIndex = '0';\n            var rightElement = _this.dropDivElementRight;\n            var isTouchedWithinViewerContainer = _this.isTouchedWithinContainer(event);\n            if (rightElement && isTouchedWithinViewerContainer) {\n                var dropBounds = rightElement.getBoundingClientRect();\n                var xTouch = event.changedTouches[0].clientX;\n                var yTouch = event.changedTouches[0].clientY;\n                event.target.style.zIndex = '1000';\n                nodeElement = _this.getNodeElement(range, xTouch, yTouch, event, nodeElement);\n                if (nodeElement) {\n                    // tslint:disable-next-line:max-line-length\n                    var currentDifference = Math.sqrt((yTouch - dropBounds.top) * (yTouch - dropBounds.top) + (xTouch - dropBounds.left) * (xTouch - dropBounds.left));\n                    var isCloserMovement = _this.isCloserTouchScroll(currentDifference);\n                    var isTextSelected = false;\n                    if (yTouch <= dropBounds.top) {\n                        _this.dropElementLeft.style.transform = 'rotate(0deg)';\n                        _this.dropElementRight.style.transform = 'rotate(-90deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, xTouch, yTouch, false, 'left', isCloserMovement);\n                    }\n                    else {\n                        _this.dropElementLeft.style.transform = 'rotate(-90deg)';\n                        _this.dropElementRight.style.transform = 'rotate(0deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, xTouch, yTouch, true, 'left', isCloserMovement);\n                    }\n                    if (isTextSelected) {\n                        var elementClientRect = _this.dropDivElementLeft.getBoundingClientRect();\n                        var pageTopValue = _this.pdfViewerBase.pageSize[_this.pdfViewerBase.currentPageNumber - 1].top;\n                        var topClientValue = _this.getClientValueTop(yTouch, _this.pdfViewerBase.currentPageNumber - 1);\n                        // tslint:disable-next-line:max-line-length\n                        var currentPageLeft = _this.pdfViewerBase.getElement('_pageDiv_' + (_this.pdfViewerBase.currentPageNumber - 1)).getBoundingClientRect().left;\n                        var currentRangeLeft = xTouch - currentPageLeft;\n                        // tslint:disable-next-line:max-line-length\n                        _this.dropDivElementLeft.style.top = pageTopValue * _this.pdfViewerBase.getZoomFactor() + topClientValue + 'px';\n                        _this.topStoreLeft = { pageTop: pageTopValue, topClientValue: _this.getMagnifiedValue(topClientValue), pageNumber: _this.pdfViewerBase.currentPageNumber - 1, left: _this.getMagnifiedValue(currentRangeLeft), isHeightNeeded: false };\n                        // tslint:disable-next-line:max-line-length\n                        _this.dropDivElementLeft.style.left = xTouch - _this.pdfViewerBase.viewerContainer.getBoundingClientRect().left - (elementClientRect.width / 2) + 'px';\n                        _this.previousScrollDifference = currentDifference;\n                    }\n                }\n            }\n        };\n        // tslint:disable-next-line\n        this.onRightTouchSelectElementTouchMove = function (event) {\n            var range;\n            var nodeElement;\n            event.preventDefault();\n            event.target.style.zIndex = '0';\n            var leftElement = _this.dropDivElementLeft;\n            var isTouchedWithinViewerContainer = _this.isTouchedWithinContainer(event);\n            if (leftElement && isTouchedWithinViewerContainer) {\n                var dropPosition = leftElement.getBoundingClientRect();\n                var touchX = event.changedTouches[0].clientX;\n                var touchY = event.changedTouches[0].clientY;\n                event.target.style.zIndex = '1000';\n                nodeElement = _this.getNodeElement(range, touchX, touchY, event, nodeElement);\n                if (nodeElement) {\n                    // tslint:disable-next-line:max-line-length\n                    var currentDifference = Math.sqrt((touchY - dropPosition.top) * (touchY - dropPosition.top) + (touchX - dropPosition.left) * (touchX - dropPosition.left));\n                    var isCloserMovement = _this.isCloserTouchScroll(currentDifference);\n                    var isTextSelected = false;\n                    if (touchY >= dropPosition.top) {\n                        _this.dropElementRight.style.transform = 'rotate(-90deg)';\n                        _this.dropElementLeft.style.transform = 'rotate(0deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, touchX, touchY, true, 'right', isCloserMovement);\n                    }\n                    else {\n                        _this.dropElementRight.style.transform = 'rotate(0deg)';\n                        _this.dropElementLeft.style.transform = 'rotate(-90deg)';\n                        isTextSelected = _this.selectTextByTouch(nodeElement.parentElement, touchX, touchY, false, 'right', isCloserMovement);\n                    }\n                    if (isTextSelected) {\n                        var pageTopValue = _this.pdfViewerBase.pageSize[_this.pdfViewerBase.currentPageNumber - 1].top;\n                        var topClientValue = _this.getClientValueTop(touchY, _this.pdfViewerBase.currentPageNumber - 1);\n                        var elementClientRect = _this.dropDivElementRight.getBoundingClientRect();\n                        _this.dropDivElementRight.style.top = pageTopValue * _this.pdfViewerBase.getZoomFactor() + topClientValue + 'px';\n                        // tslint:disable-next-line:max-line-length\n                        var currentPageLeft = _this.pdfViewerBase.getElement('_pageDiv_' + (_this.pdfViewerBase.currentPageNumber - 1)).getBoundingClientRect().left;\n                        var currentRangeLeft = touchX - currentPageLeft;\n                        // tslint:disable-next-line:max-line-length\n                        _this.topStoreRight = { pageTop: pageTopValue, topClientValue: _this.getMagnifiedValue(topClientValue), pageNumber: _this.pdfViewerBase.currentPageNumber - 1, left: _this.getMagnifiedValue(currentRangeLeft), isHeightNeeded: false };\n                        // tslint:disable-next-line:max-line-length\n                        _this.dropDivElementRight.style.left = touchX - _this.pdfViewerBase.viewerContainer.getBoundingClientRect().left - (elementClientRect.width / 2) + 'px';\n                        _this.previousScrollDifference = currentDifference;\n                    }\n                }\n            }\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseMove = function (target, x, y) {\n        var targetElement = target;\n        if (targetElement.nodeType === targetElement.TEXT_NODE) {\n            this.isBackwardPropagatedSelection = false;\n            var range = targetElement.ownerDocument.createRange();\n            var selection = window.getSelection();\n            if (selection.anchorNode !== null) {\n                var position = selection.anchorNode.compareDocumentPosition(selection.focusNode);\n                if (!position && selection.anchorOffset > selection.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\n                    this.isBackwardPropagatedSelection = true;\n                }\n            }\n            range.selectNodeContents(targetElement);\n            var currentPosition = 0;\n            var endPosition = range.endOffset;\n            while (currentPosition < endPosition) {\n                range.setStart(targetElement, currentPosition);\n                range.setEnd(targetElement, currentPosition + 1);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    if (selection.anchorNode !== null && selection.anchorNode.parentNode.classList.contains('e-pv-text')) {\n                        range.setStart(selection.anchorNode, selection.anchorOffset);\n                    }\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                    if (!this.isTextSelection) {\n                        this.selectionStartPage = this.pdfViewerBase.currentPageNumber - 1;\n                    }\n                    this.isTextSelection = true;\n                    if (this.isBackwardPropagatedSelection) {\n                        selection.extend(targetElement, currentPosition);\n                    }\n                    else {\n                        selection.extend(targetElement, currentPosition + 1);\n                    }\n                    range.detach();\n                }\n                currentPosition += 1;\n            }\n        }\n        else {\n            for (var i = 0; i < targetElement.childNodes.length; i++) {\n                if (targetElement.childNodes[i].nodeType === targetElement.TEXT_NODE) {\n                    var range = this.getSelectionRange(i, targetElement);\n                    var rangeBounds = range.getBoundingClientRect();\n                    if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                        range.detach();\n                        this.textSelectionOnMouseMove(targetElement.childNodes[i], x, y);\n                    }\n                    else {\n                        range.detach();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseLeave = function (event) {\n        var _this = this;\n        event.preventDefault();\n        var viewerTop = this.pdfViewerBase.viewerContainer.offsetTop;\n        if (this.pdfViewer.magnificationModule) {\n            if (this.pdfViewer.magnificationModule.fitType === 'fitToPage') {\n                return;\n            }\n        }\n        if (event.clientY > viewerTop) {\n            this.scrollMoveTimer = setInterval(function () { _this.scrollForwardOnSelection(); }, 500);\n        }\n        else {\n            this.scrollMoveTimer = setInterval(function () { _this.scrollBackwardOnSelection(); }, 500);\n        }\n    };\n    TextSelection.prototype.scrollForwardOnSelection = function () {\n        this.isMouseLeaveSelection = true;\n        this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.viewerContainer.scrollTop + 200;\n        this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber - 1);\n    };\n    TextSelection.prototype.scrollBackwardOnSelection = function () {\n        this.isMouseLeaveSelection = true;\n        this.pdfViewerBase.viewerContainer.scrollTop = this.pdfViewerBase.viewerContainer.scrollTop - 200;\n        this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber - 1);\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.clear = function () {\n        if (this.scrollMoveTimer) {\n            this.isMouseLeaveSelection = false;\n            clearInterval(this.scrollMoveTimer);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextSelection.prototype.selectAWord = function (element, x, y, isStoreSelection) {\n        if (element.nodeType === element.TEXT_NODE) {\n            var selection = window.getSelection();\n            var range = element.ownerDocument.createRange();\n            range.selectNodeContents(element);\n            var currentPosition = 0;\n            var endPosition = range.endOffset;\n            while (currentPosition < endPosition) {\n                range.setStart(element, currentPosition);\n                range.setEnd(element, currentPosition + 1);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    var textContent = element.textContent;\n                    var indices = [];\n                    var startPosition = void 0;\n                    var endPos = void 0;\n                    for (var i = 0; i < textContent.length; i++) {\n                        if (textContent[i] === ' ') {\n                            indices.push(i);\n                        }\n                    }\n                    for (var j = 0; j < indices.length; j++) {\n                        if (currentPosition === indices[j]) {\n                            startPosition = indices[j];\n                            endPos = indices[j];\n                        }\n                        if (indices[0] > currentPosition) {\n                            startPosition = 0;\n                            endPos = indices[j];\n                            break;\n                        }\n                        if (currentPosition > indices[j] && currentPosition < indices[j + 1]) {\n                            startPosition = indices[j];\n                            endPos = indices[j + 1];\n                        }\n                        else if (currentPosition > indices[j]) {\n                            if (!indices[j + 1]) {\n                                startPosition = indices[j];\n                            }\n                        }\n                    }\n                    if (!endPos) {\n                        endPos = textContent.length;\n                    }\n                    if (startPosition === 0) {\n                        range.setStart(element, startPosition);\n                    }\n                    else {\n                        range.setStart(element, startPosition + 1);\n                    }\n                    range.setEnd(element, endPos);\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                    this.isTextSelection = true;\n                    // tslint:disable-next-line:radix\n                    this.selectionStartPage = parseInt(range.startContainer.parentElement.id.split('_text_')[1]);\n                    if (isStoreSelection) {\n                        // tslint:disable-next-line:max-line-length\n                        this.selectionAnchorTouch = { anchorNode: selection.anchorNode.parentElement.id, anchorOffset: selection.anchorOffset };\n                        this.selectionFocusTouch = { focusNode: selection.focusNode.parentElement.id, focusOffset: selection.focusOffset };\n                    }\n                    range.detach();\n                    break;\n                }\n                currentPosition += 1;\n            }\n        }\n        else {\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var range = this.getSelectionRange(i, element);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    range.detach();\n                    this.selectAWord(element.childNodes[i], x, y, isStoreSelection);\n                }\n                else {\n                    range.detach();\n                }\n            }\n        }\n    };\n    TextSelection.prototype.getSelectionRange = function (index, element) {\n        var range = element.childNodes[index].ownerDocument.createRange();\n        range.selectNodeContents(element.childNodes[index]);\n        return range;\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.selectEntireLine = function (event) {\n        var textIds = [];\n        var targetElement = event.target;\n        var targetRect = targetElement.getBoundingClientRect();\n        // tslint:disable-next-line\n        var targetcentre = parseInt((targetRect.top + (targetRect.height / 2)).toString());\n        // tslint:disable-next-line:radix\n        var pageNumber = parseInt(event.target.id.split('_text_')[1]);\n        var textDivs = document.querySelectorAll('div[id*=\"_text_' + pageNumber + '\"]');\n        if (targetElement.classList.contains('e-pv-text')) {\n            for (var i = 0; i < textDivs.length; i++) {\n                var rect = textDivs[i].getBoundingClientRect();\n                // tslint:disable-next-line:radix\n                var topValue = parseInt(rect.top.toString());\n                // tslint:disable-next-line:radix\n                var bottomValue = parseInt(rect.bottom.toString());\n                if ((topValue <= targetcentre && bottomValue > targetcentre) && (targetRect.bottom + 10 > bottomValue)) {\n                    var textId = textDivs[i].id;\n                    if (textId !== '') {\n                        textIds.push(textId);\n                    }\n                }\n            }\n            var selection = window.getSelection();\n            selection.removeAllRanges();\n            var range = document.createRange();\n            var lengths = (textIds.length - 1);\n            var d1 = document.getElementById(textIds[0]);\n            var d2 = document.getElementById(textIds[lengths]);\n            var childNodes = d2.childNodes.length;\n            if (childNodes > 0) {\n                range.setStart(d1.childNodes[0], 0);\n                range.setEnd(d2.childNodes[0], d2.textContent.length);\n            }\n            else {\n                range.setStart(d1.childNodes[0], 0);\n                range.setEnd(d2, 1);\n            }\n            // tslint:disable-next-line:radix\n            this.selectionStartPage = parseInt(range.startContainer.parentElement.id.split('_text_')[1]);\n            selection.addRange(range);\n            this.isTextSelection = true;\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.enableTextSelectionMode = function () {\n        this.pdfViewerBase.isTextSelectionDisabled = false;\n        this.pdfViewerBase.viewerContainer.classList.remove('e-disable-text-selection');\n        this.pdfViewerBase.viewerContainer.classList.add('e-enable-text-selection');\n        this.pdfViewerBase.viewerContainer.addEventListener('selectstart', function () { return true; });\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.clearTextSelection = function () {\n        if (this.isTextSelection) {\n            this.pdfViewerBase.textLayer.clearDivSelection();\n            if (window.getSelection) {\n                if (window.getSelection().removeAllRanges) {\n                    window.getSelection().removeAllRanges();\n                }\n            }\n            if (this.pdfViewer.linkAnnotationModule) {\n                var lowerPageIndex = this.pdfViewerBase.currentPageNumber - 3;\n                lowerPageIndex = (lowerPageIndex < 0) ? 0 : lowerPageIndex;\n                var higherPageIndex = this.pdfViewer.currentPageNumber + 1;\n                // tslint:disable-next-line:max-line-length\n                higherPageIndex = (higherPageIndex < (this.pdfViewerBase.pageCount - 1)) ? higherPageIndex : (this.pdfViewerBase.pageCount - 1);\n                for (var i = lowerPageIndex; i <= higherPageIndex; i++) {\n                    this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(i, false);\n                }\n            }\n            this.selectionRangeArray = [];\n            this.isTextSelection = false;\n            this.isTouchSelection = false;\n            if (this.pdfViewer.textSearchModule) {\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n            this.pdfViewerBase.contextMenuModule.contextMenuObj.close();\n            this.removeTouchElements();\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.removeTouchElements = function () {\n        if (this.dropDivElementLeft) {\n            this.dropDivElementLeft.parentElement.removeChild(this.dropDivElementLeft);\n            this.dropDivElementLeft = null;\n            this.dropElementLeft.style.transform = 'rotate(0deg)';\n        }\n        if (this.dropDivElementRight) {\n            this.dropDivElementRight.parentElement.removeChild(this.dropDivElementRight);\n            this.dropDivElementRight = null;\n            this.dropElementRight.style.transform = 'rotate(-90deg)';\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.resizeTouchElements = function () {\n        var viewerContainerLeft = this.pdfViewerBase.viewerContainer.getBoundingClientRect().left;\n        if (this.dropDivElementLeft) {\n            var elementClientRect = this.dropDivElementLeft.getBoundingClientRect();\n            var dropElementHeight = 0;\n            // tslint:disable-next-line:max-line-length\n            var leftCurrentPagePosition = this.pdfViewerBase.getElement('_pageDiv_' + this.topStoreLeft.pageNumber).getBoundingClientRect();\n            this.dropDivElementLeft.style.left = parseFloat(this.topStoreLeft.left.toString()) * this.pdfViewerBase.getZoomFactor() + leftCurrentPagePosition.left - viewerContainerLeft - (elementClientRect.width / 2) + 'px';\n            if (this.topStoreLeft.isHeightNeeded) {\n                dropElementHeight = (elementClientRect.height / 2) * this.pdfViewerBase.getZoomFactor();\n            }\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementLeft.style.top = parseFloat(this.topStoreLeft.pageTop.toString()) * this.pdfViewerBase.getZoomFactor() + parseFloat(this.topStoreLeft.topClientValue.toString()) * this.pdfViewerBase.getZoomFactor() + dropElementHeight + 'px';\n        }\n        if (this.dropDivElementRight) {\n            var elementClientRect = this.dropDivElementRight.getBoundingClientRect();\n            var dropElementHeight = 0;\n            // tslint:disable-next-line:max-line-length\n            var rightCurrentPagePosition = this.pdfViewerBase.getElement('_pageDiv_' + this.topStoreRight.pageNumber).getBoundingClientRect();\n            this.dropDivElementRight.style.left = parseFloat(this.topStoreRight.left.toString()) * this.pdfViewerBase.getZoomFactor() + rightCurrentPagePosition.left - viewerContainerLeft - (elementClientRect.width / 2) + 'px';\n            if (this.topStoreRight.isHeightNeeded) {\n                dropElementHeight = (elementClientRect.height / 2) * this.pdfViewerBase.getZoomFactor();\n            }\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementRight.style.top = parseFloat(this.topStoreRight.pageTop.toString()) * this.pdfViewerBase.getZoomFactor() + parseFloat(this.topStoreRight.topClientValue.toString()) * this.pdfViewerBase.getZoomFactor() + dropElementHeight + 'px';\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseup = function () {\n        this.clear();\n        if (window.getSelection().anchorNode !== null) {\n            this.isMouseLeaveSelection = false;\n            this.maintainSelectionOnZoom(true, false);\n            var isTextSearch = this.pdfViewerBase.textLayer.getTextSearchStatus();\n            if (isTextSearch) {\n                this.pdfViewerBase.textLayer.clearDivSelection();\n                // tslint:disable-next-line\n                var indexes = this.pdfViewer.textSearchModule.getIndexes();\n                var lowerPageValue = parseFloat(indexes.lowerPageValue.toString());\n                var higherPageValue = parseFloat(indexes.higherPageValue.toString());\n                for (var i = lowerPageValue; i < higherPageValue; i++) {\n                    this.applySelectionRangeOnScroll(i);\n                }\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n            else {\n                this.applySpanForSelection();\n            }\n            if (this.pdfViewer.linkAnnotationModule) {\n                this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(this.pdfViewerBase.currentPageNumber - 1, false);\n            }\n        }\n        else {\n            this.pdfViewerBase.textLayer.clearDivSelection();\n            if (this.pdfViewer.textSearchModule) {\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n            this.removeTouchElements();\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.maintainSelectionOnZoom = function (isMaintainSelection, isStich) {\n        var selection = window.getSelection();\n        if (selection.type === 'Range' || (!selection.type && !selection.isCollapsed)) {\n            var isBackward = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n            if (selection.anchorNode !== null) {\n                // tslint:disable-next-line:radix\n                var anchorPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                var focusPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n                if (this.isTouchSelection && isNaN(focusPageId)) {\n                    var focusElement = selection.focusNode;\n                    if (focusElement === this.pdfViewerBase.pageContainer) {\n                        var lastChildNode = this.pdfViewerBase.pageContainer.lastChild;\n                        if (lastChildNode.classList.contains('e-pv-touch-select-drop')) {\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastChildNode.previousSibling.previousSibling.id.split('_pageDiv_')[1]);\n                        }\n                        else if (lastChildNode.classList.contains('e-pv-page-div')) {\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastChildNode.id.split('_pageDiv_')[1]);\n                        }\n                    }\n                }\n                if (!isBackward) {\n                    for (var i = anchorPageId; i <= focusPageId; i++) {\n                        this.maintainSelectionOnScroll(i, isStich);\n                    }\n                }\n                else {\n                    for (var i = anchorPageId; i >= focusPageId; i--) {\n                        this.maintainSelectionOnScroll(i, isStich);\n                    }\n                }\n            }\n            if (!isMaintainSelection) {\n                selection.removeAllRanges();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.isSelectionAvailableOnScroll = function (pageNumber) {\n        var isSelectionAvailable = false;\n        var ranges = this.selectionRangeArray;\n        for (var i = 0; i < ranges.length; i++) {\n            if (ranges[i] !== null) {\n                if (pageNumber === ranges[i].pageNumber) {\n                    isSelectionAvailable = true;\n                    if (this.isTouchSelection && !this.pdfViewerBase.getMagnified()) {\n                        isSelectionAvailable = false;\n                    }\n                    break;\n                }\n            }\n        }\n        return isSelectionAvailable;\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.applySelectionRangeOnScroll = function (pageNumber) {\n        if (this.isMouseLeaveSelection) {\n            this.applySelectionMouseScroll(pageNumber);\n        }\n        else {\n            this.applySelectionRange(pageNumber);\n        }\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.getSelectionRangeFromArray = function (pageNumber) {\n        var isSelectionAvailable = false;\n        var selectionRange = null;\n        var ranges = this.selectionRangeArray;\n        for (var i = 0; i < ranges.length; i++) {\n            if (ranges[i] !== null) {\n                if (pageNumber === ranges[i].pageNumber) {\n                    selectionRange = ranges[i];\n                    isSelectionAvailable = true;\n                    break;\n                }\n            }\n        }\n        return { isSelectionAvailable: isSelectionAvailable, selectionRange: selectionRange };\n    };\n    TextSelection.prototype.applySelectionRange = function (pageNumber) {\n        var selectionObject = this.getSelectionRangeFromArray(pageNumber);\n        var isSelectionAvailable = selectionObject.isSelectionAvailable;\n        var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n        if (textLayer) {\n            if (isSelectionAvailable && textLayer.childNodes.length !== 0) {\n                var selectionRange = selectionObject.selectionRange;\n                var anchorOffsetDiv = void 0;\n                var focusOffsetDiv = void 0;\n                var anchorOffset = void 0;\n                var focusOffset = void 0;\n                if (selectionRange.isBackward) {\n                    // tslint:disable-next-line:radix\n                    var startId = parseInt(selectionRange.endNode.split('_text_')[1].split('_')[1]);\n                    // tslint:disable-next-line:radix\n                    var endId = parseInt(selectionRange.startNode.split('_text_')[1].split('_')[1]);\n                    if (startId < endId) {\n                        anchorOffsetDiv = startId;\n                        anchorOffset = selectionRange.endOffset;\n                        focusOffset = selectionRange.startOffset;\n                        focusOffsetDiv = endId;\n                    }\n                    else {\n                        anchorOffsetDiv = endId;\n                        anchorOffset = selectionRange.startOffset;\n                        focusOffsetDiv = startId;\n                        focusOffset = selectionRange.endOffset;\n                    }\n                }\n                else {\n                    // tslint:disable-next-line:radix\n                    anchorOffsetDiv = parseInt(selectionRange.startNode.split('text_')[1].split('_')[1]);\n                    // tslint:disable-next-line:radix\n                    focusOffsetDiv = parseInt(selectionRange.endNode.split('text_')[1].split('_')[1]);\n                    anchorOffset = selectionRange.startOffset;\n                    focusOffset = selectionRange.endOffset;\n                }\n                window.getSelection().removeAllRanges();\n                // tslint:disable-next-line:max-line-length\n                this.pdfViewerBase.textLayer.applySpanForSelection(pageNumber, pageNumber, anchorOffsetDiv, focusOffsetDiv, anchorOffset, focusOffset);\n                if (this.pdfViewer.textSearchModule) {\n                    this.pdfViewer.textSearchModule.searchAfterSelection();\n                }\n            }\n        }\n    };\n    TextSelection.prototype.applySelectionMouseScroll = function (pageNumber) {\n        var selectionObject = this.getSelectionRangeFromArray(pageNumber);\n        var isSelectionAvailable = selectionObject.isSelectionAvailable;\n        if (isSelectionAvailable) {\n            var selectionRange = selectionObject.selectionRange;\n            var selection = window.getSelection();\n            var anchorNode = document.getElementById(selectionRange.startNode).childNodes[0];\n            var focusNode = document.getElementById(selectionRange.endNode).childNodes[0];\n            var range = document.createRange();\n            if (selection.anchorNode === null) {\n                if (!selectionRange.isBackward) {\n                    range.setStart(anchorNode, selectionRange.startOffset);\n                    range.setEnd(focusNode, selectionRange.endOffset);\n                }\n                else {\n                    range.setStart(focusNode, selectionRange.endOffset);\n                    range.setEnd(anchorNode, selectionRange.startOffset);\n                }\n            }\n            else {\n                // tslint:disable-next-line\n                var anchorPageIndex = isNaN(parseInt(selection.anchorNode.parentElement.id.split('_text_')[1])) ? parseInt(selection.anchorNode.id.split('_pageDiv_')[1]) : parseInt(selection.anchorNode.parentElement.id.split('_text_')[1]);\n                if (isNaN(anchorPageIndex)) {\n                    // tslint:disable-next-line:radix\n                    anchorPageIndex = parseInt(selection.anchorNode.id.split('_text_')[1]);\n                }\n                // tslint:disable-next-line\n                var focusPageIndex = isNaN(parseInt(selection.focusNode.parentElement.id.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_pageDiv_')[1]) : parseInt(selection.focusNode.parentElement.id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                var currentAnchorIndex = parseInt(selectionRange.startNode.split('_text_')[1]);\n                if ((anchorPageIndex === focusPageIndex) && (anchorPageIndex === currentAnchorIndex)) {\n                    if (!selectionRange.isBackward) {\n                        range.setStart(anchorNode, selectionRange.startOffset);\n                        range.setEnd(focusNode, selectionRange.endOffset);\n                    }\n                    else {\n                        range.setStart(focusNode, selectionRange.endOffset);\n                        range.setEnd(anchorNode, selectionRange.startOffset);\n                    }\n                }\n                else {\n                    if (!selectionRange.isBackward) {\n                        // tslint:disable-next-line:max-line-length\n                        if (anchorPageIndex < currentAnchorIndex && currentAnchorIndex < focusPageIndex && anchorPageIndex !== focusPageIndex) {\n                            range.setStart(selection.anchorNode, selection.anchorOffset);\n                            range.setEnd(selection.focusNode, selection.focusOffset);\n                        }\n                        else if (anchorPageIndex < currentAnchorIndex) {\n                            range.setStart(selection.anchorNode, selection.anchorOffset);\n                            range.setEnd(focusNode, selectionRange.endOffset);\n                        }\n                        else {\n                            range.setStart(anchorNode, selectionRange.startOffset);\n                            range.setEnd(selection.focusNode, selection.focusOffset);\n                        }\n                    }\n                    else {\n                        var isBackward = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n                        // tslint:disable-next-line:max-line-length\n                        if (anchorPageIndex > currentAnchorIndex && currentAnchorIndex > focusPageIndex && anchorPageIndex !== focusPageIndex) {\n                            if (!isBackward) {\n                                range.setStart(selection.anchorNode, selection.anchorOffset);\n                                range.setEnd(selection.focusNode, selection.focusOffset);\n                            }\n                            else {\n                                selection.extend(selection.focusNode, selection.focusOffset);\n                            }\n                            // tslint:disable-next-line:max-line-length\n                        }\n                        else if (anchorPageIndex < currentAnchorIndex && currentAnchorIndex < focusPageIndex && anchorPageIndex !== focusPageIndex) {\n                            if (!isBackward) {\n                                range.setStart(selection.anchorNode, selection.anchorOffset);\n                                range.setEnd(selection.focusNode, selection.focusOffset);\n                            }\n                            else {\n                                selection.extend(selection.focusNode, selection.focusOffset);\n                            }\n                        }\n                        else if (anchorPageIndex < currentAnchorIndex) {\n                            if (!isBackward) {\n                                if (currentAnchorIndex !== this.selectionRangeArray[0].pageNumber) {\n                                    range.setStart(selection.anchorNode, selection.anchorOffset);\n                                    range.setEnd(focusNode, selectionRange.endOffset);\n                                }\n                                else {\n                                    range.setStart(selection.anchorNode, selection.anchorOffset);\n                                    range.setEnd(anchorNode, selectionRange.startOffset);\n                                }\n                            }\n                            else {\n                                if (currentAnchorIndex !== this.selectionRangeArray[0].pageNumber) {\n                                    this.extendCurrentSelection(focusNode.parentElement, selectionRange.endOffset, selection, range);\n                                }\n                                else {\n                                    this.extendCurrentSelection(anchorNode.parentElement, selectionRange.startOffset, selection, range);\n                                }\n                            }\n                        }\n                        else if (anchorPageIndex === currentAnchorIndex) {\n                            if (currentAnchorIndex === focusPageIndex) {\n                                range.setStart(anchorNode, selectionRange.startOffset);\n                                range.setEnd(anchorNode, selectionRange.startOffset);\n                                selection.removeAllRanges();\n                                selection.addRange(range);\n                                range = document.createRange();\n                                selection.extend(focusNode, selectionRange.endOffset);\n                            }\n                            else {\n                                if (isBackward) {\n                                    this.extendCurrentSelection(focusNode.parentElement, selectionRange.endOffset, selection, range);\n                                }\n                                else {\n                                    range.setStart(focusNode, selectionRange.endOffset);\n                                    range.setEnd(selection.focusNode, selection.focusOffset);\n                                }\n                            }\n                        }\n                        else if (focusPageIndex === currentAnchorIndex) {\n                            if (isBackward) {\n                                selection.extend(selection.focusNode, selection.focusOffset);\n                            }\n                            else {\n                                range.setStart(selection.anchorNode, selection.anchorOffset);\n                                range.setEnd(selection.focusNode, selection.focusOffset);\n                            }\n                        }\n                        else if (anchorPageIndex > currentAnchorIndex) {\n                            // tslint:disable-next-line:radix\n                            var currentAnchorOffset = parseInt(selectionRange.startNode.split('_' + currentAnchorIndex + '_')[1]);\n                            // tslint:disable-next-line:radix\n                            var currentFocusOffset = parseInt(selectionRange.endNode.split('_' + currentAnchorIndex + '_')[1]);\n                            if (isBackward) {\n                                if (currentAnchorIndex !== this.selectionRangeArray[0].pageNumber) {\n                                    if (currentAnchorOffset < currentFocusOffset) {\n                                        this.extendCurrentSelection(anchorNode.parentElement, selectionRange.startOffset, selection, range);\n                                    }\n                                    else {\n                                        range.setStart(focusNode.parentElement, selectionRange.endOffset);\n                                        range.setEnd(selection.anchorNode, selection.anchorOffset);\n                                    }\n                                }\n                                else {\n                                    this.extendCurrentSelection(focusNode.parentElement, selectionRange.endOffset, selection, range);\n                                }\n                            }\n                            else {\n                                if (currentAnchorOffset < currentFocusOffset) {\n                                    range.setStart(anchorNode, selectionRange.startOffset);\n                                    range.setEnd(selection.focusNode, selection.focusOffset);\n                                }\n                                else {\n                                    range.setStart(focusNode, selectionRange.endOffset);\n                                    range.setEnd(selection.focusNode, selection.focusOffset);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (range.toString() !== '') {\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.maintainSelectionOnScroll = function (pageNumber, isStich) {\n        var isSelectionAvailable = this.isSelectionAvailableOnScroll(pageNumber);\n        if (this.isTextSelection && !isSelectionAvailable) {\n            this.maintainSelection(pageNumber, isStich);\n        }\n    };\n    TextSelection.prototype.maintainSelection = function (pageNumber, isStich) {\n        var selection = window.getSelection();\n        if (this.isTextSelection && (selection.type === 'Range' || (!selection.type && !selection.isCollapsed))) {\n            // tslint:disable-next-line\n            var anchorPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n            // tslint:disable-next-line\n            var focusPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n            if (isNaN(focusPageId) && selection.anchorNode !== null) {\n                var backward_1 = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n                if (!backward_1) {\n                    // tslint:disable-next-line:radix\n                    var lastChildNode = this.pdfViewerBase.pageContainer.lastChild;\n                    if (lastChildNode.classList.contains('e-pv-touch-select-drop')) {\n                        // tslint:disable-next-line:radix\n                        focusPageId = parseInt(lastChildNode.previousSibling.previousSibling.id.split('_pageDiv_')[1]);\n                    }\n                    else {\n                        // tslint:disable-next-line:radix\n                        focusPageId = parseInt(lastChildNode.id.split('_pageDiv_')[1]);\n                    }\n                }\n                else {\n                    // tslint:disable-next-line:radix\n                    focusPageId = parseInt(this.pdfViewerBase.pageContainer.firstChild.id.split('_pageDiv_')[1]);\n                }\n            }\n            var backward = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n            if (this.isTouchSelection && pageNumber > focusPageId && pageNumber > anchorPageId) {\n                return;\n            }\n            if (anchorPageId === focusPageId) {\n                var selectionObject = null;\n                var selectionBounds = this.getSelectionBounds(selection.getRangeAt(0), pageNumber);\n                var selectionRectBounds = this.getSelectionRectangleBounds(selection.getRangeAt(0), pageNumber);\n                // tslint:disable-next-line:max-line-length\n                var anchorOffsetValue = (this.getNodeElementFromNode(selection.anchorNode).childNodes.length === 1) ? selection.anchorOffset : this.getCorrectOffset(selection.anchorNode, selection.anchorOffset);\n                var focusOffsetValue = (this.getNodeElementFromNode(selection.focusNode).childNodes.length === 1) ? selection.focusOffset : this.getCorrectOffset(selection.focusNode, selection.focusOffset);\n                selectionObject = {\n                    isBackward: backward, startNode: this.getNodeElementFromNode(selection.anchorNode).id,\n                    startOffset: anchorOffsetValue, endNode: this.getNodeElementFromNode(selection.focusNode).id,\n                    // tslint:disable-next-line:max-line-length\n                    endOffset: focusOffsetValue, textContent: selection.toString(), pageNumber: pageNumber, bound: selectionBounds, rectangleBounds: selectionRectBounds\n                };\n                this.pushSelectionRangeObject(selectionObject, pageNumber);\n            }\n            else {\n                var selectionObject = this.createRangeObjectOnScroll(pageNumber, anchorPageId, focusPageId);\n                if (selectionObject) {\n                    this.pushSelectionRangeObject(selectionObject, pageNumber);\n                    if (isStich) {\n                        this.stichSelection(backward, selection, pageNumber);\n                    }\n                }\n            }\n        }\n    };\n    TextSelection.prototype.getCorrectOffset = function (node, offset) {\n        var offsetValue = 0;\n        var parentElement = this.getNodeElementFromNode(node);\n        for (var i = 0; i < parentElement.childNodes.length; i++) {\n            if (parentElement.childNodes[i] === node) {\n                offsetValue = offsetValue + offset;\n                break;\n            }\n            else {\n                offsetValue = offsetValue + parentElement.childNodes[i].textContent.length;\n            }\n        }\n        return offsetValue;\n    };\n    TextSelection.prototype.pushSelectionRangeObject = function (selectionObject, pageNumber) {\n        if (this.isTouchSelection) {\n            var currentObject = this.selectionRangeArray.filter(\n            // tslint:disable-next-line\n            function (obj) {\n                return (obj.pageNumber === pageNumber);\n            });\n            if (currentObject.length > 0) {\n                var currentObjectIndex = this.selectionRangeArray.indexOf(currentObject[0]);\n                this.selectionRangeArray.splice(currentObjectIndex, 1, selectionObject);\n                return;\n            }\n        }\n        var nextPageObject = this.selectionRangeArray.filter(\n        // tslint:disable-next-line\n        function (obj) {\n            return (obj.pageNumber === (pageNumber + 1));\n        });\n        if (nextPageObject.length === 0) {\n            if (this.isTouchSelection && this.selectionRangeArray.length !== 0) {\n                var prevPageObject = this.selectionRangeArray.filter(\n                // tslint:disable-next-line\n                function (obj) {\n                    return (obj.pageNumber === (pageNumber - 1));\n                });\n                if (prevPageObject.length !== 0) {\n                    var prevIndex = this.selectionRangeArray.indexOf(prevPageObject[0]);\n                    this.selectionRangeArray.splice(prevIndex + 1, 0, selectionObject);\n                }\n                else {\n                    var firstObject = this.selectionRangeArray[0];\n                    if (pageNumber < firstObject.pageNumber) {\n                        this.selectionRangeArray.splice(0, 0, selectionObject);\n                    }\n                    else {\n                        this.selectionRangeArray.push(selectionObject);\n                    }\n                }\n            }\n            else {\n                this.selectionRangeArray.push(selectionObject);\n            }\n        }\n        else {\n            var index = this.selectionRangeArray.indexOf(nextPageObject[0]);\n            this.selectionRangeArray.splice(index, 0, selectionObject);\n        }\n    };\n    TextSelection.prototype.extendCurrentSelection = function (element, offset, selection, range) {\n        var currentFocusOffset = selection.focusOffset;\n        var currentFocusElement = selection.focusNode.parentElement.id;\n        // tslint:disable-next-line\n        var focusPageId = isNaN(parseInt(currentFocusElement.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_pageDiv_')[1]) : parseInt(currentFocusElement.split('_text_')[1]);\n        // tslint:disable-next-line:radix\n        if (isNaN(parseInt(currentFocusElement.split('_text_')[1]))) {\n            // tslint:disable-next-line\n            currentFocusElement = this.pdfViewerBase.getElement('_textLayer_' + (focusPageId + 1)).firstChild.id;\n        }\n        range.setStart(element.childNodes[0], offset);\n        range.setEnd(element.childNodes[0], offset);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        selection.extend(document.getElementById(currentFocusElement).childNodes[0], currentFocusOffset);\n    };\n    TextSelection.prototype.stichSelection = function (backward, selection, pageNumber) {\n        var range = document.createRange();\n        var nextPageElement;\n        if (backward) {\n            nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber - 1));\n            if (nextPageElement) {\n                var lastElement = nextPageElement.lastChild;\n                if (lastElement) {\n                    this.extendCurrentSelection(lastElement, this.getTextLastLength(lastElement), selection, range);\n                }\n                else {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber - 2));\n                    lastElement = nextPageElement.lastChild;\n                    this.extendCurrentSelection(lastElement, this.getTextLastLength(lastElement), selection, range);\n                }\n            }\n            else {\n                nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber + 1));\n                var lastElement = nextPageElement.firstChild;\n                this.extendCurrentSelection(lastElement, 0, selection, range);\n            }\n        }\n        else {\n            nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber + 1));\n            if (nextPageElement) {\n                var firstElement = nextPageElement.firstChild;\n                if (!firstElement) {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (pageNumber + 2));\n                    firstElement = nextPageElement.firstChild;\n                    range.setStart(firstElement.childNodes[0], 0);\n                }\n                else {\n                    range.setStart(firstElement.childNodes[0], 0);\n                }\n                range.setEnd(selection.focusNode, selection.focusOffset);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.textSelectionOnMouseWheel = function (currentPageNumber) {\n        this.isMouseLeaveSelection = true;\n        this.stichSelectionOnScroll(currentPageNumber);\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.stichSelectionOnScroll = function (currentPageNumber) {\n        var selection = window.getSelection();\n        if (this.isTextSelection) {\n            // tslint:disable-next-line:radix\n            var anchorPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n            // tslint:disable-next-line:radix\n            var focusPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n            var nextPageElement = void 0;\n            if (anchorPageId !== currentPageNumber && focusPageId !== currentPageNumber) {\n                var backward = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n                if (!backward) {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (currentPageNumber - 1));\n                    if (nextPageElement) {\n                        var lastElement = nextPageElement.lastChild;\n                        if (lastElement) {\n                            this.extendSelectionStich(lastElement.childNodes[0], this.getTextLastLength(lastElement), selection);\n                        }\n                        else {\n                            nextPageElement = this.pdfViewerBase.getElement('_textLayer_' + currentPageNumber);\n                            var lastElement_1 = nextPageElement.firstChild;\n                            this.extendSelectionStich(lastElement_1.childNodes[0], 0, selection);\n                        }\n                    }\n                }\n                else {\n                    nextPageElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (currentPageNumber - 1));\n                    if (nextPageElement) {\n                        var lastElement = nextPageElement.firstChild;\n                        if (lastElement) {\n                            this.extendSelectionStich(lastElement.childNodes[0], 0, selection);\n                        }\n                    }\n                }\n            }\n            this.maintainSelectionArray();\n        }\n    };\n    TextSelection.prototype.extendSelectionStich = function (node, offset, selection) {\n        if (selection.extend) {\n            selection.extend(node, offset);\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.createRangeObjectOnScroll = function (pageNumber, anchorPageId, focusPageId) {\n        var selectionObject = null;\n        var selection = window.getSelection();\n        if (selection.anchorNode !== null) {\n            var backward = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n            var firstElement = void 0;\n            var lastElement = void 0;\n            var startOffset = void 0;\n            var endOffset = void 0;\n            var element = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageNumber);\n            if (element.childNodes) {\n                if (!backward) {\n                    if (pageNumber === anchorPageId) {\n                        firstElement = this.getNodeElementFromNode(selection.anchorNode);\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = this.getCorrectOffset(selection.anchorNode, selection.anchorOffset);\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                    else if (pageNumber > anchorPageId && pageNumber < focusPageId) {\n                        // tslint:disable-next-line:max-line-length\n                        firstElement = element.firstChild;\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = 0;\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                    else if (pageNumber === focusPageId) {\n                        // tslint:disable-next-line:max-line-length\n                        firstElement = element.firstChild;\n                        var pageNumberIndex = this.getNodeElementFromNode(selection.focusNode).id.indexOf(focusPageId.toString());\n                        if (pageNumberIndex !== -1) {\n                            lastElement = this.getNodeElementFromNode(selection.focusNode);\n                            endOffset = this.getCorrectOffset(selection.focusNode, selection.focusOffset);\n                        }\n                        else {\n                            // tslint:disable-next-line:max-line-length\n                            lastElement = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + focusPageId).lastChild;\n                            endOffset = this.getTextLastLength(lastElement);\n                        }\n                        startOffset = 0;\n                    }\n                }\n                else {\n                    if (pageNumber === anchorPageId) {\n                        firstElement = this.getNodeElementFromNode(selection.anchorNode);\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.firstChild;\n                        startOffset = this.getCorrectOffset(selection.anchorNode, selection.anchorOffset);\n                        endOffset = 0;\n                    }\n                    else if (pageNumber < anchorPageId && pageNumber > focusPageId) {\n                        // tslint:disable-next-line:max-line-length\n                        firstElement = element.firstChild;\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = 0;\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                    else if (pageNumber === focusPageId) {\n                        firstElement = this.getNodeElementFromNode(selection.focusNode);\n                        // tslint:disable-next-line:max-line-length\n                        lastElement = element.lastChild;\n                        startOffset = this.getCorrectOffset(selection.focusNode, selection.focusOffset);\n                        endOffset = this.getTextLastLength(lastElement);\n                    }\n                }\n                if (firstElement && lastElement) {\n                    // tslint:disable-next-line:max-line-length\n                    var selectionRangeObject = this.getSelectionRangeObject(firstElement.id, startOffset, lastElement.id, endOffset, pageNumber);\n                    var selectionString = selectionRangeObject.toString();\n                    var selectionBound = this.getSelectionBounds(selectionRangeObject, pageNumber);\n                    var selectionRectBounds = this.getSelectionRectangleBounds(selectionRangeObject, pageNumber);\n                    // tslint:disable-next-line:max-line-length\n                    return selectionObject = { isBackward: backward, startNode: firstElement.id, startOffset: startOffset, endNode: lastElement.id, endOffset: endOffset, textContent: selectionString, pageNumber: pageNumber, bound: selectionBound, rectangleBounds: selectionRectBounds };\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        return null;\n    };\n    TextSelection.prototype.getSelectionRangeObject = function (startNode, startOffset, endNode, endOffset, pageNumber) {\n        var startElement = document.getElementById(startNode).childNodes[0];\n        var endElement = document.getElementById(endNode).childNodes[0];\n        // tslint:disable-next-line:radix\n        var currentAnchorOffset = parseInt(startNode.split('_' + pageNumber + '_')[1]);\n        // tslint:disable-next-line:radix\n        var currentFocusOffset = parseInt(endNode.split('_' + pageNumber + '_')[1]);\n        var range = document.createRange();\n        if (currentAnchorOffset < currentFocusOffset) {\n            range.setStart(startElement, startOffset);\n            range.setEnd(endElement, endOffset);\n        }\n        else {\n            range.setStart(endElement, endOffset);\n            range.setEnd(startElement, startOffset);\n        }\n        return range;\n    };\n    TextSelection.prototype.getSelectionBounds = function (range, pageNumber) {\n        var startElement = this.getNodeElementFromNode(range.startContainer);\n        var endElement = this.getNodeElementFromNode(range.endContainer);\n        var bounds = null;\n        if (startElement !== endElement) {\n            var newStartRange = document.createRange();\n            // tslint:disable-next-line:max-line-length\n            var startRange = this.createRangeForSelection(range.startContainer, range.endContainer, range.startOffset, range.endOffset, newStartRange);\n            bounds = this.normalizeBounds(startRange.getBoundingClientRect(), pageNumber);\n        }\n        else {\n            bounds = this.normalizeBounds(range.getBoundingClientRect(), pageNumber);\n        }\n        return bounds;\n    };\n    TextSelection.prototype.getSelectionRectangleBounds = function (range, pageNumber) {\n        var selectionBounds = [];\n        var startElement = this.getNodeElementFromNode(range.startContainer);\n        var endElement = this.getNodeElementFromNode(range.endContainer);\n        var bounds = null;\n        if (startElement !== endElement) {\n            var startOffset = 0;\n            var endOffset = 0;\n            var currentId = 0;\n            var anchorPageId = this.pdfViewerBase.textLayer.getPageIndex(range.startContainer);\n            var anchorTextId = this.pdfViewerBase.textLayer.getTextIndex(range.startContainer, anchorPageId);\n            var focusPageId = this.pdfViewerBase.textLayer.getPageIndex(range.endContainer);\n            var focusTextId = this.pdfViewerBase.textLayer.getTextIndex(range.endContainer, focusPageId);\n            var textDivs = this.pdfViewerBase.getElement('_textLayer_' + pageNumber).childNodes;\n            if (pageNumber === anchorPageId) {\n                currentId = anchorTextId;\n            }\n            else {\n                currentId = 0;\n            }\n            for (var j = currentId; j < textDivs.length; j++) {\n                var textElement = textDivs[j];\n                if (j === anchorTextId) {\n                    startOffset = range.startOffset;\n                }\n                else {\n                    startOffset = 0;\n                }\n                if (j === focusTextId) {\n                    endOffset = range.endOffset;\n                }\n                else {\n                    endOffset = textElement.textContent.length;\n                }\n                var newRange = document.createRange();\n                for (var k = 0; k < textElement.childNodes.length; k++) {\n                    var node = textElement.childNodes[k];\n                    newRange.setStart(node, startOffset);\n                    newRange.setEnd(node, endOffset);\n                }\n                var boundingRect = this.normalizeBounds(newRange.getBoundingClientRect(), pageNumber);\n                selectionBounds.push(boundingRect);\n                newRange.detach();\n                if (j === focusTextId) {\n                    break;\n                }\n            }\n        }\n        else {\n            bounds = this.normalizeBounds(range.getBoundingClientRect(), pageNumber);\n            selectionBounds.push(bounds);\n        }\n        return selectionBounds;\n    };\n    TextSelection.prototype.getTextId = function (elementId) {\n        var index = elementId.lastIndexOf('_');\n        var divId = elementId.substring(index + 1, elementId.length);\n        // tslint:disable-next-line:radix\n        return parseInt(divId);\n    };\n    TextSelection.prototype.normalizeBounds = function (bound, pageNumber) {\n        var newBounds = null;\n        var currentPageElement = this.pdfViewerBase.getElement('_pageDiv_' + pageNumber);\n        var currentPageRect = currentPageElement.getBoundingClientRect();\n        newBounds = {\n            bottom: this.getMagnifiedValue(bound.bottom - currentPageRect.top), height: this.getMagnifiedValue(bound.height),\n            left: this.getMagnifiedValue(bound.left - currentPageRect.left), top: this.getMagnifiedValue(bound.top - currentPageRect.top),\n            right: this.getMagnifiedValue(bound.right - currentPageRect.left), width: this.getMagnifiedValue(bound.width)\n        };\n        return newBounds;\n    };\n    TextSelection.prototype.getMagnifiedValue = function (value) {\n        return value / this.pdfViewerBase.getZoomFactor();\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.getCurrentSelectionBounds = function (pageNumber) {\n        var bound = null;\n        var ranges = this.selectionRangeArray;\n        for (var i = 0; i < ranges.length; i++) {\n            if (ranges[i] !== null) {\n                if (pageNumber === ranges[i].pageNumber) {\n                    bound = ranges[i].bound;\n                }\n            }\n        }\n        return bound;\n    };\n    TextSelection.prototype.createRangeForSelection = function (start, end, startOffset, endOffset, range) {\n        range.setStart(start, startOffset);\n        range.setEnd(end, endOffset);\n        return range;\n    };\n    TextSelection.prototype.maintainSelectionArray = function () {\n        var _this = this;\n        if (this.selectionRangeArray.length !== 0) {\n            var selection = window.getSelection();\n            var isBackward = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n            // tslint:disable-next-line\n            var anchorPage = isNaN(parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1])) ? parseInt(selection.anchorNode.id.split('_pageDiv_')[1]) : parseInt(selection.anchorNode.parentElement.id.split('_text_')[1]);\n            if (isNaN(anchorPage)) {\n                // tslint:disable-next-line:radix\n                anchorPage = parseInt(selection.anchorNode.id.split('_text_')[1]);\n            }\n            // tslint:disable-next-line\n            var focusPage_1 = isNaN(parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_pageDiv_')[1]) : parseInt(selection.focusNode.parentElement.id.split('_text_')[1]);\n            if (isNaN(focusPage_1)) {\n                // tslint:disable-next-line\n                focusPage_1 = isNaN(parseInt(selection.focusNode.id.split('_text_')[1])) ? parseInt(selection.focusNode.id.split('_textLayer_')[1]) : parseInt(selection.focusNode.id.split('_text_')[1]);\n            }\n            var arrayObject = [];\n            if (!isBackward) {\n                arrayObject = this.selectionRangeArray.filter(\n                // tslint:disable-next-line\n                function (obj) {\n                    return (!((_this.selectionStartPage <= obj.pageNumber) && (obj.pageNumber < focusPage_1)));\n                });\n            }\n            else {\n                arrayObject = this.selectionRangeArray.filter(\n                // tslint:disable-next-line\n                function (obj) {\n                    return (!((focusPage_1 < obj.pageNumber) && (obj.pageNumber <= _this.selectionStartPage)));\n                });\n            }\n            if (arrayObject.length > 0) {\n                for (var i = 0; i < arrayObject.length; i++) {\n                    var indexInArray = this.selectionRangeArray.indexOf(arrayObject[i]);\n                    if (indexInArray !== -1) {\n                        this.selectionRangeArray.splice(indexInArray, 1);\n                    }\n                }\n                if (this.selectionRangeArray.length === 1) {\n                    // tslint:disable-next-line:max-line-length\n                    if (this.selectionRangeArray[0].pageNumber === anchorPage || this.selectionRangeArray[0].pageNumber === focusPage_1) {\n                        arrayObject = [];\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.applySpanForSelection = function () {\n        var selection = window.getSelection();\n        // tslint:disable-next-line:max-line-length\n        if (selection.anchorNode !== null && this.pdfViewerBase.viewerContainer.contains(this.getNodeElementFromNode(selection.anchorNode))) {\n            var isBackWardSelection = this.pdfViewerBase.textLayer.isBackWardSelection(selection);\n            var anchorPageId = void 0;\n            var focusPageId = void 0;\n            var anchorOffsetDiv = void 0;\n            var focusOffsetDiv = void 0;\n            var anchorOffset = void 0;\n            var focusOffset = void 0;\n            if (isBackWardSelection) {\n                // tslint:disable-next-line:radix\n                anchorPageId = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                focusPageId = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1]);\n                // tslint:disable-next-line:radix\n                anchorOffsetDiv = parseInt(this.getNodeElementFromNode(selection.focusNode).id.split('_text_')[1].split('_')[1]);\n                // tslint:disable-next-line:radix\n                focusOffsetDiv = parseInt(this.getNodeElementFromNode(selection.anchorNode).id.split('_text_')[1].split('_')[1]);\n                anchorOffset = selection.focusOffset;\n                focusOffset = selection.anchorOffset;\n            }\n            else {\n                var anchorElement = this.getNodeElementFromNode(selection.anchorNode);\n                var focusElement = this.getNodeElementFromNode(selection.focusNode);\n                // tslint:disable-next-line\n                anchorPageId = (anchorElement.id.indexOf('text_') !== -1) ? parseInt(anchorElement.id.split('text_')[1]) : parseInt(anchorElement.id.split('_textLayer_')[1]);\n                // tslint:disable-next-line\n                focusPageId = (focusElement.id.indexOf('text_') !== -1) ? parseInt(focusElement.id.split('text_')[1]) : parseInt(focusElement.id.split('_textLayer_')[1]);\n                var isFocusChanged = false;\n                if (this.isTouchSelection) {\n                    if (selection.focusNode === this.pdfViewerBase.pageContainer) {\n                        var lastChildNode = this.pdfViewerBase.pageContainer.lastChild;\n                        if (lastChildNode.classList.contains('e-pv-touch-select-drop')) {\n                            var lastPageDiv = lastChildNode.previousSibling.previousSibling;\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastPageDiv.id.split('_pageDiv_')[1]);\n                            focusElement = this.pdfViewerBase.getElement('_textLayer_' + focusPageId).lastChild;\n                            isFocusChanged = true;\n                        }\n                        else if (lastChildNode.classList.contains('e-pv-page-div')) {\n                            var lastPageDiv = lastChildNode;\n                            // tslint:disable-next-line:radix\n                            focusPageId = parseInt(lastPageDiv.id.split('_pageDiv_')[1]);\n                            focusElement = this.pdfViewerBase.getElement('_textLayer_' + focusPageId).lastChild;\n                            isFocusChanged = true;\n                        }\n                    }\n                }\n                if (anchorElement.classList.contains('e-pv-maintaincontent')) {\n                    anchorElement = this.getNodeElementFromNode(anchorElement);\n                    // tslint:disable-next-line:radix\n                    anchorPageId = parseInt(anchorElement.id.split('text_')[1]);\n                }\n                if (focusElement.classList.contains('e-pv-maintaincontent')) {\n                    focusElement = this.getNodeElementFromNode(focusElement);\n                    // tslint:disable-next-line:radix\n                    focusPageId = parseInt(focusElement.id.split('text_')[1]);\n                }\n                if (anchorPageId === focusPageId) {\n                    if (anchorElement.contains(focusElement)) {\n                        anchorElement = focusElement;\n                    }\n                    if (focusElement.contains(anchorElement)) {\n                        focusElement = anchorElement;\n                    }\n                }\n                // tslint:disable-next-line:radix\n                anchorOffsetDiv = (anchorElement.id.split('text_')[1]) ? parseInt(anchorElement.id.split('text_')[1].split('_')[1]) : null;\n                // tslint:disable-next-line:radix\n                focusOffsetDiv = (focusElement.id.split('text_')[1]) ? parseInt(focusElement.id.split('text_')[1].split('_')[1]) : null;\n                anchorOffsetDiv = isNaN(anchorOffsetDiv) ? focusOffsetDiv : anchorOffsetDiv;\n                focusOffsetDiv = isNaN(focusOffsetDiv) ? anchorOffsetDiv : focusOffsetDiv;\n                anchorOffset = selection.anchorOffset;\n                focusOffset = !isFocusChanged ? selection.focusOffset : focusElement.textContent.length;\n            }\n            selection.removeAllRanges();\n            this.pdfViewerBase.textLayer.clearDivSelection();\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.textLayer.applySpanForSelection(anchorPageId, focusPageId, anchorOffsetDiv, focusOffsetDiv, anchorOffset, focusOffset);\n            if (this.pdfViewer.textSearchModule) {\n                this.pdfViewer.textSearchModule.searchAfterSelection();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.initiateTouchSelection = function (event, x, y) {\n        // tslint:disable-next-line\n        var element = event.target;\n        var belowElements = document.elementsFromPoint(event.touches[0].clientX, event.touches[0].clientY);\n        if (belowElements.length !== 0) {\n            if (belowElements[0].classList.contains('e-pv-hyperlink') && belowElements[1].classList.contains('e-pv-text')) {\n                element = belowElements[1];\n            }\n        }\n        this.selectAWord(element, x, y, true);\n        this.createTouchSelectElement(event);\n        this.maintainSelectionOnZoom(true, false);\n        this.applySpanForSelection();\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.selectTextByTouch = function (element, x, y, isForwardSelection, target, isCloserMovement) {\n        var isTextSelected = false;\n        if (element.nodeType === element.TEXT_NODE) {\n            var rangeObject = element.ownerDocument.createRange();\n            var selection = window.getSelection();\n            rangeObject.selectNodeContents(element);\n            var currentPosition = 0;\n            var endPosition = rangeObject.endOffset;\n            while (currentPosition < endPosition) {\n                rangeObject.setStart(element, currentPosition);\n                rangeObject.setEnd(element, currentPosition + 1);\n                var rangeBounds = rangeObject.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    if (selection.anchorNode != null) {\n                        if (isForwardSelection) {\n                            rangeObject.setStart(selection.anchorNode, selection.anchorOffset);\n                        }\n                        // tslint:disable-next-line:max-line-length\n                        rangeObject = this.setTouchSelectionStartPosition(selection, rangeObject, isForwardSelection, target, element, currentPosition, isCloserMovement);\n                        if (isForwardSelection) {\n                            selection.extend(element, currentPosition);\n                        }\n                        isTextSelected = true;\n                    }\n                    rangeObject.detach();\n                    return isTextSelected;\n                }\n                currentPosition += 1;\n            }\n        }\n        else {\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var range = element.childNodes[i].ownerDocument.createRange();\n                range.selectNodeContents(element.childNodes[i]);\n                var rangeBounds = range.getBoundingClientRect();\n                if (rangeBounds.left <= x && rangeBounds.right >= x && rangeBounds.top <= y && rangeBounds.bottom >= y) {\n                    range.detach();\n                    return (this.selectTextByTouch(element.childNodes[i], x, y, isForwardSelection, target, isCloserMovement));\n                }\n                else {\n                    range.detach();\n                }\n            }\n        }\n        return isTextSelected;\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.setTouchSelectionStartPosition = function (selection, range, isForwardSelection, target, element, currentPosition, isCloserMovement) {\n        if (isForwardSelection) {\n            if (target === 'left') {\n                // tslint:disable-next-line\n                var startNode = this.getTouchFocusElement(selection, true);\n                range.setStart(startNode.focusNode, startNode.focusOffset);\n                range.setEnd(element, currentPosition);\n                this.selectionAnchorTouch = { anchorNode: range.endContainer.parentElement.id, anchorOffset: range.endOffset };\n            }\n            else if (target === 'right') {\n                // tslint:disable-next-line\n                var startNode = this.getTouchAnchorElement(selection, false);\n                range.setStart(startNode.anchorNode, startNode.anchorOffset);\n                range.setEnd(element, currentPosition);\n                this.selectionFocusTouch = { focusNode: range.endContainer.parentElement.id, focusOffset: range.endOffset };\n            }\n        }\n        else {\n            if (target === 'left') {\n                if (!isCloserMovement) {\n                    // tslint:disable-next-line\n                    var startNode = this.getTouchFocusElement(selection, false);\n                    range.setStart(element, currentPosition);\n                    // tslint:disable-next-line:radix\n                    range.setEnd(startNode.focusNode, startNode.focusOffset);\n                    if (range.toString() === '') {\n                        range.setStart(element, currentPosition);\n                        range.setEnd(selection.focusNode, selection.focusOffset);\n                    }\n                    this.selectionAnchorTouch = { anchorNode: range.startContainer.parentElement.id, anchorOffset: range.startOffset };\n                }\n                else {\n                    range.setStart(element, currentPosition);\n                    range.setEnd(selection.focusNode, selection.focusOffset);\n                    this.selectionAnchorTouch = { anchorNode: range.startContainer.parentElement.id, anchorOffset: range.startOffset };\n                }\n            }\n            else if (target === 'right') {\n                // tslint:disable-next-line\n                var startNode = this.getTouchAnchorElement(selection, true);\n                range.setStart(element, currentPosition);\n                range.setEnd(startNode.anchorNode, startNode.anchorOffset);\n                if (range.toString() === '') {\n                    range.setStart(startNode.anchorNode, startNode.anchorOffset);\n                    range.setEnd(element, currentPosition);\n                }\n                this.selectionFocusTouch = { focusNode: range.startContainer.parentElement.id, focusOffset: range.startOffset };\n            }\n        }\n        selection.removeAllRanges();\n        selection.addRange(range);\n        return range;\n    };\n    TextSelection.prototype.getTouchAnchorElement = function (selection, isCurrentFocus) {\n        var element = document.getElementById(this.selectionAnchorTouch.anchorNode.toString());\n        var startNode = null;\n        var offset = 0;\n        if (element) {\n            startNode = element.childNodes[0];\n            // tslint:disable-next-line:radix\n            offset = parseInt(this.selectionAnchorTouch.anchorOffset.toString());\n        }\n        else {\n            if (isCurrentFocus) {\n                startNode = selection.focusNode;\n                offset = selection.focusOffset;\n            }\n            else {\n                startNode = selection.anchorNode;\n                offset = selection.anchorOffset;\n            }\n        }\n        return { anchorNode: startNode, anchorOffset: offset };\n    };\n    TextSelection.prototype.getTouchFocusElement = function (selection, isCurrentAnchor) {\n        var element = document.getElementById(this.selectionFocusTouch.focusNode.toString());\n        var startNode = null;\n        var offset = 0;\n        if (element) {\n            startNode = element.childNodes[0];\n            // tslint:disable-next-line:radix\n            offset = parseInt(this.selectionFocusTouch.focusOffset.toString());\n        }\n        else {\n            if (isCurrentAnchor) {\n                startNode = selection.anchorNode;\n                offset = selection.anchorOffset;\n            }\n            else {\n                startNode = selection.focusNode;\n                offset = selection.focusOffset;\n            }\n        }\n        return { focusNode: startNode, focusOffset: offset };\n    };\n    TextSelection.prototype.createTouchSelectElement = function (event) {\n        this.isTouchSelection = true;\n        var selection = window.getSelection();\n        if (selection.type === 'Range') {\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementLeft = createElement('div', { id: this.pdfViewer.element.id + '_touchSelect_droplet_left', className: 'e-pv-touch-select-drop' });\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementRight = createElement('div', { id: this.pdfViewer.element.id + '_touchSelect_droplet_right', className: 'e-pv-touch-select-drop' });\n            this.dropElementLeft = createElement('div', { className: 'e-pv-touch-ellipse' });\n            this.dropElementLeft.style.transform = 'rotate(0deg)';\n            this.dropDivElementLeft.appendChild(this.dropElementLeft);\n            this.dropElementRight = createElement('div', { className: 'e-pv-touch-ellipse' });\n            this.dropElementRight.style.transform = 'rotate(-90deg)';\n            this.dropDivElementRight.appendChild(this.dropElementRight);\n            this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementLeft);\n            this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementRight);\n            var range = selection.getRangeAt(0);\n            var rangePosition = range.getBoundingClientRect();\n            var dropElementRect = this.dropDivElementLeft.getBoundingClientRect();\n            // tslint:disable-next-line:max-line-length\n            var pageTopValue = this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber - 1].top;\n            var viewerLeftPosition = this.pdfViewerBase.viewerContainer.getBoundingClientRect().left;\n            var topClientValue = this.getClientValueTop(rangePosition.top, this.pdfViewerBase.currentPageNumber - 1);\n            // tslint:disable-next-line:max-line-length\n            var topPositionValue = topClientValue + pageTopValue * this.pdfViewerBase.getZoomFactor() + (dropElementRect.height / 2) * this.pdfViewerBase.getZoomFactor() + 'px';\n            this.dropDivElementLeft.style.top = topPositionValue;\n            this.dropDivElementLeft.style.left = rangePosition.left - (viewerLeftPosition + (dropElementRect.width)) + 'px';\n            this.dropDivElementRight.style.top = topPositionValue;\n            // tslint:disable-next-line:max-line-length\n            this.dropDivElementRight.style.left = rangePosition.left + rangePosition.width - viewerLeftPosition + 'px';\n            var currentPageLeft = this.pdfViewerBase.getElement('_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1)).getBoundingClientRect().left;\n            var currentRangeLeft = rangePosition.left - currentPageLeft;\n            // tslint:disable-next-line:max-line-length\n            this.topStoreLeft = { pageTop: pageTopValue, topClientValue: this.getMagnifiedValue(topClientValue), pageNumber: this.pdfViewerBase.currentPageNumber - 1, left: this.getMagnifiedValue(currentRangeLeft), isHeightNeeded: true };\n            // tslint:disable-next-line:max-line-length\n            this.topStoreRight = { pageTop: pageTopValue, topClientValue: this.getMagnifiedValue(topClientValue), pageNumber: this.pdfViewerBase.currentPageNumber - 1, left: this.getMagnifiedValue(currentRangeLeft + rangePosition.width), isHeightNeeded: true };\n            this.dropDivElementLeft.addEventListener('touchstart', this.onLeftTouchSelectElementTouchStart);\n            this.dropDivElementLeft.addEventListener('touchmove', this.onLeftTouchSelectElementTouchMove);\n            this.dropDivElementLeft.addEventListener('touchend', this.onLeftTouchSelectElementTouchEnd);\n            this.dropDivElementRight.addEventListener('touchstart', this.onRightTouchSelectElementTouchStart);\n            this.dropDivElementRight.addEventListener('touchmove', this.onRightTouchSelectElementTouchMove);\n            this.dropDivElementRight.addEventListener('touchend', this.onRightTouchSelectElementTouchEnd);\n            // tslint:disable-next-line:max-line-length\n            this.calculateContextMenuPosition(event.touches[0].clientY, event.touches[0].clientX);\n        }\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.calculateContextMenuPosition = function (top, left) {\n        top = top - this.pdfViewerBase.toolbarHeight;\n        if (Browser.isDevice) {\n            // tslint:disable-next-line\n            var contextTop = top - this.contextMenuHeight;\n            if (contextTop < this.pdfViewerBase.toolbarHeight) {\n                top = top + this.contextMenuHeight;\n            }\n            else {\n                top = contextTop;\n            }\n        }\n        // tslint:disable-next-line:max-line-length\n        this.pdfViewerBase.contextMenuModule.contextMenuObj.open(top, left - this.pdfViewerBase.viewerContainer.clientLeft, this.pdfViewerBase.viewerContainer);\n    };\n    TextSelection.prototype.initiateSelectionByTouch = function () {\n        this.pdfViewerBase.textLayer.clearDivSelection();\n        this.pdfViewerBase.contextMenuModule.contextMenuObj.close();\n        var lowerPageIndex = this.pdfViewerBase.currentPageNumber - 3;\n        lowerPageIndex = (lowerPageIndex < 0) ? 0 : lowerPageIndex;\n        var higherPageIndex = this.pdfViewer.currentPageNumber + 1;\n        // tslint:disable-next-line:max-line-length\n        higherPageIndex = (higherPageIndex < (this.pdfViewerBase.pageCount - 1)) ? higherPageIndex : (this.pdfViewerBase.pageCount - 1);\n        for (var i = lowerPageIndex; i <= higherPageIndex; i++) {\n            var textLayer = this.pdfViewerBase.getElement('_textLayer_' + i);\n            if (textLayer) {\n                if (textLayer.childNodes !== null) {\n                    this.applySelectionMouseScroll(i);\n                }\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextSelection.prototype.terminateSelectionByTouch = function (event) {\n        this.maintainSelectionOnZoom(true, false);\n        this.applySpanForSelection();\n        if (this.pdfViewerBase.getTextMarkupAnnotationMode()) {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode);\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.contextMenuModule.contextMenuObj.open(event.changedTouches[0].clientY - this.pdfViewerBase.viewerContainer.offsetTop + this.pdfViewerBase.contextMenuModule.contextMenuElement.clientHeight, event.changedTouches[0].clientX - this.pdfViewerBase.viewerContainer.offsetLeft, this.pdfViewerBase.viewerContainer);\n        }\n    };\n    TextSelection.prototype.getNodeElement = function (range, touchX, touchY, event, nodeElement) {\n        if (document.caretRangeFromPoint) {\n            range = document.caretRangeFromPoint(touchX, touchY);\n            nodeElement = this.onTouchElementScroll(range, nodeElement, touchY, event);\n            // tslint:disable-next-line\n        }\n        else if (document.caretPositionFromPoint) {\n            // tslint:disable-next-line\n            var start = document.caretPositionFromPoint(touchX, touchY);\n            // tslint:disable-next-line\n            var end = document.caretPositionFromPoint(touchX, touchY);\n            range = document.createRange();\n            range.setStart(start.offsetNode, start.offset);\n            range.setEnd(end.offsetNode, end.offset);\n            nodeElement = this.onTouchElementScroll(range, nodeElement, touchY, event);\n        }\n        return nodeElement;\n    };\n    TextSelection.prototype.isTouchedWithinContainer = function (event) {\n        var elements = document.elementsFromPoint(event.touches[0].clientX, event.touches[0].clientY);\n        var isTouchedWithinContainer = false;\n        if (elements.length !== 0) {\n            isTouchedWithinContainer = true;\n        }\n        return isTouchedWithinContainer;\n    };\n    TextSelection.prototype.onTouchElementScroll = function (range, nodeElement, touchY, event) {\n        var viewerScrollTop = this.pdfViewerBase.viewerContainer.scrollTop;\n        if (range != null) {\n            nodeElement = range.startContainer;\n            var isScrollBar = this.isScrolledOnScrollBar(event);\n            if (!this.pdfViewerBase.viewerContainer.contains(nodeElement.parentElement) || isScrollBar) {\n                if (touchY < this.pdfViewerBase.viewerContainer.clientHeight) {\n                    this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop - 30;\n                }\n                else {\n                    this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop + 30;\n                }\n            }\n        }\n        else {\n            if (touchY < this.pdfViewerBase.viewerContainer.clientHeight) {\n                this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop - 30;\n            }\n            else {\n                this.pdfViewerBase.viewerContainer.scrollTop = viewerScrollTop + 30;\n            }\n        }\n        return nodeElement;\n    };\n    TextSelection.prototype.isCloserTouchScroll = function (currentDifference) {\n        var isForwardMovement = false;\n        if (this.previousScrollDifference > currentDifference) {\n            isForwardMovement = true;\n        }\n        return isForwardMovement;\n    };\n    TextSelection.prototype.getClientValueTop = function (clientValue, pageNumber) {\n        // tslint:disable-next-line:max-line-length\n        return clientValue - this.pdfViewerBase.getElement('_pageDiv_' + pageNumber).getBoundingClientRect().top;\n    };\n    TextSelection.prototype.isScrolledOnScrollBar = function (event) {\n        var isScrollBar = false;\n        // tslint:disable-next-line:max-line-length\n        if ((this.pdfViewerBase.viewerContainer.clientHeight + this.pdfViewerBase.viewerContainer.offsetTop) < event.touches[0].clientY && event.touches[0].clientY < (this.pdfViewerBase.viewerContainer.offsetHeight + this.pdfViewerBase.viewerContainer.offsetTop)) {\n            isScrollBar = true;\n        }\n        return isScrollBar;\n    };\n    TextSelection.prototype.getTextLastLength = function (element) {\n        if (element) {\n            return element.textContent.length;\n        }\n        else {\n            return 0;\n        }\n    };\n    TextSelection.prototype.getNodeElementFromNode = function (node) {\n        if (node.parentElement) {\n            return node.parentElement;\n        }\n        else {\n            return node.parentNode;\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.copyText = function () {\n        var selectionText = '';\n        this.maintainSelectionOnZoom(true, false);\n        if (this.selectionRangeArray.length > 0) {\n            for (var i = 0; i < this.selectionRangeArray.length; i++) {\n                selectionText += this.selectionRangeArray[i].textContent;\n            }\n        }\n        if (selectionText.length > 0) {\n            var textArea = document.createElement('textarea');\n            textArea.contentEditable = 'true';\n            textArea.textContent = selectionText;\n            textArea.style.position = 'fixed';\n            document.body.appendChild(textArea);\n            textArea.select();\n            try {\n                document.execCommand('copy');\n            }\n            catch (ex) {\n                console.warn('Copy to clipboard failed.', ex);\n            }\n            finally {\n                if (textArea) {\n                    document.body.removeChild(textArea);\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * @private\n     */\n    TextSelection.prototype.getModuleName = function () {\n        return 'TextSelection';\n    };\n    return TextSelection;\n}());\nexport { TextSelection };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n/**\n * TextSearch module\n */\nvar TextSearch = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function TextSearch(pdfViewer, pdfViewerBase) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.isTextSearch = false;\n        this.searchIndex = 0;\n        this.currentSearchIndex = 0;\n        this.searchPageIndex = null;\n        this.searchString = null;\n        this.isMatchCase = false;\n        // tslint:disable-next-line\n        this.textContents = new Array();\n        // tslint:disable-next-line\n        this.searchMatches = new Array();\n        // tslint:disable-next-line\n        this.searchCollection = new Array();\n        this.searchedPages = [];\n        this.isPrevSearch = false;\n        // tslint:disable-next-line\n        this.tempElementStorage = new Array();\n        /**\n         * @private\n         */\n        this.isMessagePopupOpened = false;\n        this.checkBoxOnChange = function (event) {\n            if (event.checked) {\n                _this.isMatchCase = true;\n            }\n            else {\n                _this.isMatchCase = false;\n            }\n            if (_this.isTextSearch) {\n                _this.resetVariables();\n                _this.clearAllOccurrences();\n                var inputString = _this.searchInput.value;\n                _this.searchIndex = 0;\n                _this.textSearch(inputString);\n            }\n        };\n        this.searchKeypressHandler = function (event) {\n            _this.enableNextButton(true);\n            _this.enablePrevButton(true);\n            if (event.which === 13) {\n                _this.initiateTextSearch(_this.searchInput);\n                _this.updateSearchInputIcon(false);\n            }\n            else {\n                _this.resetVariables();\n            }\n        };\n        this.searchClickHandler = function (event) {\n            _this.searchButtonClick(_this.searchBtn, _this.searchInput);\n        };\n        this.nextButtonOnClick = function (event) {\n            _this.nextSearch();\n        };\n        this.prevButtonOnClick = function (event) {\n            _this.prevSearch();\n        };\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n    }\n    /**\n     * @private\n     */\n    TextSearch.prototype.createTextSearchBox = function () {\n        var _this = this;\n        // tslint:disable-next-line:max-line-length\n        this.searchBox = createElement('div', { id: this.pdfViewer.element.id + '_search_box', className: 'e-pv-search-bar' });\n        var searchElementsContainer = createElement('div', { id: this.pdfViewer.element.id + '_search_box_elements', className: 'e-pv-search-bar-elements' });\n        // tslint:disable-next-line:max-line-length\n        var searchInputContainer = createElement('div', { id: this.pdfViewer.element.id + '_search_input_container', className: 'e-input-group e-pv-search-input' });\n        this.searchInput = createElement('input', { id: this.pdfViewer.element.id + '_search_input', className: 'e-input' });\n        this.searchInput.type = 'text';\n        this.searchInput.placeholder = this.pdfViewer.localeObj.getConstant('Find in document');\n        // tslint:disable-next-line:max-line-length\n        this.searchBtn = createElement('span', { id: this.pdfViewer.element.id + '_search_box-icon', className: 'e-input-group-icon e-input-search-group-icon e-pv-search-icon' });\n        searchInputContainer.appendChild(this.searchInput);\n        searchInputContainer.appendChild(this.searchBtn);\n        searchElementsContainer.appendChild(searchInputContainer);\n        if (this.pdfViewer.enableRtl) {\n            this.prevSearchBtn = this.createSearchBoxButtons('prev_occurrence', 'e-pv-next-search');\n        }\n        else {\n            this.prevSearchBtn = this.createSearchBoxButtons('prev_occurrence', 'e-pv-prev-search');\n        }\n        this.prevSearchBtn.setAttribute('aria-label', 'Previous Search text');\n        searchElementsContainer.appendChild(this.prevSearchBtn);\n        if (this.pdfViewer.enableRtl) {\n            this.nextSearchBtn = this.createSearchBoxButtons('next_occurrence', 'e-pv-prev-search');\n        }\n        else {\n            this.nextSearchBtn = this.createSearchBoxButtons('next_occurrence', 'e-pv-next-search');\n        }\n        this.nextSearchBtn.setAttribute('aria-label', 'Next Search text');\n        searchElementsContainer.appendChild(this.nextSearchBtn);\n        // tslint:disable-next-line:max-line-length\n        var matchCaseContainer = createElement('div', { id: this.pdfViewer.element.id + '_match_case_container', className: 'e-pv-match-case-container' });\n        var matchCaseInput = createElement('input', { id: this.pdfViewer.element.id + '_match_case' });\n        matchCaseInput.type = 'checkbox';\n        matchCaseContainer.appendChild(matchCaseInput);\n        this.searchBox.appendChild(searchElementsContainer);\n        this.searchBox.appendChild(matchCaseContainer);\n        this.pdfViewerBase.mainContainer.appendChild(this.searchBox);\n        // tslint:disable-next-line:max-line-length\n        this.checkBox = new CheckBox({ cssClass: 'e-pv-match-case', label: this.pdfViewer.localeObj.getConstant('Match case'), change: this.checkBoxOnChange.bind(this) });\n        this.checkBox.appendTo(matchCaseInput);\n        this.showSearchBox(false);\n        if (this.pdfViewer.enableRtl) {\n            this.searchBox.classList.add('e-rtl');\n            this.searchBox.style.left = '88.3px';\n        }\n        else {\n            this.searchBox.classList.remove('e-rtl');\n            this.searchBox.style.right = '88.3px';\n        }\n        this.searchInput.addEventListener('focus', function () {\n            _this.searchInput.parentElement.classList.add('e-input-focus');\n        });\n        this.searchInput.addEventListener('blur', function () {\n            _this.searchInput.parentElement.classList.remove('e-input-focus');\n        });\n        this.searchInput.addEventListener('keypress', this.searchKeypressHandler.bind(this));\n        this.searchBtn.addEventListener('click', this.searchClickHandler.bind(this));\n        this.nextSearchBtn.addEventListener('click', this.nextButtonOnClick.bind(this));\n        this.prevSearchBtn.addEventListener('click', this.prevButtonOnClick.bind(this));\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.textSearchBoxOnResize = function () {\n        if (this.pdfViewer.toolbarModule && this.pdfViewer.enableToolbar) {\n            var secondaryToolbar = this.pdfViewerBase.getElement('_toolbarContainer_popup');\n            if (secondaryToolbar) {\n                if (secondaryToolbar.contains(this.pdfViewerBase.getElement('_search').parentElement)) {\n                    this.searchBox.style.right = '0px';\n                }\n            }\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            if (this.pdfViewerBase.viewerContainer.clientWidth + this.pdfViewerBase.viewerContainer.offsetLeft < this.searchBox.offsetLeft + this.searchBox.clientWidth) {\n                this.searchBox.style.right = '0px';\n                // tslint:disable-next-line\n                this.searchBox.style.width = parseInt(this.searchBox.style.width) - ((this.searchBox.offsetLeft + this.searchBox.clientWidth) - (this.pdfViewerBase.viewerContainer.clientWidth)) + 'px';\n                // tslint:disable-next-line\n                this.searchInput.style.width = parseInt(this.searchInput.style.width) - ((this.searchBox.offsetLeft + this.searchBox.clientWidth) - (this.pdfViewerBase.viewerContainer.clientWidth)) + 'px';\n            }\n            else {\n                this.searchBox.style.right = '88.3px';\n                this.searchBox.style.width = '';\n                this.searchInput.style.width = '';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.showSearchBox = function (isShow) {\n        if (isShow) {\n            this.searchBox.style.display = 'block';\n        }\n        else {\n            this.searchBox.style.display = 'none';\n        }\n        this.onTextSearchClose();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.searchAfterSelection = function () {\n        if (this.isTextSearch) {\n            this.initSearch(this.searchPageIndex, true);\n            this.highlightOthers();\n        }\n    };\n    TextSearch.prototype.initiateTextSearch = function (searchElement) {\n        var inputString = searchElement.value;\n        this.initiateSearch(inputString);\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.initiateSearch = function (inputString) {\n        if (inputString !== this.searchString) {\n            this.isTextSearch = false;\n            this.searchPageIndex = this.pdfViewerBase.currentPageNumber - 1;\n        }\n        this.clearAllOccurrences();\n        if (inputString !== '') {\n            if (this.searchCollection[this.searchPageIndex] && inputString === this.searchString) {\n                if (this.searchCollection[this.searchPageIndex].length === 0) {\n                    this.initSearch(this.searchPageIndex, false);\n                }\n                else {\n                    this.nextSearch();\n                }\n            }\n            else {\n                this.resetVariables();\n                this.searchIndex = 0;\n                this.textSearch(inputString);\n            }\n        }\n    };\n    TextSearch.prototype.textSearch = function (inputString) {\n        if (inputString !== '' || inputString) {\n            this.searchString = inputString;\n            this.isTextSearch = true;\n            this.searchPageIndex = this.pdfViewerBase.currentPageNumber - 1;\n            this.initSearch(this.searchPageIndex, false);\n            this.highlightOthers();\n        }\n    };\n    TextSearch.prototype.nextSearch = function () {\n        this.isPrevSearch = false;\n        this.isTextSearch = true;\n        if (this.searchString) {\n            this.clearAllOccurrences();\n            this.searchIndex = this.searchIndex + 1;\n            if (this.searchCollection[this.searchPageIndex]) {\n                // tslint:disable-next-line:max-line-length\n                if (this.searchIndex >= this.searchCollection[this.searchPageIndex].length || this.searchPageIndex !== this.pdfViewerBase.currentPageNumber - 1) {\n                    this.searchIndex = 0;\n                    this.searchPageIndex = ((this.searchPageIndex + 1) < this.pdfViewerBase.pageCount) ? (this.searchPageIndex + 1) : 0;\n                    this.initSearch(this.searchPageIndex, false);\n                }\n                else {\n                    this.highlightSearchedTexts(this.searchPageIndex, false);\n                }\n                this.highlightOthers();\n            }\n            else {\n                this.initiateTextSearch(this.searchInput);\n            }\n        }\n        else {\n            this.initiateTextSearch(this.searchInput);\n        }\n    };\n    TextSearch.prototype.prevSearch = function () {\n        this.isPrevSearch = true;\n        this.isTextSearch = true;\n        if (this.searchString) {\n            this.clearAllOccurrences();\n            this.searchIndex = this.searchIndex - 1;\n            if (this.searchIndex < 0) {\n                this.searchPageIndex = ((this.searchPageIndex - 1) < 0) ? (this.pdfViewerBase.pageCount - 1) : this.searchPageIndex - 1;\n                this.initSearch(this.searchPageIndex, false);\n            }\n            else {\n                this.highlightSearchedTexts(this.searchPageIndex, false);\n            }\n            this.highlightOthers();\n        }\n        else {\n            this.searchIndex = this.searchIndex - 1;\n            this.searchPageIndex = ((this.searchPageIndex - 1) < 0) ? (this.pdfViewerBase.pageCount - 1) : this.searchPageIndex - 1;\n            var inputString = this.searchInput.value;\n            this.textSearch(inputString);\n        }\n    };\n    TextSearch.prototype.initSearch = function (pageIndex, isSinglePageSearch) {\n        // tslint:disable-next-line\n        var storedData = this.pdfViewerBase.getStoredData(pageIndex);\n        var pageText = null;\n        var textContents = null;\n        if (storedData) {\n            // tslint:disable-next-line\n            pageText = storedData['pageText'];\n            // tslint:disable-next-line\n            textContents = storedData['textContent'];\n            this.textContents[pageIndex] = textContents;\n            this.getPossibleMatches(pageIndex, this.searchString, pageText, textContents, isSinglePageSearch);\n        }\n        else {\n            if (!isSinglePageSearch) {\n                this.createRequestForSearch(pageIndex);\n            }\n        }\n    };\n    // tslint:disable-next-line:max-line-length\n    TextSearch.prototype.getPossibleMatches = function (pageIndex, searchString, pageString, textContents, isSinglePageSearch) {\n        var pageText = pageString;\n        var searchText = searchString;\n        var queryLength = searchString.length;\n        if (!this.isMatchCase) {\n            searchText = searchString.toLowerCase();\n            pageText = pageString.toLowerCase();\n        }\n        var matches = [];\n        var matchIndex = -queryLength;\n        while (matchIndex !== 0) {\n            if (searchText === '' || searchText === ' ' || !searchText) {\n                break;\n            }\n            matchIndex = pageText.indexOf(searchText, matchIndex + queryLength);\n            if (matchIndex === -1) {\n                break;\n            }\n            matches.push(matchIndex);\n        }\n        this.searchMatches[pageIndex] = matches;\n        if (!isSinglePageSearch) {\n            if (this.searchedPages.indexOf(pageIndex) === -1) {\n                this.searchedPages.push(pageIndex);\n            }\n            this.updateSearchInputIcon(false);\n        }\n        if (this.searchMatches[pageIndex].length !== 0) {\n            if (!isSinglePageSearch) {\n                if (this.isPrevSearch) {\n                    this.searchIndex = this.searchMatches[pageIndex].length - 1;\n                }\n                if ((this.pdfViewerBase.currentPageNumber - 1) !== this.searchPageIndex) {\n                    // tslint:disable-next-line:max-line-length\n                    if (this.searchCollection.length > 0 && (this.searchIndex === 0 || this.searchIndex === -1) && (this.searchPageIndex) === this.currentSearchIndex) {\n                        if (!this.isMessagePopupOpened) {\n                            this.onMessageBoxOpen();\n                        }\n                        this.searchPageIndex = this.getSearchPage(this.pdfViewerBase.currentPageNumber - 1);\n                        this.searchedPages = [];\n                    }\n                    this.pdfViewerBase.updateScrollTop(this.searchPageIndex);\n                }\n            }\n            this.convertMatches(pageIndex, queryLength, textContents, isSinglePageSearch);\n        }\n        else {\n            if (!isSinglePageSearch) {\n                if (this.isPrevSearch) {\n                    this.searchPageIndex = ((this.searchPageIndex - 1) < 0) ? (this.pdfViewerBase.pageCount - 1) : this.searchPageIndex - 1;\n                }\n                else {\n                    this.searchPageIndex = ((this.searchPageIndex + 1) < this.pdfViewerBase.pageCount) ? (this.searchPageIndex + 1) : 0;\n                }\n                if (this.searchedPages.indexOf(this.searchPageIndex) === -1 && this.searchedPages.length !== this.pdfViewerBase.pageCount) {\n                    this.initSearch(this.searchPageIndex, false);\n                }\n                else {\n                    var searchPageIndex = this.getSearchPage(pageIndex);\n                    // tslint:disable-next-line:max-line-length\n                    if (!this.searchCollection[this.searchPageIndex] && this.searchCollection.length === 0 && this.searchedPages.length === this.pdfViewerBase.pageCount) {\n                        // tslint:disable-next-line:max-line-length\n                        if (!this.isMessagePopupOpened) {\n                            this.onMessageBoxOpen();\n                        }\n                        // tslint:disable-next-line:max-line-length\n                    }\n                    else if (this.searchCollection.length > 0 && (this.searchIndex === 0 || this.searchIndex === -1) && (searchPageIndex) === this.currentSearchIndex) {\n                        if (this.isPrevSearch) {\n                            // tslint:disable-next-line:max-line-length\n                            if (!this.isMessagePopupOpened) {\n                                this.onMessageBoxOpen();\n                            }\n                            this.searchPageIndex = this.getSearchPage(this.pdfViewerBase.currentPageNumber - 1);\n                            this.searchedPages = [];\n                            this.searchIndex = -1;\n                        }\n                        else {\n                            if (!this.isMessagePopupOpened) {\n                                this.onMessageBoxOpen();\n                            }\n                            this.searchPageIndex = this.getSearchPage(this.pdfViewerBase.currentPageNumber - 1);\n                            this.searchedPages = [];\n                            this.searchIndex = 0;\n                        }\n                        this.highlightSearchedTexts(this.searchPageIndex, isSinglePageSearch);\n                    }\n                }\n            }\n        }\n    };\n    TextSearch.prototype.getSearchPage = function (pageIndex) {\n        var pageNumber = null;\n        if (this.isPrevSearch) {\n            for (var i = pageIndex; i >= 0; i--) {\n                if (i !== pageIndex && this.searchCollection[i]) {\n                    pageNumber = i;\n                    break;\n                }\n            }\n            if (!pageNumber) {\n                for (var j = this.pdfViewerBase.pageCount - 1; j > pageIndex; j--) {\n                    if (this.searchCollection[j]) {\n                        pageNumber = j;\n                        break;\n                    }\n                }\n            }\n        }\n        else {\n            for (var i = pageIndex; i < this.pdfViewerBase.pageCount; i++) {\n                if (i !== pageIndex && this.searchCollection[i]) {\n                    pageNumber = i;\n                    break;\n                }\n            }\n            if (!pageNumber) {\n                for (var j = 0; j < pageIndex; j++) {\n                    if (this.searchCollection[j]) {\n                        pageNumber = j;\n                        break;\n                    }\n                }\n            }\n        }\n        return pageNumber;\n    };\n    TextSearch.prototype.convertMatches = function (pageIndex, queryLength, textContents, isSinglePageSearch) {\n        var m = 0;\n        var matches = this.searchMatches[pageIndex];\n        var divIndex = 0;\n        var end = textContents.length - 1;\n        var matchCollection = [];\n        for (var i = 0; i < matches.length; i++) {\n            var matchIndex = matches[i];\n            while (m !== end && matchIndex >= (divIndex + textContents[m].split('\\r\\n')[0].length)) {\n                divIndex += textContents[m].split('\\r\\n')[0].length;\n                m++;\n            }\n            var match = {\n                begin: {\n                    divId: m,\n                    offsetValue: matchIndex - divIndex,\n                }\n            };\n            matchIndex += queryLength;\n            while (m !== end && matchIndex > (divIndex + textContents[m].length)) {\n                divIndex += textContents[m].length;\n                m++;\n            }\n            match.end = {\n                divId: m,\n                offsetValue: matchIndex - divIndex,\n            };\n            matchCollection.push(match);\n        }\n        if (this.searchCollection.length === 0) {\n            this.currentSearchIndex = pageIndex;\n        }\n        this.searchCollection[pageIndex] = matchCollection;\n        this.highlightSearchedTexts(pageIndex, isSinglePageSearch);\n    };\n    TextSearch.prototype.highlightSearchedTexts = function (pageIndex, isSinglePageSearch) {\n        var matches = this.searchCollection[pageIndex];\n        var prevEnd = null;\n        // tslint:disable-next-line\n        var scrollPoint = { y: -100, x: -100 };\n        var startId;\n        var className;\n        for (var i = 0; i < matches.length; i++) {\n            var match = matches[i];\n            // tslint:disable-next-line\n            var start = match.begin;\n            // tslint:disable-next-line\n            var end = match.end;\n            if (i === this.searchIndex && pageIndex === this.searchPageIndex) {\n                className = 'e-pv-search-text-highlight';\n                startId = start.divId;\n            }\n            else {\n                className = 'e-pv-search-text-highlightother';\n            }\n            if (!prevEnd || start.divId !== prevEnd.divId) {\n                if (prevEnd !== null) {\n                    // tslint:disable-next-line:max-line-length\n                    this.addSpanForSearch(pageIndex, parseFloat(prevEnd.divId.toString()), parseFloat(prevEnd.offsetValue.toString()), undefined, null);\n                }\n                this.beginText(start, pageIndex, null);\n            }\n            else {\n                // tslint:disable-next-line:max-line-length\n                this.addSpanForSearch(pageIndex, parseFloat(prevEnd.divId.toString()), parseFloat(prevEnd.offsetValue.toString()), parseFloat(start.offsetValue.toString()), null);\n            }\n            if (start.divId === end.divId) {\n                this.addSpanForSearch(pageIndex, start.divId, start.offsetValue, end.offsetValue, className);\n            }\n            else {\n                this.addSpanForSearch(pageIndex, start.divId, start.offsetValue, undefined, className);\n                for (var k = start.divId + 1; k < end.divId; k++) {\n                    this.addSpanForSearch(pageIndex, k, 0, undefined, className + ' middle');\n                }\n                this.beginText(end, pageIndex, className);\n            }\n            prevEnd = end;\n        }\n        if (prevEnd) {\n            // tslint:disable-next-line:max-line-length\n            this.addSpanForSearch(pageIndex, parseFloat(prevEnd.divId.toString()), parseFloat(prevEnd.offsetValue.toString()), undefined, null);\n        }\n        if (pageIndex === this.searchPageIndex && !isSinglePageSearch) {\n            var element = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + startId);\n            if (element) {\n                var targetScrollElement = this.getScrollElement(element);\n                this.scrollToSearchStr(targetScrollElement, scrollPoint);\n            }\n            else {\n                this.pdfViewerBase.updateScrollTop(pageIndex);\n                var element_1 = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + startId);\n                var targetScrollElement = this.getScrollElement(element_1);\n                this.scrollToSearchStr(targetScrollElement, scrollPoint);\n            }\n        }\n    };\n    // tslint:disable-next-line\n    TextSearch.prototype.beginText = function (start, pageIndex, className) {\n        var divIndex = parseFloat(start.divId);\n        var textDiv = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + divIndex);\n        if (textDiv) {\n            // tslint:disable-next-line\n            this.tempElementStorage = new Array();\n            for (var i = 0; i < textDiv.childNodes.length; i++) {\n                // tslint:disable-next-line:max-line-length\n                var ele = { text: textDiv.childNodes[i].textContent, classString: textDiv.childNodes[i].className };\n                this.tempElementStorage.push(ele);\n            }\n            textDiv.textContent = '';\n            this.addSpanForSearch(pageIndex, divIndex, 0, start.offsetValue, className);\n        }\n    };\n    // tslint:disable-next-line:max-line-length\n    TextSearch.prototype.addSpanForSearch = function (pageIndex, divIndex, fromOffset, toOffset, className) {\n        var divTextContent;\n        var textDiv = this.pdfViewerBase.getElement('_text_' + pageIndex + '_' + divIndex);\n        if (textDiv) {\n            var textContent = this.textContents[pageIndex];\n            divTextContent = textContent[divIndex].substring(fromOffset, toOffset);\n            var node = document.createTextNode(divTextContent);\n            if (className) {\n                var spanElement = document.createElement('span');\n                spanElement.className = className;\n                if (spanElement.classList.contains('middle')) {\n                    textDiv.textContent = '';\n                }\n                spanElement.appendChild(node);\n                textDiv.appendChild(spanElement);\n            }\n            else {\n                if (this.pdfViewer.textSelectionModule.isTextSelection) {\n                    this.searchOnSelection(textDiv, node, divTextContent);\n                }\n                else {\n                    textDiv.appendChild(node);\n                }\n            }\n        }\n    };\n    TextSearch.prototype.isClassAvailable = function () {\n        var isClass = false;\n        for (var j = 0; j < this.tempElementStorage.length; j++) {\n            if (this.tempElementStorage[j].classString) {\n                // tslint:disable-next-line:max-line-length\n                if (this.tempElementStorage[j].classString === 'e-pv-search-text-highlight' || this.tempElementStorage[j].classString === 'e-pv-search-text-highlightother') {\n                    isClass = true;\n                    break;\n                }\n            }\n        }\n        return isClass;\n    };\n    TextSearch.prototype.addSpan = function (text, textDiv) {\n        var newNode = document.createTextNode(text);\n        var spanElement = document.createElement('span');\n        spanElement.className = 'e-pv-maintaincontent';\n        spanElement.appendChild(newNode);\n        textDiv.appendChild(spanElement);\n    };\n    TextSearch.prototype.searchOnSelection = function (textDiv, node, divTextContent) {\n        if (this.tempElementStorage.length === 1) {\n            if (this.tempElementStorage[0].classString) {\n                if (this.tempElementStorage[0].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                    this.addSpan(node.textContent, textDiv);\n                }\n            }\n            else {\n                textDiv.appendChild(node);\n            }\n        }\n        else {\n            if (this.tempElementStorage.length > 1) {\n                for (var i = 0; i < this.tempElementStorage.length; i++) {\n                    if (this.tempElementStorage[i].classString) {\n                        if (this.tempElementStorage[i].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                            if (this.tempElementStorage[i].text === node.textContent) {\n                                this.addSpan(node.textContent, textDiv);\n                                break;\n                            }\n                            else {\n                                if (this.tempElementStorage[i].text !== node.textContent) {\n                                    var currentString = node.textContent;\n                                    var isClassAvailable = this.isClassAvailable();\n                                    var subString = void 0;\n                                    if (isClassAvailable) {\n                                        subString = divTextContent.substring(0, this.tempElementStorage[i].text.length);\n                                    }\n                                    else {\n                                        subString = divTextContent.substring(0, this.tempElementStorage[i].text.length);\n                                    } // tslint:disable-next-line\n                                    if (this.tempElementStorage[i].text.indexOf(currentString) !== -1 && !this.tempElementStorage[i].classString) {\n                                        this.addSpan(currentString, textDiv);\n                                        break; // tslint:disable-next-line\n                                    }\n                                    else if (this.tempElementStorage[i].text.indexOf(subString) !== -1 && this.tempElementStorage[i].classString && subString !== '') {\n                                        if (this.tempElementStorage[i].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                                            this.addSpan(subString, textDiv); // tslint:disable-next-line\n                                            var nextSubString = divTextContent.substring(this.tempElementStorage[i].text.length, divTextContent.length);\n                                            if (this.tempElementStorage[i + 1]) { // tslint:disable-next-line\n                                                if (this.tempElementStorage[i + 1].text.indexOf(nextSubString) !== -1 && !this.tempElementStorage[i + 1].classString && nextSubString !== \"\") {\n                                                    node.textContent = nextSubString;\n                                                    textDiv.appendChild(node);\n                                                }\n                                            }\n                                            break;\n                                        }\n                                    }\n                                    else if (this.tempElementStorage[i + 1]) {\n                                        if (divTextContent === (this.tempElementStorage[i].text + this.tempElementStorage[i + 1].text)) {\n                                            this.addSpan(this.tempElementStorage[i].text, textDiv);\n                                            node.textContent = this.tempElementStorage[i + 1].text;\n                                            textDiv.appendChild(node);\n                                            break;\n                                        }\n                                        else if (this.tempElementStorage[i].text.indexOf(divTextContent) !== -1) {\n                                            this.addSpan(divTextContent, textDiv);\n                                            break;\n                                        }\n                                        else { // tslint:disable-next-line\n                                            var subString_1 = this.tempElementStorage[i].text.substring(textDiv.textContent.length, currentString.length);\n                                            if (this.tempElementStorage[i].text.indexOf(subString_1) !== -1 && this.tempElementStorage[i].classString && // tslint:disable-next-line\n                                                subString_1 !== '' && !this.tempElementStorage[i + 1].classString && divTextContent.indexOf(subString_1) !== -1) {\n                                                this.addSpan(subString_1, textDiv);\n                                                continue;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        if (this.tempElementStorage[i].text.indexOf(divTextContent) !== -1) {\n                                            this.addSpan(node.textContent, textDiv);\n                                            break;\n                                        }\n                                        else if (this.tempElementStorage[i].text.indexOf(divTextContent.replace('\\r\\n', '')) !== -1) {\n                                            this.addSpan(divTextContent, textDiv);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        if (this.tempElementStorage[i].text !== node.textContent) {\n                            var currentString = node.textContent;\n                            if (currentString !== '') {\n                                var isClassAvailable = this.isClassAvailable();\n                                var subString = void 0;\n                                if (isClassAvailable) {\n                                    subString = divTextContent.substring(0, this.tempElementStorage[i].text.length);\n                                }\n                                else { // tslint:disable-next-line\n                                    subString = divTextContent.substring(0, this.tempElementStorage[i].text.length - textDiv.textContent.length);\n                                } // tslint:disable-next-line\n                                if (subString === currentString && !this.tempElementStorage[i].classString && this.tempElementStorage[i].text.indexOf(subString) !== -1) {\n                                    node.textContent = subString;\n                                    textDiv.appendChild(node);\n                                    break;\n                                }\n                                else { // tslint:disable-next-line\n                                    if (this.tempElementStorage[i].text.indexOf(subString) !== -1 && this.tempElementStorage[i].classString) {\n                                        if (this.tempElementStorage[i].classString.indexOf('e-pv-maintaincontent') !== -1) {\n                                            this.addSpan(subString, textDiv);\n                                            break;\n                                        }\n                                    }\n                                    else if (this.tempElementStorage[i + 1]) { // tslint:disable-next-line\n                                        var balanceString = currentString.substring(this.tempElementStorage[i].text.length, currentString.length);\n                                        var nextString = this.tempElementStorage[i + 1].text.substring(0, balanceString.length);\n                                        if (currentString === (subString + this.tempElementStorage[i + 1].text)) {\n                                            node.textContent = subString;\n                                            textDiv.appendChild(node);\n                                            this.addSpan(this.tempElementStorage[i + 1].text, textDiv);\n                                            break;\n                                        }\n                                        else if (currentString === (subString + nextString) && nextString !== '') {\n                                            node.textContent = subString;\n                                            textDiv.appendChild(node);\n                                            this.addSpan(balanceString, textDiv);\n                                            break;\n                                        }\n                                        else { // tslint:disable-next-line\n                                            if (this.tempElementStorage[i].text.indexOf(subString) !== -1 && !this.tempElementStorage[i].classString && subString !== '') {\n                                                var newSubString = divTextContent.substring(0, subString.length);\n                                                node.textContent = newSubString;\n                                                textDiv.appendChild(node); // tslint:disable-next-line\n                                                var nextNewSubString = divTextContent.substring(subString.length, divTextContent.length);\n                                                if (nextNewSubString !== '' && this.tempElementStorage[i + 1].text.indexOf(nextNewSubString) !== -1 && this.tempElementStorage[i + 1].classString) {\n                                                    this.addSpan(nextNewSubString, textDiv);\n                                                }\n                                                break;\n                                            }\n                                        }\n                                    }\n                                    else { // tslint:disable-next-line\n                                        if (this.tempElementStorage[i].text.indexOf(currentString) !== -1 && !this.tempElementStorage[i].classString) {\n                                            node.textContent = currentString;\n                                            textDiv.appendChild(node);\n                                            break; // tslint:disable-next-line\n                                        }\n                                        else if (this.tempElementStorage[i].text.indexOf(currentString.replace('\\r\\n', '')) !== -1 && !this.tempElementStorage[i].classString) {\n                                            node.textContent = currentString;\n                                            textDiv.appendChild(node);\n                                            break;\n                                        }\n                                        else {\n                                            if (divTextContent.indexOf(this.tempElementStorage[i].text) !== -1) {\n                                                node.textContent = this.tempElementStorage[i].text;\n                                                textDiv.appendChild(node);\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        else {\n                            textDiv.appendChild(node);\n                        }\n                    }\n                }\n            }\n            else {\n                textDiv.appendChild(node);\n            }\n        }\n    };\n    TextSearch.prototype.getScrollElement = function (element) {\n        var targetElement = element;\n        if (element.childNodes.length > 0) {\n            for (var i = 0; i < element.childNodes.length; i++) {\n                if (element.childNodes[i].classList) {\n                    if (element.childNodes[i].classList.contains('e-pv-search-text-highlight')) {\n                        targetElement = element.childNodes[i];\n                    }\n                }\n            }\n        }\n        return targetElement;\n    };\n    // tslint:disable-next-line\n    TextSearch.prototype.scrollToSearchStr = function (element, scrollPoint) {\n        var parent = element.offsetParent;\n        var offsetY = element.offsetTop + element.clientTop;\n        var offsetX = element.offsetLeft + element.clientLeft;\n        while (parent.id !== this.pdfViewerBase.viewerContainer.id) {\n            offsetY += parent.offsetTop;\n            offsetX += parent.offsetLeft;\n            parent = parent.offsetParent;\n        }\n        if (scrollPoint) {\n            offsetY += scrollPoint.y;\n            offsetX += scrollPoint.x;\n            if (Browser.isDevice) {\n                parent.scrollLeft = offsetX;\n            }\n            else {\n                if (this.pdfViewerBase.getZoomFactor() > 1.5) {\n                    parent.scrollLeft = offsetX;\n                }\n            }\n        }\n        parent.scrollTop = offsetY;\n        this.pdfViewerBase.updateMobileScrollerPosition();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.highlightOtherOccurrences = function (pageNumber) {\n        this.initSearch(pageNumber, true);\n    };\n    TextSearch.prototype.highlightOthers = function () {\n        var indexes = this.getIndexes();\n        var lowerPageValue = parseFloat(indexes.lowerPageValue.toString());\n        var higherPageValue = parseFloat(indexes.higherPageValue.toString());\n        for (var i = lowerPageValue; i <= higherPageValue; i++) {\n            this.highlightOtherOccurrences(i);\n        }\n    };\n    TextSearch.prototype.clearAllOccurrences = function () {\n        this.pdfViewerBase.textLayer.clearDivSelection();\n        this.applyTextSelection();\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line\n    TextSearch.prototype.getIndexes = function () {\n        var lowerPageValue = this.pdfViewerBase.currentPageNumber - 3;\n        lowerPageValue = (lowerPageValue > 0) ? lowerPageValue : 0;\n        var higherPageValue = this.pdfViewerBase.currentPageNumber + 1;\n        higherPageValue = (higherPageValue < this.pdfViewerBase.pageCount) ? higherPageValue : (this.pdfViewerBase.pageCount - 1);\n        return { lowerPageValue: lowerPageValue, higherPageValue: higherPageValue };\n    };\n    TextSearch.prototype.applyTextSelection = function () {\n        if (this.pdfViewer.textSelectionModule && !this.pdfViewerBase.isTextSelectionDisabled) {\n            var indexes = this.getIndexes();\n            var lowerPageValue = parseFloat(indexes.lowerPageValue.toString());\n            var higherPageValue = parseFloat(indexes.higherPageValue.toString());\n            for (var i = lowerPageValue; i <= higherPageValue; i++) {\n                this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(i);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.resetTextSearch = function () {\n        this.resetVariables();\n        this.onTextSearchClose();\n        this.searchPageIndex = null;\n        this.searchIndex = 0;\n        this.updateSearchInputIcon(true);\n        this.enableNextButton(false);\n        this.enablePrevButton(false);\n    };\n    TextSearch.prototype.onTextSearchClose = function () {\n        this.isPrevSearch = false;\n        this.isTextSearch = false;\n        if (this.pdfViewerBase.pageCount > 0) {\n            this.clearAllOccurrences();\n        }\n    };\n    TextSearch.prototype.createRequestForSearch = function (pageIndex) {\n        var _this = this;\n        var jsonObject;\n        // tslint:disable-next-line:max-line-length\n        jsonObject = { xCoordinate: 0, yCoordinate: 0, pageNumber: pageIndex, documentId: this.pdfViewerBase.getDocumentId(), hashId: this.pdfViewerBase.hashId, zoomFactor: this.pdfViewerBase.getZoomFactor() };\n        var request = new XMLHttpRequest();\n        request.open('POST', this.pdfViewer.serviceUrl + '/' + this.pdfViewer.serverActionSettings.renderPages);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.responseType = 'json';\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        request.onreadystatechange = function (event) {\n            var proxy = _this.pdfViewerBase;\n            if (request.readyState === 4 && request.status === 200) {\n                // tslint:disable-next-line\n                var data = event.currentTarget.response;\n                // tslint:disable-next-line:max-line-length\n                if (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                if (data) {\n                    if (data.pageText) {\n                        proxy.storeWinData(data, pageIndex);\n                        _this.initSearch(pageIndex, false);\n                    }\n                }\n            }\n            else if (request.readyState === 4 && request.status === 400) {\n                // error\n                _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n            }\n        };\n        // tslint:disable-next-line\n        request.onerror = function (event) {\n            _this.pdfViewerBase.openNotificationPopup();\n            _this.pdfViewer.fireAjaxRequestFailed(request.status, request.statusText);\n        };\n    };\n    TextSearch.prototype.createSearchBoxButtons = function (id, className) {\n        // tslint:disable-next-line:max-line-length\n        var button = createElement('button', { id: this.pdfViewer.element.id + '_' + id, className: 'e-btn e-icon-btn e-pv-search-btn ' + className });\n        var iconSpan = createElement('span', { id: this.pdfViewer.element.id + '_' + id + 'Icon', className: 'e-pv-icon-search ' + className + '-icon' });\n        if (this.pdfViewer.enableRtl) {\n            if (className === 'e-pv-prev-search') {\n                iconSpan.style.paddingRight = '5px';\n            }\n        }\n        button.disabled = true;\n        button.appendChild(iconSpan);\n        return button;\n    };\n    TextSearch.prototype.enablePrevButton = function (isEnable) {\n        if (!Browser.isDevice) {\n            if (isEnable) {\n                this.prevSearchBtn.removeAttribute('disabled');\n            }\n            else {\n                this.prevSearchBtn.disabled = true;\n            }\n        }\n    };\n    TextSearch.prototype.enableNextButton = function (isEnable) {\n        if (!Browser.isDevice) {\n            if (isEnable) {\n                this.nextSearchBtn.removeAttribute('disabled');\n            }\n            else {\n                this.nextSearchBtn.disabled = true;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.resetVariables = function () {\n        this.searchedPages = [];\n        // tslint:disable-next-line\n        this.searchMatches = new Array();\n        // tslint:disable-next-line\n        this.searchCollection = new Array();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.searchButtonClick = function (element, inputElement) {\n        if (element.classList.contains('e-pv-search-icon')) {\n            this.initiateTextSearch(inputElement);\n        }\n        else if (element.classList.contains('e-pv-search-close')) {\n            inputElement.value = '';\n            this.resetTextSearch();\n            inputElement.focus();\n        }\n    };\n    TextSearch.prototype.updateSearchInputIcon = function (isEnable) {\n        if (this.searchBtn) {\n            if (isEnable) {\n                this.searchBtn.classList.remove('e-pv-search-close');\n                this.searchBtn.classList.add('e-pv-search-icon');\n            }\n            else {\n                this.searchBtn.classList.remove('e-pv-search-icon');\n                this.searchBtn.classList.add('e-pv-search-close');\n            }\n        }\n    };\n    TextSearch.prototype.onMessageBoxOpen = function () {\n        this.pdfViewerBase.getElement('_search_input').blur();\n        this.isMessagePopupOpened = true;\n        if (!Browser.isDevice) {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.textLayer.createNotificationPopup(this.pdfViewer.localeObj.getConstant('No matches'));\n        }\n        else {\n            // tslint:disable-next-line:max-line-length\n            this.pdfViewerBase.navigationPane.createTooltipMobile(this.pdfViewer.localeObj.getConstant('No Text Found'));\n        }\n    };\n    /**\n     * Searches the target text in the PDF document and highlights the occurrences in the pages\n     * @param  {string} searchText - Specifies the searchText content\n     * @param  {boolean} isMatchCase - If set true , its highlights the MatchCase content\n     * @returns void\n     */\n    TextSearch.prototype.searchText = function (searchText, isMatchCase) {\n        this.searchString = searchText;\n        this.isMatchCase = isMatchCase;\n        this.searchIndex = 0;\n        this.textSearch(searchText);\n    };\n    /**\n     * Searches the next occurrence of the searched text from the current occurrence of the PdfViewer.\n     * @returns void\n     */\n    TextSearch.prototype.searchNext = function () {\n        this.nextSearch();\n    };\n    /**\n     * Searches the previous occurrence of the searched text from the current occurrence of the PdfViewer.\n     * @returns void\n     */\n    TextSearch.prototype.searchPrevious = function () {\n        this.prevSearch();\n    };\n    /**\n     * Cancels the text search of the PdfViewer.\n     * @returns void\n     */\n    TextSearch.prototype.cancelTextSearch = function () {\n        this.resetTextSearch();\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.destroy = function () {\n        this.searchCollection = undefined;\n    };\n    /**\n     * @private\n     */\n    TextSearch.prototype.getModuleName = function () {\n        return 'TextSearch';\n    };\n    return TextSearch;\n}());\nexport { TextSearch };\n","import { createElement, Browser } from '@syncfusion/ej2-base';\n/**\n * Print module\n */\nvar Print = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function Print(viewer, base) {\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = base;\n    }\n    /**\n     * Print the PDF document being loaded in the ejPdfViewer control.\n     * @returns void\n     */\n    Print.prototype.print = function () {\n        var _this = this;\n        var pageIndex;\n        if (this.pdfViewerBase.pageCount > 0) {\n            // tslint:disable-next-line:max-line-length\n            this.printViewerContainer = createElement('div', {\n                id: this.pdfViewer.element.id + '_print_viewer_container',\n                className: 'e-pv-print-viewer-container'\n            });\n            this.pdfViewerBase.showPrintLoadingIndicator(true);\n            this.iframe = document.createElement('iframe');\n            this.iframe.className = 'iframeprint';\n            this.iframe.id = 'iframePrint';\n            this.iframe.style.position = 'absolute';\n            this.iframe.style.top = '-100000000px';\n            document.body.appendChild(this.iframe);\n            this.frameDoc = this.iframe.contentWindow ? this.iframe.contentWindow : this.iframe.contentDocument;\n            this.frameDoc.document.open();\n            setTimeout(function () {\n                for (pageIndex = 0; pageIndex < _this.pdfViewerBase.pageCount; pageIndex++) {\n                    var pageWidth = _this.pdfViewerBase.pageSize[pageIndex].width;\n                    var pageHeight = _this.pdfViewerBase.pageSize[pageIndex].height;\n                    _this.pdfViewer.printModule.createRequestForPrint(pageIndex, pageWidth, pageHeight, _this.pdfViewerBase.pageCount);\n                }\n            }, 100);\n        }\n    };\n    Print.prototype.createRequestForPrint = function (pageIndex, pageWidth, pageHeight, pageCount) {\n        var proxy = this;\n        var request = new XMLHttpRequest();\n        // tslint: disable-next-line:max-line-length\n        // set default zoomFactor value.  \n        var jsonObject = {\n            pageNumber: pageIndex, documentId: this.pdfViewerBase.documentId,\n            hashId: this.pdfViewerBase.hashId, zoomFactor: 1\n        };\n        request.open('POST', proxy.pdfViewer.serviceUrl + '/PrintImages', false);\n        request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        request.send(JSON.stringify(jsonObject));\n        // tslint:disable-next-line\n        var printImage = request.responseText;\n        if (typeof printImage !== 'object') {\n            printImage = JSON.parse(printImage);\n        }\n        var annotationSource = '';\n        if (printImage.textMarkupAnnotation && this.pdfViewerBase.isTextMarkupAnnotationModule()) {\n            // tslint:disable-next-line:max-line-length\n            annotationSource = this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(printImage.textMarkupAnnotation, pageIndex);\n        }\n        // tslint:disable-next-line:max-line-length\n        this.printCanvas = createElement('canvas', { id: this.pdfViewer.element.id + '_printCanvas_' + pageIndex, className: 'e-pv-print-canvas' });\n        this.printCanvas.style.width = pageWidth + 'px';\n        this.printCanvas.style.height = pageHeight + 'px';\n        this.printCanvas.height = 1056 * window.devicePixelRatio;\n        this.printCanvas.width = 816 * window.devicePixelRatio;\n        var context = this.printCanvas.getContext('2d');\n        var pageImage = new Image();\n        var annotationImage = new Image();\n        pageImage.onload = function () {\n            if (pageHeight > pageWidth) {\n                context.drawImage(pageImage, 0, 0, proxy.printCanvas.width, proxy.printCanvas.height);\n                if (annotationSource) {\n                    context.drawImage(annotationImage, 0, 0, proxy.printCanvas.width, proxy.printCanvas.height);\n                }\n            }\n            else {\n                // translate to center canvas\n                context.translate(proxy.printCanvas.width * 0.5, proxy.printCanvas.height * 0.5);\n                // rotate the canvas to - 90 degree \n                context.rotate(-0.5 * Math.PI);\n                // un translate the canvas back to origin\n                context.translate(-proxy.printCanvas.height * 0.5, -proxy.printCanvas.width * 0.5);\n                // draw the image\n                context.drawImage(pageImage, 0, 0, proxy.printCanvas.height, proxy.printCanvas.width);\n                if (annotationSource) {\n                    context.drawImage(annotationImage, 0, 0, proxy.printCanvas.height, proxy.printCanvas.width);\n                }\n            }\n            if (pageIndex === (proxy.pdfViewerBase.pageCount - 1)) {\n                proxy.printWindowOpen();\n            }\n        };\n        pageImage.src = printImage.image;\n        annotationImage.src = annotationSource;\n        this.printViewerContainer.appendChild(this.printCanvas);\n    };\n    Print.prototype.printWindowOpen = function () {\n        var _this = this;\n        var browserUserAgent = navigator.userAgent;\n        // tslint: disable-next-line:max-line-length\n        if ((browserUserAgent.indexOf('Chrome') !== -1) || (browserUserAgent.indexOf('Safari') !== -1) ||\n            (browserUserAgent.indexOf('Firefox')) !== -1) {\n            //chrome and firefox\n            this.frameDoc.document.write('<!DOCTYPE html>');\n            // tslint: disable-next-line:max-line-length\n            this.frameDoc.document.write('<html moznomarginboxes mozdisallowselectionprint><head><style>html, body { height: 100%; }'\n                + ' img { height: 100%; width: 100%; display: block; }@media print { body { margin: 0cm; }'\n                + ' img { width:100%; max-width: 1048px; box-sizing: border-box; }br, button { display: none; }'\n                // set default page Height and page Width for A4 size.\n                + ' div{ page-break-inside: avoid; }} @page{margin:0mm; size: 816px 1056px;}</style></head><body><center class=\"loader\">');\n        }\n        else {\n            //ie\n            this.frameDoc.document.write('<!DOCTYPE html>');\n            // tslint: disable-next-line:max-line-length\n            this.frameDoc.document.write('<html><head>'\n                + '<style>html, body { height: 99%; } img { height: 99%; width: 100%; }@media print { body { margin: 0cm; }'\n                + 'img { width:98%; max-width: 1048px; box-sizing: border-box; }br, button { display: none; } '\n                // set default page Height and page Width for A4 size.\n                + 'div{ page-break-inside: avoid; }} @page{margin:0mm; size: 816px 1056px;}</style></head><body><center>');\n        }\n        for (var i = 0; i < this.printViewerContainer.children.length; i++) {\n            // tslint:disable-next-line:max-line-length\n            var canvasUrl = this.printViewerContainer.children[i].toDataURL();\n            this.frameDoc.document.write('<div style=\"margin:0mm;width:816px;height:1056px;position:relative\"><img src=\"' + canvasUrl + '\" id=\"' + 'image_' + i + '\" /></div>');\n        }\n        this.pdfViewerBase.showPrintLoadingIndicator(false);\n        if (Browser.isIE || Browser.info.name === 'edge') {\n            try {\n                this.iframe.contentWindow.document.execCommand('print', false, null);\n            }\n            catch (e) {\n                this.iframe.contentWindow.print();\n            }\n        }\n        else {\n            setTimeout(function () {\n                _this.iframe.contentWindow.print();\n                _this.iframe.contentWindow.focus();\n                document.body.removeChild(_this.iframe);\n            }, 200);\n        }\n    };\n    /**\n     * @private\n     */\n    Print.prototype.destroy = function () {\n        this.printViewerContainer = undefined;\n        this.frameDoc = undefined;\n    };\n    /**\n     * @private\n     */\n    Print.prototype.getModuleName = function () {\n        return 'Print';\n    };\n    return Print;\n}());\nexport { Print };\n"],"names":["Annotation","pdfViewer","viewerBase","this","actionCollection","redoCollection","isPopupNoteVisible","pdfViewerBase","enableTextMarkupAnnotation","textMarkupAnnotationModule","TextMarkupAnnotation","prototype","setAnnotationMode","type","clearAnnotationMode","drawTextMarkupAnnotations","toString","isTextMarkupAnnotationMode","deleteAnnotation","deleteTextMarkupAnnotation","initializeCollection","popupNote","createNote","addAction","pageNumber","index","annotation","actionString","property","action","pageIndex","modifiedProperty","push","updateToolbar","undo","actionObject","pop","undoTextMarkupAction","undoRedoPropertyChange","redo","redoTextMarkupAction","toolbarModule","updateUndoRedoButtons","createElement","id","element","className","styles","popupNoteAuthor","appendChild","popupNoteContent","mainContainer","showPopupNote","event","color","author","note","mainContainerPosition","getBoundingClientRect","popupNoteClientRect","textContent","style","backgroundColor","display","topPosition","pageY","top","leftPosition","pageX","left","width","height","hidePopupNote","createTextMarkupPopup","_this","elementId","popupElement","headerElement","authorPopupElement","closeBtn","modifiedDateElement","contentContainer","noteContentElement","contentEditable","viewerContainer","addEventListener","saveClosePopupMenu","bind","onPopupElementMoveStart","onPopupElementMove","window","onPopupElementMoveEnd","focus","changedTouches","target","contains","childNodes","isPopupMenuMoved","popupElementClientRect","clientX","clientY","pageSize","currentAnnotPageNumber","getZoomFactor","parseFloat","top_1","clientPosition","pageDiv","document","getElementById","saveNoteContent","innerText","closePopupMenu","parentElement","removeChild","showAnnotationPopup","getEventPageNumber","currentTextMarkupAnnotation","getProperDate","modifiedDate","canvasPosition","date","dateObject","Date","isNaN","getFullYear","dateString","slice","getMonth","getDate","getHours","getMinutes","getSeconds","eventTarget","pageString","split","parseInt","clear","destroy","getModuleName","LinkAnnotation","renderHyperlinkContent","data","enableHyperlink","hyperlinks","hyperlinksBounds","hyperlinkBounds","linkAnnotation","linkPage","annotationY","annotationLocation","length","renderWebLink","renderDocumentLink","proxy","_loop_1","i","aTag","rect","this_1","setHyperlinkProperties","title","setAttribute","hyperlinkOpenState","onclick","fireHyperlinkClick","open","_loop_2","this_2","undefined","destPageHeight","destLocation","scrollValue","name","scrollTop","background","position","Left","Top","Width","Height","modifyZindexForTextSelection","isAdd","pageCount","getElement","pageChildNodes","childElement","tagName","classList","add","remove","modifyZindexForHyperlink","aElement","getElementsByTagName","parentNode","currentTextMarkupAddMode","selectTextMarkupCurrentPage","currentAnnotationIndex","highlightColor","highlightSettings","underlineColor","underlineSettings","strikethroughColor","strikethroughSettings","highlightOpacity","opacity","underlineOpacity","strikethroughOpacity","createAnnotationLayer","pageWidth","pageHeight","displayMode","annotationCanvas","renderTextMarkupAnnotationsInPage","textMarkupAnnotations","canvas","renderTextMarkupAnnotations","factor","getMagnifiedValue","context","getContext","setLineDash","annotations","getAnnotations","annotationObject","TextMarkupAnnotationType","textMarkupAnnotationType","Color","Opacity","bounds","Bounds","Author","subject","Subject","ModifiedDate","Note","Rect","storeAnnotations","annotBounds","renderHighlightAnnotation","renderStrikeoutAnnotation","renderUnderlineAnnotation","maintainAnnotationSelection","selectionObject","textSelectionModule","selectionRangeArray","convertSelectionToTextMarkup","getSelection","pageBounds","getDrawnBounds","drawTextMarkups","clearTextSelection","rectangleBounds","bound","getPageContext","getAddedAnnotation","isDocumentEdited","settings","annotationModule","fireAnnotationAdd","beginPath","x","X","y","Y","globalAlpha","closePath","fillStyle","msFillRule","fill","save","getProperBounds","drawLine","boundValues","moveTo","lineTo","lineWidth","strokeStyle","stroke","printTextMarkupAnnotations","toDataURL","saveTextMarkupAnnotations","storeObject","sessionStorage","getItem","documentId","Array","colorpick","ColorPicker","j","annotationCollection","JSON","parse","newArray","pageAnnotationObject","z","stringify","getBoundsForSave","colorString","getValue","getRgbCode","pageAnnotations","deletedAnnotation","splice","manageAnnotations","fireAnnotationRemove","Browser","isDevice","annotationToolbarModule","hideMobileAnnotationToolbar","showToolbar","modifyColorProperty","modifyAnnotationProperty","fireAnnotationPropertiesChange","modifyOpacityProperty","args","value","status","toLocaleString","clearCurrentAnnotation","tempColor","tempOpacity","enableAnnotationPropertiesTool","clearCurrentAnnotationSelection","lowerPageIndex","higherPageIndex","k","clearAnnotationSelection","stringArray","r","g","b","selection","anchorNode","range","createRange","isBackWardSelection","textLayer","focusNode","pageId","getPageIndex","pageRect","setStart","focusOffset","setEnd","anchorOffset","boundingRect","rectangle","getDefaultValue","right","bottom","rectangleArray","startNode","endNode","selectionStartOffset","selectionEndOffset","anchorPageId","anchorTextId","getTextIndex","focusPageId","focusTextId","startOffset","endOffset","currentId","selectionRects","pageStartId","pageEndId","pageStartOffset","pageEndOffset","textDivs","textElement","node","detach","startElementNode","endElementNode","pageRange","pageRectBounds","pageRectangle","removeAllRanges","rerenderAnnotationsPinch","annotCanvas","oldAnnotCanvas","rerenderAnnotations","oldCanvas","newCanvas","resizeAnnotations","onTextMarkupAnnotationMouseUp","isNullOrUndefined","isClickedOnScrollBar","currentAnnot","getCurrentMarkupAnnotation","selectAnnotation","isToolbarHidden","showAnnotationToolbar","annotationItem","onTextMarkupAnnotationTouchEnd","number","touchCanvas","touches","onTextMarkupAnnotationMouseMove","cursor","isPanMode","getAnnotationToolStatus","currentTextMarkupAnnotations","canvasParentPosition","leftClickPosition","topClickPosition","annotationList","isAnnotationGot","top_2","compareCurrentAnnotations","previousX","currentAnnotation","firstAnnotBounds","firstXposition","firstYposition","secondAnnotBounds","secondXposition","secondYposition","drawAnnotationSelectRect","isEnable","createMobileAnnotationToolbar","isMobileAnnotEnabled","selectAnnotationDeleteItem","enable","enableAnnotationPropertiesTools","updateColorInIcon","colorDropDownElement","setCurrentColorInPicker","annotObject","removeItem","getPageCollection","indexOf","markupAnnotation","annotationStringified","setItem","predefinedDate","storedIndex","NavigationPane","viewer","base","thumbnailWidthMin","contentContainerScrollWidth","closeButtonLeft","isBookmarkOpen","isThumbnailOpen","isTooltipCreated","isNavigationToolbarVisible","isBookmarkListOpen","isNavigationPaneResized","resizeIconMouseOver","srcElement","resizePanelMouseDown","offset","sideBarResizer","offsetLeft","offsetTop","offsetParent","clientWidth","isDown","sideBarContentContainer","resizeViewerMouseLeave","resizePanelMouseMove","getPopupNoteVisibleStatus","preventDefault","enableRtl","maxWidth","Math","floor","outerContainerWidth","sideBarContent","sideBarContentSplitter","sideBarTitleContainer","getViewerContainerLeft","closeDiv","viewerWidth","pageContainer","thumbnailViewModule","gotoThumbnailImage","currentPageNumber","updateZoomValue","bookmarkButton","children","bookmarkViewModule","setBookmarkContentHeight","sideToolbarOnClose","removeThumbnailSelectionIconTheme","removeBookmarkSelectionIconTheme","updateViewerContainerOnClose","sideToolbarOnClick","sideBarTitle","localeObj","getConstant","bookmarkPane","setThumbnailSelectionIconTheme","updateViewerContainerOnExpand","bookmarkButtonOnClick","renderBookmarkcontent","setBookmarkSelectionIconTheme","initializeNavigationPane","createNavigationPane","sideBarToolbar","attrs","role","aria-orientation","tabindex","cssFloat","sideBarToolbarSplitter","direction","controlLeft","createSidebarToolBar","createSidebarTitleCloseButton","createResizeIcon","sideToolbarOnMouseup","sideBarTitleOnMouseup","adjustPane","splitterElement","toolbarHeight","createNavigationPaneMobile","option","toolbarElement","viewerMainContainer","insertBefore","items","searchTemplate","prefixIcon","tooltipText","click","goBackToToolbar","template","iconElement","firstElementChild","enableSearchItems","textSearchModule","searchButtonClick","searchInput","searchPrevious","searchNext","text","toolbar","Tool","overflowMode","appendTo","initiateSearchBox","initiateBookmarks","searchBtn","which","initiateTextSearch","resetVariables","setSearchInputWidth","enableItems","mobileScrollerContainer","bookmarkContainer","renderBookmarkContentMobile","inputString","initiateSearch","cancelTextSearch","childNavigateCount","bookmarkList","back","onWindowResize","searchInputParent","padding","getComputedStyle","getPropertyValue","getParentElementSearchBox","idString","createTooltipMobile","toastObject","tooltipChild","tooltipDiv","Toast","close","onTooltipClose","animation","hide","duration","effect","clientHeight","show","tooltipElement","isMessagePopupOpened","toolbarResize","thumbnailButton","disabled","aria-label","thumbnailButtonSpan","Tooltip","content","opensOn","beforeOpen","onTooltipBeforeOpen","buttonSpan","toolbarSettings","showTooltip","cancel","enableThumbnailButton","removeAttribute","enableBookmarkButton","resizeIcon","Object","defineProperty","get","mainContainerWidth","enumerable","configurable","sideToolbarWidth","sideBarContentContainerWidth","getViewerMainContainerWidth","resetThumbnailIcon","resetThumbnailView","focusViewerContainer","disableBookmarkButton","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","verb","n","v","op","f","TypeError","_","t","call","label","ops","trys","sent","throw","return","Symbol","iterator","PdfViewerBase","isDocumentLoaded","renderedPagesList","pageGap","pageLeft","sessionLimit","pageStopValue","pageLimit","previousPage","isViewerMouseDown","isViewerMouseWheel","scrollPosition","pointerCount","pointersForTouch","isPasswordAvailable","reRenderedCount","mouseX","mouseY","touchClientX","touchClientY","previousTime","currentTime","isTouchScrolled","isLongTouchPropagated","longTouchTimer","isViewerContainerDoubleClick","dblClickTimer","pinchZoomStorage","isTextSelectionDisabled","dragX","dragY","isScrollbarMouseDown","scrollX","scrollY","ispageMoved","isThumb","isTapHidden","singleTapTimer","tapCount","navigationPane","isAnnotationToolbarHidden","updatePageHeight","annotationToolbarHeight","onToolbarResize","enableToolbar","textSearchBoxOnResize","mobilePageNoContainer","updateMobileScrollerPosition","viewerContainerOnMousedown","button","detail","isIE","documentMode","viewerContainerOnMouseup","scrollHoldTimer","clearTimeout","pageViewScrollChanged","idStringArray","firePageClick","offsetX","offsetY","isTextMarkupAnnotationModule","viewerContainerOnMouseWheel","getRerenderCanvasCreated","magnificationModule","pageRerenderOnMouseWheel","ctrlKey","fitPageScrollMouseWheel","textSelectionOnMouseWheel","viewerContainerOnKeyDown","isMac","navigator","platform","match","isCommandKey","metaKey","shiftKey","keyCode","updateScrollTop","openFileDialogBox","enableTextSelection","copyText","enableTextSearch","textSearchButtonHandler","magnifyBehaviorKeyDown","viewerContainerOnMousemove","isCollapsed","isTextSelection","textSelectionOnMouseMove","panOnMouseMove","deltaX","deltaY","scrollLeft","viewerContainerOnMouseLeave","getTextMarkupAnnotationMode","textSelectionOnMouseLeave","viewerContainerOnMouseEnter","viewerContainerOnMouseOver","viewerContainerOnClick","getCurrentTextMarkupAnnotation","selectAWord","maintainSelectionOnZoom","setTimeout","applySelection","selectEntireLine","viewerContainerOnDragStart","viewerContainerOnContextMenuClick","onWindowMouseUp","contextMenuModule","contextMenuElement","textSelectionOnMouseup","applySpanForSelection","selectionStartPage","stopPropagation","onWindowTouchEnd","viewerContainerOnTouchStart","touchPoints","setTouchPoints","preventTouchEvent","getTime","handleTaps","contextMenuObj","viewerContainerOnLongTouch","initiateTouchSelection","viewerContainerOnPointerDown","pointerType","viewerContainerOnTouchMove","initiatePinchMove","getPagesPinchZoomed","pinchMoveScroll","viewerContainerOnPointerMove","pointerId","viewerContainerOnTouchEnd","pinchMoveEnd","clearInterval","difference","speed","abs","viewerContainerOnPointerEnd","viewerContainerOnScroll","scrollposX","scrollposY","ratio","scrollHeight","containerValue","verticalScrollValue","getPageHeight","getPageTop","renderElementsVirtualScroll","getPinchZoomed","getPinchScrolled","showPageLoadingIndicator","updateCurrentPage","updateNavigationButtons","isThumbnailClicked","firePageChange","updatePagesForFitPage","currentPage","visibility","clearIntervalTimer","initiatePageViewScrollChanged","TextLayer","initializeComponent","toolbarDiv","createMobilePageNumberContainer","tabIndex","touchAction","setMaximumHeight","intializeToolbar","mobilecurrentPageContainer","mobilenumberContainer","mobiletotalPageContainer","mobileSpanContainer","createThumbnailContainer","createPrintPopup","createGoToPagePopup","waitingPopup","createSpinner","cssClass","setLoaderProperties","ContextMenu","createContextMenu","wireEvents","createTextSearchBox","documentPath","load","innerHTML","zIndex","mobileScrollContainerDown","mobileScrollContainerEnd","initiatePageRender","documentData","password","createGUID","showLoadingIndicator","hashId","isFileName","saveDocumentInfo","checkDocumentData","setFileName","jsonObject","constructJsonObject","createAjaxRequest","minHeight","goToPagePopup","removeEventListener","request","XMLHttpRequest","serviceUrl","serverActionSettings","setRequestHeader","responseType","send","onreadystatechange","readyState","currentTarget","response","requestSuccess","fireAjaxRequestFailed","statusText","onerror","openNotificationPopup","createNotificationPopup","documentLiveCount","saveDocumentHashData","pageRender","renderPasswordPopup","renderCorruptPopup","updateToolbarItems","createRequestForThumbnails","createRequestForBookmarks","passwordDialogReset","passwordPopup","initPageDiv","isAutoZoom","isInitialLoading","createRequestForRender","pageTop","viewerHeight","renderPageElement","uploadedDocumentName","fireDocumentLoadFailed","promptElement","createPasswordPopup","createCorruptedPopup","corruptPopup","zoomFactor","base64String","fileName","documentStringArray","unload","updateWaitingPopup","pageCurrentRect","firstChild","createWaitingPopup","isShow","showSpinner","hideSpinner","showPrintLoadingIndicator","printWaitingPopup","printMainContainer","spinnerElement","transformOrigin","isPinchZoomed","getMagnified","isMagnified","isPinchScrolled","isPagePinchZoomed","getPagesZoomed","isPagesZoomed","isRerenderCanvasCreated","getDocumentId","download","createRequestForDownload","isTriggerEvent","initiateTextSelectMode","resetTextSearch","hasChildNodes","lastChild","unloadDocument","windowSessionStorageClear","fireDocumentUnload","unWireEvents","request_1","forEach","getScrollParent","scrollNodeX","scrollNodeY","userAgent","appVersion","scrollTo","nodeName","overflowY","Dialog","showCloseIcon","closeOnEscape","isModal","header","visible","buttons","buttonModel","isPrimary","closeCorruptPopup","beforeClose","goToPageElement","inputContainer","goToPageInput","pageNoContainer","GoToPageCancelClick","GoToPageApplyClick","closeGoToPagePopUp","NumericTextBox","format","showSpinButton","inputValue","EnableApplyButton","DisableApplyButton","getElementsByClassName","navigation","goToPage","differenceRatio","passwordInput","passwordCancel","passwordCancelClick","applyPassword","isInteraction","fitToAuto","fitType","fitToWidth","applyLeftPosition","initiatePanning","modifyTextCursor","disableTextSelectionMode","enableAnnotationAddTools","enableTextSelectionMode","onSingleTap","onDoubleTap","moreDropDown","dropDown","getSelectTextMarkupCurrentPage","magnification","onDoubleTapMagnification","pageValues","updateTotalPage","topValue","pageSizes","previousPageHeight","size","limit","renderPageContainer","getPageWidth","all","renderPagesVirtually","pageValue","lowerPageValue","pageCanvas","maintainSelectionOnScroll","indexInArray","_a","initiateRenderPagesVirtually","isCompletePageSizeNotReceived","renderPage","pageWidth_1","pageHeight_1","canvas_1","updateLeftPosition","context_1","imageData","matrix_1","image_1","Image","onload","devicePixelRatio","setTransform","Elements","drawImage","fireDocumentLoad","rerenderCountIncrement","src","pushImageObjects","renderTextContent","linkAnnotationModule","applySelectionRangeOnScroll","isTextSearch","highlightOtherOccurrences","texts","rotation","addTextLayer","renderTextContents","resizeTextContents","orderPageDivElements","renderPageCanvas","nextElement","renderCountIncrement","currentPageIndex","previous","downloadDocument","blobUrl","URL","createObjectURL","anchorElement","href","documentElement","location","padCharacter","replace","textMarkupAnnotationCollection","createBlobUrl","info","msSaveOrOpenBlob","getStoredData","xCoordinate","yCoordinate","renderPages","data_1","image","storeWinData","storedData","getWindowSessionStorage","getPinchZoomPage","isPinchZoomStorage","blobObj","transformationMatrix","textBounds","pageText","checkZoomFactor","manageSessionStorage","key","hasOwnProperty","higherPageValue","contentType","byteCharacters","atob","byteArrays","byteNumbers","charCodeAt","byteArray","Uint8Array","Blob","getRandomNumber","c","random","isScrollBar","setScrollDownValue","offsetWidth","offsetHeight","eventType","boolValue","isAnnotationButtonsEnabled","textBoundsArray","closeNotification","notifyDialog","textContents","canvasElement","textDiv","whiteSpace","setStyleToTextDiv","Bottom","setTextElementProperties","font","fontSize","fontFamily","contextWidth","measureText","scale","applyTextRotation","Rotation","resizeExcessDiv","textRotation","scaleString","transform","resizeTextContentsOnZoom","renderObject","getPreviousZoomFactor","textElements","filter","obj","textLayerPosition","textDivPosition","clearTextLayers","textLayers","querySelectorAll","getTextSelectionStatus","getTextSearchStatus","convertToSpan","divId","fromOffset","toOffset","textString","substring","createTextNode","spanElement","startPage","endPage","anchorOffsetDiv","focusOffsetDiv","startId","endId","initId","lastId","length_1","clearDivSelection","textHeight","textLayerList","compareDocumentPosition","backward","Node","DOCUMENT_POSITION_PRECEDING","previousZoomFactor","textSearch","copyContextMenu","iconCss","Context","contextMenuOnBeforeOpen","select","onMenuItemSelect","created","contextMenuOnCreated","animationSettings","isClickWithinSelectionBounds","isWithin","getCurrentSelectionBounds","currentBound","getHorizontalValue","getVerticalValue","getHorizontalClientValue","getVerticalClientValue","item","Magnification","scrollWidth","zoomPercentages","isNotPredefinedZoom","pinchStep","reRenderPageNumber","magnifyPageRerenderTimer","rerenderOnScrollTimer","rerenderInterval","touchCenterX","touchCenterY","pageRerenderCount","imageObjects","isTapToFitZoom","zoomLevel","zoomTo","zoomValue","onZoomChanged","zoomIn","lowerZoomLevel","zoomOut","higherZoomLevel","calculateFitZoomFactor","fitToPage","highestWidth","highestHeight","scaleX","min","pinchIn","temporaryZoomFactor","pinchOut","getZoomLevel","max","mid","round","responsivePages","magnifyPages","updateZoomButtons","fireZoomChange","updateZoomPercentage","zoomPercentage","pointX1","pointY1","pointX2","pointY2","zoomOverPages","clearRerenderTimer","updatePageLocation","resizeCanvas","resizeTouchElements","proxy_1","rerenderMagnifiedPages","clearRendering","oldCanvases","renderInSeparateThread","designNewCanvas","setInterval","initiateRerender","calculateScrollValues","currentPageCanvas","currentPageBounds","previousPageTop","previousY","currentY","prevValue","scaleCorrectionFactor","scrollX_1","rerenderOnScroll","annotationLayers","reRenderAfterPinch","isSelectionAvailable","isSelectionAvailableOnScroll","lowerValue","higherValue","currentDifference","sqrt","pow","previousTouchDifference","wheelDelta","upwardScrollFitPage","downwardScrollFitPage","Navigation","goToNextPage","goToPreviousPage","goToFirstPage","goToLastPage","ThumbnailView","thumbnailLimit","thumbnailThreshold","thumbnailTopMargin","thumbnailClick","getPageNumberFromID","previousElement","setSelectionStyle","goToThumbnailPage","thumbnailMouseOver","setMouseOverStyle","thumbnailMouseLeave","setMouseLeaveStyle","thumbnailView","requestCreation","renderThumbnailImage","isThumbnailCompleted","startIndex","sizeX","sizeY","renderThumbnail","shouldScroll","checkThumbnailScroll","thumbnailChild","thumbnailDiv","clientTop","setFocusStyle","visibleThumbs","getVisibleThumbs","numVisibleThumbs","views","visibleFirstPageID","first","visibleLastPageID","last","some","view","pageID","thumbPageNumber","percent","thumbnail","setMouseFocusStyle","pageLink","thumbnailSelectionRing","thumbnailPageNumber","thumbnailImage","wireUpEvents","setMouseFocusToFirstPage","unwireUpEvents","thumbnailElement","getVisibleElements","scrollElement","thumbnailViewChildren","currentHeight","viewHeight","viewBottom","currentWidth","viewWidth","viewRight","percentVisible","firstVisibleElementInd","binarySearchFirstItem","thumbnailViewChildrenElement","backtrackBeforeAllVisibleElements","lastEdge","ii","getThumbnailElement","clientLeft","condition","minIndex","maxIndex","currentIndex","Toolbar","isPageNavigationToolDisabled","isMagnificationToolDisabled","isSelectionToolDisabled","isScrollingToolDisabled","isOpenBtnVisible","isNavigationToolVisible","isMagnificationToolVisible","isSelectionBtnVisible","isScrollingBtnVisible","isDownloadBtnVisible","isPrintBtnVisible","isSearchBtnVisible","isTextSearchBoxDisplayed","isUndoRedoBtnsVisible","isAnnotationEditBtnVisible","onToolbarKeydown","targetId","toolbarClickHandler","originalEvent","zoomDropdownItem","tooltipData","dataset","tooltipId","handleToolbarButtonClick","currentPageBoxElement","textSearchItem","blur","loadDocument","upoadedFiles","files","uploadedFile","reader","FileReader","readAsDataURL","uploadedFileUrl","navigateToPage","enteredValue","navigationModule","textBoxFocusOut","currentPageBox","createToolbar","totalPageItem","createFileElement","wireEvent","applyToolbarSettings","initialEnableItems","AnnotationToolbar","initializeAnnotationToolbar","showToolbarItem","isVisible","showOpenOption","showPageNavigationTool","showMagnificationTool","showSelectionTool","showScrollingTool","showDownloadOption","showPrintOption","showSearchOption","showUndoRedoTool","showAnnotationEditTool","applyHideToToolbar","showSeparator","enableToolbarItem","enableOpenOption","enablePageNavigationTool","enableMagnificationTool","enableSelectionTool","enableScrollingTool","enableDownloadOption","enablePrintOption","enableSearchOption","enableUndoRedoTool","enableAnnotationEditTool","openDocumentItem","firstPageItem","previousPageItem","nextPageItem","lastPageItem","readonly","zoomInItem","zoomOutItem","zoomDropDown","textSelectItem","panItem","downloadItem","printItem","undoItem","redoItem","resetToolbar","moreOptionItem","deSelectItem","updateInteractionItems","enableAnnotation","annotationToolbarSettings","annotationToolbarItem","enableCollectionAvailable","disableUndoRedoButtons","collection","unWireEvent","fileInputElement","controlWidth","createToolbarItemsForMobile","tool","clicked","createToolbarItems","createZoomDropdown","createNumericTextBox","refreshOverflow","afterToolbarCreation","currentPageInputTemplate","createCurrentPageInputTemplate","totalPageTemplate","createTotalPageTemplate","zoomDropDownTemplateString","createZoomDropdownElement","align","itemsContainer","addClassToolbarItem","createTooltip","addPropertiesToolItemContainer","minWidth","createToolbarItem","outerHTML","ComboBox","dataSource","fields","popupHeight","showClearButton","createMoreOption","DropDownButton","dropdownButtonPosition","beforeItemRender","bookmarks","elementName","toolbarItem","toolbarOnMouseup","change","zoomPercentSelect","onZoomDropDownInput","onZoomDropDownInputClick","endIndex","isHide","hideItem","printModule","print","updateInteractionTools","initiateAnnotationMode","zoomDropDownChange","isInteracted","itemData","zoomText","focusOut","currentPercent","interactionMode","selectItem","showSearchBox","searchInputElement","isTextSelect","toolbarItems","toolbarSettingsItems","isHighlightEnabled","isUnderlineEnabled","isStrikethroughEnabled","isHighlightBtnVisible","isUnderlineBtnVisible","isStrikethroughBtnVisible","isColorToolVisible","isOpacityToolVisible","isDeleteAnnotationToolVisible","isCurrentAnnotationOpacitySet","primaryToolbar","onToolbarClicked","createDropDowns","applyAnnotationToolbarSettings","createMobileToolbarItems","deleteItem","colorTemplate","getTemplate","opacityTemplate","page","colorPalette","createColorPicker","colorDropDown","createDropDownButton","colorDropDownBeforeOpen","colorDropDownOpen","onColorPickerCancelClick","opacityDropDownElement","sliderContainer","createSlider","opacityDropDown","opacityDropDownBeforeOpen","opacitySlider","opacityChange","changed","opacityDropDownOpen","toggle","refresh","updateOpacityIndicator","iconClass","dropDownButton","inputElement","colorPicker","inline","mode","enableOpacity","onColorPickerChange","currentValue","hex","borderBottomColor","opacityIndicator","outerContainer","sliderElement","Slider","highlightItem","underlineItem","strikethroughItem","closeItem","handleHighlight","handleUnderline","handleStrikethrough","toolBarInitialStatus","adjustViewer","deselectAllItems","showHighlightTool","showUnderlineTool","showStrikethroughTool","showColorEditTool","showOpacityEditTool","showAnnotationDeleteTool","isAdjust","updateViewerHeight","getElementHeight","resetViewerHeight","isButtonsEnabled","__extends","extendStatics","d","setPrototypeOf","__proto__","p","__","constructor","create","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","ToolbarSettings","_super","Property","ChildProperty","AnnotationToolbarSettings","ServerActionSettings","StrikethroughSettings","UnderlineSettings","HighlightSettings","PdfViewer","options","defaultLocale","Cancel","Download file","Download","Enter Password","File Corrupted","File Corrupted Content","Fit Page","Fit Width","Automatic","Go To First Page","Invalid Password","Next Page","OK","Open","Page Number","Previous Page","Go To Last Page","Zoom","Zoom In","Zoom Out","Page Thumbnails","Bookmarks","Print","Password Protected","Copy","Text Selection","Panning","Text Search","Find in document","Match case","Apply","GoToPage","No matches","No Text Found","Undo","Redo","Highlight","Underline","Strikethrough","Delete","Color edit","Opacity edit","highlight","underline","strikethrough","Server error","Open text","First text","Previous text","Next text","Last text","Zoom in text","Zoom out text","Selection text","Pan text","Print text","Seach text","Annotation Edit text","preRender","L10n","locale","render","getLocaleConstants","onPropertyChanged","newProp","oldProp","isDestroyed","_i","properties_1","keys","notify","module","getPersistData","requiredModules","modules","enableMagnification","member","enableNavigation","enableThumbnail","enableBookmark","enablePrint","enableDownload","eventArgs","documentName","trigger","isPasswordRequired","errorStatusCode","errorMessage","previousPageNumber","previousZoomValue","hyperlink","annotationId","annotationType","annotationBound","annotationSettings","isColorChanged","isOpacityChanged","Event","NotifyPropertyChanges","Component","BookmarkView","bookmarkClick","bookid","Id","navigateToBookmark","nodeClick","setHeight","Number","nodeData","bookMark","bookmarksDestination","bookMarkDestination","BookmarksDestination","isBookmarkViewDiv","bookmarkView","bookmarkIconView","bookmarkIcon","bookmarkTitle","paddingRight","paddingLeft","treeObj","TreeView","child","hasChildren","nodeTemplate","nodeSelected","evt","ListView","showHeader","fullRowSelect","querySelector","closest","nextElementSibling","PageIndex","goToBookmark","getBookmarks","destPage","scroll","TextSelection","isBackwardPropagatedSelection","contextMenuHeight","selectionAnchorTouch","selectionFocusTouch","scrollMoveTimer","isMouseLeaveSelection","isTouchSelection","previousScrollDifference","topStoreLeft","topStoreRight","onLeftTouchSelectElementTouchStart","initiateSelectionByTouch","onRightTouchSelectElementTouchStart","onLeftTouchSelectElementTouchEnd","terminateSelectionByTouch","onRightTouchSelectElementTouchEnd","onLeftTouchSelectElementTouchMove","nodeElement","rightElement","dropDivElementRight","isTouchedWithinViewerContainer","isTouchedWithinContainer","dropBounds","xTouch","yTouch","getNodeElement","isCloserMovement","isCloserTouchScroll","isTextSelected","dropElementLeft","dropElementRight","selectTextByTouch","elementClientRect","dropDivElementLeft","pageTopValue","topClientValue","getClientValueTop","currentRangeLeft","isHeightNeeded","onRightTouchSelectElementTouchMove","leftElement","dropPosition","touchX","touchY","targetElement","nodeType","TEXT_NODE","ownerDocument","selectNodeContents","currentPosition","endPosition","rangeBounds","addRange","extend","getSelectionRange","viewerTop","scrollForwardOnSelection","scrollBackwardOnSelection","stichSelectionOnScroll","isStoreSelection","indices","startPosition","endPos","startContainer","textIds","targetRect","targetcentre","bottomValue","textId","lengths","d1","d2","searchAfterSelection","removeTouchElements","viewerContainerLeft","dropElementHeight","leftCurrentPagePosition","rightCurrentPagePosition","indexes","getIndexes","isMaintainSelection","isStich","isBackward","getNodeElementFromNode","lastChildNode","previousSibling","ranges","applySelectionMouseScroll","applySelectionRange","getSelectionRangeFromArray","selectionRange","anchorPageIndex","focusPageIndex","currentAnchorIndex","extendCurrentSelection","currentAnchorOffset","currentFocusOffset","maintainSelection","selectionBounds","getSelectionBounds","getRangeAt","selectionRectBounds","getSelectionRectangleBounds","anchorOffsetValue","getCorrectOffset","focusOffsetValue","pushSelectionRangeObject","createRangeObjectOnScroll","stichSelection","offsetValue","currentObject","currentObjectIndex","nextPageObject","prevPageObject","prevIndex","firstObject","currentFocusElement","nextPageElement","lastElement","getTextLastLength","firstElement","extendSelectionStich","lastElement_1","maintainSelectionArray","selectionRangeObject","getSelectionRangeObject","selectionString","selectionBound","startElement","endElement","endContainer","newStartRange","startRange","createRangeForSelection","normalizeBounds","newRange","getTextId","lastIndexOf","currentPageRect","start","end","anchorPage","focusPage_1","arrayObject","focusElement","isFocusChanged","lastPageDiv","belowElements","elementsFromPoint","createTouchSelectElement","isForwardSelection","rangeObject","setTouchSelectionStartPosition","getTouchFocusElement","getTouchAnchorElement","isCurrentFocus","isCurrentAnchor","rangePosition","dropElementRect","viewerLeftPosition","topPositionValue","currentPageLeft","calculateContextMenuPosition","contextTop","caretRangeFromPoint","onTouchElementScroll","caretPositionFromPoint","offsetNode","viewerScrollTop","isScrolledOnScrollBar","isForwardMovement","clientValue","selectionText","textArea","execCommand","ex","console","warn","TextSearch","searchIndex","currentSearchIndex","searchPageIndex","searchString","isMatchCase","searchMatches","searchCollection","searchedPages","isPrevSearch","tempElementStorage","checkBoxOnChange","checked","clearAllOccurrences","searchKeypressHandler","enableNextButton","enablePrevButton","updateSearchInputIcon","searchClickHandler","nextButtonOnClick","nextSearch","prevButtonOnClick","prevSearch","searchBox","searchElementsContainer","searchInputContainer","placeholder","prevSearchBtn","createSearchBoxButtons","nextSearchBtn","matchCaseContainer","matchCaseInput","checkBox","CheckBox","secondaryToolbar","onTextSearchClose","initSearch","highlightOthers","searchElement","highlightSearchedTexts","isSinglePageSearch","getPossibleMatches","createRequestForSearch","searchText","queryLength","toLowerCase","matches","matchIndex","onMessageBoxOpen","getSearchPage","convertMatches","m","divIndex","matchCollection","begin","prevEnd","scrollPoint","addSpanForSearch","beginText","targetScrollElement","getScrollElement","scrollToSearchStr","element_1","ele","classString","divTextContent","searchOnSelection","isClassAvailable","isClass","addSpan","newNode","currentString","subString","nextSubString","subString_1","balanceString","nextString","newSubString","nextNewSubString","parent","applyTextSelection","iconSpan","printViewerContainer","iframe","frameDoc","contentWindow","contentDocument","createRequestForPrint","printImage","responseText","annotationSource","textMarkupAnnotation","printCanvas","pageImage","annotationImage","translate","rotate","PI","printWindowOpen","browserUserAgent","write","canvasUrl"],"mappings":"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"}