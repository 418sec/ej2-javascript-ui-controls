!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base"],t):t(e.ej={},e.ej2Base)}(this,function(e,t){"use strict";var i=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),s=function(e,t,i,s){var n,o=arguments.length,l=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(o<3?n(l):o>3?n(t,i,l):n(t,i))||l);return o>3&&l&&Object.defineProperty(t,i,l),l},n="e-splitter",o="e-splitter-horizontal",l="e-splitter-vertical",a="e-pane",r="e-pane-horizontal",h="e-pane-vertical",d="e-split-bar",p="e-split-bar-horizontal",u="e-split-bar-vertical",c="e-static-pane",g="e-scrollable",m="e-resize-handler",f="e-resizable-split-bar",v="e-split-bar-hover",C="e-split-bar-active",y="e-hide-handler",P="e-disabled",w=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),s([t.Property()],n.prototype,"size",void 0),s([t.Property(!0)],n.prototype,"resizable",void 0),s([t.Property(null)],n.prototype,"min",void 0),s([t.Property(null)],n.prototype,"max",void 0),s([t.Property()],n.prototype,"content",void 0),n}(t.ChildProperty),S=function(e){function S(t,i){var s=e.call(this,t,i)||this;return s.allPanes=[],s.paneOrder=[],s.separatorOrder=[],s.allBars=[],s.previousCoordinates={},s.currentCoordinates={},s.updatePrePaneInPercentage=!1,s.updateNextPaneInPercentage=!1,s.panesDimensions=[],s.border=0,s.validDataAttributes=["data-size","data-min","data-max","data-collapsible","data-resizable","data-content"],s.validElementAttributes=["data-orientation","data-width","data-height"],s}return i(S,e),S.prototype.onPropertyChanged=function(e,i){if(this.element.classList.contains(n))for(var s=0,o=Object.keys(e);s<o.length;s++){switch(o[s]){case"height":this.setSplitterSize(this.element,e.height,"height");break;case"width":this.setSplitterSize(this.element,e.width,"width");break;case"cssClass":this.setCssClass(e.cssClass);break;case"enabled":this.isEnabled(this.enabled);break;case"separatorSize":this.setSeparatorSize(e.separatorSize);break;case"orientation":this.changeOrientation(e.orientation);break;case"paneSettings":if(!(e.paneSettings instanceof Array&&i.paneSettings instanceof Array))for(var l=Object.keys(e.paneSettings),a=0;a<l.length;a++)for(var r=parseInt(Object.keys(e.paneSettings)[a],10),h=Object.keys(e.paneSettings[r]).length,d=0;d<h;d++){var p=Object.keys(e.paneSettings[r])[d],u=Object(e.paneSettings[r])[p];r=this.enableRtl?this.allBars.length-1-r:r,"content"===p&&(this.allPanes[r].innerHTML="",this.setTemplate(u,this.allPanes[r])),"resizable"===p&&(t.EventHandler.remove(this.allBars[r],"mousedown",this.onMouseDown),u?(t.EventHandler.add(this.allBars[r],"mousedown",this.onMouseDown,this),this.currentSeparator=this.allBars[r],this.isResizable()&&(this.showResizer(this.allBars[r]),this.allBars[r].classList.add(f))):(this.hideResizer(this.allBars[r]),this.allBars[r].classList.remove(f))),"size"===p&&(this.allPanes[r].style.flexBasis=u)}break;case"enableRtl":this.setRTL(e.enableRtl)}}},S.prototype.preRender=function(){this.wrapper=this.element.cloneNode(!0),this.wrapperParent=this.element.parentElement,t.removeClass([this.wrapper],["e-control","e-lib",n]);var e="Horizontal"===this.orientation?o:l;t.addClass([this.element],e),t.Browser.isDevice&&t.addClass([this.element],"e-splitter-touch")},S.prototype.getPersistData=function(){return this.addOnPersist([])},S.prototype.getModuleName=function(){return"splitter"},S.prototype.render=function(){this.checkDataAttributes(),this.setCssClass(this.cssClass),this.isEnabled(this.enabled),this.setDimension(this.getHeight(this.element),this.getWidth(this.element)),this.createSplitPane(this.element),this.addSeparator(this.element),this.getPanesDimensions(),this.setRTL(this.enableRtl)},S.prototype.checkDataAttributes=function(){for(var e,i,s=0;s<this.validElementAttributes.length;s++)i=this.element.getAttribute(this.validElementAttributes[s]),t.isNullOrUndefined(i)||(this[e=this.removeDataPrefix(this.validElementAttributes[s])]=i);for(var n=0;n<this.element.children.length;n++)for(var o=0;o<this.validDataAttributes.length;o++)if(i=this.element.children[n].getAttribute(this.validDataAttributes[o]),!t.isNullOrUndefined(i)){i="collapsible"===(e=this.removeDataPrefix(this.validDataAttributes[o]))||"resizable"===e?"true"===i:i,t.isNullOrUndefined(this.paneSettings[n])&&(this.paneSettings[n]={size:"",min:null,max:null,content:"",resizable:!0});var l=this.paneSettings[n][e];"resizable"===e&&this.paneSettings[n].resizable&&(this.paneSettings[n][e]=i),(t.isNullOrUndefined(l)||""===l)&&(this.paneSettings[n][e]=i)}},S.prototype.removeDataPrefix=function(e){return e.slice(e.lastIndexOf("-")+1)},S.prototype.setRTL=function(e){e?t.addClass([this.element],"e-rtl"):t.removeClass([this.element],"e-rtl")},S.prototype.setSplitterSize=function(e,i,s){var n="width"===s?{width:t.formatUnit(i)}:{height:t.formatUnit(i)};t.setStyleAttribute(e,n)},S.prototype.getPanesDimensions=function(){for(var e=0;e<this.allPanes.length;e++)"Horizontal"===this.orientation?this.panesDimensions.push(this.allPanes[e].getBoundingClientRect().width):this.panesDimensions.push(this.allPanes[e].getBoundingClientRect().height)},S.prototype.setCssClass=function(e){""!==e&&t.addClass([this.element],e.split(" "))},S.prototype.hideResizer=function(e){t.addClass([t.select("."+m,e)],y)},S.prototype.showResizer=function(e){t.removeClass([t.select("."+m,e)],y)},S.prototype.isEnabled=function(e){e?t.removeClass([this.element],P):t.addClass([this.element],P)},S.prototype.setSeparatorSize=function(e){for(var i=t.isNullOrUndefined(e)?"auto":e+"px",s="Horizontal"===this.orientation?p:u,n=0;n<this.allBars.length;n++){var o=t.selectAll("."+s,this.element)[n],l=t.selectAll("."+m,o)[0];"Horizontal"===this.orientation?(o.style.width=i,t.isNullOrUndefined(l)||(l.style.width=i)):(o.style.height=i,t.isNullOrUndefined(l)||(l.style.height=i))}},S.prototype.changeOrientation=function(e){var t="Vertical"===e;this.element.classList.remove(t?o:l),this.element.classList.add(t?l:o),this.element.removeAttribute("aria-orientation"),this.element.setAttribute("aria-orientation",e);for(var i=0;i<this.allPanes.length;i++)this.allPanes[i].classList.remove(t?r:h),this.allPanes[i].classList.add(t?h:r);for(i=0;i<this.allBars.length;i++)this.allBars[i].classList.remove(t?p:u),this.allBars[i].classList.add(t?u:p)},S.prototype.getPrevPane=function(e,t){var i=this.enableRtl&&"Horizontal"===this.orientation?(t-1)/2+1:(t-1)/2;return e.parentElement.children[i]},S.prototype.getNextPane=function(e,t){var i=this.enableRtl&&"Horizontal"===this.orientation?(t-1)/2:(t-1)/2+1;return e.parentElement.children[i]},S.prototype.addResizeHandler=function(e){var i=this.createElement("div");t.addClass([i],[m,"e-icons"]);var s=t.isNullOrUndefined(this.separatorSize)?"1px":this.separatorSize+"px";"Horizontal"===this.orientation?i.style.width=s:i.style.height=s,e.appendChild(i)},S.prototype.getHeight=function(e){this.height;return""!==e.style.height&&"100%"===this.height?e.style.height:this.height},S.prototype.getWidth=function(e){this.width;return""!==e.style.width&&"100%"===this.width?e.style.width:this.width},S.prototype.setDimension=function(e,i){t.setStyleAttribute(this.element,{height:e,width:i})},S.prototype.createSeparator=function(e){var i=this.createElement("div");return this.allBars.push(i),"Horizontal"===this.orientation?(t.addClass([i],[d,p]),i.style.width=t.isNullOrUndefined(this.separatorSize)?"auto":this.separatorSize+"px"):(t.addClass([i],[d,u]),i.style.height=t.isNullOrUndefined(this.separatorSize)?"auto":this.separatorSize+"px"),this.addMouseActions(i),this.addResizeHandler(i),i},S.prototype.addSeparator=function(e){for(var i=this.allPanes.length,s=e.children,n=0;n<i;n++)if(n<i-1){var o=this.createSeparator(n);if(t.setStyleAttribute(o,{order:2*n+1}),this.separatorOrder.push(2*n+1),s[n].parentNode.appendChild(o),this.currentSeparator=o,o.setAttribute("role","separator"),this.isResizable()){t.EventHandler.add(o,"mousedown",this.onMouseDown,this);var l="msie"===t.Browser.info.name?"pointerdown":"touchstart";t.EventHandler.add(o,l,this.onMouseDown,this),o.classList.add(f)}else this.hideResizer(o)}},S.prototype.isResizable=function(){var e=!1;return(!t.isNullOrUndefined(this.paneSettings[this.getPreviousPaneIndex()])&&this.paneSettings[this.getPreviousPaneIndex()].resizable&&!t.isNullOrUndefined(this.paneSettings[this.getNextPaneIndex()])&&this.paneSettings[this.getNextPaneIndex()].resizable||t.isNullOrUndefined(this.paneSettings[this.getNextPaneIndex()]))&&(e=!0),e},S.prototype.addMouseActions=function(e){e.addEventListener("mouseover",function(){t.addClass([e],[v])}),e.addEventListener("mouseout",function(){t.removeClass([e],[v])})},S.prototype.getEventType=function(e){return e.indexOf("mouse")>-1?"mouse":"touch"},S.prototype.updateCurrentSeparator=function(e){this.currentSeparator=this.isSeparator(e)?e:e.parentElement},S.prototype.isSeparator=function(e){var t=!0;return(e.classList.contains(m)||e.classList.contains("e-split-line"))&&(t=!1),t},S.prototype.isMouseEvent=function(e){var i=!1;return("mouse"===this.getEventType(e.type)||!t.isNullOrUndefined(e.pointerType)&&"mouse"===this.getEventType(e.pointerType))&&(i=!0),i},S.prototype.updateCursorPosition=function(e,i){if(this.isMouseEvent(e))this.changeCoordinates({x:e.pageX,y:e.pageY},i);else{var s="msie"!==t.Browser.info.name?e.touches[0]:e;this.changeCoordinates({x:s.pageX,y:s.pageY},i)}},S.prototype.changeCoordinates=function(e,t){"previous"===t?this.previousCoordinates=e:this.currentCoordinates=e},S.prototype.wireResizeEvents=function(){t.EventHandler.add(document,"mousemove",this.onMouseMove,this),t.EventHandler.add(document,"mouseup",this.onMouseUp,this);var e="msie"===t.Browser.info.name?"pointermove":"touchmove",i="msie"===t.Browser.info.name?"pointerup":"touchend";t.EventHandler.add(document,e,this.onMouseMove,this),t.EventHandler.add(document,i,this.onMouseUp,this)},S.prototype.unwireResizeEvents=function(){var e="msie"===t.Browser.info.name?"pointermove":"touchmove",i="msie"===t.Browser.info.name?"pointerup":"touchend";t.EventHandler.remove(document,"mousemove",this.onMouseMove),t.EventHandler.remove(document,"mouseup",this.onMouseUp),t.EventHandler.remove(document,e,this.onMouseMove),t.EventHandler.remove(document,i,this.onMouseUp)},S.prototype.onMouseDown=function(e){e.preventDefault();var i=e.target;this.updateCurrentSeparator(i),t.addClass([this.currentSeparator],C),this.updateCursorPosition(e,"previous"),this.getPaneDetails();var s={element:this.element,event:e,pane:[this.previousPane,this.nextPane],index:[this.getPreviousPaneIndex(),this.getNextPaneIndex()],separator:this.currentSeparator,cancel:!1};if(this.trigger("resizeStart",s),!s.cancel)if(this.wireResizeEvents(),this.previousPane.style.flexBasis.indexOf("%")>0||this.nextPane.style.flexBasis.indexOf("%")>0){var n=this.updatePaneFlexBasis(this.previousPane),o=this.updatePaneFlexBasis(this.nextPane);this.totalPercent=n+o,this.totalWidth=this.convertPercentageToPixel(this.totalPercent+"%")}else this.totalWidth="Horizontal"===this.orientation?this.previousPane.offsetWidth+this.nextPane.offsetWidth:this.previousPane.offsetHeight+this.nextPane.offsetHeight},S.prototype.updatePaneFlexBasis=function(e){var t;if(e.style.flexBasis.indexOf("%")>0)t=this.removePercentageUnit(e.style.flexBasis);else if(""!==e.style.flexBasis)t=this.convertPixelToPercentage(this.convertPixelToNumber(e.style.flexBasis));else{var i="Horizontal"===this.orientation?e.offsetWidth+this.currentSeparator.offsetWidth:e.offsetHeight+this.currentSeparator.offsetHeight;t=this.convertPixelToPercentage(i)}return t},S.prototype.removePercentageUnit=function(e){return parseFloat(e.slice(0,e.indexOf("%")))},S.prototype.convertPercentageToPixel=function(e,i){var s,n=e.toString();if(n.indexOf("%")>-1){s=parseFloat(n.slice(0,n.indexOf("%")));var o=void 0;o=t.isNullOrUndefined(i)?"Horizontal"===this.orientation?this.element.offsetWidth:this.element.offsetHeight:this.panesDimensions[this.allPanes.indexOf(i)],s=Math.ceil(o*(s/100))}else s=parseInt(n,10);return s},S.prototype.convertPixelToPercentage=function(e){return e/("Horizontal"===this.orientation?this.element.offsetWidth:this.element.offsetHeight)*100},S.prototype.convertPixelToNumber=function(e){return e.indexOf("p")>-1?parseFloat(e.slice(0,e.indexOf("p"))):parseFloat(e)},S.prototype.calcDragPosition=function(e,t){var i,s;return i="Horizontal"===this.orientation?this.currentCoordinates.x-e:this.currentCoordinates.y-e,s=i/t,(s=s>1?1:s<0?0:s)*t},S.prototype.getSeparatorPosition=function(e){this.updateCursorPosition(e,"current");var t="Horizontal"===this.orientation?this.element.getBoundingClientRect().left:this.element.getBoundingClientRect().top,i="Horizontal"===this.orientation?this.element.offsetWidth:this.element.offsetHeight;return this.calcDragPosition(t,i)},S.prototype.getMinMax=function(e,i,s){var n="min"===s?0:null,o=null;return"min"===s?t.isNullOrUndefined(this.paneSettings[e])||t.isNullOrUndefined(this.paneSettings[e].min)||(o=this.paneSettings[e].min):t.isNullOrUndefined(this.paneSettings[e])||t.isNullOrUndefined(this.paneSettings[e].max)||(o=this.paneSettings[e].max),this.paneSettings.length>0&&!t.isNullOrUndefined(this.paneSettings[e])&&!t.isNullOrUndefined(o)?(o.indexOf("%")>0&&(o=this.convertPercentageToPixel(o).toString()),this.convertPixelToNumber(o)):n},S.prototype.getPreviousPaneIndex=function(){var e=(parseInt(this.currentSeparator.style.order,10)-1)/2;return this.enableRtl?e+1:e},S.prototype.getNextPaneIndex=function(){var e=(parseInt(this.currentSeparator.style.order,10)-1)/2;return this.enableRtl?e:e+1},S.prototype.getPaneDetails=function(){this.order=parseInt(this.currentSeparator.style.order,10),this.previousPane=this.getPrevPane(this.currentSeparator,this.order),this.nextPane=this.getNextPane(this.currentSeparator,this.order),this.prevPaneIndex=this.getPreviousPaneIndex(),this.nextPaneIndex=this.getNextPaneIndex()},S.prototype.getPaneHeight=function(e){return"Horizontal"===this.orientation?e.offsetWidth.toString():e.offsetHeight.toString()},S.prototype.boundingRectValues=function(e){return"Horizontal"===this.orientation?e.getBoundingClientRect().width:e.getBoundingClientRect().height},S.prototype.isValidSize=function(e){var i=!1;return!t.isNullOrUndefined(this.paneSettings[e])&&!t.isNullOrUndefined(this.paneSettings[e].size)&&this.paneSettings[e].size.indexOf("%")>-1&&(i=!0),i},S.prototype.getPaneDimensions=function(){if(this.previousPaneHeightWidth=""===this.previousPane.style.flexBasis?this.getPaneHeight(this.previousPane):this.previousPane.style.flexBasis,this.nextPaneHeightWidth=""===this.nextPane.style.flexBasis?this.getPaneHeight(this.nextPane):this.nextPane.style.flexBasis,this.paneSettings.length<1)return this.prePaneDimenson=this.boundingRectValues(this.previousPane),void(this.nextPaneDimension=this.boundingRectValues(this.nextPane));this.isValidSize(this.prevPaneIndex)&&(this.previousPaneHeightWidth=this.convertPercentageToPixel(this.previousPaneHeightWidth).toString(),this.updatePrePaneInPercentage=!0),this.isValidSize(this.nextPaneIndex)&&(this.nextPaneHeightWidth=this.convertPercentageToPixel(this.nextPaneHeightWidth).toString(),this.updateNextPaneInPercentage=!0),this.prePaneDimenson=this.convertPixelToNumber(this.previousPaneHeightWidth.toString()),this.nextPaneDimension=this.convertPixelToNumber(this.nextPaneHeightWidth.toString())},S.prototype.checkCoordinates=function(e,t){var i=!0;return e!==this.previousCoordinates.x&&t!==this.previousCoordinates.y||(i=!1),i},S.prototype.isCursorMoved=function(e){return"mouse"===this.getEventType(e.type)||!t.isNullOrUndefined(e.pointerType)&&"mouse"===this.getEventType(e.pointerType)?this.checkCoordinates(e.pageX,e.pageY):"msie"!==t.Browser.info.name?this.checkCoordinates(e.touches[0].pageX,e.touches[0].pageY):this.checkCoordinates(e.pageX,e.pageY)},S.prototype.getBorder=function(){this.border=0;var e="Horizontal"===this.orientation?(this.element.offsetWidth-this.element.clientWidth)/2:(this.element.offsetHeight-this.element.clientHeight)/2;this.border="chrome"!==t.Browser.info.name?this.border:e},S.prototype.onMouseMove=function(e){if(this.isCursorMoved(e)){this.getPaneDetails(),this.getPaneDimensions();var t={element:this.element,event:e,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],paneSize:[this.prePaneDimenson,this.nextPaneDimension],separator:this.currentSeparator};this.trigger("resizing",t);var i,s=this.validateDraggedPosition(this.getSeparatorPosition(e),this.prePaneDimenson,this.nextPaneDimension);if(this.getBorder(),i="Horizontal"===this.orientation?this.element.getBoundingClientRect().left+s-this.currentSeparator.getBoundingClientRect().left+this.border:this.element.getBoundingClientRect().top+s-this.currentSeparator.getBoundingClientRect().top+this.border,this.nextPaneHeightWidth="string"==typeof this.nextPaneHeightWidth&&this.nextPaneHeightWidth.indexOf("p")>-1?this.convertPixelToNumber(this.nextPaneHeightWidth):parseInt(this.nextPaneHeightWidth,10),this.prevPaneCurrentWidth=i+this.convertPixelToNumber(this.previousPaneHeightWidth),this.nextPaneCurrentWidth=this.nextPaneHeightWidth-i,this.validateMinMaxValues(),this.nextPaneCurrentWidth<0&&(this.nextPaneCurrentWidth=0),this.prevPaneCurrentWidth<0&&(this.prevPaneCurrentWidth=0),this.nextPaneCurrentWidth+this.prevPaneCurrentWidth>this.totalWidth&&(this.nextPaneCurrentWidth<this.prevPaneCurrentWidth?this.prevPaneCurrentWidth=this.prevPaneCurrentWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth-this.totalWidth):this.nextPaneCurrentWidth=this.nextPaneCurrentWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth-this.totalWidth)),this.nextPaneCurrentWidth+this.prevPaneCurrentWidth<this.totalWidth){var n=this.totalWidth-(this.nextPaneCurrentWidth+this.prevPaneCurrentWidth);this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+n}this.calculateCurrentDimensions(),this.addStaticPaneClass(),this.previousPane.style.flexBasis=this.prevPaneCurrentWidth,this.nextPane.style.flexBasis=this.nextPaneCurrentWidth}},S.prototype.validateMinRange=function(e,i,s){var n,o,l=null,a=0;return t.isNullOrUndefined(this.paneSettings[e])||t.isNullOrUndefined(this.paneSettings[e].min)||(l=this.paneSettings[e].min.toString()),t.isNullOrUndefined(l)||(l.indexOf("%")>0&&(l=this.convertPercentageToPixel(l).toString()),i<(n=this.convertPixelToNumber(l))&&(a=i-n<=0?0:i-n,this.totalWidth=this.totalWidth-a,this.totalPercent=this.convertPixelToPercentage(this.totalWidth),o=n)),t.isNullOrUndefined(o)?i:o},S.prototype.validateMaxRange=function(e,i,s){var n,o,l=null;return t.isNullOrUndefined(this.paneSettings[e])||t.isNullOrUndefined(this.paneSettings[e].max)||(l=this.paneSettings[e].max.toString()),t.isNullOrUndefined(l)||(l.indexOf("%")>0&&(l=this.convertPercentageToPixel(l).toString()),i>(n=this.convertPixelToNumber(l))&&(this.totalWidth=this.totalWidth-(i-n),this.totalPercent=this.convertPixelToPercentage(this.totalWidth),o=n)),t.isNullOrUndefined(o)?i:o},S.prototype.validateMinMaxValues=function(){this.prevPaneCurrentWidth=this.validateMinRange(this.prevPaneIndex,this.prevPaneCurrentWidth,this.previousPane),this.nextPaneCurrentWidth=this.validateMinRange(this.nextPaneIndex,this.nextPaneCurrentWidth,this.nextPane),this.prevPaneCurrentWidth=this.validateMaxRange(this.prevPaneIndex,this.prevPaneCurrentWidth,this.previousPane),this.nextPaneCurrentWidth=this.validateMaxRange(this.nextPaneIndex,this.nextPaneCurrentWidth,this.nextPane)},S.prototype.equatePaneWidths=function(){var e;this.prevPaneCurrentWidth+this.nextPaneCurrentWidth>this.totalPercent&&(e=this.prevPaneCurrentWidth+this.nextPaneCurrentWidth-this.totalPercent,this.prevPaneCurrentWidth=this.prevPaneCurrentWidth-e/2+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth-e/2+"%"),this.prevPaneCurrentWidth+this.nextPaneCurrentWidth<this.totalPercent&&(e=this.totalPercent-(this.prevPaneCurrentWidth+this.nextPaneCurrentWidth),this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+e/2+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+e/2+"%")},S.prototype.calculateCurrentDimensions=function(){this.updatePrePaneInPercentage||this.updateNextPaneInPercentage?(this.prevPaneCurrentWidth=Math.round(Number(Math.round(10*this.convertPixelToPercentage(this.prevPaneCurrentWidth))/10)),this.nextPaneCurrentWidth=Math.round(Number(Math.round(10*this.convertPixelToPercentage(this.nextPaneCurrentWidth))/10)),0===this.prevPaneCurrentWidth&&(this.nextPaneCurrentWidth=this.totalPercent),0===this.nextPaneCurrentWidth&&(this.prevPaneCurrentWidth=this.totalPercent),this.prevPaneCurrentWidth+this.nextPaneCurrentWidth!==this.totalPercent?this.equatePaneWidths():(this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+"%",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+"%"),this.prevPaneCurrentWidth=this.updatePrePaneInPercentage?this.prevPaneCurrentWidth:this.convertPercentageToPixel(this.prevPaneCurrentWidth)+"px",this.nextPaneCurrentWidth=this.updateNextPaneInPercentage?this.nextPaneCurrentWidth:this.convertPercentageToPixel(this.nextPaneCurrentWidth)+"px",this.updatePrePaneInPercentage=!1,this.updateNextPaneInPercentage=!1):(this.prevPaneCurrentWidth=this.prevPaneCurrentWidth+"px",this.nextPaneCurrentWidth=this.nextPaneCurrentWidth+"px")},S.prototype.addStaticPaneClass=function(){this.previousPane.classList.contains(c)||this.previousPane.classList.add(c),this.nextPane.classList.contains(c)||this.nextPane.classList.add(c)},S.prototype.validateDraggedPosition=function(e,i,s){var n="Horizontal"===this.orientation?this.currentSeparator.offsetLeft:this.currentSeparator.offsetTop,o=n-i,l=s+n,a=this.getMinMax(this.prevPaneIndex,this.previousPane,"min"),r=this.getMinMax(this.nextPaneIndex,this.nextPane,"min"),h=this.getMinMax(this.prevPaneIndex,this.previousPane,"max"),d=this.getMinMax(this.nextPaneIndex,this.nextPane,"max"),p=e;return e>l-r?p=l-r:e<o+a&&(p=o+a),t.isNullOrUndefined(h)?t.isNullOrUndefined(d)||e<l-d&&(p=l-d):e>o+h&&(p=o+h),p},S.prototype.onMouseUp=function(e){t.removeClass([this.currentSeparator],C),this.unwireResizeEvents();var i={event:e,element:this.element,pane:[this.previousPane,this.nextPane],index:[this.prevPaneIndex,this.nextPaneIndex],separator:this.currentSeparator,paneSize:[this.prePaneDimenson,this.nextPaneDimension]};this.trigger("resizeStop",i)},S.prototype.panesDimension=function(e,i){var s,n=i.length;parseInt(this.getHeight(this.element),10),t.isNullOrUndefined(this.paneSettings[e])?t.setStyleAttribute(i[e],{order:2*e}):t.isNullOrUndefined(this.paneSettings[e].size)?(this.sizeFlag=!0,t.setStyleAttribute(i[e],{order:2*e})):(s=this.paneSettings[e].size,e<n&&(t.setStyleAttribute(i[e],{"flex-basis":s,order:2*e}),e<n-1?t.addClass([i[e]],c):this.sizeFlag||(i[e].style.flexBasis=null),e===n-1&&this.sizeFlag&&t.addClass([i[e]],c))),this.paneOrder.push(2*e)},S.prototype.setTemplate=function(e,i){for(var s=[],n=0,o=t.compile(e)({});n<o.length;n++){var l=o[n];s.push(l)}t.append([].slice.call(s),i)},S.prototype.createSplitPane=function(e){for(var i=e.children.length,s=0;s<this.paneSettings.length;s++)if(i<this.paneSettings.length){var n=this.createElement("div");this.element.appendChild(n),i+=1}i=e.children.length;var o=[].slice.call(e.children);if(this.element.setAttribute("aria-orientation",this.orientation),this.element.setAttribute("role","splitter"),this.sizeFlag=!1,i>1)for(s=0;s<i;s++)1===o[s].nodeType&&(this.allPanes.push(o[s]),"Horizontal"===this.orientation?(t.addClass([o[s]],[a,r,g]),this.panesDimension(s,o)):(t.addClass([o[s]],[a,h,g]),this.panesDimension(s,o)),t.isNullOrUndefined(this.paneSettings[s])||t.isNullOrUndefined(this.paneSettings[s].content)||this.setTemplate(this.paneSettings[s].content,o[s]))},S.prototype.destroy=function(){t.detach(this.element),this.element=this.wrapper,this.wrapperParent.appendChild(this.wrapper)},S.prototype.addPaneClass=function(e){return"Horizontal"===this.orientation?t.addClass([e],[a,r,g]):t.addClass([e],[a,h,g]),e},S.prototype.removePaneOrders=function(e){for(var t=document.querySelectorAll("."+e),i=0;i<t.length;i++)t[i].style.removeProperty("order")},S.prototype.setPaneOrder=function(){for(var e=0;e<this.allPanes.length;e++)this.panesDimension(e,this.allPanes)},S.prototype.removeSeparator=function(){for(var e=0;e<this.allBars.length;e++)t.detach(this.allBars[e]);this.allBars=[]},S.prototype.updatePanes=function(){this.setPaneOrder(),this.removeSeparator(),this.addSeparator(this.element)},S.prototype.addPane=function(e,i){var s=this.createElement("div");s=this.addPaneClass(s),i=i>this.allPanes.length+1?this.allPanes.length:i;var n={size:t.isNullOrUndefined(e.size)?"":e.size,min:t.isNullOrUndefined(e.min)?null:e.min,max:t.isNullOrUndefined(e.max)?null:e.max,content:t.isNullOrUndefined(e.content)?"":e.content,resizable:!!t.isNullOrUndefined(e.resizable)||e.resizable};this.paneSettings.splice(i,0,n),"Horizontal"===this.orientation?(this.element.insertBefore(s,this.element.querySelectorAll("."+r)[i]),this.removePaneOrders(r)):(this.element.insertBefore(s,this.element.querySelectorAll("."+h)[i]),this.removePaneOrders(h)),this.allPanes.splice(i,0,s),this.updatePanes(),this.setTemplate(this.paneSettings[i].content,s),this.allPanes[this.allPanes.length-1].classList.remove(c)},S.prototype.removePane=function(e){e=e>this.allPanes.length+1?this.allPanes.length:e;var i="Horizontal"===this.orientation?r:h;t.isNullOrUndefined(this.element.querySelectorAll("."+i)[e])||(t.detach(this.element.querySelectorAll("."+i)[e]),this.allPanes.splice(e,1),this.removePaneOrders(i),this.updatePanes(),this.allPanes[this.allPanes.length-1].classList.remove(c))},s([t.Property("100%")],S.prototype,"height",void 0),s([t.Property("100%")],S.prototype,"width",void 0),s([t.Collection([],w)],S.prototype,"paneSettings",void 0),s([t.Property("Horizontal")],S.prototype,"orientation",void 0),s([t.Property("")],S.prototype,"cssClass",void 0),s([t.Property(!0)],S.prototype,"enabled",void 0),s([t.Property(!1)],S.prototype,"enableRtl",void 0),s([t.Property(null)],S.prototype,"separatorSize",void 0),s([t.Event()],S.prototype,"created",void 0),s([t.Event()],S.prototype,"resizeStart",void 0),s([t.Event()],S.prototype,"resizing",void 0),s([t.Event()],S.prototype,"resizeStop",void 0),S=s([t.NotifyPropertyChanges],S)}(t.Component),z=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),b=function(e,t,i,s){var n,o=arguments.length,l=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(o<3?n(l):o>3?n(t,i,l):n(t,i))||l);return o>3&&l&&Object.defineProperty(t,i,l),l},x="e-dashboard-layout",A="e-prevent",I="e-dragging",E="e-responsive",R=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return z(i,e),b([t.Property("")],i.prototype,"id",void 0),b([t.Property("")],i.prototype,"cssClass",void 0),b([t.Property("")],i.prototype,"header",void 0),b([t.Property("")],i.prototype,"content",void 0),b([t.Property(!0)],i.prototype,"enabled",void 0),b([t.Property(0)],i.prototype,"row",void 0),b([t.Property(0)],i.prototype,"col",void 0),b([t.Property(1)],i.prototype,"sizeX",void 0),b([t.Property(1)],i.prototype,"sizeY",void 0),b([t.Property(1)],i.prototype,"minSizeY",void 0),b([t.Property(1)],i.prototype,"minSizeX",void 0),b([t.Property(null)],i.prototype,"maxSizeY",void 0),b([t.Property(null)],i.prototype,"maxSizeX",void 0),i}(t.ChildProperty),O=function(e){function i(t,i){var s=e.call(this,t,i)||this;return s.rows=1,s.panelID=0,s.movePanelCalled=!1,s.resizeCalled=!1,s.mOffX=0,s.mOffY=0,s.maxTop=9999,s.maxRows=100,s.mouseX=0,s.mouseY=0,s.minTop=0,s.minLeft=0,s}return z(i,e),i.prototype.preRender=function(){this.panelCollection=[],this.sortedArray=[],this.gridPanelCollection=[],this.overlapElement=[],this.overlapElementClone=[],this.overlapSubElementClone=[],this.collisionChecker={},this.dragCollection=[],this.elementRef={top:"",left:"",height:"",width:""},this.dimensions=[],this.allItems=[],this.oldRowCol={},this.availableClasses=[],t.addClass([this.element],[x]);for(var e=0;e<this.panels.length;e++)this.panels[e].id||(this.panels[e].id="layout_"+this.panelID.toString(),this.panelID=this.panelID+1),this.oldRowCol[this.panels[e].id]={row:this.panels[e].row,col:this.panels[e].col};this.calculateCellSize()},i.prototype.createPanelElement=function(e,i,s){var n=this.createElement("div");return e&&t.addClass([n],[e]),i&&n.setAttribute("id",i),n},i.prototype.render=function(){if(this.getRowColumn(),this.setHeightWidth(),this.element.childElementCount>0){var e=[];this.panels=[];for(var i=0;i<this.element.querySelectorAll(".e-panel").length;i++)e.push(this.element.querySelectorAll(".e-panel")[i]);for(i=0;i<e.length;i++){var s=e[i];this.enableRtl&&t.addClass([s],"e-rtl");var n=parseInt(s.getAttribute("data-row"),10),o=parseInt(s.getAttribute("data-col"),10);this.setPanelPosition(s,n,o),this.getInlinePanels(s),this.maxCol(),this.maxRow()}for(i=0;i<this.panels.length;i++){s=this.element.querySelector("#"+this.panels[i].id);var l=this.renderPanels(s,this.panels[i]);this.panelCollection.push(l),this.setMinMaxValues(this.panels[i]),this.setHeightAndWidth(s,this.panels[i]),this.tempObject=this,this.mediaQuery&&!window.matchMedia("("+this.mediaQuery+")").matches&&(this.setPanelPosition(s,this.panels[i].row,this.panels[i].col),this.updatePanelLayout(s,this.panels[i])),this.setClasses([s])}this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches&&this.checkMediaQuerySizing()}else this.renderDashBoardCells(this.panels);!this.allowDragging||this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches||this.enableDraggingContent(this.panelCollection),this.sortedPanel(),this.bindEvents(),this.allowFloating&&this.moveItemsUpwards(),this.updateOldRowColumn(),this.sortedPanel(),this.cloneArray=this.sortedArray,this.checkColumnValue=this.maxColumnValue,this.cloneObject=JSON.parse(JSON.stringify(this.oldRowCol)),this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches||this.panelResponsiveUpdate(),this.setEnableRtl()},i.prototype.calculateCellSize=function(){this.cellSize=[],this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches?this.cellSize[1]=Math.floor(this.element.parentElement.offsetWidth)/this.cellAspectRatio:(this.cellSize[0]=Math.floor(this.element.parentElement.offsetWidth),this.cellSize[0]=Math.floor((this.element.parentElement.offsetWidth-(this.maxCol()-1)*this.cellSpacing[0])/this.maxCol()),this.cellSize[1]=this.cellSize[0]/this.cellAspectRatio)},i.prototype.maxRow=function(){var e=1;if(this.rows>1)return e=this.rows;for(var t=0;t<this.panels.length;t++)this.panels[t].sizeY+this.panels[t].row>e&&(e=this.panels[t].sizeY+this.panels[t].row);return 0===this.panels.length&&(e=1),e},i.prototype.maxCol=function(){var e=1;if(this.columns>1)return e=this.columns;for(var t=0;t<this.panels.length;t++)this.panels[t].sizeX+this.panels[t].col>e&&(e=this.panels[t].sizeX+this.panels[t].col);return 0===this.panels.length&&(e=this.columns),e},i.prototype.updateOldRowColumn=function(){for(var e=0;e<this.panels.length;e++){var t=this.panels[e].id;if(document.getElementById(t)){var i=parseInt(document.getElementById(t).getAttribute("data-row"),10),s=parseInt(document.getElementById(t).getAttribute("data-col"),10);this.oldRowCol[this.panels[e].id]={row:i,col:s}}}},i.prototype.createSubElement=function(e,i,s){var n=this.createElement("div");return s&&t.addClass([n],[s]),e&&t.addClass([n],[e]),i&&n.setAttribute("id",i),n},i.prototype.templateParser=function(e){if(e)try{if(document.querySelectorAll(e).length)return t.compile(document.querySelector(e).innerHTML.trim())}catch(i){return t.compile(e)}},i.prototype.renderTemplate=function(e,i){for(var s=[],n=0,o=this.templateParser(e)({});n<o.length;n++){var l=o[n];s.push(l)}t.append([].slice.call(s),i)},i.prototype.renderPanels=function(e,i){if(t.addClass([e],["e-panel","e-panel-transition"]),this.panelContent=e.querySelector(".e-panel-container")?e.querySelector(".e-panel-container"):this.createSubElement(i.cssClass,e.id+"_content","e-panel-container"),e.appendChild(this.panelContent),i.enabled||this.disablePanel(e),i.header){var s=this.createSubElement("",e.id+"template","");t.addClass([s],["e-panel-header"]),this.renderTemplate(i.header,s),this.panelContent.appendChild(s)}return i.content&&i.content&&(this.panelBody=this.createSubElement(i.cssClass,e.id+"_body","e-panel-content"),this.renderTemplate(i.content,this.panelBody),this.panelContent.appendChild(this.panelBody)),e},i.prototype.disablePanel=function(e){t.addClass([e],["e-disabled"])},i.prototype.getInlinePanels=function(e){var i={sizeX:parseInt(e.getAttribute("data-sizex"),10),sizeY:parseInt(e.getAttribute("data-sizey"),10),minSizeX:parseInt(e.getAttribute("data-minsizex"),10),minSizeY:parseInt(e.getAttribute("data-minsizey"),10),maxSizeX:parseInt(e.getAttribute("data-maxsizex"),10),maxSizeY:parseInt(e.getAttribute("data-maxsizey"),10),row:parseInt(e.getAttribute("data-row"),10),col:parseInt(e.getAttribute("data-col"),10),id:e.getAttribute("id"),header:e.querySelector(".e-panel-header")&&".e-panel-header",content:e.querySelector(".e-panel-content")&&".e-panel-content"};i.id||(i.id="layout_"+this.panelID.toString(),e.setAttribute("id",i.id),this.panelID=this.panelID+1),t.isUndefined(i.enabled)&&(i.enabled=!0),this.panels.push(i)},i.prototype.resizeEvents=function(){if(this.allowResizing)for(var e=0;e<document.querySelectorAll(".e-resize").length;e++)t.EventHandler.add(document.querySelectorAll(".e-resize")[e],"mousedown",this.downResizeHandler,this),t.EventHandler.add(document,"mouseup",this.upResizeHandler,this)},i.prototype.bindEvents=function(){window.addEventListener("resize",this.onResize.bind(this)),this.resizeEvents()},i.prototype.downResizeHandler=function(e){this.resizeCalled=!1;var i=e.currentTarget.closest(".e-panel"),s={event:e,element:i};this.trigger("resizeStart",s),this.downTarget=e.currentTarget,this.shadowEle=document.createElement("div"),this.shadowEle.classList.add("e-holder"),t.addClass([this.element],[A]),this.element.appendChild(this.shadowEle),this.lastMouseX=e.pageX,this.lastMouseY=e.pageY,this.elementX=parseInt(i.style.left,10),this.elementY=parseInt(i.style.top,10),this.elementWidth=i.offsetWidth,this.elementHeight=i.offsetHeight,this.originalWidth=this.getCellInstance(i.id).sizeX,this.originalHeight=this.getCellInstance(i.id).sizeY,t.EventHandler.add(document,"mousemove",this.moveResizeHandler,this)},i.prototype.getCellSize=function(){return[parseInt(this.cellSize[0],10),parseInt(this.cellSize[1],10)]},i.prototype.moveResizeHandler=function(e){this.moveTarget=this.downTarget;var i=this.moveTarget.closest(".e-panel"),s={event:e,element:i};if(this.trigger("resize",s),this.lastMouseX!==e.pageX&&this.lastMouseY!==e.pageY){this.maxLeft=this.element.offsetWidth-1,this.maxTop=this.cellSize[1]*this.maxRows-1,t.removeClass([i],"e-panel-transition"),t.addClass([i],[I]);for(var n=this.getCellInstance(i.id).sizeX,o=this.getCellInstance(i.id).sizeY,l=["e-east","e-west","e-north","e-south","e-south-east","e-north-east","e-north-west","e-south-west"],a=(this.elementWidth,this.elementHeight,0);a<this.moveTarget.classList.length;a++)-1!==l.indexOf(this.moveTarget.classList[a])&&(this.handleClass=this.moveTarget.classList[a]);var r=this.getCellInstance(i.getAttribute("id"));this.mouseX=e.pageX,this.mouseY=e.pageY;var h=this.mouseX-this.lastMouseX+this.mOffX,d=this.mouseY-this.lastMouseY+this.mOffY;this.mOffX=this.mOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;var p=d,u=h;this.handleClass&&this.handleClass.indexOf("south")>=0&&(this.elementHeight+p<this.getMinHeight(r)?(d=this.getMinHeight(r)-this.elementHeight,this.mOffY=p-d):this.elementY+this.elementHeight+p>this.maxTop&&(d=this.maxTop-this.elementY-this.elementHeight,this.mOffY=p-d),this.elementHeight+=d),this.handleClass&&this.handleClass.indexOf("east")>=0&&(this.elementWidth+u<this.getMinWidth(r)?(h=this.getMinWidth(r)-this.elementWidth,this.mOffX=u-h):this.elementX+this.elementWidth+u>this.maxLeft&&(h=this.maxLeft-this.elementX-this.elementWidth,this.mOffX=u-h),this.elementWidth+=h),i.style.top=this.elementY+"px",i.style.left=this.elementX+"px",i.style.width=this.elementWidth+"px",i.style.height=this.elementHeight+"px";var c=this.getResizeRowColumn(r,this.moveTarget);c.col+c.sizeX>this.columns&&(c.sizeX=c.sizeX-1),this.shadowEle.style.top=c.row*this.getCellSize()[1]+c.row*this.cellSpacing[1]+"px",this.shadowEle.style.left=c.col*this.getCellSize()[0]+c.col*this.cellSpacing[0]+"px",this.shadowEle.style.height=c.sizeY*(this.getCellSize()[1]+this.cellSpacing[1])+"px",this.shadowEle.style.width=c.sizeX*(this.getCellSize()[0]+this.cellSpacing[0])+"px",n===c.sizeX&&o===c.sizeY||(n=c.sizeX,o=c.sizeY,i.setAttribute("data-sizeX",this.getCellInstance(i.id).sizeX.toString()),i.setAttribute("data-sizeY",this.getCellInstance(i.id).sizeY.toString()),i.setAttribute("data-row",this.getCellInstance(i.id).row.toString()),i.setAttribute("data-col",this.getCellInstance(i.id).col.toString()),this.mainElement=i,this.updatePanelLayout(i,this.getCellInstance(i.id)),this.updateOldRowColumn(),this.sortedPanel())}},i.prototype.upResizeHandler=function(e){if(!t.isNullOrUndefined(this.downTarget)){this.upTarget=this.downTarget;var i=this.upTarget.closest(".e-panel"),s={event:e,element:i};if(this.trigger("resizeStop",s),i){t.addClass([i],"e-panel-transition"),t.EventHandler.remove(document,"mousemove",this.moveResizeHandler),this.shadowEle&&t.detach(this.shadowEle),this.shadowEle=null;var n=this.getCellInstance(i.getAttribute("id"));this.setPanelPosition(i,n.row,n.col),this.setHeightAndWidth(i,n)}this.resizeCalled=!1,this.allowFloating&&this.moveItemsUpwards(),this.updateOldRowColumn(),this.sortedPanel(),this.cloneArray=this.sortedArray,this.cloneObject=JSON.parse(JSON.stringify(this.oldRowCol))}},i.prototype.getResizeRowColumn=function(e,t){var i=e.col,s=e.row,n=e.sizeX;-1===["e-north","e-south"].indexOf(this.handleClass)&&(n=this.pixelsToColumns(this.elementWidth,!0));var o=e.sizeY;-1===["e-east","e-west"].indexOf(this.handleClass)&&(o=this.pixelsToRows(this.elementHeight,!0)),e.col+e.sizeX>this.columns&&(e.sizeX=e.sizeX-1);return(s>-1&&i>-1&&n+i<=this.maxCol()&&o+s<=this.maxRow()&&0===this.getItems(s,i,n,o,this.getPanelBase(e.id)).length||!1!==this.allowPushing)&&(e.row=s,e.col=i,e.sizeX=n,e.sizeY=o),e},i.prototype.pixelsToColumns=function(e,t){var i=this.cellSize[0];return Math.ceil(e/i)},i.prototype.pixelsToRows=function(e,t){return Math.ceil(e/this.cellSize[1])},i.prototype.getMinWidth=function(e){return e.minSizeX*this.getCellSize()[0]},i.prototype.getMinHeight=function(e){return e.minSizeY*this.getCellSize()[1]},i.prototype.sortedPanel=function(){this.sortedArray=[];for(var e=0,t=this.panelCollection.length;e<t;++e)this.sortItem(this.panelCollection[e])},i.prototype.moveItemsUpwards=function(){if(!1!==this.allowFloating)for(var e=0,t=this.sortedArray.length;e<t;++e){var i=this.sortedArray[e];if(i)for(var s=0,n=i.length;s<n;++s){var o=i[s];o&&this.moveItemUpwards(o)}}},i.prototype.moveItemUpwards=function(e){if(!1!==this.allowFloating&&e!==this.mainElement){for(var t=this.getCellInstance(e.id).col,i=parseInt(e.getAttribute("data-sizeY"),10),s=parseInt(e.getAttribute("data-sizeX"),10),n=null,o=null,l=parseInt(e.getAttribute("data-row"),10)-1;l>-1;){if(0!==this.collisionItems(l,t,s,i,e).length)break;n=l,o=t,--l}null!==n&&this.sortItem(e,n,o)}},i.prototype.sortItem=function(e,t,i,s){this.overlapElement=[];var n=parseInt(e.getAttribute("data-col"),10),o=parseInt(e.getAttribute("data-row"),10);if(this.sortedArray[o]||(this.sortedArray[o]=[]),this.sortedArray[o][n]=e,void 0!==e&&void 0!==t&&void 0!==i){if(null!==this.oldRowCol[e.id].row&&void 0!==this.oldRowCol[e.id].col){this.oldRowCol[e.id].col===i&&this.oldRowCol[e.id].row;var l=this.sortedArray[this.oldRowCol[e.id].row];l&&l[this.oldRowCol[e.id].col]===e&&(delete l[this.oldRowCol[e.id].col],this.updateOldRowColumn(),this.sortedPanel())}this.oldRowCol[e.id].row=t,this.oldRowCol[e.id].row=i,this.sortedArray[o]||(this.sortedArray[o]=[]),this.sortedArray[o][n]=e,-1===this.allItems.indexOf(e)&&this.allItems.push(e),this.getCellInstance(e.id).row=t,this.getCellInstance(e.id).col=i,e.setAttribute("data-col",this.getCellInstance(e.id).col.toString()),e.setAttribute("data-row",this.getCellInstance(e.id).row.toString()),this.updateLayout(e,this.getCellInstance(e.id))}},i.prototype.updateLayout=function(e,t){this.setPanelPosition(e,t.row,t.col),this.setHeightAndWidth(e,t),this.getRowColumn(),this.setHeightWidth(),this.sortedPanel()},i.prototype.onResize=function(){if(this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches)this.checkMediaQuerySizing();else{if(this.element.classList.contains(E)){t.removeClass([this.element],[E]);for(var e=0;e<this.element.childElementCount;e++){var i=this.element.children[e],s=this.getCellInstance(i.id),n=parseInt(i.getAttribute("data-row"),10),o=parseInt(i.getAttribute("data-col"),10);s.row=n,s.col=o,this.setHeightAndWidth(i,this.getCellInstance(i.id)),this.setPanelPosition(i,n,o),this.getRowColumn(),this.setHeightWidth()}}this.panelResponsiveUpdate()}this.removeResizeClasses(this.panelCollection),this.setClasses(this.panelCollection),this.checkDragging(this.dragCollection)},i.prototype.checkDragging=function(e){if(this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches||!this.allowDragging)for(var t=0;t<e.length;t++)e[t].destroy();else{for(t=0;t<e.length;t++)e[t].destroy();this.enableDraggingContent(this.panelCollection)}},i.prototype.checkMediaQuerySizing=function(){t.addClass([this.element],[E]);var e=this.element.querySelectorAll(".e-panel");this.updatedRows=e.length;for(var i=0;i<e.length;i++)if(this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches){t.setStyleAttribute(e[i],{width:"100%"}),e[i].style.height=" "+this.element.parentElement.offsetWidth/this.cellAspectRatio+"px",this.cellSize[1]=this.element.parentElement.offsetWidth/this.cellAspectRatio;var s=this.getCellInstance(e[i].id);s.col=0,s.row=i,this.setPanelPosition(e[i],s.row,s.col),this.setClasses(this.panelCollection),this.checkDragging(this.dragCollection),this.removeResizeClasses(this.panelCollection)}this.getRowColumn(),this.setHeightWidth()},i.prototype.panelResponsiveUpdate=function(){this.element.classList.add("e-responsive"),this.calculateCellSize();for(var e=0;e<this.element.querySelectorAll(".e-panel").length;e++){var t=this.element.querySelectorAll(".e-panel")[e],i=this.getCellInstance(t.id);this.setHeightAndWidth(t,i)}for(e=0;e<this.panels.length;e++)this.setPanelPosition(document.getElementById(this.panels[e].id),this.panels[e].row,this.panels[e].col);this.getRowColumn(),this.setHeightWidth()},i.prototype.setHeightWidth=function(){var e,i;e=this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches?this.maxRow()*(this.element.parentElement&&Math.floor(this.element.parentElement.offsetWidth)/this.cellAspectRatio)+(this.maxRow()-1)*this.cellSpacing[1]+"px":this.maxRow()*(this.cellSize[0]/this.cellAspectRatio)+(this.maxRow()-1)*this.cellSpacing[1]+"px",t.setStyleAttribute(this.element,{height:e}),i=window.getComputedStyle(this.element).width,t.setStyleAttribute(this.element,{width:i})},i.prototype.setHeightAndWidth=function(e,i){t.setStyleAttribute(e,{height:t.formatUnit(this.setXYDimensions(i)[0])}),t.setStyleAttribute(e,{width:t.formatUnit(this.setXYDimensions(i)[1])})},i.prototype.renderCell=function(e){this.dimensions=this.setXYDimensions(e),t.isUndefined(e.enabled)&&(e.enabled=!0);var i=this.createPanelElement(e.cssClass,e.id,""),s=this.renderPanels(i,e);return this.element.appendChild(i),this.panelCollection.push(s),this.setXYAttributes(i,e),this.setHeightAndWidth(i,e),i},i.prototype.setPanelPosition=function(e,i,s){if(e){var n=this.getCellSize()[1],o=this.getCellSize()[0],l=0===s?0:s*(parseInt(o.toString(),10)+this.cellSpacing[0]),a=0===i?0:i*(parseInt(n.toString(),10)+this.cellSpacing[1]);t.setStyleAttribute(e,{left:l+"px",top:a+"px"})}},i.prototype.getRowColumn=function(){if(this.calculateMaxColumnValue(this.panels),this.columns<this.maxColumnValue&&(this.columns=this.maxColumnValue),this.rows=null,this.element.querySelectorAll(".e-panel").length>0&&!this.updatedRows)for(var e=this.element.querySelectorAll(".e-panel"),t=0;t<e.length;t++){var i=e[t],s=parseInt(i.getAttribute("data-row"),10),n=parseInt(i.getAttribute("data-sizeY"),10);this.rows=Math.max(this.rows,s+n)}else{this.updatedRows&&(this.rows=this.updatedRows,this.updatedRows=null);for(t=0;t<this.panels.length;t++)this.rows=Math.max(this.rows,this.panels[t].row)}},i.prototype.setMinMaxValues=function(e){!e.sizeX||e.sizeX<e.minSizeX?e.sizeX=e.minSizeX:e.maxSizeX&&e.sizeX>e.maxSizeX?e.sizeX=e.maxSizeX:e.sizeX>this.columns?e.sizeX=this.columns:e.sizeX=e.sizeX,!e.sizeY||e.sizeY<e.minSizeY?e.sizeY=e.minSizeY:e.maxSizeY&&e.sizeY>e.maxSizeY?e.sizeY=e.maxSizeY:e.sizeY=e.sizeY},i.prototype.calculateMaxColumnValue=function(e){for(var i=0;i<e.length;i++){var s=e[i];t.isUndefined(this.maxColumnValue)?this.maxColumnValue=s.col+s.sizeX:this.maxColumnValue<s.col&&(this.maxColumnValue=s.col+s.sizeX),this.maxColumnValue<s.col+s.sizeX&&(this.maxColumnValue=s.sizeX+s.col)}},i.prototype.renderDashBoardCells=function(e){var i=!0;if(1===this.panels.length&&(i=!t.isNullOrUndefined(this.panels[0].content)),this.element.querySelectorAll(".e-panel").length>0||i&&this.panels.length>0)for(var s=0;s<e.length;s++){this.gridPanelCollection.push(e[s]),this.setMinMaxValues(e[s]);var n=this.renderCell(e[s]);this.enableRtl&&t.addClass([n],"e-rtl"),this.element.appendChild(n),this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches?this.checkMediaQuerySizing():(this.setPanelPosition(n,e[s].row,e[s].col),this.updatePanelLayout(n,e[s]))}this.setClasses(this.panelCollection)},i.prototype.collisionItems=function(e,t,i,s,n){var o=[];i&&s||(i=s=1),!n||n instanceof Array||(n=[n]);for(var l,a=0;a<s;++a)for(var r=0;r<i;++r)!(l=this.getPanel(e+a,t+r,n))||n&&-1!==n.indexOf(document.getElementById(l.id))||-1!==o.indexOf(document.getElementById(l.id))||o.push(document.getElementById(l.id));return o},i.prototype.rightWardsSpaceChecking=function(e,t,i){var s=this,n=[],o=[];if(e.forEach(function(e){var i=parseInt(e.getAttribute("data-col"),10),o=parseInt(e.getAttribute("data-sizeX"),10);if(t<s.columns&&i>=t)if(o>1)for(var l=i;l<i+o;l++)n.push(l);else n.push(i)}),n.length>0)for(var l=t+1;l<=this.columns-1;l++)-1===n.indexOf(l)&&l!==t&&-1===o.indexOf(l)&&o.push(l);var a=this.getOccupiedColumns(i,"right");a.forEach(function(e){e>t&&-1!==o.indexOf(e)&&o.splice(o.indexOf(e),1)});return this.getOccupiedColumns(this.checkingElement,"left").forEach(function(e){e>parseInt(i.getAttribute("data-col"),10)&&-1===a.indexOf(e)&&-1===o.indexOf(e)&&o.push(e)}),o=o.sort(function(e,t){return e-t})},i.prototype.getOccupiedColumns=function(e,t){for(var i=[],s=parseInt(e.getAttribute("data-sizeX"),10),n=parseInt(e.getAttribute("data-col"),10),o=n;o<n+s&&o<=this.columns;o++)i.push(o);return i},i.prototype.leftWardsSpaceChecking=function(e,t,i){var s=this,n=[],o=[];if(e.forEach(function(e){var i=parseInt(e.getAttribute("data-col"),10),n=parseInt(e.getAttribute("data-sizeX"),10);if(t<=s.columns&&i<=t)if(n>1)for(var l=i;l<i+n;l++)o.push(l);else o.push(i)}),o.length>0)for(var l=0;l<=t;l++)-1===o.indexOf(l)&&l!==t&&-1===n.indexOf(l)&&n.push(l);var a=this.getOccupiedColumns(i,"left");a.forEach(function(e){e<t&&-1!==n.indexOf(e)&&n.splice(n.indexOf(e),1)});return this.getOccupiedColumns(this.checkingElement,"left").forEach(function(e){e<parseInt(i.getAttribute("data-col"),10)&&-1===a.indexOf(e)&&-1===n.indexOf(e)&&n.push(e)}),n=n.sort(function(e,t){return e-t}),n=n.reverse()},i.prototype.adjustmentAvailable=function(e,i,s,n,o){this.leftAdjustable=void 0,this.rightAdjustable=void 0;var l,a,r=!1,h=[];this.topAdjustable=void 0;var d=parseInt(o.getAttribute("data-sizeX"),10),p=parseInt(o.getAttribute("data-col"),10);if(-1===(h=this.getRowElements(this.collisionItems(e,0,this.columns,s,[]))).indexOf(o)&&h.push(o),(l=this.leftWardsSpaceChecking(h,i,o)).length>0?(this.leftAdjustable=this.isLeftAdjustable(l,o,e,i,n,s),this.spacedColumnValue!==p-this.getCellInstance(this.checkingElement.id).sizeX&&(this.leftAdjustable=!1),this.leftAdjustable?this.rightAdjustable=!1:(this.leftAdjustable=!1,a=this.rightWardsSpaceChecking(h,i,o),this.rightAdjustable=a.length>0&&this.isRightAdjustable(a,o,e,i,n,s),this.spacedColumnValue!==d+p&&(this.rightAdjustable=!1),this.rightAdjustable||(this.rightAdjustable=!1))):(a=this.rightWardsSpaceChecking(h,i,o),this.rightAdjustable=a.length>0&&this.isRightAdjustable(a,o,e,i,n,s),this.spacedColumnValue!==d+p&&(this.rightAdjustable=!1),this.rightAdjustable&&(this.leftAdjustable=!1)),!this.rightAdjustable&&!this.leftAdjustable&&e>0){var u=this.getCellInstance(o.id).row,c=!1;this.startRow!==u&&(c=!0);for(var g=e;g>=0;g--){var m=this.getCellInstance(o.id).sizeY>1&&c?this.checkingElement:o;g!==u&&(s>1?g===u-s-1:g===u-s)&&0===this.collisionItems(g,i,n,s,m).length&&(c=!1,this.topAdjustable=!0,this.spacedRowValue=t.isNullOrUndefined(this.spacedRowValue)?g:this.spacedRowValue,this.spacedColumnValue=i)}}return(this.rightAdjustable||this.leftAdjustable||this.topAdjustable)&&(r=!0,t.isNullOrUndefined(this.spacedRowValue)&&(this.spacedRowValue=e)),r},i.prototype.isXSpacingAvailable=function(e,t){for(var i=!1,s=[],n=0;n<e.length;n++)if(e[n+1]-e[n]==1||e[n+1]-e[n]==-1){if(s.push(e[n]),2===t&&s.push(e[n+1]),n===e.length-2&&(s.push(e[n+1]),s.length>t&&s.splice(-1)),s.length===t)return i=!0,this.spacedColumnValue=s.sort(function(e,t){return e-t})[0],this.spacedColumnValue<0&&(this.spacedColumnValue=1),i}else s=[];return i},i.prototype.getRowElements=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t},i.prototype.isLeftAdjustable=function(e,t,i,s,n,o){var l;if(1===n&&1===o&&e.length>0)this.spacedColumnValue=e[0],l=!0;else if(n>1&&1===o)l=this.isXSpacingAvailable(e,n);else if(o>1)if(1===n){var a=void 0;if(e.length>=1&&(a=!0),a)for(var r=0;r<e.length;r++){if(0===this.collisionItems(i,e[r],n,o,this.checkingElement).length)return this.spacedColumnValue=e[r],l=!0;l=!1}}else{this.getColumnValues(this.checkingElement),this.getColumnValues(t);l=this.replacable(e,n,i,o,t)}return l},i.prototype.isRightAdjustable=function(e,t,i,s,n,o){var l;if(1===n&&1===o&&e.length>0)this.spacedColumnValue=e[0],l=!0;else if(n>1&&1===o)l=this.isXSpacingAvailable(e,n);else if(o>1)if(1===n){var a=void 0;if(e.length>=1&&(a=!0),a)for(var r=0;r<e.length;r++){for(var h=this.collisionItems(i,e[r],n,o,this.checkingElement),d=0;d<h.length;d++)parseInt(t.getAttribute("data-col"),10)!==e[r]&&h.splice(h.indexOf(h[d]),1);if(0===h.length)return l=!0,this.spacedColumnValue=e[r],l;l=!1}}else{this.getColumnValues(this.checkingElement),this.getColumnValues(t);l=this.replacable(e,n,i,o,t)}return l},i.prototype.replacable=function(e,t,i,s,n){for(var o,l=[],a=0;a<e.length;a++){if(this.isXSpacingAvailable(e,t)){var r=[];if(r.push(this.checkingElement),r.push(n),0===l.length)return o=!0,this.spacedColumnValue=this.spacedColumnValue,o;o=!1}}return o},i.prototype.getColumnValues=function(e){for(var t=[],i=parseInt(e.getAttribute("data-col"),10),s=parseInt(e.getAttribute("data-sizeX"),10),n=i;n<i+s;n++)t.push(n);return t},i.prototype.sortCollisionItems=function(e){for(var t,i=[],s=function(s){t=[],e.forEach(function(e){e&&e.getAttribute("data-row")===s.toString()&&t.push(e)});for(var o=function(e){t.forEach(function(t){t&&t.getAttribute("data-col")===e.toString()&&i.push(t)})},l=n.columns-1;l>=0;l--)o(l)},n=this,o=this.rows-1;o>=0;o--)s(o);return i},i.prototype.updatedModels=function(e,t,i){var s=this;return this.mainElement||this.sortedPanel(),e.forEach(function(n){s.checkingElement=n;var o=s.getCellInstance(n.id),l=!s.adjustmentAvailable(o.row,o.col,o.sizeY,o.sizeX,i);if(o.sizeX>1&&l)for(var a=o.row;a<t.row+t.sizeY;a++){s.collisionItems(a,o.col,o.sizeX,o.sizeY,n).forEach(function(t){e.indexOf(t)>=0&&e.splice(e.indexOf(t),1)})}}),e},i.prototype.resetLayout=function(e,t){var i=this.collisionItems(e.row,e.col,e.sizeX,e.sizeY,this.mainElement);if(!this.mainElement||this.addPanelCalled||this.resizeCalled||this.movePanelCalled)return i;if(this.mainElement&&this.oldRowCol!==this.cloneObject)for(var s=0;s<this.panels.length;s++){var n=document.getElementById(this.panels[s].id);if(n!==this.mainElement){var o=this.cloneObject[n.id].row,l=this.cloneObject[n.id].col;this.setPanelPosition(n,o,l),this.getCellInstance(n.id).row=o,this.getCellInstance(n.id).col=l,n.setAttribute("data-row",o.toString()),n.setAttribute("data-col",l.toString()),this.updateOldRowColumn()}}return this.sortedArray=this.cloneArray,i=this.collisionItems(e.row,e.col,e.sizeX,e.sizeY,this.mainElement),this.sortedPanel(),this.updateOldRowColumn(),this.checkCollision&&this.checkCollision.length>0&&-1===i.indexOf(this.checkCollision[0])&&this.cloneObject[this.checkCollision[0].id].row===e.row&&i.push(this.checkCollision[0]),i},i.prototype.swapAvailability=function(e,t){for(var i=!0,s=this.getCellInstance(t.id),n=0;n<e.length;n++)for(var o=this.getCellInstance(e[n].id),l=1;l<s.sizeY;l++){var a=[];a.push(t),a.push(e[n]);if(this.collisionItems(s.row+l,o.col,o.sizeX,o.sizeY,a).length>0)return i=!1,!1}return i},i.prototype.checkForSwapping=function(e,t,i){if(!this.mainElement||0===e.length)return!1;var s,n=parseInt(e[0].getAttribute("data-row"),10);if(this.startRow<n?s=1:this.startRow>n&&(s=0),!this.swapAvailability(e,t))return!1;for(var o=!1,l=0;l<e.length;l++)if(e.length>=1&&this.cloneObject[this.mainElement.id].row===this.oldRowCol[this.mainElement.id].row)return!1;for(var a=0===s?this.getCellInstance(this.mainElement.id).row+this.getCellInstance(this.mainElement.id).sizeY:this.startRow,r=0;r<e.length;r++){var h=this.getCellInstance(e[r].id),d=this.getCellInstance(t.id),p=[];if(1===h.sizeY)p.push(e[r]);else if(h.sizeY>1)if(1===s&&d.row===this.cloneObject[h.id].row+h.sizeY-1)p.push(e[r]);else{if(0!==s||d.row!==this.cloneObject[h.id].row)return!1;p.push(e[r])}h.sizeY<=d.sizeY&&p.push(e[r]);if(this.collisionItems(a,h.col,h.sizeX,h.sizeY,p).length>0)return o=!1;r===e.length-1&&(o=!0)}return o},i.prototype.swapItems=function(e,t,i){var s,n=this,o=[];o.push(t);var l=parseInt(e[0].getAttribute("data-row"),10);this.startRow<l?s=1:this.startRow>l&&(s=0);var a=0===s?l+i.sizeY:this.startRow;i.row=0===s?l:a+1;for(var r=0;r<e.length;r++)o.push(e[r]),this.setPanelPosition(e[r],a,this.getCellInstance(e[r].id).col),this.getCellInstance(e[r].id).row=a,e[r].setAttribute("data-row",a.toString());t.setAttribute("data-row",i.row.toString()),this.setPanelPosition(this.shadowEle,i.row,i.col);for(var h=0;h<this.panels.length;h++)this.oldRowCol[this.panels[h].id]={row:this.panels[h].row,col:this.panels[h].col};this.startRow=i.row,this.updateOldRowColumn(),o.forEach(function(e){n.cloneObject[e.id]=n.oldRowCol[e.id];for(var t=n.getCellInstance(e.id),i=0;i<n.sortedArray.length;i++)if(n.sortedArray[i])for(var s=0;s<n.sortedArray[i].length;s++)n.sortedArray[i][s]===e&&(n.sortedArray[i][s]=void 0);n.sortedArray[t.row]||(n.sortedArray[t.row]=[]),n.sortedArray[t.row][t.col]=e,n.cloneArray=n.sortedArray})},i.prototype.updatePanelLayout=function(e,i){this.collisionChecker={};var s=[],n=[];if((s=this.mainElement?this.resetLayout(i,e):this.collisionItems(i.row,i.col,i.sizeX,i.sizeY,e)).length>0)if(s=this.sortCollisionItems(s),s=this.updatedModels(s,i,e),!t.isNullOrUndefined(this.startRow)&&this.checkForSwapping(s,e,i))this.swapItems(s,e,i);else for(var o=0;o<s.length;o++){var l=this.getCellInstance(s[o].id);if(this.checkingElement=s[o],this.spacedRowValue=null,this.spacedColumnValue=null,this.adjustmentAvailable(l.row,l.col,l.sizeY,l.sizeX,e)&&!t.isNullOrUndefined(this.spacedColumnValue)){if(this.setPanelPosition(s[o],this.spacedRowValue,this.spacedColumnValue),this.oldRowCol[s[o].id]={row:this.spacedRowValue,col:this.spacedColumnValue},s[o].setAttribute("data-col",this.spacedColumnValue.toString()),s[o].setAttribute("data-row",this.spacedRowValue.toString()),l.col=this.spacedColumnValue,l.row=this.spacedRowValue,this.topAdjustable=!1,this.spacedRowValue=null,o<s.length)continue}else n.push(s[o])}if(n.length>0){var a=this;n.forEach(function(e){-1===a.overlapElement.indexOf(e)&&a.overlapElement.push(e)}),this.overlapElement&&-1!==this.overlapElement.indexOf(e)&&this.overlapElement.splice(this.overlapElement.indexOf(e),1),n.length>0&&(this.updateRowColumn(i.row,this.overlapElement,e),this.checkForCompletePushing())}this.isSubValue||this.sortedPanel(),this.getRowColumn(),this.setHeightWidth()},i.prototype.checkForCompletePushing=function(){for(var e=0;e<this.panels.length;e++)if(this.collisionChecker[this.panels[e].id]&&null!==this.collisionChecker[this.panels[e].id]){this.overlapElement=[this.collisionChecker[this.panels[e].id].ele];var t=this.panels[e].id;this.updateRowColumn(this.collisionChecker[t].row,this.overlapElement,this.collisionChecker[t].srcEle)}},i.prototype.updateCollisionChecked=function(e){for(var t=0;t<Object.keys(this.collisionChecker).length;t++)this.collisionChecker[e.id]=null},i.prototype.updateRowColumn=function(e,t,i){if(i){var s=parseInt(i.getAttribute("data-sizeY"),10),n=parseInt(i.getAttribute("data-row"),10);this.overlapElementClone=(this.overlapElement&&this.shouldRestrict,this.overlapElement);for(var o=0;o<this.overlapElementClone.length;o++){if(0===this.overlapElementClone.length)return;for(var l=0;l<this.overlapElementClone.length;l++)this.collisionChecker[this.overlapElementClone[l].id]={ele:this.overlapElementClone[l],row:e,srcEle:i};var a=n+s,r=parseInt(this.overlapElementClone[o].getAttribute("data-sizeY"),10),h=parseInt(this.overlapElementClone[o].getAttribute("data-col"),10),d=parseInt(this.overlapElementClone[o].getAttribute("data-sizeX"),10),p=void 0,u=void 0;if(-1===this.overlapSubElementClone.indexOf(i)&&this.overlapSubElementClone.push(i),-1===this.overlapSubElementClone.indexOf(this.overlapElementClone[o])&&this.overlapSubElementClone.push(this.overlapElementClone[o]),r>1||d>1){var c=this.getCellInstance(this.overlapElementClone[o].id);p=c.col;for(var g=document.getElementById(c.id),m=c.row;m<n+s;m++){this.isSubValue=!0,c.row=c.row+1,g.setAttribute("data-row",c.row.toString()),this.setPanelPosition(g,c.row,p),this.updateCollisionChecked(g),this.oldRowCol[g.id]={row:c.row,col:p};(S=this.getCellInstance(g.id)).col=p,S.row=c.row;var f=parseInt(g.getAttribute("data-row"),10),v=parseInt(g.getAttribute("data-col"),10),C=parseInt(g.getAttribute("data-sizeX"),10),y=parseInt(g.getAttribute("data-sizeY"),10),P=[];P.push(g),P.push(i),u=this.collisionItems(f,v,C,y,P),this.mainElement&&-1!==u.indexOf(this.mainElement)&&u.splice(u.indexOf(this.mainElement),1),this.updatePanel(u,v,f,g)}this.isSubValue=!1}else{this.addPanelCalled&&(this.addPanelCalled=!1),this.overlapElementClone[o].setAttribute("data-row",a.toString());var w=[];w.push(this.overlapElementClone[o]),w.push(i),u=this.collisionItems(a,h,d,r,w),this.mainElement&&-1!==u.indexOf(this.mainElement)&&u.splice(u.indexOf(this.mainElement),1),p=parseInt(this.overlapElementClone[o].getAttribute("data-col"),10),this.setPanelPosition(this.overlapElementClone[o],a,p),this.updateCollisionChecked(this.overlapElementClone[o]),this.oldRowCol[this.overlapElementClone[o].id]={row:a,col:p};var S;(S=this.getCellInstance(this.overlapElementClone[o].id)).col=p,S.row=a,this.updatePanel(u,p,a,this.overlapElementClone[o])}}}},i.prototype.updatePanel=function(e,t,i,s){var n=this.getCellInstance(s.id);if(n.col=t,n.row=i,e.length>0){var o=this;this.overlapElement=[],this.shouldRestrict=!0,e.forEach(function(e){o.overlapElement.push(e)});for(var l=parseInt(s.getAttribute("data-row"),10),a=0;a<this.overlapElement.length;a++)this.updateRowColumn(l,this.overlapElement,s);this.shouldRestrict=!1}else{if(this.addPanelCalled||this.sortedPanel(),this.overlapSubElementClone.length>0)for(var r=function(e){var t=parseInt(h.overlapSubElementClone[e].getAttribute("data-row"),10),i=parseInt(h.overlapSubElementClone[e].getAttribute("data-col"),10),s=parseInt(h.overlapSubElementClone[e].getAttribute("data-sizeX"),10),n=parseInt(h.overlapSubElementClone[e].getAttribute("data-sizeY"),10),o=void 0;o=h.collisionItems(t,i,s,n,h.overlapSubElementClone),h.mainElement&&-1!==o.indexOf(h.mainElement)&&o.splice(o.indexOf(h.mainElement),1);var l=h;o.forEach(function(e){l.overlapElement.push(e)}),o.length>0&&h.updateRowColumn(t,h.overlapElement,h.overlapSubElementClone[e])},h=this,d=0;d<this.overlapSubElementClone.length;d++)r(d);this.overlapSubElementClone=[]}},i.prototype.removeResizeClasses=function(e){for(var i=0;i<e.length;i++)for(var s=e[i].querySelectorAll(".e-resize"),n=0;n<s.length;n++)t.detach(s[n])},i.prototype.setClasses=function(e){for(var i=0;i<e.length;i++){var s=e[i],n=e[i].querySelector(".e-panel-container");this.allowDragging&&this.draggableHandle&&s.querySelectorAll(this.draggableHandle)[0]&&t.addClass([s.querySelectorAll(this.draggableHandle)[0]],["e-draggable"]),this.allowResizing&&this.mediaQuery&&!window.matchMedia("("+this.mediaQuery+")").matches&&this.setResizingClass(s,n)}},i.prototype.setResizingClass=function(e,i){this.availableClasses=this.resizableHandles||["e-south-east"];for(var s=0;s<this.availableClasses.length;s++){var n=this.createElement("span");i.appendChild(n),"e-double",t.addClass([n],["e-double",this.availableClasses[s],"e-resize"])}},i.prototype.setXYAttributes=function(e,i){e.setAttribute("data-sizex",i.sizeX.toString()),e.setAttribute("data-sizey",i.sizeY.toString()),t.isNullOrUndefined(i.row)||e.setAttribute("data-row",i.row.toString()),t.isNullOrUndefined(i.col)||e.setAttribute("data-col",i.col.toString()),t.isNullOrUndefined(i.minSizeX)||e.setAttribute("data-minSizeX",i.minSizeX.toString()),t.isNullOrUndefined(i.minSizeY)||e.setAttribute("data-minSizeY",i.minSizeY.toString()),t.isNullOrUndefined(i.maxSizeX)||e.setAttribute("data-maxSizeX",i.maxSizeX.toString()),t.isNullOrUndefined(i.maxSizeY)||e.setAttribute("data-maxSizeY",i.maxSizeY.toString())},i.prototype.setXYDimensions=function(e){var i,s,n=this.getCellSize()[1],o=this.getCellSize()[0];return i=e&&"number"==typeof o&&"number"==typeof e.sizeX&&e.sizeX>1?e.sizeX*o+(e.sizeX-1)*this.cellSpacing[0]:o,s=e&&"number"==typeof n&&e.sizeY>1&&"number"==typeof e.sizeY?e.sizeY*n+(e.sizeY-1)*this.cellSpacing[1]:t.formatUnit(n),[s,i]},i.prototype.getRowColumnDragValues=function(e){var t=parseInt(e.element.style.top,10),i=parseInt(e.element.style.left,10);return[Math.round(t/(this.getCellSize()[1]+this.cellSpacing[1])),Math.round(i/(this.getCellSize()[0]+ +this.cellSpacing[0]))]},i.prototype.enableDraggingContent=function(e){for(var i=this,s=0;s<e.length;s++){var n=e[s];this.dragobj=new t.Draggable(n,{clone:!1,dragArea:this.element,handle:this.draggableHandle?this.draggableHandle:".e-panel",abort:".e-resize",dragStart:this.onDraggingStart.bind(this),dragStop:function(e){var s=i.getCellInstance(i.mainElement.id);i.allowPushing&&i.collisionItems(s.row,s.col,s.sizeX,s.sizeY,i.mainElement).length>0?(i.setHolderPosition(e),i.setPanelPosition(i.mainElement,s.row,s.col),i.updatePanelLayout(i.mainElement,s)):i.setPanelPosition(i.mainElement,s.row,s.col);var n=[];i.mainElement=null;var o=i.getPanelBase(e);i.shadowEle&&t.detach(i.shadowEle),t.removeClass([i.element],[A]),t.removeClass([e.element],[I]),i.shadowEle=null,e.element.classList.remove("e-dragging");var l=i.getRowColumnDragValues(e)[0],a=i.getRowColumnDragValues(e)[1],r=i.getCellInstance(e.element.id);i.allowPushing&&0===i.getItems(l,a,r.sizeX,r.sizeY,document.getElementById(o.id)).length?(i.oldRowCol[e.element.id].row=i.getCellInstance(e.element.id).row=l,i.oldRowCol[e.element.id].col=i.getCellInstance(e.element.id).col=a,e.element.setAttribute("data-col",a.toString()),e.element.setAttribute("data-row",l.toString()),i.sortedPanel()):(i.getCellInstance(e.element.id).row=i.oldRowCol[e.element.id].row,i.getCellInstance(e.element.id).col=i.oldRowCol[e.element.id].col,e.element.setAttribute("data-col",i.getCellInstance(e.element.id).col.toString()),e.element.setAttribute("data-row",i.getCellInstance(e.element.id).row.toString()),i.sortedPanel());var h=i.getCellInstance(e.element.id);i.setPanelPosition(e.element,h.row,h.col),i.moveItemsUpwards(),i.updateOldRowColumn(),i.sortedPanel(),i.cloneArray=i.sortedArray,i.cloneObject=JSON.parse(JSON.stringify(i.oldRowCol));for(var d=0;d<i.panels.length;d++)i.panels[d].row===i.panelsInitialModel[d].row&&i.panels[d].col===i.panelsInitialModel[d].col||n.push(i.panels[d]);n.length>0&&i.trigger("change",n),i.trigger("dragStop",e),i.resizeEvents()},drag:function(e){i.trigger("drag",e),i.onDragStart(e)}}),-1===this.dragCollection.indexOf(this.dragobj)&&this.dragCollection.push(this.dragobj)}},i.prototype.onDraggingStart=function(e){this.panelsInitialModel=this.cloneModels(this.panels),this.mainElement=e.element,this.cloneObject=JSON.parse(JSON.stringify(this.cloneObject));var i=this.startRow=parseInt(e.element.getAttribute("data-row"),10);this.startCol=parseInt(e.element.getAttribute("data-col"),10);var s=parseInt(e.element.getAttribute("data-sizeY"),10);i+s===this.rows&&(this.rows=this.rows+s,this.setHeightWidth(),this.dragobj.setDragArea()),this.shadowEle=document.createElement("div"),this.shadowEle.classList.add("e-holder"),this.shadowEle.classList.add("e-holder-transition"),t.setStyleAttribute(this.shadowEle,{position:"absolute"}),t.addClass([this.element],[A]),t.addClass([e.element],[I]),this.element.appendChild(this.shadowEle);var n=parseInt(e.element.getAttribute("data-sizeY"),10),o=parseInt(e.element.getAttribute("data-sizeX"),10);e.element.offsetWidth!==this.setXYDimensions(this.getCellInstance(e.element.id))[1]&&(this.cellSize[0]=parseInt(e.element.style.width,10)/o,this.cellSize[1]=parseInt(e.element.style.height,10)/n),this.shadowEle=document.querySelector(".e-holder"),this.shadowEle.style.height=this.getCellInstance(e.element.id).sizeY*this.cellSize[1]+"px",this.shadowEle.style.width=this.getCellInstance(e.element.id).sizeX*this.cellSize[0]+"px";var l=this.getCellInstance(e.element.id);this.setPanelPosition(this.shadowEle,l.row,l.col)},i.prototype.cloneModels=function(e,t){void 0===t&&(t=[]);for(var i=0;i<e.length;i++){t[i]||(t[i]={});for(var s in e[i])t[i][s]=e[i][s]}return t},i.prototype.onDragStart=function(e){var t,i,s,n=s=this.getRowColumnDragValues(e)[1],o=this.getRowColumnDragValues(e)[0];this.getCellInstance(e.element.id).row=o,this.getCellInstance(e.element.id).col=n;var l=this.getCellInstance(e.element.id);this.getItems(o,n,l.sizeX,l.sizeY,e.element).length;if(this.allowPushing&&(e.element.setAttribute("data-col",n.toString()),e.element.setAttribute("data-row",o.toString()),this.getCellInstance(e.element.id).row=o,this.getCellInstance(e.element.id).col=n,t=this.oldRowCol[e.element.id].col,i=this.oldRowCol[e.element.id].row,this.oldRowCol[e.element.id]={row:o,col:n},this.updateOldRowColumn(),(this.startCol!==t||this.startRow!==i)&&(this.setHolderPosition(e),this.startCol!==t&&(this.startRow=i),this.startRow!==i&&(this.startCol=t),this.allowPushing))){this.mainElement=e.element;var a=l;this.checkCollision=this.collisionItems(a.row,a.col,a.sizeX,a.sizeY,e.element),l.col>=this.checkColumnValue&&(this.checkCollision=[]),this.updatePanelLayout(e.element,l),this.moveItemsUpwards()}!1!==this.allowPushing&&(this.getCellInstance(e.element.id).row=o,this.getCellInstance(e.element.id).col=n),this.oldRowCol[e.element.id].row===o&&this.oldRowCol[e.element.id].col===n||(this.getCellInstance(e.element.id).row=o,this.getCellInstance(e.element.id).col=n,e.element.setAttribute("data-col",n.toString()),e.element.setAttribute("data-row",o.toString())),this.startCol!==s&&(this.startCol=t,this.moveItemsUpwards()),this.allowPushing||this.setHolderPosition(e),this.removeResizeClasses(this.panelCollection),this.setClasses(this.panelCollection),this.allowPushing},i.prototype.getPanelBase=function(e){for(var t,i=0;i<this.panelCollection.length;i++)this.panelCollection[i].id===(e.element&&e.element.id||e)&&(t=this.panelCollection[i]);return t},i.prototype.getItems=function(e,t,i,s,n){var o=[];i&&s||(i=s=1),!n||n instanceof Array||(n=[n]);for(var l,a=0;a<s;++a)for(var r=0;r<i;++r)!(l=this.getPanel(e+a,t+r,n))||n&&-1!==n.indexOf(document.getElementById(l.id))||-1!==o.indexOf(document.getElementById(l.id))||o.push(document.getElementById(l.id));return o},i.prototype.getPanel=function(e,t,i){!i||i instanceof Array||(i=[i]);for(var s=1;e>-1;){for(var n=1,o=t;o>-1;){var l=this.sortedArray[e];if(l){var a=l[o];if(a&&(!i||-1===i.indexOf(a))&&parseInt(a.getAttribute("data-sizeX"),10)>=n&&parseInt(a.getAttribute("data-sizeY"),10)>=s)return a}++n,--o}--e,++s}return null},i.prototype.setHolderPosition=function(e){var t,i,s=parseInt(e.element.getAttribute("data-sizeY"),10),n=parseInt(e.element.getAttribute("data-col"),10),o=parseInt(e.element.getAttribute("data-row"),10),l=parseInt(e.element.getAttribute("data-sizeX"),10);e.element.offsetWidth!==this.setXYDimensions(this.getCellInstance(e.element.id))[1]&&(this.cellSize[1]=parseInt(e.element.style.height,10)/s,this.cellSize[0]=parseInt(e.element.style.width,10)/l);var a=this.getCellSize()[0],r=this.getCellSize()[1],h=0===o?0:o*(parseInt(r.toString(),10)+this.cellSpacing[1]),d=0===n?0:n*(parseInt(a.toString(),10)+this.cellSpacing[0]);t=this.getCellSize()[1],i=this.getCellSize()[0],this.elementRef.top=this.shadowEle.style.top=h+"px",this.elementRef.left=this.shadowEle.style.left=d+"px",this.elementRef.height=this.shadowEle.style.height=s*t+(s-1)*this.cellSpacing[1]+"px",this.elementRef.width=this.shadowEle.style.width=l*i+(l-1)*this.cellSpacing[0]+"px"},i.prototype.getCellInstance=function(e){for(var t,i=0;i<this.panels.length;i++)this.panels[i].id===e&&(t=this.panels[i]);return t},i.prototype.addPanel=function(e){this.panels.push(e),e.minSizeX||(e.minSizeX=1),e.minSizeY||(e.minSizeY=1),e.id||(e.id="layout_"+this.panelID.toString(),this.panelID=this.panelID+1);var t=this.renderCell(e);this.oldRowCol[e.id]={row:e.row,col:e.col},this.cloneObject[e.id]={row:e.row,col:e.col},this.updateOldRowColumn(),this.setMinMaxValues(e),this.element.appendChild(t);var i=t.querySelector(".e-panel-container");if(this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches?this.checkMediaQuerySizing():(this.addPanelCalled=!0,this.mainElement=t,this.checkCollision||(this.checkCollision=[]),this.setPanelPosition(t,e.row,e.col),this.updatePanelLayout(t,e),this.addPanelCalled=!1),this.allowResizing&&this.setResizingClass(t,i),this.allowDragging){var s=[];this.panelCollection.forEach(function(t){t.id===e.id&&s.push(t)}),this.enableDraggingContent(s)}this.allowFloating&&this.moveItemsUpwards(),this.updateOldRowColumn(),this.sortedPanel(),this.cloneArray=this.sortedArray,this.cloneObject=JSON.parse(JSON.stringify(this.oldRowCol)),this.bindEvents()},i.prototype.serialize=function(){for(var e=this.cloneModels(this.panels),t=[],i=0;i<e.length;i++)t.push({id:e[i].id,row:e[i].row,col:e[i].col,sizeX:e[i].sizeX,sizeY:e[i].sizeY,minSizeX:e[i].minSizeX,minSizeY:e[i].minSizeY,maxSizeX:e[i].maxSizeX,maxSizeY:e[i].maxSizeY});return t},i.prototype.removeAll=function(){for(var e=0;e<this.panelCollection.length;e++)t.detach(this.panelCollection[e]);this.element.innerHTML="",this.rows=0,this.gridPanelCollection=[],this.setHeightWidth(),this.sortedPanel(),this.sortedArray=[],this.overlapElementClone=[],this.overlapElement=[],this.overlapSubElementClone=[],this.panelCollection=[],this.oldRowCol={},this.cloneObject={},this.panels=[]},i.prototype.removePanel=function(e){for(var i=this,s=0;s<this.panelCollection.length;s++)this.panelCollection[s].id===e&&(t.detach(this.panelCollection[s]),this.panelCollection.splice(s,1)),this.panels[s].id===e&&(this.panels.splice(s,1),this.updateOldRowColumn(),this.sortedPanel());this.moveItemsUpwards(),this.updateOldRowColumn(),this.sortedPanel(),this.gridPanelCollection.forEach(function(t){t.id===e&&i.gridPanelCollection.splice(i.gridPanelCollection.indexOf(t),1)})},i.prototype.movePanel=function(e,t,i){this.movePanelCalled=!0;var s=this.getCellInstance(e);s.row=t,s.col=i,i<1?i=0:i>this.columns&&(i=this.columns);var n=document.getElementById(e);this.mainElement=n,n.setAttribute("data-col",i.toString()),n.setAttribute("data-row",t.toString()),this.setPanelPosition(n,t,i),this.updatePanelLayout(n,s),this.getRowColumn(),this.setHeightWidth(),this.moveItemsUpwards(),this.updateOldRowColumn(),this.sortedPanel(),this.cloneArray=this.sortedArray,this.cloneObject=JSON.parse(JSON.stringify(this.oldRowCol)),this.movePanelCalled=!1},i.prototype.resizePanel=function(e,t,i){var s=this.getCellInstance(e);this.resizeCalled=!0,s.sizeX=t,s.sizeY=i,this.setMinMaxValues(s);var n=document.getElementById(e);n.setAttribute("data-sizeX",s.sizeX.toString()),n.setAttribute("data-sizeY",s.sizeY.toString()),this.setHeightAndWidth(n,s),this.updatePanelLayout(n,s),this.updateOldRowColumn(),this.moveItemsUpwards(),this.sortedPanel(),this.getRowColumn(),this.setHeightWidth(),this.resizeCalled=!1},i.prototype.destroy=function(){t.removeClass([this.element],[x]),this.element.removeAttribute("style");for(var e=0;e<this.dragCollection.length;e++)this.dragCollection[e].destroy();for(e=0;e<this.panelCollection.length;e++)this.panelCollection[e];this.element.innerHTML=""},i.prototype.setEnableRtl=function(){this.enableRtl?t.addClass([this.element],"e-rtl"):t.removeClass([this.element],"e-rtl")},i.prototype.getDragInstance=function(e){for(var t,i=document.getElementById(e),s=0;s<this.dragCollection.length;s++)if(t=this.dragCollection[s].element===i?this.dragCollection[s]:null)return t;return t},i.prototype.updateCellSizeAndSpacing=function(){this.panelResponsiveUpdate(),this.setHeightWidth(),this.getRowColumn();for(var e=0;e<this.element.querySelectorAll(".e-panel").length;e++){var t=this.element.querySelectorAll(".e-panel")[e],i=this.getCellInstance(t.id);this.setHeightAndWidth(t,i),this.setPanelPosition(t,i.row,i.col)}},i.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){switch(n[s]){case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"mediaQuery":this.setProperties({mediaQuery:e.mediaQuery},!0),this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches&&this.checkMediaQuerySizing();break;case"allowDragging":this.setProperties({allowDragging:e.allowDragging},!0),this.checkDragging(this.dragCollection);break;case"allowResizing":if(this.setProperties({allowResizing:e.allowResizing},!0),this.allowResizing)this.setClasses(this.panelCollection),this.resizeEvents();else{for(var o=0;o<document.querySelectorAll(".e-resize").length;o++){var l=document.querySelectorAll(".e-resize")[o];t.EventHandler.remove(l,"mousedown",this.downResizeHandler),t.EventHandler.remove(document,"mouseup",this.upResizeHandler)}this.removeResizeClasses(this.panelCollection)}break;case"cellSpacing":this.setProperties({cellSpacing:e.cellSpacing},!0),this.updateCellSizeAndSpacing();break;case"draggableHandle":this.setProperties({draggableHandle:e.draggableHandle},!0);for(o=0;o<this.element.querySelectorAll(".e-panel").length;o++){var a=this.element.querySelectorAll(".e-panel")[o];this.getDragInstance(a.id).handle=this.draggableHandle}break;case"allowFloating":this.setProperties({allowFloating:e.allowFloating},!0),this.moveItemsUpwards();break;case"allowPushing":this.setProperties({allowPushing:e.allowPushing},!0)}}},i.prototype.getPersistData=function(){return this.addOnPersist(["panels"])},i.prototype.getModuleName=function(){return"DashboardLayout"},b([t.Property(!0)],i.prototype,"allowDragging",void 0),b([t.Property(!1)],i.prototype,"allowResizing",void 0),b([t.Property(!0)],i.prototype,"allowPushing",void 0),b([t.Property(!0)],i.prototype,"allowFloating",void 0),b([t.Property(1)],i.prototype,"cellAspectRatio",void 0),b([t.Property([0,0])],i.prototype,"cellSpacing",void 0),b([t.Property(1)],i.prototype,"columns",void 0),b([t.Property(null)],i.prototype,"draggableHandle",void 0),b([t.Property(!1)],i.prototype,"enableRtl",void 0),b([t.Property("en-US")],i.prototype,"locale",void 0),b([t.Property("max-width: 600px")],i.prototype,"mediaQuery",void 0),b([t.Collection([{}],R)],i.prototype,"panels",void 0),b([t.Property(null)],i.prototype,"resizableHandles",void 0),b([t.Event()],i.prototype,"change",void 0),b([t.Event()],i.prototype,"dragStart",void 0),b([t.Event()],i.prototype,"drag",void 0),b([t.Event()],i.prototype,"dragStop",void 0),b([t.Event()],i.prototype,"resizeStart",void 0),b([t.Event()],i.prototype,"resize",void 0),b([t.Event()],i.prototype,"resizeStop",void 0),i=b([t.NotifyPropertyChanges],i)}(t.Component);e.PaneProperties=w,e.Splitter=S,e.Panel=R,e.DashboardLayout=O,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-layouts.umd.min.js.map
