{"version":3,"file":"ej2-pivotview.min.js","sources":["../../src/base/util.js","../../src/base/engine.js","../../src/common/base/constant.js","../../src/common/base/css-constant.js","../../src/common/popups/aggregate-menu.js","../../src/pivotview/renderer/render.js","../../src/pivotview/model/datasourcesettings.js","../../src/pivotview/model/gridsettings.js","../../src/pivotview/actions/excel-export.js","../../src/pivotview/actions/pdf-export.js","../../src/pivotview/actions/keyboard.js","../../src/common/popups/context-menu.js","../../src/pivotview/actions/virtualscroll.js","../../src/common/popups/drillthrough-dialog.js","../../src/pivotview/actions/drill-through.js","../../src/pivotchart/base/pivotchart.js","../../src/pivotview/model/chartsettings.js","../../src/base/olap/mdx-query.js","../../src/base/olap/engine.js","../../src/pivotview/base/pivotview.js","../../src/common/actions/keyboard.js","../../src/common/actions/event-base.js","../../src/common/actions/node-state-modified.js","../../src/common/actions/dataSource-update.js","../../src/common/popups/error-dialog.js","../../src/common/popups/filter-dialog.js","../../src/common/base/pivot-common.js","../../src/pivotfieldlist/renderer/dialog-renderer.js","../../src/pivotfieldlist/renderer/tree-renderer.js","../../src/pivotfieldlist/renderer/axis-table-renderer.js","../../src/common/actions/pivot-button.js","../../src/pivotfieldlist/renderer/axis-field-renderer.js","../../src/pivotfieldlist/renderer/renderer.js","../../src/pivotfieldlist/base/field-list.js","../../src/common/calculatedfield/calculated-field.js","../../src/common/actions/field-list.js","../../src/common/actions/common.js","../../src/common/grouping-bar/axis-field-renderer.js","../../src/common/grouping-bar/grouping-bar.js","../../src/common/conditionalformatting/conditional-formatting.js","../../src/common/popups/toolbar.js","../../src/common/popups/formatting-dialog.js","../../src/global.js"],"sourcesContent":["/**\n * This is a file to perform common utility for OLAP and Relational datasource\n * @hidden\n */\nvar PivotUtil = /** @class */ (function () {\n    function PivotUtil() {\n    }\n    PivotUtil.getType = function (value) {\n        var val;\n        val = (value && value.getDay) ? (value.getHours() > 0 || value.getMinutes() > 0 ||\n            value.getSeconds() > 0 || value.getMilliseconds() > 0 ? 'datetime' : 'date') : typeof (value);\n        return val;\n    };\n    PivotUtil.resetTime = function (date) {\n        date.setHours(0, 0, 0, 0);\n        return date;\n    };\n    PivotUtil.getClonedData = function (data) {\n        var clonedData = [];\n        if (data) {\n            for (var _i = 0, _a = data; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var fields = Object.keys(item);\n                var keyPos = 0;\n                /* tslint:disable */\n                var framedSet = {};\n                /* tslint:enable */\n                while (keyPos < fields.length) {\n                    framedSet[fields[keyPos]] = item[fields[keyPos]];\n                    keyPos++;\n                }\n                clonedData.push(framedSet);\n            }\n        }\n        return clonedData;\n    };\n    PivotUtil.getClonedPivotValues = function (pivotValues) {\n        var clonedSets = [];\n        for (var i = 0; i < pivotValues.length; i++) {\n            clonedSets[i] = [];\n            for (var j = 0; j < pivotValues[i].length; j++) {\n                if (pivotValues[i][j]) {\n                    clonedSets[i][j] = this.getClonedObj(pivotValues[i][j]);\n                }\n            }\n        }\n        return clonedSets;\n    };\n    PivotUtil.getClonedObj = function (data) {\n        var keyPos = 0;\n        /* tslint:disable */\n        var framedSet = {};\n        /* tslint:enable */\n        if (!(data === null || data === undefined)) {\n            var fields = Object.keys(data);\n            while (keyPos < fields.length) {\n                framedSet[fields[keyPos]] = data[fields[keyPos]];\n                keyPos++;\n            }\n        }\n        else {\n            framedSet = data;\n        }\n        return framedSet;\n    };\n    PivotUtil.inArray = function (value, collection) {\n        for (var i = 0, cnt = collection.length; i < cnt; i++) {\n            if (collection[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    return PivotUtil;\n}());\nexport { PivotUtil };\n","import { extend, Internationalization, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { PivotUtil } from './util';\n/**\n * PivotEngine is used to manipulate the relational or Multi-Dimensional data as pivoting values.\n */\n/** @hidden */\nvar PivotEngine = /** @class */ (function () {\n    function PivotEngine() {\n        /** @hidden */\n        this.valueContent = [];\n        /** @hidden */\n        this.formatFields = {};\n        /** @hidden */\n        this.dateFormatFunction = {};\n        /** @hidden */\n        this.calculatedFields = {};\n        /** @hidden */\n        this.calculatedFormulas = {};\n        /** @hidden */\n        this.valueAxis = 0;\n        /** @hidden */\n        this.saveDataHeaders = {};\n        /** @hidden */\n        this.columnCount = 0;\n        /** @hidden */\n        this.rowCount = 0;\n        /** @hidden */\n        this.colFirstLvl = 0;\n        /** @hidden */\n        this.rowFirstLvl = 0;\n        /** @hidden */\n        this.rowStartPos = 0;\n        /** @hidden */\n        this.colStartPos = 0;\n        /** @hidden */\n        this.enableValueSorting = false;\n        /** @hidden */\n        this.headerCollection = { rowHeaders: [], columnHeaders: [], rowHeadersCount: 0, columnHeadersCount: 0 };\n        /** @hidden */\n        this.rMembers = [];\n        /** @hidden */\n        this.cMembers = [];\n        this.valueMatrix = [];\n        this.indexMatrix = [];\n        this.memberCnt = -1;\n        this.pageInLimit = false;\n        this.endPos = 0;\n        this.removeCount = 0;\n        this.colHdrBufferCalculated = false;\n        this.colValuesLength = 1;\n        this.rowValuesLength = 1;\n        this.slicedHeaders = [];\n        this.fieldFilterMem = {};\n        this.filterPosObj = {};\n        this.selectedHeaders = { selectedHeader: [], values: [] };\n        this.rawIndexObject = {};\n        this.isEditing = false;\n        /** @hidden */\n        this.data = [];\n        this.frameHeaderObjectsCollection = false;\n        this.headerObjectsCollection = {};\n        this.groupingFields = {};\n        this.columnKeys = {};\n        this.fieldDrillCollection = {};\n        /* tslint:disable-next-line:max-line-length */\n        this.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n        this.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n        /* private makeMirrorObject(elements: number[], obj: NumberIndex): void {\n             for (let lp: number = 0, end: number = elements.length; lp < end; lp++) {\n                 obj[elements[lp]] = elements[lp];\n             }\n         } */\n    }\n    /* tslint:disable */\n    PivotEngine.prototype.renderEngine = function (dataSource, customProperties, fn) {\n        this.getValueCellInfo = fn;\n        this.formatFields = {};\n        this.dateFormatFunction = {};\n        this.calculatedFields = {};\n        this.calculatedFormulas = {};\n        this.valueAxis = 0;\n        this.saveDataHeaders = {};\n        this.columnCount = 0;\n        this.rowCount = 0;\n        this.colFirstLvl = 0;\n        this.rowFirstLvl = 0;\n        this.rowStartPos = 0;\n        this.colStartPos = 0;\n        this.excludeFields = isNullOrUndefined(dataSource.excludeFields) ? [] : dataSource.excludeFields;\n        this.enableValueSorting = false;\n        this.headerCollection = { rowHeaders: [], columnHeaders: [], rowHeadersCount: 0, columnHeadersCount: 0 };\n        this.valueMatrix = [];\n        this.indexMatrix = [];\n        this.rMembers = [];\n        this.cMembers = [];\n        this.memberCnt = -1;\n        this.pageInLimit = false;\n        this.endPos = 0;\n        this.removeCount = 0;\n        this.colHdrBufferCalculated = false;\n        this.colValuesLength = 1;\n        this.rowValuesLength = 1;\n        this.slicedHeaders = [];\n        this.fieldFilterMem = {};\n        this.filterPosObj = {};\n        this.selectedHeaders = { selectedHeader: [], values: [] };\n        this.rawIndexObject = {};\n        this.isEditing = false;\n        var fields;\n        var val;\n        var filterRw;\n        this.globalize = new Internationalization();\n        this.localeObj = customProperties ? customProperties.localeObj : undefined;\n        this.fieldsType = customProperties ? customProperties.fieldsType : {};\n        this.enableSort = dataSource.enableSorting;\n        this.alwaysShowValueHeader = dataSource.alwaysShowValueHeader;\n        this.showHeaderWhenEmpty = isNullOrUndefined(dataSource.showHeaderWhenEmpty) ? true : dataSource.showHeaderWhenEmpty;\n        this.showSubTotals = isNullOrUndefined(dataSource.showSubTotals) ? true : dataSource.showSubTotals;\n        this.showRowSubTotals = isNullOrUndefined(dataSource.showRowSubTotals) ? true : dataSource.showRowSubTotals;\n        this.showColumnSubTotals = isNullOrUndefined(dataSource.showColumnSubTotals) ? true : dataSource.showColumnSubTotals;\n        this.showGrandTotals = isNullOrUndefined(dataSource.showGrandTotals) ? true : dataSource.showGrandTotals;\n        this.showRowGrandTotals = isNullOrUndefined(dataSource.showRowGrandTotals) ? true : dataSource.showRowGrandTotals;\n        this.showColumnGrandTotals = isNullOrUndefined(dataSource.showColumnGrandTotals) ? true : dataSource.showColumnGrandTotals;\n        this.allowValueFilter = dataSource.allowValueFilter;\n        this.isValueFilterEnabled = false;\n        this.enableValueSorting = customProperties ? customProperties.enableValueSorting : false;\n        this.valueContent = [];\n        if (!(dataSource.dataSource instanceof DataManager)) {\n            this.data = dataSource.dataSource;\n        }\n        if (this.data && this.data[0]) {\n            this.fields = Object.keys(this.data[0]);\n            var keys = this.fields;\n            var report = {};\n            report[0] = dataSource.rows;\n            report[1] = dataSource.columns;\n            report[2] = dataSource.values;\n            report[3] = dataSource.filters;\n            var pos = 0;\n            while (pos < 4) {\n                if (report[pos]) {\n                    for (var cnt = 0; cnt < report[pos].length; cnt++) {\n                        if (this.excludeFields.indexOf(report[pos][cnt].name) > -1) {\n                            report[pos].splice(cnt, 1);\n                            cnt--;\n                        }\n                    }\n                }\n                pos++;\n            }\n            this.rows = dataSource.rows ? dataSource.rows : [];\n            this.columns = dataSource.columns ? dataSource.columns : [];\n            this.filters = dataSource.filters ? dataSource.filters : [];\n            this.formats = dataSource.formatSettings ? dataSource.formatSettings : [];\n            this.values = dataSource.values ? dataSource.values : [];\n            this.groups = dataSource.groupSettings ? dataSource.groupSettings : [];\n            this.calculatedFieldSettings = dataSource.calculatedFieldSettings ? dataSource.calculatedFieldSettings : [];\n            this.enableSort = dataSource.enableSorting === undefined ? true : dataSource.enableSorting;\n            fields = this.getGroupData(this.data);\n            this.validateFilters(dataSource);\n            this.isExpandAll = (this.isValueFiltersAvail && dataSource.allowValueFilter) ? true : dataSource.expandAll;\n            this.drilledMembers =\n                dataSource.drilledMembers ? (this.isValueFiltersAvail && dataSource.allowValueFilter) ? [] : dataSource.drilledMembers : [];\n            this.isMutiMeasures = this.values.length > 1 ? true : false;\n            this.valueAxis = dataSource.valueAxis === 'row' ? 1 : 0;\n            this.emptyCellTextContent = dataSource.emptyCellsTextContent ? dataSource.emptyCellsTextContent : '';\n            this.rowValuesLength = this.valueAxis === 1 ? this.values.length : 1;\n            this.colValuesLength = this.valueAxis === 0 ? this.values.length : 1;\n            this.valueSortSettings = dataSource.valueSortSettings ||\n                { sortOrder: 'None', headerDelimiter: '.', headerText: '', columnIndex: undefined };\n            this.valueSortData = [];\n            this.pageSettings = customProperties ? (customProperties.pageSettings ? customProperties.pageSettings : this.pageSettings)\n                : undefined;\n            this.savedFieldList = customProperties ? customProperties.savedFieldList : undefined;\n            this.isDrillThrough = customProperties ? (customProperties.isDrillThrough ? customProperties.isDrillThrough : false) : false;\n            this.getFieldList(fields, this.enableSort, dataSource.allowValueFilter);\n            this.fillFieldMembers(this.data, this.indexMatrix);\n            this.updateSortSettings(dataSource.sortSettings, this.enableSort);\n            this.valueMatrix = this.generateValueMatrix(this.data);\n            this.filterMembers = [];\n            var columnLength = this.columns.length - 1;\n            this.columnKeys = {};\n            while (columnLength > -1) {\n                this.columnKeys[this.columns[columnLength].name] = this.columns[columnLength];\n                columnLength--;\n            }\n            this.updateFilterMembers(dataSource);\n            this.generateGridData(dataSource);\n        }\n    };\n    /* tslint:disable */\n    PivotEngine.prototype.getGroupData = function (data) {\n        var fieldkeySet = data[0];\n        var _loop_1 = function (dategroup) {\n            var fieldName = dategroup.name;\n            if (this_1.fields.indexOf(fieldName) > -1) {\n                var groupFields = {};\n                if (dategroup.type === 'Number') {\n                    if (PivotUtil.getType(fieldkeySet[fieldName]) === 'number') {\n                        if (dategroup.rangeInterval) {\n                            data.sort(function (a, b) { return (a[fieldName] > b[fieldName]) ? 1 : ((b[fieldName] > a[fieldName]) ? -1 : 0); });\n                        }\n                    }\n                    else {\n                        return { value: fieldkeySet };\n                    }\n                }\n                var len = data.length;\n                while (len--) {\n                    var item = data[len];\n                    if (item[fieldName] && dategroup.type === 'Date') {\n                        var date = new Date(item[fieldName].toString());\n                        if (!isNullOrUndefined(date) && dategroup.groupInterval.length > 0) {\n                            var isGrouped = false;\n                            for (var _i = 0, _a = dategroup.groupInterval; _i < _a.length; _i++) {\n                                var interval = _a[_i];\n                                isGrouped = true;\n                                var isInRangeAvail = this_1.getRange(dategroup, date.getTime());\n                                var newDate = PivotUtil.resetTime(new Date());\n                                switch (interval) {\n                                    case 'Years':\n                                        {\n                                            var newFieldName = fieldName + '_years';\n                                            groupFields[newFieldName] = interval;\n                                            item[newFieldName] = (isInRangeAvail ? undefined : new Date(newDate.setFullYear(date.getFullYear())).toString());\n                                        }\n                                        break;\n                                    case 'Quarters':\n                                        {\n                                            var newFieldName = fieldName + '_quarters';\n                                            groupFields[newFieldName] = interval;\n                                            var month = Math.ceil((date.getMonth() + 1) / 3);\n                                            item[newFieldName] = (isInRangeAvail ? undefined : ((this_1.localeObj ? this_1.localeObj.getConstant('qtr') : 'Qtr') + month.toString()));\n                                        }\n                                        break;\n                                    case 'QuarterYear':\n                                        {\n                                            var newFieldName = fieldName + '_quarterYear';\n                                            groupFields[newFieldName] = interval;\n                                            var month = Math.ceil((date.getMonth() + 1) / 3);\n                                            item[newFieldName] = (isInRangeAvail ? undefined :\n                                                ((this_1.localeObj ? this_1.localeObj.getConstant('qtr') : 'Qtr') + month.toString() + ' '\n                                                    + (this_1.localeObj ? this_1.localeObj.getConstant('of') : 'of') + ' '\n                                                    + date.getFullYear().toString()));\n                                        }\n                                        break;\n                                    case 'Months':\n                                        {\n                                            var newFieldName = fieldName + '_months';\n                                            groupFields[newFieldName] = interval;\n                                            item[newFieldName] = (isInRangeAvail ? undefined : new Date(newDate.setMonth(date.getMonth(), newDate.getDate())).toString());\n                                        }\n                                        break;\n                                    case 'Days':\n                                        {\n                                            var newFieldName = fieldName + '_days';\n                                            groupFields[newFieldName] = interval;\n                                            item[newFieldName] = (isInRangeAvail ? undefined : new Date(newDate.setMonth(date.getMonth(), date.getDate())).toString());\n                                        }\n                                        break;\n                                    case 'Hours':\n                                        {\n                                            var newFieldName = fieldName + '_hours';\n                                            groupFields[newFieldName] = interval;\n                                            item[newFieldName] = (isInRangeAvail ? undefined : new Date(newDate.setHours(date.getHours())).toString());\n                                        }\n                                        break;\n                                    case 'Minutes':\n                                        {\n                                            var newFieldName = fieldName + '_minutes';\n                                            groupFields[newFieldName] = interval;\n                                            item[newFieldName] = (isInRangeAvail ? undefined : new Date(newDate.setMinutes(date.getMinutes())).toString());\n                                        }\n                                        break;\n                                    case 'Seconds':\n                                        {\n                                            var newFieldName = fieldName + '_seconds';\n                                            groupFields[newFieldName] = interval;\n                                            item[newFieldName] = (isInRangeAvail ? undefined : new Date(newDate.setSeconds(date.getSeconds())).toString());\n                                        }\n                                        break;\n                                }\n                            }\n                            if (isGrouped) {\n                                delete item[fieldName];\n                            }\n                        }\n                    }\n                    else {\n                        var isInRangeAvail = this_1.getRange(dategroup, item[fieldName]);\n                        item[fieldName] = isInRangeAvail ? undefined : item[fieldName];\n                    }\n                    var keys = Object.keys(item);\n                    var isCompleteSet = [];\n                    for (var _b = 0, keys_1 = keys; _b < keys_1.length; _b++) {\n                        var key = keys_1[_b];\n                        isCompleteSet.push((item[key]) ? true : false);\n                    }\n                    ;\n                    fieldkeySet = (((isCompleteSet.indexOf(false) === -1) && keys.length === Object.keys(data[0]).length) ? item : fieldkeySet);\n                }\n                if (dategroup.type === 'Date') {\n                    var isDataSource = false;\n                    var axisFields = [this_1.rows, this_1.columns, this_1.values, this_1.filters];\n                    var groupKeys = Object.keys(groupFields);\n                    var gCnt = Object.keys(groupKeys).length;\n                    var groupField = void 0;\n                    for (var _c = 0, axisFields_1 = axisFields; _c < axisFields_1.length; _c++) {\n                        var axis = axisFields_1[_c];\n                        if (!isDataSource && axis) {\n                            var cnt = axis.length;\n                            var i = 0;\n                            while (i < cnt) {\n                                if (axis[i].name === fieldName) {\n                                    isDataSource = true;\n                                    var actualField = axis[i];\n                                    axis.splice(i, 1);\n                                    while (gCnt--) {\n                                        groupField = groupFields[groupKeys[gCnt]];\n                                        var newField = {\n                                            name: groupKeys[gCnt],\n                                            caption: (this_1.localeObj ? this_1.localeObj.getConstant(groupField) : groupField) + ' (' + fieldName + ')',\n                                            type: 'Count',\n                                            showNoDataItems: actualField.showNoDataItems,\n                                            baseField: actualField.baseField,\n                                            baseItem: actualField.baseItem,\n                                        };\n                                        axis.splice(i, 0, newField);\n                                    }\n                                    break;\n                                }\n                                i++;\n                            }\n                            if (isDataSource) {\n                                break;\n                            }\n                        }\n                    }\n                    gCnt = Object.keys(groupKeys).length;\n                    while (gCnt--) {\n                        groupField = groupFields[groupKeys[gCnt]];\n                        var formatfield = new DataManager({ json: this_1.formats }).executeLocal(new Query().where('name', 'equal', groupKeys[gCnt]))[0];\n                        if (groupField !== 'Quarters' && groupField !== 'QuarterYear' && !formatfield) {\n                            var formatSettings = {\n                                name: groupKeys[gCnt],\n                                type: ['Years', 'Months', 'Days'].indexOf(groupField) > -1 ? 'date' : 'time',\n                                format: ((groupField === 'Years') ? 'yyyy' : (groupField === 'Months') ? 'MMM' :\n                                    (groupField === 'Days') ? 'd-MMM' : (groupField === 'Hours') ? 'hh a' :\n                                        (groupField === 'Minutes') ? ':mm' : (groupField === 'Seconds') ? ':ss' : undefined)\n                            };\n                            this_1.formats.push(formatSettings);\n                        }\n                    }\n                }\n                else if (dategroup.type === 'Number' && dategroup.rangeInterval) {\n                    var startValue = void 0;\n                    var endValue = void 0;\n                    var cStartValue = void 0;\n                    var cEndValue = void 0;\n                    var framedSet = [];\n                    var unframedSet = [];\n                    var dataLength = data.length;\n                    var cnt = 0;\n                    this_1.groupingFields[fieldName] = fieldName;\n                    while (cnt < dataLength) {\n                        unframedSet.push(data[cnt][fieldName]);\n                        if (data[cnt][fieldName] && framedSet.indexOf(data[cnt][fieldName]) === -1) {\n                            framedSet.push(data[cnt][fieldName]);\n                        }\n                        cnt++;\n                    }\n                    var framedSetLength = Math.max.apply(Math, framedSet);\n                    for (var i = framedSet[0], len_1 = framedSetLength; i < len_1; i++) {\n                        if (unframedSet.indexOf(i) < 0) {\n                            var duplicateData = this_1.frameData(data[0]);\n                            duplicateData[fieldName] = i;\n                            var index = unframedSet.lastIndexOf(i - 1);\n                            unframedSet.splice(index + 1, 0, i);\n                            data.splice(index + 1, 0, duplicateData);\n                        }\n                    }\n                    dataLength = data.length;\n                    cnt = 0;\n                    while (cnt < dataLength) {\n                        if (data[cnt] && data[cnt][fieldName]) {\n                            cStartValue = data[cnt][fieldName];\n                            cEndValue = cStartValue + (dategroup.rangeInterval - 1);\n                            startValue = (!startValue) ? cStartValue : startValue;\n                            endValue = ((!endValue) ? ((cEndValue > framedSetLength) ? framedSetLength : cEndValue) : ((endValue > framedSetLength) ? framedSetLength : endValue));\n                            if (cStartValue >= startValue && cStartValue <= endValue) {\n                                data[cnt][fieldName] = ((startValue === endValue) ? startValue.toString() : startValue.toString() + '-' + endValue.toString());\n                            }\n                            else if (cStartValue > endValue && cStartValue === endValue + 1) {\n                                startValue = endValue + 1;\n                                endValue = ((startValue + (dategroup.rangeInterval - 1) > framedSetLength) ? framedSetLength : startValue + (dategroup.rangeInterval - 1));\n                                data[cnt][fieldName] = ((startValue === endValue) ? startValue.toString() : startValue.toString() + '-' + endValue.toString());\n                            }\n                            var keys = Object.keys(data[cnt]);\n                            var isCompleteSet = [];\n                            for (var _d = 0, keys_2 = keys; _d < keys_2.length; _d++) {\n                                var key = keys_2[_d];\n                                isCompleteSet.push((data[cnt][key]) ? true : false);\n                            }\n                            ;\n                            fieldkeySet = (((isCompleteSet.indexOf(false) === -1) && keys.length === Object.keys(data[0]).length) ? data[cnt] : fieldkeySet);\n                        }\n                        cnt++;\n                    }\n                    var axisFields = [this_1.rows, this_1.columns, this_1.values, this_1.filters];\n                    for (var _e = 0, axisFields_2 = axisFields; _e < axisFields_2.length; _e++) {\n                        var fields = axisFields_2[_e];\n                        var field = new DataManager({ json: fields }).executeLocal(new Query().where('name', 'equal', fieldName))[0];\n                        if (field) {\n                            field = field.properties ? field.properties : field;\n                            field.type = 'Count';\n                        }\n                    }\n                    for (var i = 0, len_2 = this_1.formats.length; i < len_2; i++) {\n                        if (this_1.formats[i].name === fieldName) {\n                            this_1.formats.splice(i, 1);\n                            break;\n                        }\n                    }\n                }\n                this_1.groupingFields = extend(this_1.groupingFields, groupFields);\n            }\n            else {\n                return { value: fieldkeySet };\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.groups; _i < _a.length; _i++) {\n            var dategroup = _a[_i];\n            var state_1 = _loop_1(dategroup);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        this.fields = Object.keys(fieldkeySet);\n        return fieldkeySet;\n    };\n    PivotEngine.prototype.frameData = function (data) {\n        var fields = Object.keys(data);\n        var keyPos = 0;\n        var framedSet = {};\n        while (keyPos < fields.length) {\n            framedSet[fields[keyPos]] = undefined;\n            keyPos++;\n        }\n        return framedSet;\n    };\n    /* tslint:enable */\n    PivotEngine.prototype.getRange = function (group, cValue) {\n        var isRangeAvail;\n        if (group.type === 'Date') {\n            var cDate = new Date(cValue);\n            var startDate = typeof (group.startingAt) === 'string' ? new Date(group.startingAt) : group.startingAt;\n            var endDate = typeof (group.endingAt) === 'string' ? new Date(group.endingAt) : group.endingAt;\n            if (startDate && cDate.getTime() < startDate.getTime() ||\n                endDate && cDate.getTime() > endDate.getTime()) {\n                isRangeAvail = true;\n            }\n            else {\n                isRangeAvail = false;\n            }\n        }\n        else {\n            var startValue = typeof (group.startingAt) === 'string' ? parseInt(group.startingAt, 10) : group.startingAt;\n            var endValue = typeof (group.endingAt) === 'string' ? parseInt(group.endingAt, 10) : group.endingAt;\n            if (startValue && cValue < startValue || endValue && cValue > endValue) {\n                isRangeAvail = true;\n            }\n            else {\n                isRangeAvail = false;\n            }\n        }\n        return isRangeAvail;\n    };\n    PivotEngine.prototype.getFormattedFields = function (fields) {\n        var cnt = this.formats.length;\n        while (cnt--) {\n            this.formatFields[this.formats[cnt].name] = this.formats[cnt];\n            if (this.formats[cnt].type) {\n                this.dateFormatFunction[this.formats[cnt].name] = {\n                    exactFormat: this.globalize.getDateFormat(this.formats[cnt]),\n                    fullFormat: this.globalize.getDateFormat({\n                        format: 'yyyy/MM/dd/HH/mm/ss', type: this.formats[cnt].type\n                    })\n                };\n            }\n            // for (let len: number = 0, lnt: number = fields.length; len < lnt; len++) {\n            // if (fields[len] && fields[len].name === this.formats[cnt].name) {\n            //     this.formatFields[fields[len].name] = this.formats[cnt];\n            // }\n            // }\n        }\n    };\n    PivotEngine.prototype.getFieldList = function (fields, isSort, isValueFilteringEnabled) {\n        var type;\n        var keys = this.fields;\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns, this.values, this.filters);\n        this.getFormattedFields(dataFields);\n        this.getCalculatedField(keys);\n        keys = this.fields;\n        var lenE = this.excludeFields.length;\n        lenE = lenE - 1;\n        while (lenE > -1) {\n            var index = this.fields.indexOf(this.excludeFields[lenE]);\n            this.fields.splice(index, 1);\n            if (this.fieldList) {\n                delete this.fieldList[this.excludeFields[lenE]];\n            }\n            lenE--;\n        }\n        var len = keys.length;\n        if (this.savedFieldList) {\n            this.fieldList = this.savedFieldList;\n            while (len--) { /** while is used for better performance than for */\n                var key = keys[len];\n                if (this.fieldList[key]) {\n                    this.fieldList[key].isSelected = false;\n                    this.fieldList[key].index = len;\n                    this.fieldList[key].filter = [];\n                    this.fieldList[key].isExcelFilter = false;\n                    this.fieldList[key].filterType = '';\n                    if (this.isValueFiltersAvail && isValueFilteringEnabled) {\n                        this.fieldList[key].dateMember = [];\n                        this.fieldList[key].formattedMembers = {};\n                        this.fieldList[key].members = {};\n                    }\n                }\n                else {\n                    this.fieldList[key] = {\n                        id: key,\n                        caption: key,\n                        type: (type === undefined || type === 'undefined') ? 'number' : type,\n                        filterType: '',\n                        index: len,\n                        filter: [],\n                        sort: isSort ? 'Ascending' : 'None',\n                        isSelected: false\n                    };\n                }\n            }\n        }\n        else {\n            while (len--) { /** while is used for better performance than for */\n                var key = keys[len];\n                type = (this.fieldsType && this.fieldsType[key]) ? this.fieldsType[key] : PivotUtil.getType(fields[key]);\n                if (!this.fieldList) {\n                    this.fieldList = {};\n                }\n                this.fieldList[key] = {\n                    id: key,\n                    caption: key,\n                    type: (type === undefined || type === 'undefined') ? 'number' : type,\n                    filterType: '',\n                    index: len,\n                    filter: [],\n                    sort: isSort ? 'Ascending' : 'None',\n                    isSelected: false\n                };\n            }\n        }\n        this.updateTreeViewData(dataFields);\n    };\n    PivotEngine.prototype.updateFieldList = function (savedFieldList) {\n        var keys = this.fields;\n        var len = keys.length;\n        while (len--) { /** while is used for better performance than for */\n            this.fieldList[keys[len]].isExcelFilter = savedFieldList[keys[len]].isExcelFilter;\n        }\n    };\n    PivotEngine.prototype.updateTreeViewData = function (fields) {\n        var cnt = fields.length;\n        var lnt = this.calculatedFieldSettings.length;\n        while (cnt--) {\n            if (this.fieldList[fields[cnt].name]) {\n                var field = this.fieldList[fields[cnt].name];\n                field.caption = fields[cnt].caption ? fields[cnt].caption : fields[cnt].name;\n                field.isSelected = true;\n                field.showNoDataItems = fields[cnt].showNoDataItems;\n                field.aggregateType = fields[cnt].type;\n                field.baseField = fields[cnt].baseField;\n                field.baseItem = fields[cnt].baseItem;\n            }\n        }\n        while (lnt--) {\n            this.fieldList[this.calculatedFieldSettings[lnt].name].aggregateType = 'CalculatedField';\n            this.fieldList[this.calculatedFieldSettings[lnt].name].formula = this.calculatedFieldSettings[lnt].formula;\n        }\n    };\n    /* tslint:disable:typedef */\n    PivotEngine.prototype.getCalculatedField = function (keys) {\n        for (var _i = 0, _a = this.calculatedFieldSettings; _i < _a.length; _i++) {\n            var field = _a[_i];\n            this.calculatedFields[field.name] = extend({}, field, null, true);\n            this.calculatedFields[field.name].actualFormula = field.formula;\n        }\n        var fieldKeys = Object.keys(this.calculatedFields);\n        var _loop_2 = function (calc, cnt) {\n            var field = this_2.calculatedFields[fieldKeys[calc]];\n            var calcProperties = field.properties;\n            var actualFormula = (calcProperties ? calcProperties.formula : field.formula).replace(/ +/g, '');\n            var formula = actualFormula.replace(/\"/g, '');\n            field.formula = formula.indexOf('^') > -1 ? this_2.powerFunction(formula) : formula;\n            field.name = calcProperties ? calcProperties.name : field.name;\n            keys = keys.filter(function (key) { return key !== field.name; });\n            keys.push(field.name);\n            var formulaType = actualFormula.split('\\\"');\n            for (var len = 0, lmt = formulaType.length; len < lmt; len++) {\n                var type = formulaType[len];\n                var aggregateValue = type.split(/[ .:;?!~,`\"&|()<>{}\\[\\]\\r\\n/\\\\]+/);\n                var selectedString = (aggregateValue[0] === 'DistinctCount' ?\n                    'DistinctCount' : aggregateValue[0] === 'PopulationStDev' ?\n                    'PopulationStDev' : aggregateValue[0] === 'SampleStDev' ? 'SampleStDev' : aggregateValue[0] === 'PopulationVar' ?\n                    'PopulationVar' : aggregateValue[0] === 'SampleVar' ? 'SampleVar' : aggregateValue[0]);\n                if (['Sum', 'Count', 'Min', 'Max', 'Avg', 'Product', 'DistinctCount',\n                    'PopulationStDev', 'SampleStDev', 'PopulationVar', 'SampleVar'].indexOf(selectedString) !== -1) {\n                    var index = keys.indexOf(aggregateValue[1]);\n                    if (!this_2.calculatedFormulas[field.name]) {\n                        this_2.calculatedFormulas[field.name] = [{\n                                index: index,\n                                type: selectedString,\n                                formula: type,\n                            }];\n                    }\n                    else {\n                        this_2.calculatedFormulas[field.name].push({\n                            index: index,\n                            type: selectedString,\n                            formula: type,\n                        });\n                    }\n                }\n            }\n        };\n        var this_2 = this;\n        for (var calc = 0, cnt = fieldKeys.length; calc < cnt; calc++) {\n            _loop_2(calc, cnt);\n        }\n        this.fields = keys;\n    };\n    PivotEngine.prototype.validateFilters = function (data) {\n        this.isValueFiltersAvail = false;\n        var filterElements = data.filterSettings ? data.filterSettings : [];\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns);\n        for (var _i = 0, filterElements_1 = filterElements; _i < filterElements_1.length; _i++) {\n            var filter = filterElements_1[_i];\n            for (var _a = 0, dataFields_1 = dataFields; _a < dataFields_1.length; _a++) {\n                var field = dataFields_1[_a];\n                if (filter.name === field.name && filter.type === 'Value') {\n                    this.isValueFiltersAvail = true;\n                    break;\n                }\n            }\n            if (this.isValueFiltersAvail) {\n                break;\n            }\n        }\n    };\n    PivotEngine.prototype.fillFieldMembers = function (data, indMat) {\n        var keys = this.fields;\n        var dlen = data.length;\n        var fList = this.fieldList;\n        var kLn = keys.length;\n        for (var kl = 0; kl < kLn; kl++) {\n            var key = keys[kl];\n            if (!fList[key].members) {\n                fList[key].members = {};\n            }\n            if (!fList[key].formattedMembers) {\n                fList[key].formattedMembers = {};\n            }\n            if (!fList[key].dateMember) {\n                fList[key].dateMember = [];\n            }\n            var members = fList[key].members;\n            var isDataAvail = Object.keys(members).length > 0 ? true : false;\n            var formattedMembers = fList[key].formattedMembers;\n            var dateMember = fList[key].dateMember;\n            var membersCnt = 0;\n            var fmembersCnt = 0;\n            //let sort: string[] = [];\n            for (var dl = 0; dl < dlen; dl++) {\n                var mkey = data[dl][key];\n                // if (!isNullOrUndefined(mkey)) {\n                if (!isDataAvail) {\n                    var fKey = mkey;\n                    var formattedValue = (this.pageSettings && !(this.formatFields[key] &&\n                        (['date', 'dateTime', 'time'].indexOf(this.formatFields[key].type) > -1))) ? ({\n                        formattedText: mkey === null ? (this.localeObj ? this.localeObj.getConstant('null') : String(mkey)) :\n                            mkey === undefined ? (this.localeObj ? (key in this.groupingFields) ?\n                                this.localeObj.getConstant('groupOutOfRange') : this.localeObj.getConstant('undefined') :\n                                String(mkey)) : mkey.toString(), actualText: mkey === null ? (this.localeObj ?\n                            this.localeObj.getConstant('null') : String(mkey)) : mkey === undefined ? (this.localeObj ?\n                            (key in this.groupingFields) ? this.localeObj.getConstant('groupOutOfRange') :\n                                this.localeObj.getConstant('undefined') : String(mkey)) : mkey\n                    }) : this.getFormattedValue(mkey, key);\n                    if (formattedValue.formattedText) {\n                        fKey = formattedValue.formattedText;\n                    }\n                    if (!members.hasOwnProperty(mkey)) {\n                        membersCnt++;\n                        members[mkey] = {\n                            index: [dl], ordinal: membersCnt,\n                            isDrilled: this.isExpandAll ? true : false\n                        };\n                        /* tslint:disable-next-line:max-line-length */\n                        dateMember.push({ formattedText: formattedValue.formattedText, actualText: (formattedValue.dateText ? formattedValue.dateText : formattedValue.actualText) });\n                        //sort.push(mkey);\n                    }\n                    else {\n                        members[mkey].index.push(dl);\n                    }\n                    if (!formattedMembers.hasOwnProperty(fKey)) {\n                        fmembersCnt++;\n                        formattedMembers[fKey] = {\n                            index: [dl], ordinal: fmembersCnt,\n                            isDrilled: this.isExpandAll ? true : false\n                        };\n                    }\n                    else {\n                        formattedMembers[fKey].index.push(dl);\n                    }\n                }\n                if (!(indMat[dl])) {\n                    indMat[dl] = [];\n                    indMat[dl][kl] = members[mkey].ordinal;\n                }\n                else {\n                    indMat[dl][kl] = members[mkey].ordinal;\n                }\n                // }\n            }\n            /*sort = Object.keys(members).sort();\n            let sortedMembers: Members = {};\n            for (let sln: number = 0, slt: number = sort.length; sln < slt; sln++) {\n                sortedMembers[sort[sln]] = members[sort[sln]];\n            }\n            fList[key].members = sortedMembers; */\n        }\n    };\n    PivotEngine.prototype.generateValueMatrix = function (data) {\n        var keys = this.fields;\n        var len = data.length;\n        var vMat = [];\n        var keyLen = keys.length;\n        var flList = this.fieldList;\n        while (len--) {\n            var record = data[len];\n            var tkln = keyLen;\n            //if (isNullOrUndefined(vMat[len])) {\n            vMat[len] = [];\n            //}\n            while (tkln--) {\n                var key = keys[tkln];\n                vMat[len][tkln] = (flList[key].type === 'number') ? data[len][key] : 1;\n            }\n        }\n        return vMat;\n    };\n    PivotEngine.prototype.updateSortSettings = function (sortSettings, isSort) {\n        for (var sln = 0, slt = sortSettings ? sortSettings.length : 0; sln < slt && isSort; sln++) {\n            if (this.fieldList[sortSettings[sln].name]) {\n                this.fieldList[sortSettings[sln].name].sort = sortSettings[sln].order;\n            }\n        }\n    };\n    PivotEngine.prototype.updateFilterMembers = function (source) {\n        var filterRw = this.filterMembers;\n        var list = {};\n        //let eList: {[key: string] : number} = {};\n        var isInclude = this.getFilters(source, list);\n        //this.getFilterExcludeList(source.rows, flist);\n        //this.getFilterExcludeList(source.columns, flist);\n        //this.getFilterExcludeList(source.filters, flist);\n        // let filters: Iterator = isInclude ? iList : eList;\n        var dln = this.indexMatrix.length;\n        if (isInclude) {\n            var keys = list.include.index;\n            for (var ln = 0; ln < keys.length; ln++) {\n                if (list.exclude === undefined || list.exclude.indexObject[keys[ln]] === undefined) {\n                    filterRw.push(keys[ln]);\n                }\n            }\n        }\n        else {\n            for (var ln = 0; ln < dln; ln++) {\n                if (list.exclude === undefined || list.exclude.indexObject[ln] === undefined) {\n                    filterRw.push(ln);\n                }\n            }\n        }\n    };\n    PivotEngine.prototype.getFilters = function (source, ilist) {\n        var filterElements = source.filterSettings ? source.filterSettings : [];\n        var filters = this.filters;\n        var isInclude = false;\n        var filter = [];\n        //let type: string;\n        for (var rln = 0, rlt = filterElements.length; rln < rlt; rln++) {\n            var filterElement = filterElements[rln].properties ?\n                filterElements[rln].properties : filterElements[rln];\n            if (this.fieldList[filterElement.name] &&\n                this.fieldList[filterElement.name].isSelected && this.isValidFilterField(filterElement, source.allowLabelFilter)) {\n                this.applyLabelFilter(filterElement);\n                if (filterElement) {\n                    filter = filterElement.items;\n                }\n                if (filterElement.type && filterElement.type === 'Include') {\n                    /* tslint:disable-next-line:max-line-length */\n                    this.frameFilterList(filter, filterElement.name, ilist, 'include', filterElement.showLabelFilter, isInclude);\n                    isInclude = true;\n                }\n                else {\n                    this.frameFilterList(filter, filterElement.name, ilist, 'exclude', filterElement.showLabelFilter);\n                }\n                if (filterElement.showLabelFilter) {\n                    filterElement.items = [];\n                    filterElement.type = filterElement.showDateFilter ? 'Date' : filterElement.showNumberFilter ? 'Number' : 'Label';\n                }\n            }\n        }\n        /* for (let cln: number = 0, clt: number = cols.length; cln < clt; cln ++) {\n             filter = cols[cln].filter ? cols[cln].filter.items : [];\n             if (filter.length && cols[cln].filter.type && cols[cln].filter.type === 'include') {\n                 //type = cols[cln].filter.type;\n                 this.frameFilterList(filter, cols[cln].name, ilist, 'include', isInclude);\n                 isInclude = true;\n             } else {\n                 this.frameFilterList(filter, cols[cln].name, ilist, 'exclude');\n             }\n         }\n         for (let vln: number = 0, vlt: number = filters.length; vln < vlt; vln ++) {\n             filter = filters[vln].filter ? filters[vln].filter.items : [];\n             if (filter.length && filters[vln].filter.type && filters[vln].filter.type === 'include') {\n                 this.frameFilterList(filter, filters[vln].name, ilist, 'include', isInclude);\n                 isInclude = true;\n             } else {\n                 this.frameFilterList(filter, filters[vln].name, ilist, 'exclude');\n             }\n         } */\n        return isInclude;\n    };\n    PivotEngine.prototype.isValidFilterField = function (filterElement, allowLabelFiltering) {\n        var isValidFilterElement = false;\n        var filterTypes = ['Include', 'Exclude'];\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns);\n        if (this.fieldList[filterElement.name].isSelected && filterTypes.indexOf(filterElement.type) >= 0) {\n            var isNotValidFilterElement = false;\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var field = _a[_i];\n                if (filterElement.name === field.name) {\n                    isNotValidFilterElement = true;\n                    break;\n                }\n            }\n            if (!isNotValidFilterElement) {\n                isValidFilterElement = true;\n            }\n        }\n        else {\n            for (var _b = 0, dataFields_2 = dataFields; _b < dataFields_2.length; _b++) {\n                var field = dataFields_2[_b];\n                if (filterElement.name === field.name && allowLabelFiltering &&\n                    (['Label', 'Date', 'Number'].indexOf(filterElement.type) >= 0)) {\n                    isValidFilterElement = true;\n                    break;\n                }\n            }\n        }\n        return isValidFilterElement;\n    };\n    PivotEngine.prototype.applyLabelFilter = function (filterElement) {\n        if (['Label', 'Date', 'Number'].indexOf(filterElement.type) >= 0) {\n            var members = Object.keys(this.fieldList[filterElement.name].members);\n            filterElement.showLabelFilter = true;\n            if (filterElement.type === 'Label') {\n                /* tslint:disable-next-line:max-line-length */\n                filterElement.items = this.getLabelFilterMembers(members, filterElement.condition, filterElement.value1, filterElement.value2);\n            }\n            else if (filterElement.type === 'Date') {\n                filterElement.showDateFilter = true;\n                var date1 = typeof (filterElement.value1) === 'string' ? new Date(filterElement.value1) : filterElement.value1;\n                var date2 = typeof (filterElement.value2) === 'string' ? new Date(filterElement.value2) : filterElement.value2;\n                /* tslint:disable-next-line:max-line-length */\n                filterElement.items = this.getDateFilterMembers(members, filterElement.name, filterElement.condition, date1, date2);\n            }\n            else {\n                filterElement.showNumberFilter = true;\n                filterElement.items = [];\n                for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n                    var member = members_1[_i];\n                    var operand1 = this.getParsedValue(filterElement.name, filterElement.value1);\n                    var operand2 = this.getParsedValue(filterElement.name, filterElement.value2);\n                    var cValue = this.getParsedValue(filterElement.name, member);\n                    /* tslint:disable-next-line:max-line-length */\n                    if (this.validateFilterValue(cValue, filterElement.condition, operand1, operand2)) {\n                        filterElement.items.push(member);\n                    }\n                }\n            }\n            var excludeOperators = ['DoesNotBeginWith', 'DoesNotContains', 'DoesNotEndsWith', 'DoesNotEquals', 'NotBetween'];\n            filterElement.type = (filterElement.condition ? (excludeOperators.indexOf(filterElement.condition) > -1 &&\n                !filterElement.showNumberFilter) ? 'Exclude' : 'Include' : 'Exclude');\n        }\n        else {\n            filterElement.showLabelFilter = false;\n        }\n    };\n    PivotEngine.prototype.getLabelFilterMembers = function (members, operator, value1, value2) {\n        var items = [];\n        for (var _i = 0, members_2 = members; _i < members_2.length; _i++) {\n            var member = members_2[_i];\n            var filterValue = member.toLowerCase();\n            if (value1.toString()) {\n                switch (operator) {\n                    case 'Equals':\n                    case 'DoesNotEquals':\n                        if (filterValue === value1.toLowerCase()) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'BeginWith':\n                    case 'DoesNotBeginWith':\n                        if (filterValue.indexOf(value1.toLowerCase()) === 0) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'EndsWith':\n                    case 'DoesNotEndsWith':\n                        if (filterValue.match(value1.toLowerCase() + '$') !== null) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'Contains':\n                    case 'DoesNotContains':\n                        if (filterValue.indexOf(value1.toLowerCase()) > -1) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'GreaterThan':\n                        if (filterValue > value1.toLowerCase()) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'GreaterThanOrEqualTo':\n                        if (filterValue >= value1.toLowerCase()) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'LessThan':\n                        if (filterValue < value1.toLowerCase()) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'LessThanOrEqualTo':\n                        if (filterValue <= value1.toLowerCase()) {\n                            items.push(member);\n                        }\n                        break;\n                    case 'Between':\n                    case 'NotBetween':\n                        if ((filterValue >= value1.toLowerCase()) && (filterValue <= value2.toLowerCase())) {\n                            items.push(member);\n                        }\n                        break;\n                    default:\n                        if (filterValue === value1.toLowerCase()) {\n                            items.push(member);\n                        }\n                        break;\n                }\n            }\n        }\n        return items;\n    };\n    /* tslint:disable */\n    PivotEngine.prototype.getDateFilterMembers = function (members, name, operator, value1, value2) {\n        var items = [];\n        for (var _i = 0, members_3 = members; _i < members_3.length; _i++) {\n            var member = members_3[_i];\n            var filterValue = new Date(member);\n            if (value1) {\n                switch (operator) {\n                    case 'Equals':\n                    case 'DoesNotEquals':\n                        if (this.getFormattedValue(filterValue.toString(), name).formattedText === this.getFormattedValue(value1.toString(), name).formattedText) {\n                            items.push(this.getFormattedValue(member, name).formattedText);\n                        }\n                        break;\n                    case 'After':\n                        if (filterValue.getTime() > value1.getTime()) {\n                            items.push(this.getFormattedValue(member, name).formattedText);\n                        }\n                        break;\n                    case 'AfterOrEqualTo':\n                        if (filterValue.getTime() >= value1.getTime()) {\n                            items.push(this.getFormattedValue(member, name).formattedText);\n                        }\n                        break;\n                    case 'Before':\n                        if (filterValue.getTime() < value1.getTime()) {\n                            items.push(this.getFormattedValue(member, name).formattedText);\n                        }\n                        break;\n                    case 'BeforeOrEqualTo':\n                        if (filterValue.getTime() <= value1.getTime()) {\n                            items.push(this.getFormattedValue(member, name).formattedText);\n                        }\n                        break;\n                    case 'Between':\n                    case 'NotBetween':\n                        if ((filterValue.getTime() >= value1.getTime()) &&\n                            (filterValue.getTime() <= value2.getTime())) {\n                            items.push(this.getFormattedValue(member, name).formattedText);\n                        }\n                        break;\n                    default:\n                        if (this.getFormattedValue(filterValue.toString(), name).formattedText === this.getFormattedValue(value1.toString(), name).formattedText) {\n                            items.push(this.getFormattedValue(member, name).formattedText);\n                        }\n                        break;\n                }\n            }\n        }\n        return items;\n    };\n    /* tslint:enable */\n    PivotEngine.prototype.validateFilterValue = function (val, operator, value1, value2) {\n        var isMemberInclude = false;\n        if (typeof (value1) === 'number') {\n            switch (operator) {\n                case 'Equals':\n                    if (val === value1) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                case 'DoesNotEquals':\n                    if (val !== value1) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                case 'GreaterThan':\n                    if (val > value1) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                case 'GreaterThanOrEqualTo':\n                    if (val >= value1) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                case 'LessThan':\n                    if (val < value1) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                case 'LessThanOrEqualTo':\n                    if (val <= value1) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                case 'Between':\n                    if ((val >= value1) && (val <= value2)) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                case 'NotBetween':\n                    if (!((val >= value1) && (val <= value2))) {\n                        isMemberInclude = true;\n                    }\n                    break;\n                default:\n                    if (val !== value1) {\n                        isMemberInclude = true;\n                    }\n                    break;\n            }\n        }\n        return isMemberInclude;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.frameFilterList = function (filter, name, list, type, isLabelFilter, isInclude) {\n        if (!list[type]) {\n            list[type] = { indexObject: {}, index: [] };\n            this.updateFilter(filter, name, list, type, isLabelFilter, isInclude);\n        }\n        else {\n            this.updateFilter(filter, name, list, type, isLabelFilter, isInclude);\n        }\n        // }\n    };\n    PivotEngine.prototype.updateFilter = function (filter, name, list, type, isLabelFilter, isInclude) {\n        var fln = 0;\n        var field = this.fieldList[name];\n        field.filter = filter;\n        field.filterType = type;\n        field.isExcelFilter = isLabelFilter;\n        var members = (this.formatFields[name] &&\n            (['date', 'dateTime', 'time'].indexOf(this.formatFields[name].type) > -1)) ?\n            field.formattedMembers : field.members;\n        var allowFil = isInclude;\n        var final = {};\n        var filterObj = {};\n        final[type] = { indexObject: {}, index: [] };\n        this.fieldFilterMem[name] = { memberObj: {} };\n        while (filter[fln]) {\n            var indx = members[filter[fln]].index;\n            if (type === 'include') {\n                for (var iln = 0, ilt = indx.length; iln < ilt; iln++) {\n                    if (!allowFil || list[type].indexObject[indx[iln]] !== undefined) {\n                        final[type].indexObject[indx[iln]] = indx[iln];\n                        final[type].index.push(indx[iln]);\n                    }\n                }\n            }\n            else {\n                for (var iln = 0, ilt = indx.length; iln < ilt; iln++) {\n                    if (list[type].indexObject[indx[iln]] === undefined) {\n                        list[type].indexObject[indx[iln]] = indx[iln];\n                        list[type].index.push(indx[iln]);\n                    }\n                }\n                this.fieldFilterMem[name].memberObj[filter[fln]] = filter[fln];\n            }\n            fln++;\n        }\n        if (type === 'include') {\n            list[type] = final[type];\n            for (var iln = 0; iln < filter.length; iln++) {\n                filterObj[filter[iln]] = filter[iln];\n            }\n            var items = Object.keys(members);\n            for (var iln = 0, ilt = items.length; iln < ilt; iln++) {\n                if (filterObj[items[iln]] === undefined) {\n                    this.fieldFilterMem[name].memberObj[items[iln]] = items[iln];\n                }\n            }\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.applyValueFiltering = function (rowData, level, rows, columns, valueFilter, rowFilterData, type) {\n        this.isValueFiltered = false;\n        var allMember = extend({}, rows[rows.length - 1], null, true);\n        this.getFilteredData(rows, columns, valueFilter, rowFilterData, level, rowData.name, allMember, type);\n        if (this.isValueFiltered) {\n            rowFilterData.push(allMember);\n            rows = rowFilterData;\n        }\n        return rows;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.getFilteredData = function (rows, columns, filterSettings, rowFilterData, level, fieldName, allMember, type) {\n        var rLen = rows.length;\n        for (var i = 0; i < rLen; i++) {\n            if (filterSettings[fieldName]) {\n                if (rows[i].level === level) {\n                    this.isValueFiltered = true;\n                    this.fieldList[fieldName].isExcelFilter = true;\n                    var value = 0;\n                    var measure = filterSettings[fieldName].measure;\n                    var mPos = this.fieldList[measure].index;\n                    var aggregate = this.fieldList[measure].aggregateType;\n                    this.rawIndexObject = {};\n                    value = (type === 'row' ? this.getAggregateValue(rows[i].index, columns.indexObject, mPos, aggregate) :\n                        this.getAggregateValue(columns.index, rows[i].indexObject, mPos, aggregate));\n                    var cellDetails = {\n                        fieldName: measure,\n                        row: rows[i],\n                        column: columns,\n                        value: value,\n                        cellSets: this.getCellSet(this.rawIndexObject),\n                        /* tslint:disable-next-line:max-line-length */\n                        rowCellType: (rows[i].hasChild && rows[i].isDrilled ? 'subTotal' : rows[i].type === 'grand sum' ? 'grandTotal' : 'value'),\n                        /* tslint:disable-next-line:max-line-length */\n                        columnCellType: (columns.hasChild && columns.isDrilled ? 'subTotal' : columns.type === 'grand sum' ? 'grandTotal' : 'value'),\n                        aggregateType: aggregate,\n                        skipFormatting: false\n                    };\n                    if (this.getValueCellInfo) {\n                        this.getValueCellInfo(cellDetails);\n                    }\n                    value = cellDetails.value;\n                    this.rawIndexObject = {};\n                    var operand1 = this.getParsedValue(measure, filterSettings[fieldName].value1);\n                    var operand2 = this.getParsedValue(measure, filterSettings[fieldName].value2);\n                    /* tslint:disable-next-line:max-line-length */\n                    if (!this.validateFilterValue(value, filterSettings[fieldName].condition, operand1, operand2) && rows[i].type !== 'grand sum') {\n                        var data = this.removefilteredData(rows[i], this.valueFilteredData);\n                        var row = data ? data : rows[i];\n                        this.validateFilteredParentData(row, this.valueFilteredData, allMember, 0, level, type);\n                    }\n                    else if (rows[i].type !== 'grand sum') {\n                        rowFilterData.push(extend({}, rows[i], null, true));\n                        rowFilterData[rowFilterData.length - 1].isLevelFiltered = true;\n                    }\n                }\n                else if (rows[i].hasChild && rows[i].members.length > 0 && rows[i].type !== 'grand sum') {\n                    rowFilterData.push(extend({}, rows[i], null, true));\n                    rowFilterData[rowFilterData.length - 1].members = [];\n                    rowFilterData[rowFilterData.length - 1].isLevelFiltered = true;\n                    /* tslint:disable-next-line:max-line-length */\n                    this.getFilteredData(rows[i].members, columns, filterSettings, rowFilterData[rowFilterData.length - 1].members, level, fieldName, allMember, type);\n                }\n            }\n        }\n    };\n    PivotEngine.prototype.getParsedValue = function (measure, value) {\n        var cValue = value ? value.toString() : '';\n        if (this.formatFields[measure] && value) {\n            var formatSetting = extend({}, this.formatFields[measure], null, true);\n            delete formatSetting.name;\n            return this.globalize.parseNumber(cValue, formatSetting);\n        }\n        else {\n            return this.globalize.parseNumber(cValue, { format: 'N' });\n        }\n    };\n    PivotEngine.prototype.removefilteredData = function (row, rowFilterData) {\n        var rows = extend([], rowFilterData, null, true);\n        var filteredData;\n        for (var i = 0; i < rows.length; i++) {\n            if (row.isLevelFiltered && row.axis === rows[i].axis &&\n                row.valueSort.levelName === rows[i].valueSort.levelName &&\n                row.actualText === rows[i].actualText && row.axis === rows[i].axis &&\n                row.level === rows[i].level && row.ordinal === rows[i].ordinal) {\n                filteredData = rows[i];\n                rowFilterData.splice(i, 1);\n                break;\n            }\n            else if (rowFilterData[i].hasChild && rowFilterData[i].members.length > 0) {\n                this.removefilteredData(row, rowFilterData[i].members);\n            }\n        }\n        return filteredData;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.validateFilteredParentData = function (row, rows, allMemberData, i, level, type) {\n        if (rows.length > 0) {\n            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n                var rowFilteredData = rows_1[_i];\n                if (rowFilteredData.level === i) {\n                    if (type === 'row') {\n                        var index = row.index;\n                        for (var _a = 0, index_1 = index; _a < index_1.length; _a++) {\n                            var key = index_1[_a];\n                            if (allMemberData.index.indexOf(key) >= 0) {\n                                allMemberData.index.splice(allMemberData.index.indexOf(key), 1);\n                            }\n                            if (((row.valueSort.levelName.toString()).indexOf(rowFilteredData.valueSort.levelName.toString()) >= 0) &&\n                                rowFilteredData.level !== level && rowFilteredData.index.indexOf(key) >= 0) {\n                                rowFilteredData.index.splice(rowFilteredData.index.indexOf(key), 1);\n                            }\n                        }\n                    }\n                    else {\n                        var index = row.indexObject;\n                        for (var _b = 0, _c = Object.keys(index); _b < _c.length; _b++) {\n                            var key = _c[_b];\n                            if (index.hasOwnProperty(key)) {\n                                delete allMemberData.indexObject[key];\n                                if (((row.valueSort.levelName.toString()).indexOf(rowFilteredData.valueSort.levelName.toString()) >= 0) &&\n                                    rowFilteredData.level !== level) {\n                                    delete rowFilteredData.indexObject[key];\n                                }\n                            }\n                        }\n                    }\n                    if (rowFilteredData && rowFilteredData.members.length > 0 &&\n                        rowFilteredData.members[0].level === i + 1 && rowFilteredData.members[0].level !== level) {\n                        this.validateFilteredParentData(row, rowFilteredData.members, allMemberData, i + 1, level, type);\n                    }\n                }\n            }\n        }\n        else {\n            if (type === 'row') {\n                var index = row.index;\n                for (var _d = 0, index_2 = index; _d < index_2.length; _d++) {\n                    var key = index_2[_d];\n                    if (allMemberData.index.indexOf(key) >= 0) {\n                        allMemberData.index.splice(allMemberData.index.indexOf(key), 1);\n                    }\n                }\n            }\n            else {\n                var index = row.indexObject;\n                for (var _e = 0, _f = Object.keys(index); _e < _f.length; _e++) {\n                    var key = _f[_e];\n                    if (index.hasOwnProperty(key)) {\n                        delete allMemberData.indexObject[key];\n                    }\n                }\n            }\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.updateFramedHeaders = function (framedHeaders, dataHeaders, filteredHeaders, headers, type) {\n        for (var _i = 0, framedHeaders_1 = framedHeaders; _i < framedHeaders_1.length; _i++) {\n            var dHeader = framedHeaders_1[_i];\n            this.isHeaderAvail = false;\n            if (this.validateFilteredHeaders(dHeader, filteredHeaders, type) || dHeader.type === 'grand sum') {\n                if (type === 'row') {\n                    this.rowCount += this.rowValuesLength;\n                }\n                else {\n                    this.columnCount += this.colValuesLength;\n                }\n                headers.push(extend({}, dHeader, null, true));\n                headers[headers.length - 1].members = [];\n                if (dHeader.hasChild && dHeader.isDrilled && dHeader.members.length > 0) {\n                    this.updateFramedHeaders(dHeader.members, dataHeaders, filteredHeaders, headers[headers.length - 1].members, type);\n                }\n            }\n        }\n        return this.filterFramedHeaders;\n    };\n    PivotEngine.prototype.validateFilteredHeaders = function (dHeader, filteredHeaders, type) {\n        for (var _i = 0, filteredHeaders_1 = filteredHeaders; _i < filteredHeaders_1.length; _i++) {\n            var vHeader = filteredHeaders_1[_i];\n            if (!this.isHeaderAvail) {\n                if (dHeader.actualText === vHeader.actualText &&\n                    dHeader.level === vHeader.level &&\n                    dHeader.valueSort.levelName === vHeader.valueSort.levelName) {\n                    if (type === 'row') {\n                        if (vHeader.index.length > 0) {\n                            this.isHeaderAvail = true;\n                            dHeader.index = vHeader.index;\n                            return true;\n                        }\n                        else {\n                            this.isHeaderAvail = false;\n                            dHeader.index = vHeader.index;\n                            return false;\n                        }\n                    }\n                    else {\n                        if (Object.keys(vHeader.indexObject).length > 0) {\n                            this.isHeaderAvail = true;\n                            dHeader.indexObject = vHeader.indexObject;\n                            return true;\n                        }\n                        else {\n                            this.isHeaderAvail = false;\n                            dHeader.indexObject = vHeader.indexObject;\n                            return false;\n                        }\n                    }\n                }\n                else if (vHeader.hasChild && vHeader.members.length > 0 && vHeader.type !== 'grand sum') {\n                    this.validateFilteredHeaders(dHeader, vHeader.members, type);\n                }\n            }\n        }\n        return this.isHeaderAvail;\n    };\n    PivotEngine.prototype.isEmptyDataAvail = function (rowHeaders, columnHeaders) {\n        this.isEmptyData = false;\n        if (rowHeaders.length > 0 && rowHeaders[rowHeaders.length - 1].type === 'grand sum' &&\n            rowHeaders[rowHeaders.length - 1].index.length === 0) {\n            this.isEmptyData = true;\n        }\n        if (columnHeaders.length > 0 && columnHeaders[columnHeaders.length - 1].type === 'grand sum' &&\n            Object.keys(columnHeaders[columnHeaders.length - 1].indexObject).length === 0) {\n            this.isEmptyData = true;\n        }\n        if (rowHeaders.length === 0 || columnHeaders.length === 0) {\n            this.isEmptyData = true;\n        }\n    };\n    /** @hidden */\n    PivotEngine.prototype.updateGridData = function (dataSource) {\n        this.data = dataSource.dataSource;\n        this.indexMatrix = [];\n        for (var _i = 0, _a = this.fields; _i < _a.length; _i++) {\n            var field = _a[_i];\n            this.fieldList[field].members = {};\n            this.fieldList[field].formattedMembers = {};\n            this.fieldList[field].dateMember = [];\n        }\n        this.fillFieldMembers(this.data, this.indexMatrix);\n        this.valueMatrix = this.generateValueMatrix(this.data);\n        this.filterMembers = [];\n        this.cMembers = [];\n        this.rMembers = [];\n        this.updateFilterMembers(dataSource);\n        this.isEditing = true;\n        this.isDrillThrough = true;\n        this.generateGridData(dataSource);\n        this.isEditing = false;\n    };\n    /* tslint:disable */\n    PivotEngine.prototype.generateGridData = function (dataSource, headerCollection) {\n        var keys = this.fields;\n        var columns = dataSource.columns ? dataSource.columns : [];\n        var data = this.data;\n        var rows = dataSource.rows ? dataSource.rows : [];\n        var filterSettings = dataSource.filterSettings;\n        var values = dataSource.values ? dataSource.values : [];\n        var size = 1;\n        this.removeCount = 0;\n        this.isExpandAll = dataSource.expandAll;\n        this.drilledMembers = dataSource.drilledMembers ? dataSource.drilledMembers : [];\n        this.isEmptyData = false;\n        var filterMembers = [];\n        var showNoDataItems = (rows[0] && rows[0].showNoDataItems) || (columns[0] && columns[0].showNoDataItems);\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns, this.values, this.filters);\n        if (showNoDataItems) {\n            for (var ln = 0; ln < this.indexMatrix.length; ln++) {\n                filterMembers.push(ln);\n            }\n        }\n        for (var ln = 0; ln < this.filterMembers.length; ln++) {\n            this.filterPosObj[this.filterMembers[ln]] = this.filterMembers[ln];\n        }\n        //let childrens: Field = this.fieldList[rows[0].name + ''];\n        this.valueSortSettings.columnIndex = undefined;\n        var st1 = new Date().getTime();\n        this.frameDrillObject();\n        if (!this.isValueFilterEnabled || this.isEditing) {\n            if (!headerCollection) {\n                this.columnCount = 0;\n                this.rowCount = 0;\n                this.cMembers = [];\n                this.rMembers = [];\n                if (rows.length !== 0) {\n                    this.rMembers =\n                        this.getIndexedHeaders(rows, data, 0, rows[0].showNoDataItems ? filterMembers : this.filterMembers, 'row', '', this.allowValueFilter);\n                }\n                if (columns.length !== 0) {\n                    this.cMembers = this.getIndexedHeaders(columns, data, 0, columns[0].showNoDataItems ?\n                        filterMembers : this.filterMembers, 'column', '', this.allowValueFilter);\n                }\n                this.insertAllMembersCommon();\n                this.saveDataHeaders = (this.isValueFiltersAvail && dataSource.allowValueFilter) ? {\n                    rowHeaders: extend([], this.rMembers, null, true),\n                    columnHeaders: extend([], this.cMembers, null, true)\n                } : {};\n            }\n        }\n        this.pivotValues = [];\n        var gridData = [];\n        this.headerContent = [];\n        this.valueContent = [];\n        this.valueFilteredData = [];\n        this.filterFramedHeaders = [];\n        var rowheads = [];\n        var colheads = [];\n        var rowFilteredData = [];\n        var columnFilteredData = [];\n        var valuesCount = (this.values.length);\n        if (this.isValueFiltersAvail && dataSource.allowValueFilter && !headerCollection) {\n            this.valueFilteredData = [];\n            var rowHeaders = this.saveDataHeaders.rowHeaders;\n            var columnHeaders = this.saveDataHeaders.columnHeaders;\n            if (filterSettings.length > 0) {\n                var valueFilters = {};\n                var valueFields = {};\n                for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n                    var value = values_1[_i];\n                    valueFields[value.name] = value;\n                }\n                for (var _a = 0, filterSettings_1 = filterSettings; _a < filterSettings_1.length; _a++) {\n                    var filter = filterSettings_1[_a];\n                    rowHeaders = (rowFilteredData.length > 0 ? rowFilteredData : rowHeaders);\n                    columnHeaders = (columnFilteredData.length > 0 ? columnFilteredData : columnHeaders);\n                    this.valueFilteredData = [];\n                    var filterElement = filter.properties ?\n                        filter.properties : filter;\n                    if (filterElement.type === 'Value' && this.fieldList[filter.name].isSelected) {\n                        valueFilters[filter.name] = filter;\n                        filterElement.items = [];\n                        var isAvail = false;\n                        var rLen = rows.length;\n                        var cLen = columns.length;\n                        for (var i = 0; i < rLen; i++) {\n                            if (filterElement.name === rows[i].name && valueFields[filterElement.measure] && !isAvail) {\n                                isAvail = true;\n                                /* tslint:disable-next-line:max-line-length */\n                                rowFilteredData = this.applyValueFiltering(rows[i], i, rowHeaders, columnHeaders[columnHeaders.length - 1], valueFilters, this.valueFilteredData, 'row');\n                                break;\n                            }\n                        }\n                        for (var j = 0; j < cLen; j++) {\n                            if (filterElement.name === columns[j].name && valueFields[filterElement.measure] && !isAvail) {\n                                isAvail = true;\n                                /* tslint:disable-next-line:max-line-length */\n                                columnFilteredData = this.applyValueFiltering(columns[j], j, columnHeaders, rowHeaders[rowHeaders.length - 1], valueFilters, this.valueFilteredData, 'column');\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            rowFilteredData = (rowFilteredData.length > 0 ? rowFilteredData : rowHeaders);\n            columnFilteredData = (columnFilteredData.length > 0 ? columnFilteredData : columnHeaders);\n            this.isEmptyDataAvail(rowFilteredData, columnFilteredData);\n            var savedFieldList = extend({}, this.fieldList, null, true);\n            this.indexMatrix = [];\n            var fields = this.data[0];\n            this.getFieldList(fields, this.enableSort, dataSource.allowValueFilter);\n            this.fillFieldMembers(this.data, this.indexMatrix);\n            this.updateSortSettings(dataSource.sortSettings, this.enableSort);\n            this.valueMatrix = this.generateValueMatrix(this.data);\n            this.filterMembers = [];\n            var pageSize = 1;\n            this.updateFilterMembers(dataSource);\n            this.rMembers = rows.length !== 0 ?\n                this.getIndexedHeaders(rows, data, 0, rows[0].showNoDataItems ?\n                    filterMembers : this.filterMembers, 'row', '') : [];\n            this.cMembers = columns.length !== 0 ?\n                this.getIndexedHeaders(columns, data, 0, columns[0].showNoDataItems ?\n                    filterMembers : this.filterMembers, 'column', '') : [];\n            this.insertAllMembersCommon();\n            this.updateFieldList(savedFieldList);\n            this.rowCount = 0;\n            this.columnCount = 0;\n            this.rMembers = this.updateFramedHeaders(this.rMembers, this.rMembers, rowFilteredData, this.filterFramedHeaders, 'row');\n            this.filterFramedHeaders = [];\n            this.cMembers = this.updateFramedHeaders(this.cMembers, this.cMembers, columnFilteredData, this.filterFramedHeaders, 'column');\n            this.isValueFilterEnabled = true;\n        }\n        if (!headerCollection) {\n            this.applyValueSorting();\n        }\n        if (this.pageSettings) {\n            if (!headerCollection) {\n                this.headerCollection.rowHeaders = this.rMembers;\n                this.headerCollection.columnHeaders = this.cMembers;\n                this.headerCollection.rowHeadersCount = this.rowCount;\n                this.headerCollection.columnHeadersCount = this.columnCount;\n            }\n            else {\n                this.rMembers = headerCollection.rowHeaders;\n                this.cMembers = headerCollection.columnHeaders;\n                this.rowCount = headerCollection.rowHeadersCount;\n                this.columnCount = headerCollection.columnHeadersCount;\n            }\n            this.calculatePagingValues();\n        }\n        this.getAggregatedHeaders(rows, columns, this.rMembers, this.cMembers, values);\n        this.getHeaderData(this.cMembers, colheads, this.pivotValues, 0, this.valueAxis ? 1 : valuesCount);\n        this.insertSubTotals();\n        //this.getHeaderData(rmembers, rowheads, gridData, 0);              \n        /* tslint:disable-next-line:max-line-length */\n        this.getTableData(this.rMembers, rowheads, colheads, 0, this.pivotValues, valuesCount, this.rMembers[this.rMembers.length - 1], this.cMembers[this.cMembers.length - 1]);\n        this.applyAdvancedAggregate(rowheads, colheads, this.pivotValues);\n        this.isEngineUpdated = true;\n        var st2 = new Date().getTime();\n        this.isEmptyDataAvail(this.rMembers, this.cMembers);\n        //  console.log(st1 - st2);\n    };\n    /* tslint:enable */\n    /* tslint:disable:no-string-literal */\n    /* tslint:disable:typedef */\n    /** @hidden */\n    PivotEngine.prototype.onDrill = function (drilledItem) {\n        this.frameDrillObject();\n        var headersInfo = this.getHeadersInfo(drilledItem.fieldName, drilledItem.axis);\n        this.performDrillOperation(headersInfo.headers, drilledItem, headersInfo.fields, headersInfo.position, 0);\n        this.headerCollection.rowHeadersCount = this.rowCount;\n        this.headerCollection.columnHeadersCount = this.columnCount;\n        if (headersInfo.axis === 'row') {\n            this.headerCollection.rowHeaders = headersInfo.headers;\n        }\n        else {\n            this.headerCollection.columnHeaders = headersInfo.headers;\n        }\n        this.updateEngine();\n    };\n    /** @hidden */\n    PivotEngine.prototype.onSort = function (sortItem) {\n        var headersInfo = this.getHeadersInfo(sortItem.name, '');\n        this.fieldList[sortItem.name].sort = sortItem.order;\n        this.performSortOperation(headersInfo.headers, sortItem, headersInfo, 0);\n        this.updateEngine();\n    };\n    /** @hidden */\n    PivotEngine.prototype.onFilter = function (filterItem, dataSource) {\n        var headersInfo = this.getHeadersInfo(filterItem.name, '');\n        if (filterItem.type === 'Include' && filterItem.items.length === this.fieldList[filterItem.name].dateMember.length) {\n            this.fieldList[filterItem.name].filter = [];\n            this.fieldList[filterItem.name].filterType = '';\n        }\n        else {\n            this.fieldList[filterItem.name].filter = filterItem.items;\n            this.fieldList[filterItem.name].filterType = filterItem.type;\n        }\n        var posObj = {};\n        for (var _i = 0, _a = this.filterMembers; _i < _a.length; _i++) {\n            var pos = _a[_i];\n            posObj[pos] = pos;\n        }\n        this.filterMembers = [];\n        this.fieldFilterMem = {};\n        this.updateFilterMembers(dataSource);\n        var addPos = this.filterMembers.filter(function (pos) { return posObj[pos] === undefined; });\n        var itemsObj = {};\n        for (var _b = 0, _c = filterItem.items; _b < _c.length; _b++) {\n            var item = _c[_b];\n            itemsObj[item] = item;\n        }\n        var showNoDataItems = (this.rows[0] && this.rows[0].showNoDataItems) || (this.columns[0] && this.columns[0].showNoDataItems);\n        if (showNoDataItems) {\n            var filterMembers = [];\n            this.filterPosObj = {};\n            for (var ln = 0; ln < addPos.length; ln++) {\n                this.filterPosObj[addPos[ln]] = addPos[ln];\n            }\n            for (var ln = 0; ln < this.indexMatrix.length; ln++) {\n                filterMembers.push(ln);\n            }\n            addPos = filterMembers;\n        }\n        this.performFilterCommonUpdate(filterItem, headersInfo, addPos);\n        this.frameHeaderObjectsCollection = false;\n        this.headerObjectsCollection = {};\n        this.updateEngine();\n    };\n    /** @hidden */\n    PivotEngine.prototype.onAggregation = function (field) {\n        this.fieldList[field.name].aggregateType = field.type;\n        this.rMembers = this.headerCollection.rowHeaders;\n        this.cMembers = this.headerCollection.columnHeaders;\n        this.updateEngine();\n    };\n    /** @hidden */\n    PivotEngine.prototype.onCalcOperation = function (field) {\n        this.rMembers = this.headerCollection.rowHeaders;\n        this.cMembers = this.headerCollection.columnHeaders;\n        this.getCalculatedField(this.fields);\n        if (this.fieldList[field.name]) {\n            this.fieldList[field.name].formula = field.formula;\n        }\n        else {\n            this.fieldList[field.name] = {\n                id: field.name,\n                caption: field.name,\n                type: 'number',\n                aggregateType: 'CalculatedField',\n                filterType: '',\n                index: this.fields.length - 1,\n                filter: [],\n                sort: this.enableSort ? 'Ascending' : 'None',\n                isSelected: true,\n                isExcelFilter: false,\n                formula: field.formula\n            };\n            if (this.valueAxis === 1) {\n                this.headerCollection.rowHeadersCount = this.rowCount = (this.rowCount / (this.values.length - 1)) * this.values.length;\n            }\n            else {\n                this.headerCollection.columnHeadersCount = this.columnCount = (this.columnCount / (this.values.length - 1)) * this.values.length;\n            }\n        }\n        this.updateEngine();\n    };\n    PivotEngine.prototype.performDrillOperation = function (headers, drilledItem, fields, position, currentPosition) {\n        var count = 0;\n        while (count < headers.length) {\n            if (position === currentPosition) {\n                if (drilledItem.memberName === headers[count].valueSort.levelName.split(this.valueSortSettings.headerDelimiter)\n                    .join(drilledItem.delimiter ? drilledItem.delimiter : '**')) {\n                    if (drilledItem.action === 'down') {\n                        headers[count].isDrilled = true;\n                        headers[count].members = this.getIndexedHeaders(fields, this.data, position + 1, headers[count].index, drilledItem.axis, drilledItem.memberName.\n                            split(drilledItem.delimiter ? drilledItem.delimiter : '**').join(this.valueSortSettings.headerDelimiter));\n                        var sortedHeaders = void 0;\n                        if (drilledItem.axis === 'row') {\n                            sortedHeaders = this.applyValueSorting(headers[count].members, this.cMembers);\n                            headers[count].members = sortedHeaders.rMembers;\n                        }\n                        else {\n                            var showSubTotals = this.showSubTotals && this.showColumnSubTotals && fields[position].showSubTotals;\n                            this.columnCount -= !showSubTotals ? this.colValuesLength : 0;\n                            sortedHeaders = this.applyValueSorting(this.rMembers, headers[count].members);\n                            headers[count].members = sortedHeaders.cMembers;\n                        }\n                    }\n                    else {\n                        headers[count].isDrilled = false;\n                        this.updateHeadersCount(headers[count].members, drilledItem.axis, position, fields, 'minus', true);\n                        headers[count].members = [];\n                    }\n                    break;\n                }\n            }\n            else if (headers[count].members.length > 0) {\n                headers[count].members = this.performDrillOperation(headers[count].members, drilledItem, fields, position, currentPosition + 1);\n            }\n            count++;\n        }\n        return headers;\n    };\n    PivotEngine.prototype.performSortOperation = function (headers, sortItem, headersInfo, currentPosition) {\n        var count = 0;\n        while (count < headers.length) {\n            if (headersInfo.position === currentPosition) {\n                headers = this.getSortedHeaders(headers, sortItem.order.toString());\n                break;\n            }\n            else if (headers[count].members.length > 0) {\n                headers[count].members = this.performSortOperation(headers[count].members, sortItem, headersInfo, currentPosition + 1);\n            }\n            count++;\n        }\n        return headers;\n    };\n    PivotEngine.prototype.performFilterDeletion = function (headers, filterItem, headersInfo, filterObjects, currentPosition) {\n        var count = 0;\n        var loopIn = true;\n        var _loop_3 = function () {\n            if (headersInfo.position === currentPosition) {\n                var engine_1 = this_3;\n                headers = headers.filter(function (item) {\n                    return !engine_1.fieldFilterMem[filterItem.name].memberObj[item.formattedText] || item.type === 'grand sum';\n                });\n                loopIn = false;\n            }\n            else if (headers[count].members.length > 0) {\n                headers[count].members = this_3.performFilterDeletion(headers[count].members, filterItem, headersInfo, filterObjects, currentPosition + 1);\n            }\n            count++;\n        };\n        var this_3 = this;\n        while (count < headers.length && loopIn) {\n            _loop_3();\n        }\n        var engine = this;\n        return headers.filter(function (item) {\n            return item.members.length > 0 ? item.members.length > 0 : engine.matchIndexes(item.indexObject, filterObjects);\n        });\n    };\n    PivotEngine.prototype.matchIndexes = function (index, filterObjects) {\n        var keys = Object.keys(index);\n        var len = keys.length;\n        if (len === 0) {\n            return true;\n        }\n        while (len > -1) {\n            if (filterObjects[index[keys[len]]] !== undefined) {\n                return true;\n            }\n            len--;\n        }\n        return false;\n    };\n    PivotEngine.prototype.performFilterAddition = function (headers, fields, headersInfo) {\n        var count = 0;\n        var _loop_4 = function () {\n            var levelName = headers[count].valueSort.levelName;\n            if (this_4.headerObjectsCollection[levelName]) {\n                var memberNameObj_1 = {};\n                for (var _i = 0, _a = headers[count].members; _i < _a.length; _i++) {\n                    var member = _a[_i];\n                    memberNameObj_1[member.valueSort.levelName.toString()] = member.valueSort.levelName.toString();\n                }\n                var excessHeaders = this_4.headerObjectsCollection[levelName].filter(function (member) {\n                    return !memberNameObj_1[member.valueSort.levelName.toString()];\n                });\n                headers[count].members = headers[count].members.concat(excessHeaders);\n                headers[count].members = this_4.getSortedHeaders(headers[count].members, this_4.fieldList[headersInfo.fields[headers[count].members[0].level].name].sort);\n                delete this_4.headerObjectsCollection[levelName];\n            }\n            if (headers[count].members.length > 0) {\n                headers[count].members = this_4.performFilterAddition(headers[count].members, fields, headersInfo);\n            }\n            count++;\n        };\n        var this_4 = this;\n        while (count < headers.length) {\n            _loop_4();\n        }\n        return headers;\n    };\n    PivotEngine.prototype.performFilterCommonUpdate = function (filterItem, headersInfo, addPos) {\n        var rawHeaders = headersInfo.axis === 'row' ? this.rMembers : this.cMembers;\n        var filterObjects = {};\n        for (var _i = 0, _a = this.filterMembers; _i < _a.length; _i++) {\n            var item = _a[_i];\n            filterObjects[item] = item;\n        }\n        if (this.fieldFilterMem[filterItem.name]) {\n            rawHeaders = this.performFilterDeletion(headersInfo.headers, filterItem, headersInfo, filterObjects, 0);\n        }\n        if (addPos.length > 0) {\n            this.frameHeaderObjectsCollection = true;\n            if (headersInfo.fields.filter(function (item) { return item.showNoDataItems; }).length > 0) {\n                addPos = this.data.map(function (item, pos) { return pos; });\n            }\n            this.headerObjectsCollection['parent'] = this.getIndexedHeaders(headersInfo.fields, this.data, 0, addPos, headersInfo.axis, '');\n            rawHeaders = this.performFilterAddition(rawHeaders, headersInfo.fields, headersInfo);\n            var headerNames_1 = {};\n            for (var _b = 0, rawHeaders_1 = rawHeaders; _b < rawHeaders_1.length; _b++) {\n                var header = rawHeaders_1[_b];\n                headerNames_1[header.valueSort.levelName.toString()] = header.valueSort.levelName.toString();\n            }\n            var excessHeaders = this.headerObjectsCollection['parent'].filter(function (header) {\n                return !headerNames_1[header.valueSort.levelName.toString()];\n            });\n            var grandHeader = rawHeaders.filter(function (item) { return item.type === 'grand sum'; });\n            if (grandHeader.length > 0) {\n                rawHeaders.pop();\n            }\n            rawHeaders = this.getSortedHeaders(rawHeaders.concat(excessHeaders), this.fieldList[headersInfo.fields[0].name].sort).concat(grandHeader);\n        }\n        if (headersInfo.axis === 'row') {\n            this.rowCount = 0;\n        }\n        else {\n            this.columnCount = 0;\n        }\n        this.updateHeadersCount(rawHeaders, headersInfo.axis, 0, headersInfo.fields, 'plus', false);\n        if (headersInfo.axis === 'row') {\n            if (headersInfo.position > 0) {\n                this.insertPosition(this.rows, this.data, 0, this.filterMembers, 'row', '', rawHeaders);\n            }\n            this.insertTotalPosition(rawHeaders);\n            this.rMembers = this.headerCollection.rowHeaders = rawHeaders;\n            this.headerCollection.rowHeadersCount = this.rowCount;\n        }\n        else {\n            if (headersInfo.position > 0) {\n                this.insertPosition(this.columns, this.data, 0, this.filterMembers, 'column', '', rawHeaders);\n            }\n            this.insertTotalPosition(rawHeaders);\n            this.cMembers = this.headerCollection.columnHeaders = rawHeaders;\n            this.headerCollection.columnHeadersCount = this.columnCount;\n        }\n        this.applyValueSorting();\n    };\n    PivotEngine.prototype.getHeadersInfo = function (fieldName, axis) {\n        this.rMembers = this.headerCollection.rowHeaders;\n        this.cMembers = this.headerCollection.columnHeaders;\n        axis = axis === '' ? this.getAxisByFieldName(fieldName) : axis;\n        var headers = axis === 'row' ? this.rMembers : this.cMembers;\n        var fields = axis === 'row' ? this.rows : this.columns;\n        var position = 0;\n        for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n            var field = fields_1[_i];\n            if (field.name === fieldName) {\n                break;\n            }\n            position++;\n        }\n        return { axis: axis, fields: fields, headers: headers, position: position };\n    };\n    /** @hidden */\n    PivotEngine.prototype.updateEngine = function () {\n        this.removeCount = 0;\n        this.calculatePagingValues();\n        this.pivotValues = [];\n        this.headerContent = [];\n        this.valueContent = [];\n        var rowheads = [];\n        var colheads = [];\n        var valuesCount = (this.values.length);\n        this.getAggregatedHeaders(this.rows, this.columns, this.rMembers, this.cMembers, this.values);\n        this.getHeaderData(this.cMembers, colheads, this.pivotValues, 0, this.valueAxis ? 1 : valuesCount);\n        this.insertSubTotals();\n        /* tslint:disable-next-line:max-line-length */\n        this.getTableData(this.rMembers, rowheads, colheads, 0, this.pivotValues, valuesCount, this.rMembers[this.rMembers.length - 1], this.cMembers[this.cMembers.length - 1]);\n        this.applyAdvancedAggregate(rowheads, colheads, this.pivotValues);\n        this.isEngineUpdated = true;\n        this.isEmptyDataAvail(this.rMembers, this.cMembers);\n    };\n    PivotEngine.prototype.getAxisByFieldName = function (fieldName) {\n        var axisCount = 0;\n        var axis = '';\n        while (axisCount < 4 && axis === '') {\n            switch (axisCount) {\n                case 0:\n                    axis = this.getFieldByName(fieldName, this.rows) ? 'row' : '';\n                    break;\n                case 1:\n                    axis = this.getFieldByName(fieldName, this.columns) ? 'column' : '';\n                    break;\n            }\n            axisCount++;\n        }\n        return axis;\n    };\n    PivotEngine.prototype.getFieldByName = function (fieldName, fields) {\n        return new DataManager({ json: fields }).executeLocal(new Query().where('name', 'equal', fieldName))[0];\n    };\n    /* tslint:disable:no-any */\n    PivotEngine.prototype.updateHeadersCount = function (headers, axis, position, fields, action, isDrill) {\n        var lenCnt = 0;\n        var field = fields[position];\n        var showSubTotals = true;\n        if (axis === 'column') {\n            showSubTotals = this.showSubTotals && this.showColumnSubTotals && field.showSubTotals;\n        }\n        else {\n            showSubTotals = this.showSubTotals && this.showRowSubTotals && field.showSubTotals;\n        }\n        while (lenCnt < headers.length) {\n            if (axis === 'row') {\n                this.rowCount = this.rowCount - (action === 'plus' ? -(this.valueAxis === 1 ? this.values.length : 1) :\n                    (this.valueAxis === 1 ? this.values.length : 1));\n            }\n            else {\n                this.columnCount = this.columnCount - (action === 'plus' ? -(this.valueAxis === 1 ? 1 : this.values.length) :\n                    (this.valueAxis === 1 ? 1 : this.values.length));\n            }\n            if (headers[lenCnt].members.length > 0) {\n                this.updateHeadersCount(headers[lenCnt].members, axis, position + 1, fields, action, true);\n            }\n            lenCnt++;\n        }\n        if (axis === 'column' && !showSubTotals && isDrill) {\n            this.columnCount += action === 'plus' ? -this.colValuesLength : this.colValuesLength;\n        }\n    };\n    PivotEngine.prototype.frameHeaderWithKeys = function (header) {\n        var keys = Object.keys(header);\n        var keyPos = 0;\n        var framedHeader = {};\n        while (keyPos < keys.length) {\n            framedHeader[keys[keyPos]] = header[keys[keyPos]];\n            keyPos++;\n        }\n        return framedHeader;\n    };\n    PivotEngine.prototype.getSortedHeaders = function (headers, sortOrder) {\n        var isNotDateType = !(this.formatFields && this.formatFields[headers[0].valueSort.axis] &&\n            this.formatFields[headers[0].valueSort.axis].type);\n        if (isNotDateType) {\n            return sortOrder === 'Ascending' ?\n                (headers.sort(function (a, b) { return (a.actualText > b.actualText) ? 1 : ((b.actualText > a.actualText) ? -1 : 0); })) :\n                sortOrder === 'Descending' ?\n                    (headers.sort(function (a, b) { return (a.actualText < b.actualText) ? 1 : ((b.actualText < a.actualText) ? -1 : 0); })) :\n                    headers;\n        }\n        else {\n            return sortOrder === 'Ascending' ?\n                (headers.sort(function (a, b) { return (a.dateText > b.dateText) ? 1 : ((b.dateText > a.dateText) ? -1 : 0); })) :\n                sortOrder === 'Descending' ?\n                    (headers.sort(function (a, b) { return (a.dateText < b.dateText) ? 1 : ((b.dateText < a.dateText) ? -1 : 0); })) :\n                    headers;\n        }\n    };\n    /** @hidden */\n    PivotEngine.prototype.applyValueSorting = function (rMembers, cMembers) {\n        var isNullArgument = false;\n        if (rMembers === undefined || cMembers === undefined) {\n            rMembers = this.rMembers;\n            cMembers = this.cMembers;\n            isNullArgument = true;\n        }\n        if (this.enableValueSorting && this.valueSortSettings.headerText &&\n            this.valueSortSettings.headerText !== '' && this.values.length > 0) {\n            var textArray = this.valueSortSettings.headerText.split(this.valueSortSettings.headerDelimiter);\n            var hText = '';\n            var mIndex = void 0;\n            var mType = void 0;\n            var caption = void 0;\n            for (var i = 0; i < this.values.length; i++) {\n                if (this.values[i].caption === textArray[textArray.length - 1]) {\n                    caption = this.values[i].name;\n                    break;\n                }\n                else {\n                    caption = textArray[textArray.length - 1];\n                }\n            }\n            if (((this.values.length === 1 && this.columns.length === 0) || this.values.length > 1) && caption && this.fieldList[caption]) {\n                for (var i = 0; i < textArray.length - 1; i++) {\n                    hText = hText === '' ? textArray[i] : (hText + this.valueSortSettings.headerDelimiter + textArray[i]);\n                }\n                mIndex = this.fieldList[caption].index;\n                mType = this.fieldList[caption].aggregateType;\n            }\n            else {\n                if (!this.alwaysShowValueHeader || textArray.length === 1) {\n                    hText = this.valueSortSettings.headerText;\n                }\n                else {\n                    for (var i = 0; i < textArray.length - 1; i++) {\n                        hText = hText === '' ? textArray[i] : (hText + this.valueSortSettings.headerDelimiter + textArray[i]);\n                    }\n                }\n                mIndex = this.fieldList[this.values[0].name].index;\n                mType = this.fieldList[this.values[0].name].aggregateType;\n            }\n            var member = void 0;\n            if (this.valueAxis === 0) {\n                member = this.getMember(cMembers, hText);\n                if (member) {\n                    rMembers = this.sortByValueRow(rMembers, member, this.valueSortSettings.sortOrder, mIndex, mType);\n                }\n            }\n            else {\n                member = this.getMember(rMembers, hText);\n                if (member) {\n                    cMembers = this.sortByValueRow(cMembers, member, this.valueSortSettings.sortOrder, mIndex, mType);\n                }\n            }\n            if (isNullArgument) {\n                this.rMembers = rMembers;\n                this.cMembers = cMembers;\n                if (this.pageSettings) {\n                    this.headerCollection.rowHeaders = this.rMembers;\n                    this.headerCollection.columnHeaders = this.cMembers;\n                }\n            }\n        }\n        return { rMembers: rMembers, cMembers: cMembers };\n    };\n    PivotEngine.prototype.getMember = function (cMembers, headerText) {\n        var vlen = cMembers.length;\n        var member;\n        for (var j = 0; j < vlen; j++) {\n            if (cMembers[j].valueSort.levelName === headerText) {\n                member = cMembers[j];\n                break;\n            }\n            else if (cMembers[j].members.length > 0) {\n                member = this.getMember(cMembers[j].members, headerText);\n            }\n            if (member) {\n                return member;\n            }\n        }\n        return member;\n    };\n    PivotEngine.prototype.sortByValueRow = function (rMembers, member, sortOrder, mIndex, mType) {\n        var aggreColl = [];\n        for (var _i = 0, rMembers_1 = rMembers; _i < rMembers_1.length; _i++) {\n            var header = rMembers_1[_i];\n            if (header.type === 'grand sum') {\n                aggreColl.push({ 'header': header });\n            }\n            else {\n                this.rawIndexObject = {};\n                var value = this.getAggregateValue(header.index, member.indexObject, mIndex, mType);\n                var cellDetails = {\n                    fieldName: this.fields[mIndex],\n                    row: header,\n                    column: member,\n                    value: value,\n                    cellSets: this.getCellSet(this.rawIndexObject),\n                    /* tslint:disable-next-line:max-line-length */\n                    rowCellType: (header.hasChild && header.isDrilled ? 'subTotal' : header.type === 'grand sum' ? 'grandTotal' : 'value'),\n                    /* tslint:disable-next-line:max-line-length */\n                    columnCellType: (member.hasChild && member.isDrilled ? 'subTotal' : member.type === 'grand sum' ? 'grandTotal' : 'value'),\n                    aggregateType: mType,\n                    skipFormatting: false\n                };\n                if (this.getValueCellInfo) {\n                    this.getValueCellInfo(cellDetails);\n                }\n                value = cellDetails.value;\n                this.rawIndexObject = {};\n                aggreColl.push({ 'header': header, 'value': value });\n            }\n        }\n        aggreColl.sort(function (a, b) {\n            return sortOrder === 'Descending' ?\n                ((b['value'] || b['header']['type'] === 'grand sum' ?\n                    b['value'] : 0) - (a['value'] || a['header']['type'] === 'grand sum' ? a['value'] : 0)) :\n                ((a['value'] || a['header']['type'] === 'grand sum' ?\n                    a['value'] : 0) - (b['value'] || b['header']['type'] === 'grand sum' ? b['value'] : 0));\n        });\n        rMembers = aggreColl.map(function (item) { return item['header']; });\n        for (var _a = 0, rMembers_2 = rMembers; _a < rMembers_2.length; _a++) {\n            var header = rMembers_2[_a];\n            if (header.members.length > 0) {\n                header.members = this.sortByValueRow(header.members, member, sortOrder, mIndex, mType);\n            }\n        }\n        return rMembers;\n    };\n    PivotEngine.prototype.insertAllMembersCommon = function () {\n        /* inserting the row grant-total members */\n        var rowFlag = (this.showGrandTotals && this.showRowGrandTotals) ? true : (this.rows.length > 0) ? false : true;\n        if (rowFlag) {\n            this.insertAllMember(this.rMembers, this.filterMembers, '', 'row');\n        }\n        /* inserting the column gran-total members */\n        var columnFlag = (this.showGrandTotals && this.showColumnGrandTotals) ? true : (this.columns.length > 0) ? false : true;\n        if (columnFlag) {\n            this.insertAllMember(this.cMembers, this.filterMembers, '', 'column');\n        }\n    };\n    PivotEngine.prototype.insertSubTotals = function () {\n        var rowLength = this.pivotValues.length;\n        for (var rowCnt = 0; rowCnt < rowLength; rowCnt++) {\n            var rowCells = this.pivotValues[rowCnt];\n            if (rowCells) {\n                var savedCell = void 0;\n                var spanCnt = 1;\n                var colLength = rowCells.length;\n                var indexObj = void 0;\n                for (var colCnt = colLength - 1; colCnt > 0; colCnt--) {\n                    var cell = rowCells[colCnt];\n                    if (cell) {\n                        // if (cell.rowSpan > 1) {\n                        //     cell.rowSpan = 1;\n                        // }\n                        if (savedCell) {\n                            savedCell.colSpan = spanCnt;\n                            savedCell.colIndex = savedCell.colIndex - (spanCnt - 1);\n                        }\n                        indexObj = { index: cell.index, indexObject: cell.indexObject };\n                        cell.index = [];\n                        cell.indexObject = {};\n                        savedCell = extend({}, cell, null, true);\n                        cell.index = indexObj.index;\n                        cell.indexObject = indexObj.indexObject;\n                        var rowPos = rowCnt + 1;\n                        while (this.pivotValues[rowPos] && !this.pivotValues[rowPos][colCnt]) {\n                            if (!this.pivotValues[rowCnt][colCnt].isDrilled) {\n                                this.pivotValues[rowCnt][colCnt].rowSpan = (rowPos - rowCnt) + 1;\n                                savedCell.rowSpan = (rowPos - rowCnt) + 1;\n                            }\n                            var cellType = (cell.type === 'sum' || cell.type === 'grand sum') ? cell.type : 'sum';\n                            this.pivotValues[rowPos][colCnt] = this.headerContent[rowPos][colCnt] = {\n                                type: cellType, formattedText: ((cell.type === 'sum' || cell.type === 'grand sum') ? cell.formattedText :\n                                    (cell.formattedText + ' Total')),\n                                axis: 'column', level: -1, colIndex: colCnt, rowIndex: rowPos, valueSort: cell.valueSort\n                            };\n                            if (cell.valueSort && cell.valueSort[this.valueSortSettings.headerText]) {\n                                this.valueSortSettings.columnIndex = colCnt;\n                            }\n                            var isSpanned = false;\n                            if (cellType === 'grand sum') {\n                                this.pivotValues[rowCnt][colCnt].rowSpan = (rowPos - rowCnt) + 1;\n                                savedCell.rowSpan = (rowPos - rowCnt) + 1;\n                            }\n                            else if (this.pivotValues[rowCnt][colCnt].type !== 'sum' &&\n                                this.pivotValues[rowCnt][colCnt].isDrilled) {\n                                this.pivotValues[rowCnt + 1][colCnt].rowSpan = rowPos - rowCnt;\n                                isSpanned = true;\n                            }\n                            else {\n                                this.pivotValues[rowPos][colCnt].rowSpan = -1;\n                            }\n                            if (rowPos > (rowCnt + 1) && (this.pivotValues[rowCnt][colCnt].type === 'sum' ||\n                                isSpanned)) {\n                                this.pivotValues[rowPos][colCnt].rowSpan = -1;\n                            }\n                            rowPos++;\n                        }\n                        spanCnt = 1;\n                    }\n                    else {\n                        rowCells[colCnt] = this.headerContent[rowCnt][colCnt] = extend({}, savedCell, null, true);\n                        rowCells[colCnt].index = this.headerContent[rowCnt][colCnt].index = indexObj.index;\n                        rowCells[colCnt].indexObject = this.headerContent[rowCnt][colCnt].indexObject = indexObj.indexObject;\n                        spanCnt++;\n                        rowCells[colCnt].colSpan = spanCnt;\n                        rowCells[colCnt].colIndex = rowCells[colCnt].colIndex - (spanCnt - 1);\n                    }\n                    if (colCnt === 1 && savedCell) {\n                        savedCell.colSpan = spanCnt;\n                        savedCell.colIndex = savedCell.colIndex - (spanCnt - 1);\n                    }\n                }\n            }\n        }\n    };\n    PivotEngine.prototype.frameDrillObject = function () {\n        this.fieldDrillCollection = {};\n        for (var fieldCnt = 0; fieldCnt < this.drilledMembers.length; fieldCnt++) {\n            var drillOption = this.drilledMembers[fieldCnt];\n            for (var memberCnt = 0; memberCnt < drillOption.items.length; memberCnt++) {\n                var memberString = drillOption.name + this.valueSortSettings.headerDelimiter +\n                    drillOption.items[memberCnt].split(drillOption.delimiter).join(this.valueSortSettings.headerDelimiter);\n                this.fieldDrillCollection[memberString] = memberString;\n            }\n        }\n    };\n    /* tslint:disable:max-func-body-length */\n    PivotEngine.prototype.getIndexedHeaders = function (keys, data, keyInd, position, axis, parentMember, valueFil) {\n        var hierarchy = [];\n        if (keys) {\n            var rlen = keys.length;\n            var decisionObj = {};\n            var fieldName = keys[keyInd].name;\n            var field = keys[keyInd];\n            // let members: string[] = Object.keys(this.fieldList[field].members);\n            var childrens = this.fieldList[fieldName];\n            var isNoData = false;\n            var isDateType = (this.formatFields[fieldName] &&\n                (['date', 'dateTime', 'time'].indexOf(this.formatFields[fieldName].type) > -1));\n            var showNoDataItems = (position.length < 1 && keyInd > 0) || field.showNoDataItems;\n            var savedMembers = {};\n            if (showNoDataItems) {\n                var members = Object.keys(childrens.members);\n                for (var pos = 0, lt = members.length; pos < lt; pos++) {\n                    if (this.showHeaderWhenEmpty || (this.localeObj && members[pos] !== this.localeObj.getConstant('undefined'))) {\n                        savedMembers[members[pos]] = members[pos];\n                    }\n                }\n                if (position.length < 1) {\n                    isNoData = true;\n                    position.length = members.length;\n                }\n            }\n            for (var pos = 0, lt = position.length; pos < lt; pos++) {\n                var member = {};\n                if (!isNullOrUndefined(keys[keyInd].showSubTotals) && !keys[keyInd].showSubTotals) {\n                    member.showSubTotals = false;\n                }\n                member.hasChild = keyInd < rlen - 1;\n                member.level = keyInd;\n                member.axis = axis;\n                member.colSpan = 1;\n                var memInd = isNoData ? childrens.members[Object.keys(savedMembers)[0]].ordinal :\n                    this.indexMatrix[position[pos]][childrens.index];\n                var headerValue = isNoData ? Object.keys(savedMembers)[0] :\n                    data[position[pos]][fieldName];\n                if ((isNullOrUndefined(headerValue) || (this.localeObj && headerValue === this.localeObj.getConstant('undefined')))\n                    && !this.showHeaderWhenEmpty) {\n                    if (showNoDataItems && !isNoData && keyInd > 0 && pos + 1 === position.length &&\n                        Object.keys(savedMembers).length > 0) {\n                        lt = Object.keys(savedMembers).length;\n                        isNoData = true;\n                        pos = -1;\n                    }\n                    continue;\n                }\n                delete savedMembers[headerValue];\n                if (showNoDataItems && this.fieldFilterMem[fieldName] &&\n                    this.fieldFilterMem[fieldName].memberObj[headerValue] === headerValue) {\n                    continue;\n                }\n                var formattedValue = isDateType ? {\n                    actualText: headerValue,\n                    formattedText: childrens.dateMember[memInd - 1].formattedText,\n                    dateText: childrens.dateMember[memInd - 1].actualText\n                } :\n                    {\n                        formattedText: headerValue === null ? (this.localeObj ? this.localeObj.getConstant('null') : String(headerValue)) :\n                            headerValue === undefined ? (this.localeObj ? (fieldName in this.groupingFields) ?\n                                this.localeObj.getConstant('groupOutOfRange') : this.localeObj.getConstant('undefined') :\n                                String(headerValue)) : String(headerValue), actualText: headerValue === null ? (this.localeObj ?\n                            this.localeObj.getConstant('null') : String(headerValue)) : headerValue === undefined ?\n                            (this.localeObj ? (fieldName in this.groupingFields) ?\n                                this.localeObj.getConstant('groupOutOfRange') : this.localeObj.getConstant('undefined') :\n                                String(headerValue)) : headerValue\n                    };\n                member.actualText = formattedValue.actualText;\n                member.formattedText = formattedValue.formattedText;\n                if (isDateType) {\n                    member.dateText = formattedValue.dateText;\n                }\n                var availData = showNoDataItems ? (this.filterPosObj[position[pos]] !== undefined &&\n                    !isNoData ? true : false) : true;\n                //member.name = members[memInd];\n                // member.type = member.hasChild ? 'All' : 'Single';\n                var pindx = void 0;\n                if (!(decisionObj && decisionObj[memInd])) {\n                    decisionObj[memInd] = { index: [], indexObject: {} };\n                    member.index = decisionObj[memInd].index;\n                    member.indexObject = decisionObj[memInd].indexObject;\n                    if (availData) {\n                        member.index = decisionObj[memInd].index = [position[pos]];\n                        decisionObj[memInd].indexObject[position[pos]] = position[pos];\n                        member.indexObject = decisionObj[memInd].indexObject;\n                    }\n                    member.ordinal = memInd;\n                    member.valueSort = {};\n                    member.valueSort.axis = fieldName;\n                    if (keyInd !== 0) {\n                        member.valueSort.levelName = parentMember + this.valueSortSettings.headerDelimiter + member.formattedText;\n                        member.valueSort[parentMember + this.valueSortSettings.headerDelimiter + member.formattedText] = 1;\n                    }\n                    else {\n                        member.valueSort[member.formattedText] = 1;\n                        member.valueSort.levelName = member.formattedText;\n                    }\n                    var memberString = member.valueSort.axis + this.valueSortSettings.headerDelimiter + member.valueSort.levelName;\n                    member.isDrilled = (valueFil && this.isValueFiltersAvail) ?\n                        true : (member.hasChild && this.fieldDrillCollection[memberString]) ?\n                        this.isExpandAll ? false : true : childrens.members[headerValue].isDrilled;\n                    //if (!member.members) {\n                    member.members = [];\n                    //}\n                    //let copyObj: AxisSet = Object.create(member);\n                    hierarchy.push(member);\n                }\n                else if (availData) {\n                    decisionObj[memInd].index.push(position[pos]);\n                    decisionObj[memInd].indexObject[position[pos]] = position[pos];\n                }\n                if (showNoDataItems && !isNoData && keyInd > 0 && pos + 1 === position.length &&\n                    Object.keys(savedMembers).length > 0) {\n                    isNoData = true;\n                    lt = Object.keys(savedMembers).length;\n                    pos = -1;\n                }\n            }\n            for (var iln = 0, ilt = hierarchy.length; iln < ilt; iln++) {\n                if (!this.frameHeaderObjectsCollection) {\n                    if (axis === 'row') {\n                        this.rowCount += this.rowValuesLength;\n                    }\n                    else {\n                        this.columnCount += this.colValuesLength;\n                    }\n                }\n                var level = null;\n                if (hierarchy[iln].valueSort && hierarchy[iln].valueSort.levelName) {\n                    level = hierarchy[iln].valueSort.levelName;\n                }\n                parentMember = (level || hierarchy[iln].formattedText);\n                if (!this.showHeaderWhenEmpty && rlen - 1 > keyInd && hierarchy[iln].index &&\n                    hierarchy[iln].index.length > 0 && !showNoDataItems) {\n                    var headerValue = data[hierarchy[iln].index[0]][keys[keyInd + 1].name];\n                    var hasChild = (isNullOrUndefined(headerValue) || (this.localeObj &&\n                        headerValue === this.localeObj.getConstant('undefined'))) && hierarchy[iln].index.length === 1 ? false : true;\n                    hierarchy[iln].hasChild = hasChild;\n                }\n                else if (!this.showHeaderWhenEmpty && showNoDataItems && keys[keyInd + 1] && keys[keyInd + 1].name &&\n                    Object.keys(this.fieldList[keys[keyInd + 1].name].members).length) {\n                    hierarchy[iln].hasChild = true;\n                }\n                if (rlen - 1 > keyInd && hierarchy[iln].isDrilled) {\n                    this.columnCount -= (!(this.showSubTotals && this.showColumnSubTotals && field.showSubTotals) && axis === 'column') ?\n                        this.colValuesLength : 0;\n                    var filterPosition = hierarchy[iln].index;\n                    /* tslint:disable:align */\n                    hierarchy[iln].members = this.getIndexedHeaders(keys, data, keyInd + 1, (filterPosition === undefined ? [] : filterPosition), axis, parentMember);\n                    /* tslint:enable:align */\n                    if (this.frameHeaderObjectsCollection) {\n                        this.headerObjectsCollection[parentMember] = hierarchy[iln].members;\n                    }\n                }\n            }\n            /* tslint:disable:typedef */\n            if (this.enableSort) {\n                // return new DataManager(hierarchy as JSON[]).executeLocal(new Query().sortBy('actualText', childrens.sort.toLowerCase()));\n                if (isDateType) {\n                    return childrens.sort === 'Ascending' ?\n                        (hierarchy.sort(function (a, b) { return (a.dateText > b.dateText) ? 1 : ((b.dateText > a.dateText) ? -1 : 0); })) :\n                        childrens.sort === 'Descending' ?\n                            (hierarchy.sort(function (a, b) { return (a.dateText < b.dateText) ? 1 : ((b.dateText < a.dateText) ? -1 : 0); })) :\n                            hierarchy;\n                }\n                else {\n                    return childrens.sort === 'Ascending' ?\n                        (hierarchy.sort(function (a, b) { return (a.actualText > b.actualText) ? 1 : ((b.actualText > a.actualText) ? -1 : 0); })) :\n                        childrens.sort === 'Descending' ?\n                            (hierarchy.sort(function (a, b) { return (a.actualText < b.actualText) ? 1 : ((b.actualText < a.actualText) ? -1 : 0); })) :\n                            hierarchy;\n                }\n            }\n            else {\n                return hierarchy;\n            }\n            /* tslint:enable:typedef */\n        }\n        else {\n            return hierarchy;\n        }\n    };\n    PivotEngine.prototype.getOrderedIndex = function (headers) {\n        var orderedIndex = {};\n        for (var i = 0; i < headers.length; i++) {\n            if (headers[i].type !== 'grand sum') {\n                orderedIndex[headers[i].ordinal] = i;\n            }\n        }\n        return orderedIndex;\n    };\n    PivotEngine.prototype.insertPosition = function (keys, data, keyInd, position, axis, parentMember, slicedHeaders) {\n        var hierarchy = [];\n        var orderedIndex = this.getOrderedIndex(slicedHeaders);\n        if (keys) {\n            var decisionObj = {};\n            var field = keys[keyInd].name;\n            var childrens = this.fieldList[field];\n            for (var pos = 0, lt = position.length; pos < lt; pos++) {\n                var member = {};\n                var memInd = this.indexMatrix[position[pos]][childrens.index];\n                var slicedHeader = slicedHeaders[orderedIndex[memInd]];\n                var formattedValue = (this.formatFields[field] &&\n                    (['date', 'dateTime', 'time'].indexOf(this.formatFields[field].type) > -1)) ?\n                    this.getFormattedValue(data[position[pos]][field], field) :\n                    { formattedText: data[position[pos]][field].toString(), actualText: data[position[pos]][field].toString() };\n                if (!(slicedHeader && slicedHeader.formattedText === formattedValue.formattedText)) {\n                    continue;\n                }\n                if (!(decisionObj && decisionObj[memInd])) {\n                    decisionObj[memInd] = { index: [], indexObject: {} };\n                    slicedHeader.index = decisionObj[memInd].index = [position[pos]];\n                    decisionObj[memInd].indexObject[position[pos]] = position[pos];\n                    slicedHeader.indexObject = decisionObj[memInd].indexObject;\n                    slicedHeader.valueSort = {};\n                    slicedHeader.valueSort.axis = field;\n                    if (keyInd !== 0) {\n                        slicedHeader.valueSort.levelName = parentMember + this.valueSortSettings.headerDelimiter +\n                            slicedHeader.formattedText;\n                        slicedHeader.valueSort[parentMember + this.valueSortSettings.headerDelimiter +\n                            slicedHeader.formattedText] = 1;\n                    }\n                    else {\n                        slicedHeader.valueSort[slicedHeader.formattedText] = 1;\n                        slicedHeader.valueSort.levelName = slicedHeader.formattedText;\n                    }\n                    member.members = [];\n                    hierarchy.push(member);\n                }\n                else {\n                    decisionObj[memInd].index.push(position[pos]);\n                    decisionObj[memInd].indexObject[position[pos]] = position[pos];\n                }\n            }\n            var diff = slicedHeaders.length - hierarchy.length;\n            while (diff > 0) {\n                hierarchy.push({ members: [] });\n                diff--;\n            }\n            for (var iln = 0, ilt = hierarchy.length; iln < ilt; iln++) {\n                if (slicedHeaders[iln].members.length > 0) {\n                    var level = null;\n                    if (slicedHeaders[iln].valueSort && slicedHeaders[iln].valueSort.levelName) {\n                        level = slicedHeaders[iln].valueSort.levelName;\n                    }\n                    parentMember = (level || slicedHeaders[iln].formattedText);\n                    /* tslint:disable:align */\n                    hierarchy[iln].members =\n                        this.insertPosition(keys, data, keyInd + 1, slicedHeaders[iln].index, axis, parentMember, slicedHeaders[iln].members);\n                    /* tslint:enable:align */\n                }\n            }\n            return hierarchy;\n        }\n        else {\n            return hierarchy;\n        }\n    };\n    PivotEngine.prototype.insertTotalPosition = function (headers) {\n        var summCell = headers[headers.length - 1];\n        if (summCell && summCell.type === 'grand sum') {\n            summCell.index = this.filterMembers;\n            /* tslint:disable:typedef */\n            var lt = void 0;\n            for (var ln = 0, lt_1 = this.filterMembers.length; ln < lt_1; ln++) {\n                summCell.indexObject[this.filterMembers[ln]] = this.filterMembers[ln];\n            }\n            /* tslint:enable:typedef */\n        }\n        return headers;\n    };\n    PivotEngine.prototype.calculatePagingValues = function () {\n        if (this.pageSettings) {\n            if (this.valueAxis === 1) {\n                this.rowValuesLength = this.values.length;\n            }\n            else {\n                this.colValuesLength = this.values.length;\n            }\n            this.memberCnt = -this.rowValuesLength;\n            this.rowStartPos = ((this.pageSettings.rowCurrentPage * this.pageSettings.rowSize) -\n                (this.pageSettings.rowSize)) * this.rowValuesLength;\n            var exactStartPos = (this.rowStartPos + (this.pageSettings.rowSize * 3 * this.rowValuesLength)) > this.rowCount ?\n                (this.rowCount - (this.pageSettings.rowSize * 3 * this.rowValuesLength)) : this.rowStartPos;\n            if (exactStartPos < 0) {\n                exactStartPos = this.rowStartPos = 0;\n                this.pageSettings.rowCurrentPage = 1;\n            }\n            this.rowFirstLvl = (this.rowStartPos - exactStartPos) % this.pageSettings.rowSize;\n            this.rowStartPos = exactStartPos;\n            this.endPos = this.rowStartPos + (this.pageSettings.rowSize * 3 * this.rowValuesLength);\n            this.endPos = this.endPos > this.rowCount ? this.rowCount : this.endPos;\n            this.rMembers = this.performSlicing(this.rMembers, [], this.rowStartPos, 'row');\n            this.memberCnt = -this.colValuesLength;\n            this.pageInLimit = false;\n            this.colHdrBufferCalculated = false;\n            this.colStartPos = ((this.pageSettings.columnCurrentPage * this.pageSettings.columnSize) -\n                (this.pageSettings.columnSize)) * this.colValuesLength;\n            exactStartPos = (this.colStartPos + (this.pageSettings.columnSize * 3 * this.colValuesLength)) >\n                this.columnCount ?\n                (this.columnCount - (this.pageSettings.columnSize * 3 * this.colValuesLength)) : this.colStartPos;\n            if (exactStartPos < 0) {\n                exactStartPos = this.colStartPos = 0;\n                this.pageSettings.columnCurrentPage = 1;\n            }\n            this.colFirstLvl = (this.colStartPos - exactStartPos) % this.pageSettings.columnSize;\n            this.colStartPos = exactStartPos;\n            this.endPos = this.colStartPos + (this.pageSettings.columnSize * 3 * this.colValuesLength);\n            this.endPos = this.endPos > this.columnCount ? this.columnCount : this.endPos;\n            this.cMembers = this.performSlicing(this.cMembers, [], this.colStartPos, 'column');\n            this.memberCnt = -1;\n            this.pageInLimit = false;\n        }\n    };\n    PivotEngine.prototype.performSlicing = function (headers, slicedHeaders, startPos, axis) {\n        var pos = 0;\n        while (headers[pos]) {\n            this.memberCnt += axis === 'column' ? this.colValuesLength : this.rowValuesLength;\n            if (startPos <= this.memberCnt && this.endPos >= this.memberCnt && !this.pageInLimit) {\n                if (axis === 'column') {\n                    this.colFirstLvl = this.colFirstLvl + headers[pos].level;\n                }\n                else {\n                    this.rowFirstLvl = this.rowFirstLvl + headers[pos].level;\n                }\n                this.pageInLimit = true;\n            }\n            if (this.pageInLimit) {\n                if (this.endPos <= this.memberCnt) {\n                    if (axis === 'column') {\n                        if (headers[pos].members.length === 0) {\n                            if (this.colHdrBufferCalculated) {\n                                break;\n                            }\n                            this.colHdrBufferCalculated = true;\n                            this.endPos += (headers[pos].level * this.colValuesLength);\n                        }\n                        else if (this.colHdrBufferCalculated) {\n                            break;\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            slicedHeaders.push(headers[pos].members.length > 0 ? this.removeChildMembers(headers[pos]) : headers[pos]);\n            if (headers[pos].members.length > 0) {\n                if (axis === 'column') {\n                    this.memberCnt -= !(this.showSubTotals && this.showColumnSubTotals &&\n                        this.columnKeys[headers[pos].valueSort.axis].showSubTotals) ? this.colValuesLength : 0;\n                }\n                slicedHeaders[slicedHeaders.length - 1].members =\n                    this.performSlicing(headers[pos].members, [], startPos, axis);\n            }\n            if (!this.pageInLimit) {\n                slicedHeaders.pop();\n            }\n            if (headers[pos].level === 0 && this.pageInLimit && this.endPos <= this.memberCnt) {\n                break;\n            }\n            pos++;\n        }\n        return slicedHeaders;\n    };\n    PivotEngine.prototype.removeChildMembers = function (member) {\n        var keys = Object.keys(member);\n        var keyPos = 0;\n        var framedMember = {};\n        while (keyPos < keys.length) {\n            framedMember[keys[keyPos]] = member[keys[keyPos]];\n            if (keys[keyPos] === 'members') {\n                framedMember['members'] = [];\n            }\n            keyPos++;\n        }\n        return framedMember;\n    };\n    PivotEngine.prototype.insertAllMember = function (set, filter, customText, axis) {\n        var len = set.length;\n        customText = ' Total';\n        set[len] = {\n            hasChild: false,\n            index: filter,\n            level: 0,\n            axis: axis,\n            isDrilled: false,\n            indexObject: {},\n            members: [],\n            formattedText: 'Grand' + customText,\n            ordinal: len,\n            type: 'grand sum',\n            valueSort: {}\n        };\n        set[len].valueSort[set[len].formattedText] = 1;\n        set[len].valueSort.levelName = set[len].formattedText;\n        for (var ln = 0, lt = filter.length; ln < lt; ln++) {\n            set[len].indexObject[filter[ln]] = filter[ln];\n        }\n        if (axis === 'row') {\n            this.rowCount += this.rowValuesLength;\n        }\n        else {\n            this.columnCount += this.colValuesLength;\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.getTableData = function (rows, reformAxis, columns, tnum, data, vlt, rTotal, cTotal) {\n        for (var rlt = rows.length, rln = 0; rln < rlt; rln++) {\n            tnum = data.length;\n            reformAxis[tnum] = rows[rln];\n            var actCnt = tnum - Number(Object.keys(reformAxis)[0]);\n            //let rplus: number = rln + 1;\n            //let lvl: number = rows[rln].level;\n            var isLeastNode = !reformAxis[tnum].members.length;\n            rows[rln].colIndex = 0;\n            rows[rln].rowIndex = tnum;\n            if (!data[tnum]) {\n                data[tnum] = [];\n                this.valueContent[actCnt] = {};\n                //data[tnum][0] = rows[rln].name;\n                data[tnum][0] = this.valueContent[actCnt][0] = this.frameHeaderWithKeys(rows[rln]);\n            }\n            else {\n                // data[tnum][0] = rows[rln].name;\n                data[tnum][0] = this.valueContent[actCnt][0] = this.frameHeaderWithKeys(rows[rln]);\n            }\n            if (this.valueAxis && (this.isMutiMeasures || this.alwaysShowValueHeader) && !(rows[rln].hasChild &&\n                ((!isNullOrUndefined(rows[rln].showSubTotals) && !rows[rln].showSubTotals) ||\n                    !this.showSubTotals || !this.showRowSubTotals))) {\n                var hpos = tnum;\n                var actpos = actCnt;\n                for (var vln = 0; vln < vlt; vln++) {\n                    tnum++;\n                    actCnt++;\n                    var name_1 = this.values[vln].caption ? this.values[vln].caption : this.values[vln].name;\n                    var calObj = {\n                        axis: 'row',\n                        actualText: this.values[vln].name,\n                        formattedText: name_1,\n                        level: 0,\n                        valueSort: {},\n                        colIndex: 0,\n                        rowIndex: tnum,\n                        type: 'value'\n                    };\n                    if (!data[tnum]) {\n                        data[tnum] = [];\n                        this.valueContent[actCnt] = {};\n                        data[tnum][0] = this.valueContent[actCnt][0] = calObj;\n                    }\n                    var vData = data[tnum][0].valueSort;\n                    vData[data[tnum - vln - 1][0].valueSort.levelName + this.valueSortSettings.headerDelimiter + name_1] = 1;\n                    vData.levelName = data[tnum - vln - 1][0].valueSort.levelName + this.valueSortSettings.headerDelimiter\n                        + name_1;\n                    for (var cln = 0, dln = 1, clt = columns.length; cln < clt; ++cln) {\n                        //for (let vln: number = 0; (!this.valueAxis && vln < vlt); vln++) {\n                        this.updateRowData(rows, columns, tnum, data, vln, rln, cln, dln, actCnt, rTotal, cTotal);\n                        dln = data[tnum].length;\n                        data[hpos][dln - 1] = this.valueContent[actpos][dln - 1] = {\n                            axis: 'value', actualText: '', colSpan: 1,\n                            colIndex: dln, formattedText: '', hasChild: false\n                        };\n                        // }\n                    }\n                }\n                this.recursiveRowData(rows, reformAxis, columns, tnum, data, vlt, isLeastNode, rln, vlt, rTotal, cTotal);\n            }\n            else {\n                for (var cln = 0, dln = 1, clt = columns.length; cln < clt; ++cln) {\n                    for (var vln = 0; vln < vlt; vln++) {\n                        this.updateRowData(rows, columns, tnum, data, vln, rln, cln, dln, actCnt, rTotal, cTotal);\n                        dln = data[tnum].length;\n                    }\n                }\n                this.recursiveRowData(rows, reformAxis, columns, tnum, data, vlt, isLeastNode, rln, 0, rTotal, cTotal);\n            }\n        }\n        /* for (let rlt: number = rows.length, rln: number = 0; rln < rlt; rln++) {\n            if (!data[rln]) {\n                data[rln] = [];\n                data[rln][0] = rows[rln].name;\n            } else {\n                data[rln][0] = rows[rln].name;\n            }\n            for (let cln: number = 0, dln: number = 1, clt: number = columns.length; cln < clt; dln = ++cln) {\n                data[rln][dln] = this.getAggregateValue(rows[rln].index, columns[cln].index, 11);\n            }\n        } */\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.getAggregatedHeaders = function (rows, columns, rMembers, cMembers, values) {\n        this.selectedHeaders = { selectedHeader: [], values: [] };\n        for (var vlt = values.length, vln = 0; vln < vlt; vln++) {\n            switch (values[vln].type) {\n                case 'DifferenceFrom':\n                case 'PercentageOfDifferenceFrom':\n                    {\n                        var baseField = void 0;\n                        var baseItem = void 0;\n                        this.selectedHeaders.values.push(values[vln].name);\n                        if (values[vln].baseField && values[vln].baseItem) {\n                            baseField = values[vln].baseField;\n                            baseItem = values[vln].baseItem;\n                        }\n                        else if (this.valueAxis && (this.isMutiMeasures || this.alwaysShowValueHeader) && columns.length > 0) {\n                            baseField = columns[0].name;\n                            baseItem = Object.keys(this.fieldList[columns[0].name].members)[0];\n                        }\n                        else if (rows.length > 0) {\n                            baseField = rows[0].name;\n                            baseItem = Object.keys(this.fieldList[rows[0].name].members)[0];\n                        }\n                        var isHeaderSelected = false;\n                        for (var _i = 0, rows_2 = rows; _i < rows_2.length; _i++) {\n                            var row = rows_2[_i];\n                            if (row.name === baseField) {\n                                /* tslint:disable-next-line:max-line-length */\n                                this.getAggregatedHeaderData(rMembers, values[vln].name, baseItem, false, 'row', values[vln].type, this.selectedHeaders.selectedHeader, vln);\n                                isHeaderSelected = true;\n                                break;\n                            }\n                        }\n                        if (!isHeaderSelected) {\n                            for (var _a = 0, columns_1 = columns; _a < columns_1.length; _a++) {\n                                var column = columns_1[_a];\n                                if (column.name === baseField) {\n                                    /* tslint:disable-next-line:max-line-length */\n                                    this.getAggregatedHeaderData(cMembers, values[vln].name, baseItem, false, 'column', values[vln].type, this.selectedHeaders.selectedHeader, vln);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'PercentageOfParentRowTotal':\n                case 'PercentageOfParentColumnTotal':\n                    {\n                        this.selectedHeaders.values.push(values[vln].name);\n                        /* tslint:disable-next-line:max-line-length */\n                        this.getAggregatedHeaderData((values[vln].type === 'PercentageOfParentRowTotal' ? rMembers : cMembers), values[vln].name, undefined, false, (values[vln].type === 'PercentageOfParentRowTotal' ? 'row' : 'column'), values[vln].type, this.selectedHeaders.selectedHeader, vln);\n                    }\n                    break;\n                case 'RunningTotals':\n                    {\n                        this.selectedHeaders.values.push(values[vln].name);\n                        /* tslint:disable-next-line:max-line-length */\n                        this.getAggregatedHeaderData((this.valueAxis && (this.isMutiMeasures || this.alwaysShowValueHeader) ? cMembers : rMembers), values[vln].name, undefined, false, (this.valueAxis && (this.isMutiMeasures || this.alwaysShowValueHeader) ? 'column' : 'row'), values[vln].type, this.selectedHeaders.selectedHeader, vln);\n                    }\n                    break;\n                case 'PercentageOfParentTotal':\n                    {\n                        var baseField = void 0;\n                        this.selectedHeaders.values.push(values[vln].name);\n                        if (values[vln].baseField) {\n                            baseField = values[vln].baseField;\n                        }\n                        else if (this.valueAxis && (this.isMutiMeasures || this.alwaysShowValueHeader) && columns.length > 0) {\n                            baseField = columns[0].name;\n                        }\n                        else if (rows.length > 0) {\n                            baseField = rows[0].name;\n                        }\n                        var isHeaderSelected = false;\n                        for (var len = rows.length, i = 0; i < len; i++) {\n                            if (rows[i].name === baseField) {\n                                /* tslint:disable-next-line:max-line-length */\n                                this.getAggregatedHeaderData(rMembers, values[vln].name, undefined, false, 'row', values[vln].type, this.selectedHeaders.selectedHeader, vln, i);\n                                isHeaderSelected = true;\n                                break;\n                            }\n                        }\n                        if (!isHeaderSelected) {\n                            for (var len = columns.length, i = 0; i < len; i++) {\n                                if (columns[i].name === baseField) {\n                                    /* tslint:disable-next-line:max-line-length */\n                                    this.getAggregatedHeaderData(cMembers, values[vln].name, undefined, false, 'column', values[vln].type, this.selectedHeaders.selectedHeader, vln, i);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.getAggregatedHeaderData = function (headers, name, baseItem, isChildren, type, aggregateType, selectedHeaders, vln, level) {\n        for (var _i = 0, headers_1 = headers; _i < headers_1.length; _i++) {\n            var rln = headers_1[_i];\n            switch (aggregateType) {\n                case 'DifferenceFrom':\n                case 'PercentageOfDifferenceFrom':\n                    {\n                        var levelName = rln.valueSort.levelName.toString().split('.');\n                        if (levelName.indexOf(baseItem) !== -1) {\n                            /* tslint:disable-next-line:max-line-length */\n                            selectedHeaders.push(this.updateSelectedHeaders(baseItem, rln.level, type, isChildren, name, aggregateType, rln.valueSort.levelName, (isChildren ? [rln] : headers), vln + 1));\n                            if (rln.members.length > 0) {\n                                /* tslint:disable-next-line:max-line-length */\n                                this.getAggregatedHeaderData(rln.members, name, baseItem, true, type, aggregateType, selectedHeaders[selectedHeaders.length - 1].childMembers, vln);\n                            }\n                        }\n                        else if (rln.members.length > 0) {\n                            this.getAggregatedHeaderData(rln.members, name, baseItem, false, type, aggregateType, selectedHeaders, vln);\n                        }\n                    }\n                    break;\n                case 'RunningTotals':\n                case 'PercentageOfParentRowTotal':\n                case 'PercentageOfParentColumnTotal':\n                    {\n                        if (rln.type === 'grand sum') {\n                            /* tslint:disable-next-line:max-line-length */\n                            selectedHeaders.push(this.updateSelectedHeaders(undefined, rln.level, type, false, name, aggregateType, rln.valueSort.levelName, headers, vln + 1));\n                        }\n                        else {\n                            if (rln.members.length > 0) {\n                                /* tslint:disable-next-line:max-line-length */\n                                selectedHeaders.push(this.updateSelectedHeaders(undefined, rln.level, type, false, name, aggregateType, rln.valueSort.levelName, rln.members, vln + 1));\n                                /* tslint:disable-next-line:max-line-length */\n                                this.getAggregatedHeaderData(rln.members, name, undefined, false, type, aggregateType, selectedHeaders, vln);\n                            }\n                        }\n                    }\n                    break;\n                case 'PercentageOfParentTotal':\n                    {\n                        if (rln.type !== 'grand sum') {\n                            if (rln.level === level) {\n                                if (rln.members.length > 0) {\n                                    if (isChildren) {\n                                        var aggregateHeaders = selectedHeaders[selectedHeaders.length - 1].aggregateHeaders;\n                                        for (var _a = 0, _b = rln.members; _a < _b.length; _a++) {\n                                            var member = _b[_a];\n                                            aggregateHeaders.push(member);\n                                        }\n                                    }\n                                    else {\n                                        var children = extend([], rln.members, null, true);\n                                        /* tslint:disable-next-line:max-line-length */\n                                        selectedHeaders.push(this.updateSelectedHeaders(undefined, rln.level, type, false, name, aggregateType, rln.valueSort.levelName, children, vln + 1));\n                                        var aggregateHeaders = selectedHeaders[selectedHeaders.length - 1].aggregateHeaders;\n                                        aggregateHeaders.push(rln);\n                                    }\n                                    /* tslint:disable-next-line:max-line-length */\n                                    this.getAggregatedHeaderData(rln.members, name, undefined, true, type, aggregateType, selectedHeaders, vln, level + 1);\n                                }\n                                else {\n                                    if (!isChildren) {\n                                        /* tslint:disable-next-line:max-line-length */\n                                        selectedHeaders.push(this.updateSelectedHeaders(undefined, rln.level, type, false, name, aggregateType, rln.valueSort.levelName, [rln], vln + 1));\n                                    }\n                                }\n                            }\n                            else if (rln.members.length > 0) {\n                                /* tslint:disable-next-line:max-line-length */\n                                this.getAggregatedHeaderData(rln.members, name, undefined, false, type, aggregateType, selectedHeaders, vln, level);\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotEngine.prototype.updateSelectedHeaders = function (baseItem, level, type, isChildren, name, aggregateType, levelName, headers, vCount) {\n        var headerData = {\n            name: baseItem,\n            level: level,\n            axis: type,\n            isChild: isChildren,\n            value: name,\n            type: aggregateType,\n            uniqueName: levelName,\n            aggregateHeaders: headers,\n            childMembers: [],\n            valueCount: vCount\n        };\n        return headerData;\n    };\n    PivotEngine.prototype.applyAdvancedAggregate = function (rowheads, colheads, data) {\n        if (this.selectedHeaders.values.length > 0) {\n            var pivotIndex = {};\n            var colIndex = [];\n            var isIndexFilled = false;\n            for (var rlt = data.length, rln = 0; rln < rlt; rln++) {\n                if (data[rln] !== undefined && data[rln][0] !== undefined) {\n                    if (!isIndexFilled) {\n                        for (var clt = data[rln].length, cln = 0; cln < clt; cln++) {\n                            if (data[rln][cln].axis === 'value' &&\n                                this.selectedHeaders.values.indexOf(data[rln][cln].actualText) !== -1) {\n                                colIndex.push(cln);\n                                isIndexFilled = true;\n                            }\n                        }\n                    }\n                    if (colIndex.length > 0 && data[rln][colIndex[0]].axis === 'value' &&\n                        this.selectedHeaders.values.indexOf(data[rln][colIndex[0]].actualText) !== -1) {\n                        for (var _i = 0, colIndex_1 = colIndex; _i < colIndex_1.length; _i++) {\n                            var index = colIndex_1[_i];\n                            pivotIndex[rln + ',' + index] = [rln, index];\n                        }\n                    }\n                }\n            }\n            this.updateAggregates(rowheads, colheads, data, this.selectedHeaders.selectedHeader, colIndex, pivotIndex);\n            var indexCollection = Object.keys(pivotIndex);\n            for (var _a = 0, indexCollection_1 = indexCollection; _a < indexCollection_1.length; _a++) {\n                var index = indexCollection_1[_a];\n                var currentSet = data[pivotIndex[index][0]][pivotIndex[index][1]];\n                // currentSet.formattedText = '0';\n                currentSet.formattedText = (this.selectedHeaders.selectedHeader.length > 0 ? this.emptyCellTextContent : '#N/A');\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /* tslint:disable:all */\n    PivotEngine.prototype.updateAggregates = function (rowheads, colheads, data, selectedHeaders, colIndex, pivotIndex) {\n        for (var _i = 0, selectedHeaders_1 = selectedHeaders; _i < selectedHeaders_1.length; _i++) {\n            var headers = selectedHeaders_1[_i];\n            var selectedHeaderCollection = headers.aggregateHeaders;\n            var name_2 = headers.value;\n            var valueCount = (this.valueAxis && (this.isMutiMeasures || this.alwaysShowValueHeader) ? headers.valueCount : 0);\n            var aggregateType = headers.type;\n            var uniqueName = headers.uniqueName;\n            var axis = headers.axis;\n            var isRowBaseField = axis === 'row' ? true : false;\n            var activeValues = void 0;\n            var indexCollection = [];\n            var activeColumn = [];\n            var columnHeaders = [];\n            var rowindexCollection = [];\n            var selectedRowValues = [];\n            var selectedColumnValues = [];\n            if ((['DifferenceFrom', 'PercentageOfDifferenceFrom', 'PercentageOfParentRowTotal', 'PercentageOfParentColumnTotal', 'PercentageOfParentTotal', 'RunningTotals']).indexOf(headers.type) !== -1) {\n                if (isRowBaseField) {\n                    if (headers.type !== 'RunningTotals') {\n                        for (var rlt = rowheads.length, rln = 0; rln < rlt; rln++) {\n                            if (rowheads[rln] !== undefined) {\n                                if (rowheads[rln].valueSort[uniqueName]) {\n                                    activeValues = rowheads[rln];\n                                    selectedRowValues = data[rln + valueCount];\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var len_3 = data.length, i = 0; i < len_3; i++) {\n                        if (data[i] !== undefined && data[i][0] === undefined) {\n                            columnHeaders.push(data[i]);\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                    var len = columnHeaders.length;\n                    while (len--) {\n                        var axisObj = columnHeaders[len][colIndex[0]];\n                        var cLevelName = axisObj.actualText;\n                        if (this.selectedHeaders.values.indexOf(cLevelName) === -1) {\n                            activeColumn = columnHeaders[len];\n                            len = 0;\n                        }\n                    }\n                    if (headers.type !== 'RunningTotals') {\n                        for (var clt = activeColumn.length, cln = 0; cln < clt; cln++) {\n                            var isSelectedColumn = false;\n                            if (activeColumn[cln] !== undefined && activeColumn[cln].valueSort[uniqueName]) {\n                                activeValues = activeColumn[cln];\n                                for (var len_4 = data.length, i = 0; i < len_4; i++) {\n                                    var axisObj = data[i];\n                                    if (axisObj !== undefined && axisObj[0] !== undefined &&\n                                        axisObj[cln].axis === 'value' &&\n                                        this.selectedHeaders.values.indexOf(axisObj[cln].actualText) !== -1) {\n                                        isSelectedColumn = true;\n                                        selectedColumnValues[i] = axisObj[cln];\n                                        rowindexCollection.push(i);\n                                    }\n                                }\n                                if (isSelectedColumn) {\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            switch (headers.type) {\n                case 'DifferenceFrom':\n                case 'PercentageOfDifferenceFrom':\n                    {\n                        var isChildren = headers.isChild;\n                        if (isRowBaseField) {\n                            if (!isChildren) {\n                                for (var _a = 0, selectedHeaderCollection_1 = selectedHeaderCollection; _a < selectedHeaderCollection_1.length; _a++) {\n                                    var item = selectedHeaderCollection_1[_a];\n                                    for (var rlt = rowheads.length, rln = 0; rln < rlt; rln++) {\n                                        if (rowheads[rln] !== undefined) {\n                                            if (rowheads[rln].valueSort[item.valueSort.levelName] &&\n                                                rowheads[rln].level === activeValues.level && rowheads[rln].type !== 'grand sum') {\n                                                for (var _b = 0, colIndex_2 = colIndex; _b < colIndex_2.length; _b++) {\n                                                    var index = colIndex_2[_b];\n                                                    var currentSet = data[rln + valueCount][index];\n                                                    if (currentSet.axis === 'value' && currentSet.actualText === name_2) {\n                                                        indexCollection.push([rln + valueCount, index]);\n                                                        if (pivotIndex[rln + valueCount + ',' + index]) {\n                                                            delete pivotIndex[rln + valueCount + ',' + index];\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            else {\n                                var uniqueLevelName = uniqueName.split('.');\n                                for (var rlt = rowheads.length, rlen = 0; rlen < rlt; rlen++) {\n                                    if (rowheads[rlen] !== undefined) {\n                                        var levelName = rowheads[rlen].valueSort.levelName.toString().split('.');\n                                        if (levelName.indexOf(uniqueLevelName[uniqueLevelName.length - 1]) !== -1 &&\n                                            rowheads[rlen].level === activeValues.level) {\n                                            for (var _c = 0, colIndex_3 = colIndex; _c < colIndex_3.length; _c++) {\n                                                var index = colIndex_3[_c];\n                                                var currentSet = data[rlen + valueCount][index];\n                                                if (currentSet.axis === 'value' && currentSet.actualText === name_2) {\n                                                    indexCollection.push([rlen + valueCount, index]);\n                                                    if (pivotIndex[rlen + valueCount + ',' + index]) {\n                                                        delete pivotIndex[rlen + valueCount + ',' + index];\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            for (var _d = 0, indexCollection_2 = indexCollection; _d < indexCollection_2.length; _d++) {\n                                var index = indexCollection_2[_d];\n                                var currentSet = data[index[0]][index[1]];\n                                var cVal = currentSet.value - selectedRowValues[index[1]].value;\n                                cVal = isNaN(cVal) ? 0 : cVal;\n                                if (aggregateType === 'DifferenceFrom') {\n                                    currentSet.formattedText = cVal === 0 ? this.emptyCellTextContent : this.getFormattedValue(cVal, name_2).formattedText;\n                                }\n                                else {\n                                    cVal = (selectedRowValues[index[1]].value === 0 ?\n                                        0 : (cVal / selectedRowValues[index[1]].value));\n                                    currentSet.formattedText = (cVal !== 0 ? this.globalize.formatNumber(cVal, { format: 'P', maximumFractionDigits: 2 }) : this.emptyCellTextContent);\n                                }\n                            }\n                        }\n                        else {\n                            if (!isChildren) {\n                                for (var _e = 0, selectedHeaderCollection_2 = selectedHeaderCollection; _e < selectedHeaderCollection_2.length; _e++) {\n                                    var item = selectedHeaderCollection_2[_e];\n                                    for (var clt = activeColumn.length, cln = 0; cln < clt; cln++) {\n                                        var isSelectedColumn = false;\n                                        if (activeColumn[cln] !== undefined &&\n                                            activeColumn[cln].valueSort[item.valueSort.levelName] &&\n                                            activeColumn[cln].level === activeValues.level && activeColumn[cln].type !== 'grand sum') {\n                                            for (var _f = 0, rowindexCollection_1 = rowindexCollection; _f < rowindexCollection_1.length; _f++) {\n                                                var index = rowindexCollection_1[_f];\n                                                var currentSet = data[index][cln];\n                                                if (currentSet.axis === 'value' && currentSet.actualText === name_2) {\n                                                    isSelectedColumn = true;\n                                                    indexCollection.push([index, cln]);\n                                                    if (pivotIndex[index + ',' + cln]) {\n                                                        delete pivotIndex[index + ',' + cln];\n                                                    }\n                                                }\n                                            }\n                                            if (isSelectedColumn) {\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            else {\n                                var uniqueLevelName = uniqueName.split('.');\n                                for (var clt = activeColumn.length, clen = 0; clen < clt; clen++) {\n                                    var isSelectedColumn = false;\n                                    if (activeColumn[clen] !== undefined) {\n                                        var levelName = activeColumn[clen].valueSort.levelName.toString().split('.');\n                                        if (levelName.indexOf(uniqueLevelName[uniqueLevelName.length - 1]) !== -1 &&\n                                            activeColumn[clen].level === activeValues.level) {\n                                            for (var _g = 0, rowindexCollection_2 = rowindexCollection; _g < rowindexCollection_2.length; _g++) {\n                                                var index = rowindexCollection_2[_g];\n                                                var currentSet = data[index][clen];\n                                                if (currentSet.axis === 'value' && currentSet.actualText === name_2) {\n                                                    isSelectedColumn = true;\n                                                    indexCollection.push([index, clen]);\n                                                    if (pivotIndex[index + ',' + clen]) {\n                                                        delete pivotIndex[index + ',' + clen];\n                                                    }\n                                                }\n                                            }\n                                            if (isSelectedColumn) {\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            for (var _h = 0, indexCollection_3 = indexCollection; _h < indexCollection_3.length; _h++) {\n                                var index = indexCollection_3[_h];\n                                var currentSet = data[index[0]][index[1]];\n                                var cVal = currentSet.value - selectedColumnValues[index[0]].value;\n                                cVal = isNaN(cVal) ? 0 : cVal;\n                                if (aggregateType === 'DifferenceFrom') {\n                                    currentSet.formattedText = cVal === 0 ? this.emptyCellTextContent : this.getFormattedValue(cVal, name_2).formattedText;\n                                }\n                                else {\n                                    cVal = (selectedColumnValues[index[0]].value === 0 ?\n                                        0 : (cVal / selectedColumnValues[index[0]].value));\n                                    currentSet.formattedText = (cVal !== 0 ? this.globalize.formatNumber(cVal, { format: 'P', maximumFractionDigits: 2 }) : this.emptyCellTextContent);\n                                }\n                            }\n                        }\n                        if (headers.childMembers.length > 0) {\n                            this.updateAggregates(rowheads, colheads, data, headers.childMembers, colIndex, pivotIndex);\n                        }\n                    }\n                    break;\n                case 'PercentageOfParentRowTotal':\n                case 'PercentageOfParentColumnTotal':\n                case 'PercentageOfParentTotal':\n                    {\n                        if (isRowBaseField) {\n                            for (var _j = 0, selectedHeaderCollection_3 = selectedHeaderCollection; _j < selectedHeaderCollection_3.length; _j++) {\n                                var item = selectedHeaderCollection_3[_j];\n                                for (var rlt = rowheads.length, i = 0; i < rlt; i++) {\n                                    if (rowheads[i] !== undefined) {\n                                        if (rowheads[i].valueSort[item.valueSort.levelName] &&\n                                            rowheads[i].level === item.level) {\n                                            for (var _k = 0, colIndex_4 = colIndex; _k < colIndex_4.length; _k++) {\n                                                var index = colIndex_4[_k];\n                                                var currentSet = data[i + valueCount][index];\n                                                if (currentSet.axis === 'value' && currentSet.actualText === name_2) {\n                                                    indexCollection.push([i + valueCount, index]);\n                                                    if (pivotIndex[i + valueCount + ',' + index]) {\n                                                        delete pivotIndex[i + valueCount + ',' + index];\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            for (var _l = 0, indexCollection_4 = indexCollection; _l < indexCollection_4.length; _l++) {\n                                var i = indexCollection_4[_l];\n                                var currentSet = data[i[0]][i[1]];\n                                var cVal = currentSet.value / selectedRowValues[i[1]].value;\n                                cVal = isNaN(cVal) ? 0 : cVal;\n                                currentSet.formattedText = (cVal !== 0 ? this.globalize.formatNumber(cVal, { format: 'P', maximumFractionDigits: 2 }) : this.emptyCellTextContent);\n                            }\n                        }\n                        else {\n                            for (var _m = 0, selectedHeaderCollection_4 = selectedHeaderCollection; _m < selectedHeaderCollection_4.length; _m++) {\n                                var item = selectedHeaderCollection_4[_m];\n                                for (var clt = activeColumn.length, j = 0; j < clt; j++) {\n                                    var isSelectedColumn = false;\n                                    if (activeColumn[j] !== undefined &&\n                                        activeColumn[j].valueSort[item.valueSort.levelName]) {\n                                        for (var _o = 0, rowindexCollection_3 = rowindexCollection; _o < rowindexCollection_3.length; _o++) {\n                                            var index = rowindexCollection_3[_o];\n                                            var currentSet = data[index][j];\n                                            if (currentSet.axis === 'value' && currentSet.actualText === name_2) {\n                                                isSelectedColumn = true;\n                                                indexCollection.push([index, j]);\n                                                if (pivotIndex[index + ',' + j]) {\n                                                    delete pivotIndex[index + ',' + j];\n                                                }\n                                            }\n                                        }\n                                        if (isSelectedColumn) {\n                                            break;\n                                        }\n                                    }\n                                }\n                            }\n                            for (var _p = 0, indexCollection_5 = indexCollection; _p < indexCollection_5.length; _p++) {\n                                var i = indexCollection_5[_p];\n                                var currentSet = data[i[0]][i[1]];\n                                var val = currentSet.value / selectedColumnValues[i[0]].value;\n                                val = isNaN(val) ? 0 : val;\n                                currentSet.formattedText = (val !== 0 ? this.globalize.formatNumber(val, { format: 'P', maximumFractionDigits: 2 }) : this.emptyCellTextContent);\n                            }\n                        }\n                    }\n                    break;\n                case 'RunningTotals':\n                    {\n                        if (isRowBaseField) {\n                            for (var _q = 0, colIndex_5 = colIndex; _q < colIndex_5.length; _q++) {\n                                var index = colIndex_5[_q];\n                                var cVal = 0;\n                                for (var _r = 0, selectedHeaderCollection_5 = selectedHeaderCollection; _r < selectedHeaderCollection_5.length; _r++) {\n                                    var item = selectedHeaderCollection_5[_r];\n                                    for (var rlt = rowheads.length, rlen = 0; rlen < rlt; rlen++) {\n                                        if (rowheads[rlen] !== undefined) {\n                                            var currentSet = data[rlen + valueCount][index];\n                                            if (rowheads[rlen] !== undefined && rowheads[rlen].valueSort[item.valueSort.levelName] &&\n                                                rowheads[rlen].level === item.level && currentSet.axis === 'value' &&\n                                                currentSet.actualText === name_2) {\n                                                if (rowheads[rlen].type !== 'grand sum') {\n                                                    cVal += currentSet.value;\n                                                    currentSet.formattedText = this.getFormattedValue(cVal, name_2).formattedText;\n                                                }\n                                                if (pivotIndex[rlen + valueCount + ',' + index]) {\n                                                    delete pivotIndex[rlen + valueCount + ',' + index];\n                                                }\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        else {\n                            for (var rlt = rowheads.length, rln = 0; rln < rlt; rln++) {\n                                if (rowheads[rln] !== undefined) {\n                                    var cVal = 0;\n                                    for (var _s = 0, selectedHeaderCollection_6 = selectedHeaderCollection; _s < selectedHeaderCollection_6.length; _s++) {\n                                        var item = selectedHeaderCollection_6[_s];\n                                        for (var clt = activeColumn.length, cln = 0; cln < clt; cln++) {\n                                            var currentSet = data[rln + valueCount][cln];\n                                            if (activeColumn[cln] !== undefined &&\n                                                activeColumn[cln].valueSort[item.valueSort.levelName] &&\n                                                currentSet.axis === 'value' && currentSet.actualText === name_2) {\n                                                if (activeColumn[cln].type !== 'grand sum') {\n                                                    cVal += currentSet.value;\n                                                    currentSet.formattedText = this.getFormattedValue(cVal, name_2).formattedText;\n                                                }\n                                                if (pivotIndex[rln + valueCount + ',' + cln]) {\n                                                    delete pivotIndex[rln + valueCount + ',' + cln];\n                                                }\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /* tslint:enable:all */\n    PivotEngine.prototype.recursiveRowData = function (rows, reformAxis, columns, tnum, data, vlt, isLeastNode, rln, vln, rTotal, cTotal) {\n        if (!isLeastNode) {\n            this.getTableData(reformAxis[tnum - vln].members, reformAxis, columns, tnum, data, vlt, rTotal, cTotal);\n        }\n        if (!this.pageSettings) {\n            reformAxis[tnum - vln].members = [];\n        }\n    };\n    PivotEngine.prototype.updateRowData = function (rows, columns, tnum, data, vln, rln, cln, dln, actCnt, rTotal, cTotal) {\n        var mPos = this.fieldList[this.values[vln].name].index;\n        var aggregate = this.fieldList[this.values[vln].name].aggregateType;\n        var field = this.values[vln].name;\n        var gTotalIndex = [];\n        var totalValues = {};\n        var value = 0;\n        // let isLeast: boolean = isLeastNode && (vln === vlt - 1);\n        switch (aggregate) {\n            case 'Index':\n                {\n                    gTotalIndex = [[rows[rln], columns[cln]], [rows[rln], cTotal], [rTotal, columns[cln]], [rTotal, cTotal]];\n                    var valueContent = ['cVal', 'rTotalVal', 'cTotalVal', 'gTotalVal'];\n                    var i = 0;\n                    for (var _i = 0, gTotalIndex_1 = gTotalIndex; _i < gTotalIndex_1.length; _i++) {\n                        var rIndex = gTotalIndex_1[_i];\n                        totalValues[valueContent[i]] = this.getAggregateValue((rIndex[0]).index, (rIndex[1]).indexObject, mPos, aggregate);\n                        i++;\n                    }\n                    var val = ((totalValues.cVal) * (totalValues.gTotalVal)) / ((totalValues.rTotalVal) * (totalValues.cTotalVal));\n                    value = (rows[rln].members.length > 0 && ((!isNullOrUndefined(rows[rln].showSubTotals) && !rows[rln].showSubTotals) ||\n                        !this.showRowSubTotals || !this.showSubTotals)) ? undefined :\n                        (isNullOrUndefined(totalValues.cVal) ? totalValues.cVal : (isNaN(val) ? 0 : val));\n                }\n                break;\n            case 'PercentageOfGrandTotal':\n            case 'PercentageOfColumnTotal':\n            case 'PercentageOfRowTotal':\n                {\n                    gTotalIndex = [[rows[rln], columns[cln]]];\n                    gTotalIndex.push((aggregate === 'PercentageOfGrandTotal' ?\n                        [rTotal, cTotal] : (aggregate === 'PercentageOfColumnTotal' ? [rTotal, columns[cln]] : [rows[rln], cTotal])));\n                    var valueContent = ['cVal', 'gTotalVal'];\n                    var i = 0;\n                    for (var _a = 0, gTotalIndex_2 = gTotalIndex; _a < gTotalIndex_2.length; _a++) {\n                        var rIndex = gTotalIndex_2[_a];\n                        totalValues[valueContent[i]] = this.getAggregateValue((rIndex[0]).index, (rIndex[1]).indexObject, mPos, aggregate);\n                        i++;\n                    }\n                    var val = ((totalValues.cVal) / (totalValues.gTotalVal));\n                    value = (rows[rln].members.length > 0 && ((!isNullOrUndefined(rows[rln].showSubTotals) && !rows[rln].showSubTotals) ||\n                        !this.showSubTotals || !this.showRowSubTotals)) ? undefined :\n                        (isNullOrUndefined(totalValues.cVal) ? totalValues.cVal : (isNaN(val) ? 0 : val));\n                }\n                break;\n            default:\n                value = (rows[rln].members.length > 0 && ((!isNullOrUndefined(rows[rln].showSubTotals) && !rows[rln].showSubTotals) ||\n                    !this.showSubTotals || !this.showRowSubTotals)) ? undefined :\n                    this.getAggregateValue(rows[rln].index, columns[cln].indexObject, mPos, aggregate);\n                break;\n        }\n        var cellDetails = {\n            fieldName: this.values[vln].name,\n            row: rows[rln],\n            column: columns[cln],\n            value: value,\n            cellSets: this.getCellSet(this.rawIndexObject),\n            /* tslint:disable-next-line:max-line-length */\n            rowCellType: (rows[rln].hasChild && rows[rln].isDrilled ? 'subTotal' : rows[rln].type === 'grand sum' ? 'grandTotal' : 'value'),\n            /* tslint:disable-next-line:max-line-length */\n            columnCellType: (columns[cln].hasChild && columns[cln].isDrilled ? 'subTotal' : columns[cln].type === 'grand sum' ? 'grandTotal' : 'value'),\n            aggregateType: aggregate,\n            skipFormatting: false\n        };\n        if (this.getValueCellInfo) {\n            this.getValueCellInfo(cellDetails);\n        }\n        value = cellDetails.value;\n        var isSum = rows[rln].hasChild || columns[cln].hasChild ||\n            rows[rln].type === 'grand sum' || columns[cln].type === 'grand sum';\n        var subTotal = (rows[rln].members.length > 0 && ((!isNullOrUndefined(rows[rln].showSubTotals) &&\n            !rows[rln].showSubTotals) || !this.showSubTotals || !this.showRowSubTotals));\n        var formattedText = subTotal ?\n            '' : (value === undefined) ? this.emptyCellTextContent :\n            aggregate === 'Count' ? value.toLocaleString() : this.getFormattedValue(value, field).formattedText;\n        if (!isNaN(value) && !isNullOrUndefined(value) &&\n            (['PercentageOfGrandTotal', 'PercentageOfColumnTotal', 'PercentageOfRowTotal']).indexOf(aggregate) >= 0) {\n            formattedText = this.globalize.formatNumber(value, { format: 'P', maximumFractionDigits: 2 });\n        }\n        else if (!subTotal &&\n            isNaN(value) && !isNullOrUndefined(value) &&\n            (['PopulationStDev', 'SampleStDev', 'PopulationVar', 'SampleVar']).indexOf(aggregate) !== -1) {\n            formattedText = '#DIV/0!';\n        }\n        //dln = data[tnum].length;\n        /* tslint:disable-next-line:max-line-length */\n        formattedText = (cellDetails.skipFormatting ? isNullOrUndefined(value) ? this.emptyCellTextContent : value.toString() : formattedText);\n        data[tnum][dln] = this.valueContent[actCnt][dln] = {\n            axis: 'value', actualText: field, indexObject: this.isDrillThrough ? this.rawIndexObject : {},\n            rowHeaders: rows[rln].type === 'grand sum' ? '' : rows[rln].valueSort.levelName,\n            columnHeaders: columns[cln].type === 'grand sum' ? '' : columns[cln].valueSort.levelName,\n            formattedText: formattedText, value: isNullOrUndefined(value) ? 0 : value, rowIndex: tnum, colIndex: dln, isSum: isSum\n        };\n        this.rawIndexObject = {};\n    };\n    PivotEngine.prototype.getCellSet = function (rawIndexObject) {\n        var currentCellSets = [];\n        var keys = Object.keys(rawIndexObject);\n        for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n            var index = keys_3[_i];\n            if (this.data[parseInt(index, 10)]) {\n                currentCellSets.push(this.data[parseInt(index, 10)]);\n            }\n        }\n        return currentCellSets;\n    };\n    PivotEngine.prototype.getHeaderData = function (axis, reformAxis, data, tnum, vcnt) {\n        var rlt = axis.length;\n        var colItmLn = this.columns.length;\n        var sortText = this.valueSortSettings.headerText;\n        //let valueLn: number = this.values.length;\n        for (var rln = 0; rln < rlt; rln++) {\n            if (axis[rln].members.length) {\n                this.getHeaderData(axis[rln].members, reformAxis, data, tnum, vcnt);\n            }\n            var isTotalHide = true;\n            if ((!isNullOrUndefined(axis[rln].showSubTotals) && !axis[rln].showSubTotals) ||\n                !this.showSubTotals || !this.showColumnSubTotals) {\n                if (!(axis[rln].members.length > 0)) {\n                    reformAxis[reformAxis.length] = this.frameHeaderWithKeys(axis[rln]);\n                }\n                else {\n                    this.removeCount++;\n                    isTotalHide = false;\n                }\n                tnum = reformAxis.length - 1;\n            }\n            else {\n                tnum = reformAxis.length;\n                reformAxis[tnum] = this.frameHeaderWithKeys(axis[rln]);\n            }\n            //  let rplus: number = rln + 1;\n            var lvl = axis[rln].level;\n            axis[rln].rowIndex = lvl;\n            axis[rln].colIndex = (tnum * vcnt) + vcnt;\n            if (!data[lvl]) {\n                data[lvl] = [];\n                this.headerContent[lvl] = {};\n                data[lvl][(tnum * vcnt) + vcnt] = this.headerContent[lvl][(tnum * vcnt) + vcnt] = this.frameHeaderWithKeys(axis[rln]);\n            }\n            else {\n                data[lvl][(tnum * vcnt) + vcnt] = this.headerContent[lvl][(tnum * vcnt) + vcnt] = this.frameHeaderWithKeys(axis[rln]);\n            }\n            var isSingleMeasure = (this.columns.length === 0 && this.values.length === 1) ? true : false;\n            if ((this.isMutiMeasures || this.alwaysShowValueHeader || isSingleMeasure) && !this.valueAxis && isTotalHide) {\n                for (var vln = 0; vln < vcnt; vln++) {\n                    var name_3 = this.values[vln].caption ? this.values[vln].caption : this.values[vln].name;\n                    var calObj = {\n                        axis: 'column',\n                        actualText: this.values[vln].name,\n                        formattedText: name_3,\n                        level: 0,\n                        valueSort: {},\n                        colIndex: (tnum * vcnt) + 1 + vln,\n                        rowIndex: colItmLn\n                    };\n                    if (!data[colItmLn]) {\n                        data[colItmLn] = [];\n                        this.headerContent[colItmLn] = {};\n                        data[colItmLn][(tnum * vcnt) + 1 + vln] = this.headerContent[colItmLn][(tnum * vcnt) + 1 + vln] = calObj;\n                    }\n                    else {\n                        data[colItmLn][(tnum * vcnt) + 1 + vln] = this.headerContent[colItmLn][(tnum * vcnt) + 1 + vln] = calObj;\n                    }\n                    var vData = data[colItmLn][(tnum * vcnt) + 1 + vln].valueSort;\n                    vData[axis[rln].valueSort.levelName + this.valueSortSettings.headerDelimiter + name_3] = 1;\n                    vData.levelName = axis[rln].valueSort.levelName + this.valueSortSettings.headerDelimiter + name_3;\n                    if (vData && vData[sortText]) {\n                        this.valueSortSettings.columnIndex = (tnum * vcnt) + 1 + vln;\n                    }\n                }\n            }\n            else if (axis[rln].valueSort && axis[rln].valueSort[sortText]) {\n                this.valueSortSettings.columnIndex = (tnum * vcnt) + 1;\n            }\n            if (!this.pageSettings) {\n                reformAxis[tnum].members = [];\n            }\n        }\n    };\n    /* tslint:disable */\n    PivotEngine.prototype.getAggregateValue = function (rowIndex, columnIndex, value, type) {\n        //rowIndex = rowIndex.sort();\n        //columnIndex = columnIndex.sort();\n        var rlt = rowIndex.length;\n        //let clt: number = columnIndex.length;\n        var mirror = {};\n        var ri = 0;\n        var ci = 0;\n        var cellValue = 0;\n        var avgCnt = 0;\n        var isInit = true;\n        var isValueExist = false;\n        if (type && type.toLowerCase() === 'count') {\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined) {\n                    isValueExist = true;\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    cellValue += (isNullOrUndefined(this.valueMatrix[rowIndex[ri]][value]) ? 0 : 1);\n                }\n                ri++;\n            }\n        }\n        else if (type && type.toLowerCase() === 'distinctcount') {\n            var duplicateValues = [];\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined) {\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    isValueExist = true;\n                    var currentVal = this.valueMatrix[rowIndex[ri]][value];\n                    if (!isNullOrUndefined(currentVal)) {\n                        if (duplicateValues.length === 0 || (duplicateValues.length > 0 && duplicateValues.indexOf(currentVal) === -1)) {\n                            cellValue += 1;\n                            duplicateValues.push(currentVal);\n                        }\n                    }\n                }\n                ri++;\n            }\n        }\n        else if (type && type.toLowerCase() === 'product') {\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined) {\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    isValueExist = true;\n                    var currentVal = this.valueMatrix[rowIndex[ri]][value];\n                    if (!isNullOrUndefined(currentVal)) {\n                        cellValue = ((isInit || isNullOrUndefined(cellValue)) ? 1 : cellValue);\n                        cellValue *= currentVal;\n                    }\n                    else if (isInit) {\n                        cellValue = currentVal;\n                    }\n                    isInit = false;\n                }\n                ri++;\n            }\n        }\n        else if (type && (['populationstdev', 'samplestdev', 'populationvar', 'samplevar']).indexOf(type.toLowerCase()) !== -1) {\n            var i = 0;\n            var val = 0;\n            var indexVal = [];\n            var avgVal = 0;\n            var cVal = 0;\n            var avgDifferenceVal = 0;\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined) {\n                    isValueExist = true;\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    var currentVal = this.valueMatrix[rowIndex[ri]][value];\n                    if (!isNullOrUndefined(currentVal)) {\n                        val += currentVal;\n                        indexVal.push(currentVal);\n                        i++;\n                    }\n                }\n                ri++;\n            }\n            if (i > 0) {\n                avgVal = val / i;\n                for (var _i = 0, indexVal_1 = indexVal; _i < indexVal_1.length; _i++) {\n                    var index = indexVal_1[_i];\n                    avgDifferenceVal += Math.pow((index - avgVal), 2);\n                }\n                if ((['populationstdev', 'samplestdev']).indexOf(type.toLowerCase()) !== -1) {\n                    cVal = Math.sqrt(avgDifferenceVal / (type.toLowerCase() === 'populationstdev' ? i : (i - 1)));\n                }\n                else {\n                    cVal = avgDifferenceVal / (type.toLowerCase() === 'populationvar' ? i : (i - 1));\n                }\n                cellValue = (cVal === 0 ? NaN : cVal);\n            }\n            else {\n                cellValue = val;\n            }\n        }\n        else if (type && type.toLowerCase() === 'min') {\n            var isFirst = true;\n            cellValue = undefined;\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined && this.valueMatrix[rowIndex[ri]][value] !== undefined) {\n                    isValueExist = true;\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    if (isNullOrUndefined(cellValue) && isNullOrUndefined(this.valueMatrix[rowIndex[ri]][value])) {\n                        cellValue = this.valueMatrix[rowIndex[ri]][value];\n                    }\n                    else {\n                        if (isFirst) {\n                            cellValue = this.valueMatrix[rowIndex[ri]][value];\n                            isFirst = false;\n                        }\n                        else {\n                            cellValue = this.valueMatrix[rowIndex[ri]][value] < cellValue ? this.valueMatrix[rowIndex[ri]][value] : cellValue;\n                        }\n                    }\n                }\n                ri++;\n            }\n        }\n        else if (type && type.toLowerCase() === 'max') {\n            var isMaxFirst = true;\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined && this.valueMatrix[rowIndex[ri]][value] !== undefined) {\n                    isValueExist = true;\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    if (isMaxFirst) {\n                        cellValue = this.valueMatrix[rowIndex[ri]][value];\n                        isMaxFirst = false;\n                    }\n                    else {\n                        cellValue = this.valueMatrix[rowIndex[ri]][value] > cellValue ? this.valueMatrix[rowIndex[ri]][value] : cellValue;\n                    }\n                }\n                ri++;\n            }\n        }\n        else if (type && type.toLowerCase() === 'calculatedfield') {\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined) {\n                    isValueExist = true;\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    var calcField = this.calculatedFields[this.fields[value]];\n                    var actualFormula = calcField.formula;\n                    var aggregateField = {};\n                    if (this.calculatedFormulas[calcField.name]) {\n                        var calculatedFormulas = this.calculatedFormulas[calcField.name];\n                        for (var len = 0, lmt = calculatedFormulas.length; len < lmt; len++) {\n                            var aggregatedValue = calculatedFormulas[len];\n                            var value_1 = aggregateField[aggregatedValue.formula];\n                            if (value_1 === undefined) {\n                                var type_1 = aggregatedValue.type;\n                                value_1 = this.getAggregateValue(rowIndex, columnIndex, aggregatedValue.index, type_1);\n                                aggregateField[aggregatedValue.formula] = value_1;\n                            }\n                            actualFormula = (actualFormula).replace(aggregatedValue.formula, String(value_1));\n                        }\n                    }\n                    /* tslint:disable */\n                    cellValue = this.evaluate(actualFormula);\n                    (cellValue === Infinity ? Infinity : (cellValue === undefined || isNaN(cellValue)) ? undefined : JSON.parse(String(cellValue)));\n                    /* tslint:enable */\n                }\n                ri++;\n            }\n        }\n        else {\n            cellValue = undefined;\n            while (rowIndex[ri] !== undefined) {\n                if (columnIndex[rowIndex[ri]] !== undefined) {\n                    isValueExist = true;\n                    this.rawIndexObject[rowIndex[ri]] = rowIndex[ri];\n                    //let cIndx: number = isLeastLevel ? columnIndex.splice(columnIndex.indexOf(rowIndex[ri]), 1)[0] : rowIndex[ri];\n                    var currentVal = this.valueMatrix[rowIndex[ri]][value];\n                    if (isNullOrUndefined(cellValue) && isNullOrUndefined(currentVal)) {\n                        cellValue = currentVal;\n                    }\n                    else {\n                        if (isNullOrUndefined(cellValue)) {\n                            cellValue = 0;\n                        }\n                        cellValue += (isNullOrUndefined(currentVal) ? 0 : currentVal);\n                    }\n                    if (!isNullOrUndefined(currentVal)) {\n                        avgCnt++;\n                    }\n                }\n                ri++;\n            }\n        }\n        /* if (rlt > clt) {\n             this.makeMirrorObject(rowIndex, mirror);\n             while (columnIndex[ci] !== undefined) {\n                 if (mirror[columnIndex[ci]]) {\n                     let cIndx: number = isLeastLevel ? columnIndex.splice(ci, 1)[0] : columnIndex[ci];\n                     //rowIndex.splice\n                     sum += this.valueMatrix[cIndx][value];\n                 }\n                 ci++;\n             }\n         } else {\n             this.makeMirrorObject(columnIndex, mirror);\n             while (rowIndex[ri] !== undefined) {\n                 if (mirror[rowIndex[ri]]) {\n                     let cIndx: number = isLeastLevel ? columnIndex.splice(columnIndex.indexOf(rowIndex[ri]), 1)[0] : rowIndex[ri];\n                     sum += this.valueMatrix[rowIndex[ri]][value];\n                 }\n                 ri++;\n             }\n         } */\n        return ((type && type.toLowerCase() === 'avg' && cellValue !== 0 &&\n            !isNullOrUndefined(cellValue)) ? (cellValue / avgCnt) : isValueExist ? cellValue : undefined);\n    };\n    PivotEngine.prototype.evaluate = function (obj) {\n        return Function('\"use strict\";return (' + obj + ')')();\n    };\n    ;\n    /* tslint:enable */\n    /** hidden */\n    PivotEngine.prototype.getFormattedValue = function (value, fieldName) {\n        var commonValue = value === null ? (this.localeObj ? this.localeObj.getConstant('null') :\n            String(value)) : value === undefined ?\n            (this.localeObj ? (fieldName in this.groupingFields) ? this.localeObj.getConstant('groupOutOfRange') :\n                this.localeObj.getConstant('undefined') : String(value)) : value;\n        var formattedValue = {\n            formattedText: commonValue.toString(),\n            actualText: commonValue,\n            dateText: commonValue\n        };\n        if (this.formatFields[fieldName] && value) {\n            var formatField = (this.formatFields[fieldName].properties ?\n                this.formatFields[fieldName].properties : this.formatFields[fieldName]);\n            var formatSetting = extend({}, formatField, null, true);\n            delete formatSetting.name;\n            if (!formatSetting.minimumSignificantDigits && formatSetting.minimumSignificantDigits < 1) {\n                delete formatSetting.minimumSignificantDigits;\n            }\n            if (!formatSetting.maximumSignificantDigits && formatSetting.maximumSignificantDigits < 1) {\n                delete formatSetting.maximumSignificantDigits;\n            }\n            if (formatSetting.type) {\n                formattedValue.formattedText = this.dateFormatFunction[fieldName].exactFormat(new Date(value));\n            }\n            else {\n                delete formatSetting.type;\n                if ((formatSetting.format) && !(this.formatRegex.test(formatSetting.format))) {\n                    var pattern = formatSetting.format.match(this.customRegex);\n                    var integerPart = pattern[6];\n                    formatSetting.useGrouping = integerPart.indexOf(',') !== -1;\n                }\n                formattedValue.formattedText = this.globalize.formatNumber(value, formatSetting);\n            }\n            formattedValue.actualText = value;\n            if (this.fieldList[fieldName].sort !== 'None' && formatSetting.type &&\n                ['date', 'dateTime', 'time'].indexOf(this.formatFields[fieldName].type) > -1) {\n                formattedValue.dateText = this.dateFormatFunction[fieldName].fullFormat(new Date(value));\n            }\n        }\n        return formattedValue;\n    };\n    PivotEngine.prototype.powerFunction = function (formula) {\n        if (formula.indexOf('^') > -1) {\n            var items_1 = [];\n            while (formula.indexOf('(') > -1) {\n                formula = formula.replace(/(\\([^\\(\\)]*\\))/g, function (text, item) {\n                    items_1.push(item);\n                    return ('~' + (items_1.length - 1));\n                });\n            }\n            items_1.push(formula);\n            formula = '~' + (items_1.length - 1);\n            while (formula.indexOf('~') > -1) {\n                formula = formula.replace(new RegExp('~' + '(\\\\d+)', 'g'), function (text, index) {\n                    return items_1[index].replace(/(\\w*)\\^(\\w*)/g, 'Math.pow' + '($1,$2)');\n                });\n            }\n        }\n        return formula;\n    };\n    return PivotEngine;\n}());\nexport { PivotEngine };\n","/**\n * Specifies pivot external events\n * @hidden\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var enginePopulating = 'enginePopulating';\n/** @hidden */\nexport var enginePopulated = 'enginePopulated';\n/** @hidden */\nexport var onFieldDropped = 'onFieldDropped';\n/** @hidden */\nexport var beforePivotTableRender = 'beforePivotTableRender';\n/** @hidden */\nexport var afterPivotTableRender = 'afterPivotTableRender';\n/** @hidden */\nexport var beforeExport = 'beforeExport';\n/** @hidden */\nexport var excelHeaderQueryCellInfo = 'excelHeaderQueryCellInfo';\n/** @hidden */\nexport var pdfHeaderQueryCellInfo = 'pdfHeaderQueryCellInfo';\n/** @hidden */\nexport var excelQueryCellInfo = 'excelQueryCellInfo';\n/** @hidden */\nexport var pdfQueryCellInfo = 'pdfQueryCellInfo';\n/** @hidden */\nexport var onPdfCellRender = 'onPdfCellRender';\n/** @hidden */\nexport var dataBound = 'dataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var headerCellInfo = 'headerCellInfo';\n/** @hidden */\nexport var hyperlinkCellClick = 'hyperlinkCellClick';\n/** @hidden */\nexport var resizing = 'resizing';\n/** @hidden */\nexport var resizeStop = 'resizeStop';\n/** @hidden */\nexport var cellClick = 'cellClick';\n/** @hidden */\nexport var drillThrough = 'drillThrough';\n/** @hidden */\nexport var beforeColumnsRender = 'beforeColumnsRender';\n/** @hidden */\nexport var selected = 'selected';\n/** @hidden */\nexport var cellSelecting = 'cellSelecting';\n/** @hidden */\nexport var drill = 'drill';\n/** @hidden */\nexport var cellSelected = 'cellSelected';\n/** @hidden */\nexport var cellDeselected = 'cellDeselected';\n/** @hidden */\nexport var rowSelected = 'rowSelected';\n/** @hidden */\nexport var rowDeselected = 'rowDeselected';\n/** @hidden */\nexport var beginDrillThrough = 'beginDrillThrough';\n/** @hidden */\nexport var saveReport = 'saveReport';\n/** @hidden */\nexport var fetchReport = 'fetchReport';\n/** @hidden */\nexport var loadReport = 'loadReport';\n/** @hidden */\nexport var renameReport = 'renameReport';\n/** @hidden */\nexport var removeReport = 'removeReport';\n/** @hidden */\nexport var newReport = 'newReport';\n/** @hidden */\nexport var toolbarRender = 'toolbarRender';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var chartTooltipRender = 'chartTooltipRender';\n/** @hidden */\nexport var chartLoaded = 'chartLoaded';\n/** @hidden */\nexport var chartLoad = 'chartLoad';\n/** @hidden */\nexport var chartResized = 'chartResized';\n/** @hidden */\nexport var chartAxisLabelRender = 'chartAxisLabelRender';\n/** @hidden */\nexport var chartSeriesCreated = 'chartSeriesCreated';\n/** @hidden */\nexport var aggregateCellInfo = 'aggregateCellInfo';\n/** @hidden */\nexport var contextMenuClick = 'contextMenuClick';\n/** @hidden */\nexport var contextMenuOpen = 'contextMenuOpen';\n/** @hidden */\nexport var fieldListRefreshed = 'fieldListRefreshed';\n/** @hidden */\nexport var conditionalFormatting = 'conditionalFormatting';\n/**\n * Specifies pivot internal events\n */\n/** @hidden */\nexport var initialLoad = 'initial-load';\n/** @hidden */\nexport var uiUpdate = 'ui-update';\n/** @hidden */\nexport var scroll = 'scroll';\n/** @hidden */\nexport var contentReady = 'content-ready';\n/** @hidden */\nexport var dataReady = 'data-ready';\n/** @hidden */\nexport var initSubComponent = 'init-groupingbar';\n/** @hidden */\nexport var treeViewUpdate = 'tree-view-update';\n/** @hidden */\nexport var pivotButtonUpdate = 'pivot-button-update';\n/** @hidden */\nexport var initCalculatedField = 'init-calculatedfield';\n/** @hidden */\nexport var click = 'click';\n/** @hidden */\nexport var initToolbar = 'init-toolbar';\n/** @hidden */\nexport var initFormatting = 'init-formatting';\n","/**\n * CSS Constants\n * @hidden\n */\n/** @hidden */\nexport var ROOT = 'e-pivotfieldlist';\n/** @hidden */\nexport var RTL = 'e-rtl';\n/** @hidden */\nexport var PIVOTCHART_LTR = 'e-ltr';\n/** @hidden */\nexport var DEVICE = 'e-device';\n/** @hidden */\nexport var ICON = 'e-icons';\n/** @hidden */\nexport var ICON_DISABLE = 'e-disable';\n/** @hidden */\nexport var ICON_HIDDEN = 'e-hide';\n/** @hidden */\nexport var AXISFIELD_ICON_CLASS = 'e-dropdown-icon';\n/** @hidden */\nexport var WRAPPER_CLASS = 'e-pivotfieldlist-wrapper';\n/** @hidden */\nexport var OLAP_WRAPPER_CLASS = 'e-olapfieldlist-wrapper';\n/** @hidden */\nexport var CONTAINER_CLASS = 'e-field-list-container';\n/** @hidden */\nexport var TOGGLE_FIELD_LIST_CLASS = 'e-toggle-field-list';\n/** @hidden */\nexport var STATIC_FIELD_LIST_CLASS = 'e-static';\n/** @hidden */\nexport var TOGGLE_SELECT_CLASS = 'e-select-table';\n/** @hidden */\nexport var FIELD_TABLE_CLASS = 'e-field-table';\n/** @hidden */\nexport var OLAP_FIELD_TABLE_CLASS = 'e-olap-field-table';\n/** @hidden */\nexport var FIELD_LIST_CLASS = 'e-field-list';\n/** @hidden */\nexport var OLAP_FIELD_LIST_CLASS = 'e-olap-field-list-tree';\n/** @hidden */\nexport var FIELD_LIST_TREE_CLASS = 'e-field-list-tree';\n/** @hidden */\nexport var FIELD_HEADER_CLASS = 'e-field-header';\n/** @hidden */\nexport var FIELD_LIST_TITLE_CLASS = 'e-field-list-title';\n/** @hidden */\nexport var FIELD_LIST_TITLE_CONTENT_CLASS = 'e-title-content';\n/** @hidden */\nexport var FIELD_LIST_FOOTER_CLASS = 'e-field-list-footer';\n/** @hidden */\nexport var CALCULATED_FIELD_CLASS = 'e-calculated-field';\n/** @hidden */\nexport var FLAT_CLASS = 'e-flat e-primary';\n/** @hidden */\nexport var OUTLINE_CLASS = 'e-outline';\n/** @hidden */\nexport var AXIS_TABLE_CLASS = 'e-axis-table';\n/** @hidden */\nexport var OLAP_AXIS_TABLE_CLASS = 'e-olap-axis-table';\n/** @hidden */\nexport var LEFT_AXIS_PANEL_CLASS = 'e-left-axis-fields';\n/** @hidden */\nexport var RIGHT_AXIS_PANEL_CLASS = 'e-right-axis-fields';\n/** @hidden */\nexport var AXIS_HEADER_CLASS = 'e-axis-header';\n/** @hidden */\nexport var AXIS_CONTENT_CLASS = 'e-axis-content';\n/** @hidden */\nexport var AXIS_PROMPT_CLASS = 'e-draggable-prompt';\n/** @hidden */\nexport var PIVOT_BUTTON_WRAPPER_CLASS = 'e-pvt-btn-div';\n/** @hidden */\nexport var PIVOT_BUTTON_CLASS = 'e-pivot-button';\n/** @hidden */\nexport var PIVOT_BUTTON_CONTENT_CLASS = 'e-content';\n/** @hidden */\nexport var DRAG_CLONE_CLASS = 'e-button-drag-clone';\n/** @hidden */\nexport var SORT_CLASS = 'e-sort';\n/** @hidden */\nexport var SORT_DESCEND_CLASS = 'e-descend';\n/** @hidden */\nexport var FILTER_COMMON_CLASS = 'e-btn-filter';\n/** @hidden */\nexport var FILTER_CLASS = 'e-pv-filter';\n/** @hidden */\nexport var FILTERED_CLASS = 'e-pv-filtered';\n/** @hidden */\nexport var REMOVE_CLASS = 'e-remove';\n/** @hidden */\nexport var DRAG_CLASS = 'e-drag';\n/** @hidden */\nexport var DROP_INDICATOR_CLASS = 'e-drop-indicator';\n/** @hidden */\nexport var INDICATOR_HOVER_CLASS = 'e-drop-hover';\n/** @hidden */\nexport var MEMBER_EDITOR_DIALOG_CLASS = 'e-member-editor-dialog';\n/** @hidden */\nexport var EDITOR_TREE_WRAPPER_CLASS = 'e-member-editor-wrapper';\n/** @hidden */\nexport var EDITOR_TREE_CONTAINER_CLASS = 'e-member-editor-container';\n/** @hidden */\nexport var DRILLTHROUGH_GRID_CLASS = 'e-drillthrough-grid';\n/** @hidden */\nexport var DRILLTHROUGH_BODY_CLASS = 'e-drillthrough-body';\n/** @hidden */\nexport var DRILLTHROUGH_BODY_HEADER_CONTAINER_CLASS = 'e-drillthrough-body-header-container';\n/** @hidden */\nexport var DRILLTHROUGH_BODY_HEADER_CLASS = 'e-drillthrough-body-header';\n/** @hidden */\nexport var DRILLTHROUGH_BODY_HEADER_COMMON_CLASS = 'e-drillthrough-body-header-common';\n/** @hidden */\nexport var DRILLTHROUGH_BODY_HEADER_VALUE_CLASS = 'e-drillthrough-body-header-value';\n/** @hidden */\nexport var DRILLTHROUGH_DIALOG = 'e-drillthrough-dialog';\n/** @hidden */\nexport var EDITOR_LABEL_WRAPPER_CLASS = 'e-editor-label-wrapper';\n/** @hidden */\nexport var EDITOR_LABEL_CLASS = 'e-editor-label';\n/** @hidden */\nexport var CHECK_BOX_FRAME_CLASS = 'e-frame';\n/** @hidden */\nexport var NODE_CHECK_CLASS = 'e-check';\n/** @hidden */\nexport var NODE_STOP_CLASS = 'e-stop';\n/** @hidden */\nexport var OK_BUTTON_CLASS = 'e-ok-btn';\n/** @hidden */\nexport var CANCEL_BUTTON_CLASS = 'e-cancel-btn';\n/** @hidden */\nexport var ERROR_DIALOG_CLASS = 'e-pivot-error-dialog';\n/** @hidden */\nexport var DROPPABLE_CLASS = 'e-droppable';\n/** @hidden */\nexport var ROW_AXIS_CLASS = 'e-rows';\n/** @hidden */\nexport var COLUMN_AXIS_CLASS = 'e-columns';\n/** @hidden */\nexport var VALUE_AXIS_CLASS = 'e-values';\n/** @hidden */\nexport var FILTER_AXIS_CLASS = 'e-filters';\n/** @hidden */\nexport var GROUPING_BAR_CLASS = 'e-grouping-bar';\n/** @hidden */\nexport var VALUE_COLUMN_CLASS = 'e-value-column';\n/** @hidden */\nexport var GROUP_ROW_CLASS = 'e-group-rows';\n/** @hidden */\nexport var GROUP_COLUMN_CLASS = 'e-group-columns';\n/** @hidden */\nexport var GROUP_FLEX_CLASS = 'e-group-flex';\n/** @hidden */\nexport var GROUP_VALUE_CLASS = 'e-group-values';\n/** @hidden */\nexport var GROUP_FILTER_CLASS = 'e-group-filters';\n/** @hidden */\nexport var DIALOG_CLOSE_ICON_CLASS = 'e-icon-btn';\n/** @hidden */\nexport var NO_DRAG_CLASS = 'e-drag-restrict';\n/** @hidden */\nexport var SELECTED_NODE_CLASS = 'e-list-selected';\n/** @hidden */\nexport var TITLE_HEADER_CLASS = 'e-title-header';\n/** @hidden */\nexport var TITLE_CONTENT_CLASS = 'e-title-content';\n/** @hidden */\nexport var TEXT_CONTENT_CLASS = 'e-text-content';\n/** @hidden */\nexport var FOOTER_CONTENT_CLASS = 'e-footer-content';\n/** @hidden */\nexport var ADAPTIVE_CONTAINER_CLASS = 'e-adaptive-container';\n/** @hidden */\nexport var ADAPTIVE_FIELD_LIST_BUTTON_CLASS = 'e-field-list-btn';\n/** @hidden */\nexport var ADAPTIVE_CALCULATED_FIELD_BUTTON_CLASS = 'e-calculated-field-btn';\n/** @hidden */\nexport var BUTTON_SMALL_CLASS = 'e-small';\n/** @hidden */\nexport var BUTTON_ROUND_CLASS = 'e-round';\n/** @hidden */\nexport var ADD_ICON_CLASS = 'e-add-icon';\n/** @hidden */\nexport var BUTTON_FLAT_CLASS = 'e-flat';\n/** @hidden */\nexport var STATIC_CENTER_DIV_CLASS = 'e-center-div';\n/** @hidden */\nexport var STATIC_CENTER_HEADER_CLASS = 'e-center-title';\n/** @hidden */\nexport var ADAPTIVE_FIELD_LIST_DIALOG_CLASS = 'e-adaptive-field-list-dialog';\n/** @hidden */\nexport var LIST_TEXT_CLASS = 'e-list-text';\n/** @hidden */\nexport var LIST_SELECT_CLASS = 'e-selected-node';\n/** @hidden */\nexport var LIST_FRAME_CLASS = 'e-frame';\n/** @hidden */\nexport var EXCEL_FILTER_ICON_CLASS = 'e-excl-filter-icon';\n/** @hidden */\nexport var SELECTED_MENU_ICON_CLASS = 'e-selected-menu-icon';\n/** @hidden */\nexport var EMPTY_ICON_CLASS = 'e-emptyicon';\n/** @hidden */\nexport var SUB_MENU_CLASS = 'e-submenu';\n/** @hidden */\nexport var FOCUSED_CLASS = 'e-focused';\n/** @hidden */\nexport var SELECTED_CLASS = 'e-selected';\n/** @hidden */\nexport var MENU_ITEM_CLASS = 'e-menu-item';\n/** @hidden */\nexport var FILTER_MENU_OPTIONS_CLASS = 'e-filtermenu-options';\n/** @hidden */\nexport var SELECTED_OPTION_ICON_CLASS = 'e-selected-option-icon';\n/** @hidden */\nexport var SELECTED_LEVEL_ICON_CLASS = 'e-selected-level-icon';\n/** @hidden */\nexport var FILTER_DIV_CONTENT_CLASS = 'e-filter-div-content';\n/** @hidden */\nexport var FILTER_TEXT_DIV_CLASS = 'e-filter-text-div';\n/** @hidden */\nexport var BETWEEN_TEXT_DIV_CLASS = 'e-between-text-div';\n/** @hidden */\nexport var SEPARATOR_DIV_CLASS = 'e-separator-div';\n/** @hidden */\nexport var FILTER_OPTION_WRAPPER_1_CLASS = 'e-filter-option-wrapper-1';\n/** @hidden */\nexport var FILTER_OPTION_WRAPPER_2_CLASS = 'e-filter-option-wrapper-2';\n/** @hidden */\nexport var FILTER_INPUT_DIV_1_CLASS = 'e-filter-input-div-1';\n/** @hidden */\nexport var FILTER_INPUT_DIV_2_CLASS = 'e-filter-input-div-2';\n/** @hidden */\nexport var VALUE_OPTIONS_CLASS = 'e-value-options';\n/** @hidden */\nexport var LEVEL_OPTIONS_CLASS = 'e-level-options';\n/** @hidden */\nexport var FILTER_OPERATOR_CLASS = 'e-filter-operator';\n/** @hidden */\nexport var COLLAPSE = 'e-collapse';\n/** @hidden */\nexport var EXPAND = 'e-expand';\n/** @hidden */\nexport var TABLE = 'e-table';\n/** @hidden */\nexport var BODY = 'e-body';\n/** @hidden */\nexport var PIVOTBODY = 'e-pivotbody';\n/** @hidden */\nexport var COLUMNSHEADER = 'e-columnsheader';\n/** @hidden */\nexport var ROWSHEADER = 'e-rowsheader';\n/** @hidden */\nexport var VALUESCONTENT = 'e-valuescontent';\n/** @hidden */\nexport var VALUECELL = 'e-valuecell';\n/** @hidden */\nexport var PIVOTHEADER = 'e-pivotheader';\n/** @hidden */\nexport var PGHEADERS = 'e-pgheaders';\n/** @hidden */\nexport var TOPHEADER = 'e-topheader';\n/** @hidden */\nexport var HEADERCELL = 'e-headercell';\n/** @hidden */\nexport var SUMMARY = 'e-summary';\n/** @hidden */\nexport var CELLVALUE = 'e-cellvalue';\n/** @hidden */\nexport var ROW = 'e-row';\n/** @hidden */\nexport var PIVOTTOOLTIP = 'e-pivottooltip';\n/** @hidden */\nexport var TOOLTIP_HEADER = 'e-tooltipheader';\n/** @hidden */\nexport var TOOLTIP_CONTENT = 'e-tooltipcontent';\n/** @hidden */\nexport var NEXTSPAN = 'e-nextspan';\n/** @hidden */\nexport var LASTSPAN = 'e-lastspan';\n/** @hidden */\nexport var EDITOR_SEARCH_WRAPPER_CLASS = 'e-editor-search-wrapper';\n/** @hidden */\nexport var EDITOR_SEARCH_CLASS = 'e-editor-search';\n/** @hidden */\nexport var SELECT_ALL_WRAPPER_CLASS = 'e-select-all-wrapper';\n/** @hidden */\nexport var SELECT_ALL_CLASS = 'e-select-all';\n/** @hidden */\nexport var PIVOTCALC = 'e-pivot-calc';\n/** @hidden */\nexport var CALCDIALOG = 'e-pivot-calc-dialog-div';\n/** @hidden */\nexport var OLAP_CALCDIALOG = 'e-olap-calc-dialog-div';\n/** @hidden */\nexport var CALCRADIO = 'e-pivot-calc-radio';\n/** @hidden */\nexport var CALCCHECK = 'e-pivot-calc-check';\n/** @hidden */\nexport var CALCINPUT = 'e-pivot-calc-input';\n/** @hidden */\nexport var CALC_FORMAT_INPUT = 'e-custom-format-input';\n/** @hidden */\nexport var CALCINPUTDIV = 'e-pivot-calc-input-div';\n/** @hidden */\nexport var CALC_CUSTOM_FORMAT_INPUTDIV = 'e-olap-calc-custom-format-div';\n/** @hidden */\nexport var CALC_HIERARCHY_LIST_DIV = 'e-olap-calc-hierarchy-list-div';\n/** @hidden */\nexport var CALC_FORMAT_TYPE_DIV = 'e-olap-calc-format-type-div';\n/** @hidden */\nexport var CALC_MEMBER_TYPE_DIV = 'e-olap-calc-member-type-div';\n/** @hidden */\nexport var MEMBER_OPTIONS_CLASS = 'e-member-options';\n/** @hidden */\nexport var HIERARCHY_OPTIONS_CLASS = 'e-hierarchy-options';\n/** @hidden */\nexport var FORMAT_OPTIONS_CLASS = 'e-format-options';\n/** @hidden */\nexport var FORMAT_INPUT_CLASS = 'e-format-input-options';\n/** @hidden */\nexport var CALCOUTERDIV = 'e-pivot-calc-outer-div';\n/** @hidden */\nexport var OLAP_CALCOUTERDIV = 'e-olap-calc-outer-div';\n/** @hidden */\nexport var FLAT = 'e-flat';\n/** @hidden */\nexport var FORMAT = 'e-format';\n/** @hidden */\nexport var FORMULA = 'e-pivot-formula';\n/** @hidden */\nexport var TREEVIEW = 'e-pivot-treeview';\n/** @hidden */\nexport var TREEVIEWOUTER = 'e-pivot-treeview-outer';\n/** @hidden */\nexport var CALCCANCELBTN = 'e-pivot-cancel-button';\n/** @hidden */\nexport var CALCADDBTN = 'e-pivot-add-button';\n/** @hidden */\nexport var CALCOKBTN = 'e-pivot-ok-button';\n/** @hidden */\nexport var CALCACCORD = 'e-pivot-accord';\n/** @hidden */\nexport var CALCBUTTONDIV = 'e-pivot-button-div';\n/** @hidden */\nexport var AXIS_ICON_CLASS = 'e-axis';\n/** @hidden */\nexport var AXIS_ROW_CLASS = 'e-axis-row';\n/** @hidden */\nexport var AXIS_COLUMN_CLASS = 'e-axis-column';\n/** @hidden */\nexport var AXIS_VALUE_CLASS = 'e-axis-value';\n/** @hidden */\nexport var AXIS_FILTER_CLASS = 'e-axis-filter';\n/** @hidden */\nexport var AXIS_NAVIGATE_WRAPPER_CLASS = 'e-axis-nav-div';\n/** @hidden */\nexport var LEFT_NAVIGATE_WRAPPER_CLASS = 'e-left-nav-wrapper';\n/** @hidden */\nexport var RIGHT_NAVIGATE_WRAPPER_CLASS = 'e-right-nav-wrapper';\n/** @hidden */\nexport var LEFT_NAVIGATE_CLASS = 'e-left-nav-icon';\n/** @hidden */\nexport var RIGHT_NAVIGATE_CLASS = 'e-right-nav-icon';\n/** @hidden */\nexport var GRID_CLASS = 'e-grid';\n/** @hidden */\nexport var PIVOT_VIEW_CLASS = 'e-pivotview';\n/** @hidden */\nexport var PIVOT_ALL_FIELD_TITLE_CLASS = 'e-pivot-all-field-title';\n/** @hidden */\nexport var PIVOT_FIELD_TITLE_CLASS = 'e-pivot-field-name-title';\n/** @hidden */\nexport var PIVOT_FORMULA_TITLE_CLASS = 'e-pivot-formula-title';\n/** @hidden */\nexport var OLAP_HIERARCHY_TITLE_CLASS = 'e-olap-hierarchy-title';\n/** @hidden */\nexport var OLAP_FORMAT_TITLE_CLASS = 'e-olap-format-title';\n/** @hidden */\nexport var OLAP_MEMBER_TITLE_CLASS = 'e-olap-member-title';\n/** @hidden */\nexport var PIVOT_CONTEXT_MENU_CLASS = 'e-pivot-context-menu';\n/** @hidden */\nexport var MENU_DISABLE = 'e-disabled';\n/** @hidden */\nexport var MENU_HIDE = 'e-menu-hide';\n/** @hidden */\nexport var EMPTY_MEMBER_CLASS = 'e-member-prompt';\n/** @hidden */\nexport var CALC_EDIT = 'e-edit';\n/** @hidden */\nexport var CALC_EDITED = 'e-edited';\n/** @hidden */\nexport var CALC_INFO = 'e-info';\n/** @hidden */\nexport var EMPTY_FIELD = 'e-empty-field';\n/** @hidden */\nexport var FORMAT_DIALOG = 'e-pivot-formatting-dialog';\n/** @hidden */\nexport var FORMAT_CONDITION_BUTTON = 'e-format-condition-button';\n/** @hidden */\nexport var FORMAT_NEW = 'e-new-format';\n/** @hidden */\nexport var FORMAT_OUTER = 'e-format-outer-div';\n/** @hidden */\nexport var FORMAT_INNER = 'e-format-inner-div';\n/** @hidden */\nexport var FORMAT_TABLE = 'e-format-table';\n/** @hidden */\nexport var FORMAT_VALUE_LABEL = 'e-format-value-label';\n/** @hidden */\nexport var FORMAT_LABEL = 'e-format-label';\n/** @hidden */\nexport var INPUT = 'e-input';\n/** @hidden */\nexport var FORMAT_VALUE1 = 'e-format-value1';\n/** @hidden */\nexport var FORMAT_VALUE2 = 'e-format-value2';\n/** @hidden */\nexport var FORMAT_VALUE_SPAN = 'e-format-value-span';\n/** @hidden */\nexport var FORMAT_FONT_COLOR = 'e-format-font-color';\n/** @hidden */\nexport var FORMAT_BACK_COLOR = 'e-format-back-color';\n/** @hidden */\nexport var FORMAT_VALUE_PREVIEW = 'e-format-value-preview';\n/** @hidden */\nexport var FORMAT_COLOR_PICKER = 'e-format-color-picker';\n/** @hidden */\nexport var FORMAT_DELETE_ICON = 'e-format-delete-icon';\n/** @hidden */\nexport var FORMAT_DELETE_BUTTON = 'e-format-delete-button';\n/** @hidden */\nexport var SELECTED_COLOR = 'e-selected-color';\n/** @hidden */\nexport var DIALOG_HEADER = 'e-dlg-header';\n/** @hidden */\nexport var FORMAT_APPLY_BUTTON = 'e-format-apply-button';\n/** @hidden */\nexport var FORMAT_CANCEL_BUTTON = 'e-format-cancel-button';\n/** @hidden */\nexport var FORMAT_ROUND_BUTTON = 'e-small e-round';\n/** @hidden */\nexport var VIRTUALTRACK_DIV = 'e-virtualtrack';\n/** @hidden */\nexport var MOVABLECONTENT_DIV = 'e-movablecontent';\n/** @hidden */\nexport var FROZENCONTENT_DIV = 'e-frozencontent';\n/** @hidden */\nexport var MOVABLEHEADER_DIV = 'e-movableheader';\n/** @hidden */\nexport var FROZENHEADER_DIV = 'e-frozenheader';\n/** @hidden */\nexport var DEFER_APPLY_BUTTON = 'e-defer-apply-button';\n/** @hidden */\nexport var DEFER_CANCEL_BUTTON = 'e-defer-cancel-button';\n/** @hidden */\nexport var LAYOUT_FOOTER = 'e-layout-footer';\n/** @hidden */\nexport var CELL_SELECTED_BGCOLOR = 'e-cellselectionbackground';\n/** @hidden */\nexport var SELECTED_BGCOLOR = 'e-selectionbackground';\n/** @hidden */\nexport var BUTTON_LAYOUT = 'e-button-layout';\n/** @hidden */\nexport var CHECKBOX_LAYOUT = 'e-checkbox-layout';\n/** @hidden */\nexport var DEFER_UPDATE_BUTTON = 'e-defer-update-btn';\n/** @hidden */\nexport var HEADERCONTENT = 'e-headercontent';\n/** @hidden */\nexport var BACK_ICON = 'e-field-list-back-icon';\n/** @hidden */\nexport var TITLE_MOBILE_HEADER = 'e-title-mobile-header';\n/** @hidden */\nexport var TITLE_MOBILE_CONTENT = 'e-title-mobile-content';\n/** @hidden */\nexport var ROW_CELL_CLASS = 'e-rowcell';\n/** @hidden */\nexport var CELL_ACTIVE_BGCOLOR = 'e-active';\n/** @hidden */\nexport var SPAN_CLICKED = 'e-spanclicked';\n/** @hidden */\nexport var ROW_SELECT = 'e-rowselect';\n/** @hidden */\nexport var GRID_HEADER = 'e-gridheader';\n/** @hidden */\nexport var GRID_CONTENT = 'e-gridcontent';\n/** @hidden */\nexport var GRID_EXPORT = 'e-export';\n/** @hidden */\nexport var PIVOTVIEW_EXPORT = 'e-pivotview-export';\n/** @hidden */\nexport var PIVOTVIEW_GRID = 'e-pivotview-grid';\n/** @hidden */\nexport var PIVOTVIEW_EXPAND = 'e-pivotview-expand';\n/** @hidden */\nexport var PIVOTVIEW_COLLAPSE = 'e-pivotview-collapse';\n/** @hidden */\nexport var GRID_PDF_EXPORT = 'e-pivotview-pdf-export';\n/** @hidden */\nexport var GRID_EXCEL_EXPORT = 'e-pivotview-excel-export';\n/** @hidden */\nexport var GRID_CSV_EXPORT = 'e-pivotview-csv-export';\n/** @hidden */\nexport var GRID_PNG_EXPORT = 'e-pivotview-png-export';\n/** @hidden */\nexport var GRID_JPEG_EXPORT = 'e-pivotview-jpeg-export';\n/** @hidden */\nexport var GRID_SVG_EXPORT = 'e-pivotview-svg-export';\n/** @hidden */\nexport var GRID_LOAD = 'e-load-report';\n/** @hidden */\nexport var GRID_NEW = 'e-new-report';\n/** @hidden */\nexport var GRID_RENAME = 'e-rename-report';\n/** @hidden */\nexport var GRID_REMOVE = 'e-remove-report';\n/** @hidden */\nexport var GRID_SAVEAS = 'e-saveas-report';\n/** @hidden */\nexport var GRID_SAVE = 'e-save-report';\n/** @hidden */\nexport var GRID_SUB_TOTAL = 'e-sub-total';\n/** @hidden */\nexport var GRID_GRAND_TOTAL = 'e-grand-total';\n/** @hidden */\nexport var GRID_FORMATTING = 'e-toolbar-formatting';\n/** @hidden */\nexport var GRID_TOOLBAR = 'e-pivot-toolbar';\n/** @hidden */\nexport var GRID_REPORT_LABEL = 'e-pivotview-report-label';\n/** @hidden */\nexport var GRID_REPORT_INPUT = 'e-pivotview-report-input';\n/** @hidden */\nexport var GRID_REPORT_OUTER = 'e-report-outer';\n/** @hidden */\nexport var GRID_REPORT_DIALOG = 'e-pivotview-report-dialog';\n/** @hidden */\nexport var TOOLBAR_FIELDLIST = 'e-toolbar-fieldlist';\n/** @hidden */\nexport var TOOLBAR_GRID = 'e-toolbar-grid';\n/** @hidden */\nexport var TOOLBAR_CHART = 'e-toolbar-chart';\n/** @hidden */\nexport var REPORT_LIST_DROP = 'e-reportlist-drop';\n/** @hidden */\nexport var PIVOTCHART = 'e-pivotchart';\n/** @hidden */\nexport var GROUP_CHART_ROW = 'e-group-chart-rows';\n/** @hidden */\nexport var GROUP_CHART_COLUMN = 'e-group-chart-columns';\n/** @hidden */\nexport var GROUP_CHART_VALUE = 'e-group-chart-values';\n/** @hidden */\nexport var GROUP_CHART_MULTI_VALUE = 'e-group-chart-multi-values';\n/** @hidden */\nexport var GROUP_CHART_FILTER = 'e-group-chart-filters';\n/** @hidden */\nexport var GROUP_CHART_VALUE_DROPDOWN_DIV = 'e-group-chart-values-drodown-div';\n/** @hidden */\nexport var GROUP_CHART_VALUE_DROPDOWN = 'e-group-chart-values-drodown';\n/** @hidden */\nexport var CHART_GROUPING_BAR_CLASS = 'e-chart-grouping-bar';\n/** @hidden */\nexport var PIVOT_DISABLE_ICON = 'e-pivotview-disable-icon';\n/** @hidden */\nexport var PIVOT_SELECT_ICON = 'e-pivotview-select-icon';\n/** @hidden */\nexport var VALUESHEADER = 'e-valuesheader';\n/** @hidden */\nexport var ICON_ASC = 'e-icon-ascending';\n/** @hidden */\nexport var ICON_DESC = 'e-icon-descending';\n/** @hidden */\nexport var GRID_GROUPING_BAR_CLASS = 'e-pivot-grouping-bar';\n/** @hidden */\nexport var MDX_QUERY = 'e-mdx-query';\n/** @hidden */\nexport var MDX_QUERY_CONTENT = 'e-mdx-query-content';\n/** @hidden */\nexport var GRID_MDX_DIALOG = 'e-pivotview-mdx-dialog';\n/** @hidden */\nexport var GRID_MDX = 'e-mdx';\n/** @hidden */\nexport var FORMATTING_DIALOG = 'e-pivot-format-dialog';\n/** @hidden */\nexport var FORMATTING_DIALOG_OUTER = 'e-pivot-format-dialog-outer';\n/** @hidden */\nexport var FORMATTING_VALUE_LABLE = 'e-pivot-format-value-lable';\n/** @hidden */\nexport var FORMATTING_VALUE_DROP = 'e-pivot-format-value-drop';\n/** @hidden */\nexport var FORMATTING_FORMAT_LABLE = 'e-pivot-format-lable';\n/** @hidden */\nexport var FORMATTING_FORMAT_DROP = 'e-pivot-format-drop';\n/** @hidden */\nexport var FORMATTING_CUSTOM_LABLE = 'e-pivot-format-custom-lable';\n/** @hidden */\nexport var FORMATTING_CUSTOM_TEXT = 'e-pivot-format-custom-text';\n/** @hidden */\nexport var FORMATTING_SYMBOL_LABLE = 'e-pivot-format-symbol-lable';\n/** @hidden */\nexport var FORMATTING_SYMBOL_DROP = 'e-pivot-format-symbol-drop';\n/** @hidden */\nexport var FORMATTING_GROUPING_LABLE = 'e-pivot-format-grouping-lable';\n/** @hidden */\nexport var FORMATTING_GROUPING_DROP = 'e-pivot-format-grouping-drop';\n/** @hidden */\nexport var FORMATTING_DECIMAL_LABLE = 'e-pivot-format-decimal-lable';\n/** @hidden */\nexport var FORMATTING_DECIMAL_DROP = 'e-pivot-format-decimal-drop';\n/** @hidden */\nexport var FORMATTING_TOOLBAR = 'e-pivot-format-toolbar';\n/** @hidden */\nexport var FORMATTING_TABLE = 'e-pivot-format-table';\n/** @hidden */\nexport var FORMATTING_MENU = 'e-pivot-format-menu';\n/** @hidden */\nexport var NUMBER_FORMATTING_MENU = 'e-pivot-number-format-menu';\n/** @hidden */\nexport var CONDITIONAL_FORMATTING_MENU = 'e-pivot-conditional-format-menu';\n","import { createElement, remove, extend, getInstance } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MaskedTextBox } from '@syncfusion/ej2-inputs';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as events from '../../common/base/constant';\n/**\n * `AggregateMenu` module to create aggregate type popup.\n */\n/** @hidden */\nvar AggregateMenu = /** @class */ (function () {\n    /**\n     * Constructor for the rener action.\n     * @hidden\n     */\n    function AggregateMenu(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Initialize the pivot table rendering\n     * @returns void\n     * @private\n     */\n    AggregateMenu.prototype.render = function (args, parentElement) {\n        this.parentElement = parentElement;\n        this.openContextMenu(args);\n    };\n    AggregateMenu.prototype.openContextMenu = function (args) {\n        if (this.menuInfo === undefined) {\n            this.createContextMenu();\n        }\n        this.currentMenu = args.currentTarget;\n        var pos = this.currentMenu.getBoundingClientRect();\n        if (this.parent.enableRtl) {\n            this.menuInfo.open(pos.top, pos.left - 105);\n        }\n        else {\n            this.menuInfo.open(pos.top, pos.left);\n        }\n    };\n    AggregateMenu.prototype.createContextMenu = function () {\n        var menuItems = [\n            { text: this.parent.localeObj.getConstant('Sum'), id: this.parent.element.id + '_Sum' },\n            { text: this.parent.localeObj.getConstant('Count'), id: this.parent.element.id + '_Count' },\n            { text: this.parent.localeObj.getConstant('DistinctCount'), id: this.parent.element.id + '_DistinctCount' },\n            { text: this.parent.localeObj.getConstant('Product'), id: this.parent.element.id + '_Product' },\n            { text: this.parent.localeObj.getConstant('Avg'), id: this.parent.element.id + '_Avg' },\n            { text: this.parent.localeObj.getConstant('Min'), id: this.parent.element.id + '_Min' },\n            { text: this.parent.localeObj.getConstant('Max'), id: this.parent.element.id + '_Max' },\n            { text: this.parent.localeObj.getConstant('MoreOption'), id: this.parent.element.id + '_MoreOption' }\n        ];\n        var menuOptions = {\n            items: menuItems,\n            enableRtl: this.parent.enableRtl,\n            beforeOpen: this.beforeMenuOpen.bind(this),\n            select: this.selectOptionInContextMenu.bind(this)\n        };\n        var removeContextMenu = document.getElementById(this.parent.element.id + 'valueFieldContextMenu');\n        if (removeContextMenu !== null) {\n            removeContextMenu.innerHTML = '';\n        }\n        var contextMenu = createElement('ul', {\n            id: this.parent.element.id + 'valueFieldContextMenu'\n        });\n        this.parent.element.appendChild(contextMenu);\n        this.menuInfo = new Menu(menuOptions);\n        this.menuInfo.isStringTemplate = true;\n        this.menuInfo.appendTo(contextMenu);\n    };\n    AggregateMenu.prototype.beforeMenuOpen = function (args) {\n        args.element.style.zIndex = (this.menuInfo.element.style.zIndex + 3).toString();\n        args.element.style.display = 'inline';\n    };\n    /** @hidden */\n    AggregateMenu.prototype.createValueSettingsDialog = function (target, parentElement) {\n        var _this = this;\n        this.parentElement = parentElement;\n        var valueDialog = createElement('div', {\n            id: this.parentElement.id + '_ValueDialog',\n            className: 'e-value-field-settings',\n            attrs: { 'data-field': target.id }\n        });\n        this.parentElement.appendChild(valueDialog);\n        this.valueDialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            header: this.parent.localeObj.getConstant('valueFieldSettings'),\n            content: this.createFieldOptions(target),\n            isModal: true,\n            visible: true,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.updateValueSettings.bind(this),\n                    buttonModel: { cssClass: cls.OK_BUTTON_CLASS, content: this.parent.localeObj.getConstant('ok'), isPrimary: true }\n                },\n                {\n                    click: function () { _this.valueDialog.hide(); },\n                    buttonModel: { cssClass: cls.CANCEL_BUTTON_CLASS, content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            closeOnEscape: true,\n            target: this.parentElement,\n            overlayClick: function () { _this.removeDialog(); },\n            close: this.removeDialog.bind(this)\n        });\n        this.valueDialog.isStringTemplate = true;\n        this.valueDialog.appendTo(valueDialog);\n        // this.valueDialog.element.querySelector('.e-dlg-header').innerHTML = this.parent.localeObj.getConstant('valueFieldSettings');\n    };\n    /* tslint:disable:all */\n    AggregateMenu.prototype.createFieldOptions = function (buttonElement) {\n        var fieldCaption = buttonElement.getAttribute('data-caption');\n        var summaryType = buttonElement.getAttribute('data-type');\n        var baseField = buttonElement.getAttribute('data-basefield');\n        var baseItem = buttonElement.getAttribute('data-baseitem');\n        summaryType = (summaryType.toString() !== 'undefined' ? summaryType : 'Sum');\n        var summaryDataSource = [\n            { value: 'Sum', text: this.parent.localeObj.getConstant('Sum') },\n            { value: 'Count', text: this.parent.localeObj.getConstant('Count') },\n            { value: 'DistinctCount', text: this.parent.localeObj.getConstant('DistinctCount') },\n            { value: 'Product', text: this.parent.localeObj.getConstant('Product') },\n            { value: 'Avg', text: this.parent.localeObj.getConstant('Avg') },\n            { value: 'Min', text: this.parent.localeObj.getConstant('Min') },\n            { value: 'Max', text: this.parent.localeObj.getConstant('Max') },\n            { value: 'Index', text: this.parent.localeObj.getConstant('Index') },\n            { value: 'SampleStDev', text: this.parent.localeObj.getConstant('SampleStDev') },\n            { value: 'PopulationStDev', text: this.parent.localeObj.getConstant('PopulationStDev') },\n            { value: 'SampleVar', text: this.parent.localeObj.getConstant('SampleVar') },\n            { value: 'PopulationVar', text: this.parent.localeObj.getConstant('PopulationVar') },\n            { value: 'RunningTotals', text: this.parent.localeObj.getConstant('RunningTotals') },\n            { value: 'DifferenceFrom', text: this.parent.localeObj.getConstant('DifferenceFrom') },\n            { value: 'PercentageOfDifferenceFrom', text: this.parent.localeObj.getConstant('PercentageOfDifferenceFrom') },\n            { value: 'PercentageOfGrandTotal', text: this.parent.localeObj.getConstant('PercentageOfGrandTotal') },\n            { value: 'PercentageOfColumnTotal', text: this.parent.localeObj.getConstant('PercentageOfColumnTotal') },\n            { value: 'PercentageOfRowTotal', text: this.parent.localeObj.getConstant('PercentageOfRowTotal') },\n            { value: 'PercentageOfParentTotal', text: this.parent.localeObj.getConstant('PercentageOfParentTotal') },\n            { value: 'PercentageOfParentColumnTotal', text: this.parent.localeObj.getConstant('PercentageOfParentColumnTotal') },\n            { value: 'PercentageOfParentRowTotal', text: this.parent.localeObj.getConstant('PercentageOfParentRowTotal') }\n        ];\n        var baseItemTypes = ['DifferenceFrom', 'PercentageOfDifferenceFrom'];\n        var baseFieldTypes = ['DifferenceFrom', 'PercentageOfDifferenceFrom', 'PercentageOfParentTotal'];\n        var dataFields = extend([], this.parent.dataSourceSettings.rows, null, true);\n        dataFields = dataFields.concat(this.parent.dataSourceSettings.columns);\n        var fieldDataSource = [];\n        var fieldItemDataSource = [];\n        // let summaryDataSource: { [key: string]: Object }[] = [];\n        // for (let type of summaryTypes) {\n        //     summaryDataSource.push({ value: type, text: type });\n        // }\n        for (var _i = 0, dataFields_1 = dataFields; _i < dataFields_1.length; _i++) {\n            var field = dataFields_1[_i];\n            var value = field.name;\n            var text = (field.caption ? field.caption : field.name);\n            fieldDataSource.push({ value: value, text: text });\n        }\n        baseField = (baseField && baseField.toString() !== 'undefined' && 'null' ? baseField : fieldDataSource[0].value);\n        fieldItemDataSource = Object.keys(this.parent.engineModule.fieldList[(baseField.toString() !== 'undefined' ?\n            baseField : fieldDataSource[0].value)].formattedMembers);\n        baseItem = (baseItem.toString() !== 'undefined' ? baseItem : fieldItemDataSource[0]);\n        var mainDiv = createElement('div', {\n            className: 'e-value-field-div-content', id: this.parentElement.id + '_field_div_content',\n            attrs: { 'data-type': summaryType, 'data-caption': fieldCaption, 'data-basefield': baseField, 'data-baseitem': baseItem }\n        });\n        var textWrappper = createElement('div', { className: 'e-field-name-text-wrapper', });\n        var filterWrapperDiv1 = createElement('div', { className: 'e-field-option-wrapper' });\n        var optionWrapperDiv1 = createElement('div', { className: 'e-type-option-wrapper' });\n        var optionWrapperDiv2 = createElement('div', { className: 'e-base-field-option-wrapper' });\n        var optionWrapperDiv3 = createElement('div', { className: 'e-base-item-option-wrapper' });\n        var texttitle = createElement('div', { className: 'e-field-name-title', innerHTML: this.parent.localeObj.getConstant('sourceName') + '&nbsp;' });\n        var textContent = createElement('div', { className: 'e-field-name-content', innerHTML: buttonElement.id.toString() });\n        var inputTextDiv1 = createElement('div', {\n            className: 'e-type-option-text', innerHTML: this.parent.localeObj.getConstant('sourceCaption')\n        });\n        var optionTextDiv1 = createElement('div', {\n            className: 'e-base-field-option-text', innerHTML: this.parent.localeObj.getConstant('summarizeValuesBy')\n        });\n        var optionTextDiv2 = createElement('div', {\n            className: 'e-base-item-option-text', innerHTML: this.parent.localeObj.getConstant('baseField')\n        });\n        var optionTextDiv3 = createElement('div', {\n            className: 'e-type-option-text', innerHTML: this.parent.localeObj.getConstant('baseItem')\n        });\n        var inputDiv1 = createElement('div', { className: 'e-caption-input-wrapper' });\n        var dropOptionDiv1 = createElement('div', { id: this.parentElement.id + '_type_option' });\n        var dropOptionDiv2 = createElement('div', { id: this.parentElement.id + '_base_field_option' });\n        var dropOptionDiv3 = createElement('div', { id: this.parentElement.id + '_base_item_option' });\n        var inputField1 = createElement('input', {\n            id: this.parentElement.id + 'type_input_option',\n            className: 'e-caption-input-text',\n            attrs: { 'type': 'text' }\n        });\n        textWrappper.appendChild(texttitle);\n        textWrappper.appendChild(textContent);\n        inputDiv1.appendChild(inputTextDiv1);\n        inputDiv1.appendChild(inputField1);\n        optionWrapperDiv1.appendChild(optionTextDiv1);\n        optionWrapperDiv2.appendChild(optionTextDiv2);\n        optionWrapperDiv3.appendChild(optionTextDiv3);\n        optionWrapperDiv1.appendChild(dropOptionDiv1);\n        optionWrapperDiv2.appendChild(dropOptionDiv2);\n        optionWrapperDiv3.appendChild(dropOptionDiv3);\n        filterWrapperDiv1.appendChild(textWrappper);\n        filterWrapperDiv1.appendChild(inputDiv1);\n        filterWrapperDiv1.appendChild(optionWrapperDiv1);\n        filterWrapperDiv1.appendChild(optionWrapperDiv2);\n        filterWrapperDiv1.appendChild(optionWrapperDiv3);\n        mainDiv.appendChild(filterWrapperDiv1);\n        var popupInstance = this;\n        var optionWrapper1 = new DropDownList({\n            dataSource: summaryDataSource, enableRtl: this.parent.enableRtl,\n            fields: { value: 'value', text: 'text' },\n            value: summaryType,\n            // popupWidth: 'auto',\n            cssClass: cls.VALUE_OPTIONS_CLASS, width: '100%',\n            change: function (args) {\n                optionWrapper2.enabled = baseFieldTypes.indexOf(args.value) !== -1 ? true : false;\n                optionWrapper3.enabled = baseItemTypes.indexOf(args.value) !== -1 ? true : false;\n                if (optionWrapper3.enabled && optionWrapper3.dataSource.length === 1) {\n                    optionWrapper3.dataSource = fieldItemDataSource;\n                    optionWrapper3.refresh();\n                }\n            }\n        });\n        optionWrapper1.isStringTemplate = true;\n        optionWrapper1.appendTo(dropOptionDiv1);\n        var optionWrapper2 = new DropDownList({\n            dataSource: fieldDataSource, enableRtl: this.parent.enableRtl,\n            fields: { value: 'value', text: 'text' },\n            value: baseField,\n            // popupWidth: 'auto',\n            enabled: (baseFieldTypes.indexOf(summaryType) !== -1 ? true : false),\n            cssClass: cls.VALUE_OPTIONS_CLASS, width: '100%',\n            change: function (args) {\n                fieldItemDataSource = Object.keys(popupInstance.parent.engineModule.fieldList[args.value].formattedMembers);\n                optionWrapper3.dataSource = fieldItemDataSource;\n                optionWrapper3.value = fieldItemDataSource[0];\n                optionWrapper3.filterBarPlaceholder = popupInstance.parent.localeObj.getConstant('example') + ' ' + fieldItemDataSource[0];\n                optionWrapper3.refresh();\n            }\n        });\n        optionWrapper2.isStringTemplate = true;\n        optionWrapper2.appendTo(dropOptionDiv2);\n        var optionWrapper3 = new DropDownList({\n            dataSource: [fieldItemDataSource[0]], enableRtl: this.parent.enableRtl,\n            value: baseItem,\n            // popupWidth: 'auto',\n            allowFiltering: true,\n            filterBarPlaceholder: this.parent.localeObj.getConstant('example') + ' ' + fieldItemDataSource[0],\n            enabled: (baseItemTypes.indexOf(summaryType) !== -1 ? true : false),\n            cssClass: cls.FILTER_OPERATOR_CLASS, width: '100%',\n        });\n        optionWrapper3.isStringTemplate = true;\n        optionWrapper3.appendTo(dropOptionDiv3);\n        var inputObj1 = new MaskedTextBox({\n            placeholder: 'Enter field caption',\n            // floatLabelType: 'Auto',\n            enableRtl: this.parent.enableRtl,\n            value: fieldCaption, width: '100%'\n        });\n        inputObj1.isStringTemplate = true;\n        inputObj1.appendTo(inputField1);\n        return mainDiv;\n    };\n    /* tslint:enable:all */\n    AggregateMenu.prototype.selectOptionInContextMenu = function (menu) {\n        if (menu.item.text !== null) {\n            var buttonElement = this.currentMenu.parentElement;\n            var type = menu.item.id.split(this.parent.element.id + '_')[1];\n            if (type === 'MoreOption') {\n                this.createValueSettingsDialog(buttonElement, this.parentElement);\n            }\n            else {\n                var field = buttonElement.getAttribute('data-uid');\n                var valuefields = this.parent.dataSourceSettings.values;\n                var contentElement = buttonElement.querySelector('.e-content');\n                var captionName = menu.item.text + ' ' + 'of' + ' ' + this.parent.engineModule.fieldList[field].caption;\n                contentElement.innerHTML = captionName;\n                contentElement.setAttribute('title', captionName);\n                buttonElement.setAttribute('data-type', type);\n                for (var vCnt = 0; vCnt < this.parent.dataSourceSettings.values.length; vCnt++) {\n                    if (this.parent.dataSourceSettings.values[vCnt].name === field) {\n                        /* tslint:disable:align */\n                        var dataSourceItem = extend({}, valuefields[vCnt].properties ?\n                            valuefields[vCnt].properties : valuefields[vCnt], null, true);\n                        /* tslint:enable:align */\n                        dataSourceItem.type = type;\n                        this.parent.engineModule.fieldList[field].aggregateType = type;\n                        valuefields.splice(vCnt, 1, dataSourceItem);\n                        this.parent.lastAggregationInfo = dataSourceItem;\n                    }\n                }\n                this.updateDataSource();\n            }\n        }\n    };\n    AggregateMenu.prototype.updateDataSource = function (isRefreshed) {\n        if (!this.parent.allowDeferLayoutUpdate || this.parent.getModuleName() === 'pivotview') {\n            this.parent.updateDataSource(isRefreshed);\n        }\n        else {\n            if (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.renderMode === 'Popup') {\n                /* tslint:disable:align */\n                this.parent.pivotGridModule.setProperties({\n                    dataSourceSettings: this.parent.dataSourceSettings.properties\n                }, true);\n                this.parent.pivotGridModule.notify(events.uiUpdate, this);\n                this.parent.pivotGridModule.engineModule = this.parent.engineModule;\n            }\n            else {\n                this.parent.triggerPopulateEvent();\n            }\n        }\n    };\n    AggregateMenu.prototype.updateValueSettings = function () {\n        var dialogElement = this.valueDialog.element;\n        var captionInstance = getInstance('#' + this.parentElement.id + 'type_input_option', MaskedTextBox);\n        var summaryInstance = getInstance('#' + this.parentElement.id + '_type_option', DropDownList);\n        var baseFieldInstance = getInstance('#' + this.parentElement.id + '_base_field_option', DropDownList);\n        var baseItemInstance = getInstance('#' + this.parentElement.id + '_base_item_option', DropDownList);\n        var fieldName = dialogElement.getAttribute('data-field');\n        var buttonElement;\n        if (this.parentElement.querySelector('.' + cls.PIVOT_BUTTON_CLASS)) {\n            buttonElement = this.parentElement.\n                querySelector('.' + cls.PIVOT_BUTTON_CLASS + '.' + fieldName.replace(/[^A-Z0-9]/ig, ''));\n        }\n        if (buttonElement) {\n            var contentElement = buttonElement.querySelector('.e-content');\n            var captionName = this.parent.localeObj.getConstant(summaryInstance.value) + ' ' + 'of' + ' ' + captionInstance.value;\n            contentElement.innerHTML = captionName;\n            contentElement.setAttribute('title', captionName);\n            buttonElement.setAttribute('data-type', summaryInstance.value);\n            buttonElement.setAttribute('data-caption', captionInstance.value);\n            buttonElement.setAttribute('data-basefield', baseFieldInstance.value);\n            buttonElement.setAttribute('data-baseitem', baseItemInstance.value);\n        }\n        var selectedField = this.parent.pivotCommon.eventBase.getFieldByName(fieldName, this.parent.dataSourceSettings.values);\n        selectedField = selectedField.properties ?\n            selectedField.properties : selectedField;\n        selectedField.caption = captionInstance.value;\n        selectedField.type = summaryInstance.value;\n        selectedField.baseField = baseFieldInstance.value;\n        selectedField.baseItem = baseItemInstance.value;\n        this.valueDialog.close();\n        // this.parent.axisFieldModule.render();\n        this.parent.lastAggregationInfo = selectedField;\n        this.updateDataSource(true);\n    };\n    AggregateMenu.prototype.removeDialog = function () {\n        if (this.valueDialog && !this.valueDialog.isDestroyed) {\n            this.valueDialog.destroy();\n        }\n        if (document.getElementById(this.parentElement.id + '_ValueDialog')) {\n            remove(document.getElementById(this.parentElement.id + '_ValueDialog'));\n        }\n    };\n    /**\n     * To destroy the pivot button event listener\n     * @return {void}\n     * @hidden\n     */\n    AggregateMenu.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.menuInfo && !this.menuInfo.isDestroyed) {\n            this.menuInfo.destroy();\n        }\n        else {\n            return;\n        }\n    };\n    return AggregateMenu;\n}());\nexport { AggregateMenu };\n","import { Reorder, headerRefreshed } from '@syncfusion/ej2-grids';\nimport { Grid, Resize, ExcelExport, PdfExport, ContextMenu, Freeze } from '@syncfusion/ej2-grids';\nimport { Selection } from '@syncfusion/ej2-grids';\nimport { createElement, setStyleAttribute, remove, isNullOrUndefined, EventHandler, append, getElement } from '@syncfusion/ej2-base';\nimport { isBlazor } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\nimport { AggregateMenu } from '../../common/popups/aggregate-menu';\n/**\n * Module to render PivotGrid control\n */\n/** @hidden */\nvar Render = /** @class */ (function () {\n    /** Constructor for render module */\n    function Render(parent) {\n        /** @hidden */\n        this.indentCollection = {};\n        this.colPos = 0;\n        this.lastSpan = 0;\n        this.lvlCollection = {};\n        this.hierarchyCollection = {};\n        this.lvlPosCollection = {};\n        this.hierarchyPosCollection = {};\n        this.position = 0;\n        this.measurePos = 0;\n        this.maxMeasurePos = 0;\n        this.hierarchyCount = 0;\n        this.actualText = '';\n        this.parent = parent;\n        this.resColWidth = (this.parent.showGroupingBar && this.parent.groupingBarModule) ? (this.parent.isAdaptive ? 180 : 250) :\n            (this.parent.isAdaptive ? 140 : 200);\n        this.engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n        this.gridSettings = parent.gridSettings;\n        this.formatList = this.getFormatList();\n        this.aggMenu = new AggregateMenu(this.parent);\n    }\n    /** @hidden */\n    /* tslint:disable */\n    Render.prototype.render = function () {\n        var parent = this.parent;\n        var engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n        this.parent.gridHeaderCellInfo = [];\n        this.parent.gridCellCollection = {};\n        this.injectGridModules(parent);\n        this.rowStartPos = this.getRowStartPos();\n        if (this.parent.grid && this.parent.grid.element && this.parent.element.querySelector('.e-grid')) {\n            if (!engine.isEngineUpdated) {\n                engine.headerContent = this.frameDataSource('header');\n                engine.valueContent = this.frameDataSource('value');\n            }\n            else {\n                if (this.parent.enableValueSorting) {\n                    engine.valueContent = this.frameDataSource('value');\n                }\n                engine.isEngineUpdated = false;\n            }\n            /* tslint:disable */\n            this.parent.grid.setProperties({\n                columns: this.frameStackedHeaders(), dataSource: (this.parent.dataType === 'olap' ? true :\n                    parent.dataSourceSettings.values.length > 0) && !this.engine.isEmptyData ? engine.valueContent :\n                    this.frameDataSource('value')\n            }, true);\n            /* tslint:enable */\n            this.parent.grid.notify('datasource-modified', {});\n            if (this.parent.isScrolling) {\n                this.parent.resizeInfo = {};\n            }\n            this.parent.grid.refreshColumns();\n            if (this.parent.showGroupingBar && this.parent.groupingBarModule &&\n                this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS)) {\n                this.parent.groupingBarModule.setGridRowWidth();\n            }\n            var e = this.parent.element.querySelector('.e-movablecontent');\n            e.querySelector('colGroup').innerHTML =\n                this.parent.grid.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n            this.parent.grid.width = this.calculateGridWidth();\n            if (!this.parent.isScrolling) {\n                this.calculateGridHeight(true);\n            }\n            //this.parent.isScrolling = false;\n        }\n        else {\n            this.parent.element.innerHTML = '';\n            this.bindGrid(this.parent, (this.engine.isEmptyData ? true : false));\n            this.parent.element.appendChild(createElement('div', { id: this.parent.element.id + '_grid' }));\n            this.parent.grid.isStringTemplate = true;\n            this.parent.grid.appendTo('#' + this.parent.element.id + '_grid');\n        }\n        /* tslint:disable */\n        this.parent.grid.on(headerRefreshed, this.refreshHeader, this);\n    };\n    Render.prototype.refreshHeader = function () {\n        if (this.parent.enableVirtualization) {\n            var mHdr = this.parent.element.querySelector('.' + cls.MOVABLEHEADER_DIV);\n            var mCont = this.parent.element.querySelector('.' + cls.MOVABLECONTENT_DIV);\n            var vtr = mCont.querySelector('.' + cls.VIRTUALTRACK_DIV);\n            this.parent.virtualHeaderDiv = mHdr.querySelector('.' + cls.VIRTUALTRACK_DIV);\n            if (mHdr.querySelector('.' + cls.VIRTUALTRACK_DIV)) {\n                remove(mHdr.querySelector('.' + cls.VIRTUALTRACK_DIV));\n            }\n            else {\n                this.parent.virtualHeaderDiv = createElement('div', { className: cls.VIRTUALTRACK_DIV });\n            }\n            mHdr.appendChild(this.parent.virtualHeaderDiv);\n            if (vtr) {\n                setStyleAttribute(this.parent.virtualHeaderDiv, { height: 0, width: vtr.style.width });\n            }\n            setStyleAttribute(mHdr.querySelector('.e-table'), {\n                transform: (mCont.querySelector('.e-table').style.transform).split(',')[0] + ',' + 0 + 'px)'\n            });\n            mHdr.scrollLeft = mCont.scrollLeft;\n        }\n    };\n    /** @hidden */\n    Render.prototype.bindGrid = function (parent, isEmpty) {\n        this.injectGridModules(parent);\n        this.parent.grid = new Grid({\n            frozenColumns: 1,\n            frozenRows: 0,\n            dataSource: isEmpty ? this.frameEmptyData() : this.frameDataSource('value'),\n            columns: isEmpty ? this.frameEmptyColumns() : this.frameStackedHeaders(),\n            height: isEmpty ? 'auto' : this.calculateGridHeight(),\n            width: isEmpty ? this.parent.width : this.calculateGridWidth(),\n            locale: parent.locale,\n            enableRtl: parent.enableRtl,\n            allowExcelExport: parent.allowExcelExport,\n            allowPdfExport: parent.allowPdfExport,\n            allowResizing: this.gridSettings.allowResizing,\n            allowTextWrap: this.gridSettings.allowTextWrap,\n            allowReordering: (this.parent.showGroupingBar ? false : this.gridSettings.allowReordering),\n            allowSelection: this.gridSettings.allowSelection,\n            /* tslint:disable-next-line */\n            contextMenuItems: this.gridSettings.contextMenuItems,\n            selectedRowIndex: this.gridSettings.selectedRowIndex,\n            /* tslint:disable-next-line */\n            selectionSettings: this.gridSettings.selectionSettings,\n            textWrapSettings: this.gridSettings.textWrapSettings,\n            printMode: this.gridSettings.printMode,\n            rowHeight: this.gridSettings.rowHeight,\n            gridLines: this.gridSettings.gridLines,\n            contextMenuClick: this.contextMenuClick.bind(this),\n            contextMenuOpen: this.contextMenuOpen.bind(this),\n            beforeCopy: this.gridSettings.beforeCopy ? this.gridSettings.beforeCopy.bind(this.parent) : undefined,\n            beforePrint: this.gridSettings.beforePrint ? this.gridSettings.beforePrint.bind(this.parent) : undefined,\n            printComplete: this.gridSettings.printComplete ? this.gridSettings.printComplete.bind(this.parent) : undefined,\n            rowSelecting: this.gridSettings.rowSelecting ? this.gridSettings.rowSelecting.bind(this.parent) : undefined,\n            rowSelected: this.rowSelected.bind(this),\n            rowDeselecting: this.gridSettings.rowDeselecting ? this.gridSettings.rowDeselecting.bind(this.parent) : undefined,\n            rowDeselected: this.rowDeselected.bind(this),\n            cellSelecting: this.gridSettings.cellSelecting ? this.gridSettings.cellSelecting.bind(this.parent) : undefined,\n            cellSelected: this.cellSelected.bind(this),\n            cellDeselecting: this.gridSettings.cellDeselecting ? this.gridSettings.cellDeselecting.bind(this.parent) : undefined,\n            cellDeselected: this.cellDeselected.bind(this),\n            resizeStart: this.gridSettings.resizeStart ? this.gridSettings.resizeStart.bind(this.parent) : undefined,\n            columnDragStart: this.gridSettings.columnDragStart ? this.gridSettings.columnDragStart.bind(this) : undefined,\n            columnDrag: this.gridSettings.columnDrag ? this.gridSettings.columnDrag.bind(this) : undefined,\n            columnDrop: this.gridSettings.columnDrop ? this.gridSettings.columnDrop.bind(this) : undefined,\n            beforeExcelExport: this.beforeExcelExport.bind(this),\n            resizing: this.setGroupWidth.bind(this),\n            resizeStop: this.onResizeStop.bind(this),\n            queryCellInfo: this.queryCellInfo.bind(this),\n            dataBound: this.dataBound.bind(this),\n            headerCellInfo: this.headerCellInfo.bind(this),\n            excelHeaderQueryCellInfo: this.excelHeaderQueryCellInfo.bind(this),\n            pdfHeaderQueryCellInfo: this.pdfHeaderQueryCellInfo.bind(this),\n            excelQueryCellInfo: this.excelQueryCellInfo.bind(this),\n            pdfQueryCellInfo: this.pdfQueryCellInfo.bind(this)\n        });\n        this.parent.grid.on('header-refreshed', this.headerRefreshed.bind(this));\n    };\n    /* tslint:disable-next-line */\n    Render.prototype.headerRefreshed = function (args) {\n        if (this.parent.lastGridSettings && Object.keys(this.parent.lastGridSettings).indexOf('allowResizing') > -1) {\n            this.parent.lastGridSettings = undefined;\n            if (this.parent.showGroupingBar && this.parent.groupingBarModule &&\n                this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS)) {\n                this.parent.groupingBarModule.setGridRowWidth();\n            }\n        }\n    };\n    /* tslint:disable-next-line */\n    Render.prototype.beforeExcelExport = function (args) {\n        if (!isNullOrUndefined(args.gridObject.columns) && !isNullOrUndefined(this.parent.pivotColumns)) {\n            args.gridObject.columns[args.gridObject.columns.length - 1].width =\n                this.parent.pivotColumns[this.parent.pivotColumns.length - 1].width;\n        }\n    };\n    Render.prototype.rowSelected = function (args) {\n        this.parent.renderModule.selected();\n        this.parent.trigger(events.rowSelected, args);\n    };\n    Render.prototype.rowDeselected = function (args) {\n        this.parent.renderModule.selected();\n        this.parent.trigger(events.rowDeselected, args);\n    };\n    Render.prototype.cellSelected = function (args) {\n        if (this.parent.rowRangeSelection.enable) {\n            this.parent.grid.selectionModule.selectRowsByRange(this.parent.rowRangeSelection.startIndex, this.parent.rowRangeSelection.endIndex);\n            this.parent.rowRangeSelection.enable = false;\n        }\n        else {\n            this.parent.renderModule.selected();\n            this.parent.trigger(events.selected, args);\n        }\n    };\n    Render.prototype.cellSelecting = function (args) {\n        this.parent.trigger(events.cellSelecting, args);\n    };\n    Render.prototype.cellDeselected = function (args) {\n        this.parent.renderModule.selected();\n        this.parent.trigger(events.cellDeselected, args);\n    };\n    Render.prototype.queryCellInfo = function (args) {\n        this.parent.renderModule.rowCellBoundEvent(args);\n    };\n    Render.prototype.headerCellInfo = function (args) {\n        this.parent.renderModule.columnCellBoundEvent(args);\n    };\n    Render.prototype.excelHeaderQueryCellInfo = function (args) {\n        this.parent.renderModule.excelColumnEvent(args);\n    };\n    Render.prototype.pdfQueryCellInfo = function (args) {\n        this.parent.renderModule.pdfRowEvent(args);\n    };\n    Render.prototype.excelQueryCellInfo = function (args) {\n        this.parent.renderModule.excelRowEvent(args);\n    };\n    Render.prototype.pdfHeaderQueryCellInfo = function (args) {\n        this.parent.renderModule.pdfColumnEvent(args);\n    };\n    Render.prototype.dataBound = function (args) {\n        /* tslint:disable-next-line */\n        if (this.parent.cellTemplate && !isBlazor()) {\n            for (var _i = 0, _a = this.parent.gridHeaderCellInfo; _i < _a.length; _i++) {\n                var cell = _a[_i];\n                if (this.parent.cellTemplate) {\n                    /* tslint:disable-next-line */\n                    append([].slice.call(this.parent.getCellTemplate()(cell, this.parent, 'cellTemplate', this.parent.element.id + '_cellTemplate')), cell.targetCell);\n                }\n            }\n            this.parent.gridHeaderCellInfo = [];\n        }\n        if (this.parent.element.querySelector('.e-firstcell')) {\n            if (this.parent.enableRtl) {\n                this.parent.element.querySelector('.e-firstcell').style.borderRight = 'none';\n            }\n            else {\n                this.parent.element.querySelector('.e-firstcell').style.borderLeft = 'none';\n            }\n        }\n        this.parent.grid.widthService.setWidthToTable();\n        /* tslint:disable-next-line */\n        if (!this.parent.isEmptyGrid) {\n            this.calculateGridHeight(true);\n        }\n        if (this.parent.currentView !== 'Chart') {\n            this.parent.grid.hideScroll();\n        }\n        this.parent.isScrolling = false;\n        this.parent.notify(events.contentReady, {});\n    };\n    /* tslint:disable */\n    /* tslint:disable:typedef */\n    Render.prototype.contextMenuOpen = function (args) {\n        for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            var cellTarget = this.parent.lastCellClicked;\n            var elem = null;\n            var bool = void 0;\n            if (cellTarget.classList.contains('e-stackedheadercelldiv') || cellTarget.classList.contains('e-cellvalue') ||\n                cellTarget.classList.contains('e-headercelldiv') || cellTarget.classList.contains('e-icons') || cellTarget.classList.contains('e-rhandler')) {\n                elem = cellTarget.parentElement;\n            }\n            else if (cellTarget.classList.contains('e-headercell') || cellTarget.classList.contains('e-rowcell') || cellTarget.classList.contains('e-columnsheader') ||\n                cellTarget.classList.contains('e-rowsheader') || cellTarget.classList.contains('e-valuescontent') || cellTarget.classList.contains('e-valuesheader')) {\n                elem = cellTarget;\n            }\n            else if (cellTarget.classList.contains('e-headertext')) {\n                elem = cellTarget.parentElement.parentElement;\n            }\n            if (elem.classList.contains('e-valuesheader') || elem.classList.contains('e-stot')) {\n                bool = true;\n            }\n            var rowIndex = Number(elem.getAttribute('index'));\n            var colIndex = Number(elem.getAttribute('aria-colindex'));\n            var pivotValue1 = this.parent.pivotValues[rowIndex][colIndex];\n            var select = item.id;\n            switch (select) {\n                case this.parent.element.id + '_expand':\n                    if (elem.querySelectorAll('.' + cls.EXPAND).length > 0) {\n                        if (args.element.querySelectorAll('#' + this.parent.element.id + '_expand')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_expand').classList.add(cls.MENU_DISABLE);\n                        }\n                        if (args.element.querySelector('#' + this.parent.element.id + '_expand').classList.contains(cls.MENU_DISABLE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_expand').classList.remove(cls.MENU_DISABLE);\n                        }\n                        if (args.element.querySelector('#' + this.parent.element.id + '_expand').classList.contains(cls.MENU_HIDE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_expand').classList.remove(cls.MENU_HIDE);\n                            args.element.querySelector('#' + this.parent.element.id + '_collapse').classList.remove(cls.MENU_HIDE);\n                        }\n                    }\n                    else {\n                        if (bool) {\n                            args.element.querySelector('#' + this.parent.element.id + '_expand').classList.add(cls.MENU_HIDE);\n                        }\n                        else {\n                            args.element.querySelector('#' + this.parent.element.id + '_expand').classList.add(cls.MENU_DISABLE);\n                        }\n                    }\n                    break;\n                case this.parent.element.id + '_collapse':\n                    if (elem.querySelectorAll('.' + cls.COLLAPSE).length > 0) {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_expand')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_expand').classList.add(cls.MENU_DISABLE);\n                        }\n                        if (args.element.querySelector('#' + this.parent.element.id + '_collapse').classList.contains(cls.MENU_DISABLE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_collapse').classList.remove(cls.MENU_DISABLE);\n                        }\n                        if (args.element.querySelector('#' + this.parent.element.id + '_collapse').classList.contains(cls.MENU_HIDE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_collapse').classList.remove(cls.MENU_HIDE);\n                            args.element.querySelector('#' + this.parent.element.id + '_expand').classList.remove(cls.MENU_HIDE);\n                        }\n                    }\n                    else {\n                        if (bool) {\n                            args.element.querySelector('#' + this.parent.element.id + '_collapse').classList.add(cls.MENU_HIDE);\n                        }\n                        else {\n                            args.element.querySelector('#' + this.parent.element.id + '_collapse').classList.add(cls.MENU_DISABLE);\n                        }\n                    }\n                    break;\n                case this.parent.element.id + '_drillthrough':\n                    if (!this.parent.allowDrillThrough) {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_drillthrough')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_drillthrough').classList.add(cls.MENU_DISABLE);\n                        }\n                    }\n                    else if (!(elem.classList.contains('e-summary'))) {\n                        if (elem.innerText === \"\") {\n                            if (args.element.querySelector('#' + this.parent.element.id + '_drillthrough')) {\n                                args.element.querySelector('#' + this.parent.element.id + '_drillthrough').classList.add(cls.MENU_DISABLE);\n                            }\n                        }\n                    }\n                    else {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_drillthrough').classList.contains(cls.MENU_DISABLE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_drillthrough').classList.remove(cls.MENU_DISABLE);\n                        }\n                    }\n                    break;\n                case this.parent.element.id + '_sortasc':\n                    if (!this.parent.enableValueSorting) {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_sortasc')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortasc').classList.add(cls.MENU_DISABLE);\n                        }\n                    }\n                    else if (elem.querySelectorAll('.e-icon-descending').length > 0) {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_sortdesc')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortdesc').classList.add(cls.MENU_DISABLE);\n                        }\n                        else {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortdesc').classList.remove(cls.MENU_DISABLE);\n                        }\n                        if (args.element.querySelector('#' + this.parent.element.id + '_sortasc').classList.contains(cls.MENU_DISABLE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortasc').classList.remove(cls.MENU_DISABLE);\n                        }\n                    }\n                    else if (args.element.querySelector('#' + this.parent.element.id + '_sortdesc').classList.contains(cls.MENU_DISABLE)) {\n                        args.element.querySelector('#' + this.parent.element.id + '_sortdesc').classList.remove(cls.MENU_DISABLE);\n                    }\n                    break;\n                case this.parent.element.id + '_sortdesc':\n                    if (!this.parent.enableValueSorting) {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_sortdesc')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortdesc').classList.add(cls.MENU_DISABLE);\n                        }\n                    }\n                    else if (elem.querySelectorAll('.e-icon-ascending').length > 0) {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_sortasc')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortasc').classList.add(cls.MENU_DISABLE);\n                        }\n                        else {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortasc').classList.remove(cls.MENU_DISABLE);\n                        }\n                        if (args.element.querySelector('#' + this.parent.element.id + '_sortdesc').classList.contains(cls.MENU_DISABLE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_sortdesc').classList.remove(cls.MENU_DISABLE);\n                        }\n                    }\n                    else if (args.element.querySelector('#' + this.parent.element.id + '_sortasc').classList.contains(cls.MENU_DISABLE)) {\n                        args.element.querySelector('#' + this.parent.element.id + '_sortasc').classList.remove(cls.MENU_DISABLE);\n                    }\n                    break;\n                case this.parent.element.id + '_CalculatedField':\n                    if (!this.parent.allowCalculatedField) {\n                        args.element.querySelector('#' + this.parent.element.id + '_CalculatedField').classList.add(cls.MENU_DISABLE);\n                    }\n                    break;\n                case this.parent.element.id + '_pdf':\n                    if (!this.parent.allowPdfExport) {\n                        args.element.querySelector('#' + this.parent.element.id + '_pdf').classList.add(cls.MENU_DISABLE);\n                    }\n                    break;\n                case this.parent.element.id + '_excel':\n                    if (!this.parent.allowExcelExport) {\n                        args.element.querySelector('#' + this.parent.element.id + '_excel').classList.add(cls.MENU_DISABLE);\n                    }\n                    break;\n                case this.parent.element.id + '_csv':\n                    if (!this.parent.allowExcelExport) {\n                        args.element.querySelector('#' + this.parent.element.id + '_csv').classList.add(cls.MENU_DISABLE);\n                    }\n                    break;\n                case this.parent.element.id + '_exporting':\n                    if ((!this.parent.allowExcelExport) && (!this.parent.allowPdfExport)) {\n                        args.element.querySelector('#' + this.parent.element.id + '_exporting').classList.add(cls.MENU_DISABLE);\n                    }\n                    break;\n                case this.parent.element.id + '_aggregate':\n                    if (elem.innerText === \"\") {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_aggregate')) {\n                            args.element.querySelector('#' + this.parent.element.id + '_aggregate').classList.add(cls.MENU_DISABLE);\n                        }\n                    }\n                    else {\n                        if (args.element.querySelector('#' + this.parent.element.id + '_aggregate').classList.contains(cls.MENU_DISABLE)) {\n                            args.element.querySelector('#' + this.parent.element.id + '_aggregate').classList.remove(cls.MENU_DISABLE);\n                        }\n                    }\n                    break;\n            }\n        }\n        this.parent.trigger(events.contextMenuOpen, args);\n    };\n    Render.prototype.contextMenuClick = function (args) {\n        // this.parent.gridSettings.contextMenuClick();\n        var target = this.parent.lastCellClicked;\n        var selected = args.item.id;\n        var event = new MouseEvent('dblclick', {\n            'view': window,\n            'bubbles': true,\n            'cancelable': true\n        });\n        var ele = null;\n        if (target.classList.contains('e-stackedheadercelldiv') || target.classList.contains('e-cellvalue') ||\n            target.classList.contains('e-headercelldiv') || target.classList.contains('e-icons') || target.classList.contains('e-rhandler')) {\n            ele = target.parentElement;\n        }\n        else if (target.classList.contains('e-headercell') || target.classList.contains('e-rowcell')) {\n            ele = target;\n        }\n        else if (target.classList.contains('e-headertext')) {\n            ele = target.parentElement.parentElement;\n        }\n        var rowIndx = Number(ele.getAttribute('index'));\n        var colIndx = Number(ele.getAttribute('aria-colindex'));\n        var pivotValue = this.parent.pivotValues[rowIndx][colIndx];\n        if (args.item.id === this.parent.element.id + '_AggSum' || args.item.id === this.parent.element.id + '_AggProduct' ||\n            args.item.id === this.parent.element.id + '_AggCount' || args.item.id === this.parent.element.id + '_AggDistinctCount' ||\n            args.item.id === this.parent.element.id + '_AggAvg' || args.item.id === this.parent.element.id + '_AggMin' ||\n            args.item.id === this.parent.element.id + '_AggMax' || args.item.id === this.parent.element.id + '_AggMoreOption') {\n            this.field = this.parent.engineModule.fieldList[pivotValue.actualText.toString()].id;\n            this.fieldCaption = this.parent.engineModule.fieldList[pivotValue.actualText.toString()].caption;\n        }\n        switch (selected) {\n            case this.parent.element.id + '_pdf':\n                this.parent.pdfExport();\n                break;\n            case this.parent.element.id + '_excel':\n                this.parent.excelExport();\n                break;\n            case this.parent.element.id + '_csv':\n                this.parent.csvExport();\n                break;\n            case this.parent.element.id + '_drillthrough_menu':\n                ele.dispatchEvent(event);\n                break;\n            case this.parent.element.id + '_sortasc':\n                this.parent.setProperties({\n                    dataSourceSettings: {\n                        valueSortSettings: {\n                            headerText: pivotValue.valueSort.levelName,\n                            headerDelimiter: this.parent.dataSourceSettings.valueSortSettings.headerDelimiter\n                        }\n                    }\n                });\n                this.parent.dataSourceSettings.valueSortSettings.sortOrder = 'Ascending';\n                break;\n            case this.parent.element.id + '_sortdesc':\n                this.parent.setProperties({\n                    dataSourceSettings: {\n                        valueSortSettings: {\n                            headerText: pivotValue.valueSort.levelName,\n                            headerDelimiter: this.parent.dataSourceSettings.valueSortSettings.headerDelimiter\n                        }\n                    }\n                });\n                this.parent.dataSourceSettings.valueSortSettings.sortOrder = 'Descending';\n                break;\n            case this.parent.element.id + '_expand':\n                if (ele.querySelectorAll('.' + cls.EXPAND)) {\n                    var exp = ele.querySelectorAll('.' + cls.EXPAND)[0];\n                    this.parent.onDrill(exp);\n                }\n                break;\n            case this.parent.element.id + '_collapse':\n                if (ele.querySelectorAll('.' + cls.COLLAPSE)) {\n                    var colp = ele.querySelectorAll('.' + cls.COLLAPSE)[0];\n                    this.parent.onDrill(colp);\n                }\n                break;\n            case this.parent.element.id + '_CalculatedField':\n                this.parent.calculatedFieldModule.createCalculatedFieldDialog();\n                break;\n            case this.parent.element.id + '_AggSum':\n                this.updateAggregate('Sum');\n                break;\n            case this.parent.element.id + '_AggProduct':\n                this.updateAggregate('Product');\n                break;\n            case this.parent.element.id + '_AggCount':\n                this.updateAggregate('Count');\n                break;\n            case this.parent.element.id + '_AggDistinctCount':\n                this.updateAggregate('DistinctCount');\n                break;\n            case this.parent.element.id + '_AggAvg':\n                this.updateAggregate('Avg');\n                break;\n            case this.parent.element.id + '_AggMin':\n                this.updateAggregate('Min');\n                break;\n            case this.parent.element.id + '_AggMax':\n                this.updateAggregate('Max');\n                break;\n            case this.parent.element.id + '_AggMoreOption':\n                ele.setAttribute('id', this.field);\n                ele.setAttribute('data-caption', this.fieldCaption);\n                ele.setAttribute('data-field', this.field);\n                ele.setAttribute('data-type', this.engine.fieldList[pivotValue.actualText.toString()].aggregateType);\n                ele.setAttribute('data-basefield', this.engine.fieldList[pivotValue.actualText.toString()].baseField);\n                ele.setAttribute('data-baseItem', this.engine.fieldList[pivotValue.actualText.toString()].baseItem);\n                this.aggMenu.createValueSettingsDialog(ele, this.parent.element);\n                break;\n        }\n        this.parent.trigger(events.contextMenuClick, args);\n    };\n    /* tslint:enable */\n    Render.prototype.updateAggregate = function (aggregate) {\n        var valuefields = this.parent.dataSourceSettings.values;\n        for (var valueCnt = 0; valueCnt < this.parent.dataSourceSettings.values.length; valueCnt++) {\n            if (this.parent.dataSourceSettings.values[valueCnt].name === this.field) {\n                var dataSourceItem = valuefields[valueCnt];\n                dataSourceItem.type = aggregate;\n            }\n        }\n    };\n    Render.prototype.injectGridModules = function (parent) {\n        Grid.Inject(Freeze);\n        if (parent.allowExcelExport) {\n            Grid.Inject(ExcelExport);\n        }\n        if (parent.allowPdfExport) {\n            Grid.Inject(PdfExport);\n        }\n        Grid.Inject(Selection, Reorder, Resize);\n        if (this.gridSettings.contextMenuItems) {\n            Grid.Inject(ContextMenu);\n        }\n    };\n    /** @hidden */\n    Render.prototype.updateGridSettings = function () {\n        this.injectGridModules(this.parent);\n        this.parent.grid.allowResizing = this.gridSettings.allowResizing;\n        this.parent.grid.allowTextWrap = this.gridSettings.allowTextWrap;\n        this.parent.grid.allowReordering = (this.parent.showGroupingBar ? false : this.gridSettings.allowReordering);\n        this.parent.grid.allowSelection = this.gridSettings.allowSelection;\n        /* tslint:disable-next-line */\n        this.parent.grid.contextMenuItems = this.gridSettings.contextMenuItems;\n        this.parent.grid.selectedRowIndex = this.gridSettings.selectedRowIndex;\n        /* tslint:disable-next-line */\n        this.parent.grid.selectionSettings = this.gridSettings.selectionSettings;\n        this.parent.grid.textWrapSettings = this.gridSettings.textWrapSettings;\n        this.parent.grid.printMode = this.gridSettings.printMode;\n        this.parent.grid.rowHeight = this.gridSettings.rowHeight;\n        this.parent.grid.gridLines = this.gridSettings.gridLines;\n        if (this.parent.lastGridSettings) {\n            var keys = Object.keys(this.parent.lastGridSettings);\n            if (keys.indexOf('height') > -1) {\n                this.parent.grid.height = this.gridSettings.height;\n            }\n            if (keys.indexOf('width') > -1) {\n                this.parent.grid.width = this.gridSettings.width;\n            }\n            this.updatePivotColumns();\n        }\n        this.clearColumnSelection();\n    };\n    Render.prototype.updatePivotColumns = function () {\n        var keys = Object.keys(this.parent.lastGridSettings);\n        for (var colPos = 0; colPos < this.parent.pivotColumns.length; colPos++) {\n            var pivotColumn = this.parent.pivotColumns[colPos];\n            for (var keyPos = 0; keyPos < keys.length; keyPos++) {\n                var key = keys[keyPos];\n                /* tslint:disable-next-line */\n                if (!isNullOrUndefined(this.parent.pivotColumns[colPos][key])) {\n                    /* tslint:disable-next-line */\n                    pivotColumn[key] = this.parent.lastGridSettings[key];\n                }\n            }\n        }\n        this.parent.fillGridColumns(this.parent.grid.columns);\n    };\n    Render.prototype.clearColumnSelection = function () {\n        this.parent.element.querySelectorAll('.' + cls.CELL_ACTIVE_BGCOLOR).forEach(function (ele) {\n            ele.classList.remove(cls.CELL_ACTIVE_BGCOLOR);\n            ele.classList.remove(cls.SELECTED_BGCOLOR);\n        });\n    };\n    Render.prototype.appendValueSortIcon = function (cell, tCell, rCnt, cCnt) {\n        if (this.parent.enableValueSorting && this.parent.dataType === 'pivot') {\n            var vSort = this.parent.dataSourceSettings.valueSortSettings;\n            var len = (cell.type === 'grand sum' &&\n                this.parent.dataSourceSettings.values.length === 1 && !this.parent.dataSourceSettings.alwaysShowValueHeader) ? 0 :\n                (this.parent.dataSourceSettings.values.length > 1 || this.parent.dataSourceSettings.alwaysShowValueHeader) ?\n                    (this.parent.engineModule.headerContent.length - 1) :\n                    this.parent.dataSourceSettings.columns.length === 0 ? 0 : (this.parent.engineModule.headerContent.length - 1);\n            var lock = (vSort && vSort.headerText) ? cell.valueSort.levelName === vSort.headerText : cCnt === vSort.columnIndex;\n            if (vSort !== undefined && lock && rCnt === len && this.parent.dataSourceSettings.valueAxis === 'column') {\n                if (tCell.querySelector('.e-sortfilterdiv')) {\n                    tCell.querySelector('.e-sortfilterdiv').classList.add(vSort.sortOrder === 'Descending' ?\n                        'e-descending' : 'e-ascending');\n                    tCell.querySelector('.e-sortfilterdiv').classList.add(vSort.sortOrder === 'Descending' ?\n                        'e-icon-descending' : 'e-icon-ascending');\n                }\n                else {\n                    tCell.appendChild(createElement('div', {\n                        className: (vSort.sortOrder === 'Descending' ?\n                            'e-icon-descending e-icons e-descending e-sortfilterdiv' :\n                            'e-icon-ascending e-icons e-ascending e-sortfilterdiv'),\n                    }));\n                }\n                if (!isNullOrUndefined(cell.hasChild) && cell.type !== 'grand sum' && tCell.querySelector('.e-expand') &&\n                    (tCell.querySelector('.e-icon-descending') || tCell.querySelector('.e-icon-ascending'))) {\n                    var element = (tCell.querySelector('.e-icon-descending') || tCell.querySelector('.e-icon-ascending'));\n                    setStyleAttribute(element, { 'padding-top': '12px' });\n                }\n            }\n            // return tCell;\n        }\n        return tCell;\n    };\n    Render.prototype.onResizeStop = function (args) {\n        /* tslint:disable-next-line */\n        var column = args.column.field === '0.formattedText' ? '0.formattedText' : args.column.customAttributes.cell.valueSort.levelName;\n        this.parent.resizeInfo[column] = Number(args.column.width.toString().split('px')[0]);\n        this.setGroupWidth(args);\n        this.calculateGridHeight(true);\n        this.parent.grid.hideScroll();\n    };\n    Render.prototype.setGroupWidth = function (args) {\n        if (this.parent.showGroupingBar && this.parent.groupingBarModule &&\n            this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS)) {\n            this.parent.groupingBarModule.refreshUI();\n            if (this.parent.element.querySelector('.e-group-row').offsetWidth < 245 && !this.parent.firstColWidth) {\n                args.cancel = true;\n                var gridColumn = this.parent.grid.columns;\n                if (gridColumn && gridColumn.length > 0) {\n                    gridColumn[0].width = this.resColWidth;\n                }\n                this.parent.element.querySelector('.e-frozenheader').querySelector('col').style.width = (this.resColWidth + 'px');\n                this.parent.element.querySelector('.e-frozencontent').querySelector('col').style.width = (this.resColWidth + 'px');\n            }\n            this.parent.element.querySelector('.e-group-rows').style.height = 'auto';\n            this.parent.element.querySelector('.e-group-values').style.width =\n                this.parent.element.querySelector('.e-group-row').offsetWidth + 'px';\n            var firstRowHeight = this.parent.element.querySelector('.e-headercontent').offsetHeight;\n            this.parent.element.querySelector('.e-group-rows').style.height = firstRowHeight + 'px';\n        }\n        this.parent.trigger(args.e.type === 'touchend' || args.e.type === 'mouseup' ? events.resizeStop : events.resizing, args);\n    };\n    /* tslint:disable */\n    /** @hidden */\n    Render.prototype.selected = function () {\n        clearTimeout(this.timeOutObj);\n        this.timeOutObj = setTimeout(this.onSelect.bind(this), 300);\n    };\n    Render.prototype.onSelect = function () {\n        var pivotArgs = { selectedCellsInfo: [], pivotValues: this.parent.pivotValues, currentCell: null };\n        /* tslint:disable-next-line */\n        var selectedElements = this.parent.element.querySelectorAll('.' + cls.CELL_SELECTED_BGCOLOR + ',.' + cls.SELECTED_BGCOLOR);\n        for (var _i = 0, selectedElements_1 = selectedElements; _i < selectedElements_1.length; _i++) {\n            var element = selectedElements_1[_i];\n            var colIndex = Number(element.getAttribute('aria-colindex'));\n            var rowIndex = Number(element.getAttribute('index'));\n            var cell = this.engine.pivotValues[rowIndex][colIndex];\n            if (cell) {\n                if (cell.axis === 'value') {\n                    pivotArgs.selectedCellsInfo.push({\n                        currentCell: cell,\n                        value: cell.value,\n                        columnHeaders: cell.columnHeaders,\n                        rowHeaders: cell.rowHeaders,\n                        measure: cell.actualText.toString()\n                    });\n                }\n                else if (cell.axis === 'column') {\n                    pivotArgs.selectedCellsInfo.push({\n                        currentCell: cell,\n                        value: cell.formattedText,\n                        columnHeaders: cell.valueSort.levelName,\n                        rowHeaders: '',\n                        measure: ''\n                    });\n                }\n                else {\n                    pivotArgs.selectedCellsInfo.push({\n                        currentCell: cell,\n                        value: cell.formattedText,\n                        columnHeaders: '',\n                        rowHeaders: cell.valueSort.levelName,\n                        measure: ''\n                    });\n                }\n            }\n        }\n        this.parent.trigger(events.cellSelected, pivotArgs);\n    };\n    Render.prototype.rowCellBoundEvent = function (args) {\n        var tCell = args.cell;\n        /* tslint:disable-next-line */\n        if (tCell && !this.parent.isEmptyGrid) {\n            var customClass = this.parent.hyperlinkSettings.cssClass;\n            tCell.setAttribute('index', (Number(tCell.getAttribute('index')) + this.engine.headerContent.length).toString());\n            var cell = args.data[0];\n            if (tCell.getAttribute('aria-colindex') === '0') {\n                if (this.parent.dataType === 'pivot') {\n                    var isValueCell = cell.type && cell.type === 'value';\n                    tCell.innerText = '';\n                    var level = cell.level ? cell.level : (isValueCell ? (this.lastSpan + 1) : 0);\n                    do {\n                        if (level > 0) {\n                            tCell.appendChild(createElement('span', {\n                                className: level === 0 ? '' : cls.NEXTSPAN,\n                            }));\n                        }\n                        level--;\n                    } while (level > -1);\n                    level = cell.level ? cell.level : 0;\n                    this.lastSpan = !isValueCell ? level : this.lastSpan;\n                    if (!cell.hasChild && level > 0) {\n                        tCell.appendChild(createElement('span', {\n                            className: cls.LASTSPAN,\n                        }));\n                    }\n                    var fieldName = void 0;\n                    if ((this.parent.dataSourceSettings.rows.length > 0 &&\n                        (cell.valueSort ? Object.keys(cell.valueSort).length > 0 : true))) {\n                        fieldName = level > -1 ? this.parent.dataSourceSettings.rows[level].name : '';\n                        tCell.setAttribute('fieldname', fieldName);\n                    }\n                }\n                else {\n                    tCell = this.onOlapRowCellBoundEvent(tCell, cell);\n                }\n                var localizedText = cell.formattedText;\n                if (cell.type) {\n                    if (cell.type === 'grand sum') {\n                        tCell.classList.add('e-gtot');\n                        localizedText = this.parent.localeObj.getConstant('grandTotal');\n                    }\n                    else {\n                        tCell.classList.add('e-stot');\n                    }\n                }\n                tCell.classList.add(cls.ROWSHEADER);\n                if (cell.hasChild === true && !cell.isNamedSet) {\n                    tCell.appendChild(createElement('div', {\n                        className: (cell.isDrilled === true ? cls.COLLAPSE : cls.EXPAND) + ' ' + cls.ICON,\n                        attrs: {\n                            'title': cell.isDrilled === true ? this.parent.localeObj.getConstant('collapse') :\n                                this.parent.localeObj.getConstant('expand')\n                        }\n                    }));\n                }\n                tCell.appendChild(createElement('span', {\n                    className: cls.CELLVALUE,\n                    /* tslint:disable-next-line */\n                    innerHTML: (this.parent.isRowCellHyperlink || cell.enableHyperlink ? '<a  data-url=\"' + localizedText + '\" class=\"e-hyperlinkcell ' + customClass + '\">' + localizedText + '</a>' : localizedText)\n                }));\n                var vSort = this.parent.pivotView.dataSourceSettings.valueSortSettings;\n                if (this.parent.enableValueSorting) {\n                    if (vSort && vSort.headerText && this.parent.dataSourceSettings.valueAxis === 'row'\n                        && this.parent.pivotValues[Number(tCell.getAttribute('index'))][0].valueSort.levelName) {\n                        if (this.parent.pivotValues[Number(tCell.getAttribute('index'))][0].valueSort.levelName\n                            === vSort.headerText) {\n                            var style = (tCell.querySelector('.e-expand') || tCell.querySelector('.e-collapse')) ?\n                                'padding-top: 18px' : 'padding-top: 12px';\n                            tCell.appendChild(createElement('div', {\n                                className: (vSort.sortOrder === 'Descending' ?\n                                    'e-icon-descending e-icons e-descending e-sortfilterdiv' :\n                                    'e-icon-ascending e-icons e-ascending e-sortfilterdiv'),\n                                styles: style\n                            }));\n                        }\n                    }\n                }\n            }\n            else {\n                var innerText = tCell.innerText;\n                tCell.innerText = '';\n                tCell.classList.add(cls.VALUESCONTENT);\n                cell = args.data[Number(tCell.getAttribute('aria-colindex'))];\n                if (cell.isSum) {\n                    tCell.classList.add(cls.SUMMARY);\n                }\n                if (cell.cssClass) {\n                    tCell.classList.add(cell.cssClass);\n                }\n                tCell.appendChild(createElement('span', {\n                    className: cls.CELLVALUE,\n                    innerHTML: ((tCell.className.indexOf('e-summary') !== -1 && this.parent.isSummaryCellHyperlink) ||\n                        (tCell.className.indexOf('e-summary') === -1 && this.parent.isValueCellHyperlink) || cell.enableHyperlink ?\n                        '<a data-url=\"' + innerText + '\" class=\"e-hyperlinkcell ' + customClass + '\">' + innerText + '</a>' : innerText)\n                }));\n                if (this.parent.gridSettings.allowReordering && !this.parent.showGroupingBar) {\n                    tCell.setAttribute('aria-colindex', args.column.customAttributes.cell.colIndex.toString());\n                }\n            }\n            if (this.parent.cellTemplate) {\n                var index = tCell.getAttribute('index');\n                var colindex = tCell.getAttribute('aria-colindex');\n                var templateID = index + '_' + colindex;\n                /* tslint:disable-next-line */\n                if (!(window && isBlazor())) {\n                    /* tslint:disable-next-line */\n                    append([].slice.call(this.parent.getCellTemplate()({ targetCell: tCell }, this.parent, 'cellTemplate', this.parent.element.id + '_cellTemplate')), tCell);\n                }\n                else if (index && colindex) {\n                    this.parent.gridCellCollection[templateID] = tCell;\n                }\n            }\n            this.unWireEvents(tCell);\n            this.wireEvents(tCell);\n        }\n        args.pivotview = this.parent;\n        this.parent.trigger(events.queryCellInfo, args);\n    };\n    /* tslint:disable */\n    Render.prototype.onOlapRowCellBoundEvent = function (tCell, cell) {\n        tCell.innerText = '';\n        var rowMeasurePos = this.engine.rowMeasurePos;\n        if (this.parent.enableVirtualization) {\n            if (cell.ordinal > -1 && this.parent.olapEngineModule.tupRowInfo.length > 0) {\n                var tupInfo = this.parent.olapEngineModule.tupRowInfo[cell.ordinal];\n                var memberPosition = tupInfo.uNameCollection.indexOf(cell.actualText.toString());\n                var cropUName = tupInfo.uNameCollection.substring(0, memberPosition) +\n                    (cell.memberType === 3 ? '' : cell.actualText.toString());\n                var fieldSep = cropUName.split('::').filter(function (item) { return item !== ''; });\n                if (cell.memberType === 3 && rowMeasurePos === fieldSep.length) {\n                    fieldSep.push(cell.actualText.toString());\n                }\n                var nxtIndextCount = rowMeasurePos > 0 ? -2 : -1;\n                var lastIndextCount = rowMeasurePos === 0 ? -1 : 0;\n                var firstMemberAvailChild = void 0;\n                for (var fPos = 0; fPos < fieldSep.length; fPos++) {\n                    var fieldMembers = fieldSep[fPos];\n                    var membersCount = fieldMembers.split('~~').length;\n                    nxtIndextCount += membersCount + ((rowMeasurePos > fPos && (rowMeasurePos === 1 ? true : fPos > 0))\n                        ? membersCount : 0);\n                    var hasChild = Number(tupInfo.members[fPos].querySelector('CHILDREN_CARDINALITY').textContent) > 0;\n                    firstMemberAvailChild = (!firstMemberAvailChild && fPos === 0 && rowMeasurePos !== 0) ? hasChild :\n                        firstMemberAvailChild;\n                    lastIndextCount += !hasChild ? 1 : 0;\n                }\n                lastIndextCount -= firstMemberAvailChild ? 1 : 0;\n                nxtIndextCount = (nxtIndextCount === 1 && rowMeasurePos === fieldSep.length && fieldSep.length === 1) ?\n                    0 : nxtIndextCount;\n                var indent = 0;\n                for (var iPos = 0; iPos < nxtIndextCount; iPos++) {\n                    tCell.appendChild(createElement('span', {\n                        className: cls.NEXTSPAN,\n                    }));\n                    indent++;\n                }\n                for (var iPos = 0; iPos < lastIndextCount && nxtIndextCount > 0; iPos++) {\n                    tCell.appendChild(createElement('span', {\n                        className: cls.LASTSPAN,\n                    }));\n                }\n                this.indentCollection[cell.rowIndex] = indent;\n                this.maxIndent = this.maxIndent > indent ? this.maxIndent : indent;\n            }\n        }\n        else {\n            var hierarchyName = cell.hierarchy;\n            var levelName = cell.memberType === 3 ? (this.measurePos + '.' + cell.levelUniqueName) : cell.levelUniqueName;\n            var hasChild = cell.hasChild;\n            if (!this.lvlCollection[levelName] && levelName) {\n                this.lvlPosCollection[this.position] = levelName;\n                this.lvlCollection[levelName] = { position: this.position, hasChild: hasChild };\n                this.position++;\n            }\n            else if (levelName) {\n                var currPos_1 = this.lvlCollection[levelName].position;\n                for (var pos = currPos_1 + 1; pos < this.position; pos++) {\n                    delete this.lvlCollection[this.lvlPosCollection[pos]];\n                    delete this.lvlPosCollection[pos];\n                }\n                this.position = this.position > (currPos_1 + 1) ? (currPos_1 + 1) : this.position;\n            }\n            if (!this.hierarchyCollection[hierarchyName] && hierarchyName) {\n                this.hierarchyPosCollection[this.hierarchyCount] = hierarchyName;\n                this.hierarchyCollection[hierarchyName] = {\n                    lvlPosition: this.position - 1,\n                    hierarchyPOs: this.hierarchyCount\n                };\n                this.hierarchyCount++;\n            }\n            else if (hierarchyName) {\n                var currPos_2 = this.hierarchyCollection[hierarchyName].hierarchyPOs;\n                for (var pos = currPos_2 + 1; pos < this.hierarchyCount; pos++) {\n                    delete this.hierarchyCollection[this.hierarchyPosCollection[pos]];\n                    delete this.hierarchyPosCollection[pos];\n                }\n                this.hierarchyCount = this.hierarchyCount > (currPos_2 + 1) ? (currPos_2 + 1) : this.hierarchyCount;\n            }\n            if (cell.memberType !== 3 && levelName && this.lvlCollection[levelName]) {\n                var currHierarchyPos = this.hierarchyCollection[hierarchyName] ?\n                    this.hierarchyCollection[hierarchyName].hierarchyPOs : -1;\n                this.measurePos = rowMeasurePos <= currHierarchyPos && this.hierarchyPosCollection[rowMeasurePos + 1] ?\n                    this.measurePos : this.lvlCollection[levelName].position;\n            }\n            var currPos = this.lvlCollection[levelName] ? this.lvlCollection[levelName].position : -1;\n            var lvlPos = 0;\n            var indent = 0;\n            while (lvlPos <= currPos && currPos > 0 && cell.level > -1) {\n                var hasChild_1 = this.lvlCollection[this.lvlPosCollection[lvlPos]].hasChild;\n                var prevHasChild = lvlPos > 0 ? this.lvlCollection[this.lvlPosCollection[lvlPos - 1]].hasChild : false;\n                if (prevHasChild && !hasChild_1) {\n                    tCell.appendChild(createElement('span', {\n                        className: cls.LASTSPAN,\n                    }));\n                }\n                if (lvlPos !== currPos) {\n                    tCell.appendChild(createElement('span', {\n                        className: cls.NEXTSPAN,\n                    }));\n                    indent++;\n                }\n                lvlPos++;\n            }\n            if (cell.memberType === 3 && cell.level === -1 && Object.keys(this.lvlCollection).length > 1) {\n                tCell.appendChild(createElement('span', {\n                    className: cls.NEXTSPAN,\n                }));\n                indent++;\n            }\n            this.indentCollection[cell.rowIndex] = indent;\n            this.maxIndent = this.maxIndent > indent ? this.maxIndent : indent;\n        }\n        tCell.setAttribute('fieldname', cell.hierarchy);\n        return tCell;\n    };\n    /* tslint:enable */\n    Render.prototype.columnCellBoundEvent = function (args) {\n        if (args.cell.column && args.cell.column.customAttributes) {\n            var cell = args.cell.column.customAttributes.cell;\n            var tCell = args.node;\n            if (cell) {\n                var customClass = this.parent.hyperlinkSettings.cssClass;\n                var level = cell.level ? cell.level : 0;\n                if ((cell.level === -1 && !cell.rowSpan && cell.rowIndex !== this.engine.headerContent.length - 1)\n                    || cell.rowSpan === -1) {\n                    args.node.style.display = 'none';\n                }\n                else if (cell.rowSpan > 1) {\n                    args.node.setAttribute('rowspan', cell.rowSpan.toString());\n                    args.node.setAttribute('aria-rowspan', cell.rowSpan.toString());\n                    if ((cell.rowIndex + cell.rowSpan) === this.engine.headerContent.length) {\n                        args.node.style.borderBottomWidth = '0px';\n                    }\n                }\n                args.node.setAttribute('aria-colindex', cell.colIndex.toString());\n                args.node.setAttribute('index', cell.rowIndex.toString());\n                var fieldName = void 0;\n                if (this.parent.dataType === 'pivot') {\n                    if (!(this.parent.dataSourceSettings.values && this.parent.dataSourceSettings.valueAxis === 'column' &&\n                        this.parent.dataSourceSettings.values.length > 1 &&\n                        (cell.rowIndex === this.engine.headerContent.length - 1)) && this.parent.dataSourceSettings.columns &&\n                        this.parent.dataSourceSettings.columns.length > 0) {\n                        fieldName = level > -1 && this.parent.dataSourceSettings.columns[level] ?\n                            this.parent.dataSourceSettings.columns[level].name : '';\n                        tCell.setAttribute('fieldname', fieldName);\n                    }\n                }\n                else {\n                    tCell = this.onOlapColumnCellBoundEvent(tCell, cell);\n                }\n                if (cell.type) {\n                    tCell.classList.add(cell.type === 'grand sum' ? 'e-gtot' : 'e-stot');\n                    var localizedText = cell.type === 'grand sum' ? this.parent.localeObj.getConstant('grandTotal') :\n                        cell.formattedText.split('Total')[0] + this.parent.localeObj.getConstant('total');\n                    if (tCell.querySelector('.e-headertext') !== null) {\n                        tCell.querySelector('.e-headertext').innerText = localizedText;\n                    }\n                    else {\n                        tCell.querySelector('.e-stackedheadercelldiv').innerText = localizedText;\n                    }\n                }\n                tCell.classList.add(cls.COLUMNSHEADER);\n                if (this.parent.isColumnCellHyperlink || cell.enableHyperlink) {\n                    if (tCell.querySelector('.e-stackedheadercelldiv')) {\n                        var innerText = tCell.querySelector('.e-stackedheadercelldiv').innerText;\n                        tCell.querySelector('.e-stackedheadercelldiv').innerHTML =\n                            '<a data-url=\"' + innerText + '\" class=\"e-hyperlinkcell ' + customClass + '\">' + innerText + '</a>';\n                    }\n                    else if (tCell.querySelector('.e-headertext')) {\n                        var innerText = tCell.querySelector('.e-headertext').innerText;\n                        tCell.querySelector('.e-headertext').innerHTML =\n                            '<a data-url=\"' + innerText + '\" class=\"e-hyperlinkcell ' + customClass + '\">' + innerText + '</a>';\n                    }\n                }\n                if (cell.hasChild === true && !cell.isNamedSet) {\n                    var hdrdiv = tCell.querySelector('.e-headercelldiv');\n                    if (hdrdiv) {\n                        hdrdiv.style.height = 'auto';\n                        hdrdiv.style.lineHeight = 'normal';\n                    }\n                    var div = createElement('div', {\n                        className: (cell.isDrilled === true ? cls.COLLAPSE : cls.EXPAND) + ' ' + cls.ICON,\n                        attrs: {\n                            'title': cell.isDrilled === true ? this.parent.localeObj.getConstant('collapse') :\n                                this.parent.localeObj.getConstant('expand')\n                        }\n                    });\n                    tCell.children[0].classList.add(cls.CELLVALUE);\n                    if (window.navigator.userAgent.indexOf('Edge') > -1 || window.navigator.userAgent.indexOf('Trident') > -1) {\n                        tCell.children[0].style.display = 'table';\n                    }\n                    else {\n                        tCell.children[0].style.display = 'block';\n                    }\n                    tCell.insertBefore(div, tCell.children[0]);\n                }\n                tCell = this.appendValueSortIcon(cell, tCell, cell.rowIndex, cell.colIndex);\n                if (this.parent.cellTemplate) {\n                    var index = tCell.getAttribute('index');\n                    var colindex = tCell.getAttribute('aria-colindex');\n                    var templateID = index + '_' + colindex;\n                    /* tslint:disable-next-line */\n                    if (!(window && isBlazor())) {\n                        this.parent.gridHeaderCellInfo.push({ targetCell: tCell });\n                    }\n                    else if (index && colindex) {\n                        this.parent.gridCellCollection[templateID] = tCell;\n                    }\n                }\n                var field = void 0;\n                var len = this.parent.dataSourceSettings.values.length;\n                for (var vCnt = 0; vCnt < len; vCnt++) {\n                    if (this.parent.dataSourceSettings.values[vCnt].name === cell.actualText) {\n                        tCell.classList.add(cls.VALUESHEADER);\n                    }\n                }\n                this.unWireEvents(tCell);\n                this.wireEvents(tCell);\n            }\n        }\n        this.parent.trigger(events.headerCellInfo, args);\n    };\n    Render.prototype.onOlapColumnCellBoundEvent = function (tCell, cell) {\n        tCell.setAttribute('fieldname', cell.memberType === 3 ? cell.actualText.toString() : cell.hierarchy);\n        //if (cell.memberType === 3 || cell.type === 'grand sum') {\n        var prevCell = this.engine.headerContent[cell.rowIndex] ?\n            this.engine.headerContent[cell.rowIndex][cell.colIndex - 1] : undefined;\n        if (prevCell && prevCell.actualText === cell.actualText && prevCell.type === cell.type &&\n            (cell.memberType === 3 ? true : prevCell.colSpan > 1)) {\n            tCell.style.display = 'none';\n        }\n        else {\n            tCell.setAttribute('colspan', cell.colSpan.toString());\n            tCell.setAttribute('aria-colspan', cell.colSpan.toString());\n        }\n        //}\n        return tCell;\n    };\n    Render.prototype.onHyperCellClick = function (e) {\n        var cell = e.target.parentElement.parentElement;\n        cell = (cell.className.indexOf('e-headercelldiv') > -1 ? cell.parentElement : cell);\n        var args = {\n            currentCell: cell,\n            data: this.engine.pivotValues[Number(cell.getAttribute('index'))][Number(cell.getAttribute('aria-colindex'))],\n            cancel: true\n        };\n        this.parent.trigger(events.hyperlinkCellClick, args, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                args.currentCell = getElement(args.currentCell);\n                var url = args.currentCell.getAttribute('data-url') ? (args.currentCell).getAttribute('data-url') :\n                    args.currentCell.querySelector('a').getAttribute('data-url');\n                window.open(url);\n            }\n        });\n    };\n    Render.prototype.getRowStartPos = function () {\n        var pivotValues = this.parent.pivotValues;\n        var rowPos;\n        for (var rCnt = 0; rCnt < pivotValues.length; rCnt++) {\n            if (pivotValues[rCnt] && pivotValues[rCnt][0] && pivotValues[rCnt][0].axis === 'row') {\n                rowPos = rCnt;\n                break;\n            }\n        }\n        return rowPos;\n    };\n    Render.prototype.frameDataSource = function (type) {\n        var dataContent = [];\n        if (this.parent.dataSourceSettings.values.length > 0 && !this.engine.isEmptyData) {\n            if ((this.parent.enableValueSorting) || !this.engine.isEngineUpdated) {\n                var rowCnt = 0;\n                var pivotValues = this.parent.pivotValues;\n                var start = type === 'value' ? this.rowStartPos : 0;\n                var end = type === 'value' ? pivotValues.length : this.rowStartPos;\n                for (var rCnt = start; rCnt < end; rCnt++) {\n                    if (pivotValues[rCnt]) {\n                        rowCnt = type === 'header' ? rCnt : rowCnt;\n                        dataContent[rowCnt] = {};\n                        for (var cCnt = 0; cCnt < pivotValues[rCnt].length; cCnt++) {\n                            if (pivotValues[rCnt][cCnt]) {\n                                dataContent[rowCnt][cCnt] = pivotValues[rCnt][cCnt];\n                            }\n                        }\n                        rowCnt++;\n                    }\n                }\n            }\n            else {\n                dataContent = type === 'value' ? this.engine.valueContent : this.engine.headerContent;\n            }\n        }\n        else {\n            dataContent = this.frameEmptyData();\n        }\n        return dataContent;\n    };\n    /** @hidden */\n    /* tslint:disable-next-line */\n    Render.prototype.frameEmptyData = function () {\n        /* tslint:disable-next-line */\n        var dataContent = [{\n                0: { formattedText: this.parent.localeObj.getConstant('grandTotal') },\n                1: { formattedText: this.parent.localeObj.getConstant('emptyData') }\n            }];\n        return dataContent;\n    };\n    Render.prototype.calculateColWidth = function (colCount) {\n        var parWidth = isNaN(this.parent.width) ? (this.parent.width.toString().indexOf('%') > -1 ?\n            ((parseFloat(this.parent.width.toString()) / 100) * this.parent.element.offsetWidth) : this.parent.element.offsetWidth) :\n            Number(this.parent.width);\n        parWidth = parWidth - (this.gridSettings.columnWidth > this.resColWidth ? this.gridSettings.columnWidth : this.resColWidth) - 2;\n        colCount = colCount - 1;\n        var colWidth = (colCount * this.gridSettings.columnWidth) < parWidth ? (parWidth / colCount) : this.gridSettings.columnWidth;\n        return Math.floor(colWidth);\n    };\n    Render.prototype.resizeColWidth = function (colCount) {\n        var parWidth = isNaN(this.parent.width) ? (this.parent.width.toString().indexOf('%') > -1 ?\n            ((parseFloat(this.parent.width.toString()) / 100) * this.parent.element.offsetWidth) : this.parent.element.offsetWidth) :\n            Number(this.parent.width);\n        colCount = colCount - 1;\n        parWidth = parWidth - (this.gridSettings.columnWidth > this.resColWidth ? this.gridSettings.columnWidth : this.resColWidth) - 2;\n        var colWidth = (colCount * this.gridSettings.columnWidth) < parWidth ? (parWidth / colCount) : this.gridSettings.columnWidth;\n        return Math.floor(colWidth);\n    };\n    Render.prototype.calculateGridWidth = function () {\n        var parWidth = this.parent.width;\n        var eleWidth = this.parent.element.getBoundingClientRect().width ?\n            this.parent.element.getBoundingClientRect().width : this.parent.element.offsetWidth;\n        if (this.gridSettings.width === 'auto') {\n            if (this.parent.width === 'auto') {\n                parWidth = eleWidth;\n            }\n            else if (this.parent.width.toString().indexOf('%') > -1) {\n                parWidth = ((parseFloat(this.parent.width.toString()) / 100) * eleWidth);\n            }\n        }\n        else {\n            parWidth = this.gridSettings.width;\n        }\n        return parWidth;\n    };\n    /** @hidden */\n    Render.prototype.calculateGridHeight = function (elementCreated) {\n        var gridHeight = this.parent.height;\n        var parHeight = this.parent.getHeightAsNumber();\n        if (isNaN(parHeight)) {\n            parHeight = this.parent.element.offsetHeight > 0 ? this.parent.element.offsetHeight : 1;\n        }\n        if (this.parent.currentView !== 'Chart') {\n            if (this.gridSettings.height === 'auto' && parHeight && this.parent.element.querySelector('.' + cls.GRID_HEADER)) {\n                var rowColHeight = this.parent.element.querySelector('.' + cls.GRID_HEADER).offsetHeight;\n                var gBarHeight = rowColHeight + (this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS) ?\n                    this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS).offsetHeight : 0);\n                var toolBarHeight = this.parent.element.querySelector('.' + cls.GRID_TOOLBAR) ? 42 : 0;\n                gridHeight = parHeight - (gBarHeight + toolBarHeight) - 1;\n                if (elementCreated) {\n                    var tableHeight = this.parent.element.querySelector('.' + cls.FROZENCONTENT_DIV + ' .' + cls.TABLE).offsetHeight;\n                    var contentHeight = this.parent.element.querySelector('.' + cls.MOVABLECONTENT_DIV).offsetHeight;\n                    var tableWidth = this.parent.element.querySelector('.' + cls.MOVABLECONTENT_DIV + ' .' + cls.TABLE).offsetWidth;\n                    var contentWidth = this.parent.element.querySelector('.' + cls.MOVABLECONTENT_DIV).offsetWidth;\n                    var horizontalOverflow = contentWidth < tableWidth;\n                    var verticalOverflow = contentHeight < tableHeight;\n                    var commonOverflow = horizontalOverflow && ((gridHeight - tableHeight) < 18) ? true : false;\n                    if (gridHeight >= tableHeight && (horizontalOverflow ? gridHeight >= contentHeight : true) &&\n                        !verticalOverflow && !commonOverflow) {\n                        this.parent.grid.height = 'auto';\n                    }\n                    else {\n                        this.parent.grid.height = gridHeight;\n                    }\n                }\n                else {\n                    if (gridHeight > (this.engine.valueContent.length * this.gridSettings.rowHeight)) {\n                        gridHeight = 'auto';\n                    }\n                }\n            }\n            else {\n                gridHeight = this.gridSettings.height;\n            }\n        }\n        return gridHeight < this.parent.gridSettings.rowHeight ? this.parent.gridSettings.rowHeight : gridHeight;\n    };\n    Render.prototype.frameStackedHeaders = function () {\n        var integrateModel = [];\n        if ((this.parent.dataType === 'olap' ? true : this.parent.dataSourceSettings.values.length > 0) && !this.engine.isEmptyData) {\n            var headerCnt = this.engine.headerContent.length;\n            var headerSplit = [];\n            var splitPos = [];\n            var colWidth = this.calculateColWidth(this.engine.pivotValues[0].length);\n            do {\n                var columnModel = [];\n                var actualCnt = 0;\n                headerCnt--;\n                var colField = this.engine.headerContent[headerCnt];\n                if (colField) {\n                    for (var cCnt = 0; cCnt < Object.keys(colField).length + (colField[0] ? 0 : 1); cCnt++) {\n                        var colSpan = (colField[cCnt] && colField[cCnt].colSpan) ?\n                            ((colField[cCnt].memberType !== 3 || headerCnt === 0) ?\n                                colField[cCnt].colSpan : headerSplit[cCnt]) : 1;\n                        colSpan = this.parent.dataType === 'olap' ? 1 : colSpan;\n                        var rowSpan = (colField[cCnt] && colField[cCnt].rowSpan) ? colField[cCnt].rowSpan : 1;\n                        var formattedText = colField[cCnt] ? (colField[cCnt].type === 'grand sum' ?\n                            this.parent.localeObj.getConstant('grandTotal') : (colField[cCnt].type === 'sum' ?\n                            colField[cCnt].formattedText.split('Total')[0] + this.parent.localeObj.getConstant('total') :\n                            colField[cCnt].formattedText)) : '';\n                        if (headerCnt === this.engine.headerContent.length - 1) {\n                            colSpan = 1;\n                            columnModel[actualCnt] = {\n                                field: (cCnt + '.formattedText'),\n                                headerText: formattedText,\n                                customAttributes: { 'cell': colField[cCnt] },\n                                /* tslint:disable-next-line */\n                                width: colField[cCnt] ? this.setSavedWidth(colField[cCnt].valueSort.levelName, colWidth) : this.resColWidth,\n                                minWidth: 30,\n                                format: cCnt === 0 ? '' : this.formatList[colField[cCnt].actualText],\n                                allowReordering: (this.parent.showGroupingBar ? false : this.parent.gridSettings.allowReordering),\n                                allowResizing: this.parent.gridSettings.allowResizing,\n                                visible: true\n                            };\n                        }\n                        else if (headerSplit[cCnt]) {\n                            colSpan = (colField[cCnt] && colField[cCnt].type === 'grand sum' &&\n                                colField[cCnt].memberType === 2) ? 1 : colSpan;\n                            var tmpSpan = colSpan;\n                            var innerModel = [];\n                            var innerPos = cCnt;\n                            while (tmpSpan > 0) {\n                                if (columnModel[actualCnt]) {\n                                    if (!integrateModel[splitPos[innerPos]]) {\n                                        break;\n                                    }\n                                    innerModel.push(integrateModel[splitPos[innerPos]]);\n                                }\n                                else {\n                                    columnModel[actualCnt] = {\n                                        headerText: formattedText,\n                                        /* tslint:disable-next-line */\n                                        field: colField[cCnt] ? colField[cCnt].valueSort.levelName : '',\n                                        customAttributes: { 'cell': colField[cCnt] },\n                                        /* tslint:disable-next-line */\n                                        width: colField[cCnt] ? this.setSavedWidth(colField[cCnt].valueSort.levelName, colWidth) :\n                                            this.resColWidth,\n                                        minWidth: 30,\n                                        allowReordering: (this.parent.showGroupingBar ? false : this.parent.gridSettings.allowReordering),\n                                        allowResizing: this.parent.gridSettings.allowResizing,\n                                        visible: true\n                                    };\n                                    innerModel = [integrateModel[splitPos[innerPos]]];\n                                }\n                                tmpSpan = tmpSpan - headerSplit[innerPos];\n                                innerPos = innerPos + headerSplit[innerPos];\n                            }\n                            columnModel[actualCnt].columns = innerModel;\n                        }\n                        if (columnModel[actualCnt]) {\n                            columnModel[actualCnt].clipMode = this.gridSettings.clipMode;\n                        }\n                        headerSplit[cCnt] = colSpan;\n                        splitPos[cCnt] = actualCnt;\n                        actualCnt++;\n                        cCnt = cCnt + colSpan - 1;\n                    }\n                }\n                integrateModel = columnModel.length > 0 ? columnModel : integrateModel;\n            } while (headerCnt > 0);\n            integrateModel[0] = {\n                field: (0 + '.formattedText'),\n                width: this.resColWidth,\n                minWidth: 30,\n                headerText: '',\n                allowReordering: false,\n                allowResizing: this.parent.gridSettings.allowResizing,\n                visible: true\n            };\n        }\n        else {\n            integrateModel = this.frameEmptyColumns();\n        }\n        if (integrateModel.length > 1) {\n            integrateModel[integrateModel.length - 1].minWidth = integrateModel[integrateModel.length - 1].width;\n            integrateModel[integrateModel.length - 1].width = 'auto';\n        }\n        this.parent.triggerColumnRenderEvent(integrateModel);\n        return integrateModel;\n    };\n    /** @hidden */\n    Render.prototype.setSavedWidth = function (column, width) {\n        width = this.parent.resizeInfo[column] ? this.parent.resizeInfo[column] : width;\n        return width;\n    };\n    /** @hidden */\n    Render.prototype.frameEmptyColumns = function () {\n        var columns = [];\n        var colWidth = this.calculateColWidth(2);\n        columns.push({ field: '0.formattedText', headerText: '', minWidth: 30, width: this.resColWidth });\n        /* tslint:disable-next-line */\n        columns.push({ field: '1.formattedText', headerText: this.parent.localeObj.getConstant('grandTotal'), minWidth: 30, width: colWidth });\n        return columns;\n    };\n    /** @hidden */\n    Render.prototype.getFormatList = function () {\n        var formatArray = {};\n        for (var vCnt = 0; vCnt < this.parent.dataSourceSettings.values.length; vCnt++) {\n            var field = this.parent.dataSourceSettings.values[vCnt];\n            var format = 'N';\n            if (this.parent.dataType === 'olap') {\n                if (this.parent.olapEngineModule.fieldList[field.name]) {\n                    var fString = this.parent.olapEngineModule.fieldList[field.name].formatString;\n                    format = fString.indexOf('#') > -1 ? fString : (fString[0] + '2');\n                }\n            }\n            else {\n                if (this.parent.dataSourceSettings.formatSettings.length > 0) {\n                    for (var fCnt = 0; fCnt < this.parent.dataSourceSettings.formatSettings.length; fCnt++) {\n                        var formatSettings = this.parent.dataSourceSettings.formatSettings[fCnt];\n                        if (field.name === formatSettings.name) {\n                            format = formatSettings.format;\n                            break;\n                        }\n                        else {\n                            continue;\n                        }\n                    }\n                }\n            }\n            formatArray[field.name] = format;\n        }\n        return formatArray;\n    };\n    Render.prototype.excelColumnEvent = function (args) {\n        args = this.exportHeaderEvent(args);\n        this.parent.trigger(events.excelHeaderQueryCellInfo, args);\n    };\n    Render.prototype.pdfColumnEvent = function (args) {\n        args = this.exportHeaderEvent(args);\n        this.parent.trigger(events.pdfHeaderQueryCellInfo, args);\n    };\n    Render.prototype.excelRowEvent = function (args) {\n        if (args.column.field === '0.formattedText') {\n            var isValueCell = args.data[0].type === 'value';\n            var level = 0;\n            if (this.parent.dataType === 'olap') {\n                /* tslint:disable-next-line */\n                level = this.indentCollection[args.data[0].rowIndex];\n            }\n            else {\n                level = isValueCell ? (this.lastSpan + 1) : args.data[0].level;\n            }\n            this.colPos = 0;\n            args.style = { hAlign: 'Left', indent: level * 2 };\n            this.lastSpan = isValueCell ? this.lastSpan : level;\n        }\n        else {\n            this.colPos++;\n            /* tslint:disable-next-line */\n            if (isNullOrUndefined(args.data[this.colPos].value) || isNullOrUndefined(args.data[this.colPos].formattedText)) {\n                args.value = '';\n            }\n            else {\n                /* tslint:disable-next-line */\n                args.value = args.data[this.colPos].value || args.data[this.colPos].formattedText;\n            }\n        }\n        args = this.exportContentEvent(args);\n        this.parent.trigger(events.excelQueryCellInfo, args);\n    };\n    /* tslint:disable:no-any */\n    Render.prototype.pdfRowEvent = function (args) {\n        args = this.exportContentEvent(args);\n        if (args.column.field === '0.formattedText') {\n            var level = 0;\n            var isValueCell = args.data[0].type === 'value';\n            if (this.parent.dataType === 'olap') {\n                level = this.indentCollection[args.data[0].rowIndex];\n            }\n            else {\n                level = isValueCell ? (this.lastSpan + 1) : args.data[0].level !== -1 ?\n                    args.data[0].level : 0;\n            }\n            args.style = { paragraphIndent: level * 10 };\n            this.lastSpan = isValueCell ? this.lastSpan : level;\n        }\n        this.parent.trigger(events.pdfQueryCellInfo, args);\n    };\n    Render.prototype.exportHeaderEvent = function (args) {\n        var rowSpan = 1;\n        if (args.gridCell.column.customAttributes) {\n            var cell = args.gridCell.column.customAttributes.cell;\n            if (this.actualText !== cell.actualText && cell.colSpan > 1 && cell.level > -1) {\n                args.gridCell.colSpan = args.cell.colSpan = cell.colSpan > -1 ? cell.colSpan : 1;\n            }\n            rowSpan = cell.rowSpan > -1 ? cell.rowSpan : 1;\n            this.actualText = cell.actualText;\n        }\n        else {\n            rowSpan = Object.keys(this.engine.headerContent).length;\n        }\n        if (args.cell.rowSpan !== rowSpan && rowSpan > -1) {\n            args.cell.rowSpan = rowSpan;\n        }\n        return args;\n    };\n    Render.prototype.exportContentEvent = function (args) {\n        args.value = args.data[Number(args.column.field.split('.formattedText')[0])].type === 'grand sum' ?\n            this.parent.localeObj.getConstant('grandTotal') : args.value;\n        return args;\n    };\n    Render.prototype.unWireEvents = function (cell) {\n        if (cell.querySelector('.e-hyperlinkcell')) {\n            /* tslint:disable-next-line */\n            EventHandler.remove(cell.querySelector('.e-hyperlinkcell'), this.parent.isAdaptive ? 'touchend' : 'click', this.onHyperCellClick);\n        }\n        else {\n            return;\n        }\n    };\n    Render.prototype.wireEvents = function (cell) {\n        if (cell.querySelector('.e-hyperlinkcell')) {\n            /* tslint:disable-next-line */\n            EventHandler.add(cell.querySelector('.e-hyperlinkcell'), this.parent.isAdaptive ? 'touchend' : 'click', this.onHyperCellClick, this);\n        }\n        else {\n            return;\n        }\n    };\n    return Render;\n}());\nexport { Render };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Complex, Collection, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the fields in dataSource.\n */\nvar FieldOptions = /** @class */ (function (_super) {\n    __extends(FieldOptions, _super);\n    function FieldOptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"name\", void 0);\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"caption\", void 0);\n    __decorate([\n        Property('Sum')\n    ], FieldOptions.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"axis\", void 0);\n    __decorate([\n        Property(false)\n    ], FieldOptions.prototype, \"showNoDataItems\", void 0);\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"baseField\", void 0);\n    __decorate([\n        Property()\n    ], FieldOptions.prototype, \"baseItem\", void 0);\n    __decorate([\n        Property(true)\n    ], FieldOptions.prototype, \"showSubTotals\", void 0);\n    __decorate([\n        Property(false)\n    ], FieldOptions.prototype, \"isNamedSet\", void 0);\n    __decorate([\n        Property(false)\n    ], FieldOptions.prototype, \"isCalculatedField\", void 0);\n    return FieldOptions;\n}(ChildProperty));\nexport { FieldOptions };\nvar FieldListFieldOptions = /** @class */ (function (_super) {\n    __extends(FieldListFieldOptions, _super);\n    function FieldListFieldOptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return FieldListFieldOptions;\n}(FieldOptions));\nexport { FieldListFieldOptions };\n/**\n * Configures the style settings.\n */\nvar Style = /** @class */ (function (_super) {\n    __extends(Style, _super);\n    function Style() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Style.prototype, \"backgroundColor\", void 0);\n    __decorate([\n        Property()\n    ], Style.prototype, \"color\", void 0);\n    __decorate([\n        Property()\n    ], Style.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property()\n    ], Style.prototype, \"fontSize\", void 0);\n    return Style;\n}(ChildProperty));\nexport { Style };\n/**\n * Configures the filter settings.\n */\nvar Filter = /** @class */ (function (_super) {\n    __extends(Filter, _super);\n    function Filter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Filter.prototype, \"name\", void 0);\n    __decorate([\n        Property('Include')\n    ], Filter.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], Filter.prototype, \"items\", void 0);\n    __decorate([\n        Property('DoesNotEquals')\n    ], Filter.prototype, \"condition\", void 0);\n    __decorate([\n        Property()\n    ], Filter.prototype, \"value1\", void 0);\n    __decorate([\n        Property()\n    ], Filter.prototype, \"value2\", void 0);\n    __decorate([\n        Property()\n    ], Filter.prototype, \"measure\", void 0);\n    __decorate([\n        Property(1)\n    ], Filter.prototype, \"levelCount\", void 0);\n    __decorate([\n        Property()\n    ], Filter.prototype, \"selectedField\", void 0);\n    return Filter;\n}(ChildProperty));\nexport { Filter };\n/**\n * Configures the conditional format settings.\n */\nvar ConditionalFormatSettings = /** @class */ (function (_super) {\n    __extends(ConditionalFormatSettings, _super);\n    function ConditionalFormatSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ConditionalFormatSettings.prototype, \"measure\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalFormatSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalFormatSettings.prototype, \"conditions\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalFormatSettings.prototype, \"value1\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalFormatSettings.prototype, \"value2\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalFormatSettings.prototype, \"style\", void 0);\n    __decorate([\n        Property(true)\n    ], ConditionalFormatSettings.prototype, \"applyGrandTotals\", void 0);\n    return ConditionalFormatSettings;\n}(ChildProperty));\nexport { ConditionalFormatSettings };\n/**\n * Configures the sort settings.\n */\nvar Sort = /** @class */ (function (_super) {\n    __extends(Sort, _super);\n    function Sort() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Sort.prototype, \"name\", void 0);\n    __decorate([\n        Property('Ascending')\n    ], Sort.prototype, \"order\", void 0);\n    return Sort;\n}(ChildProperty));\nexport { Sort };\n/**\n * Configures the format settings of value fields.\n */\nvar FormatSettings = /** @class */ (function (_super) {\n    __extends(FormatSettings, _super);\n    function FormatSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"minimumFractionDigits\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"maximumFractionDigits\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"minimumSignificantDigits\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"maximumSignificantDigits\", void 0);\n    __decorate([\n        Property(true)\n    ], FormatSettings.prototype, \"useGrouping\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"skeleton\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"currency\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"minimumIntegerDigits\", void 0);\n    __decorate([\n        Property()\n    ], FormatSettings.prototype, \"format\", void 0);\n    return FormatSettings;\n}(ChildProperty));\nexport { FormatSettings };\n/**\n * Configures the group settings of fields.\n */\nvar GroupSettings = /** @class */ (function (_super) {\n    __extends(GroupSettings, _super);\n    function GroupSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"groupInterval\", void 0);\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"startingAt\", void 0);\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"endingAt\", void 0);\n    __decorate([\n        Property('Date')\n    ], GroupSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"rangeInterval\", void 0);\n    return GroupSettings;\n}(ChildProperty));\nexport { GroupSettings };\n/**\n * Configures the calculatedfields settings.\n */\nvar CalculatedFieldSettings = /** @class */ (function (_super) {\n    __extends(CalculatedFieldSettings, _super);\n    function CalculatedFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], CalculatedFieldSettings.prototype, \"name\", void 0);\n    __decorate([\n        Property()\n    ], CalculatedFieldSettings.prototype, \"formula\", void 0);\n    __decorate([\n        Property()\n    ], CalculatedFieldSettings.prototype, \"hierarchyUniqueName\", void 0);\n    __decorate([\n        Property()\n    ], CalculatedFieldSettings.prototype, \"formatString\", void 0);\n    return CalculatedFieldSettings;\n}(ChildProperty));\nexport { CalculatedFieldSettings };\n/**\n * Configures drilled state of field members.\n */\nvar DrillOptions = /** @class */ (function (_super) {\n    __extends(DrillOptions, _super);\n    function DrillOptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], DrillOptions.prototype, \"name\", void 0);\n    __decorate([\n        Property()\n    ], DrillOptions.prototype, \"items\", void 0);\n    __decorate([\n        Property()\n    ], DrillOptions.prototype, \"delimiter\", void 0);\n    return DrillOptions;\n}(ChildProperty));\nexport { DrillOptions };\n/**\n * Configures value sort settings.\n */\nvar ValueSortSettings = /** @class */ (function (_super) {\n    __extends(ValueSortSettings, _super);\n    function ValueSortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ValueSortSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property('.')\n    ], ValueSortSettings.prototype, \"headerDelimiter\", void 0);\n    __decorate([\n        Property('None')\n    ], ValueSortSettings.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property()\n    ], ValueSortSettings.prototype, \"measure\", void 0);\n    return ValueSortSettings;\n}(ChildProperty));\nexport { ValueSortSettings };\n/**\n * Configures the settings of dataSource.\n */\nvar DataSourceSettings = /** @class */ (function (_super) {\n    __extends(DataSourceSettings, _super);\n    function DataSourceSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], DataSourceSettings.prototype, \"catalog\", void 0);\n    __decorate([\n        Property()\n    ], DataSourceSettings.prototype, \"cube\", void 0);\n    __decorate([\n        Property('Relational')\n    ], DataSourceSettings.prototype, \"providerType\", void 0);\n    __decorate([\n        Property()\n    ], DataSourceSettings.prototype, \"url\", void 0);\n    __decorate([\n        Property(1033)\n    ], DataSourceSettings.prototype, \"localeIdentifier\", void 0);\n    __decorate([\n        Property()\n    ], DataSourceSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Collection([], FieldOptions)\n    ], DataSourceSettings.prototype, \"rows\", void 0);\n    __decorate([\n        Collection([], FieldOptions)\n    ], DataSourceSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Collection([], FieldOptions)\n    ], DataSourceSettings.prototype, \"values\", void 0);\n    __decorate([\n        Collection([], FieldOptions)\n    ], DataSourceSettings.prototype, \"filters\", void 0);\n    __decorate([\n        Property([])\n    ], DataSourceSettings.prototype, \"excludeFields\", void 0);\n    __decorate([\n        Property(false)\n    ], DataSourceSettings.prototype, \"expandAll\", void 0);\n    __decorate([\n        Property('column')\n    ], DataSourceSettings.prototype, \"valueAxis\", void 0);\n    __decorate([\n        Collection([], Filter)\n    ], DataSourceSettings.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Collection([], Sort)\n    ], DataSourceSettings.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"enableSorting\", void 0);\n    __decorate([\n        Property(false)\n    ], DataSourceSettings.prototype, \"allowLabelFilter\", void 0);\n    __decorate([\n        Property(false)\n    ], DataSourceSettings.prototype, \"allowValueFilter\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showSubTotals\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showRowSubTotals\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showColumnSubTotals\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showGrandTotals\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showRowGrandTotals\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showColumnGrandTotals\", void 0);\n    __decorate([\n        Property(false)\n    ], DataSourceSettings.prototype, \"alwaysShowValueHeader\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showHeaderWhenEmpty\", void 0);\n    __decorate([\n        Property(true)\n    ], DataSourceSettings.prototype, \"showAggregationOnValueField\", void 0);\n    __decorate([\n        Collection([], FormatSettings)\n    ], DataSourceSettings.prototype, \"formatSettings\", void 0);\n    __decorate([\n        Collection([], DrillOptions)\n    ], DataSourceSettings.prototype, \"drilledMembers\", void 0);\n    __decorate([\n        Complex({}, ValueSortSettings)\n    ], DataSourceSettings.prototype, \"valueSortSettings\", void 0);\n    __decorate([\n        Collection([], CalculatedFieldSettings)\n    ], DataSourceSettings.prototype, \"calculatedFieldSettings\", void 0);\n    __decorate([\n        Collection([], ConditionalFormatSettings)\n    ], DataSourceSettings.prototype, \"conditionalFormatSettings\", void 0);\n    __decorate([\n        Property()\n    ], DataSourceSettings.prototype, \"emptyCellsTextContent\", void 0);\n    __decorate([\n        Collection([], GroupSettings)\n    ], DataSourceSettings.prototype, \"groupSettings\", void 0);\n    return DataSourceSettings;\n}(ChildProperty));\nexport { DataSourceSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Event } from '@syncfusion/ej2-base';\n/**\n * Interface for a class SelectionSettings\n */\nvar PivotSelectionSettings = /** @class */ (function (_super) {\n    __extends(PivotSelectionSettings, _super);\n    function PivotSelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], PivotSelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], PivotSelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], PivotSelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotSelectionSettings.prototype, \"checkboxOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotSelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property('Default')\n    ], PivotSelectionSettings.prototype, \"checkboxMode\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotSelectionSettings.prototype, \"enableSimpleMultiRowSelection\", void 0);\n    return PivotSelectionSettings;\n}(ChildProperty));\nexport { PivotSelectionSettings };\n/**\n *  Represents Pivot widget model class.\n */\nvar GridSettings = /** @class */ (function (_super) {\n    __extends(GridSettings, _super);\n    function GridSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('auto')\n    ], GridSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], GridSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property('Both')\n    ], GridSettings.prototype, \"gridLines\", void 0);\n    __decorate([\n        Property(false)\n    ], GridSettings.prototype, \"allowTextWrap\", void 0);\n    __decorate([\n        Property(false)\n    ], GridSettings.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(true)\n    ], GridSettings.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(null)\n    ], GridSettings.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(110)\n    ], GridSettings.prototype, \"columnWidth\", void 0);\n    __decorate([\n        Property('Ellipsis')\n    ], GridSettings.prototype, \"clipMode\", void 0);\n    __decorate([\n        Property(false)\n    ], GridSettings.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(-1)\n    ], GridSettings.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property({ mode: 'Row', cellSelectionMode: 'Flow', type: 'Single' })\n    ], GridSettings.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property({ WrapMode: 'Both' })\n    ], GridSettings.prototype, \"textWrapSettings\", void 0);\n    __decorate([\n        Property('AllPages')\n    ], GridSettings.prototype, \"printMode\", void 0);\n    __decorate([\n        Property()\n    ], GridSettings.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"beforeCopy\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"printComplete\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"pdfHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], GridSettings.prototype, \"columnRender\", void 0);\n    return GridSettings;\n}(ChildProperty));\nexport { GridSettings };\n","import { Workbook } from '@syncfusion/ej2-excel-export';\nimport * as events from '../../common/base/constant';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PivotUtil } from '../../base/util';\n/**\n * @hidden\n * `ExcelExport` module is used to handle the Excel export action.\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for the PivotGrid Excel Export module.\n     * @hidden\n     */\n    function ExcelExport(parent) {\n        this.parent = parent;\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /* tslint:disable:max-func-body-length */\n    /**\n     * Method to perform excel export.\n     * @hidden\n     */\n    ExcelExport.prototype.exportToExcel = function (type) {\n        this.engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n        /** Event trigerring */\n        var clonedValues;\n        var currentPivotValues = PivotUtil.getClonedPivotValues(this.engine.pivotValues);\n        if (this.parent.enableVirtualization && this.parent.dataType !== 'olap') {\n            var pageSettings = this.engine.pageSettings;\n            this.engine.pageSettings = null;\n            this.engine.generateGridData(this.parent.dataSourceSettings);\n            this.parent.applyFormatting(this.engine.pivotValues);\n            clonedValues = PivotUtil.getClonedPivotValues(this.engine.pivotValues);\n            this.engine.pivotValues = currentPivotValues;\n            this.engine.pageSettings = pageSettings;\n        }\n        else {\n            clonedValues = currentPivotValues;\n        }\n        var args = {\n            fileName: 'default', header: '', footer: '', dataCollections: [clonedValues]\n        };\n        this.parent.trigger(events.beforeExport, args);\n        var fileName = args.fileName;\n        var header = args.header;\n        var footer = args.footer;\n        var dataCollections = args.dataCollections;\n        /** Fill data and export */\n        /* tslint:disable-next-line:no-any */\n        var workSheets = [];\n        for (var dataColl = 0; dataColl < dataCollections.length; dataColl++) {\n            var pivotValues = dataCollections[dataColl];\n            var colLen = 0;\n            var rowLen = pivotValues.length;\n            var actualrCnt = 0;\n            var formatList = this.parent.renderModule.getFormatList();\n            var rows = [];\n            var maxLevel = 0;\n            for (var rCnt = 0; rCnt < rowLen; rCnt++) {\n                if (pivotValues[rCnt]) {\n                    actualrCnt++;\n                    colLen = pivotValues[rCnt].length;\n                    var cells = [];\n                    for (var cCnt = 0; cCnt < colLen; cCnt++) {\n                        if (pivotValues[rCnt][cCnt]) {\n                            var pivotCell = pivotValues[rCnt][cCnt];\n                            if (!(pivotCell.level === -1 && !pivotCell.rowSpan)) {\n                                var cellValue = pivotCell.axis === 'value' ? pivotCell.value : pivotCell.formattedText;\n                                if (pivotCell.type === 'grand sum') {\n                                    cellValue = this.parent.localeObj.getConstant('grandTotal');\n                                }\n                                else if (pivotCell.type === 'sum') {\n                                    cellValue = cellValue.toString().replace('Total', this.parent.localeObj.getConstant('total'));\n                                }\n                                else {\n                                    cellValue = cellValue;\n                                }\n                                if (!(pivotCell.level === -1 && !pivotCell.rowSpan)) {\n                                    cells.push({\n                                        index: cCnt + 1, value: cellValue,\n                                        colSpan: pivotCell.colSpan, rowSpan: (pivotCell.rowSpan === -1 ? 1 : pivotCell.rowSpan),\n                                    });\n                                    if (pivotCell.axis === 'value') {\n                                        if (isNaN(pivotCell.value) || pivotCell.formattedText === '' ||\n                                            pivotCell.formattedText === undefined || isNullOrUndefined(pivotCell.value)) {\n                                            cells[cells.length - 1].value = '';\n                                        }\n                                        var field = (this.parent.dataSourceSettings.valueAxis === 'row' &&\n                                            this.parent.dataType === 'olap' && pivotCell.rowOrdinal &&\n                                            this.engine.tupRowInfo[pivotCell.rowOrdinal]) ?\n                                            this.engine.tupRowInfo[pivotCell.rowOrdinal].measureName :\n                                            pivotCell.actualText;\n                                        cells[cells.length - 1].style = {\n                                            numberFormat: formatList[field], bold: false, wrapText: true\n                                        };\n                                        if (pivotCell.style) {\n                                            cells[cells.length - 1].style.backColor = pivotCell.style.backgroundColor;\n                                            cells[cells.length - 1].style.fontColor = pivotCell.style.color;\n                                            cells[cells.length - 1].style.fontName = pivotCell.style.fontFamily;\n                                            cells[cells.length - 1].style.fontSize = Number(pivotCell.style.fontSize.split('px')[0]);\n                                        }\n                                    }\n                                    else {\n                                        cells[cells.length - 1].style = {\n                                            bold: true, vAlign: 'Center', wrapText: true, indent: cCnt === 0 ? pivotCell.level * 10 : 0\n                                        };\n                                        if (pivotCell.axis === 'row' && cCnt === 0) {\n                                            cells[cells.length - 1].style.hAlign = 'Left';\n                                            if (this.parent.dataType === 'olap') {\n                                                var indent = this.parent.renderModule.indentCollection[rCnt];\n                                                cells[cells.length - 1].style.indent = indent * 2;\n                                                maxLevel = maxLevel > indent ? maxLevel : indent;\n                                            }\n                                            else {\n                                                cells[cells.length - 1].style.indent = pivotCell.level * 2;\n                                                maxLevel = pivotCell.level > maxLevel ? pivotCell.level : maxLevel;\n                                            }\n                                        }\n                                    }\n                                    cells[cells.length - 1].style.borders = { color: '#000000', lineStyle: 'Thin' };\n                                }\n                            }\n                            cCnt = cCnt + (pivotCell.colSpan ? (pivotCell.colSpan - 1) : 0);\n                        }\n                        else {\n                            cells.push({\n                                index: cCnt + 1, value: '', colSpan: 1, rowSpan: 1,\n                            });\n                        }\n                    }\n                    rows.push({ index: actualrCnt, cells: cells });\n                }\n            }\n            var columns = [];\n            for (var cCnt = 0; cCnt < colLen; cCnt++) {\n                columns.push({ index: cCnt + 1, width: 100 });\n            }\n            if (maxLevel > 0) {\n                columns[0].width = 100 + (maxLevel * 20);\n            }\n            workSheets.push({ columns: columns, rows: rows });\n        }\n        var book = new Workbook({ worksheets: workSheets }, type === 'Excel' ? 'xlsx' : 'csv');\n        book.save(fileName + (type === 'Excel' ? '.xlsx' : '.csv'));\n    };\n    /**\n     * To destroy the excel export module\n     * @returns void\n     * @hidden\n     */\n    /* tslint:disable:no-empty */\n    ExcelExport.prototype.destroy = function () {\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { PdfGrid, PdfPen, PointF, PdfDocument, PdfStandardFont, PdfFontFamily, PdfSolidBrush, PdfColor, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfFontStyle, PdfPageTemplateElement, RectangleF, PdfBorders } from '@syncfusion/ej2-pdf-export';\nimport * as events from '../../common/base/constant';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PivotUtil } from '../../base/util';\n/**\n * @hidden\n * `PDFExport` module is used to handle the PDF export action.\n */\nvar PDFExport = /** @class */ (function () {\n    /**\n     * Constructor for the PivotGrid PDF Export module.\n     * @hidden\n     */\n    function PDFExport(parent) {\n        this.parent = parent;\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    PDFExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    PDFExport.prototype.addPage = function (eventParams) {\n        var page = eventParams.document.pages.add();\n        var header = eventParams.args.header;\n        var footer = eventParams.args.footer;\n        var font = new PdfStandardFont(PdfFontFamily.TimesRoman, 15, PdfFontStyle.Regular);\n        var brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        var pen = new PdfPen(new PdfColor(0, 0, 0), .5);\n        /** Header and Footer to be set */\n        var headerTemplate = new PdfPageTemplateElement(new RectangleF(0, 0, page.graphics.clientSize.width, 20));\n        headerTemplate.graphics.drawString(header, font, pen, brush, 0, 0, new PdfStringFormat(PdfTextAlignment.Center));\n        eventParams.document.template.top = headerTemplate;\n        var footerTemplate = new PdfPageTemplateElement(new RectangleF(0, 0, page.graphics.clientSize.width, 20));\n        footerTemplate.graphics.drawString(footer, font, pen, brush, 0, 0, new PdfStringFormat(PdfTextAlignment.Center));\n        eventParams.document.template.bottom = footerTemplate;\n        return page;\n    };\n    PDFExport.prototype.hexDecToRgb = function (hexDec) {\n        if (hexDec === null || hexDec === '' || hexDec.length !== 7) {\n            throw new Error('please set valid hex value for color..');\n        }\n        hexDec = hexDec.substring(1);\n        var bigint = parseInt(hexDec, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    PDFExport.prototype.getFontStyle = function (theme) {\n        var fontType = PdfFontStyle.Regular;\n        if (!isNullOrUndefined(theme) && theme.bold) {\n            fontType |= PdfFontStyle.Bold;\n        }\n        if (!isNullOrUndefined(theme) && theme.italic) {\n            fontType |= PdfFontStyle.Italic;\n        }\n        if (!isNullOrUndefined(theme) && theme.underline) {\n            fontType |= PdfFontStyle.Underline;\n        }\n        if (!isNullOrUndefined(theme) && theme.strikeout) {\n            fontType |= PdfFontStyle.Strikeout;\n        }\n        return fontType;\n    };\n    PDFExport.prototype.getBorderStyle = function (borderStyle) {\n        var borders = new PdfBorders();\n        if (!isNullOrUndefined(borderStyle)) {\n            var borderWidth = borderStyle.width;\n            // set border width\n            var width = (!isNullOrUndefined(borderWidth) && typeof borderWidth === 'number') ? borderWidth * 0.75 : undefined;\n            // set border color\n            var color = new PdfColor(196, 196, 196);\n            if (!isNullOrUndefined(borderStyle.color)) {\n                var borderColor = this.hexDecToRgb(borderStyle.color);\n                color = new PdfColor(borderColor.r, borderColor.g, borderColor.b);\n            }\n            var pen = new PdfPen(color, width);\n            // set border dashStyle 'Solid <default>, Dash, Dot, DashDot, DashDotDot'\n            if (!isNullOrUndefined(borderStyle.dashStyle)) {\n                pen.dashStyle = this.getDashStyle(borderStyle.dashStyle);\n            }\n            borders.all = pen;\n        }\n        else {\n            var pdfColor = new PdfColor(234, 234, 234);\n            borders.all = new PdfPen(pdfColor);\n        }\n        return borders;\n    };\n    PDFExport.prototype.getDashStyle = function (dashType) {\n        switch (dashType) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    PDFExport.prototype.getStyle = function () {\n        var border = new PdfBorders();\n        if (!isNullOrUndefined(this.gridStyle)) {\n            var fontFamily = !isNullOrUndefined(this.gridStyle.header.fontName) ?\n                this.getFontFamily(this.gridStyle.header.fontName) : PdfFontFamily.Helvetica;\n            var fontStyle = this.getFontStyle(this.gridStyle.header);\n            var fontSize = !isNullOrUndefined(this.gridStyle.header.fontSize) ? this.gridStyle.header.fontSize : 10.5;\n            var pdfColor = new PdfColor();\n            if (!isNullOrUndefined(this.gridStyle.header.fontColor)) {\n                var penBrushColor = this.hexDecToRgb(this.gridStyle.header.fontColor);\n                pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);\n            }\n            var font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n            if (!isNullOrUndefined(this.gridStyle.header.font)) {\n                font = this.gridStyle.header.font;\n            }\n            return {\n                border: this.getBorderStyle(this.gridStyle.header.border), font: font, brush: new PdfSolidBrush(pdfColor)\n            };\n        }\n        else {\n            return {\n                brush: new PdfSolidBrush(new PdfColor()),\n                border: border, font: undefined\n            };\n        }\n    };\n    PDFExport.prototype.setRecordThemeStyle = function (row, border) {\n        if (!isNullOrUndefined(this.gridStyle) && !isNullOrUndefined(this.gridStyle.record)) {\n            var fontFamily = !isNullOrUndefined(this.gridStyle.record.fontName) ?\n                this.getFontFamily(this.gridStyle.record.fontName) : PdfFontFamily.Helvetica;\n            var fontSize = !isNullOrUndefined(this.gridStyle.record.fontSize) ? this.gridStyle.record.fontSize : 9.75;\n            var fontStyle = this.getFontStyle(this.gridStyle.record);\n            var font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n            if (!isNullOrUndefined(this.gridStyle.record.font)) {\n                font = this.gridStyle.record.font;\n            }\n            row.style.setFont(font);\n            var pdfColor = new PdfColor();\n            if (!isNullOrUndefined(this.gridStyle.record.fontColor)) {\n                var penBrushColor = this.hexDecToRgb(this.gridStyle.record.fontColor);\n                pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);\n            }\n            row.style.setTextBrush(new PdfSolidBrush(pdfColor));\n        }\n        var borderRecord = this.gridStyle && this.gridStyle.record &&\n            this.gridStyle.record.border ? this.getBorderStyle(this.gridStyle.record.border) : border;\n        row.style.setBorder(borderRecord);\n        return row;\n    };\n    /**\n     * Method to perform pdf export.\n     * @hidden\n     */\n    /* tslint:disable:max-func-body-length */\n    PDFExport.prototype.exportToPDF = function () {\n        this.engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n        var eventParams = this.applyEvent();\n        var headerStyle = this.getStyle();\n        var indent = this.parent.renderModule.maxIndent ? this.parent.renderModule.maxIndent : 5;\n        var firstColumnWidth = 100 + (indent * 20);\n        var size = Math.floor((540 - firstColumnWidth) / 90) + 1;\n        /** Fill data and export */\n        var dataCollIndex = 0;\n        var pivotValues = eventParams.args.dataCollections[dataCollIndex];\n        for (var vLen = 0; eventParams.args.allowRepeatHeader && size > 1 && vLen < pivotValues.length; vLen++) {\n            for (var vCnt = size; pivotValues[vLen] && vCnt < pivotValues[vLen].length; vCnt += size) {\n                pivotValues[vLen].splice(vCnt, 0, pivotValues[vLen][0]);\n            }\n        }\n        var colLength = pivotValues && pivotValues.length > 0 ? pivotValues[0].length : 0;\n        var integratedCnt = 0;\n        do {\n            var page = this.addPage(eventParams);\n            var pdfGrid = new PdfGrid();\n            var pageSize = size > 1 ? size : 5;\n            if (pivotValues && pivotValues.length > 0) {\n                pdfGrid.columns.add(pivotValues[0].length - integratedCnt >= pageSize ? pageSize : pivotValues[0].length - integratedCnt);\n                var rowLen = pivotValues.length;\n                var actualrCnt = 0;\n                var maxLevel = 0;\n                for (var rCnt = 0; rCnt < rowLen; rCnt++) {\n                    if (pivotValues[rCnt]) {\n                        var isColHeader = !(pivotValues[rCnt][0] && pivotValues[rCnt][0].axis === 'row');\n                        var colLen = pivotValues[rCnt].length > (integratedCnt + pageSize) ? (integratedCnt + pageSize) :\n                            pivotValues[rCnt].length;\n                        if (isColHeader) {\n                            pdfGrid.headers.add(1);\n                        }\n                        var pdfGridRow = !isColHeader ? pdfGrid.rows.addRow() : pdfGrid.headers.getHeader(actualrCnt);\n                        if (isColHeader) {\n                            pdfGridRow.style.setBorder(headerStyle.border);\n                            if (headerStyle.font) {\n                                pdfGridRow.style.setFont(headerStyle.font);\n                            }\n                            pdfGridRow.style.setTextBrush(headerStyle.brush);\n                        }\n                        else {\n                            this.setRecordThemeStyle(pdfGridRow, headerStyle.border);\n                        }\n                        var localCnt = 0;\n                        var isEmptyRow = true;\n                        for (var cCnt = integratedCnt; cCnt < colLen; cCnt++) {\n                            var isValueCell = false;\n                            if (pivotValues[rCnt][cCnt]) {\n                                var pivotCell = pivotValues[rCnt][cCnt];\n                                if (!(pivotCell.level === -1 && !pivotCell.rowSpan)) {\n                                    var cellValue = pivotCell.formattedText;\n                                    cellValue = pivotCell.type === 'grand sum' ? this.parent.localeObj.getConstant('grandTotal') :\n                                        (pivotCell.type === 'sum' ?\n                                            cellValue.toString().replace('Total', this.parent.localeObj.getConstant('total')) : cellValue);\n                                    if (!(pivotCell.level === -1 && !pivotCell.rowSpan)) {\n                                        pdfGridRow.cells.getCell(localCnt).columnSpan = pivotCell.colSpan ?\n                                            (pageSize - localCnt < pivotCell.colSpan ? pageSize - localCnt : pivotCell.colSpan) : 1;\n                                        if (isColHeader && pivotCell.rowSpan && pivotCell.rowSpan > 1) {\n                                            pdfGridRow.cells.getCell(localCnt).rowSpan = pivotCell.rowSpan ? pivotCell.rowSpan : 1;\n                                        }\n                                        pdfGridRow.cells.getCell(localCnt).value = cellValue ? cellValue.toString() : '';\n                                    }\n                                    if (cellValue !== '') {\n                                        isEmptyRow = false;\n                                    }\n                                }\n                                maxLevel = pivotCell.level > maxLevel ? pivotCell.level : maxLevel;\n                                isValueCell = pivotCell.axis === 'value';\n                                cCnt = cCnt + (pdfGridRow.cells.getCell(localCnt).columnSpan ?\n                                    (pdfGridRow.cells.getCell(localCnt).columnSpan - 1) : 0);\n                                localCnt = localCnt + (pdfGridRow.cells.getCell(localCnt).columnSpan ?\n                                    (pdfGridRow.cells.getCell(localCnt).columnSpan - 1) : 0);\n                                if (pivotCell.style) {\n                                    pdfGridRow = this.applyStyle(pdfGridRow, pivotCell, localCnt);\n                                }\n                                var args = {\n                                    style: (pivotCell && pivotCell.isSum) ? { bold: true } : undefined,\n                                    pivotCell: pivotCell,\n                                    cell: pdfGridRow.cells.getCell(localCnt)\n                                };\n                                this.parent.trigger(events.onPdfCellRender, args);\n                                if (args.style) {\n                                    this.processCellStyle(pdfGridRow.cells.getCell(localCnt), args);\n                                }\n                            }\n                            else {\n                                var args = {\n                                    style: undefined,\n                                    pivotCell: undefined,\n                                    cell: pdfGridRow.cells.getCell(localCnt)\n                                };\n                                this.parent.trigger(events.onPdfCellRender, args);\n                                if (args.style) {\n                                    this.processCellStyle(pdfGridRow.cells.getCell(localCnt), args);\n                                }\n                                pdfGridRow.cells.getCell(localCnt).value = '';\n                                if (cCnt === 0 && isColHeader && this.parent.dataSourceSettings.columns &&\n                                    this.parent.dataSourceSettings.columns.length > 0) {\n                                    pdfGrid.headers.getHeader(0).cells.getCell(0).rowSpan++;\n                                }\n                                else if (cCnt !== 0 && isColHeader && this.parent.dataSourceSettings.columns &&\n                                    this.parent.dataSourceSettings.columns.length > 0 &&\n                                    pdfGrid.headers.getHeader(0).cells.getCell(0).rowSpan <\n                                        Object.keys(this.engine.headerContent).length) {\n                                    pdfGrid.headers.getHeader(0).cells.getCell(0).rowSpan++;\n                                }\n                            }\n                            var stringFormat = new PdfStringFormat();\n                            if (this.parent.dataType === 'olap') {\n                                var indent_1 = (!isColHeader && localCnt === 0 && pivotValues[rCnt][cCnt]) ?\n                                    (this.parent.renderModule.indentCollection[pivotValues[rCnt][cCnt].rowIndex]) : 0;\n                                stringFormat.paragraphIndent = indent_1 * 15;\n                                maxLevel = maxLevel > indent_1 ? maxLevel : indent_1;\n                            }\n                            else {\n                                stringFormat.paragraphIndent = (!isColHeader && localCnt === 0 && pivotValues[rCnt][cCnt] &&\n                                    pivotValues[rCnt][cCnt].level !== -1) ?\n                                    pivotValues[rCnt][cCnt].level * 15 : 0;\n                            }\n                            stringFormat.alignment = isValueCell ? PdfTextAlignment.Right : PdfTextAlignment.Left;\n                            stringFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                            pdfGridRow.cells.getCell(localCnt).style.stringFormat = stringFormat;\n                            localCnt++;\n                        }\n                        if (isEmptyRow) {\n                            pdfGridRow.height = 16;\n                        }\n                        actualrCnt++;\n                    }\n                }\n                pdfGrid.columns.getColumn(0).width = 100 + (maxLevel * 20);\n            }\n            if (integratedCnt === 0 && this.parent.dataSourceSettings.columns && this.parent.dataSourceSettings.columns.length > 0) {\n                pdfGrid.headers.getHeader(0).cells.getCell(0).rowSpan--;\n            }\n            pdfGrid.draw(page, new PointF(10, 20));\n            integratedCnt = integratedCnt + pageSize;\n            if (integratedCnt >= colLength && eventParams.args.dataCollections.length > (dataCollIndex + 1)) {\n                dataCollIndex++;\n                pivotValues = eventParams.args.dataCollections[dataCollIndex];\n                colLength = pivotValues && pivotValues.length > 0 ? pivotValues[0].length : 0;\n                integratedCnt = 0;\n            }\n        } while (integratedCnt < colLength);\n        eventParams.document.save(eventParams.args.fileName + '.pdf');\n        eventParams.document.destroy();\n    };\n    PDFExport.prototype.applyStyle = function (pdfGridRow, pivotCell, localCnt) {\n        var color = this.parent.conditionalFormattingModule.hexToRgb(pivotCell.style.backgroundColor);\n        var brush = new PdfSolidBrush(new PdfColor(color.r, color.g, color.b));\n        pdfGridRow.cells.getCell(localCnt).style.backgroundBrush = brush;\n        var size = Number(pivotCell.style.fontSize.split('px')[0]);\n        var font = new PdfStandardFont(PdfFontFamily.TimesRoman, size, PdfFontStyle.Regular);\n        pdfGridRow.cells.getCell(localCnt).style.font = font;\n        color = this.parent.conditionalFormattingModule.hexToRgb(pivotCell.style.color);\n        brush = new PdfSolidBrush(new PdfColor(color.r, color.g, color.b));\n        pdfGridRow.cells.getCell(localCnt).style.textBrush = brush;\n        return pdfGridRow;\n    };\n    PDFExport.prototype.getFontFamily = function (family) {\n        switch (family) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    /* tslint:disable-next-line:no-any */\n    PDFExport.prototype.getFont = function (theme) {\n        if (theme.style.font) {\n            return theme.style.font;\n        }\n        var fontSize = (theme.cell.cellStyle.font && theme.cell.cellStyle.font.fontSize) ? theme.cell.cellStyle.font.fontSize :\n            (!isNullOrUndefined(theme.style.fontSize)) ? (theme.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(theme.style.fontFamily)) ?\n            (this.getFontFamily(theme.style.fontFamily)) : PdfFontFamily.TimesRoman;\n        var fontStyle = PdfFontStyle.Regular;\n        if (!isNullOrUndefined(theme.style.bold) && theme.style.bold) {\n            fontStyle |= PdfFontStyle.Bold;\n        }\n        if (!isNullOrUndefined(theme.style.italic) && theme.style.italic) {\n            fontStyle |= PdfFontStyle.Italic;\n        }\n        if (!isNullOrUndefined(theme.style.underline) && theme.style.underline) {\n            fontStyle |= PdfFontStyle.Underline;\n        }\n        if (!isNullOrUndefined(theme.style.strikeout) && theme.style.strikeout) {\n            fontStyle |= PdfFontStyle.Strikeout;\n        }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    PDFExport.prototype.processCellStyle = function (gridCell, arg) {\n        if (!isNullOrUndefined(arg.style.backgroundColor)) {\n            var backColor = this.hexDecToRgb(arg.style.backgroundColor);\n            gridCell.style.backgroundBrush = new PdfSolidBrush(new PdfColor(backColor.r, backColor.g, backColor.b));\n        }\n        if (!isNullOrUndefined(arg.style.textBrushColor)) {\n            var textBrushColor = this.hexDecToRgb(arg.style.textBrushColor);\n            gridCell.style.textBrush = new PdfSolidBrush(new PdfColor(textBrushColor.r, textBrushColor.g, textBrushColor.b));\n        }\n        if (!isNullOrUndefined(arg.style.textPenColor)) {\n            var textColor = this.hexDecToRgb(arg.style.textPenColor);\n            gridCell.style.textPen = new PdfPen(new PdfColor(textColor.r, textColor.g, textColor.b));\n        }\n        if (!isNullOrUndefined(arg.style.fontFamily) || !isNullOrUndefined(arg.style.fontSize) || !isNullOrUndefined(arg.style.bold) ||\n            !isNullOrUndefined(arg.style.italic) || !isNullOrUndefined(arg.style.underline) || !isNullOrUndefined(arg.style.strikeout)) {\n            gridCell.style.font = this.getFont(arg);\n        }\n        if (!isNullOrUndefined(arg.style.border)) {\n            var border = new PdfBorders();\n            var borderWidth = arg.style.border.width;\n            // set border width\n            var width = (!isNullOrUndefined(borderWidth) && typeof borderWidth === 'number') ? (borderWidth * 0.75) : (undefined);\n            // set border color\n            var color = new PdfColor(196, 196, 196);\n            if (!isNullOrUndefined(arg.style.border.color)) {\n                var borderColor = this.hexDecToRgb(arg.style.border.color);\n                color = new PdfColor(borderColor.r, borderColor.g, borderColor.b);\n            }\n            var pen = new PdfPen(color, width);\n            // set border dashStyle 'Solid <default>, Dash, Dot, DashDot, DashDotDot'\n            if (!isNullOrUndefined(arg.style.border.dashStyle)) {\n                pen.dashStyle = this.getDashStyle(arg.style.border.dashStyle);\n            }\n            border.all = pen;\n            gridCell.style.borders = border;\n        }\n    };\n    PDFExport.prototype.applyEvent = function () {\n        /** Event trigerring */\n        var clonedValues;\n        var currentPivotValues = PivotUtil.getClonedPivotValues(this.engine.pivotValues);\n        if (this.parent.enableVirtualization && this.parent.dataType !== 'olap') {\n            var pageSettings = this.engine.pageSettings;\n            this.engine.pageSettings = null;\n            this.engine.generateGridData(this.parent.dataSourceSettings);\n            this.parent.applyFormatting(this.engine.pivotValues);\n            clonedValues = PivotUtil.getClonedPivotValues(this.engine.pivotValues);\n            this.engine.pivotValues = currentPivotValues;\n            this.engine.pageSettings = pageSettings;\n        }\n        else {\n            clonedValues = currentPivotValues;\n        }\n        var style;\n        var args = {\n            fileName: 'default', header: '', footer: '', dataCollections: [clonedValues], allowRepeatHeader: true, style: style\n        };\n        this.parent.trigger(events.beforeExport, args);\n        this.gridStyle = args.style;\n        var document = new PdfDocument();\n        return { document: document, args: args };\n    };\n    /**\n     * To destroy the pdf export module\n     * @returns void\n     * @hidden\n     */\n    /* tslint:disable:no-empty */\n    PDFExport.prototype.destroy = function () {\n    };\n    return PDFExport;\n}());\nexport { PDFExport };\n","import { KeyboardEvents, closest, addClass, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\n/**\n * PivotView Keyboard interaction\n */\n/** @hidden */\nvar KeyboardInteraction = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function KeyboardInteraction(parent) {\n        this.keyConfigs = {\n            tab: 'tab',\n            enter: 'enter',\n            shiftUp: 'shift+upArrow',\n            shiftDown: 'shift+downArrow',\n            shiftLeft: 'shift+leftArrow',\n            shiftRight: 'shift+rightArrow',\n            upArrow: 'upArrow',\n            downArrow: 'downArrow',\n            leftArrow: 'leftArrow',\n            rightArrow: 'rightArrow',\n            escape: 'escape'\n        };\n        this.parent = parent;\n        this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n        this.pivotViewKeyboardModule = new KeyboardEvents(this.parent.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    KeyboardInteraction.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'tab':\n                this.processTab(e);\n                break;\n            case 'enter':\n                this.processEnter(e);\n                break;\n            case 'shiftUp':\n            case 'shiftDown':\n            case 'shiftLeft':\n            case 'shiftRight':\n            case 'upArrow':\n            case 'downArrow':\n            case 'leftArrow':\n            case 'rightArrow':\n                this.processSelection(e);\n                break;\n            case 'escape':\n                this.clearSelection();\n                break;\n        }\n    };\n    KeyboardInteraction.prototype.getNextButton = function (target) {\n        var allPivotButtons = [].slice.call(this.parent.element.querySelectorAll('.' + cls.PIVOT_BUTTON_CLASS));\n        var nextElement = target;\n        if (this.parent.grid.element.querySelector('.' + cls.PIVOT_BUTTON_CLASS)) {\n            var len = allPivotButtons.length;\n            for (var i = 0; i < len; i++) {\n                if (allPivotButtons[i].getAttribute('data-uid') === target.getAttribute('data-uid')) {\n                    nextElement = allPivotButtons[i + 1] ? allPivotButtons[i + 1] : nextElement;\n                    break;\n                }\n            }\n        }\n        return nextElement;\n    };\n    KeyboardInteraction.prototype.processTab = function (e) {\n        var target = e.target;\n        if (target && closest(target, '.' + cls.PIVOT_BUTTON_CLASS)) {\n            var gridFocus = this.parent.grid.serviceLocator.getService('focus');\n            var nextButton = this.getNextButton(target);\n            if (nextButton.getAttribute('data-uid') !== target.getAttribute('data-uid')) {\n                gridFocus.currentInfo.skipAction = true;\n                nextButton.focus();\n            }\n            else {\n                gridFocus.focus();\n                var element = gridFocus.getFocusedElement();\n                addClass([element], ['e-focused', 'e-focus']);\n                element.setAttribute('tabindex', '0');\n            }\n            e.preventDefault();\n            return;\n        }\n        else if (!this.parent.showGroupingBar && this.parent.showFieldList) {\n            if (target && closest(target, '.' + cls.TOGGLE_FIELD_LIST_CLASS)) {\n                var gridFocus = this.parent.grid.serviceLocator.getService('focus');\n                gridFocus.focus();\n                var element = gridFocus.getFocusedElement();\n                addClass([element], ['e-focused', 'e-focus']);\n                element.setAttribute('tabindex', '0');\n            }\n        }\n        else if (!this.parent.showGroupingBar && !this.parent.showFieldList) {\n            if (target && closest(target, '.' + cls.PIVOT_VIEW_CLASS)) {\n                var gridElement = closest(target, '.' + cls.PIVOT_VIEW_CLASS);\n                var gridFocus = this.parent.grid.serviceLocator.getService('focus');\n                var rows = [].slice.call(gridElement.getElementsByTagName('tr'));\n                if (target.innerHTML === (rows[rows.length - 1]).lastChild.innerHTML) {\n                    gridFocus.currentInfo.skipAction = true;\n                }\n                else {\n                    gridFocus.focus();\n                    var element = gridFocus.getFocusedElement();\n                    addClass([element], ['e-focused', 'e-focus']);\n                    element.setAttribute('tabindex', '0');\n                }\n            }\n        }\n    };\n    KeyboardInteraction.prototype.processEnter = function (e) {\n        var target = e.target;\n        if (target && closest(target, '.' + cls.GRID_CLASS)) {\n            if (target.querySelector('.' + cls.ICON)) {\n                target.querySelector('.' + cls.ICON).click();\n            }\n            else if (target.classList.contains('e-valuescontent')) {\n                target.dispatchEvent(new MouseEvent('dblclick', {\n                    'view': window,\n                    'bubbles': true,\n                    'cancelable': true\n                }));\n            }\n            e.preventDefault();\n            return;\n        }\n    };\n    KeyboardInteraction.prototype.clearSelection = function () {\n        var control = this.parent;\n        /* tslint:disable */\n        [].slice.call(control.element.querySelectorAll('.' + cls.CELL_SELECTED_BGCOLOR + ',.' + cls.SELECTED_BGCOLOR)).forEach(function (ele) {\n            ele.classList.remove(cls.SELECTED_BGCOLOR);\n            ele.classList.remove(cls.CELL_SELECTED_BGCOLOR);\n            ele.classList.remove(cls.CELL_ACTIVE_BGCOLOR);\n        });\n        this.parent.renderModule.selected();\n        /* tslint:enable */\n    };\n    KeyboardInteraction.prototype.processSelection = function (e) {\n        if (this.parent.gridSettings.allowSelection && this.parent.gridSettings.selectionSettings.mode !== 'Row') {\n            var target = e.target;\n            var control_1 = this.parent;\n            var colIndex_1 = Number(e.target.getAttribute('aria-colIndex'));\n            var rowIndex_1 = Number(e.target.getAttribute('index'));\n            var ele_1;\n            /* tslint:disable */\n            if (target.nodeName === 'TH' || target.nodeName === 'TD') {\n                if (e.action === 'shiftUp' || e.action === 'upArrow') {\n                    ele_1 = (rowIndex_1 === 0 || colIndex_1 === 0 || (target.nodeName !== 'TH' &&\n                        control_1.renderModule.rowStartPos !== rowIndex_1)) ? null : this.getParentElement(control_1, ele_1, colIndex_1, rowIndex_1 - 1);\n                }\n                else if (e.action === 'shiftDown' || e.action === 'downArrow') {\n                    ele_1 = control_1.element.querySelector('th[aria-colindex=\"' + colIndex_1 + '\"][index=\"' + (rowIndex_1 + 1) + '\"]');\n                }\n                else if (e.action === 'shiftLeft' || e.action === 'leftArrow') {\n                    ele_1 = e.target.previousSibling;\n                }\n                else {\n                    ele_1 = e.target.nextSibling;\n                }\n            }\n            if (!isNullOrUndefined(ele_1)) {\n                if (control_1.gridSettings.selectionSettings.mode === 'Both' ? !ele_1.classList.contains(cls.ROW_CELL_CLASS) : true) {\n                    colIndex_1 = Number(ele_1.getAttribute('aria-colindex'));\n                    rowIndex_1 = Number(ele_1.getAttribute('index'));\n                    var colSpan_1 = Number(ele_1.getAttribute('aria-colspan'));\n                    control_1.clearSelection(ele_1, e, colIndex_1, rowIndex_1);\n                    var selectArgs = {\n                        cancel: false,\n                        isCellClick: true,\n                        currentCell: ele_1,\n                        data: control_1.pivotValues[rowIndex_1][colIndex_1]\n                    };\n                    control_1.trigger(events.cellSelecting, selectArgs, function (observedArgs) {\n                        if (!observedArgs.cancel) {\n                            control_1.applyColumnSelection(e, ele_1, colIndex_1, colIndex_1 + (colSpan_1 > 0 ? (colSpan_1 - 1) : 0), rowIndex_1);\n                        }\n                    });\n                }\n                else {\n                    control_1.clearSelection(ele_1, e, colIndex_1, rowIndex_1);\n                }\n            }\n            else {\n                if (e.action === 'upArrow') {\n                    ele_1 = control_1.element.querySelector('[aria-colindex=\"' + colIndex_1 + '\"][index=\"' + (rowIndex_1 - 1) + '\"]');\n                    rowIndex_1--;\n                }\n                else if (e.action === 'downArrow') {\n                    ele_1 = control_1.element.querySelector('[aria-colindex=\"' + colIndex_1 + '\"][index=\"' + (rowIndex_1 + 1) + '\"]');\n                    rowIndex_1++;\n                }\n                if (!isNullOrUndefined(ele_1)) {\n                    control_1.clearSelection(ele_1, e, colIndex_1, rowIndex_1);\n                }\n            }\n        }\n        /* tslint:enable */\n    };\n    KeyboardInteraction.prototype.getParentElement = function (control, ele, colIndex, rowIndex) {\n        while (!ele) {\n            ele = control.element.querySelector('[aria-colindex=\"' + colIndex + '\"][index=\"' + rowIndex + '\"]');\n            colIndex--;\n        }\n        return ele;\n    };\n    /**\n     * To destroy the keyboard module.\n     * @return {void}\n     * @private\n     */\n    KeyboardInteraction.prototype.destroy = function () {\n        if (this.pivotViewKeyboardModule) {\n            this.pivotViewKeyboardModule.destroy();\n        }\n        else {\n            return;\n        }\n    };\n    return KeyboardInteraction;\n}());\nexport { KeyboardInteraction };\n","import { createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport { ContextMenu } from '@syncfusion/ej2-navigations';\n/**\n * Module to render Pivot button\n */\n/** @hidden */\nvar PivotContextMenu = /** @class */ (function () {\n    /** Constructor for render module */\n    function PivotContextMenu(parent) {\n        this.parent = parent;\n        this.parent.contextMenuModule = this;\n    }\n    /**\n     * Initialize the pivot table rendering\n     * @returns void\n     * @private\n     */\n    PivotContextMenu.prototype.render = function () {\n        this.renderContextMenu();\n    };\n    PivotContextMenu.prototype.renderContextMenu = function () {\n        var menuItems = [\n            { text: this.parent.localeObj.getConstant('addToFilter'), id: this.parent.element.id + '_Filters' },\n            { text: this.parent.localeObj.getConstant('addToRow'), id: this.parent.element.id + '_Rows' },\n            { text: this.parent.localeObj.getConstant('addToColumn'), id: this.parent.element.id + '_Columns' },\n            { text: this.parent.localeObj.getConstant('addToValue'), id: this.parent.element.id + '_Values' }\n        ];\n        var menuOptions = {\n            cssClass: cls.PIVOT_CONTEXT_MENU_CLASS,\n            items: menuItems,\n            enableRtl: this.parent.enableRtl,\n            beforeOpen: this.onBeforeMenuOpen.bind(this),\n            select: this.onSelectContextMenu.bind(this)\n        };\n        var cMenu = createElement('ul', {\n            id: this.parent.element.id + '_PivotContextMenu'\n        });\n        this.parent.element.appendChild(cMenu);\n        this.menuObj = new ContextMenu(menuOptions);\n        this.menuObj.isStringTemplate = true;\n        this.menuObj.appendTo(cMenu);\n    };\n    PivotContextMenu.prototype.onBeforeMenuOpen = function (args) {\n        var items = [].slice.call(args.element.querySelectorAll('li'));\n        var fieldType = this.parent.dataType === 'olap' ? this.fieldElement.getAttribute('data-type') :\n            this.fieldElement.querySelector('.' + cls.PIVOT_BUTTON_CONTENT_CLASS).getAttribute('data-type');\n        removeClass(items, cls.MENU_DISABLE);\n        if (fieldType === 'CalculatedField' || fieldType === 'isMeasureFieldsAvail') {\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                if (item.textContent !== this.parent.localeObj.getConstant('addToValue')) {\n                    addClass([item], cls.MENU_DISABLE);\n                }\n            }\n        }\n        else if (fieldType === 'isMeasureAvail') {\n            for (var _a = 0, items_2 = items; _a < items_2.length; _a++) {\n                var item = items_2[_a];\n                if (item.textContent !== this.parent.localeObj.getConstant('addToRow') &&\n                    item.textContent !== this.parent.localeObj.getConstant('addToColumn')) {\n                    addClass([item], cls.MENU_DISABLE);\n                }\n            }\n        }\n        else if (this.parent.dataType === 'olap') {\n            for (var _b = 0, items_3 = items; _b < items_3.length; _b++) {\n                var item = items_3[_b];\n                if (item.textContent === this.parent.localeObj.getConstant('addToValue')) {\n                    addClass([item], cls.MENU_DISABLE);\n                    break;\n                }\n            }\n        }\n    };\n    PivotContextMenu.prototype.onSelectContextMenu = function (menu) {\n        if (menu.element.textContent !== null) {\n            var fieldName = this.fieldElement.getAttribute('data-uid');\n            var dropClass = menu.item.id.replace(this.parent.element.id + '_', '').toLowerCase();\n            this.parent.pivotCommon.dataSourceUpdate.control = this.parent.getModuleName() === 'pivotview' ? this.parent :\n                (this.parent.pivotGridModule ? this.parent.pivotGridModule : this.parent);\n            this.parent.pivotCommon.dataSourceUpdate.btnElement = this.fieldElement;\n            this.parent.pivotCommon.dataSourceUpdate.updateDataSource(fieldName, dropClass, -1);\n            this.parent.updateDataSource(true);\n            this.fieldElement = undefined;\n        }\n    };\n    /**\n     * To destroy the pivot button event listener\n     * @return {void}\n     * @hidden\n     */\n    PivotContextMenu.prototype.destroy = function () {\n        if (!this.parent.isDestroyed) {\n            return;\n        }\n        if (this.menuObj && !this.menuObj.isDestroyed) {\n            this.menuObj.destroy();\n        }\n        else {\n            return;\n        }\n    };\n    return PivotContextMenu;\n}());\nexport { PivotContextMenu };\n","import { EventHandler, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { contentReady } from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\n/**\n * `VirtualScroll` module is used to handle scrolling behavior.\n */\nvar VirtualScroll = /** @class */ (function () {\n    /**\n     * Constructor for PivotView scrolling.\n     * @hidden\n     */\n    function VirtualScroll(parent) {\n        this.previousValues = { top: 0, left: 0 };\n        this.frozenPreviousValues = { top: 0, left: 0 };\n        this.eventType = '';\n        this.parent = parent;\n        this.engineModule = this.parent.dataType === 'pivot' ? this.parent.engineModule : this.parent.olapEngineModule;\n        this.addInternalEvents();\n    }\n    /**\n     * It returns the Module name.\n     * @returns string\n     * @hidden\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualscroll';\n    };\n    VirtualScroll.prototype.addInternalEvents = function () {\n        this.parent.on(contentReady, this.wireEvents, this);\n    };\n    VirtualScroll.prototype.wireEvents = function () {\n        var mCont = this.parent.element.querySelector('.' + cls.MOVABLECONTENT_DIV);\n        var fCont = this.parent.element.querySelector('.' + cls.FROZENCONTENT_DIV);\n        var mHdr = this.parent.element.querySelector('.' + cls.MOVABLEHEADER_DIV);\n        EventHandler.clearEvents(mCont);\n        EventHandler.clearEvents(fCont);\n        if (this.engineModule) {\n            EventHandler.add(mCont, 'scroll touchmove pointermove', this.onHorizondalScroll(mHdr, mCont, fCont), this);\n            EventHandler.add(mCont, 'scroll wheel touchmove pointermove', this.onVerticalScroll(fCont, mCont), this);\n            EventHandler.add(mCont, 'mouseup touchend', this.common(mHdr, mCont, fCont), this);\n            EventHandler.add(fCont, 'wheel', this.onWheelScroll(mCont, fCont), this);\n            EventHandler.add(fCont, 'touchstart pointerdown', this.setPageXY(), this);\n            EventHandler.add(fCont, 'touchmove pointermove', this.onTouchScroll(mHdr, mCont, fCont), this);\n            EventHandler.add(mHdr, 'touchstart pointerdown', this.setPageXY(), this);\n            EventHandler.add(mHdr, 'touchmove pointermove', this.onTouchScroll(mHdr, mCont, fCont), this);\n        }\n        this.parent.grid.isPreventScrollEvent = true;\n    };\n    VirtualScroll.prototype.onWheelScroll = function (mCont, fCont) {\n        var _this = this;\n        var element = mCont;\n        return function (e) {\n            var top = element.scrollTop + (e.deltaMode === 1 ? e.deltaY * 30 : e.deltaY);\n            if (_this.frozenPreviousValues.top === top) {\n                return;\n            }\n            e.preventDefault();\n            fCont.scrollTop = top;\n            element.scrollTop = top;\n            _this.frozenPreviousValues.top = top;\n            _this.eventType = e.type;\n        };\n    };\n    VirtualScroll.prototype.getPointXY = function (e) {\n        var pageXY = { x: 0, y: 0 };\n        if (!(e.touches && e.touches.length)) {\n            pageXY.x = e.pageX;\n            pageXY.y = e.pageY;\n        }\n        else {\n            pageXY.x = e.touches[0].pageX;\n            pageXY.y = e.touches[0].pageY;\n        }\n        return pageXY;\n    };\n    VirtualScroll.prototype.onTouchScroll = function (mHdr, mCont, fCont) {\n        var _this = this;\n        var element = mCont;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            var pageXY = _this.getPointXY(e);\n            var top = element.scrollTop + (_this.pageXY.y - pageXY.y);\n            var left = element.scrollLeft + (_this.pageXY.x - pageXY.x);\n            if (_this.parent.element.querySelector('.' + cls.HEADERCONTENT).contains(e.target)) {\n                if (_this.frozenPreviousValues.left === left || left < 0) {\n                    return;\n                }\n                mHdr.scrollLeft = left;\n                element.scrollLeft = left;\n                _this.pageXY.x = pageXY.x;\n                _this.frozenPreviousValues.left = left;\n            }\n            else {\n                if (_this.frozenPreviousValues.top === top || top < 0) {\n                    return;\n                }\n                fCont.scrollTop = top;\n                element.scrollTop = top;\n                _this.pageXY.y = pageXY.y;\n                _this.frozenPreviousValues.top = top;\n            }\n            _this.eventType = e.type;\n        };\n    };\n    VirtualScroll.prototype.update = function (mHdr, mCont, top, left, e) {\n        this.parent.isScrolling = true;\n        var engine = this.parent.dataType === 'pivot' ? this.parent.engineModule : this.parent.olapEngineModule;\n        if (this.parent.pageSettings && engine.pageSettings) {\n            if (this.direction === 'vertical') {\n                var rowValues = this.parent.dataType === 'pivot' ?\n                    (this.parent.dataSourceSettings.valueAxis === 'row' ? this.parent.dataSourceSettings.values.length : 1) : 1;\n                var exactSize = (this.parent.pageSettings.rowSize * rowValues * this.parent.gridSettings.rowHeight);\n                var section = Math.ceil(top / exactSize);\n                if ((this.parent.scrollPosObject.vertical === section ||\n                    engine.pageSettings.rowSize >= engine.rowCount)) {\n                    hideSpinner(this.parent.element);\n                    return;\n                }\n                showSpinner(this.parent.element);\n                //setTimeout(() => {\n                this.parent.scrollPosObject.vertical = section;\n                engine.pageSettings.rowCurrentPage = section > 1 ? section : 1;\n                var rowStartPos = 0;\n                if (this.parent.dataType === 'pivot') {\n                    this.parent.engineModule.generateGridData(this.parent.dataSourceSettings, this.parent.engineModule.headerCollection);\n                    rowStartPos = this.parent.engineModule.rowStartPos;\n                }\n                else {\n                    this.parent.olapEngineModule.scrollPage('scroll');\n                    rowStartPos = this.parent.olapEngineModule.pageRowStartPos;\n                }\n                this.parent.pivotValues = engine.pivotValues;\n                var exactPage = Math.ceil(rowStartPos / (this.parent.pageSettings.rowSize * rowValues));\n                var pos = exactSize * exactPage -\n                    (engine.rowFirstLvl * rowValues * this.parent.gridSettings.rowHeight);\n                this.parent.scrollPosObject.verticalSection = pos;\n                //});\n            }\n            else {\n                var colValues = this.parent.dataType === 'pivot' ?\n                    (this.parent.dataSourceSettings.valueAxis === 'column' ? this.parent.dataSourceSettings.values.length : 1) : 1;\n                var exactSize = (this.parent.pageSettings.columnSize *\n                    colValues * this.parent.gridSettings.columnWidth);\n                var section = Math.ceil(left / exactSize);\n                if (this.parent.scrollPosObject.horizontal === section) {\n                    hideSpinner(this.parent.element);\n                    return;\n                }\n                showSpinner(this.parent.element);\n                var pivot = this.parent;\n                //setTimeout(() => {\n                pivot.scrollPosObject.horizontal = section;\n                engine.pageSettings.columnCurrentPage = section > 1 ? section : 1;\n                var colStartPos = 0;\n                if (pivot.dataType === 'pivot') {\n                    pivot.engineModule.generateGridData(pivot.dataSourceSettings, pivot.engineModule.headerCollection);\n                    colStartPos = pivot.engineModule.colStartPos;\n                }\n                else {\n                    pivot.olapEngineModule.scrollPage('scroll');\n                    colStartPos = pivot.olapEngineModule.pageColStartPos;\n                }\n                // let isLastPage: boolean =\n                //     (engine.pivotValues[0] as IAxisSet[])[engine.pivotValues[0].length - 1].type\n                //     === 'grand sum' && section > 0;\n                pivot.pivotValues = engine.pivotValues;\n                var exactPage = Math.ceil(colStartPos / (pivot.pageSettings.columnSize * colValues));\n                // let pos: number = isLastPage ?\n                //     ((left + mHdr.clientWidth) - ((mHdr.querySelector('.' + cls.TABLE) as HTMLElement).offsetWidth)) :\n                //     exactSize * exactPage - (engine.colFirstLvl *\n                //         colValues * pivot.gridSettings.columnWidth);\n                var pos = exactSize * exactPage - (engine.colFirstLvl *\n                    colValues * pivot.gridSettings.columnWidth);\n                pivot.scrollPosObject.horizontalSection = pos;\n                //});\n            }\n        }\n    };\n    VirtualScroll.prototype.setPageXY = function () {\n        var _this = this;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            _this.pageXY = _this.getPointXY(e);\n        };\n    };\n    VirtualScroll.prototype.common = function (mHdr, mCont, fCont) {\n        var _this = this;\n        return function (e) {\n            _this.update(mHdr, mCont, mCont.scrollTop * _this.parent.verticalScrollScale, mCont.scrollLeft * _this.parent.horizontalScrollScale, e);\n        };\n    };\n    VirtualScroll.prototype.onHorizondalScroll = function (mHdr, mCont, fCont) {\n        var _this = this;\n        /* tslint:disable-next-line */\n        var timeOutObj;\n        return function (e) {\n            var left = mCont.scrollLeft * _this.parent.horizontalScrollScale;\n            if (e.type === 'wheel' || e.type === 'touchmove' || _this.eventType === 'wheel' || _this.eventType === 'touchmove') {\n                clearTimeout(timeOutObj);\n                /* tslint:disable */\n                timeOutObj = setTimeout(function () {\n                    left = e.type === 'touchmove' ? mCont.scrollLeft : left;\n                    _this.update(mHdr, mCont, mCont.scrollTop * _this.parent.verticalScrollScale, left, e);\n                }, 300);\n            }\n            if (_this.previousValues.left === left) {\n                fCont.scrollTop = mCont.scrollTop;\n                return;\n            }\n            _this.direction = 'horizondal';\n            var horiOffset = -((left - _this.parent.scrollPosObject.horizontalSection - mCont.scrollLeft));\n            var vertiOffset = mCont.querySelector('.' + cls.TABLE).style.transform.split(',')[1].trim();\n            if (mCont.scrollLeft < _this.parent.scrollerBrowserLimit) {\n                setStyleAttribute(mCont.querySelector('.e-table'), {\n                    transform: 'translate(' + horiOffset + 'px,' + vertiOffset\n                });\n                setStyleAttribute(mHdr.querySelector('.e-table'), {\n                    transform: 'translate(' + horiOffset + 'px,' + 0 + 'px)'\n                });\n            }\n            var excessMove = _this.parent.scrollPosObject.horizontalSection > left ?\n                -(_this.parent.scrollPosObject.horizontalSection - left) : ((left + mHdr.offsetWidth) -\n                (_this.parent.scrollPosObject.horizontalSection + mCont.querySelector('.e-table').offsetWidth));\n            var notLastPage = Math.ceil(_this.parent.scrollPosObject.horizontalSection / _this.parent.horizontalScrollScale) <\n                _this.parent.scrollerBrowserLimit;\n            if (_this.parent.scrollPosObject.horizontalSection > left ? true : (excessMove > 1 && notLastPage)) {\n                //  showSpinner(this.parent.element);\n                if (left > mHdr.clientWidth) {\n                    if (_this.parent.scrollPosObject.left < 1) {\n                        _this.parent.scrollPosObject.left = mHdr.clientWidth;\n                    }\n                    _this.parent.scrollPosObject.left = _this.parent.scrollPosObject.left - 50;\n                    excessMove = _this.parent.scrollPosObject.horizontalSection > left ?\n                        (excessMove - _this.parent.scrollPosObject.left) : (excessMove + _this.parent.scrollPosObject.left);\n                }\n                else {\n                    excessMove = -_this.parent.scrollPosObject.horizontalSection;\n                }\n                horiOffset = -((left - (_this.parent.scrollPosObject.horizontalSection + excessMove) - mCont.scrollLeft));\n                var vWidth = (_this.parent.gridSettings.columnWidth * _this.engineModule.columnCount\n                    - _this.parent.grid.columns[0].width);\n                if (vWidth > _this.parent.scrollerBrowserLimit) {\n                    _this.parent.horizontalScrollScale = vWidth / _this.parent.scrollerBrowserLimit;\n                    vWidth = _this.parent.scrollerBrowserLimit;\n                }\n                if (horiOffset > vWidth && horiOffset > left) {\n                    horiOffset = left;\n                    excessMove = 0;\n                }\n                setStyleAttribute(mCont.querySelector('.e-table'), {\n                    transform: 'translate(' + horiOffset + 'px,' + vertiOffset\n                });\n                setStyleAttribute(mHdr.querySelector('.e-table'), {\n                    transform: 'translate(' + horiOffset + 'px,' + 0 + 'px)'\n                });\n                _this.parent.scrollPosObject.horizontalSection = _this.parent.scrollPosObject.horizontalSection + excessMove;\n            }\n            _this.previousValues.left = left;\n            _this.frozenPreviousValues.left = left;\n            _this.eventType = '';\n            mHdr.scrollLeft = mCont.scrollLeft;\n        };\n    };\n    VirtualScroll.prototype.onVerticalScroll = function (fCont, mCont) {\n        var _this = this;\n        /* tslint:disable-next-line */\n        var timeOutObj;\n        return function (e) {\n            var top = mCont.scrollTop * _this.parent.verticalScrollScale;\n            if (e.type === 'wheel' || e.type === 'touchmove' || _this.eventType === 'wheel' || _this.eventType === 'touchmove') {\n                clearTimeout(timeOutObj);\n                /* tslint:disable */\n                timeOutObj = setTimeout(function () {\n                    _this.update(null, mCont, mCont.scrollTop * _this.parent.verticalScrollScale, mCont.scrollLeft * _this.parent.horizontalScrollScale, e);\n                }, 300);\n            }\n            if (_this.previousValues.top === top) {\n                return;\n            }\n            _this.direction = 'vertical';\n            var vertiOffset = -((top - _this.parent.scrollPosObject.verticalSection - mCont.scrollTop));\n            var horiOffset = mCont.querySelector('.' + cls.TABLE).style.transform.split(',')[0].trim();\n            if (mCont.scrollTop < _this.parent.scrollerBrowserLimit) {\n                setStyleAttribute(fCont.querySelector('.e-table'), {\n                    transform: 'translate(' + 0 + 'px,' + vertiOffset + 'px)'\n                });\n                setStyleAttribute(mCont.querySelector('.e-table'), {\n                    transform: horiOffset + ',' + vertiOffset + 'px)'\n                });\n            }\n            var excessMove = _this.parent.scrollPosObject.verticalSection > top ?\n                -(_this.parent.scrollPosObject.verticalSection - top) : ((top + fCont.clientHeight) -\n                (_this.parent.scrollPosObject.verticalSection + fCont.querySelector('.e-table').offsetHeight));\n            var notLastPage = Math.ceil(_this.parent.scrollPosObject.verticalSection / _this.parent.verticalScrollScale) <\n                _this.parent.scrollerBrowserLimit;\n            if (_this.parent.scrollPosObject.verticalSection > top ? true : (excessMove > 1 && notLastPage)) {\n                //  showSpinner(this.parent.element);\n                if (top > fCont.clientHeight) {\n                    if (_this.parent.scrollPosObject.top < 1) {\n                        _this.parent.scrollPosObject.top = fCont.clientHeight;\n                    }\n                    _this.parent.scrollPosObject.top = _this.parent.scrollPosObject.top - 50;\n                    excessMove = _this.parent.scrollPosObject.verticalSection > top ?\n                        (excessMove - _this.parent.scrollPosObject.top) : (excessMove + _this.parent.scrollPosObject.top);\n                }\n                else {\n                    excessMove = -_this.parent.scrollPosObject.verticalSection;\n                }\n                var movableTable = _this.parent.element.querySelector('.' + cls.MOVABLECONTENT_DIV).querySelector('.e-table');\n                vertiOffset = -((top - (_this.parent.scrollPosObject.verticalSection + excessMove) - mCont.scrollTop));\n                var vHeight = (_this.parent.gridSettings.rowHeight * _this.engineModule.rowCount + 0.1\n                    - movableTable.clientHeight);\n                if (vHeight > _this.parent.scrollerBrowserLimit) {\n                    _this.parent.verticalScrollScale = vHeight / _this.parent.scrollerBrowserLimit;\n                    vHeight = _this.parent.scrollerBrowserLimit;\n                }\n                if (vertiOffset > vHeight && vertiOffset > top) {\n                    vertiOffset = top;\n                    excessMove = 0;\n                }\n                setStyleAttribute(fCont.querySelector('.e-table'), {\n                    transform: 'translate(' + 0 + 'px,' + vertiOffset + 'px)'\n                });\n                setStyleAttribute(mCont.querySelector('.e-table'), {\n                    transform: horiOffset + ',' + vertiOffset + 'px)'\n                });\n                _this.parent.scrollPosObject.verticalSection = _this.parent.scrollPosObject.verticalSection + excessMove;\n            }\n            _this.previousValues.top = top;\n            _this.frozenPreviousValues.top = top;\n            _this.eventType = '';\n            fCont.scrollTop = mCont.scrollTop;\n            mCont.scrollTop = fCont.scrollTop;\n        };\n    };\n    /**\n     * @hidden\n     */\n    VirtualScroll.prototype.removeInternalEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(contentReady, this.wireEvents);\n    };\n    /**\n     * To destroy the virtualscrolling event listener\n     * @return {void}\n     * @hidden\n     */\n    VirtualScroll.prototype.destroy = function () {\n        this.removeInternalEvents();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { createElement, setStyleAttribute, remove, isNullOrUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport { Grid, Reorder, Resize, ColumnChooser, Toolbar } from '@syncfusion/ej2-grids';\nimport { VirtualScroll, Selection, Edit, Page, CommandColumn } from '@syncfusion/ej2-grids';\nimport * as events from '../../common/base/constant';\n/**\n * `DrillThroughDialog` module to create drill-through dialog.\n */\n/** @hidden */\nvar DrillThroughDialog = /** @class */ (function () {\n    /**\n     * Constructor for the dialog action.\n     * @hidden\n     */\n    function DrillThroughDialog(parent) {\n        this.isUpdated = false;\n        this.gridIndexObjects = {};\n        this.gridData = [];\n        this.parent = parent;\n        this.engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n    }\n    /** @hidden */\n    DrillThroughDialog.prototype.showDrillThroughDialog = function (eventArgs) {\n        var _this = this;\n        this.gridData = eventArgs.rawData;\n        this.removeDrillThroughDialog();\n        var drillThroughDialog = createElement('div', {\n            id: this.parent.element.id + '_drillthrough',\n            className: cls.DRILLTHROUGH_DIALOG,\n            styles: 'visibility:hidden;'\n        });\n        this.parent.element.appendChild(drillThroughDialog);\n        this.dialogPopUp = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: false,\n            header: this.parent.localeObj.getConstant('details'),\n            content: this.createDrillThroughGrid(eventArgs),\n            beforeOpen: function () {\n                /* tslint:disable:align */\n                _this.drillThroughGrid.setProperties({\n                    dataSource: _this.parent.editSettings.allowEditing ?\n                        _this.dataWithPrimarykey(eventArgs) : _this.gridData, height: 300\n                }, true);\n                /* tslint:enable:align */\n                _this.drillThroughGrid.enableVirtualization = !_this.parent.editSettings.allowEditing;\n            },\n            beforeClose: function () {\n                if (_this.parent.editSettings.allowEditing && _this.isUpdated) {\n                    var count = Object.keys(_this.gridIndexObjects).length;\n                    var addItems = [];\n                    /* tslint:disable:no-string-literal */\n                    for (var _i = 0, _a = _this.drillThroughGrid.dataSource; _i < _a.length; _i++) {\n                        var item = _a[_i];\n                        if (isNullOrUndefined(item['__index']) || item['__index'] === '') {\n                            for (var _b = 0, _c = _this.engine.fields; _b < _c.length; _b++) {\n                                var field = _c[_b];\n                                if (isNullOrUndefined(item[field])) {\n                                    delete item[field];\n                                }\n                            }\n                            delete item['__index'];\n                            addItems.push(item);\n                        }\n                        else if (count > 0) {\n                            delete _this.gridIndexObjects[item['__index'].toString()];\n                            count--;\n                        }\n                    }\n                    count = 0;\n                    var items = [];\n                    for (var _d = 0, _e = _this.parent.engineModule.data; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        delete item['__index'];\n                        if (_this.gridIndexObjects[count.toString()] === undefined) {\n                            items.push(item);\n                        }\n                        count++;\n                    }\n                    /* tslint:enable:no-string-literal */\n                    items = items.concat(addItems);\n                    _this.parent.setProperties({ dataSourceSettings: { dataSource: items } }, true);\n                    _this.engine.updateGridData(_this.parent.dataSourceSettings);\n                    _this.parent.pivotValues = _this.engine.pivotValues;\n                }\n                _this.isUpdated = false;\n                _this.gridIndexObjects = {};\n            },\n            isModal: true,\n            visible: true,\n            showCloseIcon: true,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            width: this.parent.isAdaptive ? '100%' : '60%',\n            position: { X: 'center', Y: 'center' },\n            closeOnEscape: true,\n            target: document.body,\n            close: this.removeDrillThroughDialog.bind(this)\n        });\n        this.dialogPopUp.isStringTemplate = true;\n        this.dialogPopUp.appendTo(drillThroughDialog);\n        // this.dialogPopUp.element.querySelector('.e-dlg-header').innerHTML = this.parent.localeObj.getConstant('details');\n        setStyleAttribute(this.dialogPopUp.element, { 'visibility': 'visible' });\n    };\n    DrillThroughDialog.prototype.removeDrillThroughDialog = function () {\n        if (this.dialogPopUp && !this.dialogPopUp.isDestroyed) {\n            this.dialogPopUp.destroy();\n        }\n        var dialogElement = document.getElementById(this.parent.element.id + '_drillthrough');\n        if (dialogElement) {\n            remove(dialogElement);\n        }\n        if (document.getElementById(this.parent.element.id + '_drillthroughgrid_ccdlg')) {\n            remove(document.getElementById(this.parent.element.id + '_drillthroughgrid_ccdlg'));\n        }\n    };\n    /* tslint:disable:max-func-body-length */\n    DrillThroughDialog.prototype.createDrillThroughGrid = function (eventArgs) {\n        var drillThroughBody = createElement('div', { id: this.parent.element.id + '_drillthroughbody', className: cls.DRILLTHROUGH_BODY_CLASS });\n        var drillThroughBodyHeader = createElement('div', {\n            id: this.parent.element.id +\n                '_drillthroughbodyheader', className: cls.DRILLTHROUGH_BODY_HEADER_CONTAINER_CLASS\n        });\n        if (eventArgs.rowHeaders !== '') {\n            drillThroughBodyHeader.innerHTML = '<span class=' +\n                cls.DRILLTHROUGH_BODY_HEADER_COMMON_CLASS + '><span class=' + cls.DRILLTHROUGH_BODY_HEADER_CLASS + '>' +\n                this.parent.localeObj.getConstant('row') + '</span> :<span class=' +\n                cls.DRILLTHROUGH_BODY_HEADER_VALUE_CLASS + '>' + eventArgs.rowHeaders + '</span></span>';\n        }\n        if (eventArgs.columnHeaders !== '') {\n            drillThroughBodyHeader.innerHTML = drillThroughBodyHeader.innerHTML + '<span class=' +\n                cls.DRILLTHROUGH_BODY_HEADER_COMMON_CLASS + '><span class=' +\n                cls.DRILLTHROUGH_BODY_HEADER_CLASS + '>' + this.parent.localeObj.getConstant('column') +\n                '</span> :<span class=' + cls.DRILLTHROUGH_BODY_HEADER_VALUE_CLASS + '>' +\n                eventArgs.columnHeaders + '</span></span>';\n        }\n        if (eventArgs.value !== '') {\n            var measure = eventArgs.value.split('(')[0];\n            var value = eventArgs.value.split('(')[1].split(')')[0];\n            if (value !== '0') {\n                drillThroughBodyHeader.innerHTML = drillThroughBodyHeader.innerHTML + '<span class=' +\n                    cls.DRILLTHROUGH_BODY_HEADER_COMMON_CLASS + '><span class=' +\n                    cls.DRILLTHROUGH_BODY_HEADER_CLASS + '>' +\n                    measure + '</span> :<span class=' + cls.DRILLTHROUGH_BODY_HEADER_VALUE_CLASS + '>' + value + '</span></span>';\n            }\n        }\n        var toolbarItems = ['ColumnChooser'];\n        if (this.parent.editSettings.allowEditing) {\n            if (this.parent.editSettings.allowCommandColumns) {\n                toolbarItems = ['ColumnChooser', 'Add'];\n            }\n            else if (this.parent.editSettings.mode === 'Batch') {\n                toolbarItems = ['ColumnChooser', 'Add', 'Delete', 'Update', 'Cancel'];\n            }\n            else if (this.parent.editSettings.mode === 'Dialog') {\n                toolbarItems = ['ColumnChooser', 'Add', 'Edit', 'Delete'];\n            }\n            else {\n                toolbarItems = ['ColumnChooser', 'Add', 'Edit', 'Delete', 'Update', 'Cancel'];\n            }\n        }\n        var drillThroughGrid = createElement('div', { id: this.parent.element.id + '_drillthroughgrid', className: cls.DRILLTHROUGH_GRID_CLASS });\n        Grid.Inject(Selection, Reorder, Resize, Toolbar, ColumnChooser);\n        this.drillThroughGrid = new Grid({\n            gridLines: 'Default',\n            allowResizing: true,\n            allowReordering: true,\n            showColumnChooser: true,\n            toolbar: toolbarItems,\n            columns: this.frameGridColumns(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enableVirtualization: this.parent.editSettings.allowEditing,\n            allowPaging: this.parent.editSettings.allowEditing\n        });\n        if (this.parent.dataType === 'olap') {\n            this.formatData();\n        }\n        var dialogModule = this;\n        this.parent.trigger(events.beginDrillThrough, {\n            cellInfo: eventArgs,\n            gridObj: isBlazor() ? undefined : this.drillThroughGrid,\n            type: 'editing'\n        });\n        if (this.parent.editSettings.allowEditing) {\n            Grid.Inject(Edit, Page);\n            this.drillThroughGrid.editSettings = this.parent.editSettings;\n            if (this.parent.editSettings.allowCommandColumns) {\n                this.drillThroughGrid.editSettings.mode = 'Normal';\n                this.drillThroughGrid.editSettings.allowEditOnDblClick = false;\n                Grid.Inject(CommandColumn);\n                this.drillThroughGrid.columns.push({\n                    headerText: this.parent.localeObj.getConstant('manageRecords'), width: 160, showInColumnChooser: false,\n                    commands: [\n                        { type: 'Edit', buttonOption: { iconCss: ' e-icons e-edit', cssClass: 'e-flat' } },\n                        { type: 'Delete', buttonOption: { iconCss: 'e-icons e-delete', cssClass: 'e-flat' } },\n                        { type: 'Save', buttonOption: { iconCss: 'e-icons e-update', cssClass: 'e-flat' } },\n                        { type: 'Cancel', buttonOption: { iconCss: 'e-icons e-cancel-icon', cssClass: 'e-flat' } }\n                    ]\n                });\n            }\n            else {\n                this.drillThroughGrid.editSettings.allowEditOnDblClick = this.parent.editSettings.allowEditOnDblClick;\n            }\n            /* tslint:disable:align */\n            this.drillThroughGrid.columns.push({\n                field: '__index', visible: false, isPrimaryKey: true, type: 'string', showInColumnChooser: false\n            });\n            /* tslint:disable-next-line:no-any */\n            this.drillThroughGrid.actionComplete = function (args) {\n                if (args.requestType === 'batchsave' || args.requestType === 'save' || args.requestType === 'delete') {\n                    dialogModule.isUpdated = true;\n                }\n                if ((dialogModule.drillThroughGrid.editSettings.mode === 'Normal' && args.requestType === 'save' &&\n                    dialogModule.drillThroughGrid.element.querySelectorAll('.e-tbar-btn:hover').length > 0 &&\n                    !dialogModule.parent.editSettings.allowCommandColumns) || args.requestType === 'batchsave') {\n                    dialogModule.dialogPopUp.hide();\n                }\n            };\n            this.drillThroughGrid.beforeBatchSave = function () {\n                dialogModule.isUpdated = true;\n            };\n            /* tslint:enable:align */\n        }\n        else {\n            Grid.Inject(VirtualScroll);\n        }\n        document.body.appendChild(drillThroughGrid);\n        this.drillThroughGrid.isStringTemplate = true;\n        this.drillThroughGrid.appendTo(drillThroughGrid);\n        drillThroughBody.appendChild(drillThroughBodyHeader);\n        drillThroughBody.appendChild(drillThroughGrid);\n        return drillThroughBody;\n    };\n    DrillThroughDialog.prototype.frameGridColumns = function () {\n        var keys = this.parent.dataType === 'olap' ? this.gridData[0] ? Object.keys(this.gridData[0]) : [] :\n            Object.keys(this.engine.fieldList);\n        var columns = [];\n        if (this.parent.dataType === 'olap') {\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                columns.push({\n                    field: key.replace(/_x005B_|_x0020_|_x005D_|_x0024_/g, '').replace('].[', '').split('.').reverse().join(''),\n                    headerText: key.replace(/_x005B_|_x005D_|_x0024_/g, '').replace(/_x0020_/g, ' ').\n                        replace('].[', '').split('.').reverse().join('.'),\n                    width: 120,\n                    visible: true,\n                    validationRules: { required: true },\n                    type: 'string'\n                });\n            }\n        }\n        else {\n            for (var _a = 0, keys_2 = keys; _a < keys_2.length; _a++) {\n                var key = keys_2[_a];\n                if (this.engine.fieldList[key].aggregateType !== 'CalculatedField') {\n                    var editType = '';\n                    if (this.engine.fieldList[key].type === 'number') {\n                        editType = 'numericedit';\n                    }\n                    else if (this.engine.fieldList[key].type === 'date') {\n                        editType = 'datepickeredit';\n                    }\n                    else {\n                        editType = '';\n                    }\n                    columns.push({\n                        field: key,\n                        headerText: this.engine.fieldList[key].caption,\n                        width: 120,\n                        visible: this.engine.fieldList[key].isSelected,\n                        validationRules: { required: true },\n                        editType: editType,\n                        type: 'string'\n                    });\n                }\n            }\n        }\n        return columns;\n    };\n    DrillThroughDialog.prototype.formatData = function () {\n        var index = 0;\n        while (index < this.gridData.length) {\n            var data = this.gridData[index];\n            var keys = Object.keys(this.gridData[index]);\n            var newData = {};\n            var i = 0;\n            while (i < keys.length) {\n                var key = keys[i].replace(/_x005B_|_x0020_|_x005D_|_x0024_/g, '').replace('].[', '').split('.').reverse().join('');\n                newData[key] = data[keys[i]];\n                i++;\n            }\n            this.gridData[index] = newData;\n            index++;\n        }\n    };\n    DrillThroughDialog.prototype.dataWithPrimarykey = function (eventArgs) {\n        var indexString = Object.keys(eventArgs.currentCell.indexObject);\n        var rawData = this.gridData;\n        var count = 0;\n        for (var _i = 0, rawData_1 = rawData; _i < rawData_1.length; _i++) {\n            var item = rawData_1[_i];\n            /* tslint:disable-next-line:no-string-literal */\n            item['__index'] = indexString[count];\n            this.gridIndexObjects[indexString[count].toString()] = Number(indexString[count]);\n            count++;\n        }\n        return rawData;\n    };\n    return DrillThroughDialog;\n}());\nexport { DrillThroughDialog };\n","import { contentReady } from '../../common/base/constant';\nimport * as events from '../../common/base/constant';\nimport { DrillThroughDialog } from '../../common/popups/drillthrough-dialog';\nimport { EventHandler, isBlazor } from '@syncfusion/ej2-base';\n/**\n * `DrillThrough` module.\n */\nvar DrillThrough = /** @class */ (function () {\n    /**\n     * Constructor.\n     * @hidden\n     */\n    function DrillThrough(parent) {\n        this.parent = parent;\n        this.drillThroughDialog = new DrillThroughDialog(this.parent);\n        this.addInternalEvents();\n    }\n    /**\n     * It returns the Module name.\n     * @returns string\n     * @hidden\n     */\n    DrillThrough.prototype.getModuleName = function () {\n        return 'drillthrough';\n    };\n    DrillThrough.prototype.addInternalEvents = function () {\n        this.parent.on(contentReady, this.wireEvents, this);\n    };\n    DrillThrough.prototype.wireEvents = function () {\n        this.unWireEvents();\n        EventHandler.add(this.parent.element, 'dblclick', this.mouseClickHandler, this);\n    };\n    DrillThrough.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'dblclick', this.mouseClickHandler);\n    };\n    DrillThrough.prototype.mouseClickHandler = function (e) {\n        var target = e.target;\n        var ele = null;\n        if (target.classList.contains('e-stackedheadercelldiv') || target.classList.contains('e-cellvalue') ||\n            target.classList.contains('e-headercelldiv')) {\n            ele = target.parentElement;\n        }\n        else if (target.classList.contains('e-headercell') || target.classList.contains('e-rowcell')) {\n            ele = target;\n        }\n        else if (target.classList.contains('e-headertext')) {\n            ele = target.parentElement.parentElement;\n        }\n        if (ele) {\n            if (this.parent.allowDrillThrough && ele.classList.contains('e-valuescontent') || this.parent.editSettings.allowEditing) {\n                this.executeDrillThrough(ele);\n            }\n        }\n    };\n    DrillThrough.prototype.executeDrillThrough = function (ele) {\n        var colIndex = Number(ele.getAttribute('aria-colindex'));\n        var rowIndex = Number(ele.getAttribute('index'));\n        var pivotValue = this.parent.pivotValues[rowIndex][colIndex];\n        var engine = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n        var valueCaption = '';\n        var aggType = '';\n        var rawData = [];\n        if (pivotValue.rowHeaders !== undefined && pivotValue.columnHeaders !== undefined && pivotValue.value !== undefined) {\n            if (this.parent.dataType === 'olap') {\n                var measureName = pivotValue.actualText;\n                if (engine.fieldList[measureName] && engine.fieldList[measureName].isCalculatedField) {\n                    this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('drillError'));\n                    return;\n                }\n                valueCaption = engine.fieldList[measureName].caption;\n                aggType = engine.fieldList[measureName].aggregateType;\n                this.parent.olapEngineModule.getDrillThroughData(pivotValue, this.parent.maxRowsInDrillThrough);\n                try {\n                    rawData = JSON.parse(engine.gridJSON);\n                }\n                catch (exception) {\n                    this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), engine.gridJSON);\n                    return;\n                }\n            }\n            else {\n                valueCaption = engine.fieldList[pivotValue.actualText.toString()] ?\n                    engine.fieldList[pivotValue.actualText.toString()].caption : pivotValue.actualText.toString();\n                aggType = engine.fieldList[pivotValue.actualText] ? engine.fieldList[pivotValue.actualText].aggregateType : '';\n                var indexArray = Object.keys(pivotValue.indexObject);\n                for (var _i = 0, indexArray_1 = indexArray; _i < indexArray_1.length; _i++) {\n                    var index = indexArray_1[_i];\n                    if (isBlazor()) {\n                        rawData.push(this.parent.engineModule.data[Number(index)]);\n                    }\n                    else {\n                        rawData.push(this.parent.dataSourceSettings.dataSource[Number(index)]);\n                    }\n                }\n            }\n            var valuetText = aggType === 'CalculatedField' ? valueCaption.toString() :\n                aggType !== '' ? (aggType + ' ' + this.parent.localeObj.getConstant('of') + ' ' + valueCaption) : valueCaption;\n            var eventArgs = {\n                currentTarget: ele,\n                currentCell: pivotValue,\n                rawData: rawData,\n                rowHeaders: pivotValue.rowHeaders === '' ? '' : pivotValue.rowHeaders.toString().split('.').join(' - '),\n                columnHeaders: pivotValue.columnHeaders === '' ? '' : pivotValue.columnHeaders.toString().split('.').join(' - '),\n                value: valuetText + '(' + pivotValue.formattedText + ')'\n            };\n            this.parent.trigger(events.drillThrough, eventArgs);\n            this.drillThroughDialog.showDrillThroughDialog(eventArgs);\n        }\n    };\n    return DrillThrough;\n}());\nexport { DrillThrough };\n","import * as events from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { Chart, ColumnSeries, LineSeries, Legend, Tooltip, Category, AreaSeries, StepLineSeries, SplineSeries, SplineAreaSeries, MultiColoredLineSeries, RangeAreaSeries, StackingAreaSeries, StepAreaSeries, MultiColoredAreaSeries, StackingColumnSeries, RangeColumnSeries, BarSeries, StackingBarSeries, ScatterSeries, BubbleSeries, PolarSeries, RadarSeries, MultiLevelLabel, ScrollBar, Zoom, ParetoSeries, Export, Crosshair } from '@syncfusion/ej2-charts';\nimport { createElement, remove, isNullOrUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport { showSpinner } from '@syncfusion/ej2-popups';\nimport { PivotUtil } from '../../base/util';\nvar PivotChart = /** @class */ (function () {\n    function PivotChart() {\n        this.headerColl = {};\n        this.maxLevel = 0;\n        this.columnGroupObject = {};\n        this.fieldPosition = [];\n        this.measurePos = -1;\n    }\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    PivotChart.prototype.getModuleName = function () {\n        return 'pivotchart';\n    };\n    /* tslint:disable */\n    PivotChart.prototype.loadChart = function (parent, chartSettings) {\n        this.parent = parent;\n        this.engineModule = this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule;\n        this.dataSourceSettings = this.parent.dataSourceSettings;\n        this.chartSettings = chartSettings;\n        var isDataAvail = parent.dataType === 'olap' ?\n            (parent.olapEngineModule.tupColumnInfo.length > 0 && parent.olapEngineModule.tupRowInfo.length > 0 &&\n                (!isNullOrUndefined(parent.olapEngineModule.colMeasurePos) || !isNullOrUndefined(parent.olapEngineModule.rowMeasurePos)))\n            : parent.dataSourceSettings.values.length > 0;\n        if (isDataAvail) {\n            if (this.chartSettings.enableMultiAxis) {\n                this.measureList = this.dataSourceSettings.values.map(function (item) { return item.name; });\n            }\n            else {\n                this.measureList = [chartSettings.value === '' ? this.dataSourceSettings.values[0].name : chartSettings.value];\n            }\n        }\n        else if (this.parent.chart) {\n            this.parent.chart.series = [];\n            this.parent.chart.rows = [];\n            this.parent.chart.primaryXAxis.title = '';\n            this.parent.chart.primaryYAxis.title = '';\n            this.parent.chart.primaryXAxis.multiLevelLabels = [];\n            this.parent.chart.primaryYAxis.multiLevelLabels = [];\n            if (this.parent.chart.axes.length > 0) {\n                this.parent.chart.axes[0].title = '';\n            }\n            this.parent.chart.primaryXAxis.zoomFactor = 1;\n            this.parent.chart.refresh();\n            return;\n        }\n        else {\n            this.parent.notify(events.contentReady, {});\n            return;\n        }\n        this.columnGroupObject = {};\n        var pivotValues = this.engineModule.pivotValues;\n        this.currentMeasure = chartSettings.enableMultiAxis ? this.measureList[0] :\n            (((chartSettings.value === '' || this.dataSourceSettings.values.filter(function (item) {\n                return item.name === chartSettings.value;\n            }).length === 0) && this.dataSourceSettings.values.length > 0) ? this.dataSourceSettings.values[0].name : chartSettings.value);\n        var totColIndex = this.getColumnTotalIndex(pivotValues);\n        var rKeys = Object.keys(pivotValues);\n        var prevLevel;\n        var firstLevelUName;\n        var levelCollection = {};\n        var prevCell;\n        var integratedLevel = 0;\n        var indexCount = -0.5;\n        this.headerColl = {};\n        this.maxLevel = 0;\n        var levelPos = {};\n        var lastHierarchy = '';\n        var lastDimension = '';\n        var memberCell;\n        if (this.parent.dataType === 'olap') {\n            levelPos = this.groupHierarchyWithLevels(pivotValues);\n            lastHierarchy = this.fieldPosition[this.fieldPosition.length - 1];\n            lastDimension = (this.measurePos === (this.fieldPosition.length - 1) && this.fieldPosition.length > 1) ?\n                this.fieldPosition[this.fieldPosition.length - 2] : lastHierarchy;\n        }\n        for (var _i = 0, rKeys_1 = rKeys; _i < rKeys_1.length; _i++) {\n            var rKey = rKeys_1[_i];\n            var rowIndex = Number(rKey);\n            if (pivotValues[rowIndex][0] && pivotValues[rowIndex][0].axis === 'row' &&\n                (this.dataSourceSettings.rows.length === 0 ? true : pivotValues[rowIndex][0].type !== 'grand sum')) {\n                var firstRowCell = pivotValues[rowIndex][0];\n                var tupInfo = this.parent.dataType === 'olap' ?\n                    this.engineModule.tupRowInfo[firstRowCell.ordinal] : undefined;\n                var fieldPos = -1;\n                var currrentLevel = firstRowCell.level;\n                if (this.parent.dataType === 'olap') {\n                    fieldPos = tupInfo.uNameCollection.split('::').length - 1;\n                    if (firstRowCell.memberType !== 3 && (tupInfo.measureName ?\n                        tupInfo.measureName === this.dataSourceSettings.values[0].name : true)) {\n                        firstLevelUName = firstLevelUName === undefined ? firstRowCell.levelUniqueName : firstLevelUName;\n                        integratedLevel = firstLevelUName === firstRowCell.levelUniqueName ? 0 : integratedLevel;\n                        levelCollection = integratedLevel === 0 ? {} : levelCollection;\n                        integratedLevel = (prevCell && firstLevelUName !== firstRowCell.levelUniqueName) ?\n                            (prevCell.hierarchy === firstRowCell.hierarchy ?\n                                (integratedLevel + (firstRowCell.level - prevCell.level)) :\n                                (isNullOrUndefined(levelCollection[firstRowCell.levelUniqueName]) ? (levelPos[firstRowCell.hierarchy].start) :\n                                    levelCollection[firstRowCell.levelUniqueName])) : integratedLevel;\n                        levelCollection[firstRowCell.levelUniqueName] = integratedLevel;\n                        currrentLevel = integratedLevel;\n                        indexCount += (prevCell && lastDimension === prevCell.hierarchy && !prevCell.isDrilled) ? 1 : 0;\n                        prevLevel = integratedLevel;\n                        prevCell = firstRowCell;\n                    }\n                }\n                else if (firstRowCell.type !== 'value') {\n                    if (!(prevLevel === undefined || prevLevel < currrentLevel)) {\n                        indexCount++;\n                    }\n                    prevLevel = currrentLevel;\n                }\n                this.maxLevel = currrentLevel > this.maxLevel ? currrentLevel : this.maxLevel;\n                var name_1 = this.parent.dataType === 'olap' ? firstRowCell.formattedText :\n                    (firstRowCell.actualText ? firstRowCell.actualText.toString() : firstRowCell.formattedText.toString());\n                var caption = firstRowCell.hasChild ? ((firstRowCell.isDrilled ? ' - ' : ' + ') + name_1) : name_1;\n                var levelName = tupInfo ? tupInfo.uNameCollection : firstRowCell.valueSort['levelName'].toString();\n                var cellInfo = {\n                    name: name_1,\n                    text: caption,\n                    hasChild: firstRowCell.hasChild,\n                    isDrilled: firstRowCell.isDrilled,\n                    levelName: levelName,\n                    level: currrentLevel,\n                    fieldName: firstRowCell.valueSort['axis'] ? firstRowCell.valueSort['axis'].toString() : '',\n                    rowIndex: rowIndex,\n                    colIndex: 0,\n                    cell: firstRowCell\n                };\n                if (this.parent.dataType === 'olap' ? firstRowCell.memberType !== 3 : firstRowCell.type !== 'value') {\n                    if (this.headerColl[indexCount]) {\n                        this.headerColl[indexCount][currrentLevel] = cellInfo;\n                    }\n                    else {\n                        this.headerColl[indexCount] = {};\n                        this.headerColl[indexCount][currrentLevel] = cellInfo;\n                    }\n                }\n                var rows = pivotValues[rowIndex];\n                var cKeys = Object.keys(rows);\n                var prevMemberCell = void 0;\n                if (this.parent.dataType === 'olap') {\n                    memberCell = firstRowCell.memberType !== 3 ? firstRowCell : memberCell;\n                }\n                else {\n                    memberCell = firstRowCell.type !== 'value' ? firstRowCell : memberCell;\n                }\n                for (var _a = 0, cKeys_1 = cKeys; _a < cKeys_1.length; _a++) {\n                    var cKey = cKeys_1[_a];\n                    var cellIndex = Number(cKey);\n                    var cell = pivotValues[rowIndex][cellIndex];\n                    var measureAllow = cell.rowHeaders === '' ? this.dataSourceSettings.rows.length === 0 : true;\n                    var actualText = (this.parent.dataType === 'olap' && tupInfo && tupInfo.measureName) ?\n                        tupInfo.measureName : cell.actualText;\n                    if (!totColIndex[cell.colIndex] && cell.axis === 'value' && firstRowCell.type !== 'header' &&\n                        actualText !== '' && (chartSettings.enableMultiAxis ? true : actualText === this.currentMeasure)) {\n                        if (this.parent.dataType === 'olap' ? (lastHierarchy === firstRowCell.hierarchy ?\n                            ((firstRowCell.memberType === 3 && prevMemberCell) ?\n                                (fieldPos === this.measurePos ? prevMemberCell.isDrilled : true) : firstRowCell.isDrilled) : true)\n                            : (((firstRowCell.type === 'value' && prevMemberCell) ?\n                                prevMemberCell.members.length > 0 : firstRowCell.members.length > 0) || !measureAllow)) {\n                            break;\n                        }\n                        var colHeaders = this.parent.dataType === 'olap' ? cell.columnHeaders.toString().split(/~~|::/).join(' - ')\n                            : cell.columnHeaders.toString().split('.').join(' - ');\n                        var rowHeaders = this.parent.dataType === 'olap' ? cell.rowHeaders.toString().split(/~~|::/).join(' - ')\n                            : cell.rowHeaders.toString().split('.').join(' - ');\n                        var columnSeries = colHeaders + ' | ' + actualText;\n                        if (this.columnGroupObject[columnSeries]) {\n                            this.columnGroupObject[columnSeries].push({\n                                x: this.dataSourceSettings.rows.length === 0 ? firstRowCell.formattedText : rowHeaders,\n                                y: Number(cell.value)\n                            });\n                        }\n                        else {\n                            this.columnGroupObject[columnSeries] = [{\n                                    x: this.dataSourceSettings.rows.length === 0 ? firstRowCell.formattedText : rowHeaders,\n                                    y: Number(cell.value)\n                                }];\n                        }\n                    }\n                    prevMemberCell = memberCell;\n                }\n            }\n        }\n        this.refreshChart();\n    };\n    /**\n     * Refreshing chart based on the updated chartSettings.\n     * @returns void\n     */\n    PivotChart.prototype.refreshChart = function () {\n        this.chartSeries = [];\n        var columnKeys = Object.keys(this.columnGroupObject);\n        this.persistSettings = JSON.parse(this.parent.getPersistData()).chartSettings;\n        for (var _i = 0, columnKeys_1 = columnKeys; _i < columnKeys_1.length; _i++) {\n            var key = columnKeys_1[_i];\n            var currentSeries = {};\n            currentSeries = this.persistSettings.chartSeries ? this.frameObjectWithKeys(this.persistSettings.chartSeries) : currentSeries;\n            currentSeries.dataSource = this.columnGroupObject[key];\n            currentSeries.xName = 'x';\n            currentSeries.yName = 'y';\n            currentSeries.name = this.chartSettings.enableMultiAxis ? key : key.split(' | ')[0];\n            if (!(this.chartSettings.chartSeries.type === 'Polar' || this.chartSettings.chartSeries.type === 'Radar')) {\n                currentSeries.yAxisName = key.split(' | ')[1];\n            }\n            this.chartSeries = this.chartSeries.concat(currentSeries);\n        }\n        var seriesEvent = { series: this.chartSeries, cancel: false };\n        this.parent.trigger(events.chartSeriesCreated, seriesEvent);\n        if (!seriesEvent.cancel) {\n            this.bindChart();\n        }\n        else {\n            if (this.element) {\n                remove(this.element);\n            }\n            this.parent.notify(events.contentReady, {});\n        }\n    };\n    PivotChart.prototype.frameObjectWithKeys = function (series) {\n        var keys = Object.keys(series);\n        var keyPos = 0;\n        var framedSeries = {};\n        while (keyPos < keys.length) {\n            framedSeries[keys[keyPos]] = series[keys[keyPos]];\n            keyPos++;\n        }\n        return framedSeries;\n    };\n    PivotChart.prototype.bindChart = function () {\n        var currentXAxis = this.configXAxis();\n        var currentTooltipSettings = this.configTooltipSettings();\n        var currentLegendSettings = this.configLegendSettings();\n        var currentZoomSettings = this.configZoomSettings();\n        var axesWithRows = this.frameAxesWithRows();\n        var type = this.chartSettings.chartSeries.type;\n        if (this.parent.displayOption.view === 'Both') {\n            this.element = this.parent.displayOption.primary === 'Chart' ? (this.parent.element.insertBefore((!this.element ? (createElement('div', {\n                className: cls.PIVOTCHART, id: this.parent.element.id + '_chart'\n            })) : this.element), this.parent.element.querySelector('.' + cls.GRID_CLASS))) :\n                (this.parent.element.appendChild(!this.element ? (createElement('div', {\n                    className: cls.PIVOTCHART, id: this.parent.element.id + '_chart'\n                })) : this.element));\n        }\n        else if (!this.element) {\n            this.element = this.parent.element.appendChild(createElement('div', {\n                className: cls.PIVOTCHART, id: this.parent.element.id + '_chart'\n            }));\n        }\n        if (!(this.parent.chart && this.parent.chart.element && this.parent.element.querySelector('.e-chart'))) {\n            if (this.parent.showGroupingBar) {\n                this.element.style.minWidth = '400px !important';\n            }\n            else {\n                this.element.style.minWidth = '310px !important';\n            }\n            var width = this.parent.width.toString();\n            if (this.parent.showToolbar && this.parent.grid) {\n                width = this.parent.getGridWidthAsNumber().toString();\n            }\n            Chart.Inject(ColumnSeries, StackingColumnSeries, RangeColumnSeries, BarSeries, StackingBarSeries, ScatterSeries, BubbleSeries, LineSeries, StepLineSeries, SplineSeries, SplineAreaSeries, MultiColoredLineSeries, PolarSeries, RadarSeries, AreaSeries, RangeAreaSeries, StackingAreaSeries, StepAreaSeries, MultiColoredAreaSeries, ParetoSeries, Legend, Tooltip, Category, MultiLevelLabel, ScrollBar, Zoom, Export, Crosshair);\n            this.parent.chart = new Chart({\n                series: this.chartSeries,\n                legendSettings: currentLegendSettings,\n                tooltip: currentTooltipSettings,\n                zoomSettings: currentZoomSettings,\n                axes: (type === 'Polar' || type === 'Radar') ? [] : axesWithRows.axes,\n                rows: (type === 'Polar' || type === 'Radar') ? [{}] :\n                    (type === 'Bar' || type === 'StackingBar' || type === 'StackingBar100' &&\n                        this.chartSettings.enableMultiAxis) ? [{ height: '100%' }] : axesWithRows.rows,\n                columns: (type === 'Polar' || type === 'Radar') ? [{}] :\n                    (type === 'Bar' || type === 'StackingBar' || type === 'StackingBar100' &&\n                        this.chartSettings.enableMultiAxis) ? axesWithRows.columns : [{ width: '100%' }],\n                primaryYAxis: (type === 'Polar' || type === 'Radar') ? axesWithRows.axes[0] : { visible: false },\n                primaryXAxis: currentXAxis,\n                width: width,\n                height: this.parent.height.toString(),\n                title: this.chartSettings.title,\n                titleStyle: this.chartSettings.titleStyle,\n                subTitle: this.chartSettings.subTitle,\n                subTitleStyle: this.chartSettings.subTitleStyle,\n                margin: this.chartSettings.margin,\n                border: this.chartSettings.border,\n                background: this.chartSettings.background,\n                chartArea: this.chartSettings.chartArea,\n                palettes: this.chartSettings.palettes,\n                theme: this.chartSettings.theme,\n                crosshair: this.chartSettings.crosshair,\n                selectionMode: this.chartSettings.selectionMode,\n                isMultiSelect: this.chartSettings.isMultiSelect,\n                enableExport: this.chartSettings.enableExport,\n                selectedDataIndexes: this.chartSettings.selectedDataIndexes,\n                isTransposed: this.chartSettings.isTransposed,\n                enableAnimation: this.chartSettings.enableAnimation,\n                useGroupingSeparator: this.chartSettings.useGroupingSeparator,\n                description: this.chartSettings.description,\n                tabIndex: this.chartSettings.tabIndex,\n                locale: this.parent.locale,\n                enableSideBySidePlacement: this.chartSettings.enableSideBySidePlacement,\n                beforePrint: this.chartSettings.beforePrint ? this.chartSettings.beforePrint.bind(this) : undefined,\n                animationComplete: this.chartSettings.animationComplete ? this.chartSettings.animationComplete.bind(this) : undefined,\n                legendRender: this.chartSettings.legendRender ? this.chartSettings.legendRender.bind(this) : undefined,\n                textRender: this.chartSettings.textRender ? this.chartSettings.textRender.bind(this) : undefined,\n                pointRender: this.chartSettings.pointRender ? this.chartSettings.pointRender.bind(this) : undefined,\n                seriesRender: this.chartSettings.seriesRender ? this.chartSettings.seriesRender.bind(this) : undefined,\n                chartMouseMove: this.chartSettings.chartMouseMove ? this.chartSettings.chartMouseMove.bind(this) : undefined,\n                chartMouseClick: this.chartSettings.chartMouseClick ? this.chartSettings.chartMouseClick.bind(this) : undefined,\n                pointMove: this.chartSettings.pointMove ? this.chartSettings.pointMove.bind(this) : undefined,\n                pointClick: this.chartSettings.pointClick ? this.chartSettings.pointClick.bind(this) : undefined,\n                chartMouseLeave: this.chartSettings.chartMouseLeave ? this.chartSettings.chartMouseLeave.bind(this) : undefined,\n                chartMouseDown: this.chartSettings.chartMouseDown ? this.chartSettings.chartMouseDown.bind(this) : undefined,\n                chartMouseUp: this.chartSettings.chartMouseUp ? this.chartSettings.chartMouseUp.bind(this) : undefined,\n                dragComplete: this.chartSettings.dragComplete ? this.chartSettings.dragComplete.bind(this) : undefined,\n                zoomComplete: this.chartSettings.zoomComplete ? this.chartSettings.zoomComplete.bind(this) : undefined,\n                scrollStart: this.chartSettings.scrollStart ? this.chartSettings.scrollStart.bind(this) : undefined,\n                scrollEnd: this.chartSettings.scrollEnd ? this.chartSettings.scrollEnd.bind(this) : undefined,\n                scrollChanged: this.chartSettings.scrollChanged ? this.chartSettings.scrollChanged.bind(this) : undefined,\n                tooltipRender: this.tooltipRender.bind(this),\n                loaded: this.loaded.bind(this),\n                load: this.load.bind(this),\n                resized: this.resized.bind(this),\n                axisLabelRender: this.axisLabelRender.bind(this),\n                multiLevelLabelClick: this.multiLevelLabelClick.bind(this),\n            });\n            this.parent.chart.isStringTemplate = true;\n            this.parent.chart.appendTo('#' + this.parent.element.id + '_chart');\n        }\n        else {\n            this.parent.chart.series = this.chartSeries;\n            this.parent.chart.primaryXAxis = currentXAxis;\n            if (type === 'Polar' || type === 'Radar') {\n                this.parent.chart.primaryYAxis.visible = true;\n                this.parent.chart.primaryYAxis = axesWithRows.axes[0];\n                this.parent.chart.axes = [];\n                this.parent.chart.rows = [{}];\n            }\n            else {\n                this.parent.chart.primaryYAxis.visible = false;\n                this.parent.chart.axes = axesWithRows.axes;\n                if (type === 'Bar' || type === 'StackingBar' || type === 'StackingBar100' &&\n                    this.chartSettings.enableMultiAxis) {\n                    this.parent.chart.rows = [{ height: '100%' }];\n                    this.parent.chart.columns = axesWithRows.columns;\n                }\n                else {\n                    this.parent.chart.rows = axesWithRows.rows;\n                    this.parent.chart.columns = [{ width: '100%' }];\n                }\n            }\n            this.parent.chart.refresh();\n        }\n    };\n    PivotChart.prototype.frameAxesWithRows = function () {\n        var axes = [];\n        var rows = [];\n        var columns = [];\n        var percentChart = this.persistSettings.chartSeries && (this.persistSettings.chartSeries.type === 'StackingColumn100' ||\n            this.persistSettings.chartSeries.type === 'StackingBar100' ||\n            this.persistSettings.chartSeries.type === 'StackingArea100');\n        if (this.chartSettings.enableMultiAxis) {\n            var valCnt = 0;\n            var divider = (100 / this.dataSourceSettings.values.length) + '%';\n            for (var _i = 0, _a = this.dataSourceSettings.values; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var measureField = this.engineModule.fieldList[item.name];\n                var measureAggregatedName = (this.parent.dataType === 'olap' ? '' : (this.parent.localeObj.getConstant(measureField.aggregateType) + ' ' +\n                    this.parent.localeObj.getConstant('of') + ' ')) + measureField.caption;\n                // let formatSetting: IFormatSettings = this.dataSourceSettings.formatSettings.filter((itm: IFormatSettings) => {\n                //     return itm.name === item.name;\n                // })[0];\n                var formatSetting = void 0;\n                for (var _b = 0, _c = this.dataSourceSettings.formatSettings; _b < _c.length; _b++) {\n                    var field = _c[_b];\n                    if (field.name === item.name) {\n                        formatSetting = field;\n                        break;\n                    }\n                }\n                var format = (formatSetting ? formatSetting.format :\n                    this.parent.dataType === 'olap' ? this.getFormat(measureField.formatString) : 'N');\n                var resFormat = (this.chartSettings.chartSeries.type === 'Polar' || this.chartSettings.chartSeries.type === 'Radar') ? true : false;\n                var currentYAxis = {};\n                currentYAxis = this.persistSettings.primaryYAxis ?\n                    this.frameObjectWithKeys(this.persistSettings.primaryYAxis) : currentYAxis;\n                currentYAxis.labelFormat = currentYAxis.labelFormat ?\n                    currentYAxis.labelFormat : (percentChart ? '' : (!resFormat ? format : 'N'));\n                currentYAxis.title = currentYAxis.title ? currentYAxis.title : measureAggregatedName;\n                currentYAxis.plotOffset = currentYAxis.plotOffset ? currentYAxis.plotOffset : (valCnt % 2 !== 0 ?\n                    this.chartSettings.chartSeries.type === 'Bar' || this.chartSettings.chartSeries.type === 'StackingBar' ||\n                        this.chartSettings.chartSeries.type === 'StackingBar100' ? 50 : 30 : 0);\n                currentYAxis.rowIndex = valCnt;\n                currentYAxis.columnIndex = valCnt;\n                if (!resFormat) {\n                    currentYAxis.name = item.name;\n                }\n                axes = axes.concat(currentYAxis);\n                rows.push({ height: divider });\n                columns.push({ width: divider });\n                valCnt++;\n            }\n        }\n        else {\n            var measureField = this.engineModule.fieldList[this.currentMeasure];\n            var measureAggregatedName = (this.parent.dataType === 'olap' ? '' :\n                (this.parent.localeObj.getConstant(measureField.aggregateType) + ' ' +\n                    this.parent.localeObj.getConstant('of') + ' ')) + measureField.caption;\n            // let formatSetting: IFormatSettings = this.dataSourceSettings.formatSettings.filter((item: IFormatSettings) => {\n            //     return item.name === this.currentMeasure;\n            // })[0];\n            var formatSetting = void 0;\n            for (var _d = 0, _e = this.dataSourceSettings.formatSettings; _d < _e.length; _d++) {\n                var item = _e[_d];\n                if (item.name === this.currentMeasure) {\n                    formatSetting = item;\n                    break;\n                }\n            }\n            var currentYAxis = {};\n            var format = (formatSetting ? formatSetting.format :\n                this.parent.dataType === 'olap' ? this.getFormat(measureField.formatString) : 'N');\n            currentYAxis = this.persistSettings.primaryYAxis ? this.frameObjectWithKeys(this.persistSettings.primaryYAxis) : currentYAxis;\n            currentYAxis.rowIndex = 0;\n            currentYAxis.columnIndex = 0;\n            if (!(this.chartSettings.chartSeries.type === 'Polar' || this.chartSettings.chartSeries.type === 'Radar')) {\n                currentYAxis.name = this.currentMeasure;\n            }\n            currentYAxis.labelFormat = currentYAxis.labelFormat ? currentYAxis.labelFormat : (percentChart ? '' : format);\n            currentYAxis.title = currentYAxis.title ? currentYAxis.title : measureAggregatedName;\n            axes = axes.concat(currentYAxis);\n            rows.push({ height: '100%' });\n            columns.push({ width: '100%' });\n        }\n        return { axes: axes, rows: rows, columns: columns };\n    };\n    PivotChart.prototype.getFormat = function (format) {\n        if (format === 'Currency') {\n            format = 'C';\n        }\n        else if (format === 'Percent') {\n            format = 'P';\n        }\n        else {\n            format = 'N';\n        }\n        return format;\n    };\n    PivotChart.prototype.getColumnTotalIndex = function (pivotValues) {\n        var colIndexColl = {};\n        var rKeys = Object.keys(pivotValues);\n        for (var _i = 0, rKeys_2 = rKeys; _i < rKeys_2.length; _i++) {\n            var rowIndex = rKeys_2[_i];\n            var rows = pivotValues[Number(rowIndex)];\n            var cKeys = Object.keys(rows);\n            for (var _a = 0, cKeys_2 = cKeys; _a < cKeys_2.length; _a++) {\n                var cellIndex = cKeys_2[_a];\n                var cell = rows[Number(cellIndex)];\n                if (cell.axis !== 'column') {\n                    return colIndexColl;\n                }\n                else if ((cell.type === 'sum' || (this.dataSourceSettings.columns.length === 0 ? false : cell.type === 'grand sum'))\n                    && cell.rowSpan !== -1) {\n                    colIndexColl[cell.colIndex] = cell.colIndex;\n                }\n            }\n        }\n        return colIndexColl;\n    };\n    PivotChart.prototype.groupHierarchyWithLevels = function (pivotValues) {\n        var _a, _b;\n        this.fieldPosition = [];\n        var group = {};\n        var fieldCount = 0;\n        var levelPos = {};\n        this.measurePos = this.engineModule.tupRowInfo[0].measurePosition;\n        for (var rowPos = 0; rowPos < pivotValues.length; rowPos++) {\n            var cell = pivotValues[rowPos][0];\n            if (cell && cell.axis === 'row' && cell.type !== 'grand sum') {\n                if (isNullOrUndefined(group[cell.hierarchy])) {\n                    if (cell.memberType === 3) {\n                        if (fieldCount === this.measurePos) {\n                            this.fieldPosition[this.measurePos] = cell.hierarchy;\n                            group[cell.hierarchy] = (_a = {}, _a[cell.levelUniqueName] = cell.levelUniqueName, _a);\n                        }\n                        else {\n                            fieldCount--;\n                        }\n                    }\n                    else {\n                        this.fieldPosition[fieldCount] = cell.hierarchy;\n                        group[cell.hierarchy] = (_b = {}, _b[cell.levelUniqueName] = cell.levelUniqueName, _b);\n                    }\n                    fieldCount++;\n                }\n                else {\n                    group[cell.hierarchy][cell.levelUniqueName] = cell.levelUniqueName;\n                }\n            }\n        }\n        var lastEnd = -1;\n        for (var pos = 0; pos < this.fieldPosition.length; pos++) {\n            if (this.measurePos !== pos) {\n                levelPos[this.fieldPosition[pos]] = { start: (lastEnd + 1), end: (lastEnd + Object.keys(group[this.fieldPosition[pos]]).length) };\n                lastEnd = levelPos[this.fieldPosition[pos]].end;\n            }\n        }\n        return levelPos;\n    };\n    PivotChart.prototype.frameMultiLevelLabels = function () {\n        var startKeys = Object.keys(this.headerColl);\n        var parentHeaders = this.headerColl[-0.5];\n        for (var _i = 0, startKeys_1 = startKeys; _i < startKeys_1.length; _i++) {\n            var startKey = startKeys_1[_i];\n            var sKey = Number(startKey);\n            var headers = this.headerColl[sKey];\n            var levelPos = 0;\n            var isAvail = false;\n            while (levelPos <= this.maxLevel) {\n                if (!isAvail) {\n                    if (!headers[levelPos]) {\n                        headers[levelPos] = parentHeaders[levelPos];\n                    }\n                    else {\n                        isAvail = true;\n                    }\n                }\n                else if (!headers[levelPos]) {\n                    headers[levelPos] = {\n                        name: headers[levelPos - 1].name,\n                        // text: headers[levelPos - 1].text,\n                        text: '',\n                        hasChild: headers[levelPos - 1].hasChild,\n                        isDrilled: headers[levelPos - 1].isDrilled,\n                        levelName: headers[levelPos - 1].levelName,\n                        level: headers[levelPos - 1].level,\n                        fieldName: headers[levelPos - 1].fieldName,\n                        rowIndex: headers[levelPos - 1].rowIndex,\n                        colIndex: headers[levelPos - 1].colIndex,\n                        span: -1,\n                    };\n                    // headers[levelPos - 1].span = 0;\n                }\n                levelPos++;\n            }\n            parentHeaders = this.headerColl[sKey];\n        }\n        var gRows = {};\n        for (var _a = 0, startKeys_2 = startKeys; _a < startKeys_2.length; _a++) {\n            var startKey = startKeys_2[_a];\n            var sKey = Number(startKey);\n            var headers = this.headerColl[sKey];\n            var lKeys = Object.keys(headers);\n            for (var _b = 0, lKeys_1 = lKeys; _b < lKeys_1.length; _b++) {\n                var levelKey = lKeys_1[_b];\n                var lKey = Number(levelKey);\n                if (gRows[lKey]) {\n                    var len = gRows[lKey].length;\n                    if (headers[lKey].levelName === parentHeaders[lKey].levelName) {\n                        gRows[lKey][len - 1].end = gRows[lKey][len - 1].end + 1;\n                    }\n                    else {\n                        gRows[lKey].push({\n                            start: sKey, end: sKey + 1, text: headers[lKey].text,\n                            type: (headers[lKey].span === -1 ? 'WithoutTopandBottomBorder' : 'WithoutTopBorder'), customAttributes: headers[lKey]\n                        });\n                    }\n                }\n                else {\n                    gRows[lKey] = [{\n                            start: sKey, end: sKey + 1, text: headers[lKey].text,\n                            type: (headers[lKey].span === -1 ? 'WithoutTopandBottomBorder' : 'WithoutTopBorder'), customAttributes: headers[lKey]\n                        }];\n                }\n            }\n            parentHeaders = headers;\n        }\n        var levellength = Object.keys(gRows).length;\n        var multiLevelLabels = [];\n        for (var level = levellength - 1; level > -1; level--) {\n            multiLevelLabels.push({ categories: gRows[level], border: { width: 1 }, overflow: 'Trim' });\n        }\n        return multiLevelLabels;\n    };\n    PivotChart.prototype.getZoomFactor = function () {\n        if (!isNaN(Number(this.parent.width))) {\n            this.calculatedWidth = Number(this.parent.width);\n        }\n        else if (this.parent.width.indexOf('%') > -1) {\n            this.calculatedWidth = this.parent.element.clientWidth * (parseFloat(this.parent.width) / 100);\n        }\n        else if (this.parent.width.indexOf('px') > -1) {\n            this.calculatedWidth = Number(this.parent.width.toString().split('px')[0]);\n        }\n        else {\n            this.calculatedWidth = this.parent.element.clientWidth;\n        }\n        var seriesLength = (this.chartSeries.length * 10) > 120 ? (this.chartSeries.length * 10) : 120;\n        var zoomFactor = this.chartSeries.length > 0 ?\n            (this.calculatedWidth / (Object.keys(this.chartSeries[0].dataSource).length * seriesLength)) : 1;\n        zoomFactor = (zoomFactor < 1 && zoomFactor > 0) ? zoomFactor : 1;\n        return zoomFactor;\n    };\n    PivotChart.prototype.configTooltipSettings = function () {\n        var tooltip = this.chartSettings.tooltip;\n        tooltip.enable = tooltip.enable === undefined ? true : tooltip.enable;\n        tooltip.header = tooltip.header ? tooltip.header : '';\n        tooltip.enableMarker = tooltip.enableMarker === undefined ? true : tooltip.enableMarker;\n        return tooltip;\n    };\n    PivotChart.prototype.configLegendSettings = function () {\n        var legendSettings = {};\n        legendSettings = this.chartSettings.legendSettings ? this.chartSettings.legendSettings : legendSettings;\n        legendSettings.padding = legendSettings.padding ? legendSettings.padding : 25;\n        legendSettings.shapePadding = legendSettings.shapePadding ? legendSettings.shapePadding : 10;\n        return legendSettings;\n    };\n    PivotChart.prototype.configXAxis = function () {\n        var currentXAxis = {};\n        currentXAxis = this.persistSettings.primaryXAxis ? this.frameObjectWithKeys(this.persistSettings.primaryXAxis) : currentXAxis;\n        currentXAxis.valueType = 'Category';\n        currentXAxis.labelIntersectAction = currentXAxis.labelIntersectAction ? currentXAxis.labelIntersectAction : 'Rotate45';\n        currentXAxis.title = currentXAxis.title ? currentXAxis.title :\n            this.dataSourceSettings.rows.map(function (args) { return args.caption || args.name; }).join(' / ');\n        currentXAxis.zoomFactor = this.getZoomFactor();\n        if (this.chartSettings.showMultiLevelLabels) {\n            currentXAxis.multiLevelLabels = this.frameMultiLevelLabels();\n            currentXAxis.border = { width: 1, type: 'WithoutTopandBottomBorder' };\n            currentXAxis.majorTickLines = { width: 0, height: -10 };\n        }\n        return currentXAxis;\n    };\n    PivotChart.prototype.configZoomSettings = function () {\n        var zoomSettings = this.chartSettings.zoomSettings;\n        zoomSettings.enableSelectionZooming = zoomSettings.enableSelectionZooming === undefined ? true : zoomSettings.enableSelectionZooming;\n        zoomSettings.enableScrollbar = zoomSettings.enableScrollbar === undefined ? true : zoomSettings.enableScrollbar;\n        return zoomSettings;\n    };\n    PivotChart.prototype.tooltipRender = function (args) {\n        var measureField = this.engineModule.fieldList[args.series.yAxisName ? (args.series.yAxisName.split('_CumulativeAxis')[0]) :\n            (this.chartSettings.enableMultiAxis ? args.series.name.split(' | ')[1] : this.currentMeasure)];\n        var measureAggregatedName = (this.parent.dataType === 'olap' ? '' : (this.parent.localeObj.getConstant(measureField.aggregateType) + ' ' +\n            this.parent.localeObj.getConstant('of') + ' ')) + measureField.caption;\n        var formattedText = args.text.split('<b>')[1].split('</b>')[0];\n        var formattedValue = ((this.engineModule.formatFields[measureField.id] &&\n            this.chartSettings.useGroupingSeparator) ? this.parent.dataType === 'olap' ?\n            this.engineModule.getFormattedValue(args.point.y, measureField.id, formattedText) :\n            this.parent.engineModule.getFormattedValue(args.point.y, measureField.id).formattedText :\n            formattedText);\n        args.text = measureAggregatedName + ': ' + formattedValue +\n            (this.dataSourceSettings.columns.length === 0 ? '' :\n                (' <br/>' + this.parent.localeObj.getConstant('column') + ': ' + args.series.name.split(' | ')[0])) +\n            (this.dataSourceSettings.rows.length === 0 ? '' :\n                (' <br/>' + this.parent.localeObj.getConstant('row') + ': ' + args.point.x));\n        this.parent.trigger(events.chartTooltipRender, args);\n    };\n    PivotChart.prototype.loaded = function (args) {\n        this.parent.isChartLoaded = true;\n        if (this.parent.chart && this.parent.showGroupingBar && this.parent.groupingBarModule &&\n            this.parent.showFieldList && this.parent.currentView === 'Chart') {\n            this.parent.groupingBarModule.alignIcon();\n        }\n        if (this.chartSettings.showMultiLevelLabels) {\n            var multilabelAxisName = PivotUtil.inArray(this.chartSettings.chartSeries.type, ['Bar', 'StackingBar', 'StackingBar100']) > -1 ?\n                '_chartYAxisMultiLevelLabel0' : '_chartXAxisMultiLevelLabel0';\n            if (!isNullOrUndefined(this.parent.element.querySelector(\"#\" + this.parent.element.id + multilabelAxisName))) {\n                this.parent.element.querySelector(\"#\" + this.parent.element.id + multilabelAxisName).setAttribute('cursor', 'pointer');\n            }\n        }\n        this.parent.notify(events.contentReady, {});\n        this.parent.trigger(events.chartLoaded, args);\n    };\n    PivotChart.prototype.axisLabelRender = function (args) {\n        if (this.chartSettings.showMultiLevelLabels) {\n            if (args.axis.name === 'primaryXAxis') {\n                args.text = '';\n            }\n        }\n        this.parent.trigger(events.chartAxisLabelRender, args);\n    };\n    PivotChart.prototype.multiLevelLabelClick = function (args) {\n        if (args.customAttributes && args.customAttributes.hasChild) {\n            if (this.parent.dataType === 'olap') {\n                this.parent.onDrill(undefined, args.customAttributes);\n            }\n            else {\n                this.onDrill(args);\n            }\n        }\n    };\n    /** @hidden */\n    PivotChart.prototype.onDrill = function (args) {\n        var labelInfo = args.customAttributes;\n        var delimiter = (this.dataSourceSettings.drilledMembers[0] && this.dataSourceSettings.drilledMembers[0].delimiter) ?\n            this.dataSourceSettings.drilledMembers[0].delimiter : '**';\n        var fieldName = labelInfo.fieldName;\n        var currentCell = this.engineModule.pivotValues[labelInfo.rowIndex][labelInfo.colIndex];\n        var memberUqName = currentCell.valueSort.levelName.\n            split(this.engineModule.valueSortSettings.headerDelimiter).join(delimiter);\n        var fieldAvail = false;\n        if (this.dataSourceSettings.drilledMembers.length === 0) {\n            this.parent.setProperties({ dataSourceSettings: { drilledMembers: [{ name: fieldName, items: [memberUqName], delimiter: delimiter }] } }, true);\n        }\n        else {\n            for (var fCnt = 0; fCnt < this.dataSourceSettings.drilledMembers.length; fCnt++) {\n                var field = this.dataSourceSettings.drilledMembers[fCnt];\n                memberUqName = memberUqName.split(delimiter).join(field.delimiter ? field.delimiter : delimiter);\n                delimiter = field.delimiter = field.delimiter ? field.delimiter : delimiter;\n                if (field.name === fieldName) {\n                    fieldAvail = true;\n                    var memIndex = field.items.indexOf(memberUqName);\n                    if (memIndex > -1) {\n                        field.items.splice(memIndex, 1);\n                    }\n                    else {\n                        field.items.push(memberUqName);\n                    }\n                }\n                else {\n                    continue;\n                }\n            }\n            if (!fieldAvail) {\n                this.dataSourceSettings.drilledMembers.push({ name: fieldName, items: [memberUqName], delimiter: delimiter });\n            }\n        }\n        showSpinner(this.parent.element);\n        var pivot = this;\n        //setTimeout(() => {\n        var drilledItem = {\n            fieldName: fieldName, memberName: memberUqName, delimiter: delimiter,\n            axis: 'row',\n            action: labelInfo.isDrilled ? 'up' : 'down',\n            currentCell: currentCell\n        };\n        pivot.parent.trigger(events.drill, {\n            drillInfo: drilledItem,\n            pivotview: isBlazor() ? undefined : pivot\n        });\n        if (pivot.parent.enableVirtualization) {\n            pivot.engineModule.drilledMembers = pivot.dataSourceSettings.drilledMembers;\n            pivot.engineModule.onDrill(drilledItem);\n        }\n        else {\n            pivot.engineModule.generateGridData(pivot.dataSourceSettings);\n        }\n        pivot.parent.setProperties({ pivotValues: pivot.engineModule.pivotValues }, true);\n        pivot.parent.renderPivotGrid();\n        //});\n    };\n    PivotChart.prototype.load = function (args) {\n        if (args.chart.zoomModule) {\n            args.chart.zoomModule.isZoomed = true;\n        }\n        this.parent.trigger(events.chartLoad, args);\n    };\n    PivotChart.prototype.resized = function (args) {\n        if (isBlazor()) {\n            args.chart = this.parent.chart;\n        }\n        args.chart.primaryXAxis.zoomFactor = this.getZoomFactor();\n        this.parent.trigger(events.chartResized, args);\n    };\n    /**\n     * To destroy the chart module\n     * @returns void\n     * @hidden\n     */\n    /* tslint:disable:no-empty */\n    PivotChart.prototype.destroy = function () {\n    };\n    return PivotChart;\n}());\nexport { PivotChart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Border, ErrorBarSettings } from '@syncfusion/ej2-charts';\nimport { DataLabelSettings } from '@syncfusion/ej2-charts';\nimport { ErrorBarCapSettings } from '@syncfusion/ej2-charts';\nimport { Trendline, EmptyPointSettings } from '@syncfusion/ej2-charts';\nimport { CornerRadius, ChartSegment, Animation } from '@syncfusion/ej2-charts';\nimport { Theme, Font, Margin } from '@syncfusion/ej2-charts';\nimport { ChartArea, CrosshairSettings } from '@syncfusion/ej2-charts';\nimport { Indexes } from '@syncfusion/ej2-charts';\nimport { MajorTickLines, MinorTickLines, MajorGridLines } from '@syncfusion/ej2-charts';\nimport { MarkerSettings } from '@syncfusion/ej2-charts';\nimport { MinorGridLines, AxisLine, StripLineSettings, LabelBorder } from '@syncfusion/ej2-charts';\nimport { ChartLocation } from '@syncfusion/ej2-charts';\nimport { CrosshairTooltip } from '@syncfusion/ej2-charts';\n/**\n *  third party configures for chart series in chart settings.\n */\nvar PivotChartSeriesBorder = /** @class */ (function () {\n    function PivotChartSeriesBorder() {\n    }\n    __decorate([\n        Property('')\n    ], PivotChartSeriesBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesBorder.prototype, \"width\", void 0);\n    return PivotChartSeriesBorder;\n}());\nexport { PivotChartSeriesBorder };\nvar PivotChartSeriesAnimation = /** @class */ (function () {\n    function PivotChartSeriesAnimation() {\n    }\n    __decorate([\n        Property(true)\n    ], PivotChartSeriesAnimation.prototype, \"enable\", void 0);\n    __decorate([\n        Property(1000)\n    ], PivotChartSeriesAnimation.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotChartSeriesAnimation.prototype, \"delay\", void 0);\n    return PivotChartSeriesAnimation;\n}());\nexport { PivotChartSeriesAnimation };\nvar PivotChartSeriesSegment = /** @class */ (function () {\n    function PivotChartSeriesSegment() {\n    }\n    __decorate([\n        Property(null)\n    ], PivotChartSeriesSegment.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartSeriesSegment.prototype, \"color\", void 0);\n    __decorate([\n        Property('0')\n    ], PivotChartSeriesSegment.prototype, \"dashArray\", void 0);\n    return PivotChartSeriesSegment;\n}());\nexport { PivotChartSeriesSegment };\nvar PivotChartSeriesMarkerSettings = /** @class */ (function () {\n    function PivotChartSeriesMarkerSettings() {\n    }\n    __decorate([\n        Property(false)\n    ], PivotChartSeriesMarkerSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Circle')\n    ], PivotChartSeriesMarkerSettings.prototype, \"shape\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartSeriesMarkerSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property(5)\n    ], PivotChartSeriesMarkerSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(5)\n    ], PivotChartSeriesMarkerSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ width: 2, color: null }, Border)\n    ], PivotChartSeriesMarkerSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartSeriesMarkerSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesMarkerSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Complex({}, DataLabelSettings)\n    ], PivotChartSeriesMarkerSettings.prototype, \"dataLabel\", void 0);\n    return PivotChartSeriesMarkerSettings;\n}());\nexport { PivotChartSeriesMarkerSettings };\nvar PivotChartSeriesErrorSettings = /** @class */ (function () {\n    function PivotChartSeriesErrorSettings() {\n    }\n    __decorate([\n        Property(false)\n    ], PivotChartSeriesErrorSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Fixed')\n    ], PivotChartSeriesErrorSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], PivotChartSeriesErrorSettings.prototype, \"direction\", void 0);\n    __decorate([\n        Property('Vertical')\n    ], PivotChartSeriesErrorSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartSeriesErrorSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesErrorSettings.prototype, \"verticalError\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesErrorSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesErrorSettings.prototype, \"horizontalError\", void 0);\n    __decorate([\n        Property(3)\n    ], PivotChartSeriesErrorSettings.prototype, \"verticalPositiveError\", void 0);\n    __decorate([\n        Property(3)\n    ], PivotChartSeriesErrorSettings.prototype, \"verticalNegativeError\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesErrorSettings.prototype, \"horizontalPositiveError\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesErrorSettings.prototype, \"horizontalNegativeError\", void 0);\n    __decorate([\n        Complex(null, ErrorBarCapSettings)\n    ], PivotChartSeriesErrorSettings.prototype, \"errorBarCap\", void 0);\n    return PivotChartSeriesErrorSettings;\n}());\nexport { PivotChartSeriesErrorSettings };\nvar PivotChartSeriesTrendline = /** @class */ (function () {\n    function PivotChartSeriesTrendline() {\n    }\n    __decorate([\n        Property('')\n    ], PivotChartSeriesTrendline.prototype, \"name\", void 0);\n    __decorate([\n        Property('Linear')\n    ], PivotChartSeriesTrendline.prototype, \"type\", void 0);\n    __decorate([\n        Property(2)\n    ], PivotChartSeriesTrendline.prototype, \"period\", void 0);\n    __decorate([\n        Property(2)\n    ], PivotChartSeriesTrendline.prototype, \"polynomialOrder\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotChartSeriesTrendline.prototype, \"backwardForecast\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotChartSeriesTrendline.prototype, \"forwardForecast\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], PivotChartSeriesTrendline.prototype, \"animation\", void 0);\n    __decorate([\n        Complex({}, MarkerSettings)\n    ], PivotChartSeriesTrendline.prototype, \"marker\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotChartSeriesTrendline.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartSeriesTrendline.prototype, \"intercept\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartSeriesTrendline.prototype, \"fill\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSeriesTrendline.prototype, \"width\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], PivotChartSeriesTrendline.prototype, \"legendShape\", void 0);\n    return PivotChartSeriesTrendline;\n}());\nexport { PivotChartSeriesTrendline };\nvar PivotChartSeriesEmptyPointSettings = /** @class */ (function () {\n    function PivotChartSeriesEmptyPointSettings() {\n    }\n    __decorate([\n        Property(null)\n    ], PivotChartSeriesEmptyPointSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], PivotChartSeriesEmptyPointSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('Gap')\n    ], PivotChartSeriesEmptyPointSettings.prototype, \"mode\", void 0);\n    return PivotChartSeriesEmptyPointSettings;\n}());\nexport { PivotChartSeriesEmptyPointSettings };\nvar PivotChartSeriesCornerRadius = /** @class */ (function () {\n    function PivotChartSeriesCornerRadius() {\n    }\n    __decorate([\n        Property(0)\n    ], PivotChartSeriesCornerRadius.prototype, \"topLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotChartSeriesCornerRadius.prototype, \"topRight\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotChartSeriesCornerRadius.prototype, \"bottomLeft\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotChartSeriesCornerRadius.prototype, \"bottomRight\", void 0);\n    return PivotChartSeriesCornerRadius;\n}());\nexport { PivotChartSeriesCornerRadius };\n/**\n *  third party configures for chart axis in chart settings.\n */\nvar PivotChartAxisFont = /** @class */ (function () {\n    function PivotChartAxisFont() {\n    }\n    __decorate([\n        Property('Normal')\n    ], PivotChartAxisFont.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property('16px')\n    ], PivotChartAxisFont.prototype, \"size\", void 0);\n    __decorate([\n        Property('Normal')\n    ], PivotChartAxisFont.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartAxisFont.prototype, \"color\", void 0);\n    __decorate([\n        Property('Center')\n    ], PivotChartAxisFont.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], PivotChartAxisFont.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartAxisFont.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Trim')\n    ], PivotChartAxisFont.prototype, \"textOverflow\", void 0);\n    return PivotChartAxisFont;\n}());\nexport { PivotChartAxisFont };\nvar PivotChartAxisCrosshairTooltip = /** @class */ (function () {\n    function PivotChartAxisCrosshairTooltip() {\n    }\n    __decorate([\n        Property(false)\n    ], PivotChartAxisCrosshairTooltip.prototype, \"enable\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisCrosshairTooltip.prototype, \"fill\", void 0);\n    __decorate([\n        Complex(Theme.crosshairLabelFont, Font)\n    ], PivotChartAxisCrosshairTooltip.prototype, \"textStyle\", void 0);\n    return PivotChartAxisCrosshairTooltip;\n}());\nexport { PivotChartAxisCrosshairTooltip };\nvar PivotChartAxisMajorTickLines = /** @class */ (function () {\n    function PivotChartAxisMajorTickLines() {\n    }\n    __decorate([\n        Property(1)\n    ], PivotChartAxisMajorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], PivotChartAxisMajorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisMajorTickLines.prototype, \"color\", void 0);\n    return PivotChartAxisMajorTickLines;\n}());\nexport { PivotChartAxisMajorTickLines };\nvar PivotChartAxisMajorGridLines = /** @class */ (function () {\n    function PivotChartAxisMajorGridLines() {\n    }\n    __decorate([\n        Property(1)\n    ], PivotChartAxisMajorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartAxisMajorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisMajorGridLines.prototype, \"color\", void 0);\n    return PivotChartAxisMajorGridLines;\n}());\nexport { PivotChartAxisMajorGridLines };\nvar PivotChartAxisMinorTickLines = /** @class */ (function () {\n    function PivotChartAxisMinorTickLines() {\n    }\n    __decorate([\n        Property(0.7)\n    ], PivotChartAxisMinorTickLines.prototype, \"width\", void 0);\n    __decorate([\n        Property(5)\n    ], PivotChartAxisMinorTickLines.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisMinorTickLines.prototype, \"color\", void 0);\n    return PivotChartAxisMinorTickLines;\n}());\nexport { PivotChartAxisMinorTickLines };\nvar PivotChartAxisMinorGridLines = /** @class */ (function () {\n    function PivotChartAxisMinorGridLines() {\n    }\n    __decorate([\n        Property(0.7)\n    ], PivotChartAxisMinorGridLines.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartAxisMinorGridLines.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisMinorGridLines.prototype, \"color\", void 0);\n    return PivotChartAxisMinorGridLines;\n}());\nexport { PivotChartAxisMinorGridLines };\nvar PivotChartAxisAxisLine = /** @class */ (function () {\n    function PivotChartAxisAxisLine() {\n    }\n    __decorate([\n        Property(1)\n    ], PivotChartAxisAxisLine.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartAxisAxisLine.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisAxisLine.prototype, \"color\", void 0);\n    return PivotChartAxisAxisLine;\n}());\nexport { PivotChartAxisAxisLine };\nvar PivotChartAxisStripLineSettings = /** @class */ (function () {\n    function PivotChartAxisStripLineSettings() {\n    }\n    __decorate([\n        Property(true)\n    ], PivotChartAxisStripLineSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotChartAxisStripLineSettings.prototype, \"startFromAxis\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"end\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"size\", void 0);\n    __decorate([\n        Property('#808080')\n    ], PivotChartAxisStripLineSettings.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property('Auto')\n    ], PivotChartAxisStripLineSettings.prototype, \"sizeType\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotChartAxisStripLineSettings.prototype, \"isRepeat\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"repeatEvery\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"repeatUntil\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotChartAxisStripLineSettings.prototype, \"isSegmented\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"segmentStart\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"segmentEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"segmentAxisName\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 1 }, Border)\n    ], PivotChartAxisStripLineSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartAxisStripLineSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartAxisStripLineSettings.prototype, \"rotation\", void 0);\n    __decorate([\n        Property('Middle')\n    ], PivotChartAxisStripLineSettings.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        Property('Middle')\n    ], PivotChartAxisStripLineSettings.prototype, \"verticalAlignment\", void 0);\n    __decorate([\n        Complex(Theme.stripLineLabelFont, Font)\n    ], PivotChartAxisStripLineSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Behind')\n    ], PivotChartAxisStripLineSettings.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartAxisStripLineSettings.prototype, \"opacity\", void 0);\n    return PivotChartAxisStripLineSettings;\n}());\nexport { PivotChartAxisStripLineSettings };\nvar PivotChartAxisLabelBorder = /** @class */ (function () {\n    function PivotChartAxisLabelBorder() {\n    }\n    __decorate([\n        Property('')\n    ], PivotChartAxisLabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartAxisLabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], PivotChartAxisLabelBorder.prototype, \"type\", void 0);\n    return PivotChartAxisLabelBorder;\n}());\nexport { PivotChartAxisLabelBorder };\n/**\n *  third party configures in chart settings.\n */\nvar PivotChartSettingsChartArea = /** @class */ (function () {\n    function PivotChartSettingsChartArea() {\n    }\n    __decorate([\n        Complex({}, Border)\n    ], PivotChartSettingsChartArea.prototype, \"border\", void 0);\n    __decorate([\n        Property('transparent')\n    ], PivotChartSettingsChartArea.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSettingsChartArea.prototype, \"opacity\", void 0);\n    return PivotChartSettingsChartArea;\n}());\nexport { PivotChartSettingsChartArea };\nvar PivotChartSettingsCrosshairSettings = /** @class */ (function () {\n    function PivotChartSettingsCrosshairSettings() {\n    }\n    __decorate([\n        Property(false)\n    ], PivotChartSettingsCrosshairSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property('')\n    ], PivotChartSettingsCrosshairSettings.prototype, \"dashArray\", void 0);\n    __decorate([\n        Complex({ color: null, width: 1 }, Border)\n    ], PivotChartSettingsCrosshairSettings.prototype, \"line\", void 0);\n    __decorate([\n        Property('Both')\n    ], PivotChartSettingsCrosshairSettings.prototype, \"lineType\", void 0);\n    return PivotChartSettingsCrosshairSettings;\n}());\nexport { PivotChartSettingsCrosshairSettings };\nvar PivotChartSettingsLegendSettings = /** @class */ (function () {\n    function PivotChartSettingsLegendSettings() {\n    }\n    __decorate([\n        Property(true)\n    ], PivotChartSettingsLegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartSettingsLegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartSettingsLegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, ChartLocation)\n    ], PivotChartSettingsLegendSettings.prototype, \"location\", void 0);\n    __decorate([\n        Property('Auto')\n    ], PivotChartSettingsLegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(8)\n    ], PivotChartSettingsLegendSettings.prototype, \"padding\", void 0);\n    __decorate([\n        Property('Center')\n    ], PivotChartSettingsLegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], PivotChartSettingsLegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(10)\n    ], PivotChartSettingsLegendSettings.prototype, \"shapeHeight\", void 0);\n    __decorate([\n        Property(10)\n    ], PivotChartSettingsLegendSettings.prototype, \"shapeWidth\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], PivotChartSettingsLegendSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ left: 0, right: 0, top: 0, bottom: 0 }, Margin)\n    ], PivotChartSettingsLegendSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Property(5)\n    ], PivotChartSettingsLegendSettings.prototype, \"shapePadding\", void 0);\n    __decorate([\n        Property('transparent')\n    ], PivotChartSettingsLegendSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotChartSettingsLegendSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotChartSettingsLegendSettings.prototype, \"toggleVisibility\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotChartSettingsLegendSettings.prototype, \"description\", void 0);\n    __decorate([\n        Property(3)\n    ], PivotChartSettingsLegendSettings.prototype, \"tabIndex\", void 0);\n    return PivotChartSettingsLegendSettings;\n}());\nexport { PivotChartSettingsLegendSettings };\nvar PivotChartSettingsIndexes = /** @class */ (function () {\n    function PivotChartSettingsIndexes() {\n    }\n    __decorate([\n        Property(0)\n    ], PivotChartSettingsIndexes.prototype, \"series\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotChartSettingsIndexes.prototype, \"point\", void 0);\n    return PivotChartSettingsIndexes;\n}());\nexport { PivotChartSettingsIndexes };\nvar PivotChartSettingsMargin = /** @class */ (function () {\n    function PivotChartSettingsMargin() {\n    }\n    __decorate([\n        Property(10)\n    ], PivotChartSettingsMargin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], PivotChartSettingsMargin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], PivotChartSettingsMargin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], PivotChartSettingsMargin.prototype, \"bottom\", void 0);\n    return PivotChartSettingsMargin;\n}());\nexport { PivotChartSettingsMargin };\n/**\n *  Configures the series in charts.\n */\nvar PivotSeries = /** @class */ (function (_super) {\n    __extends(PivotSeries, _super);\n    function PivotSeries() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], PivotSeries.prototype, \"fill\", void 0);\n    __decorate([\n        Complex(null, Animation)\n    ], PivotSeries.prototype, \"animation\", void 0);\n    __decorate([\n        Property('0')\n    ], PivotSeries.prototype, \"dashArray\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotSeries.prototype, \"width\", void 0);\n    __decorate([\n        Property('X')\n    ], PivotSeries.prototype, \"segmentAxis\", void 0);\n    __decorate([\n        Property('Line')\n    ], PivotSeries.prototype, \"drawType\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotSeries.prototype, \"isClosed\", void 0);\n    __decorate([\n        Collection([], ChartSegment)\n    ], PivotSeries.prototype, \"segments\", void 0);\n    __decorate([\n        Property('')\n    ], PivotSeries.prototype, \"stackingGroup\", void 0);\n    __decorate([\n        Complex({ color: 'transparent', width: 0 }, Border)\n    ], PivotSeries.prototype, \"border\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotSeries.prototype, \"visible\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotSeries.prototype, \"opacity\", void 0);\n    __decorate([\n        Property('Line')\n    ], PivotSeries.prototype, \"type\", void 0);\n    __decorate([\n        Complex(null, MarkerSettings)\n    ], PivotSeries.prototype, \"marker\", void 0);\n    __decorate([\n        Complex(null, ErrorBarSettings)\n    ], PivotSeries.prototype, \"errorBar\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotSeries.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Collection([], Trendline)\n    ], PivotSeries.prototype, \"trendlines\", void 0);\n    __decorate([\n        Property('')\n    ], PivotSeries.prototype, \"tooltipMappingName\", void 0);\n    __decorate([\n        Property('SeriesType')\n    ], PivotSeries.prototype, \"legendShape\", void 0);\n    __decorate([\n        Property(1)\n    ], PivotSeries.prototype, \"minRadius\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotSeries.prototype, \"selectionStyle\", void 0);\n    __decorate([\n        Property('Natural')\n    ], PivotSeries.prototype, \"splineType\", void 0);\n    __decorate([\n        Property(3)\n    ], PivotSeries.prototype, \"maxRadius\", void 0);\n    __decorate([\n        Property(0.5)\n    ], PivotSeries.prototype, \"cardinalSplineTension\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotSeries.prototype, \"columnWidth\", void 0);\n    __decorate([\n        Complex(null, EmptyPointSettings)\n    ], PivotSeries.prototype, \"emptyPointSettings\", void 0);\n    __decorate([\n        Complex(null, CornerRadius)\n    ], PivotSeries.prototype, \"cornerRadius\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotSeries.prototype, \"columnSpacing\", void 0);\n    return PivotSeries;\n}(ChildProperty));\nexport { PivotSeries };\n/**\n * Configures the axes in charts.\n */\nvar PivotAxis = /** @class */ (function (_super) {\n    __extends(PivotAxis, _super);\n    function PivotAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Rotate45')\n    ], PivotAxis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], PivotAxis.prototype, \"labelStyle\", void 0);\n    __decorate([\n        Property('')\n    ], PivotAxis.prototype, \"title\", void 0);\n    __decorate([\n        Complex({}, CrosshairTooltip)\n    ], PivotAxis.prototype, \"crosshairTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], PivotAxis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Complex(Theme.axisTitleFont, Font)\n    ], PivotAxis.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotAxis.prototype, \"isIndexed\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotAxis.prototype, \"plotOffset\", void 0);\n    __decorate([\n        Property('None')\n    ], PivotAxis.prototype, \"edgeLabelPlacement\", void 0);\n    __decorate([\n        Property('BetweenTicks')\n    ], PivotAxis.prototype, \"labelPlacement\", void 0);\n    __decorate([\n        Property('Outside')\n    ], PivotAxis.prototype, \"tickPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotAxis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotAxis.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Outside')\n    ], PivotAxis.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotAxis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotAxis.prototype, \"minorTicksPerInterval\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotAxis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotAxis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(34)\n    ], PivotAxis.prototype, \"maximumLabelWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotAxis.prototype, \"interval\", void 0);\n    __decorate([\n        Complex({}, MajorTickLines)\n    ], PivotAxis.prototype, \"majorTickLines\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotAxis.prototype, \"enableTrim\", void 0);\n    __decorate([\n        Complex({}, MajorGridLines)\n    ], PivotAxis.prototype, \"majorGridLines\", void 0);\n    __decorate([\n        Complex({}, MinorTickLines)\n    ], PivotAxis.prototype, \"minorTickLines\", void 0);\n    __decorate([\n        Complex({}, AxisLine)\n    ], PivotAxis.prototype, \"lineStyle\", void 0);\n    __decorate([\n        Complex({}, MinorGridLines)\n    ], PivotAxis.prototype, \"minorGridLines\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotAxis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotAxis.prototype, \"description\", void 0);\n    __decorate([\n        Property(0)\n    ], PivotAxis.prototype, \"startAngle\", void 0);\n    __decorate([\n        Property(100)\n    ], PivotAxis.prototype, \"coefficient\", void 0);\n    __decorate([\n        Collection([], StripLineSettings)\n    ], PivotAxis.prototype, \"stripLines\", void 0);\n    __decorate([\n        Property(2)\n    ], PivotAxis.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Complex({ color: null, width: 0, type: 'Rectangle' }, LabelBorder)\n    ], PivotAxis.prototype, \"border\", void 0);\n    return PivotAxis;\n}(ChildProperty));\nexport { PivotAxis };\n/**\n * Configures the ToolTips in the chart.\n */\nvar PivotTooltipSettings = /** @class */ (function (_super) {\n    __extends(PivotTooltipSettings, _super);\n    function PivotTooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], PivotTooltipSettings.prototype, \"enableMarker\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotTooltipSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotTooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotTooltipSettings.prototype, \"shared\", void 0);\n    __decorate([\n        Property(0.75)\n    ], PivotTooltipSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotTooltipSettings.prototype, \"header\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotTooltipSettings.prototype, \"format\", void 0);\n    __decorate([\n        Complex(Theme.tooltipLabelFont, Font)\n    ], PivotTooltipSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(null)\n    ], PivotTooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Complex({ color: '#cccccc', width: 0.5 }, Border)\n    ], PivotTooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotTooltipSettings.prototype, \"enableAnimation\", void 0);\n    return PivotTooltipSettings;\n}(ChildProperty));\nexport { PivotTooltipSettings };\n/**\n * Configures the zooming behavior for the chart.\n */\nvar PivotZoomSettings = /** @class */ (function (_super) {\n    __extends(PivotZoomSettings, _super);\n    function PivotZoomSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], PivotZoomSettings.prototype, \"enablePinchZooming\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotZoomSettings.prototype, \"enableSelectionZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotZoomSettings.prototype, \"enableDeferredZooming\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotZoomSettings.prototype, \"enableMouseWheelZooming\", void 0);\n    __decorate([\n        Property('XY')\n    ], PivotZoomSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(['Zoom', 'ZoomIn', 'ZoomOut', 'Pan', 'Reset'])\n    ], PivotZoomSettings.prototype, \"toolbarItems\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotZoomSettings.prototype, \"enableScrollbar\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotZoomSettings.prototype, \"enablePan\", void 0);\n    return PivotZoomSettings;\n}(ChildProperty));\nexport { PivotZoomSettings };\n/**\n *  Configures the chart settings.\n */\nvar ChartSettings = /** @class */ (function (_super) {\n    __extends(ChartSettings, _super);\n    function ChartSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, PivotSeries)\n    ], ChartSettings.prototype, \"chartSeries\", void 0);\n    __decorate([\n        Complex({}, PivotAxis)\n    ], ChartSettings.prototype, \"primaryXAxis\", void 0);\n    __decorate([\n        Complex({}, PivotAxis)\n    ], ChartSettings.prototype, \"primaryYAxis\", void 0);\n    __decorate([\n        Property('')\n    ], ChartSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], ChartSettings.prototype, \"enableMultiAxis\", void 0);\n    __decorate([\n        Complex(Theme.chartTitleFont, Font)\n    ], ChartSettings.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('')\n    ], ChartSettings.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.chartSubTitleFont, Font)\n    ], ChartSettings.prototype, \"subTitleStyle\", void 0);\n    __decorate([\n        Property('')\n    ], ChartSettings.prototype, \"subTitle\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], ChartSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], ChartSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ border: { color: null, width: 0.5 }, background: 'transparent' }, ChartArea)\n    ], ChartSettings.prototype, \"chartArea\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property('Material')\n    ], ChartSettings.prototype, \"theme\", void 0);\n    __decorate([\n        Property([])\n    ], ChartSettings.prototype, \"palettes\", void 0);\n    __decorate([\n        Complex({}, CrosshairSettings)\n    ], ChartSettings.prototype, \"crosshair\", void 0);\n    __decorate([\n        Complex({}, PivotTooltipSettings)\n    ], ChartSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Complex({}, PivotZoomSettings)\n    ], ChartSettings.prototype, \"zoomSettings\", void 0);\n    __decorate([\n        Property()\n    ], ChartSettings.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Property('None')\n    ], ChartSettings.prototype, \"selectionMode\", void 0);\n    __decorate([\n        Property(true)\n    ], ChartSettings.prototype, \"enableExport\", void 0);\n    __decorate([\n        Property(false)\n    ], ChartSettings.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        Collection([], Indexes)\n    ], ChartSettings.prototype, \"selectedDataIndexes\", void 0);\n    __decorate([\n        Property(true)\n    ], ChartSettings.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property(true)\n    ], ChartSettings.prototype, \"useGroupingSeparator\", void 0);\n    __decorate([\n        Property(false)\n    ], ChartSettings.prototype, \"isTransposed\", void 0);\n    __decorate([\n        Property(1)\n    ], ChartSettings.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], ChartSettings.prototype, \"description\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"resized\", void 0);\n    __decorate([\n        Property(true)\n    ], ChartSettings.prototype, \"enableSideBySidePlacement\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"textRender\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"legendRender\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"seriesRender\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"pointRender\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"axisLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"chartMouseClick\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"chartMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"pointMove\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"pointClick\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"chartMouseDown\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"chartMouseLeave\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"dragComplete\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"chartMouseUp\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"scrollStart\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"zoomComplete\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"scrollChanged\", void 0);\n    __decorate([\n        Event()\n    ], ChartSettings.prototype, \"scrollEnd\", void 0);\n    __decorate([\n        Property(true)\n    ], ChartSettings.prototype, \"showMultiLevelLabels\", void 0);\n    return ChartSettings;\n}(ChildProperty));\nexport { ChartSettings };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * This is a file to create MDX query for the provided OLAP datasource\n * @hidden\n */\n/* tslint:disable:all */\n/** @hidden */\nvar MDXQuery = /** @class */ (function () {\n    function MDXQuery() {\n    }\n    MDXQuery.getCellSets = function (dataSourceSettings, olapEngine, refPaging, drillInfo, isQueryUpdate) {\n        this.engine = olapEngine;\n        this.isMondrian = olapEngine.isMondrian;\n        this.isMeasureAvail = olapEngine.isMeasureAvail;\n        this.isPaging = olapEngine.isPaging;\n        this.pageSettings = olapEngine.pageSettings;\n        this.rows = olapEngine.rows;\n        this.columns = olapEngine.columns;\n        this.values = olapEngine.values;\n        this.filters = olapEngine.filters;\n        this.allowLabelFilter = olapEngine.allowLabelFilter;\n        this.allowValueFilter = olapEngine.allowValueFilter;\n        this.valueSortSettings = dataSourceSettings.valueSortSettings ? dataSourceSettings.valueSortSettings : undefined;\n        this.drilledMembers = olapEngine.updateDrilledItems(dataSourceSettings.drilledMembers);\n        this.calculatedFieldSettings = olapEngine.calculatedFieldSettings;\n        this.valueAxis = dataSourceSettings.valueAxis === 'row' ? 'rows' : 'columns';\n        if (drillInfo) {\n            drillInfo.axis = drillInfo.axis === 'row' ? 'rows' : 'columns';\n        }\n        this.filterMembers = extend({}, olapEngine.filterMembers, null, true);\n        this.fieldDataObj = olapEngine.fieldListObj;\n        this.fieldList = olapEngine.fieldList;\n        this.cellSetInfo = '\\nDIMENSION PROPERTIES PARENT_UNIQUE_NAME, HIERARCHY_UNIQUE_NAME, CHILDREN_CARDINALITY, MEMBER_TYPE, MEMBER_VALUE';\n        var measureQuery = this.getMeasuresQuery(this.values);\n        var rowQuery = this.getDimensionsQuery(this.rows, measureQuery, 'rows', drillInfo).replace(/\\&/g, '&amp;');\n        var columnQuery = this.getDimensionsQuery(this.columns, measureQuery, 'columns', drillInfo).replace(/\\&/g, '&amp;');\n        if (this.isPaging && refPaging && this.pageSettings !== undefined && rowQuery !== '' && columnQuery !== '') {\n            var pagingQuery = this.getPagingQuery(rowQuery, columnQuery);\n            rowQuery = pagingQuery.rowQuery;\n            columnQuery = pagingQuery.columnQuery;\n        }\n        else if (this.isPaging && !refPaging && this.pageSettings !== undefined && rowQuery !== '' && columnQuery !== '') {\n            var pagingQuery = this.getPagingCountQuery(rowQuery, columnQuery);\n            rowQuery = pagingQuery.rowQuery;\n            columnQuery = pagingQuery.columnQuery;\n        }\n        rowQuery = (rowQuery.length > 0 ? rowQuery + (this.isPaging && !refPaging ? '' : this.cellSetInfo + ' ON ROWS') : '');\n        columnQuery = (columnQuery.length > 0 ? columnQuery + (this.isPaging && !refPaging ? '' : this.cellSetInfo + ' ON COLUMNS') : '');\n        var slicerQuery = this.getSlicersQuery(this.filters, 'filters').replace(/\\&/g, '&amp;');\n        var filterQuery = this.getfilterQuery(this.filterMembers, dataSourceSettings.cube).replace(/\\&/g, '&amp;').replace(/\\>/g, '&gt;').replace(/\\</g, '&lt;');\n        var caclQuery = this.getCalculatedFieldQuery(this.calculatedFieldSettings).replace(/\\&/g, '&amp;');\n        var query = this.frameMDXQuery(rowQuery, columnQuery, slicerQuery, filterQuery, caclQuery, refPaging);\n        var args = {\n            catalog: dataSourceSettings.catalog,\n            cube: dataSourceSettings.cube,\n            url: dataSourceSettings.url,\n            request: query,\n            LCID: dataSourceSettings.localeIdentifier.toString()\n        };\n        olapEngine.mdxQuery = query.replace(/\\&amp;/g, '&').replace(/\\&gt;/g, '>').replace(/\\&lt;/g, '<').replace(/%280/g, '\\\"');\n        // console.log(olapEngine.mdxQuery);\n        if (drillInfo) {\n            drillInfo.axis = drillInfo.axis === 'rows' ? 'row' : 'column';\n        }\n        if (!isQueryUpdate) {\n            this.getTableCellData(args, (this.isPaging && !refPaging ? this.engine.generatePagingData.bind(this.engine) : this.engine.generateEngine.bind(this.engine)), drillInfo ? { action: drillInfo.action, drillInfo: drillInfo } : { dataSourceSettings: dataSourceSettings, action: 'loadTableElements' });\n        }\n    };\n    MDXQuery.getTableCellData = function (args, successMethod, customArgs) {\n        var connectionString = this.engine.getConnectionInfo(args.url, args.LCID);\n        var soapMessage = '<Envelope xmlns=\"http://schemas.xmlsoap.org/soap/envelope/\"> <Header></Header> <Body> <Execute xmlns=\"urn:schemas-microsoft-com:xml-analysis\"> <Command> <Statement>' +\n            args.request + '</Statement> </Command> <Properties> <PropertyList> <Catalog>' +\n            args.catalog + '</Catalog> <LocaleIdentifier>' + connectionString.LCID +\n            '</LocaleIdentifier> </PropertyList> </Properties></Execute> </Body> </Envelope>';\n        this.engine.doAjaxPost('POST', connectionString.url, soapMessage, successMethod, customArgs);\n    };\n    MDXQuery.frameMDXQuery = function (rowQuery, columnQuery, slicerQuery, filterQuery, caclQuery, refPaging) {\n        var query = ((this.isPaging && !refPaging) ? caclQuery !== '' ? '' : '\\nWITH' : '\\nSelect ');\n        if (columnQuery.length > 0) {\n            query = query + columnQuery;\n        }\n        if (rowQuery.length > 0) {\n            query = query + (columnQuery.length > 0 ? this.isPaging && !refPaging ? '' : ', ' : '') + rowQuery;\n        }\n        query = caclQuery + query + (this.isPaging && !refPaging ? '\\nMEMBER [Measures].[3d268ce0-664d-4092-b9cb-fece97175006] AS Count([e16a30d0-2174-4874-8dae-a5085a75a3e2]) ' +\n            'MEMBER [Measures].[8d7fe8c1-f09f-410e-b9ba-eaab75a1fc3e] AS Count ([d1876d2b-e50e-4547-85fe-5b8ed9d629de])' +\n            '\\nSELECT { [Measures].[3d268ce0-664d-4092-b9cb-fece97175006] , [Measures].[8d7fe8c1-f09f-410e-b9ba-eaab75a1fc3e] } ON AXIS(0)' : '') +\n            filterQuery + slicerQuery + '\\nCELL PROPERTIES VALUE, FORMAT_STRING, FORMATTED_VALUE\\n';\n        return query;\n    };\n    MDXQuery.getPagingQuery = function (rowQuery, columnQuery) {\n        // let colCurrentPage: number = (Math.ceil(this.engine.columnCount / this.pageSettings.columnSize) < this.pageSettings.columnCurrentPage || this.pageSettings.columnCurrentPage === 0) ? ((Math.ceil(this.engine.columnCount / this.pageSettings.columnSize) < this.pageSettings.columnCurrentPage && this.engine.columnCount > 0) ? Math.ceil(this.engine.columnCount / this.pageSettings.columnSize) : this.pageSettings.columnCurrentPage) : this.pageSettings.columnCurrentPage;\n        // let rowCurrentPage: number = (Math.ceil(this.engine.rowCount / this.pageSettings.rowSize) < this.pageSettings.rowCurrentPage || this.pageSettings.rowCurrentPage === 0) ? ((Math.ceil(this.engine.rowCount / this.pageSettings.rowSize) < this.pageSettings.rowCurrentPage && this.engine.rowCount > 0) ? Math.ceil(this.engine.rowCount / this.pageSettings.rowSize) : this.pageSettings.rowSize) : this.pageSettings.rowCurrentPage;\n        rowQuery = rowQuery.replace('NON EMPTY ( ', '').slice(0, -1);\n        columnQuery = columnQuery.replace('NON EMPTY ( ', '').slice(0, -1);\n        var rowQueryCpy = rowQuery;\n        // let axisQuery: pagingQuery = {\n        //     rowQuery: rowQuery !== '' ? ('\\nSUBSET ({ ' + (this.isMondrian ? '' : 'NONEMPTY') + ' (' + rowQuery + (!this.isMondrian && columnQuery !== '' ? ',' + columnQuery : '') + ')},' + (((rowCurrentPage === 0 ? 1 : rowCurrentPage) - 1) * (this.pageSettings.rowSize)) + ',' + this.pageSettings.rowSize + ')') : '',\n        //     columnQuery: columnQuery !== '' ? ('\\nSUBSET ({ ' + (this.isMondrian ? '' : 'NONEMPTY') + ' (' + columnQuery + (!this.isMondrian && rowQueryCpy !== '' ? ',' + rowQueryCpy : '') + ')},' + (((colCurrentPage === 0 ? 1 : colCurrentPage) - 1) * (this.pageSettings.columnSize)) + ',' + this.pageSettings.columnSize + ')') : ''\n        // }\n        var calRowPage = (this.pageSettings.rowCurrentPage - 1) * this.pageSettings.rowSize;\n        var calColPage = (this.pageSettings.columnCurrentPage - 1) * this.pageSettings.columnSize;\n        var calRowSize = this.pageSettings.rowSize * 3;\n        var calColumnSize = this.pageSettings.columnSize * 3;\n        calRowPage = (this.engine.rowCount < (calRowPage + calRowSize)) ?\n            (this.engine.rowCount > calRowSize ? (this.engine.rowCount - calRowSize) : 0) : calRowPage;\n        this.engine.pageRowStartPos = calRowPage;\n        calColPage = (this.engine.columnCount < (calColPage + calColumnSize)) ?\n            (this.engine.columnCount > calColumnSize ? (this.engine.columnCount - calColumnSize) : 0) : calColPage;\n        this.engine.pageColStartPos = calColPage;\n        var axisQuery = {\n            rowQuery: rowQuery !== '' ? ('\\nSUBSET ({ ' + (this.isMondrian ? '' : 'NONEMPTY') + ' (' + rowQuery + (!this.isMondrian && columnQuery !== '' ? ',' + columnQuery : '') + ')},' + (calRowPage) + ',' + calRowSize + ')') : '',\n            columnQuery: columnQuery !== '' ? ('\\nSUBSET ({ ' + (this.isMondrian ? '' : 'NONEMPTY') + ' (' + columnQuery + (!this.isMondrian && rowQueryCpy !== '' ? ',' + rowQueryCpy : '') + ')},' + (calColPage) + ',' + calColumnSize + ')') : ''\n        };\n        return axisQuery;\n    };\n    MDXQuery.getPagingCountQuery = function (rowQuery, columnQuery) {\n        rowQuery = rowQuery.replace('NON EMPTY ( ', '').slice(0, -1);\n        columnQuery = columnQuery.replace('NON EMPTY ( ', '').slice(0, -1);\n        var rowQueryCpy = rowQuery;\n        'WITH  SET [e16a30d0-2174-4874-8dae-a5085a75a3e2] as';\n        'SET [d1876d2b-e50e-4547-85fe-5b8ed9d629de] as';\n        var axisQuery = {\n            rowQuery: rowQuery !== '' ? ('\\SET [d1876d2b-e50e-4547-85fe-5b8ed9d629de] as ' + (this.isMondrian ? '' : 'NONEMPTY') + ' (' + rowQuery + (!this.isMondrian && columnQuery !== '' ? ',' + columnQuery : '') + ')\\n') : '',\n            columnQuery: columnQuery !== '' ? ('\\nSET [e16a30d0-2174-4874-8dae-a5085a75a3e2] as ' + (this.isMondrian ? '' : 'NONEMPTY') + ' (' + columnQuery + (!this.isMondrian && rowQueryCpy !== '' ? ',' + rowQueryCpy : '') + ')\\n') : ''\n        };\n        return axisQuery;\n    };\n    MDXQuery.getDimensionsQuery = function (dimensions, measureQuery, axis, drillInfo) {\n        var query = '';\n        if (dimensions.length > 0) {\n            query = '\\nNON EMPTY ( ' + (this.drilledMembers.length > 0 ? 'HIERARCHIZE ({' : '');\n            var i = 0;\n            while (i < dimensions.length) {\n                var hierarchy = '';\n                if (i === 0) {\n                    if (dimensions[i].name.toLowerCase() === '[measures]') {\n                        if (measureQuery !== '') {\n                            query = query + measureQuery;\n                        }\n                    }\n                    else {\n                        hierarchy = '({' + this.getDimensionQuery(dimensions[i], axis) + '})';\n                        query = query + hierarchy;\n                    }\n                }\n                else {\n                    if (dimensions[i].name.toLowerCase() === '[measures]') {\n                        if (measureQuery !== '') {\n                            query = query + ' * ' + measureQuery;\n                        }\n                    }\n                    else {\n                        hierarchy = '({' + this.getDimensionQuery(dimensions[i], axis) + '})';\n                        query = query + ' * ' + hierarchy;\n                    }\n                }\n                i++;\n            }\n            // if (!this.isMeasureAvail && measureQuery !== '' && this.valueAxis === axis) {\n            //     query = query + ' * ' + measureQuery;\n            // }\n            var drillQueryObj = this.getDrillQuery(dimensions, measureQuery, axis, drillInfo);\n            query = (drillInfo && drillInfo.axis === axis ? '\\nNON EMPTY ( ' + (this.drilledMembers.length > 0 ? 'HIERARCHIZE ({' : '') + drillQueryObj.query : query + (drillQueryObj.query !== '' ? ',' : '') + drillQueryObj.query);\n            query = (this.valueAxis !== axis ? this.updateValueSortQuery(query, this.valueSortSettings) : query) +\n                (this.drilledMembers.length > 0 ? '})' : '') + (this.isPaging && axis === 'columns' && drillQueryObj.query !== '' ? '-' + drillQueryObj.collection.join('-') : '') + ')';\n        }\n        // else if (!this.isMeasureAvail && measureQuery !== '' && this.valueAxis === axis) {\n        //     query = 'NON EMPTY (' + (this.drilledMembers.length > 0 ? 'HIERARCHIZE({' : '') + measureQuery;\n        //     query = (this.valueAxis !== axis ? this.updateValueSortQuery(query, this.valueSortSettings) : query) +\n        //         (this.drilledMembers.length > 0 ? '})' : '') + ') ' + this.cellSetInfo + ' ON ' + axis.toUpperCase();\n        // }\n        return query;\n    };\n    MDXQuery.getDrillQuery = function (dimensions, measureQuery, axis, drillInfo) {\n        var query = '';\n        var rawDrillQuery = [];\n        var drilledMembers = [];\n        var isOnDemandDrill = false;\n        var onDemandDrillQuery = '';\n        if (drillInfo && drillInfo.axis === axis && drillInfo.action.toLowerCase() === 'down') {\n            isOnDemandDrill = true;\n            drilledMembers = [{ name: drillInfo.fieldName, items: [drillInfo.memberName], delimiter: '~~' }];\n        }\n        else {\n            drilledMembers = this.drilledMembers;\n        }\n        for (var _i = 0, drilledMembers_1 = drilledMembers; _i < drilledMembers_1.length; _i++) {\n            var field = drilledMembers_1[_i];\n            for (var _a = 0, _b = field.items; _a < _b.length; _a++) {\n                var item = _b[_a];\n                var drillQuery = [];\n                var rawQuery = [];\n                var i = 0;\n                var drillInfo_1 = item.split(field.delimiter ? field.delimiter : '~~');\n                while (i < dimensions.length) {\n                    if (drillInfo_1[i] && drillInfo_1[i].indexOf(dimensions[i].name) !== -1) {\n                        if (drillInfo_1[drillInfo_1.length - 1].indexOf(dimensions[i].name) !== -1) {\n                            if (isOnDemandDrill) {\n                                onDemandDrillQuery = onDemandDrillQuery + (onDemandDrillQuery !== '' ? ' * ' : '') + '({' + drillInfo_1[i] + '.CHILDREN})';\n                            }\n                            else {\n                                drillQuery.push('(' + drillInfo_1[i] + '.CHILDREN)');\n                                rawQuery.push('(' + drillInfo_1[i] + ')');\n                            }\n                        }\n                        else {\n                            if (drillInfo_1[i].toLowerCase() === '[measures]' && measureQuery !== '') {\n                                if (isOnDemandDrill) {\n                                    onDemandDrillQuery = onDemandDrillQuery + (onDemandDrillQuery !== '' ? ' * ' : '') + '(' + measureQuery + ')';\n                                }\n                                else {\n                                    drillQuery.push('(' + measureQuery + ')');\n                                    rawQuery.push('(' + measureQuery + ')');\n                                }\n                            }\n                            else if (drillInfo_1[i].toLowerCase().indexOf('[measures]') !== -1) {\n                                if (isOnDemandDrill) {\n                                    onDemandDrillQuery = onDemandDrillQuery + (onDemandDrillQuery !== '' ? ' * ' : '') + '({' + drillInfo_1[i] + '})';\n                                }\n                                else {\n                                    drillQuery.push('({' + drillInfo_1[i] + '})');\n                                    rawQuery.push('({' + drillInfo_1[i] + '})');\n                                }\n                            }\n                            else {\n                                if (isOnDemandDrill) {\n                                    onDemandDrillQuery = onDemandDrillQuery + (onDemandDrillQuery !== '' ? ' * ' : '') + '({' + drillInfo_1[i] + '})';\n                                }\n                                else {\n                                    drillQuery.push('(' + drillInfo_1[i] + ')');\n                                    rawQuery.push('(' + drillInfo_1[i] + ')');\n                                }\n                            }\n                        }\n                    }\n                    else if (!drillInfo_1[i] && dimensions[i]) {\n                        if (dimensions[i].name.toLowerCase() === '[measures]' && measureQuery !== '') {\n                            if (isOnDemandDrill) {\n                                onDemandDrillQuery = onDemandDrillQuery + (onDemandDrillQuery !== '' ? ' * ' : '') + '(' + measureQuery + ')';\n                            }\n                            else {\n                                drillQuery.push('(' + measureQuery + ')');\n                                rawQuery.push('(' + measureQuery + ')');\n                            }\n                        }\n                        else {\n                            if (isOnDemandDrill) {\n                                onDemandDrillQuery = onDemandDrillQuery + (onDemandDrillQuery !== '' ? ' * ' : '') + '({' + this.getDimensionQuery(dimensions[i], axis) + '})';\n                            }\n                            else {\n                                drillQuery.push('(' + this.getDimensionQuery(dimensions[i], axis) + ')');\n                                rawQuery.push('(' + this.getDimensionQuery(dimensions[i], axis) + ')');\n                            }\n                        }\n                    }\n                    else {\n                        drillQuery = [];\n                        break;\n                    }\n                    i++;\n                }\n                if (drillQuery.length > 0 && drillQuery.length < drillInfo_1.length) {\n                    drillQuery = [];\n                    rawQuery = [];\n                }\n                // query = query + (query !== '' && drillQuery.length > 0 ? ',' : '') + (drillQuery.length > 0 ? '(' + drillQuery.toString().replace(/\\&/g, \"&amp;\") + ')' : '');\n                query = query + (query !== '' && drillQuery.length > 0 ? ',' : '') + (drillQuery.length > 0 ? '(' + drillQuery.toString() + ')' : '');\n                if (rawQuery.length > 0) {\n                    rawDrillQuery.push(('(' + rawQuery.toString() + ')'));\n                }\n            }\n        }\n        // return (isOnDemandDrill ? onDemandDrillQuery.replace(/\\&/g, \"&amp;\") : query);\n        var queryCollection = {\n            query: (isOnDemandDrill ? onDemandDrillQuery : query),\n            collection: (isOnDemandDrill ? [onDemandDrillQuery] : rawDrillQuery)\n        };\n        return queryCollection;\n    };\n    MDXQuery.updateValueSortQuery = function (query, valueSortSettings) {\n        if (valueSortSettings && valueSortSettings.measure && valueSortSettings.measure !== '') {\n            var heirarchize = (this.drilledMembers.length > 0 ? 'HIERARCHIZE ({' : '');\n            var measure = (this.fieldList[valueSortSettings.measure].isCalculatedField ?\n                this.fieldList[valueSortSettings.measure].tag : valueSortSettings.measure);\n            switch (valueSortSettings.sortOrder) {\n                case 'Ascending':\n                    query = query.replace('NON EMPTY ( ' + heirarchize, 'NON EMPTY ( ' + heirarchize + ' ORDER ({');\n                    query = query + '},(' + measure + '), ASC)';\n                    // query = query + '},(' + valueSortSettings.measure + '), ' +\n                    //     (valueSortSettings.preserveHierarchy ? 'BASC' : 'ASC') + ')';\n                    break;\n                case 'Descending':\n                    query = query.replace('NON EMPTY ( ' + heirarchize, 'NON EMPTY ( ' + heirarchize + ' ORDER ({');\n                    query = query + '},(' + measure + '), DESC)';\n                    // query = query + '},(' + valueSortSettings.measure + '), ' +\n                    //     (valueSortSettings.preserveHierarchy ? 'BDESC' : 'DESC') + ')';\n                    break;\n            }\n        }\n        return query;\n    };\n    MDXQuery.getSlicersQuery = function (slicers, axis) {\n        var _this = this;\n        var query = '';\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns);\n        if (slicers.length > 0) {\n            var i_1 = 0;\n            while (i_1 < slicers.length) {\n                var isCol = dataFields.filter(function (field) {\n                    var colUqName = _this.getDimensionUniqueName(field.name);\n                    var slicerUqName = _this.getDimensionUniqueName(slicers[i_1].name);\n                    var isMatch = false;\n                    isMatch = colUqName === slicerUqName &&\n                        !(_this.isMondrian && slicerUqName === '' && colUqName === '');\n                    return (isMatch);\n                }).length > 0;\n                if (!isCol) {\n                    if (slicers[i_1].name !== undefined && !this.filterMembers[slicers[i_1].name]) {\n                        query = query + (query !== '' ? ' * ' : '') + '{' + this.getDimensionQuery(slicers[i_1], axis) + '}';\n                    }\n                    else if (this.filterMembers[slicers[i_1].name]) {\n                        query = query + (query !== '' ? ' * ' : '') + '{' + (this.filterMembers[slicers[i_1].name].toString()) + '}';\n                    }\n                }\n                i_1++;\n            }\n            query = '\\nWHERE (' + query.replace(/DrilldownLevel/g, '') + ')';\n        }\n        return query;\n    };\n    MDXQuery.getDimensionQuery = function (dimension, axis) {\n        var query = '';\n        var name = dimension.isCalculatedField ? this.fieldList[dimension.name].tag : dimension.name;\n        var hasAllMember = this.fieldList[dimension.name].hasAllMember;\n        if (!hasAllMember && !dimension.isNamedSet && !dimension.isCalculatedField) {\n            query = '((' + name + ').levels(0).AllMembers)';\n        }\n        else {\n            query = (dimension.isNamedSet ? '{' + name + '}' : this.isPaging ? name + '.CHILDREN' :\n                'DrilldownLevel({' + name + '}' + ((axis === 'rows' || axis === 'columns') ? ',,,INCLUDE_CALC_MEMBERS' : '') + ')');\n        }\n        return query;\n    };\n    MDXQuery.getDimensionUniqueName = function (headerText) {\n        var hierarchyNode = this.fieldDataObj.hierarchy;\n        var curElement = [];\n        if (hierarchyNode) {\n            // let curElement: IOlapField[] = hierarchyNode.filter((item: IOlapField) => {\n            //     return (item.id.toLowerCase() === headerText.toLowerCase());\n            // });\n            for (var _i = 0, hierarchyNode_1 = hierarchyNode; _i < hierarchyNode_1.length; _i++) {\n                var item = hierarchyNode_1[_i];\n                if (item.id.toLowerCase() === headerText.toLowerCase()) {\n                    curElement.push(item);\n                }\n            }\n            return (curElement.length > 0 ? curElement[0].pid : '');\n        }\n        else {\n            return headerText.split('.')[0];\n        }\n    };\n    MDXQuery.getMeasuresQuery = function (measures) {\n        var query = '';\n        if (measures.length > 0) {\n            query = '{{';\n            var values = '';\n            for (var _i = 0, measures_1 = measures; _i < measures_1.length; _i++) {\n                var measure = measures_1[_i];\n                var name_1 = (measure.isCalculatedField ? this.fieldList[measure.name].tag : measure.name);\n                if (values.length > 0) {\n                    values = values + ', ' + name_1;\n                }\n                else {\n                    values = name_1;\n                }\n            }\n            query = query + values + '}}';\n        }\n        return query;\n    };\n    MDXQuery.getfilterQuery = function (filters, cube) {\n        var query = '\\nFROM [' + cube + ']';\n        var filterQuery = '\\nFROM( SELECT (';\n        var advancedFilters = [];\n        var advancedFilterQuery = [];\n        var rowFilter = [];\n        var columnFilter = [];\n        for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\n            var field = _a[_i];\n            if (filters[field.name] && filters[field.name].length > 0) {\n                if (typeof filters[field.name][0] === 'string') {\n                    rowFilter.push(filters[field.name]);\n                }\n                else {\n                    advancedFilters.push(filters[field.name]);\n                    delete filters[field.name];\n                }\n            }\n        }\n        for (var _b = 0, _c = this.columns; _b < _c.length; _b++) {\n            var field = _c[_b];\n            if (filters[field.name] && filters[field.name].length > 0) {\n                if (typeof filters[field.name][0] === 'string') {\n                    columnFilter.push(filters[field.name]);\n                }\n                else {\n                    advancedFilters.push(filters[field.name]);\n                    delete filters[field.name];\n                }\n            }\n        }\n        for (var _d = 0, _e = this.filters; _d < _e.length; _d++) {\n            var field = _e[_d];\n            var isFound = false;\n            for (var _f = 0, _g = this.columns; _f < _g.length; _f++) {\n                var column = _g[_f];\n                if (this.getDimensionUniqueName(column.name) === this.getDimensionUniqueName(field.name)) {\n                    if (filters[field.name]) {\n                        columnFilter.push(filters[field.name]);\n                        isFound = true;\n                    }\n                }\n            }\n            if (isFound) {\n                for (var _h = 0, _j = this.rows; _h < _j.length; _h++) {\n                    var row = _j[_h];\n                    if (this.getDimensionUniqueName(row.name) === this.getDimensionUniqueName(field.name)) {\n                        if (filters[field.name]) {\n                            rowFilter.push(filters[field.name]);\n                        }\n                    }\n                }\n            }\n        }\n        if (this.allowLabelFilter || this.allowValueFilter) {\n            for (var _k = 0, advancedFilters_1 = advancedFilters; _k < advancedFilters_1.length; _k++) {\n                var filterItems = advancedFilters_1[_k];\n                for (var _l = 0, filterItems_1 = filterItems; _l < filterItems_1.length; _l++) {\n                    var item = filterItems_1[_l];\n                    advancedFilterQuery.push(this.getAdvancedFilterQuery(item, filterQuery, 'COLUMNS'));\n                }\n            }\n        }\n        for (var i = 0, cnt = columnFilter.length; i < cnt; i++) {\n            filterQuery = i === 0 ? filterQuery + '{' + columnFilter[i].toString() + '}' : filterQuery + ',{' + columnFilter[i].toString() + '}';\n        }\n        if (columnFilter.length > 0) {\n            filterQuery = (rowFilter.length > 0) ? filterQuery + ' ) ON COLUMNS ' + ',(' : filterQuery + ' ) ON COLUMNS';\n        }\n        for (var i = 0, cnt = rowFilter.length; i < cnt; i++) {\n            filterQuery = (i > 0) ? filterQuery + ',{' + rowFilter[i].toString() + '}' : filterQuery + '{' + rowFilter[i].toString() + '}';\n        }\n        filterQuery = (columnFilter.length > 0 && rowFilter.length > 0) ?\n            filterQuery = filterQuery + ') ON ROWS ' : (columnFilter.length == 0 && rowFilter.length > 0) ?\n            filterQuery + ') ON COLUMNS ' : filterQuery;\n        var updatedFilterQuery = '';\n        if (advancedFilterQuery.length > 0) {\n            updatedFilterQuery = ((columnFilter.length > 0 || rowFilter.length > 0) ? filterQuery : '') +\n                ' ' + advancedFilterQuery.join(' ') + ' ' + query + Array(advancedFilterQuery.length + 1 +\n                ((columnFilter.length > 0 || rowFilter.length > 0) ? 1 : 0)).join(')');\n        }\n        query = (columnFilter.length === 0 && rowFilter.length === 0) ? query : filterQuery + query + ')';\n        return (updatedFilterQuery.length > 0) ? updatedFilterQuery : query;\n    };\n    MDXQuery.getAdvancedFilterQuery = function (filterItem, query, currentAxis) {\n        var filterQuery = '\\nFROM (SELECT Filter(' + filterItem.selectedField + '.AllMembers, ' +\n            this.getAdvancedFilterCondtions(filterItem.name, filterItem.condition, filterItem.value1, filterItem.value2, filterItem.type, filterItem.measure) +\n            \")) on \" + currentAxis;\n        return filterQuery;\n    };\n    MDXQuery.getAdvancedFilterCondtions = function (fieldName, filterOperator, value1, value2, filterType, measures) {\n        var advancedFilterQuery = '';\n        switch (filterOperator) {\n            case 'Equals':\n                advancedFilterQuery = '(' + (filterType !== 'Value' ? (fieldName + '.CurrentMember.member_caption =\\\"' + value1 + '\\\"') : (measures + ' = ' + value1));\n                break;\n            case 'DoesNotEquals':\n                advancedFilterQuery = '(' + (filterType != 'Value' ? (fieldName + '.CurrentMember.member_caption <>\\\"' + value1 + '\\\"') : (measures + ' <>' + value1));\n                break;\n            case 'Contains':\n                advancedFilterQuery = '( InStr (1,' + fieldName + '.CurrentMember.member_caption,\\\"' + value1 + '\\\") >0';\n                break;\n            case 'DoesNotContains':\n                advancedFilterQuery = '( InStr (1,' + fieldName + '.CurrentMember.member_caption,\\\"' + value1 + '\\\")=0';\n                break;\n            case 'BeginWith':\n                advancedFilterQuery = '( Left (' + fieldName + '.CurrentMember.member_caption,' + value1.length + ')=\\\"' + value1 + '\\\"';\n                break;\n            case 'DoesNotBeginWith':\n                advancedFilterQuery = '( Left (' + fieldName + '.CurrentMember.member_caption,' + value1.length + ') <>\\\"' + value1 + '\\\"';\n                break;\n            case 'EndsWith':\n                advancedFilterQuery = '( Right (' + fieldName + '.CurrentMember.member_caption,' + value1.length + ')=\\\"' + value1 + '\\\"';\n                break;\n            case 'DoesNotEndsWith':\n                advancedFilterQuery = '( Right (' + fieldName + '.CurrentMember.member_caption,' + value1.length + ') <>\\\"' + value1 + '\\\"';\n                break;\n            case 'GreaterThan':\n                advancedFilterQuery = '(' + (filterType != 'Value' ? (fieldName + '.CurrentMember.member_caption >\\\"' + value1 + '\\\"') : (measures + ' >' + value1 + ''));\n                break;\n            case 'GreaterThanOrEqualTo':\n                advancedFilterQuery = '(' + (filterType != 'Value' ? (fieldName + '.CurrentMember.member_caption >=\\\"' + value1 + '\\\"') : (measures + ' >=' + value1 + ''));\n                break;\n            case 'LessThan':\n                advancedFilterQuery = '(' + (filterType != 'Value' ? (fieldName + '.CurrentMember.member_caption <\\\"' + value1 + '\\\"') : (measures + ' <' + value1 + ''));\n                break;\n            case 'LessThanOrEqualTo':\n                advancedFilterQuery = '(' + (filterType != 'Value' ? (fieldName + '.CurrentMember.member_caption <=\\\"' + value1 + '\\\"') : (measures + ' <=' + value1 + ''));\n                break;\n            case 'Between':\n                advancedFilterQuery = '(' + (filterType != 'Value' ? (fieldName + '.CurrentMember.member_caption >=\\\"' + value1 + '\\\"AND ' + fieldName + '.CurrentMember.member_caption <=\\\"' + value2 + '\\\"') : (measures + ' >=' + value1 + ' AND ' + measures + ' <=' + value2));\n                break;\n            case 'NotBetween':\n                advancedFilterQuery = '(' + (filterType != 'Value' ? (fieldName + '.CurrentMember.member_caption >=\\\"' + value1 + '\\\"OR ' + fieldName + '.CurrentMember.member_caption <=\\\"' + value2 + '\\\"') : (measures + ' >=' + value1 + ' OR ' + measures + ' <=' + value2));\n                break;\n            default:\n                advancedFilterQuery = '( InStr (1,' + fieldName + '.CurrentMember.member_caption,\\\"' + value1 + '\\\") >0';\n                break;\n        }\n        return advancedFilterQuery;\n    };\n    MDXQuery.getCalculatedFieldQuery = function (calcMembers) {\n        var calcQuery = '';\n        if (calcMembers.length > 0) {\n            calcQuery = '\\nWITH';\n            for (var _i = 0, calcMembers_1 = calcMembers; _i < calcMembers_1.length; _i++) {\n                var member = calcMembers_1[_i];\n                var prefixName = (member.formula.indexOf('Measure') > -1 ? '[Measures].' : member.hierarchyUniqueName + '.');\n                var aliasName = prefixName + '[' + member.name + ']';\n                var formatString = (!isNullOrUndefined(member.formatString) ? member.formatString : null);\n                calcQuery += ('\\nMEMBER ' + aliasName + 'as (' + member.formula + ') ' + (!isNullOrUndefined(formatString) ? ', FORMAT_STRING =\\\"' + formatString.trim() + '\\\"' : ''));\n            }\n        }\n        return calcQuery;\n    };\n    return MDXQuery;\n}());\nexport { MDXQuery };\n","import { extend, Internationalization, isNullOrUndefined, Ajax } from '@syncfusion/ej2-base';\nimport { PivotUtil } from '../util';\nimport { MDXQuery } from './mdx-query';\nimport * as cls from '../../common/base/css-constant';\n/**\n * OlapEngine is used to manipulate the olap or Multi-Dimensional data as pivoting values.\n */\n/** @hidden */\nvar OlapEngine = /** @class */ (function () {\n    function OlapEngine() {\n        /** @hidden */\n        this.fieldList = {};\n        /** @hidden */\n        this.columnCount = 0;\n        /** @hidden */\n        this.rowCount = 0;\n        /** @hidden */\n        this.colFirstLvl = 0;\n        /** @hidden */\n        this.rowFirstLvl = 0;\n        /** @hidden */\n        this.pageColStartPos = 0;\n        /** @hidden */\n        this.enableSort = false;\n        /** @hidden */\n        this.enableValueSorting = false;\n        /** @hidden */\n        this.dataFields = {};\n        /** @hidden */\n        this.formatFields = {};\n        /** @hidden */\n        this.filterMembers = {};\n        /** @hidden */\n        this.drilledSets = {};\n        /* tslint:disable-next-line:max-line-length */\n        this.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n        this.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n        /** @hidden */\n        this.pivotValues = [];\n        /** @hidden */\n        this.valueContent = [];\n        /** @hidden */\n        this.headerContent = [];\n        /** @hidden */\n        this.rowStartPos = 0;\n        /** @hidden */\n        this.pageRowStartPos = 0;\n        /** @hidden */\n        this.tupColumnInfo = [];\n        /** @hidden */\n        this.tupRowInfo = [];\n        /** @hidden */\n        this.gridJSON = '';\n        /** @hidden */\n        this.namedSetsPosition = {};\n        this.colDepth = 0;\n        this.totalCollection = [];\n        this.parentObjCollection = {};\n        this.curDrillEndPos = -1;\n        this.headerGrouping = {};\n        this.lastLevel = [];\n        this.showRowSubTotals = true;\n        this.showColumnSubTotals = true;\n        this.hideRowTotalsObject = {};\n        this.hideColumnTotalsObject = {};\n        this.sortObject = {};\n    }\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    OlapEngine.prototype.renderEngine = function (dataSourceSettings, customProperties) {\n        this.isEmptyData = false;\n        this.mdxQuery = '';\n        this.isMeasureAvail = false;\n        this.allowLabelFilter = false;\n        this.allowValueFilter = false;\n        this.isMondrian = false;\n        this.measureReportItems = [];\n        this.calcChildMembers = [];\n        this.selectedItems = [];\n        this.savedFieldList = undefined;\n        this.savedFieldListData = undefined;\n        this.formatFields = {};\n        this.filterMembers = {};\n        this.dataFields = {};\n        this.valueAxis = '';\n        this.columnCount = 0;\n        this.rowCount = 0;\n        this.colFirstLvl = 0;\n        this.rowFirstLvl = 0;\n        this.pageColStartPos = 0;\n        this.enableValueSorting = false;\n        this.sortObject = {};\n        this.drilledSets = {};\n        this.globalize = new Internationalization();\n        /* tslint:disable */\n        this.locale = this.globalize.getCulture();\n        /* tslint:enable */\n        this.localeObj = customProperties ? customProperties.localeObj : undefined;\n        this.enableValueSorting = customProperties ? customProperties.enableValueSorting : false;\n        if (dataSourceSettings.url) {\n            // this.isMondrian = (dataSourceSettings.providerType === 'mondrian');\n            this.dataSourceSettings = dataSourceSettings;\n            this.getAxisFields();\n            this.formats = dataSourceSettings.formatSettings ? dataSourceSettings.formatSettings : [];\n            this.enableSort = dataSourceSettings.enableSorting === undefined ? true : dataSourceSettings.enableSorting;\n            this.valueSortSettings = dataSourceSettings.valueSortSettings ? dataSourceSettings.valueSortSettings : undefined;\n            this.filterSettings = dataSourceSettings.filterSettings ? dataSourceSettings.filterSettings : [];\n            this.sortSettings = dataSourceSettings.sortSettings ? dataSourceSettings.sortSettings : [];\n            this.allowLabelFilter = dataSourceSettings.allowLabelFilter ? true : false;\n            this.allowValueFilter = dataSourceSettings.allowValueFilter ? true : false;\n            this.drilledMembers = dataSourceSettings.drilledMembers ? this.updateDrilledItems(dataSourceSettings.drilledMembers) : [];\n            this.calculatedFieldSettings = dataSourceSettings.calculatedFieldSettings ? dataSourceSettings.calculatedFieldSettings : [];\n            this.valueAxis = dataSourceSettings.valueAxis === 'row' ? 'row' : 'column';\n            this.emptyCellTextContent = dataSourceSettings.emptyCellsTextContent ? dataSourceSettings.emptyCellsTextContent : '';\n            this.pageSettings = customProperties ? (customProperties.pageSettings ? customProperties.pageSettings : this.pageSettings)\n                : undefined;\n            this.isPaging = this.pageSettings ? true : false;\n            this.frameSortObject();\n            this.getFormattedFields(this.formats);\n            this.savedFieldList = customProperties ? customProperties.savedFieldList : undefined;\n            this.savedFieldListData = customProperties ? customProperties.savedFieldListData : undefined;\n            this.fieldListData = [];\n            this.fieldListObj = {};\n            this.setNamedSetsPosition();\n            if (!(this.savedFieldList && this.savedFieldListData)) {\n                this.getFieldList(dataSourceSettings);\n            }\n            else {\n                this.updateFieldlist(true);\n            }\n            this.loadCalculatedMemberElements(this.calculatedFieldSettings);\n            this.measureReportItems = [];\n            // this.updateAllMembers(dataSourceSettings, this.filters);\n            this.updateFilterItems(this.filterSettings);\n            this.generateGridData(dataSourceSettings);\n        }\n    };\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    OlapEngine.prototype.generateGridData = function (dataSourceSettings, action) {\n        var refPaging = (action && action === 'navPaging' &&\n            this.isPaging && this.pageSettings !== undefined ? true : false);\n        MDXQuery.getCellSets(dataSourceSettings, this, refPaging);\n    };\n    OlapEngine.prototype.generatePagingData = function (xmlDoc, request, customArgs) {\n        var xmlaCellSet = [].slice.call(xmlDoc.querySelectorAll('Axes, CellData'));\n        // this.rowCount =\n        //     (xmlaCellSet.length > 0 && [].slice.call(xmlaCellSet[0].querySelectorAll('Axis[name|=\"Axis1\"] Tuple')).length > 0 ?\n        //         [].slice.call(xmlaCellSet[0].querySelectorAll('Axis[name|=\"Axis1\"] Tuple')).length : 0);\n        // this.columnCount =\n        //     (xmlaCellSet.length > 0 && [].slice.call(xmlaCellSet[0].querySelectorAll('Axis[name|=\"Axis0\"] Tuple')).length > 0 ?\n        //         [].slice.call(xmlaCellSet[0].querySelectorAll('Axis[name|=\"Axis0\"] Tuple')).length : 0);\n        var countCells = xmlaCellSet[1] ? xmlaCellSet[1].querySelectorAll('FmtValue') : null;\n        if (countCells && countCells.length > 0) {\n            this.columnCount = Number(countCells[0].textContent);\n            this.rowCount = Number(countCells[1].textContent);\n        }\n        var dataSourceSettings = customArgs.dataSourceSettings;\n        MDXQuery.getCellSets(dataSourceSettings, this, true);\n    };\n    OlapEngine.prototype.scrollPage = function (direction, newPage, prevPage) {\n        MDXQuery.getCellSets(this.dataSourceSettings, this, true);\n    };\n    OlapEngine.prototype.generateEngine = function (xmlDoc, request, customArgs) {\n        if (customArgs.action !== 'down') {\n            this.pivotValues = [];\n            this.valueContent = [];\n            this.headerContent = [];\n            this.colDepth = 0;\n            this.tupColumnInfo = [];\n            this.tupRowInfo = [];\n            this.colMeasures = {};\n            this.colMeasurePos = undefined;\n            this.rowMeasurePos = undefined;\n            this.rowStartPos = -1;\n        }\n        this.xmlDoc = xmlDoc.cloneNode(true);\n        this.request = request;\n        this.customArgs = customArgs;\n        this.totalCollection = [];\n        this.parentObjCollection = {};\n        this.curDrillEndPos = -1;\n        this.onDemandDrillEngine = [];\n        this.getSubTotalsVisibility();\n        this.xmlaCellSet = xmlDoc.querySelectorAll('Axes, CellData');\n        var columnTuples = this.xmlaCellSet.length > 0 ?\n            [].slice.call(this.xmlaCellSet[0].querySelectorAll('Axis[name|=\"Axis0\"] Tuple')) : [];\n        var rowTuples = this.xmlaCellSet.length > 0 ?\n            [].slice.call(this.xmlaCellSet[0].querySelectorAll('Axis[name|=\"Axis1\"] Tuple')) : [];\n        var valCollection = this.xmlaCellSet.length > 1 ?\n            [].slice.call(this.xmlaCellSet[1].querySelectorAll('Cell')) : [];\n        if (this.drilledMembers.length > 0) {\n            // let st1: number = new Date().getTime();\n            var measureInfo = this.getMeasureInfo();\n            var orderedInfo = void 0;\n            orderedInfo = this.frameMeasureOrder(measureInfo, 'column', columnTuples, valCollection, columnTuples.length);\n            columnTuples = orderedInfo.orderedHeaderTuples;\n            valCollection = orderedInfo.orderedValueTuples;\n            orderedInfo = this.frameMeasureOrder(measureInfo, 'row', rowTuples, valCollection, columnTuples.length);\n            rowTuples = orderedInfo.orderedHeaderTuples;\n            valCollection = orderedInfo.orderedValueTuples;\n            // let st2: number = (new Date().getTime() - st1) / 1000;\n            // console.log('over-all:' + st2);\n        }\n        if (customArgs.action === 'down') {\n            this.updateTupCollection(customArgs.drillInfo.axis === 'row' ? rowTuples.length : columnTuples.length);\n        }\n        if (customArgs.action === 'down' ? customArgs.drillInfo.axis === 'column' : true) {\n            this.frameColumnHeader(columnTuples);\n            if (!this.isPaging) {\n                this.performColumnSorting();\n            }\n        }\n        if (customArgs.action === 'down' ? customArgs.drillInfo.axis === 'row' : true) {\n            this.frameRowHeader(rowTuples);\n            if (!this.isPaging) {\n                this.performRowSorting();\n            }\n        }\n        this.frameValues(valCollection, columnTuples.length);\n        this.performColumnSpanning();\n        if (this.dataSourceSettings.sortSettings.length > 0 && !this.isPaging) {\n            for (var i = 0; i < this.headerContent.length; i++) {\n                this.headerContent[i] = this.pivotValues[i];\n            }\n        }\n        this.isEngineUpdated = true;\n        this.isEmptyData = columnTuples.length === 0;\n        //this.append(columnTuples.length);\n    };\n    OlapEngine.prototype.getSubTotalsVisibility = function () {\n        this.showRowSubTotals = this.dataSourceSettings.showRowSubTotals && this.dataSourceSettings.showSubTotals;\n        this.showColumnSubTotals = this.dataSourceSettings.showColumnSubTotals && this.dataSourceSettings.showSubTotals;\n        this.hideRowTotalsObject = {};\n        this.hideColumnTotalsObject = {};\n        var axisCount = 1;\n        do {\n            if (axisCount === 1) {\n                if (this.showColumnSubTotals) {\n                    for (var cCnt = 0; cCnt < this.dataSourceSettings.columns.length; cCnt++) {\n                        if (this.dataSourceSettings.columns[cCnt].showSubTotals === false) {\n                            this.hideColumnTotalsObject[this.dataSourceSettings.columns[cCnt].name] = cCnt;\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.showRowSubTotals) {\n                    for (var rCnt = 0; rCnt < this.dataSourceSettings.rows.length; rCnt++) {\n                        if (this.dataSourceSettings.rows[rCnt].showSubTotals === false) {\n                            this.hideRowTotalsObject[this.dataSourceSettings.rows[rCnt].name] = rCnt;\n                        }\n                    }\n                }\n            }\n            axisCount++;\n        } while (axisCount < 3);\n    };\n    /* tslint:disable:max-func-body-length */\n    OlapEngine.prototype.frameRowHeader = function (tuples) {\n        this.headerGrouping = {};\n        this.lastLevel = [];\n        var position = this.pivotValues.length;\n        var pivotValues = [];\n        var valueContent = [];\n        if (this.customArgs.action !== 'down') {\n            pivotValues = this.pivotValues;\n            valueContent = this.valueContent;\n        }\n        else {\n            position = this.customArgs.drillInfo.currentCell.rowIndex + 1;\n        }\n        this.rowStartPos = this.rowStartPos > 0 ? this.rowStartPos : position;\n        var tupPos = 0;\n        var lastAllStartPos;\n        var lastAllCount;\n        var prevUNArray = [];\n        var allType = {};\n        var rowMembers = [];\n        var availAllMember = false;\n        var withoutAllStartPos = -1;\n        var withoutAllEndPos = -1;\n        var minLevel = [];\n        var gTotals = [{\n                axis: 'row',\n                colIndex: 0,\n                formattedText: 'Grand Total',\n                hasChild: false,\n                level: -1,\n                rowIndex: 0,\n                index: [],\n                type: 'grand sum',\n                ordinal: 0,\n                colSpan: 1,\n                rowSpan: 1,\n                memberType: 2,\n                isDrilled: false,\n                valueSort: { 'Grand Total': 1, levelName: 'Grand Total' }\n            }];\n        var maxLevel = [];\n        var measurePos;\n        var newTupPosition = (this.customArgs.drillInfo && this.customArgs.drillInfo.axis === 'row') ?\n            (this.customArgs.drillInfo.currentCell.ordinal + 1) : 0;\n        while (tupPos < tuples.length) {\n            var members = tuples[tupPos].querySelectorAll('Member');\n            maxLevel = this.frameTupCollection(members, maxLevel, (tupPos + newTupPosition), this.tupRowInfo, this.showRowSubTotals, this.hideRowTotalsObject, 'row');\n            tupPos++;\n        }\n        tupPos = 0;\n        var prevTupInfo;\n        var tuplesLength = tuples.length;\n        if (this.customArgs.action === 'down') {\n            var ordinal = this.customArgs.drillInfo.currentCell.ordinal + 1;\n            tupPos = ordinal;\n            tuplesLength += ordinal;\n            lastAllCount = this.tupRowInfo[ordinal - 1].allCount;\n            lastAllStartPos = this.tupRowInfo[ordinal - 1].allStartPos;\n            prevTupInfo = this.tupRowInfo[ordinal - 1];\n        }\n        var startTupPos = tupPos;\n        var pagingAllowFlag = true;\n        while (tupPos < tuplesLength && pagingAllowFlag) {\n            var members = tuples[this.customArgs.action === 'down' ?\n                (tupPos - (this.customArgs.drillInfo.currentCell.ordinal + 1)) : tupPos].querySelectorAll('Member');\n            var memPos = 0;\n            var prevParent = void 0;\n            var allCount = this.tupRowInfo[tupPos].allCount;\n            var allStartPos = this.tupRowInfo[tupPos].allStartPos;\n            var measure = this.tupRowInfo[tupPos].measure;\n            var typeColl = this.tupRowInfo[tupPos].typeCollection;\n            var drillInfo = this.tupRowInfo[tupPos].drillInfo;\n            var drillStartPos = this.tupRowInfo[tupPos].drillStartPos;\n            var startDrillUniquename = this.tupRowInfo[tupPos].startDrillUniquename;\n            var drillEndPos = this.tupRowInfo[tupPos].drillEndPos;\n            var levelColl = this.tupRowInfo[tupPos].levelCollection;\n            if (tupPos === 0 || tupPos === startTupPos) {\n                var firstTupMembers = this.customArgs.action === 'down' ? this.tupRowInfo[0].members : members;\n                while (memPos < firstTupMembers.length) {\n                    if (firstTupMembers[memPos].querySelector('MEMBER_TYPE').textContent === '1' &&\n                        Number(firstTupMembers[memPos].querySelector('LNum').textContent) === 0) {\n                        minLevel[memPos] = 0;\n                    }\n                    else {\n                        minLevel[memPos] = Number(firstTupMembers[memPos].querySelector('LNum').textContent);\n                    }\n                    if (firstTupMembers[memPos].querySelector('MEMBER_TYPE').textContent === '1' &&\n                        (this.isPaging || Number(firstTupMembers[memPos].querySelector('LNum').textContent) === 0)) {\n                        allType[memPos] = 0;\n                        withoutAllStartPos = withoutAllStartPos === -1 ? memPos : withoutAllStartPos;\n                        withoutAllEndPos = memPos;\n                    }\n                    else {\n                        allType[memPos] = 1;\n                        availAllMember = firstTupMembers[memPos].querySelector('MEMBER_TYPE').textContent === '3' ? availAllMember : true;\n                    }\n                    memPos++;\n                }\n                measurePos = typeColl.indexOf('3');\n            }\n            memPos = 0;\n            if (tupPos === 0 && (members.length > (allCount + (measure ? 1 : 0)) || (members.length === 1 && measure))) {\n                gTotals.pop();\n            }\n            if ((tupPos === 0 && this.isPaging) ? gTotals.length === 0 :\n                (!availAllMember || allCount === lastAllCount || allStartPos !== lastAllStartPos || (members.length === 1 && measure))) {\n                var drillAllow = drillStartPos > -1 ? (allCount > 0 ? (allStartPos > drillStartPos) : true) : true;\n                /* tslint:disable-next-line:max-line-length */\n                drillAllow = (prevTupInfo && drillAllow && drillStartPos > -1) ?\n                    (prevTupInfo.startDrillUniquename !== startDrillUniquename ? true :\n                        ((withoutAllEndPos > prevTupInfo.measurePosition ? false :\n                            prevTupInfo.measureName !== this.tupRowInfo[tupPos].measureName) &&\n                            (allStartPos === (drillStartPos + 1) || this.tupRowInfo[tupPos].measurePosition === (drillStartPos + 1))))\n                    : drillAllow;\n                var withoutAllAllow = (withoutAllStartPos > -1 && allCount > 0) ? (allStartPos > withoutAllEndPos) : true;\n                if (members.length === allCount + (measure ? 1 : 0) && measure) {\n                    var levelName = 'Grand Total.' + members[measurePos].querySelector('Caption').textContent;\n                    gTotals.push({\n                        axis: 'row',\n                        actualText: this.getUniqueName(members[measurePos].querySelector('UName').textContent),\n                        colIndex: 0,\n                        formattedText: members[measurePos].querySelector('Caption').textContent,\n                        hasChild: false,\n                        level: -1,\n                        rowIndex: position,\n                        index: [],\n                        ordinal: tupPos,\n                        colSpan: 1,\n                        rowSpan: 1,\n                        memberType: Number(typeColl[measurePos]),\n                        isDrilled: false,\n                        parentUniqueName: members[measurePos].querySelector('PARENT_UNIQUE_NAME') ?\n                            members[measurePos].querySelector('PARENT_UNIQUE_NAME').textContent : undefined,\n                        levelUniqueName: members[measurePos].querySelector('LName').textContent,\n                        hierarchy: members[measurePos].getAttribute('Hierarchy'),\n                        valueSort: { levelName: levelName, axis: members[measurePos].getAttribute('Hierarchy') }\n                    });\n                    gTotals[gTotals.length - 1].valueSort['Grand Total.' + members[measurePos].querySelector('Caption').textContent] = 1;\n                }\n                else if (!(allStartPos === 0 || (measurePos === 0 && allStartPos === 1)) && drillAllow && withoutAllAllow) {\n                    prevTupInfo = this.tupRowInfo[tupPos];\n                    var lastPos = position;\n                    var lastMemPos = memPos;\n                    prevParent = {};\n                    while (memPos < members.length && pagingAllowFlag) {\n                        var member = members[memPos];\n                        if (member.querySelector('UName').textContent !== prevUNArray[memPos] && typeColl[memPos] !== '2'\n                            && ((prevParent && prevParent.isDrilled) ? (typeColl[memPos] === '3' && allType[memPos - 1]) : true)) {\n                            /* tslint:disable-next-line:max-line-length */\n                            var lvl = Number(member.querySelector('LNum').textContent) -\n                                ((allType[memPos] && typeColl[memPos] !== '3') ? 1 : minLevel[memPos]);\n                            /* tslint:disable-next-line:no-string-literal */\n                            var isNamedSet = this.namedSetsPosition['row'][memPos] ? true : false;\n                            pivotValues[position] = [{\n                                    axis: 'row',\n                                    actualText: this.getUniqueName(member.querySelector('UName').textContent),\n                                    colIndex: 0,\n                                    formattedText: member.querySelector('Caption').textContent,\n                                    hasChild: Number(member.querySelector('CHILDREN_CARDINALITY').textContent) > 0 ? true : false,\n                                    level: lvl,\n                                    rowIndex: position,\n                                    index: [],\n                                    ordinal: tupPos,\n                                    type: 'header',\n                                    colSpan: 1,\n                                    rowSpan: 1,\n                                    memberType: Number(typeColl[memPos]),\n                                    isDrilled: this.tupRowInfo[tupPos].drillInfo[memPos].isDrilled,\n                                    parentUniqueName: member.querySelector('PARENT_UNIQUE_NAME') ?\n                                        member.querySelector('PARENT_UNIQUE_NAME').textContent : undefined,\n                                    levelUniqueName: member.querySelector('LName').textContent,\n                                    hierarchy: member.getAttribute('Hierarchy'),\n                                    isNamedSet: isNamedSet,\n                                    valueSort: { levelName: '', axis: member.getAttribute('Hierarchy') }\n                                }];\n                            prevParent = typeColl[memPos] !== '3' ? pivotValues[position][0] : prevParent;\n                            if (!prevParent) {\n                                rowMembers.push(member.querySelector('Caption').textContent);\n                            }\n                            var levelName = this.getCaptionCollectionWithMeasure(this.tupRowInfo[tupPos]);\n                            pivotValues[position][0].valueSort.levelName = levelName;\n                            pivotValues[position][0].valueSort[levelName] = 1;\n                            valueContent[position - this.rowStartPos] = {};\n                            valueContent[position - this.rowStartPos][0] = pivotValues[position][0];\n                            if (measure && measurePos > memPos) {\n                                prevUNArray[measurePos] = '';\n                            }\n                            for (var pos = memPos + 1; pos < members.length; pos++) {\n                                prevUNArray[pos] = '';\n                            }\n                            prevUNArray[memPos] = member.querySelector('UName').textContent;\n                            position++;\n                            lastMemPos = memPos;\n                        }\n                        else if (typeColl[memPos] === '2') {\n                            lastMemPos = memPos;\n                        }\n                        if (this.tupRowInfo[tupPos].drillInfo[memPos].isDrilled && this.tupRowInfo[tupPos].showTotals) {\n                            this.tupRowInfo[tupPos].showTotals = !this.showRowSubTotals ? false :\n                                this.hideRowTotalsObject[this.tupRowInfo[tupPos].drillInfo[memPos].hierarchy] === undefined;\n                        }\n                        memPos++;\n                    }\n                    if (lastPos < position && lastMemPos >= (members.length - 1)) {\n                        pivotValues[position - 1][0].ordinal = tupPos;\n                        if (pivotValues[position - 1][0].type === 'header') {\n                            delete pivotValues[position - 1][0].type;\n                        }\n                    }\n                }\n                lastAllCount = allCount;\n                lastAllStartPos = allStartPos;\n            }\n            tupPos++;\n        }\n        if (gTotals.length > 1 && gTotals[0].memberType !== 3) {\n            gTotals[0].ordinal = -1;\n        }\n        // if (!(this.dataSourceSettings.showGrandTotals && this.dataSourceSettings.showRowGrandTotals)) {\n        //     for (let totPos: number = 0; totPos < gTotals.length; totPos++) {\n        //         if (this.tupRowInfo[gTotals[totPos].ordinal]) {\n        //             this.tupRowInfo[gTotals[totPos].ordinal].showTotals = false;\n        //         }\n        //     }\n        // }\n        if (this.customArgs.action !== 'down') {\n            if (this.dataSourceSettings.showGrandTotals && this.dataSourceSettings.showRowGrandTotals) {\n                for (var totPos = 0; totPos < gTotals.length; totPos++) {\n                    gTotals[totPos].rowIndex = position;\n                    pivotValues[position] = [gTotals[totPos]];\n                    valueContent[position - this.rowStartPos] = {};\n                    valueContent[position - this.rowStartPos][0] = pivotValues[position][0];\n                    position++;\n                }\n            }\n        }\n        else {\n            this.updateRowEngine(pivotValues, valueContent, tuples.length);\n            this.onDemandDrillEngine = pivotValues;\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    OlapEngine.prototype.frameTupCollection = function (members, maxLevel, tupPos, tupInfo, showSubTotals, hideTotalsObject, axis) {\n        var _a, _b;\n        var memPos = 0;\n        var allCount = 0;\n        var allStartPos;\n        var measure;\n        var measureName;\n        var measurePosition;\n        var typeColl = [];\n        var levelColl = [];\n        var drillState = [];\n        var uNameCollection = '';\n        var captionCollection = '';\n        var showTotals = true;\n        var hideFieldPos = -1;\n        while (memPos < members.length) {\n            var member = members[memPos];\n            var memberlevel = Number(member.querySelector('LNum').textContent);\n            var memberUName = member.querySelector('UName').textContent;\n            /* tslint:disable */\n            if (Number(member.querySelector('MEMBER_TYPE').textContent) > 3) {\n                member.querySelector('MEMBER_TYPE').textContent = memberUName.startsWith('[Measures]') ? '3' : '1';\n            }\n            var memberType = memberUName.startsWith('[Measures]') ? '3' :\n                (Number(member.querySelector('MEMBER_TYPE').textContent) > 3 ? '1' : member.querySelector('MEMBER_TYPE').textContent);\n            /* tslint:enable */\n            var memberCaption = member.querySelector('Caption').textContent;\n            var hierarchy = member.getAttribute('Hierarchy');\n            /* tslint:disable-next-line:max-line-length */\n            var parentUName = member.querySelector('PARENT_UNIQUE_NAME') ? member.querySelector('PARENT_UNIQUE_NAME').textContent : '';\n            if (memberType === '2') {\n                allCount++;\n                allStartPos = isNullOrUndefined(allStartPos) ? memPos : allStartPos;\n            }\n            else if (memberType === '3') {\n                measure = member;\n                measureName = memberUName;\n                measurePosition = memPos;\n                if (axis === 'column') {\n                    this.colMeasures[memberUName] = member;\n                    this.colMeasurePos = memPos;\n                }\n                else {\n                    this.rowMeasurePos = memPos;\n                }\n            }\n            else {\n                hideFieldPos = hideTotalsObject[hierarchy];\n            }\n            if (memberType !== '2') {\n                if (this.headerGrouping[memPos]) {\n                    if (memberlevel > this.lastLevel[memPos]) {\n                        this.lastLevel[memPos] = memberlevel;\n                    }\n                    else if (memberlevel < this.lastLevel[memPos]) {\n                        var levelPos = this.lastLevel[memPos];\n                        while (levelPos >= memberlevel) {\n                            delete this.headerGrouping[memPos].UName[levelPos];\n                            delete this.headerGrouping[memPos].Caption[levelPos];\n                            levelPos--;\n                        }\n                        this.lastLevel[memPos] = memberlevel;\n                    }\n                    this.headerGrouping[memPos].UName[memberlevel] = memberUName;\n                    this.headerGrouping[memPos].Caption[memberlevel] = memberCaption;\n                }\n                else {\n                    this.lastLevel[memPos] = memberlevel;\n                    this.headerGrouping[memPos] = { UName: (_a = {}, _a[memberlevel] = memberUName, _a), Caption: (_b = {}, _b[memberlevel] = memberCaption, _b) };\n                }\n                if (this.isPaging) {\n                    var currUName = parentUName;\n                    while (this.drilledSets[currUName]) {\n                        var currCaption = this.drilledSets[currUName].querySelector('Caption').textContent;\n                        var currLevel = Number(this.drilledSets[currUName].querySelector('LNum').textContent);\n                        this.headerGrouping[memPos].UName[currLevel] = currUName;\n                        this.headerGrouping[memPos].Caption[currLevel] = currCaption;\n                        currUName = this.drilledSets[currUName].querySelector('PARENT_UNIQUE_NAME') === null ? '' :\n                            this.drilledSets[currUName].querySelector('PARENT_UNIQUE_NAME').textContent;\n                    }\n                }\n                /* tslint:disable */\n                var uNames = Object.values(this.headerGrouping[memPos].UName).join('~~');\n                uNameCollection = uNameCollection === '' ? uNames :\n                    (uNameCollection + '::' + uNames);\n                var captions = Object.values(this.headerGrouping[memPos].Caption).join('~~');\n                /* tslint:enable */\n                if (memPos !== measurePosition) {\n                    captionCollection = captionCollection === '' ? captions :\n                        (captionCollection + '::' + captions);\n                }\n            }\n            typeColl.push(memberType);\n            levelColl.push(memberlevel);\n            if (isNullOrUndefined(maxLevel[memPos]) || maxLevel[memPos] < memberlevel) {\n                maxLevel[memPos] = memberlevel;\n            }\n            drillState.push({ level: memberlevel, uName: memberUName, hierarchy: hierarchy, isDrilled: false });\n            if (tupInfo[tupPos - 1] && tupInfo[tupPos - 1].typeCollection[memPos] === '1' &&\n                drillState[memPos].level > tupInfo[tupPos - 1].drillInfo[memPos].level) {\n                var uCollection = uNameCollection.split(/[~~,::]/).filter(function (item) { return item; });\n                uCollection.pop();\n                var parentLevel = uCollection.join('~~');\n                this.setDrillInfo(parentUName, parentLevel, memPos, tupPos, tupInfo);\n            }\n            memPos++;\n        }\n        if (hideFieldPos > -1) {\n            showTotals = typeColl[hideFieldPos + 1] !== '2';\n        }\n        tupInfo[tupPos] = {\n            allCount: allCount,\n            allStartPos: allStartPos,\n            measure: measure,\n            measureName: measureName,\n            measurePosition: measurePosition,\n            members: members,\n            typeCollection: typeColl,\n            uNameCollection: uNameCollection,\n            captionCollection: captionCollection,\n            levelCollection: levelColl,\n            drillInfo: drillState,\n            drillStartPos: -1,\n            drillEndPos: -1,\n            showTotals: (!showSubTotals && allCount > 0 && allStartPos > (measurePosition === 0 ? 1 : 0)) ? false : showTotals\n        };\n        return maxLevel;\n    };\n    OlapEngine.prototype.getCaptionCollectionWithMeasure = function (tuple) {\n        var captionColection = tuple.captionCollection;\n        if (tuple.measure) {\n            var measureName = tuple.measure.querySelector('Caption').textContent;\n            var measurePosition = tuple.uNameCollection.split(/[~~,::]+/g).indexOf(tuple.measureName);\n            var captionCollectionArray = tuple.captionCollection.split(/[~~,::]+/g);\n            captionCollectionArray.splice(measurePosition, 0, measureName);\n            captionColection = captionCollectionArray.join('.');\n        }\n        return captionColection;\n    };\n    /** hidden */\n    OlapEngine.prototype.setNamedSetsPosition = function () {\n        this.namedSetsPosition = {};\n        var axis = 0;\n        do {\n            var setsPositions = {};\n            var axisFields = axis ? this.dataSourceSettings.rows : this.dataSourceSettings.columns;\n            for (var fPos = 0; fPos < axisFields.length; fPos++) {\n                if (axisFields[fPos].isNamedSet) {\n                    setsPositions[fPos] = axisFields[fPos].name;\n                }\n            }\n            this.namedSetsPosition[axis ? 'row' : 'column'] = setsPositions;\n            axis++;\n        } while (axis < 2);\n    };\n    OlapEngine.prototype.updateRowEngine = function (pivotValues, valueContent, tuplesLength) {\n        var currEngineCount = this.pivotValues.length - 1;\n        var newEngineCount = Object.keys(pivotValues).length;\n        while (currEngineCount > this.customArgs.drillInfo.currentCell.rowIndex) {\n            this.pivotValues[currEngineCount + newEngineCount] = this.pivotValues[currEngineCount];\n            this.pivotValues[currEngineCount + newEngineCount][0].ordinal += tuplesLength;\n            this.pivotValues[currEngineCount + newEngineCount][0].rowIndex += newEngineCount;\n            /* tslint:disable-next-line:max-line-length */\n            this.valueContent[(currEngineCount + newEngineCount) - this.rowStartPos] = this.valueContent[currEngineCount - this.rowStartPos];\n            currEngineCount--;\n        }\n        // for (let key in pivotValues) {\n        for (var key = 0; key < pivotValues.length; key++) {\n            this.pivotValues[key] = pivotValues[key];\n            this.valueContent[Number(key) - this.rowStartPos] = valueContent[Number(key) - this.rowStartPos];\n        }\n        this.pivotValues[this.customArgs.drillInfo.currentCell.rowIndex][0].isDrilled = true;\n    };\n    OlapEngine.prototype.updateTupCollection = function (newTuplesCount) {\n        var tupCollection = this.customArgs.drillInfo.axis === 'row' ? this.tupRowInfo : this.tupColumnInfo;\n        var currTupCount = tupCollection.length - 1;\n        while (currTupCount > this.customArgs.drillInfo.currentCell.ordinal) {\n            tupCollection[currTupCount + newTuplesCount] = tupCollection[currTupCount];\n            currTupCount--;\n        }\n    };\n    /* tslint:disable:max-func-body-length */\n    OlapEngine.prototype.frameColumnHeader = function (tuples) {\n        this.headerGrouping = {};\n        this.lastLevel = [];\n        var tupPos = 0;\n        var maxLevel = [];\n        var allType = [];\n        var minLevel = [];\n        var withoutAllStartPos = -1;\n        var withoutAllEndPos = -1;\n        var newTupPosition = (this.customArgs.drillInfo && this.customArgs.drillInfo.axis === 'column') ?\n            (this.customArgs.drillInfo.currentCell.ordinal + 1) : 0;\n        while (tupPos < tuples.length) {\n            var members = tuples[tupPos].querySelectorAll('Member');\n            maxLevel = this.frameTupCollection(members, maxLevel, (tupPos + newTupPosition), this.tupColumnInfo, this.showColumnSubTotals, this.hideColumnTotalsObject, 'column');\n            tupPos++;\n        }\n        if (tuples.length > 0) {\n            var members = tuples[0].querySelectorAll('Member');\n            var memPos = 0;\n            while (memPos < members.length) {\n                minLevel[memPos] = (members[memPos].querySelector('MEMBER_TYPE').textContent === '1' &&\n                    Number(members[memPos].querySelector('LNum').textContent) === 0) ? 0 :\n                    Number(members[memPos].querySelector('LNum').textContent);\n                if (members[memPos].querySelector('MEMBER_TYPE').textContent === '1' &&\n                    (this.isPaging || Number(members[memPos].querySelector('LNum').textContent) === 0)) {\n                    allType[memPos] = 0;\n                    withoutAllStartPos = withoutAllStartPos === -1 ? memPos : withoutAllStartPos;\n                    withoutAllEndPos = memPos;\n                }\n                else {\n                    allType[memPos] = 1;\n                }\n                memPos++;\n            }\n        }\n        /* tslint:disable */\n        var _this = this;\n        /* tslint:enable */\n        /* tslint:disable-next-line:max-line-length */\n        maxLevel.map(function (item, pos) { _this.colDepth = _this.colDepth + (allType[pos] === 0 ? (item + (1 - (minLevel[pos] > 1 ? 1 : minLevel[pos]))) : (item === 0 ? 1 : item)); });\n        tupPos = 0;\n        var position = 1;\n        var lastAllStartPos;\n        var lastSavedInfo = {};\n        var drillLastAllStartPos;\n        var lastAllCount;\n        var drillLastAllCount;\n        var isSubTotIncluded = true;\n        var withoutAllAvail = false;\n        var lastRealTup;\n        while (tupPos < tuples.length) {\n            var members = tuples[tupPos].querySelectorAll('Member');\n            var allCount = this.tupColumnInfo[tupPos].allCount;\n            var allStartPos = this.tupColumnInfo[tupPos].allStartPos;\n            var measure = this.tupColumnInfo[tupPos].measure;\n            var typeColl = this.tupColumnInfo[tupPos].typeCollection;\n            var drillInfo = this.tupColumnInfo[tupPos].drillInfo;\n            var drillStartPos = this.tupColumnInfo[tupPos].drillStartPos;\n            var startDrillUniquename = this.tupColumnInfo[tupPos].startDrillUniquename;\n            var endDrillUniquename = this.tupColumnInfo[tupPos].endDrillUniquename;\n            var drillEndPos = this.tupColumnInfo[tupPos].drillEndPos;\n            var levelColl = this.tupColumnInfo[tupPos].levelCollection;\n            var isStartCol = typeColl[0] === '2' ? false : (typeColl[0] === '3' ? typeColl[1] !== '2' : true);\n            if (tupPos === 0 && members.length > (allCount + (measure ? 1 : 0))) {\n                withoutAllAvail = true;\n                isStartCol = (allCount > 0 && isStartCol) ? (allStartPos > withoutAllStartPos) : isStartCol;\n            }\n            if (isStartCol) {\n                if (allCount === 0) {\n                    var levelComp = [-1, -1, -1];\n                    if (this.tupColumnInfo[tupPos - 1] && this.tupColumnInfo[tupPos - 1].allCount === 0) {\n                        levelComp = this.levelCompare(levelColl, this.tupColumnInfo[tupPos - 1].levelCollection);\n                    }\n                    else if (withoutAllAvail && lastRealTup) {\n                        levelComp = this.levelCompare(levelColl, lastRealTup.levelCollection);\n                    }\n                    if (this.tupColumnInfo[tupPos].drillStartPos < 0) {\n                        if (!isSubTotIncluded && levelComp[0] > -1 && levelComp[2] > -1) {\n                            position = this.mergeTotCollection(position, allCount, maxLevel, minLevel, allType, allStartPos, drillInfo, levelComp);\n                        }\n                        this.setParentCollection(members);\n                        this.frameCommonColumnLoop(members, tupPos, position, maxLevel, allType, minLevel);\n                        if (!this.tupColumnInfo[tupPos].showTotals) {\n                            position--;\n                        }\n                        if (!isSubTotIncluded && levelComp[0] > -1 && levelComp[2] > -1) {\n                            position = this.mergeTotCollection(position, allCount, maxLevel, minLevel, allType, allStartPos, drillInfo, levelComp);\n                        }\n                        isSubTotIncluded = false;\n                        position++;\n                        /* tslint:disable-next-line:max-line-length */\n                    }\n                    else if (lastSavedInfo.drillStartPos === drillStartPos ?\n                        (lastSavedInfo.startDrillUniquename !== startDrillUniquename ||\n                            lastSavedInfo.allCount === allCount) : true) {\n                        if (!isSubTotIncluded && levelComp[0] > -1 && levelComp[2] > -1) {\n                            position = this.mergeTotCollection(position, allCount, maxLevel, minLevel, allType, allStartPos, drillInfo, levelComp);\n                            isSubTotIncluded = true;\n                        }\n                        this.setParentCollection(members);\n                        if (withoutAllAvail ? (withoutAllEndPos <= drillStartPos) : true) {\n                            /* tslint:disable-next-line:max-line-length */\n                            this.totalCollection[this.totalCollection.length] = ({ allCount: allCount, ordinal: tupPos, members: members, drillInfo: drillInfo });\n                            lastSavedInfo.allCount = allCount;\n                            lastSavedInfo.allStartPos = allStartPos;\n                            lastSavedInfo.drillStartPos = drillStartPos;\n                            lastSavedInfo.startDrillUniquename = startDrillUniquename;\n                            lastSavedInfo.endDrillUniquename = endDrillUniquename;\n                        }\n                    }\n                    lastRealTup = this.tupColumnInfo[tupPos];\n                }\n            }\n            if (allCount > 0 && (withoutAllAvail ? (isStartCol && withoutAllEndPos < allStartPos) : true)) {\n                if (allCount === lastSavedInfo.allCount || allStartPos !== lastSavedInfo.allStartPos) {\n                    /* tslint:disable-next-line:max-line-length */\n                    var endAllow = drillEndPos !== drillStartPos ? (lastSavedInfo.endDrillUniquename === endDrillUniquename) : true;\n                    /* tslint:disable-next-line:max-line-length */\n                    var allow = allStartPos !== lastSavedInfo.allStartPos ? (lastSavedInfo.startDrillUniquename !== startDrillUniquename) : endAllow;\n                    if (drillStartPos > -1 ? (allow) : true) {\n                        if (!isSubTotIncluded) {\n                            position = this.mergeTotCollection(position, allCount, maxLevel, minLevel, allType, allStartPos, drillInfo);\n                            isSubTotIncluded = true;\n                        }\n                        this.setParentCollection(members);\n                        if ((withoutAllAvail && drillStartPos > -1) ? (withoutAllEndPos <= drillStartPos) : true) {\n                            /* tslint:disable-next-line:max-line-length */\n                            this.totalCollection[this.totalCollection.length] = ({ allCount: allCount, ordinal: tupPos, members: members, allStartPos: allStartPos, drillInfo: drillInfo });\n                            lastSavedInfo.allCount = allCount;\n                            lastSavedInfo.allStartPos = allStartPos;\n                            lastSavedInfo.drillStartPos = drillStartPos;\n                            lastSavedInfo.startDrillUniquename = startDrillUniquename;\n                            lastSavedInfo.endDrillUniquename = endDrillUniquename;\n                        }\n                    }\n                }\n            }\n            tupPos++;\n        }\n        if (this.totalCollection.length > 0) {\n            if (Object.keys(this.colMeasures).length > 1) {\n                this.orderTotals(position, maxLevel, allType, minLevel);\n            }\n            else {\n                this.totalCollection = this.totalCollection.reverse();\n                for (var _i = 0, _a = this.totalCollection; _i < _a.length; _i++) {\n                    var coll = _a[_i];\n                    var isGrandTotal = this.tupColumnInfo[coll.ordinal].measurePosition === 0 ?\n                        this.tupColumnInfo[coll.ordinal].allStartPos === 1 : this.tupColumnInfo[coll.ordinal].allStartPos === 0;\n                    if (isGrandTotal ? (this.dataSourceSettings.showGrandTotals && this.dataSourceSettings.showColumnGrandTotals) : true) {\n                        this.frameCommonColumnLoop(coll.members, coll.ordinal, position, maxLevel, minLevel, allType);\n                        if (this.tupColumnInfo[coll.ordinal].showTotals) {\n                            position++;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    OlapEngine.prototype.orderTotals = function (position, maxLevel, allType, minLevel) {\n        var groupColl = {};\n        var maxCnt = 1;\n        for (var _i = 0, _a = this.totalCollection; _i < _a.length; _i++) {\n            var coll = _a[_i];\n            var isGrandTotal = this.tupColumnInfo[coll.ordinal].measurePosition === 0 ?\n                this.tupColumnInfo[coll.ordinal].allStartPos === 1 : this.tupColumnInfo[coll.ordinal].allStartPos === 0;\n            if (isGrandTotal ? (this.dataSourceSettings.showGrandTotals && this.dataSourceSettings.showColumnGrandTotals) : true) {\n                var measureName = this.tupColumnInfo[coll.ordinal].measure.querySelector('UName').textContent;\n                if (groupColl[measureName]) {\n                    groupColl[measureName].coll.push(coll);\n                    groupColl[measureName].count++;\n                    maxCnt = maxCnt < groupColl[measureName].count ? groupColl[measureName].count : maxCnt;\n                }\n                else {\n                    groupColl[measureName] = { coll: [coll], count: 1 };\n                }\n            }\n        }\n        var keys = Object.keys(groupColl);\n        var collLength = maxCnt - 1;\n        while (collLength > -1) {\n            for (var _b = 0, keys_1 = keys; _b < keys_1.length; _b++) {\n                var key = keys_1[_b];\n                var coll = groupColl[key].coll[collLength];\n                if (coll) {\n                    this.frameCommonColumnLoop(coll.members, coll.ordinal, position, maxLevel, allType, minLevel);\n                    if (this.tupColumnInfo[coll.ordinal].showTotals) {\n                        position++;\n                    }\n                }\n            }\n            collLength--;\n        }\n    };\n    OlapEngine.prototype.setParentCollection = function (members) {\n        var memPos = 0;\n        while (members.length > memPos) {\n            var member = members[memPos];\n            var memberType = Number(member.querySelector('MEMBER_TYPE').textContent) > 2 ? '3' :\n                member.querySelector('MEMBER_TYPE').textContent;\n            var memberlevel = Number(member.querySelector('LNum').textContent);\n            var memberUName = member.querySelector('UName').textContent;\n            var parentUName = member.querySelector('PARENT_UNIQUE_NAME') ?\n                member.querySelector('PARENT_UNIQUE_NAME').textContent : '';\n            var isSameParent = true;\n            var isWithoutAllMember = false;\n            if (this.parentObjCollection[memPos]) {\n                var levelCollection = Object.keys(this.parentObjCollection[memPos]);\n                var parentMember = this.parentObjCollection[memPos][memberlevel - 1];\n                isSameParent = parentMember ? parentUName === parentMember.querySelector('UName').textContent :\n                    levelCollection.length === 0;\n                isWithoutAllMember = this.tupColumnInfo[0].typeCollection[memPos] === '1';\n            }\n            if (memberType === '2') {\n                delete this.parentObjCollection[memPos];\n            }\n            else {\n                if ((this.isPaging || isWithoutAllMember) ? !isSameParent : false) {\n                    delete this.parentObjCollection[memPos];\n                }\n                if (!this.parentObjCollection[memPos]) {\n                    this.parentObjCollection[memPos] = {};\n                    this.parentObjCollection[memPos][memberlevel] = member;\n                }\n                else if (!this.parentObjCollection[memPos][memberlevel] ||\n                    this.parentObjCollection[memPos][memberlevel].querySelector('UName').textContent !== memberUName) {\n                    this.parentObjCollection[memPos][memberlevel] = member;\n                }\n            }\n            memPos++;\n        }\n    };\n    OlapEngine.prototype.setDrillInfo = function (pUName, parentLvlCollection, memPos, tupPos, tupInfo) {\n        tupPos--;\n        while (tupInfo[tupPos] && tupInfo[tupPos].drillInfo[memPos].uName === pUName) {\n            var prevUcollection = tupInfo[tupPos].uNameCollection.split(/[~~,::]/).filter(function (item) { return item; });\n            if (prevUcollection.join('~~').indexOf(parentLvlCollection) < 0) {\n                break;\n            }\n            tupInfo[tupPos].drillInfo[memPos].isDrilled = true;\n            if (this.curDrillEndPos <= memPos) {\n                tupInfo[tupPos].drillEndPos = this.curDrillEndPos = memPos;\n                tupInfo[tupPos].endDrillUniquename = pUName;\n            }\n            if (tupInfo[tupPos].drillStartPos > memPos || tupInfo[tupPos].drillStartPos === -1) {\n                tupInfo[tupPos].drillStartPos = memPos;\n            }\n            tupInfo[tupPos].startDrillUniquename = pUName;\n            tupPos--;\n        }\n    };\n    OlapEngine.prototype.levelCompare = function (newLevels, oldLevels) {\n        var changePos = [-1, 0];\n        for (var lPos = 0; lPos < oldLevels.length; lPos++) {\n            if (newLevels[lPos] !== oldLevels[lPos]) {\n                changePos = [lPos, newLevels[lPos], (oldLevels[lPos] - newLevels[lPos])];\n                break;\n            }\n        }\n        return changePos;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    OlapEngine.prototype.mergeTotCollection = function (position, allCount, maxLevel, allType, minLevel, allStartPos, drillInfo, levelComp) {\n        /* tslint:disable-next-line:max-line-length */\n        var prevHdrPos = isNullOrUndefined(allStartPos) ? levelComp[0] : (allStartPos - ((this.colMeasurePos === (allStartPos - 1)) ? 2 : 1));\n        var flagLevel = drillInfo[prevHdrPos] && drillInfo[prevHdrPos].level;\n        var flagLevelString = this.getLevelsAsString(prevHdrPos - 1, drillInfo);\n        var groupColl = {};\n        var maxCnt = 1;\n        var enterFlag = false;\n        for (var _i = 0, _a = this.totalCollection; _i < _a.length; _i++) {\n            var coll = _a[_i];\n            if (enterFlag || (coll.allCount <= allCount &&\n                ((flagLevel > -1 && coll.drillInfo[prevHdrPos]) ? ((coll.drillInfo[prevHdrPos].level >= flagLevel) &&\n                    (this.getLevelsAsString(prevHdrPos - 1, coll.drillInfo)) === flagLevelString) : true))) {\n                /* tslint:disable-next-line:max-line-length */\n                var measureName = this.tupColumnInfo[coll.ordinal].measure ? this.tupColumnInfo[coll.ordinal].measure.querySelector('UName').textContent : 'measure';\n                if (groupColl[measureName]) {\n                    groupColl[measureName].coll.push(coll);\n                    groupColl[measureName].count++;\n                    maxCnt = maxCnt < groupColl[measureName].count ? groupColl[measureName].count : maxCnt;\n                }\n                else {\n                    groupColl[measureName] = { coll: [coll], count: 1 };\n                }\n                enterFlag = false;\n            }\n        }\n        var keys = Object.keys(groupColl);\n        var collLength = maxCnt - 1;\n        while (collLength > -1) {\n            for (var _b = 0, keys_2 = keys; _b < keys_2.length; _b++) {\n                var key = keys_2[_b];\n                var coll1 = groupColl[key].coll[collLength];\n                if (coll1) {\n                    var isGrandTotal = this.tupColumnInfo[coll1.ordinal].measurePosition === 0 ?\n                        this.tupColumnInfo[coll1.ordinal].allStartPos === 1 : this.tupColumnInfo[coll1.ordinal].allStartPos === 0;\n                    if (isGrandTotal ? (this.dataSourceSettings.showGrandTotals && this.dataSourceSettings.showColumnGrandTotals) : true) {\n                        this.frameCommonColumnLoop(coll1.members, coll1.ordinal, position, maxLevel, minLevel, allType);\n                        if (this.tupColumnInfo[coll1.ordinal].showTotals) {\n                            position++;\n                        }\n                    }\n                    this.totalCollection.pop();\n                }\n            }\n            collLength--;\n        }\n        return position;\n    };\n    OlapEngine.prototype.getLevelsAsString = function (prevHdrPos, drillInfo) {\n        var lvlCollection = [];\n        for (var pos = 0; pos < prevHdrPos; pos++) {\n            lvlCollection[pos] = drillInfo[pos].level;\n        }\n        return lvlCollection.length > 0 ? lvlCollection.toString() : '';\n    };\n    /* tslint:disable-next-line:max-line-length */\n    OlapEngine.prototype.frameCommonColumnLoop = function (members, tupPos, position, maxLevel, minLevel, allType) {\n        var _a;\n        var drillMemberPosition = -1;\n        if (this.tupColumnInfo[tupPos].showTotals) {\n            var memberPos = 0;\n            var memberDepth = 0;\n            while (memberPos < members.length) {\n                memberDepth += (allType[memberPos] > 0 && this.tupColumnInfo[tupPos].measurePosition !== memberPos) ?\n                    maxLevel[memberPos] :\n                    (maxLevel[memberPos] + (1 - minLevel[memberPos]));\n                if (this.tupColumnInfo[tupPos].drillInfo[memberPos].isDrilled && this.tupColumnInfo[tupPos].showTotals) {\n                    this.tupColumnInfo[tupPos].showTotals = !this.showColumnSubTotals ? false :\n                        this.hideColumnTotalsObject[this.tupColumnInfo[tupPos].drillInfo[memberPos].hierarchy] === undefined;\n                    memberDepth -= maxLevel[memberPos] -\n                        this.tupColumnInfo[tupPos].levelCollection[memberPos];\n                    drillMemberPosition = this.tupColumnInfo[tupPos].showTotals ? -1 : (memberDepth - 1);\n                }\n                memberPos++;\n            }\n        }\n        if (this.tupColumnInfo[tupPos].showTotals) {\n            var memPos = 0;\n            var spanMemPos = 0;\n            var colMembers = {};\n            while (memPos < members.length) {\n                var member = members[memPos];\n                var memberType = Number(member.querySelector('MEMBER_TYPE').textContent) > 2 ? '3' :\n                    member.querySelector('MEMBER_TYPE').textContent;\n                var memDup = 0;\n                for (var rowDepthPos = memberType !== '2' ? (allType[memPos] ? 1 : minLevel[memPos]) : 1; rowDepthPos <= (memberType === '3' ? 1 : maxLevel[memPos]); rowDepthPos++) {\n                    var isDrilled = false;\n                    if (!this.pivotValues[spanMemPos]) {\n                        this.pivotValues[spanMemPos] = [];\n                    }\n                    if (Number(members[memPos].querySelector('LNum').textContent) > rowDepthPos && memberType !== '2') {\n                        if (!this.parentObjCollection[memPos][rowDepthPos]) {\n                            this.getDrilledParent(members[memPos], rowDepthPos, this.parentObjCollection[memPos]);\n                        }\n                        if (this.parentObjCollection[memPos][rowDepthPos]) {\n                            member = this.parentObjCollection[memPos][rowDepthPos];\n                        }\n                        isDrilled = true;\n                    }\n                    else {\n                        member = members[memPos];\n                        memDup++;\n                    }\n                    if (memberType !== '2') {\n                        colMembers[member.querySelector('UName').textContent] = member.querySelector('Caption').textContent;\n                    }\n                    var delimiter = this.valueSortSettings && this.dataSourceSettings.valueSortSettings.headerDelimiter ?\n                        this.dataSourceSettings.valueSortSettings.headerDelimiter : '~~';\n                    /* tslint:disable */\n                    var levelName = Object.values(colMembers).join(delimiter);\n                    var isNamedSet = this.namedSetsPosition['column'][memPos] ? true : false;\n                    this.pivotValues[spanMemPos][position] = {\n                        axis: 'column',\n                        actualText: this.getUniqueName(member.querySelector('UName').textContent),\n                        colIndex: position,\n                        formattedText: member.querySelector('Caption').textContent,\n                        hasChild: Number(member.querySelector('CHILDREN_CARDINALITY').textContent) > 0 ? true : false,\n                        /* tslint:disable-next-line:max-line-length */\n                        level: memDup > 1 ? -1 : (Number(member.querySelector('LNum').textContent) - ((allType[memPos] && memberType !== '3') ? 1 : 0)),\n                        rowIndex: spanMemPos,\n                        ordinal: tupPos,\n                        memberType: Number(memberType),\n                        isDrilled: isDrilled || this.tupColumnInfo[tupPos].drillInfo[memPos].isDrilled,\n                        /* tslint:disable-next-line:max-line-length */\n                        parentUniqueName: member.querySelector('PARENT_UNIQUE_NAME') ? member.querySelector('PARENT_UNIQUE_NAME').textContent : undefined,\n                        levelUniqueName: member.querySelector('LName').textContent,\n                        hierarchy: member.getAttribute('Hierarchy'),\n                        isNamedSet: isNamedSet,\n                        valueSort: (_a = { levelName: levelName }, _a[levelName] = 1, _a.axis = member.getAttribute('Hierarchy'), _a)\n                        /* tslint:enable */\n                    };\n                    if (!this.headerContent[spanMemPos]) {\n                        this.headerContent[spanMemPos] = {};\n                    }\n                    this.headerContent[spanMemPos][position] = this.pivotValues[spanMemPos][position];\n                    spanMemPos++;\n                }\n                memPos++;\n            }\n        }\n        else {\n            if (drillMemberPosition > -1) {\n                this.pivotValues[drillMemberPosition][position - 1].ordinal = tupPos;\n            }\n            else if (this.tupColumnInfo[tupPos].allCount > 0) {\n                var memberPos = 0;\n                var memberDepth = 0;\n                while (memberPos < this.tupColumnInfo[tupPos].allStartPos) {\n                    memberDepth += (allType[memberPos] > 0 && this.tupColumnInfo[tupPos].measurePosition !== memberPos) ?\n                        maxLevel[memberPos] :\n                        (maxLevel[memberPos] + (1 - minLevel[memberPos]));\n                    memberPos++;\n                }\n                if (this.tupColumnInfo[tupPos].allStartPos === (this.tupColumnInfo[tupPos].measurePosition + 1)) {\n                    memberDepth -= maxLevel[this.tupColumnInfo[tupPos].allStartPos - 2] -\n                        this.tupColumnInfo[tupPos].levelCollection[this.tupColumnInfo[tupPos].allStartPos - 2] + 1;\n                }\n                else {\n                    memberDepth -= maxLevel[this.tupColumnInfo[tupPos].allStartPos - 1] -\n                        this.tupColumnInfo[tupPos].levelCollection[this.tupColumnInfo[tupPos].allStartPos - 1];\n                }\n                this.pivotValues[memberDepth - 1][position - 1].ordinal = tupPos;\n            }\n        }\n    };\n    OlapEngine.prototype.getDrilledParent = function (childMember, parentLevel, savedCollection) {\n        var childlevel = Number(childMember.querySelector('LNum').textContent);\n        var currentChild = childMember;\n        for (var lvl = childlevel - 1; lvl >= parentLevel; lvl--) {\n            var currentParent = this.drilledSets[currentChild.querySelector('PARENT_UNIQUE_NAME').textContent];\n            if (currentParent) {\n                savedCollection[lvl] = currentParent;\n                currentChild = currentParent;\n            }\n            else {\n                break;\n            }\n        }\n    };\n    /************************************Below temporary method should be removed*************************************************/\n    /* tslint:disable */\n    OlapEngine.prototype.performRowSorting = function () {\n        var _a;\n        if (this.enableSort && this.tupRowInfo.length > 0) {\n            var rowCount = this.pivotValues.length;\n            var lvlGrouping = {};\n            var measureObjects = {};\n            var gSumGrouping = [];\n            var gSumFlag = false;\n            var withoutAllLastPos = this.tupRowInfo[0].typeCollection.lastIndexOf('1');\n            for (var rPos = this.colDepth; rPos < rowCount; rPos++) {\n                var currentCell = this.pivotValues[rPos][0];\n                var currentTuple = this.tupRowInfo[currentCell.ordinal];\n                var uniqueName = currentTuple ? currentTuple.uNameCollection : '';\n                if (uniqueName !== '') {\n                    if (withoutAllLastPos > -1) {\n                        uniqueName = this.frameUniqueName(uniqueName, currentCell, currentTuple);\n                    }\n                    var level = uniqueName.split(/[~~,::]/).length;\n                    if (currentCell.memberType === 3 && this.tupRowInfo[0].measurePosition > 0) {\n                        var parentUName = this.getParentUname(uniqueName, currentCell, true, true);\n                        if (measureObjects[parentUName]) {\n                            measureObjects[parentUName].push(currentCell);\n                        }\n                        else {\n                            measureObjects[parentUName] = [currentCell];\n                        }\n                    }\n                    else if (lvlGrouping[level]) {\n                        lvlGrouping[level][uniqueName] = [currentCell];\n                    }\n                    else {\n                        lvlGrouping[level] = (_a = {}, _a[uniqueName] = [currentCell], _a);\n                    }\n                }\n                if (gSumFlag) {\n                    gSumGrouping.push(currentCell);\n                }\n                if (currentCell.type === 'grand sum') {\n                    gSumFlag = true;\n                }\n            }\n            var isMeasureAvail = Object.keys(measureObjects).length > 0 && this.tupRowInfo[0].measurePosition > 0;\n            var levels = Object.keys(lvlGrouping).map(function (item) { return Number(item); }).sort();\n            var sortLvlGrouping = {};\n            for (var lPos = levels.length - 1; lPos >= 0; lPos--) {\n                var parentGrouping = {};\n                var objCollection = lvlGrouping[levels[lPos]];\n                var objKeys = Object.keys(objCollection);\n                for (var oPos = 0; oPos < objKeys.length; oPos++) {\n                    var parentUName = lPos === 0 ? 'parent' :\n                        this.getParentUname(objKeys[oPos], objCollection[objKeys[oPos]][0], isMeasureAvail, false);\n                    if (parentGrouping[parentUName]) {\n                        parentGrouping[parentUName].push(objCollection[objKeys[oPos]][0]);\n                    }\n                    else {\n                        parentGrouping[parentUName] = [objCollection[objKeys[oPos]]][0];\n                    }\n                }\n                var pKeys = Object.keys(parentGrouping);\n                /* tslint:disable:typedef */\n                for (var kPos = 0; kPos < pKeys.length; kPos++) {\n                    parentGrouping[pKeys[kPos]] = this.sortRowHeaders(parentGrouping[pKeys[kPos]]);\n                }\n                /* tslint:enable:typedef */\n                if (sortLvlGrouping[levels[lPos + 1]]) {\n                    for (var kPos = 0; kPos < pKeys.length; kPos++) {\n                        var groupSets = [];\n                        var axisSets = parentGrouping[pKeys[kPos]];\n                        for (var aPos = 0; aPos < axisSets.length; aPos++) {\n                            var tupInfo = this.tupRowInfo[axisSets[aPos].ordinal];\n                            var uName = tupInfo.uNameCollection;\n                            groupSets.push(axisSets[aPos]);\n                            if (withoutAllLastPos > -1) {\n                                uName = this.frameUniqueName(uName, axisSets[aPos], tupInfo);\n                            }\n                            var isMembersIncluded = false;\n                            if (isMeasureAvail) {\n                                var parentUName = this.getParentUname(uName, axisSets[aPos], isMeasureAvail, true);\n                                if (measureObjects[parentUName]) {\n                                    measureObjects[parentUName] = this.sortRowHeaders(measureObjects[parentUName]);\n                                    var isLastMeasure = uName.lastIndexOf('::') === uName.indexOf('::[Measures]');\n                                    var isFullLength = uName.split('::').length - 1 === tupInfo.measurePosition;\n                                    var isLastNotDrilledMember = !tupInfo.drillInfo[tupInfo.measurePosition - 1].isDrilled;\n                                    var isActualLastMember = tupInfo.members.length > (tupInfo.measurePosition + 1);\n                                    if (isLastMeasure && isFullLength && isLastNotDrilledMember && isActualLastMember) {\n                                        isMembersIncluded = true;\n                                        for (var mPos = 0; mPos < measureObjects[parentUName].length; mPos++) {\n                                            groupSets.push(measureObjects[parentUName][mPos]);\n                                            var matchParent = (uName.substring(0, uName.indexOf('::[Measures]')) + '::' + measureObjects[parentUName][mPos].actualText);\n                                            if (sortLvlGrouping[levels[lPos + 1]][matchParent]) {\n                                                groupSets = groupSets.concat(sortLvlGrouping[levels[lPos + 1]][matchParent]);\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        groupSets = groupSets.concat(measureObjects[parentUName]);\n                                    }\n                                }\n                            }\n                            if (!isMembersIncluded &&\n                                sortLvlGrouping[levels[lPos + 1]][uName]) {\n                                /* tslint:disable-next-line:max-line-length */\n                                groupSets = groupSets.concat(sortLvlGrouping[levels[lPos + 1]][uName]);\n                            }\n                        }\n                        parentGrouping[pKeys[kPos]] = groupSets;\n                    }\n                }\n                else if (isMeasureAvail) {\n                    for (var kPos = 0; kPos < pKeys.length; kPos++) {\n                        var axisSets = parentGrouping[pKeys[kPos]];\n                        var groupSets = [];\n                        for (var aPos = 0; aPos < axisSets.length; aPos++) {\n                            groupSets.push(axisSets[aPos]);\n                            var uName = this.tupRowInfo[axisSets[aPos].ordinal].uNameCollection;\n                            if (withoutAllLastPos > -1) {\n                                uName = this.frameUniqueName(uName, axisSets[aPos], this.tupRowInfo[axisSets[aPos].ordinal]);\n                            }\n                            var parentUName = this.getParentUname(uName, axisSets[aPos], true, true);\n                            if (measureObjects[parentUName]) {\n                                measureObjects[parentUName] = this.sortRowHeaders(measureObjects[parentUName]);\n                                groupSets = groupSets.concat(measureObjects[parentUName]);\n                            }\n                        }\n                        parentGrouping[pKeys[kPos]] = groupSets;\n                    }\n                }\n                sortLvlGrouping[levels[lPos]] = parentGrouping;\n            }\n            var newPos = 0;\n            var totPos = 0;\n            gSumFlag = false;\n            gSumGrouping = this.sortRowHeaders(gSumGrouping);\n            for (var rPos = this.colDepth; rPos < rowCount; rPos++) {\n                var cell = gSumFlag ? gSumGrouping : sortLvlGrouping[levels[0]]['parent'];\n                var currPos = gSumFlag ? (newPos - totPos) : newPos;\n                if (cell[currPos]) {\n                    this.pivotValues[rPos] = [cell[currPos]];\n                    this.pivotValues[rPos][0].rowIndex = rPos;\n                    this.valueContent[newPos][0] = this.pivotValues[rPos][0];\n                }\n                newPos++;\n                if (this.pivotValues[rPos][0].type === 'grand sum') {\n                    gSumFlag = true;\n                    totPos = newPos;\n                }\n            }\n        }\n    };\n    /* tslint:disable:max-func-body-length */\n    OlapEngine.prototype.performColumnSorting = function () {\n        if (this.enableSort) {\n            for (var i = 0; i < this.dataSourceSettings.columns.length; i++) {\n                var temporary = [];\n                var index = 0;\n                var grandTotal = [];\n                for (var j = 0; j < this.pivotValues.length; j++) {\n                    var header = this.pivotValues[j];\n                    var key = void 0;\n                    var keys = void 0;\n                    var temp = [];\n                    var value = 1;\n                    grandTotal[index] = [];\n                    temporary[index] = [];\n                    var k = 1;\n                    for (k = k; k < header.length; k++) {\n                        if (header[k].memberType != 2 && header[k].actualText.split(\".\")[0]\n                            != '[Measures]' && header[k].level != -1) {\n                            isNullOrUndefined(temp[header[k].formattedText]) ?\n                                temp[header[k].formattedText] = [] : temp[k];\n                            temp[header[k].formattedText][header[k].colIndex] = header[k];\n                        }\n                        else if (Object.keys(temp).length > 0) {\n                            grandTotal[index][grandTotal[index].length + value] = header[k];\n                            key = Object.keys(temp);\n                            /* tslint:disable:typedef */\n                            key = this.sortColumnHeaders(key, this.sortObject[header[k].levelUniqueName] ||\n                                this.sortObject[header[k].hierarchy]);\n                            isNullOrUndefined(temporary[index]) ? temporary[index] = [] : temporary[index];\n                            for (var l = 0; l < key.length; l++) {\n                                var length_1 = Object.keys(temp[key[l]]).length;\n                                for (var q = 0; q < length_1; q++) {\n                                    value = temporary[index].length == 0 ? 1 : 0;\n                                    temporary[index][temporary[index].length + value] =\n                                        temp[key[l]][Object.keys(temp[key[l]])[q]];\n                                }\n                            }\n                        }\n                        else if (header[k].level === -1 && Object.keys(temp).length >= 0 &&\n                            header[k].actualText.split(\".\")[0] != '[Measures]') {\n                            grandTotal[index][grandTotal[index].length + value] = header[k];\n                        }\n                        if (header[k].level != -1 && Object.keys(temp).length === 1 &&\n                            header[k].actualText.split(\".\")[0] !=\n                                '[Measures]' && !isNullOrUndefined(header[k + 1]) && header[k + 1].level === -1) {\n                            var height = Object.keys(temp[header[k].formattedText]).length;\n                            var weight = Object.keys(temp[header[k].formattedText]);\n                            if (height > 1) {\n                                for (var hgt = 0; hgt < height; hgt++) {\n                                    value = grandTotal[index].length == 0 ? 1 : 0;\n                                    grandTotal[index][grandTotal[index].length + value] =\n                                        temp[header[k].formattedText][weight[hgt]];\n                                }\n                            }\n                            else {\n                                grandTotal[index][grandTotal[index].length + value] = header[k];\n                            }\n                        }\n                        if (Object.keys(grandTotal[index]).length > 0) {\n                            value = temporary[index].length == 0 ? 1 : 0;\n                            var height1 = grandTotal[index].length;\n                            if (height1 > 2) {\n                                for (var hgt1 = 1; hgt1 < height1; hgt1++) {\n                                    value = temporary[index].length == 0 ? 1 : 0;\n                                    temporary[index][temporary[index].length + value] =\n                                        grandTotal[index][hgt1];\n                                }\n                            }\n                            else {\n                                temporary[index][temporary[index].length + value] =\n                                    grandTotal[index][1] || grandTotal[index][0];\n                            }\n                            temp = {};\n                            grandTotal[index] = [];\n                        }\n                    }\n                    if (Object.keys(temp).length > 0) {\n                        grandTotal[index][grandTotal[index].length + value] = header[k];\n                        keys = Object.keys(temp);\n                        /* tslint:disable:typedef */\n                        var order = this.sortObject[header[k].levelUniqueName] || this.sortObject[header[k].hierarchy];\n                        key = this.sortColumnHeaders(key, order);\n                        isNullOrUndefined(temporary[index]) ? temporary[index] = [] : temporary[index];\n                        for (var len = 0; len < keys.length; len++) {\n                            var leng = Object.keys(temp[keys[len]]).length;\n                            for (var q = 0; q < leng; q++) {\n                                value = temporary[index].length == 0 ? 1 : 0;\n                                temporary[index][temporary[index].length + value] =\n                                    temp[key[len]][Object.keys(temp[keys[len]])[q]];\n                            }\n                        }\n                    }\n                    for (var m = 1; m < temporary[index].length; m++) {\n                        this.pivotValues[index][m] = temporary[index][m];\n                    }\n                    for (var n = j; n < this.pivotValues.length; n++) {\n                        var pElement = extend({}, this.pivotValues[n + 1], null, true);\n                        var cElement = extend({}, this.pivotValues[n], null, true);\n                        if (Object.keys(pElement).length === Object.keys(cElement).length && Object.keys(pElement).length > 2) {\n                            for (var o = 1; o < this.pivotValues[j].length; o++) {\n                                if (Object.keys(pElement).length > 0 && cElement[o].colIndex\n                                    != pElement[o].colIndex) {\n                                    this.pivotValues[n + 1][o] = pElement[cElement[o].colIndex];\n                                }\n                            }\n                            break;\n                        }\n                    }\n                    index++;\n                    temp = {};\n                }\n                for (var i_1 = 0; i_1 < this.pivotValues.length; i_1++) {\n                    var header = this.pivotValues[i_1];\n                    for (var j = 1; j < header.length; j++) {\n                        header[j].colIndex = j;\n                    }\n                }\n            }\n        }\n    };\n    OlapEngine.prototype.frameUniqueName = function (uniqueName, currentCell, currentTuple) {\n        var hasLastMeasure = uniqueName.indexOf(currentCell.actualText.toString() + '::[Measures]') > -1;\n        uniqueName = uniqueName.substring(0, uniqueName.indexOf(currentCell.actualText.toString())) +\n            currentCell.actualText.toString();\n        var measureAvail = uniqueName.split('::').length <= currentTuple.measurePosition;\n        uniqueName = uniqueName + ((hasLastMeasure || measureAvail) ? ('::' + currentTuple.measureName) : '');\n        return uniqueName;\n    };\n    OlapEngine.prototype.sortRowHeaders = function (headers) {\n        if (headers.length > 0 && headers[0].memberType !== 3) {\n            var order = (this.sortObject[headers[0].hierarchy] || this.sortObject[headers[0].levelUniqueName]);\n            if (order === 'Ascending' || order === undefined) {\n                headers == headers.sort(function (a, b) { return (a.formattedText > b.formattedText) ? 1 :\n                    ((b.formattedText > a.formattedText) ? -1 : 0); });\n            }\n            else if (order === 'Descending') {\n                headers == headers.sort(function (a, b) { return (a.formattedText < b.formattedText) ? 1 :\n                    ((b.formattedText < a.formattedText) ? -1 : 0); });\n            }\n            else {\n                headers;\n            }\n        }\n        return headers;\n    };\n    OlapEngine.prototype.sortColumnHeaders = function (keys, order) {\n        if (order === 'Ascending' || order === undefined) {\n            keys.sort(function (a, b) { return (a > b) ? 1 : ((b > a) ? -1 : 0); });\n        }\n        else if (order === 'Descending') {\n            keys.sort(function (a, b) { return (a < b) ? 1 : ((b < a) ? -1 : 0); });\n        }\n        return keys;\n    };\n    OlapEngine.prototype.frameSortObject = function () {\n        if (this.enableSort) {\n            for (var fPos = 0; fPos < this.sortSettings.length; fPos++) {\n                this.sortObject[this.sortSettings[fPos].name] = this.sortSettings[fPos].order;\n            }\n        }\n    };\n    /* tslint:enable */\n    OlapEngine.prototype.getParentUname = function (uniqueNameColl, cell, isMeasureAvail, isLastMeasure) {\n        var parentString = '';\n        if (isMeasureAvail && !isLastMeasure) {\n            var tuple = this.tupRowInfo[cell.ordinal];\n            var sepPos = [];\n            var sepObjects = {};\n            for (var i = 0; i < uniqueNameColl.length; i++) {\n                if (uniqueNameColl[i] === '~' || uniqueNameColl[i] === ':') {\n                    sepPos.push(i);\n                    sepObjects[i] = uniqueNameColl[i] + uniqueNameColl[i];\n                    i++;\n                }\n            }\n            if (tuple.measurePosition >= (uniqueNameColl.split('::').length - 1)) {\n                if (sepPos[sepPos.length - 2] > -1) {\n                    parentString = uniqueNameColl.substring(0, sepPos[sepPos.length - 2]) + sepObjects[sepPos[sepPos.length - 1]] +\n                        tuple.measureName;\n                }\n                else {\n                    parentString = 'parent';\n                }\n            }\n            else {\n                var lastPosition = uniqueNameColl.lastIndexOf('~~') > uniqueNameColl.lastIndexOf('::') ?\n                    uniqueNameColl.lastIndexOf('~~') : uniqueNameColl.lastIndexOf('::');\n                parentString = lastPosition > -1 ? uniqueNameColl.substring(0, lastPosition) : 'parent';\n            }\n        }\n        else {\n            var lastPosition = uniqueNameColl.lastIndexOf('~~') > uniqueNameColl.lastIndexOf('::') ?\n                uniqueNameColl.lastIndexOf('~~') : uniqueNameColl.lastIndexOf('::');\n            parentString = lastPosition > -1 ? uniqueNameColl.substring(0, lastPosition) : 'parent';\n        }\n        return parentString;\n    };\n    OlapEngine.prototype.performColumnSpanning = function () {\n        var spanCollection = {};\n        var rowPos = this.rowStartPos - 1;\n        var colMeasureCount = Object.keys(this.colMeasures).length;\n        while (rowPos > -1) {\n            spanCollection[rowPos] = {};\n            var colPos = this.pivotValues[rowPos].length - 1;\n            while (colPos > 0) {\n                spanCollection[rowPos][colPos] = 1;\n                var nextColCell = this.pivotValues[rowPos][colPos + 1];\n                /* tslint:disable-next-line:max-line-length */\n                var nextRowCell = (this.pivotValues[rowPos + 1] && this.rowStartPos - rowPos > 1) ? this.pivotValues[rowPos + 1][colPos] : undefined;\n                var currCell = this.pivotValues[rowPos][colPos];\n                var colflag = false;\n                var rowflag = false;\n                var tupColInfo = this.tupColumnInfo[currCell.ordinal];\n                var isSubTot = tupColInfo.allStartPos > (tupColInfo.typeCollection[0] === '3' ? 1 : 0);\n                if (nextRowCell && nextColCell && ((currCell.memberType === 2 || currCell.level === -1) ?\n                    (nextColCell.actualText === currCell.actualText) :\n                    (nextColCell.valueSort.levelName === currCell.valueSort.levelName))) {\n                    if (currCell.memberType === 2) {\n                        if (isSubTot ? nextColCell.type === 'sum' : true) {\n                            currCell.colSpan = (nextColCell.colSpan + 1) > colMeasureCount ? 1 : (nextColCell.colSpan + 1);\n                        }\n                        else {\n                            currCell.colSpan = 1;\n                        }\n                    }\n                    else {\n                        currCell.colSpan = nextColCell.colSpan + 1;\n                        currCell.ordinal = nextColCell.ordinal;\n                    }\n                    colflag = true;\n                }\n                if (currCell.memberType === 2) {\n                    if (isSubTot) {\n                        currCell.type = 'sum';\n                        /* tslint:disable-next-line:max-line-length */\n                        //currCell.formattedText = (this.pivotValues[tupColInfo.allStartPos - 1] as IAxisSet[])[colPos].formattedText + ' Total';\n                        currCell.formattedText = 'Total';\n                        currCell.valueSort.levelName = currCell.valueSort.levelName;\n                        currCell.valueSort[currCell.valueSort.levelName.toString()] = 1;\n                    }\n                    else {\n                        var levelName = 'Grand Total';\n                        if (nextRowCell && colMeasureCount > 0) {\n                            levelName = nextRowCell.memberType === 3 ? ('Grand Total.' + nextRowCell.actualText) :\n                                nextRowCell.valueSort.levelName;\n                        }\n                        currCell.type = 'grand sum';\n                        currCell.formattedText = 'Grand Total';\n                        currCell.valueSort.levelName = levelName;\n                        currCell.valueSort[levelName.toString()] = 1;\n                    }\n                    currCell.hasChild = false;\n                }\n                else if (currCell.level === -1) {\n                    currCell.type = 'sum';\n                    //currCell.formattedText = currCell.formattedText + ' Total';\n                    currCell.formattedText = 'Total';\n                    currCell.hasChild = false;\n                    currCell.valueSort.levelName = currCell.valueSort.levelName;\n                    currCell.valueSort[currCell.valueSort.levelName.toString()] = 1;\n                }\n                if (nextRowCell) {\n                    if ((currCell.memberType === 2 && nextRowCell.memberType === 2) || nextRowCell.actualText === currCell.actualText) {\n                        spanCollection[rowPos][colPos] = spanCollection[rowPos + 1] ? (spanCollection[rowPos + 1][colPos] + 1) : 1;\n                        /* tslint:disable-next-line:max-line-length */\n                        if (rowPos === 0 || (currCell.memberType === 1 && currCell.level > -1 && nextRowCell.memberType === 1 && nextRowCell.level === -1)) {\n                            currCell.rowSpan = currCell.isDrilled ? 1 : (spanCollection[rowPos + 1][colPos] + 1);\n                            /* tslint:disable-next-line:max-line-length */\n                            nextRowCell.rowSpan = (nextRowCell.isDrilled && nextRowCell.level === -1) ? spanCollection[rowPos + 1][colPos] : nextRowCell.rowSpan;\n                        }\n                        else {\n                            if (currCell.memberType === 3) {\n                                currCell.rowSpan = 1;\n                            }\n                            else {\n                                currCell.rowSpan = -1;\n                            }\n                        }\n                        rowflag = true;\n                    }\n                    else if (currCell.isDrilled && currCell.level === -1 && nextRowCell.memberType === 2) {\n                        spanCollection[rowPos][colPos] = spanCollection[rowPos + 1] ? (spanCollection[rowPos + 1][colPos] + 1) : 1;\n                        currCell.rowSpan = -1;\n                        rowflag = true;\n                    }\n                    else {\n                        currCell.rowSpan = rowPos === 0 ? spanCollection[rowPos][colPos] : -1;\n                        /* tslint:disable-next-line:max-line-length */\n                        nextRowCell.rowSpan = ((nextRowCell.level > -1 && !nextRowCell.isDrilled) || (currCell.memberType !== 2 && nextRowCell.memberType === 2)) ? spanCollection[rowPos + 1][colPos] : 1;\n                    }\n                }\n                else {\n                    currCell.rowSpan = (currCell.level > -1 || this.rowStartPos === 1) ? spanCollection[rowPos][colPos] : -1;\n                }\n                if (!colflag) {\n                    currCell.colSpan = 1;\n                }\n                if (!rowflag) {\n                    spanCollection[rowPos][colPos] = 1;\n                }\n                colPos--;\n            }\n            rowPos--;\n        }\n    };\n    OlapEngine.prototype.frameValues = function (tuples, colLength) {\n        var rowStartPos = this.colDepth;\n        var rowEndPos = this.pivotValues.length;\n        var startRowOrdinal = 0;\n        if (this.customArgs.action === 'down') {\n            var keys = Object.keys(this.onDemandDrillEngine);\n            rowStartPos = Number(keys[0]);\n            rowEndPos = Number(keys[keys.length - 1]) + 1;\n            startRowOrdinal = this.onDemandDrillEngine[rowStartPos][0].ordinal;\n        }\n        var valCollection = {};\n        for (var colPos = 0; colPos < tuples.length; colPos++) {\n            valCollection[Number(tuples[colPos].getAttribute('CellOrdinal'))] = tuples[colPos];\n        }\n        for (var rowPos = rowStartPos; rowPos < rowEndPos; rowPos++) {\n            var columns = this.pivotValues[rowPos];\n            var rowOrdinal = columns[0].ordinal;\n            for (var colPos = 1; colPos < this.pivotValues[0].length; colPos++) {\n                var colOrdinal = this.pivotValues[this.colDepth - 1][colPos].ordinal;\n                var isSum = columns[0].hasChild || columns[0].hasChild ||\n                    columns[0].type === 'grand sum' || columns[0].type === 'grand sum';\n                var lastColCell = this.pivotValues[this.colDepth - 1][colPos];\n                var measure = columns[0].memberType === 3 ? columns[0].actualText.toString() :\n                    ((this.tupColumnInfo[lastColCell.ordinal] && this.tupColumnInfo[lastColCell.ordinal].measure) ?\n                        this.tupColumnInfo[lastColCell.ordinal].measure.querySelector('UName').textContent :\n                        columns[0].actualText);\n                if (columns[0].type === 'header') {\n                    columns[colPos] = {\n                        axis: 'value',\n                        actualText: this.getUniqueName(measure),\n                        formattedText: '',\n                        value: 0,\n                        colIndex: colPos,\n                        rowIndex: rowPos\n                    };\n                }\n                else {\n                    var valElement = void 0;\n                    var formattedText = void 0;\n                    var value = '0';\n                    var measureName = this.getUniqueName(measure);\n                    var showTotals = true;\n                    if (this.tupRowInfo[rowOrdinal]) {\n                        showTotals = this.tupRowInfo[rowOrdinal].showTotals;\n                    }\n                    else {\n                        showTotals = this.dataSourceSettings.showGrandTotals && this.dataSourceSettings.showRowGrandTotals;\n                    }\n                    valElement = valCollection[(rowOrdinal - startRowOrdinal) * colLength + colOrdinal];\n                    /* tslint:disable:max-line-length */\n                    formattedText = !showTotals ? '' :\n                        ((!isNullOrUndefined(valElement) && !isNullOrUndefined(valElement.querySelector('FmtValue'))) ?\n                            valElement.querySelector('FmtValue').textContent : '');\n                    value = !showTotals ? '0' :\n                        ((!isNullOrUndefined(valElement) && !isNullOrUndefined(valElement.querySelector('Value'))) ?\n                            valElement.querySelector('Value').textContent : null);\n                    formattedText = showTotals && !isNullOrUndefined(value) ?\n                        this.getFormattedValue(Number(value), measureName, (formattedText !== '' ? formattedText : value)) :\n                        formattedText;\n                    var isSum_1 = (this.tupColumnInfo[colOrdinal] ? this.tupColumnInfo[colOrdinal].allCount > 0 : true) ||\n                        (this.tupRowInfo[rowOrdinal] ? this.tupRowInfo[rowOrdinal].allCount > 0 : true);\n                    columns[colPos] = {\n                        axis: 'value',\n                        actualText: measureName,\n                        formattedText: formattedText,\n                        colOrdinal: colOrdinal,\n                        rowOrdinal: rowOrdinal,\n                        columnHeaders: this.tupColumnInfo[colOrdinal] ? this.tupColumnInfo[colOrdinal].captionCollection : '',\n                        rowHeaders: this.tupRowInfo[rowOrdinal] ? this.tupRowInfo[rowOrdinal].captionCollection : '',\n                        value: !isNullOrUndefined(value) ? Number(value) : null,\n                        colIndex: colPos,\n                        rowIndex: rowPos,\n                        isSum: isSum_1\n                    };\n                }\n                this.valueContent[rowPos - this.rowStartPos][colPos] = columns[colPos];\n            }\n        }\n    };\n    /** hidden */\n    OlapEngine.prototype.getFormattedValue = function (value, fieldName, formattedText) {\n        var formattedValue = formattedText;\n        if (this.formatFields[fieldName] && !isNullOrUndefined(value)) {\n            var formatField = (this.formatFields[fieldName].properties ?\n                this.formatFields[fieldName].properties : this.formatFields[fieldName]);\n            var formatObj = extend({}, formatField, null, true);\n            delete formatObj.name;\n            if (!formatObj.minimumSignificantDigits && formatObj.minimumSignificantDigits < 1) {\n                delete formatObj.minimumSignificantDigits;\n            }\n            if (!formatObj.maximumSignificantDigits && formatObj.maximumSignificantDigits < 1) {\n                delete formatObj.maximumSignificantDigits;\n            }\n            if (formatObj.type) {\n                formattedValue = this.globalize.formatDate(new Date(value.toString()), formatObj);\n            }\n            else {\n                delete formatObj.type;\n                if ((formatObj.format) && !(this.formatRegex.test(formatObj.format))) {\n                    var pattern = formatObj.format.match(this.customRegex);\n                    var integerPart = pattern[6];\n                    formatObj.useGrouping = integerPart.indexOf(',') !== -1;\n                }\n                formattedValue = this.globalize.formatNumber(value, formatObj);\n            }\n        }\n        return formattedValue;\n    };\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    OlapEngine.prototype.getMeasureInfo = function () {\n        var mAxis = 'column';\n        var mIndex;\n        var values = [];\n        for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n            var field = _a[_i];\n            values[values.length] = (field.isCalculatedField ? this.fieldList[field.name].tag : field.name);\n        }\n        if (values.length > 1) {\n            if (this.isMeasureAvail) {\n                var isAvail = false;\n                for (var i = 0, cnt = this.rows.length; i < cnt; i++) {\n                    if (this.rows[i].name.toLowerCase() === '[measures]') {\n                        mAxis = 'row';\n                        mIndex = i;\n                        isAvail = true;\n                        break;\n                    }\n                }\n                if (!isAvail) {\n                    for (var i = 0, cnt = this.columns.length; i < cnt; i++) {\n                        if (this.columns[i].name.toLowerCase() === '[measures]') {\n                            mAxis = 'column';\n                            mIndex = i;\n                            isAvail = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                mAxis = this.valueAxis;\n                mIndex = mAxis === 'row' ? this.rows.length - 1 : this.columns.length - 1;\n            }\n            return { measureAxis: mAxis, measureIndex: mIndex, valueInfo: values };\n        }\n        else {\n            return { measureAxis: mAxis, measureIndex: -1, valueInfo: [] };\n        }\n    };\n    /* tslint:disable:max-func-body-length */\n    OlapEngine.prototype.frameMeasureOrder = function (measureInfo, axis, tuples, vTuples, cLen) {\n        var orderedTuples = [];\n        var orderedVTuples = [];\n        var orderedIndex = [];\n        var levels = {};\n        var cLevels = [];\n        var measureAxis = measureInfo.measureAxis;\n        var measureIndex = measureInfo.measureIndex;\n        var values = measureInfo.valueInfo;\n        if (measureAxis === axis && values.length > 0) {\n            var levelCollection = {};\n            var uniqueLevels = [];\n            for (var j = 0, lnt = tuples.length; j < lnt; j++) {\n                var node = tuples[j];\n                var members = [].slice.call(node.querySelectorAll('Member'));\n                var level = '';\n                var cLevel = '';\n                var i = 0;\n                while (i < members.length) {\n                    level = level + (level !== '' ? '~~' : '') + members[i].querySelector('UName').textContent;\n                    if (i === measureIndex && measureIndex === 0) {\n                        cLevel = level;\n                    }\n                    else if (i === (measureIndex - 1)) {\n                        cLevel = level;\n                    }\n                    i++;\n                }\n                if (levelCollection[cLevel]) {\n                    levelCollection[cLevel][levelCollection[cLevel].length] = level;\n                }\n                else {\n                    levelCollection[cLevel] = [level];\n                    uniqueLevels[uniqueLevels.length] = cLevel;\n                }\n                levels[level] = { index: j, node: node };\n                cLevels[cLevels.length] = level;\n            }\n            if (cLevels.length > 0) {\n                if (uniqueLevels.length > 0) {\n                    if (measureIndex === 0) {\n                        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n                            var name_1 = values_1[_i];\n                            for (var _a = 0, uniqueLevels_1 = uniqueLevels; _a < uniqueLevels_1.length; _a++) {\n                                var key = uniqueLevels_1[_a];\n                                if (key === name_1) {\n                                    for (var _b = 0, _c = levelCollection[key]; _b < _c.length; _b++) {\n                                        var level = _c[_b];\n                                        orderedIndex[orderedIndex.length] = levels[level].index;\n                                        orderedTuples[orderedTuples.length] = levels[level].node;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        for (var _d = 0, uniqueLevels_2 = uniqueLevels; _d < uniqueLevels_2.length; _d++) {\n                            var key = uniqueLevels_2[_d];\n                            for (var _e = 0, values_2 = values; _e < values_2.length; _e++) {\n                                var name_2 = values_2[_e];\n                                for (var _f = 0, _g = levelCollection[key]; _f < _g.length; _f++) {\n                                    var level = _g[_f];\n                                    var levelInfo = level.split('~~');\n                                    if (levelInfo[measureIndex] === name_2) {\n                                        orderedIndex[orderedIndex.length] = levels[level].index;\n                                        orderedTuples[orderedTuples.length] = levels[level].node;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (vTuples.length > 0) {\n                var valueIndex = [];\n                var vOrdinalIndex = [];\n                var len = 0;\n                var cRow = 0;\n                for (var j = 0, cnt = vTuples.length; j < cnt; j++) {\n                    if (len > (cLen - 1)) {\n                        cRow++;\n                        len = 0;\n                        if (!valueIndex[cRow]) {\n                            valueIndex[cRow] = [];\n                        }\n                        valueIndex[cRow][len] = j;\n                        len++;\n                    }\n                    else {\n                        if (!valueIndex[cRow]) {\n                            valueIndex[cRow] = [];\n                        }\n                        valueIndex[cRow][len] = j;\n                        len++;\n                    }\n                    vOrdinalIndex[vOrdinalIndex.length] = Number(vTuples[j].getAttribute('CellOrdinal'));\n                }\n                if (measureAxis === 'column') {\n                    if (valueIndex.length > 0 && valueIndex[0].length === orderedIndex.length) {\n                        for (var i = 0, cnt = orderedIndex.length; i < cnt; i++) {\n                            var j = 0;\n                            while (j < valueIndex.length) {\n                                var index = (j * cLen) + i;\n                                var ordinalValue = vOrdinalIndex[index].toString();\n                                var tuple = vTuples[Number(valueIndex[j][orderedIndex[i]])];\n                                tuple.setAttribute('CellOrdinal', ordinalValue.toString());\n                                orderedVTuples[index] = tuple;\n                                j++;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (valueIndex.length === orderedIndex.length) {\n                        for (var i = 0, cnt = orderedIndex.length; i < cnt; i++) {\n                            var j = 0;\n                            while (j < valueIndex[orderedIndex[i]].length) {\n                                var index = (i * cLen) + j;\n                                var ordinalValue = vOrdinalIndex[index].toString();\n                                var tuple = vTuples[Number(valueIndex[orderedIndex[i]][j])];\n                                tuple.setAttribute('CellOrdinal', ordinalValue.toString());\n                                orderedVTuples[orderedVTuples.length] = tuple;\n                                j++;\n                            }\n                        }\n                    }\n                }\n            }\n            return { orderedHeaderTuples: orderedTuples, orderedValueTuples: orderedVTuples };\n        }\n        else {\n            return { orderedHeaderTuples: tuples, orderedValueTuples: vTuples };\n        }\n    };\n    /* tslint:disable:max-func-body-length */\n    OlapEngine.prototype.getDrilledSets = function (uNameCollection, currentCell, fieldPos, axis) {\n        var levels = [];\n        var memberName = currentCell.actualText.toString();\n        var tupCollection = axis === 'row' ? this.tupRowInfo : this.tupColumnInfo;\n        var currTuple = tupCollection[currentCell.ordinal];\n        var measurePos = tupCollection[0].typeCollection.indexOf('3');\n        var allStartPos = measurePos === 0 ? 1 : 0;\n        var tupPos = 0;\n        var isWithoutAllMember = tupCollection[0].typeCollection[fieldPos] === '1';\n        while (tupPos < tupCollection.length) {\n            /* tslint:disable-next-line:max-line-length */\n            if (isNullOrUndefined(tupCollection[tupPos].allStartPos) || tupCollection[tupPos].allStartPos > allStartPos) {\n                levels[levels.length] = tupCollection[tupPos].uNameCollection;\n            }\n            tupPos++;\n        }\n        var memberArray = uNameCollection.split('::');\n        var joinArray = [];\n        for (var memPos = 0; memPos <= fieldPos; memPos++) {\n            if ((isWithoutAllMember || this.isPaging) && memPos === fieldPos) {\n                var splitLevels = memberArray[memPos].split('~~');\n                var drillLevel = splitLevels.indexOf(memberName);\n                var cropLevels = [];\n                for (var lPos = 0; lPos <= drillLevel; lPos++) {\n                    cropLevels.push(splitLevels[lPos]);\n                }\n                joinArray[joinArray.length] = cropLevels.length > 0 ? cropLevels.join('~~') : memberArray[memPos];\n            }\n            else {\n                joinArray[joinArray.length] = memberArray[memPos];\n            }\n        }\n        uNameCollection = joinArray.join('::');\n        var childSets = [];\n        var memberObj = {};\n        for (var _i = 0, levels_1 = levels; _i < levels_1.length; _i++) {\n            var item = levels_1[_i];\n            if (item.indexOf(uNameCollection) === 0) {\n                childSets.push(item);\n                if (this.isPaging) {\n                    var drillField = item.split('::')[fieldPos];\n                    var drillFieldSep = drillField.split('~~');\n                    for (var fPos = drillFieldSep.indexOf(memberName); fPos < drillFieldSep.length; fPos++) {\n                        memberObj[drillFieldSep[fPos]] = drillFieldSep[fPos];\n                    }\n                }\n            }\n        }\n        if (this.isPaging) {\n            var fieldSep = currTuple.uNameCollection.split('::');\n            var cropArray = [];\n            for (var fPos = 0; fPos < fieldSep.length; fPos++) {\n                if (fPos !== fieldPos) {\n                    cropArray[fPos] = fieldSep[fPos];\n                }\n            }\n            var drillFieldSep = Object.keys(memberObj);\n            for (var fPos = 0; fPos < drillFieldSep.length; fPos++) {\n                cropArray[fieldPos] = drillFieldSep[fPos];\n                childSets.push(cropArray.join('::'));\n            }\n        }\n        var drillSets = {};\n        for (var _a = 0, childSets_1 = childSets; _a < childSets_1.length; _a++) {\n            var level = childSets_1[_a];\n            var fields = level.split('::');\n            var set = '';\n            for (var pos = 0; pos <= fieldPos; pos++) {\n                var field = fields[pos];\n                var members = field.split('~~');\n                set = set + (set !== '' ? '~~' : '') + members[members.length - 1];\n            }\n            drillSets[set] = set;\n        }\n        return drillSets;\n    };\n    OlapEngine.prototype.updateDrilledInfo = function (dataSourceSettings) {\n        this.dataSourceSettings = dataSourceSettings;\n        this.drilledMembers = dataSourceSettings.drilledMembers ? this.updateDrilledItems(dataSourceSettings.drilledMembers) : [];\n        // MDXQuery.getCellSets(this.dataSourceSettings as IDataOptions, this);\n        this.generateGridData(dataSourceSettings);\n    };\n    OlapEngine.prototype.updateCalcFields = function (dataSourceSettings, lastcalcInfo) {\n        this.dataSourceSettings = dataSourceSettings;\n        this.calculatedFieldSettings = dataSourceSettings.calculatedFieldSettings ? dataSourceSettings.calculatedFieldSettings : [];\n        this.getAxisFields();\n        this.updateFieldlist();\n        this.loadCalculatedMemberElements(this.calculatedFieldSettings);\n        if (this.dataFields[lastcalcInfo.name]) {\n            this.generateGridData(dataSourceSettings);\n        }\n        else {\n            MDXQuery.getCellSets(dataSourceSettings, this, true, undefined, true);\n        }\n    };\n    OlapEngine.prototype.onSort = function (dataSourceSettings) {\n        this.dataSourceSettings = dataSourceSettings;\n        this.sortSettings = dataSourceSettings.sortSettings ? dataSourceSettings.sortSettings : [];\n        this.getAxisFields();\n        this.frameSortObject();\n        this.updateFieldlist();\n        if (this.xmlaCellSet.length > 0 && this.xmlDoc) {\n            this.generateEngine(this.xmlDoc, this.request, this.customArgs);\n        }\n        else {\n            this.generateGridData(dataSourceSettings);\n        }\n    };\n    OlapEngine.prototype.updateFieldlist = function (isInit) {\n        var i = 0;\n        while (i < this.savedFieldListData.length) {\n            var fieldName = this.savedFieldListData[i].id;\n            var parentID = this.savedFieldListData[i].pid;\n            // let aggregateType: string = this.getAggregateType(fieldName);\n            // this.savedFieldListData[i].aggregateType = aggregateType;\n            if (this.savedFieldList[fieldName]) {\n                var sortOrder = (this.enableSort ? this.sortObject[fieldName] ? this.sortObject[fieldName] : 'Ascending' : 'None');\n                this.savedFieldList[fieldName].isSelected = false;\n                this.savedFieldList[fieldName].isExcelFilter = false;\n                // this.savedFieldList[fieldName].aggregateType = aggregateType;\n                this.savedFieldList[fieldName].sort = sortOrder;\n                this.savedFieldListData[i].sort = sortOrder;\n                if (isInit) {\n                    this.savedFieldList[fieldName].filter = [];\n                    this.savedFieldList[fieldName].actualFilter = [];\n                }\n            }\n            if (this.dataFields[fieldName] && this.savedFieldList[fieldName] && this.selectedItems.indexOf(fieldName) > -1) {\n                this.savedFieldList[fieldName].isSelected = true;\n                this.savedFieldListData[i].isSelected = true;\n            }\n            else {\n                if (this.dataFields[parentID] && this.savedFieldList[parentID] && this.selectedItems.indexOf(parentID) > -1) {\n                    this.savedFieldListData[i].isSelected = true;\n                }\n                else {\n                    this.savedFieldListData[i].isSelected = false;\n                }\n            }\n            if (this.savedFieldList[fieldName] && this.savedFieldList[fieldName].isCalculatedField) {\n                for (var _i = 0, _a = this.calculatedFieldSettings; _i < _a.length; _i++) {\n                    var field = _a[_i];\n                    if (fieldName === field.name) {\n                        var expression = field.formula;\n                        var formatString = field.formatString;\n                        this.savedFieldListData[i].formula = expression;\n                        this.savedFieldListData[i].formatString = formatString;\n                        this.savedFieldListData[i].parentHierarchy = (expression.toLowerCase().indexOf('measure') > -1 ?\n                            undefined : field.hierarchyUniqueName);\n                        this.savedFieldList[fieldName].formula = expression;\n                        this.savedFieldList[fieldName].formatString = formatString;\n                        this.savedFieldList[fieldName].parentHierarchy = this.savedFieldListData[i].parentHierarchy;\n                    }\n                }\n            }\n            i++;\n        }\n        this.fieldList = this.savedFieldList;\n        this.fieldListData = this.savedFieldListData;\n    };\n    OlapEngine.prototype.updateFieldlistData = function (name, isSelect) {\n        for (var _i = 0, _a = this.fieldListData; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.id === name) {\n                item.isSelected = isSelect ? true : false;\n                break;\n            }\n        }\n    };\n    OlapEngine.prototype.getFormattedFields = function (formats) {\n        this.formatFields = {};\n        var cnt = formats.length;\n        while (cnt--) {\n            this.formatFields[formats[cnt].name] = formats[cnt];\n        }\n    };\n    OlapEngine.prototype.getFieldList = function (dataSourceSettings) {\n        var args = {\n            catalog: dataSourceSettings.catalog,\n            cube: dataSourceSettings.cube,\n            url: dataSourceSettings.url,\n            LCID: dataSourceSettings.localeIdentifier.toString(),\n            request: 'MDSCHEMA_HIERARCHIES'\n        };\n        this.getTreeData(args, this.getFieldListItems.bind(this), { dataSourceSettings: dataSourceSettings, action: 'loadFieldElements' });\n    };\n    OlapEngine.prototype.getTreeData = function (args, successMethod, customArgs) {\n        var connectionString = this.getConnectionInfo(args.url, args.LCID);\n        /* tslint:disable-next-line:max-line-length */\n        var soapMessage = '<Envelope xmlns=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"><Header/><Body><Discover xmlns=\\\"urn:schemas-microsoft-com:xml-analysis\\\"><RequestType>' +\n            args.request + '</RequestType><Restrictions><RestrictionList><CATALOG_NAME>' + args.catalog +\n            /* tslint:disable-next-line:max-line-length */\n            '</CATALOG_NAME><CUBE_NAME>' + args.cube + '</CUBE_NAME></RestrictionList></Restrictions><Properties><PropertyList><Catalog>' + args.catalog +\n            /* tslint:disable-next-line:max-line-length */\n            '</Catalog> <LocaleIdentifier>' + connectionString.LCID + '</LocaleIdentifier></PropertyList></Properties></Discover></Body></Envelope>';\n        this.doAjaxPost('POST', connectionString.url, soapMessage, successMethod, customArgs);\n    };\n    OlapEngine.prototype.getAxisFields = function () {\n        this.rows = this.dataSourceSettings.rows ? this.dataSourceSettings.rows : [];\n        this.columns = this.dataSourceSettings.columns ? this.dataSourceSettings.columns : [];\n        this.filters = this.dataSourceSettings.filters ? this.dataSourceSettings.filters : [];\n        this.values = this.dataSourceSettings.values ? this.dataSourceSettings.values : [];\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns, this.values, this.filters);\n        var len = dataFields.length;\n        while (len--) {\n            this.dataFields[dataFields[len].name] = dataFields[len];\n            if (dataFields[len].name.toLowerCase() === '[measures]') {\n                this.isMeasureAvail = true;\n            }\n            else {\n                this.selectedItems.push(dataFields[len].name);\n            }\n        }\n        if (!this.isMeasureAvail && this.values.length > 0) {\n            var measureField = { name: '[Measures]', caption: 'Measures' };\n            if (this.valueAxis === 'row') {\n                this.rows.push(measureField);\n            }\n            else {\n                this.columns.push(measureField);\n            }\n            this.isMeasureAvail = true;\n        }\n    };\n    OlapEngine.prototype.getAggregateType = function (fieldName, aggregateType) {\n        var type;\n        switch (aggregateType) {\n            case '1':\n                type = 'Sum';\n                break;\n            case '2':\n                type = 'Count';\n                break;\n            case '3':\n                type = 'Min';\n                break;\n            case '4':\n                type = 'Max';\n                break;\n            case '5':\n                type = 'Avg';\n                break;\n            case '8':\n                type = 'DistinctCount';\n                break;\n            case '127':\n                type = 'CalculatedField';\n                break;\n            default:\n                type = undefined;\n                break;\n        }\n        // if (this.dataFields[fieldName]) {\n        //     return this.dataFields[fieldName].type;\n        // } else {\n        //     return undefined;\n        // }\n        if (type) {\n            return type;\n        }\n        else {\n            return undefined;\n        }\n    };\n    OlapEngine.prototype.getUniqueName = function (name) {\n        var uName = name;\n        for (var _i = 0, _a = this.calculatedFieldSettings; _i < _a.length; _i++) {\n            var item = _a[_i];\n            var expression = item.formula;\n            var prefixName = (expression.toLowerCase().indexOf('measure') > -1 ? '[Measures].' : item.hierarchyUniqueName + '.');\n            var uniqueName = prefixName + '[' + item.name + ']';\n            if (name === uniqueName) {\n                uName = item.name;\n                break;\n            }\n        }\n        return uName;\n    };\n    OlapEngine.prototype.updateFilterItems = function (filterItems) {\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns);\n        for (var _i = 0, filterItems_1 = filterItems; _i < filterItems_1.length; _i++) {\n            var filter = filterItems_1[_i];\n            if (filter.type === 'Include') {\n                var members = this.fieldList[filter.name].members;\n                var isMembersAvail = (members && Object.keys(members).length > 0);\n                this.fieldList[filter.name].actualFilter = filter.items.slice();\n                var selectedElements = extend([], filter.items, null, true);\n                if (isMembersAvail) {\n                    var i = 0;\n                    while (i < selectedElements.length) {\n                        var parentNodes = [];\n                        parentNodes = this.getParentNode(selectedElements[i], members, parentNodes);\n                        for (var _a = 0, parentNodes_1 = parentNodes; _a < parentNodes_1.length; _a++) {\n                            var node = parentNodes_1[_a];\n                            var index = PivotUtil.inArray(node, filter.items);\n                            if (index !== -1) {\n                                filter.items.splice(index, 1);\n                            }\n                        }\n                        i++;\n                    }\n                }\n                var currentItems = [];\n                for (var _b = 0, _c = filter.items; _b < _c.length; _b++) {\n                    var selectedElement = _c[_b];\n                    // currentItems.push(selectedElement.replace(/\\&/g, '&amp;'));\n                    currentItems.push(selectedElement);\n                    if (isMembersAvail) {\n                        this.fieldList[filter.name].filter.push(members[selectedElement].caption);\n                    }\n                    else {\n                        this.fieldList[filter.name].filter.push(selectedElement);\n                    }\n                }\n                this.filterMembers[filter.name] = currentItems;\n                this.fieldList[filter.name].isExcelFilter = false;\n            }\n            else if ((this.allowValueFilter || this.allowLabelFilter) &&\n                ['Date', 'Label', 'Number', 'Value'].indexOf(filter.type) !== -1) {\n                for (var _d = 0, dataFields_1 = dataFields; _d < dataFields_1.length; _d++) {\n                    var item = dataFields_1[_d];\n                    if (item.name === filter.name) {\n                        var filterMembers = this.filterMembers[filter.name];\n                        if (filterMembers && (typeof filterMembers[0] === 'object' && filterMembers[0].type === filter.type)) {\n                            filterMembers[filterMembers.length] = filter;\n                        }\n                        else {\n                            this.filterMembers[filter.name] = [filter];\n                        }\n                        this.fieldList[filter.name].isExcelFilter = true;\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    OlapEngine.prototype.getParentNode = function (name, members, items) {\n        if (members[name].parent && name !== members[name].parent) {\n            var parentItem = members[name].parent;\n            items.push(parentItem);\n            this.getParentNode(parentItem, members, items);\n        }\n        return items;\n    };\n    OlapEngine.prototype.updateDrilledItems = function (drilledMembers) {\n        var drilledItems = [];\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns);\n        for (var _i = 0, drilledMembers_1 = drilledMembers; _i < drilledMembers_1.length; _i++) {\n            var item = drilledMembers_1[_i];\n            for (var _a = 0, dataFields_2 = dataFields; _a < dataFields_2.length; _a++) {\n                var field = dataFields_2[_a];\n                if (item.name === field.name) {\n                    drilledItems.push(item);\n                    break;\n                }\n            }\n        }\n        return drilledItems;\n    };\n    // private updateAllMembers(dataSourceSettings: IDataOptions, slicers: IFieldOptions[]): void {\n    //     let query: string = '';\n    //     for (let field of slicers) {\n    //         let fieldList: IOlapField = this.fieldList[field.name];\n    //         if (!(fieldList && fieldList.hasAllMember && fieldList.allMember)) {\n    //             query = query + (query !== '' ? ' * ' : '') + '{' + field.name + '}';\n    //         } else {\n    //             continue;\n    //         }\n    //     }\n    //     if (query !== '') {\n    //         this.getAllMember(dataSourceSettings, query);\n    //     } else {\n    //         return;\n    //     }\n    // }\n    // private getAllMember(dataSourceSettings: IDataOptions, query: string): void {\n    //     let dimProp: string = 'DIMENSION PROPERTIES HIERARCHY_UNIQUE_NAME, CHILDREN_CARDINALITY';\n    //     let mdxQuery: string = 'SELECT (' + query + ')' + dimProp + ' ON 0 FROM [' + dataSourceSettings.cube + ']';\n    //     let xmla: string = this.getSoapMsg(dataSourceSettings, mdxQuery);\n    //     let connectionString: ConnectionInfo = this.getConnectionInfo(dataSourceSettings.url, dataSourceSettings.localeIdentifier);\n    //     /* tslint:disable-next-line:max-line-length */\n    //     this.doAjaxPost('POST', connectionString.url, xmla, this.generateAllMembers.bind(this), \n    // { dataSourceSettings: dataSourceSettings, action: 'fetchAllMembers' });\n    // }\n    /**\n     * @hidden\n     */\n    OlapEngine.prototype.getDrillThroughData = function (pivotValue, maxRows) {\n        var column = this.tupColumnInfo[pivotValue.colOrdinal] &&\n            this.tupColumnInfo[pivotValue.colOrdinal].uNameCollection &&\n            this.tupColumnInfo[pivotValue.colOrdinal].uNameCollection !== '' ?\n            this.tupColumnInfo[pivotValue.colOrdinal].uNameCollection.split('::') : [];\n        var row = this.tupRowInfo[pivotValue.rowOrdinal] &&\n            this.tupRowInfo[pivotValue.rowOrdinal].uNameCollection &&\n            this.tupRowInfo[pivotValue.rowOrdinal].uNameCollection !== '' ?\n            this.tupRowInfo[pivotValue.rowOrdinal].uNameCollection.split('::') : [];\n        var columnQuery = '';\n        var rowQuery = '';\n        for (var i = 0; i < column.length; i++) {\n            columnQuery = (columnQuery.length > 0 ? (columnQuery + ',') : '') + (column[i].split('~~').length > 1 ?\n                column[i].split('~~')[column[i].split('~~').length - 1] : column[i]);\n        }\n        for (var i = 0; i < row.length; i++) {\n            rowQuery = (rowQuery.length > 0 ? (rowQuery + ',') : '') + (row[i].split('~~').length > 1 ?\n                row[i].split('~~')[row[i].split('~~').length - 1] : row[i]);\n        }\n        var drillQuery = 'DRILLTHROUGH MAXROWS ' + maxRows + ' Select(' + (columnQuery.length > 0 ? columnQuery : '') +\n            (columnQuery.length > 0 && rowQuery.length > 0 ? ',' : '') + (rowQuery.length > 0 ? rowQuery : '') + ') on 0 from [' +\n            this.dataSourceSettings.cube + ']';\n        drillQuery = drillQuery.replace(/&/g, '&amp;');\n        var xmla = this.getSoapMsg(this.dataSourceSettings, drillQuery);\n        var connectionString = this.getConnectionInfo(this.dataSourceSettings.url, this.dataSourceSettings.localeIdentifier);\n        this.doAjaxPost('POST', connectionString.url, xmla, this.drillThroughSuccess.bind(this), { dataSourceSettings: this.dataSourceSettings, action: 'drillThrough' });\n    };\n    OlapEngine.prototype.drillThroughSuccess = function (xmlDoc) {\n        var tag = [].slice.call(xmlDoc.querySelectorAll('row'));\n        var gridJSON = '';\n        if (tag.length > 0) {\n            var json = [];\n            var i = 0;\n            while (i < tag.length) {\n                var child = [].slice.call(tag[i].children);\n                var j = 0;\n                while (j < child.length) {\n                    json.push('\"' + child[j].tagName + '\"' + ':' + '\"' + child[j].textContent + '\"');\n                    j++;\n                }\n                i++;\n            }\n            var value = json[0];\n            var k = 0;\n            while (k < json.length) {\n                if (Object.keys(JSON.parse('[{' + json[k] + '}]')[0])[0] === Object.keys(JSON.parse('[{' + value + '}]')[0])[0]) {\n                    gridJSON += gridJSON === '' ? '[{' + json[k] : '}, {' + json[k];\n                    k++;\n                    continue;\n                }\n                gridJSON += ',' + json[k];\n                k++;\n            }\n            gridJSON += '}]';\n        }\n        else {\n            var tag_1 = [].slice.call(xmlDoc.querySelectorAll('faultstring'));\n            var i = 0;\n            while (i < tag_1.length) {\n                gridJSON += tag_1[i].textContent;\n                i++;\n            }\n        }\n        this.gridJSON = gridJSON;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    OlapEngine.prototype.getFilterMembers = function (dataSourceSettings, fieldName, levelCount, isSearchFilter, loadLevelMember) {\n        // let dimProp: string = 'DIMENSION PROPERTIES PARENT_UNIQUE_NAME, HIERARCHY_UNIQUE_NAME, CHILDREN_CARDINALITY, MEMBER_TYPE';\n        var levels = this.fieldList[fieldName].levels;\n        var cLevel = this.fieldList[fieldName].levelCount;\n        var filterQuery;\n        if (loadLevelMember) {\n            filterQuery = 'Descendants({' + levels[cLevel].id + '}, ' +\n                levels[levelCount - 1].id + ', ' + ((levelCount - cLevel) === 1 ? 'SELF)' : 'SELF_AND_BEFORE)');\n        }\n        else {\n            filterQuery = fieldName + ', Descendants({' + levels[0].id + '}, ' + levels[levelCount - 1].id + ', SELF_AND_BEFORE)';\n        }\n        this.fieldList[fieldName].levelCount = levelCount;\n        if (!isSearchFilter) {\n            this.getMembers(dataSourceSettings, fieldName, false, filterQuery, loadLevelMember);\n        }\n        return filterQuery;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    OlapEngine.prototype.getMembers = function (dataSourceSettings, fieldName, isAllFilterData, filterParentQuery, loadLevelMember) {\n        // dimProp = \"dimension properties CHILDREN_CARDINALITY, MEMBER_TYPE\";\n        /* tslint:disable-next-line:max-line-length */\n        var dimProp = 'DIMENSION PROPERTIES PARENT_UNIQUE_NAME, HIERARCHY_UNIQUE_NAME, CHILDREN_CARDINALITY, MEMBER_TYPE, MEMBER_VALUE';\n        var mdxQuery;\n        var hasAllMember = this.fieldList[fieldName].hasAllMember;\n        var hierarchy = (hasAllMember ? fieldName : fieldName + '.LEVELS(0)').replace(/\\&/g, '&amp;');\n        if (!isAllFilterData) {\n            mdxQuery = 'SELECT ({' + (filterParentQuery ?\n                filterParentQuery : (hasAllMember ? hierarchy + ', ' + hierarchy + '.CHILDREN' : hierarchy + '.ALLMEMBERS')) + '})' +\n                dimProp + ' ON 0 FROM [' + dataSourceSettings.cube + ']';\n        }\n        else {\n            mdxQuery = 'SELECT ({' + hierarchy + '.ALLMEMBERS})' + dimProp + ' ON 0 FROM [' + dataSourceSettings.cube + ']';\n        }\n        var xmla = this.getSoapMsg(dataSourceSettings, mdxQuery);\n        var connectionString = this.getConnectionInfo(dataSourceSettings.url, dataSourceSettings.localeIdentifier);\n        if (!loadLevelMember) {\n            this.fieldList[fieldName].filterMembers = [];\n            this.fieldList[fieldName].childMembers = [];\n            this.fieldList[fieldName].searchMembers = [];\n            // this.fieldList[fieldName].isHierarchy = true;\n            this.fieldList[fieldName].members = {};\n            this.fieldList[fieldName].currrentMembers = {};\n            /* tslint:disable-next-line:max-line-length */\n        }\n        this.doAjaxPost('POST', connectionString.url, xmla, this.generateMembers.bind(this), { dataSourceSettings: dataSourceSettings, fieldName: fieldName, loadLevelMembers: loadLevelMember, action: 'fetchMembers' });\n    };\n    OlapEngine.prototype.getChildMembers = function (dataSourceSettings, memberUQName, fieldName) {\n        // dimProp = \"dimension properties CHILDREN_CARDINALITY, MEMBER_TYPE\";\n        /* tslint:disable-next-line:max-line-length */\n        var dimProp = 'DIMENSION PROPERTIES PARENT_UNIQUE_NAME, HIERARCHY_UNIQUE_NAME, CHILDREN_CARDINALITY, MEMBER_TYPE, MEMBER_VALUE';\n        /* tslint:disable-next-line:max-line-length */\n        // var mdxQuery = 'SELECT SUBSET({' + memberUQName + '.CHILDREN}, 0, 5000)' + dimProp + ' ON 0 FROM [' + dataSourceSettings.cube + ']';\n        /* tslint:disable-next-line:max-line-length */\n        var mdxQuery = 'SELECT ({' + memberUQName.replace(/\\&/g, '&amp;') + '.CHILDREN})' + dimProp + ' ON 0 FROM [' + dataSourceSettings.cube + ']';\n        var xmla = this.getSoapMsg(dataSourceSettings, mdxQuery);\n        var connectionString = this.getConnectionInfo(dataSourceSettings.url, dataSourceSettings.localeIdentifier);\n        /* tslint:disable-next-line:max-line-length */\n        this.doAjaxPost('POST', connectionString.url, xmla, this.generateMembers.bind(this), { dataSourceSettings: dataSourceSettings, fieldName: fieldName, action: 'fetchChildMembers' });\n    };\n    OlapEngine.prototype.getCalcChildMembers = function (dataSourceSettings, memberUQName) {\n        this.calcChildMembers = [];\n        /* tslint:disable-next-line:max-line-length */\n        var dimProp = 'DIMENSION PROPERTIES PARENT_UNIQUE_NAME, HIERARCHY_UNIQUE_NAME, CHILDREN_CARDINALITY, MEMBER_TYPE, MEMBER_VALUE';\n        var mdxQuery = 'SELECT ({' + memberUQName.replace(/\\&/g, '&amp;') + '.MEMBERS})' +\n            dimProp + ' ON 0 FROM [' + dataSourceSettings.cube + ']';\n        var connectionString = this.getConnectionInfo(dataSourceSettings.url, dataSourceSettings.localeIdentifier);\n        var xmla = this.getSoapMsg(dataSourceSettings, mdxQuery);\n        /* tslint:disable-next-line:max-line-length */\n        this.doAjaxPost('POST', connectionString.url, xmla, this.generateMembers.bind(this), { dataSourceSettings: dataSourceSettings, action: 'fetchCalcChildMembers' });\n    };\n    /* tslint:disable-next-line:max-line-length */\n    OlapEngine.prototype.getSearchMembers = function (dataSourceSettings, fieldName, searchString, maxNodeLimit, isAllFilterData, levelCount) {\n        this.fieldList[fieldName].searchMembers = [];\n        this.fieldList[fieldName].currrentMembers = {};\n        if (searchString !== '') {\n            // dimProp = \"dimension properties CHILDREN_CARDINALITY, MEMBER_TYPE\";\n            /* tslint:disable-next-line:max-line-length */\n            var dimProp = 'DIMENSION PROPERTIES PARENT_UNIQUE_NAME, HIERARCHY_UNIQUE_NAME, CHILDREN_CARDINALITY, MEMBER_TYPE, MEMBER_VALUE';\n            var hierarchy = fieldName.replace(/\\&/g, '&amp;');\n            var mdxQuery = 'WITH SET [SearchMembersSet] AS &#39;FILTER(' + (isAllFilterData ? hierarchy + '.ALLMEMBERS, ' :\n                '{' + (levelCount > 1 ? this.getFilterMembers(dataSourceSettings, fieldName, levelCount, true) :\n                    hierarchy + ', ' + hierarchy + '.CHILDREN') + '},') +\n                '(INSTR(1, ' + hierarchy + '.CurrentMember.member_caption, \"' + searchString + '\") > 0))&#39;' +\n                'SET [SearchParentsSet] AS &#39;GENERATE([SearchMembersSet], ASCENDANTS([SearchMembersSet].Current))&#39;' +\n                'SET [SearchSet] AS &#39;HIERARCHIZE(DISTINCT({[SearchMembersSet], [SearchParentsSet]}))&#39;' +\n                'SELECT SUBSET([SearchSet], 0, ' + maxNodeLimit + ')' + dimProp + ' ON 0 FROM [' + dataSourceSettings.cube + ']';\n            var xmla = this.getSoapMsg(dataSourceSettings, mdxQuery);\n            var connectionString = this.getConnectionInfo(dataSourceSettings.url, dataSourceSettings.localeIdentifier);\n            /* tslint:disable-next-line:max-line-length */\n            this.doAjaxPost('POST', connectionString.url, xmla, this.generateMembers.bind(this), { dataSourceSettings: dataSourceSettings, fieldName: fieldName, action: 'fetchSearchMembers' });\n        }\n        else {\n            return;\n        }\n    };\n    OlapEngine.prototype.generateMembers = function (xmlDoc, request, customArgs) {\n        var fields = [].slice.call(xmlDoc.querySelectorAll('Axis[name=\"Axis0\"] Tuple'));\n        var fieldName = customArgs.fieldName;\n        var allMember;\n        var filterMembers = {};\n        for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n            var field = fields_1[_i];\n            // let hierarchyUqName: string = fields[0].querySelector('Member HIERARCHY_UNIQUE_NAME').textContent;\n            var member = field.querySelector('Member');\n            var memberType = member.querySelector('MEMBER_TYPE').textContent;\n            var memberUqName = member.querySelector('UName').textContent;\n            var caption = member.querySelector('Caption').textContent;\n            var nodeAttr = { 'data-fieldName': fieldName };\n            /* tslint:disable-next-line:max-line-length */\n            var parentUqName = member.querySelector('PARENT_UNIQUE_NAME') ? member.querySelector('PARENT_UNIQUE_NAME').textContent : '';\n            if (parentUqName === '' && memberType === '1') {\n                filterMembers = {\n                    /* tslint:disable-next-line:max-line-length */\n                    hasChildren: (field.querySelector('CHILDREN_CARDINALITY') ? (field.querySelector('CHILDREN_CARDINALITY').textContent !== '0') ? true : false : false),\n                    isSelected: false,\n                    id: memberUqName,\n                    tag: memberUqName,\n                    name: caption,\n                    caption: caption,\n                    htmlAttributes: nodeAttr\n                };\n                if (customArgs.action === 'fetchMembers' || customArgs.action === 'fetchChildMembers') {\n                    /* tslint:disable-next-line:max-line-length */\n                    this.fieldList[fieldName].members[memberUqName] = { name: memberUqName, caption: caption, parent: undefined, isNodeExpand: false, isSelected: false };\n                    this.fieldList[fieldName].filterMembers.push(filterMembers);\n                    this.fieldList[fieldName].childMembers.push(filterMembers);\n                }\n                else if (customArgs.action === 'fetchSearchMembers') {\n                    /* tslint:disable-next-line:max-line-length */\n                    this.fieldList[fieldName].currrentMembers[memberUqName] = { name: memberUqName, caption: caption, parent: undefined, isNodeExpand: false, isSelected: false };\n                    this.fieldList[fieldName].searchMembers.push(filterMembers);\n                    filterMembers.expanded = true;\n                }\n                else {\n                    this.calcChildMembers.push(filterMembers);\n                }\n            }\n            else if (parentUqName !== '' && memberType === '1') {\n                if (parentUqName === allMember && memberType === '1') {\n                    filterMembers = {\n                        /* tslint:disable-next-line:max-line-length */\n                        hasChildren: (field.querySelector('CHILDREN_CARDINALITY') ? (field.querySelector('CHILDREN_CARDINALITY').textContent !== '0') ? true : false : false),\n                        id: memberUqName,\n                        name: caption,\n                        isSelected: false,\n                        caption: caption,\n                        htmlAttributes: nodeAttr,\n                        tag: memberUqName\n                    };\n                    if (customArgs.action === 'fetchMembers' || customArgs.action === 'fetchChildMembers') {\n                        this.fieldList[fieldName].filterMembers.push(filterMembers);\n                        this.fieldList[fieldName].childMembers.push(filterMembers);\n                        /* tslint:disable-next-line:max-line-length */\n                        this.fieldList[fieldName].members[memberUqName] = { name: memberUqName, caption: caption, parent: undefined, isNodeExpand: false, isSelected: false };\n                    }\n                    else if (customArgs.action === 'fetchSearchMembers') {\n                        filterMembers.expanded = true;\n                        this.fieldList[fieldName].searchMembers.push(filterMembers);\n                        /* tslint:disable-next-line:max-line-length */\n                        this.fieldList[fieldName].currrentMembers[memberUqName] = { name: memberUqName, caption: caption, parent: undefined, isNodeExpand: false, isSelected: false };\n                    }\n                    else {\n                        this.calcChildMembers.push(filterMembers);\n                    }\n                }\n                else {\n                    if (customArgs.action === 'fetchMembers' && this.fieldList[fieldName].members[memberUqName]) {\n                        continue;\n                    }\n                    /* tslint:disable-next-line:max-line-length */\n                    var nodeSelect = (customArgs.loadLevelMembers ? this.fieldList[fieldName].members[parentUqName].isSelected : false);\n                    filterMembers = {\n                        /* tslint:disable-next-line:max-line-length */\n                        hasChildren: (field.querySelector('CHILDREN_CARDINALITY') ? (field.querySelector('CHILDREN_CARDINALITY').textContent !== '0') ? true : false : false),\n                        htmlAttributes: nodeAttr,\n                        isSelected: false,\n                        id: memberUqName,\n                        pid: parentUqName,\n                        name: caption,\n                        caption: caption,\n                        tag: memberUqName\n                    };\n                    if (customArgs.action === 'fetchMembers' || customArgs.action === 'fetchChildMembers') {\n                        this.fieldList[fieldName].isHierarchy = false;\n                        this.fieldList[fieldName].filterMembers.push(filterMembers);\n                        this.fieldList[fieldName].childMembers.push(filterMembers);\n                        /* tslint:disable-next-line:max-line-length */\n                        this.fieldList[fieldName].members[memberUqName] = { name: memberUqName, caption: caption, parent: parentUqName, isNodeExpand: false, isSelected: nodeSelect };\n                    }\n                    else if (customArgs.action === 'fetchSearchMembers') {\n                        this.fieldList[fieldName].searchMembers.push(filterMembers);\n                        filterMembers.expanded = true;\n                        /* tslint:disable-next-line:max-line-length */\n                        this.fieldList[fieldName].currrentMembers[memberUqName] = { name: memberUqName, caption: caption, parent: parentUqName, isNodeExpand: false, isSelected: false };\n                    }\n                    else {\n                        this.calcChildMembers.push(filterMembers);\n                    }\n                }\n            }\n            else if (memberType === '2') {\n                allMember = memberUqName;\n            }\n        }\n    };\n    // private generateAllMembers(xmlDoc: Document, request: Ajax, customArgs: FieldData): void {\n    //     let members: HTMLElement[] = [].slice.call(xmlDoc.querySelectorAll('Axis[name=\"Axis0\"] Member'));\n    //     for (let member of members) {\n    //         let caption: string = member.querySelector('Caption').textContent;\n    //         let fieldName: string = member.querySelector('HIERARCHY_UNIQUE_NAME').textContent;\n    //         this.fieldList[fieldName].allMember = caption;\n    //     }\n    // }\n    OlapEngine.prototype.getFieldListItems = function (xmlDoc, request, customArgs) {\n        var fieldDate = {};\n        var hierarchyElements = [];\n        var fields = [].slice.call(xmlDoc.querySelectorAll('row'));\n        for (var _i = 0, fields_2 = fields; _i < fields_2.length; _i++) {\n            var field = fields_2[_i];\n            var isAllMemberAvail = [].slice.call(field.querySelectorAll('ALL_MEMBER')).length > 0;\n            hierarchyElements.push({\n                pid: field.querySelector('DIMENSION_UNIQUE_NAME').textContent,\n                id: field.querySelector('HIERARCHY_UNIQUE_NAME').textContent,\n                name: field.querySelector('HIERARCHY_CAPTION').textContent,\n                caption: field.querySelector('HIERARCHY_CAPTION').textContent,\n                tag: field.querySelector('HIERARCHY_UNIQUE_NAME').textContent,\n                hasAllMember: isAllMemberAvail,\n                allMember: (isAllMemberAvail ? field.querySelectorAll('ALL_MEMBER')[0].textContent : undefined),\n                // aggregateType: this.getAggregateType(field.querySelector('HIERARCHY_UNIQUE_NAME').textContent),\n                type: 'string'\n            });\n        }\n        fieldDate = {\n            hierarchy: hierarchyElements,\n            hierarchySuccess: xmlDoc,\n            measures: []\n        };\n        this.fieldListObj = fieldDate;\n        var args = {\n            catalog: customArgs.dataSourceSettings.catalog,\n            cube: customArgs.dataSourceSettings.cube,\n            url: customArgs.dataSourceSettings.url,\n            LCID: customArgs.dataSourceSettings.localeIdentifier.toString(),\n            request: 'MDSCHEMA_DIMENSIONS'\n        };\n        this.getTreeData(args, this.loadDimensionElements.bind(this), customArgs);\n    };\n    OlapEngine.prototype.loadCalculatedMemberElements = function (calcMembers) {\n        if (calcMembers.length > 0) {\n            var fieldListElements = this.fieldListData;\n            // let calcElements: IOlapField[] = [];\n            var calcObj = {\n                hasChildren: true,\n                isSelected: false,\n                id: '[Calculated Members].[_0]',\n                name: '[Calculated Members].[_0]',\n                caption: 'Calculated Members',\n                spriteCssClass: 'e-calcMemberGroupCDB' + ' ' + cls.ICON,\n                tag: '[Calculated Members].[_0]',\n                //aggregateType: this.getAggregateType(dimensionName),\n                type: 'string'\n            };\n            if (fieldListElements.length > 0 && fieldListElements[0].id.toLowerCase() === '[measures]') {\n                fieldListElements.splice(0, 0, calcObj);\n            }\n            for (var _i = 0, calcMembers_1 = calcMembers; _i < calcMembers_1.length; _i++) {\n                var field = calcMembers_1[_i];\n                if (!this.fieldList[field.name]) {\n                    var expression = field.formula;\n                    var prefixName = (expression.toLowerCase().indexOf('measure') > -1 ? '[Measures].' :\n                        field.hierarchyUniqueName + '.');\n                    var uniqueName = prefixName + '[' + field.name + ']';\n                    var caption = (this.dataFields[field.name] && this.dataFields[field.name].caption ?\n                        this.dataFields[field.name].caption : field.name);\n                    var formatString = field.formatString;\n                    var calcField = {\n                        hasChildren: false,\n                        isSelected: false,\n                        id: field.name,\n                        pid: '[Calculated Members].[_0]',\n                        name: field.name,\n                        caption: caption,\n                        spriteCssClass: 'e-calc-member' + ' ' + (expression.toLowerCase().indexOf('measure') > -1 ?\n                            'e-calc-measure-icon' : 'e-calc-dimension-icon') + ' ' + cls.ICON,\n                        tag: uniqueName,\n                        formula: expression,\n                        formatString: formatString,\n                        aggregateType: undefined,\n                        type: 'CalculatedField',\n                        filter: [],\n                        dateMember: [],\n                        sort: 'Ascending',\n                        actualFilter: [],\n                        filterMembers: [],\n                        childMembers: [],\n                        searchMembers: [],\n                        members: {},\n                        currrentMembers: {},\n                        isHierarchy: true,\n                        isExcelFilter: false,\n                        isCalculatedField: true,\n                        fieldType: (expression.toLowerCase().indexOf('measure') > -1 ? 'Measure' : 'Dimension'),\n                        parentHierarchy: (expression.toLowerCase().indexOf('measure') > -1 ? undefined : field.hierarchyUniqueName),\n                    };\n                    fieldListElements.push(calcField);\n                    this.fieldList[calcField.id] = calcField;\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    OlapEngine.prototype.loadDimensionElements = function (xmlDoc, request, customArgs) {\n        var hierarchyElements = [];\n        var fields = [].slice.call(xmlDoc.querySelectorAll('row'));\n        var measure = {};\n        for (var _i = 0, fields_3 = fields; _i < fields_3.length; _i++) {\n            var field = fields_3[_i];\n            var dimensionName = field.querySelector('DIMENSION_UNIQUE_NAME').textContent;\n            var dimensionCaption = field.querySelector('DIMENSION_CAPTION').textContent;\n            if (dimensionName.toLowerCase().indexOf('[measure') >= 0) {\n                measure = {\n                    hasChildren: true,\n                    isSelected: false,\n                    id: dimensionName,\n                    name: dimensionName,\n                    caption: dimensionCaption,\n                    /* tslint:disable-next-line:max-line-length */\n                    spriteCssClass: dimensionName.toLowerCase() === '[measures]' ? 'e-measureGroupCDB-icon' + ' ' + cls.ICON : 'e-dimensionCDB-icon' + ' ' + cls.ICON,\n                    tag: dimensionName,\n                    // aggregateType: this.getAggregateType(dimensionName),\n                    type: 'string'\n                };\n            }\n            else if (isNullOrUndefined(fields[0].querySelector('HIERARCHY_CAPTION'))) {\n                hierarchyElements.push({\n                    hasChildren: true,\n                    isSelected: false,\n                    id: (this.isMondrian ? dimensionName + '~#^Dim' : dimensionName),\n                    name: dimensionName,\n                    caption: dimensionCaption,\n                    spriteCssClass: 'e-dimensionCDB-icon' + ' ' + cls.ICON,\n                    tag: dimensionName,\n                    defaultHierarchy: field.querySelector('DEFAULT_HIERARCHY').textContent,\n                    // aggregateType: this.getAggregateType(dimensionName),\n                    type: 'string'\n                });\n            }\n        }\n        hierarchyElements.splice(0, 0, measure);\n        this.fieldListData = hierarchyElements;\n        // customArgs.hierarchy = this.fieldListData;\n        // customArgs.hierarchySuccess = this.fieldListObj.hierarchySuccess;\n        // this.loadHierarchyElements(customArgs);\n        var args = {\n            catalog: customArgs.dataSourceSettings.catalog,\n            cube: customArgs.dataSourceSettings.cube,\n            url: customArgs.dataSourceSettings.url,\n            LCID: customArgs.dataSourceSettings.localeIdentifier.toString(),\n            request: 'MDSCHEMA_SETS'\n        };\n        this.getTreeData(args, this.loadNamedSetElements.bind(this), customArgs);\n    };\n    OlapEngine.prototype.loadNamedSetElements = function (xmlDoc, request, customArgs) {\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns, this.filters);\n        var dimensionElements = this.fieldListData;\n        var reportElement = [];\n        for (var _i = 0, dataFields_3 = dataFields; _i < dataFields_3.length; _i++) {\n            var field = dataFields_3[_i];\n            reportElement.push(field.name);\n        }\n        var measureGroupItems = [];\n        var fields = [].slice.call(xmlDoc.querySelectorAll('row'));\n        for (var _a = 0, fields_4 = fields; _a < fields_4.length; _a++) {\n            var field = fields_4[_a];\n            if (!(measureGroupItems.indexOf(field.querySelector('DIMENSIONS').textContent.split('.')[0]) >= 0)) {\n                dimensionElements.push({\n                    hasChildren: true,\n                    isSelected: false,\n                    pid: field.querySelector('DIMENSIONS').textContent.split('.')[0],\n                    /* tslint:disable-next-line:max-line-length */\n                    id: field.querySelector('SET_DISPLAY_FOLDER').textContent + '_' + field.querySelector('DIMENSIONS').textContent.split('.')[0],\n                    name: field.querySelector('SET_DISPLAY_FOLDER').textContent,\n                    spriteCssClass: 'e-folderCDB-icon' + ' ' + cls.ICON + ' ' + 'namedSets',\n                    caption: field.querySelector('SET_DISPLAY_FOLDER').textContent,\n                    /* tslint:disable-next-line:max-line-length */\n                    // aggregateType: this.getAggregateType(field.querySelector('SET_DISPLAY_FOLDER').textContent + '_' + field.querySelector('DIMENSIONS').textContent.split('.')[0]),\n                    type: 'string'\n                });\n                measureGroupItems.push(field.querySelector('DIMENSIONS').textContent.split('.')[0]);\n            }\n            var id = '[' + field.querySelector('SET_NAME').textContent.trim() + ']';\n            var fieldObj = {\n                hasChildren: true,\n                isNamedSets: true,\n                isSelected: (reportElement.indexOf('[' + field.querySelector('SET_NAME').textContent + ']') >= 0),\n                /* tslint:disable-next-line:max-line-length */\n                pid: field.querySelector('SET_DISPLAY_FOLDER').textContent + '_' + field.querySelector('DIMENSIONS').textContent.split('.')[0],\n                id: id,\n                name: field.querySelector('SET_CAPTION').textContent,\n                caption: field.querySelector('SET_CAPTION').textContent,\n                spriteCssClass: 'e-namedSetCDB-icon' + ' ' + cls.ICON,\n                tag: field.querySelector('EXPRESSION').textContent,\n                // aggregateType: this.getAggregateType(id),\n                type: 'string',\n                filter: [],\n                dateMember: [],\n                // sort: 'Ascending',\n                actualFilter: [],\n                filterMembers: [],\n                childMembers: [],\n                searchMembers: [],\n                members: {},\n                currrentMembers: {},\n                isHierarchy: true,\n                isExcelFilter: false\n            };\n            dimensionElements.push(fieldObj);\n            this.fieldList[id] = fieldObj;\n        }\n        // let args: ConnectionInfo = {\n        //     catalog: customArgs.dataSourceSettings.catalog,\n        //     cube: customArgs.dataSourceSettings.cube,\n        //     url: customArgs.dataSourceSettings.url,\n        //     LCID: customArgs.dataSourceSettings.localeIdentifier.toString(),\n        //     request: 'MDSCHEMA_SETS'\n        // };\n        // this.getTreeData(args, this.loadHierarchyElements.bind(this), customArgs);\n        customArgs.hierarchy = this.fieldListData;\n        customArgs.hierarchySuccess = this.fieldListObj.hierarchySuccess;\n        this.loadHierarchyElements(customArgs);\n    };\n    OlapEngine.prototype.loadHierarchyElements = function (customArgs) {\n        var data = customArgs.hierarchySuccess;\n        var dimensionElements = customArgs.hierarchy;\n        var dataFields = extend([], this.rows, null, true);\n        dataFields = dataFields.concat(this.columns, this.filters);\n        var reportElement = [];\n        for (var _i = 0, dataFields_4 = dataFields; _i < dataFields_4.length; _i++) {\n            var field = dataFields_4[_i];\n            reportElement.push(field.name);\n        }\n        var fields = [].slice.call(data.querySelectorAll('row'));\n        for (var _a = 0, fields_5 = fields; _a < fields_5.length; _a++) {\n            var field = fields_5[_a];\n            var dimensionName = field.querySelector('DIMENSION_UNIQUE_NAME').textContent;\n            var hierarchyName = field.querySelector('HIERARCHY_UNIQUE_NAME').textContent;\n            var isAllMemberAvail = [].slice.call(field.querySelectorAll('ALL_MEMBER')).length > 0;\n            var allMember = void 0;\n            if (isAllMemberAvail) {\n                var stringCollection = field.querySelectorAll('ALL_MEMBER')[0].textContent.replace(/[\\[\\]\\&']+/g, '').split('.');\n                allMember = stringCollection[stringCollection.length - 1].trim();\n            }\n            else {\n                allMember = undefined;\n            }\n            /* tslint:disable-next-line:max-line-length */\n            var hierarchyFolderName = ((field.querySelector('HIERARCHY_DISPLAY_FOLDER')) ? (field.querySelector('HIERARCHY_DISPLAY_FOLDER').textContent) : '');\n            var curElement = [];\n            for (var _b = 0, dimensionElements_1 = dimensionElements; _b < dimensionElements_1.length; _b++) {\n                var item = dimensionElements_1[_b];\n                if (item.tag === dimensionName) {\n                    curElement.push(item);\n                }\n            }\n            if (curElement.length > 0 && (dimensionName !== hierarchyName || this.isMondrian)) {\n                var parentID = dimensionName + (this.isMondrian ? '~#^Dim' : '');\n                if (hierarchyFolderName !== '') {\n                    var folderName = dimensionName + (this.isMondrian ? '~#^Dim' : '') + '_' + hierarchyFolderName;\n                    var curParentElement = [];\n                    for (var _c = 0, dimensionElements_2 = dimensionElements; _c < dimensionElements_2.length; _c++) {\n                        var item = dimensionElements_2[_c];\n                        if (item.tag === folderName && item.pid === parentID) {\n                            curParentElement.push(item);\n                        }\n                    }\n                    if (curParentElement.length === 0) {\n                        var fieldObj_1 = {\n                            hasChildren: true,\n                            isSelected: false,\n                            pid: dimensionName + (this.isMondrian ? '~#^Dim' : ''),\n                            id: folderName,\n                            name: hierarchyFolderName,\n                            spriteCssClass: 'e-folderCDB-icon' + ' ' + cls.ICON,\n                            tag: folderName,\n                            caption: hierarchyFolderName,\n                            // aggregateType: this.getAggregateType(hierarchyFolderName),\n                            type: 'string'\n                        };\n                        dimensionElements.push(fieldObj_1);\n                    }\n                    parentID = folderName;\n                }\n                var fieldObj = {\n                    /* tslint:disable-next-line:max-line-length */\n                    hasChildren: (field.querySelector('HIERARCHY_ORIGIN') ? ((field.querySelector('HIERARCHY_ORIGIN').textContent !== '2') && field.querySelector('HIERARCHY_ORIGIN').textContent !== '6') ? true : false : true),\n                    // hasChildren: true,\n                    isSelected: (reportElement.indexOf(hierarchyName) >= 0),\n                    pid: parentID,\n                    id: hierarchyName,\n                    name: field.querySelector('HIERARCHY_CAPTION').textContent,\n                    /* tslint:disable-next-line:max-line-length */\n                    spriteCssClass: (field.querySelector('HIERARCHY_ORIGIN') ? ((field.querySelector('HIERARCHY_ORIGIN').textContent !== '2') && field.querySelector('HIERARCHY_ORIGIN').textContent !== '6') ? 'e-hierarchyCDB-icon' : 'e-attributeCDB-icon' : 'e-hierarchyCDB-icon') + ' ' + cls.ICON,\n                    hasAllMember: isAllMemberAvail,\n                    allMember: allMember,\n                    tag: hierarchyName,\n                    caption: field.querySelector('HIERARCHY_CAPTION').textContent,\n                    // aggregateType: this.getAggregateType(hierarchyName),\n                    type: 'string',\n                    filter: [],\n                    dateMember: [],\n                    sort: (this.enableSort ? this.sortObject[hierarchyName] ? this.sortObject[hierarchyName] : 'Ascending' : 'None'),\n                    actualFilter: [],\n                    filterMembers: [],\n                    childMembers: [],\n                    searchMembers: [],\n                    members: {},\n                    currrentMembers: {},\n                    levels: [],\n                    levelCount: 1,\n                    /* tslint:disable-next-line:max-line-length */\n                    isHierarchy: (field.querySelector('HIERARCHY_ORIGIN') ? ((field.querySelector('HIERARCHY_ORIGIN').textContent !== '2') && field.querySelector('HIERARCHY_ORIGIN').textContent !== '6') ? false : true : false),\n                    isExcelFilter: false\n                };\n                dimensionElements.push(fieldObj);\n                this.fieldList[hierarchyName] = fieldObj;\n            }\n        }\n        var args = {\n            catalog: customArgs.dataSourceSettings.catalog,\n            cube: customArgs.dataSourceSettings.cube,\n            url: customArgs.dataSourceSettings.url,\n            LCID: customArgs.dataSourceSettings.localeIdentifier.toString(),\n            request: 'MDSCHEMA_LEVELS'\n        };\n        this.getTreeData(args, this.loadLevelElements.bind(this), customArgs);\n    };\n    OlapEngine.prototype.loadLevelElements = function (xmlDoc, request, customArgs) {\n        var newDataSource = [];\n        var dimensionElements = this.fieldListData;\n        newDataSource = [];\n        var fields = [].slice.call(xmlDoc.querySelectorAll('row'));\n        for (var _i = 0, fields_6 = fields; _i < fields_6.length; _i++) {\n            var field = fields_6[_i];\n            /* tslint:disable-next-line:max-line-length */\n            if (parseInt(field.querySelector('LEVEL_TYPE').textContent, 10) !== 1 && field.querySelector('HIERARCHY_UNIQUE_NAME').textContent.toLowerCase() !== '[measures]') {\n                var dimensionName = field.querySelector('HIERARCHY_UNIQUE_NAME').textContent;\n                var levelName = field.querySelector('LEVEL_UNIQUE_NAME').textContent;\n                var levelCaption = field.querySelector('LEVEL_CAPTION').textContent;\n                var levelObj = {\n                    hasChildren: false,\n                    isChecked: false,\n                    isSelected: this.fieldList[dimensionName].isSelected,\n                    pid: dimensionName,\n                    id: levelName,\n                    name: levelCaption,\n                    tag: levelName,\n                    /* tslint:disable-next-line:max-line-length */\n                    spriteCssClass: 'e-level-members e-hierarchy-level-' + parseInt(field.querySelector('LEVEL_NUMBER').textContent, 10) + '-icon' + ' ' + cls.ICON,\n                    caption: levelCaption,\n                    // aggregateType: this.getAggregateType(levelName),\n                    type: 'string'\n                };\n                newDataSource.push(levelObj);\n                if (this.fieldList[dimensionName] && this.fieldList[dimensionName].spriteCssClass &&\n                    this.fieldList[dimensionName].spriteCssClass.indexOf('e-attributeCDB-icon') === -1) {\n                    this.fieldList[dimensionName].levels.push(levelObj);\n                    this.fieldList[dimensionName].isHierarchy = false;\n                }\n                else {\n                    this.fieldList[dimensionName].isHierarchy = true;\n                }\n            }\n        }\n        this.fieldListData = dimensionElements = dimensionElements.concat(newDataSource);\n        var args = {\n            catalog: customArgs.dataSourceSettings.catalog,\n            cube: customArgs.dataSourceSettings.cube,\n            url: customArgs.dataSourceSettings.url,\n            LCID: customArgs.dataSourceSettings.localeIdentifier.toString(),\n            request: 'MDSCHEMA_MEASURES'\n        };\n        this.getTreeData(args, this.loadMeasureElements.bind(this), customArgs);\n    };\n    OlapEngine.prototype.loadMeasureElements = function (xmlDoc, request, customArgs) {\n        var dimensionElements = this.fieldListData;\n        var measureGroupItems = [];\n        var caption;\n        var dataFields = extend([], this.values, null, true);\n        var reportElement = [];\n        for (var _i = 0, dataFields_5 = dataFields; _i < dataFields_5.length; _i++) {\n            var field = dataFields_5[_i];\n            reportElement.push(field.name);\n        }\n        if (this.locale !== 'en-US') {\n            var args = {\n                catalog: customArgs.dataSourceSettings.catalog,\n                cube: customArgs.dataSourceSettings.cube,\n                url: customArgs.dataSourceSettings.url,\n                LCID: customArgs.dataSourceSettings.localeIdentifier.toString(),\n                request: 'MDSCHEMA_MEASUREGROUPS'\n            };\n            this.getTreeData(args, this.loadMeasureGroups.bind(this), customArgs);\n        }\n        var fields = [].slice.call(xmlDoc.querySelectorAll('row'));\n        for (var _a = 0, fields_7 = fields; _a < fields_7.length; _a++) {\n            var field = fields_7[_a];\n            /* tslint:disable-next-line:max-line-length */\n            var measureGRPName = isNullOrUndefined(field.querySelector('MEASUREGROUP_NAME')) ? '' : field.querySelector('MEASUREGROUP_NAME').textContent;\n            var measureName = field.querySelector('MEASURE_UNIQUE_NAME').textContent;\n            var formatString = field.querySelector('DEFAULT_FORMAT_STRING') ?\n                field.querySelector('DEFAULT_FORMAT_STRING').textContent : '#,#';\n            var aggregateType = field.querySelector('MEASURE_AGGREGATOR') ?\n                field.querySelector('MEASURE_AGGREGATOR').textContent : '1';\n            if (!(measureGroupItems.indexOf(measureGRPName) >= 0)) {\n                if (this.locale !== 'en-US') {\n                    var measureInfo = [];\n                    for (var _b = 0, _c = this.fieldListObj.measuresGroups; _b < _c.length; _b++) {\n                        var item = _c[_b];\n                        if (item.querySelector('MEASUREGROUP_NAME').textContent === measureGRPName) {\n                            measureInfo.push(item);\n                        }\n                    }\n                    caption = measureInfo.length > 0 ? measureInfo[0].querySelector('MEASUREGROUP_CAPTION').textContent : measureGRPName;\n                }\n                else {\n                    caption = measureGRPName;\n                }\n                if (measureGRPName !== '') {\n                    dimensionElements.push({\n                        hasChildren: true,\n                        isChecked: false,\n                        isSelected: false,\n                        pid: '[Measures]',\n                        id: measureGRPName,\n                        name: caption,\n                        spriteCssClass: 'e-measureCDB e-folderCDB-icon' + ' ' + cls.ICON,\n                        tag: measureGRPName,\n                        caption: caption,\n                        aggregateType: this.getAggregateType(measureGRPName, aggregateType),\n                        type: 'string'\n                    });\n                    measureGroupItems.push(measureGRPName);\n                }\n            }\n            var fieldObj = {\n                hasChildren: false,\n                isSelected: (reportElement.indexOf(measureName) >= 0),\n                pid: measureGRPName === '' ? '[Measures]' : measureGRPName,\n                id: measureName,\n                name: field.querySelector('MEASURE_CAPTION').textContent,\n                spriteCssClass: 'e-measure-icon' + ' ' + cls.ICON,\n                tag: measureName,\n                caption: field.querySelector('MEASURE_CAPTION').textContent,\n                aggregateType: this.getAggregateType(measureName, aggregateType),\n                type: 'number',\n                filter: [],\n                // sort: 'Ascending',\n                actualFilter: [],\n                filterMembers: [],\n                childMembers: [],\n                searchMembers: [],\n                members: {},\n                currrentMembers: {},\n                formatString: formatString\n            };\n            dimensionElements.push(fieldObj);\n            this.fieldList[measureName] = fieldObj;\n            if ((reportElement.indexOf(measureName) >= 0)) {\n                reportElement.splice(reportElement.indexOf(measureName), 1);\n            }\n        }\n        this.measureReportItems = reportElement;\n        // let args: ConnectionInfo = {\n        //     catalog: customArgs.dataSourceSettings.catalog,\n        //     cube: customArgs.dataSourceSettings.cube,\n        //     url: customArgs.dataSourceSettings.url,\n        //     LCID: customArgs.dataSourceSettings.localeIdentifier.toString(),\n        //     request: 'MDSCHEMA_KPIS'\n        // };\n        // customArgs.reportElement = this.measureReportItems;\n        // this.getTreeData(args, this.loadKPIElements.bind(this), customArgs);\n    };\n    OlapEngine.prototype.loadMeasureGroups = function (xmlDoc, request, customArgs) {\n        if (isNullOrUndefined(this.fieldListObj)) {\n            this.fieldListObj = {};\n        }\n        this.fieldListObj.measuresGroups = [].slice.call(xmlDoc.querySelectorAll('row'));\n    };\n    // private loadKPIElements(xmlDoc: Document, request: Ajax, customArgs: FieldData): void {\n    //     let dimensionElements: IOlapField[] = this.fieldListData;\n    //     let parser = new DOMParser();\n    //     let measureGroupItems: string[] = [];\n    //     let fields: HTMLElement[] = [].slice.call(xmlDoc.querySelectorAll('row'));\n    //     dimensionElements.splice(1, 0, {\n    //         hasChildren: true,\n    //         isChecked: false,\n    //         id: 'folderStruct',\n    //         name: 'KPI',\n    //         spriteCssClass: 'kpiCDB e-kpiCDB-icon' + ' ' +  cls.ICON,\n    //         tag: '',\n    //         caption: 'KPI',\n    //         aggregateType: this.getAggregateType('folderStruct'),\n    //         type: 'string'\n    //     });\n    //     for (let field of fields) {\n    //         let kpiName: string = field.querySelector('KPI_CAPTION').textContent;\n    //         let kpiGoal: string = field.querySelector('KPI_GOAL').textContent;\n    //         let kpiStatus: string = field.querySelector('KPI_STATUS').textContent;\n    //         let kpiTrend: string = field.querySelector('KPI_TREND').textContent;\n    //         let kpiValue: string = field.querySelector('KPI_VALUE').textContent;\n    //         if (!(measureGroupItems.indexOf(field.querySelector('KPI_NAME').textContent) >= 0)) {\n    //             dimensionElements.push({\n    //                 hasChildren: true,\n    //                 isChecked: false,\n    //                 pid: 'folderStruct',\n    //                 id: kpiName,\n    //                 name: kpiName,\n    //                 spriteCssClass: 'e-folderCDB-icon' + ' ' +  cls.ICON,\n    //                 tag: kpiName,\n    //                 caption: kpiName,\n    //                 aggregateType: this.getAggregateType(kpiName),\n    //                 type: 'string'\n    //             });\n    //             measureGroupItems.push(kpiName);\n    //         }\n    //         let kpiCollection: { [key: string]: string } = {\n    //             'kpiGoal': kpiGoal,\n    //             'kpiStatus': kpiStatus,\n    //             'kpiTrend': kpiTrend,\n    //             'kpiValue': kpiValue\n    //         };\n    //         let i: number = 0;\n    //         for (let kpi of Object.keys(kpiCollection)) {\n    //             let id: string = kpiCollection[kpi];\n    //             let name: string = (kpi).split('kpi')[1];\n    //             let cssClass: string = 'e-' + kpi + '-icon';\n    //             let fieldObj: IOlapField = {\n    //                 hasChildren: true,\n    //                 isSelected: (customArgs.reportElement.indexOf(id) >= 0),\n    //                 id: id,\n    //                 pid: kpiName,\n    //                 name: name,\n    //                 spriteCssClass: cssClass + ' ' +  cls.ICON,\n    //                 tag: id,\n    //                 caption: name,\n    //                 aggregateType: this.getAggregateType(id),\n    //                 type: 'number',\n    //                 filter: [],\n    //                 sort: 'Ascending',\n    //                 filterMembers: [],\n    //                 searchMembers: [],\n    //                 members: {},\n    //                 currrentMembers: {}\n    //             };\n    //             dimensionElements.push(fieldObj);\n    //             this.fieldList[id] = fieldObj;\n    //         }\n    //     }\n    // }\n    OlapEngine.prototype.doAjaxPost = function (type, url, data, success, customArgs) {\n        var ajax = new Ajax({\n            mode: false,\n            contentType: 'text/xml',\n            url: url,\n            data: data,\n            dataType: 'xml',\n            type: type,\n            onSuccess: function (args, request) {\n                var parser = new DOMParser();\n                // parsing string type result as XML\n                var xmlDoc = parser.parseFromString(args, 'text/xml');\n                success(xmlDoc, request, customArgs);\n            },\n            onFailure: function (e) {\n                return e;\n            }\n        });\n        ajax.send();\n    };\n    OlapEngine.prototype.getSoapMsg = function (dataSourceSettings, query) {\n        var xmlMsg = '';\n        var sourceInfo = '';\n        var connectionString = this.getConnectionInfo(dataSourceSettings.url, dataSourceSettings.localeIdentifier);\n        if (this.isMondrian) {\n            sourceInfo = '';\n            /* tslint:disable-next-line:max-line-length */\n            xmlMsg = '<SOAP-ENV:Envelope xmlns:SOAP-ENV=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\" SOAP-ENV:encodingStyle=\\\"http://schemas.xmlsoap.org/soap/encoding/\\\"><SOAP-ENV:Body><Execute xmlns=\\\"urn:schemas-microsoft-com:xml-analysis\\\"><Command><Statement><![CDATA[' +\n                query + ']]></Statement></Command><Properties><PropertyList><DataSourceInfo>' + sourceInfo +\n                /* tslint:disable-next-line:max-line-length */\n                '</DataSourceInfo><Catalog>' + dataSourceSettings.catalog + '</Catalog><AxisFormat>TupleFormat</AxisFormat><Content>Data</Content><Format>Multidimensional</Format></PropertyList></Properties></Execute></SOAP-ENV:Body></SOAP-ENV:Envelope>';\n        }\n        else {\n            /* tslint:disable-next-line:max-line-length */\n            xmlMsg = '<Envelope xmlns=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"> <Header></Header> <Body> <Execute xmlns=\\\"urn:schemas-microsoft-com:xml-analysis\\\"> <Command> <Statement> ' +\n                query + ' </Statement> </Command> <Properties> <PropertyList> <Catalog>' + dataSourceSettings.catalog +\n                /* tslint:disable-next-line:max-line-length */\n                '</Catalog> <LocaleIdentifier>' + connectionString.LCID + '</LocaleIdentifier></PropertyList> </Properties> </Execute> </Body> </Envelope>';\n        }\n        return xmlMsg;\n    };\n    OlapEngine.prototype.getConnectionInfo = function (connectionString, locale) {\n        var connectionInfo = { url: '', LCID: '1033' };\n        if (connectionString !== '') {\n            for (var _i = 0, _a = connectionString.split(';'); _i < _a.length; _i++) {\n                var obj = _a[_i];\n                if (obj.toLowerCase().indexOf('locale') < 0 && connectionInfo.url.length === 0) {\n                    connectionInfo.url = obj;\n                }\n                else if (obj.toLowerCase().indexOf('locale') >= 0) {\n                    connectionInfo.LCID = obj.replace(/ /g, '').split('=')[1];\n                }\n                else if (!isNullOrUndefined(locale)) {\n                    connectionInfo.LCID = locale.toString();\n                }\n            }\n        }\n        return connectionInfo;\n    };\n    OlapEngine.prototype.getMDXQuery = function (dataSourceSettings) {\n        MDXQuery.getCellSets(dataSourceSettings, this, true, undefined, true);\n        return this.mdxQuery;\n    };\n    return OlapEngine;\n}());\nexport { OlapEngine };\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Browser, Component, createElement, setStyleAttribute, append, isBlazor } from '@syncfusion/ej2-base';\nimport { EventHandler, Complex, extend, ChildProperty, Collection, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nimport { Internationalization, L10n, NotifyPropertyChanges, compile } from '@syncfusion/ej2-base';\nimport { removeClass, addClass, Event } from '@syncfusion/ej2-base';\nimport { updateBlazorTemplate, resetBlazorTemplate } from '@syncfusion/ej2-base';\nimport { PivotEngine } from '../../base/engine';\nimport { Tooltip, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { Render } from '../renderer/render';\nimport { DataSourceSettings } from '../model/datasourcesettings';\nimport { GridSettings } from '../model/gridsettings';\nimport { Grid, Reorder, Resize, getObject } from '@syncfusion/ej2-grids';\nimport { ExcelExport } from '../actions/excel-export';\nimport { PDFExport } from '../actions/pdf-export';\nimport { KeyboardInteraction } from '../actions/keyboard';\nimport { PivotContextMenu } from '../../common/popups/context-menu';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { VirtualScroll } from '../actions/virtualscroll';\nimport { DrillThrough } from '../actions/drill-through';\nimport { PivotUtil } from '../../base/util';\nimport { PivotChart } from '../../pivotchart/index';\nimport { ChartSettings } from '../model/chartsettings';\nimport { OlapEngine } from '../../base/olap/engine';\n/**\n * It holds the settings of Grouping Bar.\n */\nvar GroupingBarSettings = /** @class */ (function (_super) {\n    __extends(GroupingBarSettings, _super);\n    function GroupingBarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], GroupingBarSettings.prototype, \"showFilterIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], GroupingBarSettings.prototype, \"showSortIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], GroupingBarSettings.prototype, \"showRemoveIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], GroupingBarSettings.prototype, \"showValueTypeIcon\", void 0);\n    __decorate([\n        Property('Both')\n    ], GroupingBarSettings.prototype, \"displayMode\", void 0);\n    __decorate([\n        Property(true)\n    ], GroupingBarSettings.prototype, \"allowDragAndDrop\", void 0);\n    return GroupingBarSettings;\n}(ChildProperty));\nexport { GroupingBarSettings };\n/**\n * Configures the edit behavior of the Grid.\n */\nvar CellEditSettings = /** @class */ (function (_super) {\n    __extends(CellEditSettings, _super);\n    function CellEditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], CellEditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], CellEditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], CellEditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property(false)\n    ], CellEditSettings.prototype, \"allowCommandColumns\", void 0);\n    __decorate([\n        Property('Normal')\n    ], CellEditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], CellEditSettings.prototype, \"allowEditOnDblClick\", void 0);\n    __decorate([\n        Property(true)\n    ], CellEditSettings.prototype, \"showConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], CellEditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    return CellEditSettings;\n}(ChildProperty));\nexport { CellEditSettings };\n/**\n * Configures the conditional based hyper link settings.\n */\nvar ConditionalSettings = /** @class */ (function (_super) {\n    __extends(ConditionalSettings, _super);\n    function ConditionalSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ConditionalSettings.prototype, \"measure\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property('NotEquals')\n    ], ConditionalSettings.prototype, \"conditions\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalSettings.prototype, \"value1\", void 0);\n    __decorate([\n        Property()\n    ], ConditionalSettings.prototype, \"value2\", void 0);\n    return ConditionalSettings;\n}(ChildProperty));\nexport { ConditionalSettings };\n/**\n * It holds the settings of Hyperlink.\n */\nvar HyperlinkSettings = /** @class */ (function (_super) {\n    __extends(HyperlinkSettings, _super);\n    function HyperlinkSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], HyperlinkSettings.prototype, \"showHyperlink\", void 0);\n    __decorate([\n        Property(false)\n    ], HyperlinkSettings.prototype, \"showRowHeaderHyperlink\", void 0);\n    __decorate([\n        Property(false)\n    ], HyperlinkSettings.prototype, \"showColumnHeaderHyperlink\", void 0);\n    __decorate([\n        Property(false)\n    ], HyperlinkSettings.prototype, \"showValueCellHyperlink\", void 0);\n    __decorate([\n        Property(false)\n    ], HyperlinkSettings.prototype, \"showSummaryCellHyperlink\", void 0);\n    __decorate([\n        Collection([], ConditionalSettings)\n    ], HyperlinkSettings.prototype, \"conditionalSettings\", void 0);\n    __decorate([\n        Property()\n    ], HyperlinkSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property('')\n    ], HyperlinkSettings.prototype, \"cssClass\", void 0);\n    return HyperlinkSettings;\n}(ChildProperty));\nexport { HyperlinkSettings };\n/**\n * It holds the option for configure the chart and grid view.\n */\nvar DisplayOption = /** @class */ (function (_super) {\n    __extends(DisplayOption, _super);\n    function DisplayOption() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Table')\n    ], DisplayOption.prototype, \"view\", void 0);\n    __decorate([\n        Property('Table')\n    ], DisplayOption.prototype, \"primary\", void 0);\n    return DisplayOption;\n}(ChildProperty));\nexport { DisplayOption };\n/**\n * Represents the PivotView component.\n * ```html\n * <div id=\"PivotView\"></div>\n * <script>\n *  var pivotviewObj = new PivotView({ enableGroupingBar: true });\n *  pivotviewObj.appendTo(\"#pivotview\");\n * </script>\n * ```\n */\nvar PivotView = /** @class */ (function (_super) {\n    __extends(PivotView, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {PivotViewModel} options?\n     * @param  {string|HTMLElement} element?\n     */\n    function PivotView(options, element) {\n        var _this_1 = _super.call(this, options, element) || this;\n        /** @hidden */\n        _this_1.verticalScrollScale = 1;\n        /** @hidden */\n        _this_1.horizontalScrollScale = 1;\n        /** @hidden */\n        _this_1.scrollerBrowserLimit = 500000;\n        /** @hidden */\n        _this_1.lastSortInfo = {};\n        /** @hidden */\n        _this_1.lastFilterInfo = {};\n        /** @hidden */\n        _this_1.lastAggregationInfo = {};\n        /** @hidden */\n        _this_1.lastCalcFieldInfo = {};\n        /** @hidden */\n        _this_1.isScrolling = false;\n        _this_1.shiftLockedPos = [];\n        _this_1.savedSelectedCellsPos = [];\n        _this_1.isPopupClicked = false;\n        _this_1.isMouseDown = false;\n        _this_1.isMouseUp = false;\n        _this_1.fieldsType = {};\n        _this_1.defaultItems = {};\n        _this_1.isCellBoxMultiSelection = false;\n        /** @hidden */\n        _this_1.gridHeaderCellInfo = [];\n        /** @hidden */\n        _this_1.gridCellCollection = {};\n        /** @hidden */\n        _this_1.rowRangeSelection = { enable: false, startIndex: 0, endIndex: 0 };\n        /** @hidden */\n        _this_1.resizeInfo = {};\n        /** @hidden */\n        _this_1.scrollPosObject = {\n            vertical: 0, horizontal: 0, verticalSection: 0,\n            horizontalSection: 0, top: 0, left: 0, scrollDirection: { direction: '', position: 0 }\n        };\n        /** @hidden */\n        _this_1.pivotColumns = [];\n        /** @hidden */\n        _this_1.totColWidth = 0;\n        /** @hidden */\n        _this_1.posCount = 0;\n        /** @hidden */\n        _this_1.isModified = false;\n        _this_1.needsID = true;\n        _this_1.pivotRefresh = Component.prototype.refresh;\n        _this_1.pivotView = _this_1;\n        return _this_1;\n    }\n    PivotView_1 = PivotView;\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @hidden\n     */\n    PivotView.prototype.requiredModules = function () {\n        var modules = [];\n        var isCommonRequire;\n        isCommonRequire = true;\n        modules.push({ args: [this], member: 'grouping' });\n        if (this.allowConditionalFormatting) {\n            modules.push({ args: [this], member: 'conditionalformatting' });\n        }\n        if (this.allowNumberFormatting) {\n            isCommonRequire = true;\n            modules.push({ args: [this], member: 'numberformatting' });\n        }\n        if (this.allowCalculatedField) {\n            isCommonRequire = true;\n            modules.push({ args: [this], member: 'calculatedfield' });\n        }\n        // if (this.showGroupingBar || !this.showGroupingBar) {\n        //     isCommonRequire = true;\n        //     modules.push({ args: [this], member: 'grouping' });\n        // }\n        if (this.showToolbar && this.toolbar.length > 0) {\n            isCommonRequire = true;\n            modules.push({ args: [this], member: 'toolbar' });\n        }\n        if (this.showFieldList) {\n            isCommonRequire = true;\n            modules.push({ args: [this], member: 'fieldlist' });\n        }\n        if (this.allowExcelExport) {\n            modules.push({ args: [this], member: 'excelExport' });\n        }\n        if (this.allowPdfExport) {\n            modules.push({ args: [this], member: 'pdfExport' });\n        }\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'virtualscroll' });\n        }\n        if (this.gridSettings) {\n            if (this.gridSettings.contextMenuItems) {\n                isCommonRequire = true;\n            }\n        }\n        if (isCommonRequire) {\n            modules.push({ args: [this], member: 'common' });\n        }\n        return modules;\n    };\n    /**\n     * For internal use only - Initializing internal properties;\n     * @private\n     */\n    PivotView.prototype.preRender = function () {\n        if (this.dataSourceSettings && this.dataSourceSettings.providerType === 'SSAS') {\n            this.dataType = 'olap';\n            this.olapEngineModule = new OlapEngine();\n        }\n        else {\n            this.dataType = 'pivot';\n            this.engineModule = new PivotEngine();\n        }\n        this.initProperties();\n        this.isAdaptive = Browser.isDevice;\n        this.renderToolTip();\n        this.keyboardModule = new KeyboardInteraction(this);\n        this.contextMenuModule = new PivotContextMenu(this);\n        this.globalize = new Internationalization(this.locale);\n        this.defaultLocale = {\n            grandTotal: 'Grand Total',\n            total: 'Total',\n            value: 'Value',\n            noValue: 'No value',\n            row: 'Row',\n            column: 'Column',\n            collapse: 'Collapse',\n            expand: 'Expand',\n            rowAxisPrompt: 'Drop row here',\n            columnAxisPrompt: 'Drop column here',\n            valueAxisPrompt: 'Drop value here',\n            filterAxisPrompt: 'Drop filter here',\n            filter: 'Filter',\n            filtered: 'Filtered',\n            sort: 'Sort',\n            filters: 'Filters',\n            rows: 'Rows',\n            columns: 'Columns',\n            values: 'Values',\n            close: 'Close',\n            cancel: 'Cancel',\n            delete: 'Delete',\n            CalculatedField: 'Calculated Field',\n            createCalculatedField: 'Create Calculated Field',\n            fieldName: 'Enter the field name',\n            error: 'Error',\n            invalidFormula: 'Invalid formula.',\n            dropText: 'Example: (\"Sum(Order_Count)\" + \"Sum(In_Stock)\") * 250',\n            dropTextMobile: 'Add fields and edit formula here.',\n            dropAction: 'Calculated field cannot be place in any other region except value axis.',\n            alert: 'Alert',\n            warning: 'Warning',\n            ok: 'OK',\n            search: 'Search',\n            drag: 'Drag',\n            remove: 'Remove',\n            allFields: 'All Fields',\n            formula: 'Formula',\n            addToRow: 'Add to Row',\n            addToColumn: 'Add to Column',\n            addToValue: 'Add to Value',\n            addToFilter: 'Add to Filter',\n            emptyData: 'No records to display',\n            fieldExist: 'A field already exists in this name. Please enter a different name.',\n            confirmText: 'A calculation field already exists in this name. Do you want to replace it?',\n            noMatches: 'No matches',\n            format: 'Summaries values by',\n            edit: 'Edit',\n            clear: 'Clear',\n            formulaField: 'Drag and drop fields to formula',\n            dragField: 'Drag field to formula',\n            clearFilter: 'Clear',\n            by: 'by',\n            all: 'All',\n            multipleItems: 'Multiple items',\n            /* tslint:disable */\n            member: 'Member',\n            label: 'Label',\n            date: 'Date',\n            enterValue: 'Enter value',\n            chooseDate: 'Enter date',\n            Before: 'Before',\n            BeforeOrEqualTo: 'Before Or Equal To',\n            After: 'After',\n            AfterOrEqualTo: 'After Or Equal To',\n            labelTextContent: 'Show the items for which the label',\n            dateTextContent: 'Show the items for which the date',\n            valueTextContent: 'Show the items for which',\n            Equals: 'Equals',\n            DoesNotEquals: 'Does Not Equal',\n            BeginWith: 'Begins With',\n            DoesNotBeginWith: 'Does Not Begin With',\n            EndsWith: 'Ends With',\n            DoesNotEndsWith: 'Does Not End With',\n            Contains: 'Contains',\n            DoesNotContains: 'Does Not Contain',\n            GreaterThan: 'Greater Than',\n            GreaterThanOrEqualTo: 'Greater Than Or Equal To',\n            LessThan: 'Less Than',\n            LessThanOrEqualTo: 'Less Than Or Equal To',\n            Between: 'Between',\n            NotBetween: 'Not Between',\n            And: 'and',\n            Sum: 'Sum',\n            Count: 'Count',\n            DistinctCount: 'Distinct Count',\n            Product: 'Product',\n            Avg: 'Avg',\n            Min: 'Min',\n            SampleVar: 'Sample Var',\n            PopulationVar: 'Population Var',\n            RunningTotals: 'Running Totals',\n            Max: 'Max',\n            Index: 'Index',\n            SampleStDev: 'Sample StDev',\n            PopulationStDev: 'Population StDev',\n            PercentageOfRowTotal: '% of Row Total',\n            PercentageOfParentTotal: '% of Parent Total',\n            PercentageOfParentColumnTotal: '% of Parent Column Total',\n            PercentageOfParentRowTotal: '% of Parent Row Total',\n            DifferenceFrom: 'Difference From',\n            PercentageOfDifferenceFrom: '% of Difference From',\n            PercentageOfGrandTotal: '% of Grand Total',\n            PercentageOfColumnTotal: '% of Column Total',\n            MoreOption: 'More...',\n            /* tslint:enable */\n            NotEquals: 'Not Equals',\n            AllValues: 'All Values',\n            conditionalFormating: 'Conditional Formatting',\n            apply: 'APPLY',\n            condition: 'Add Condition',\n            formatLabel: 'Format',\n            valueFieldSettings: 'Value field settings',\n            baseField: 'Base field :',\n            baseItem: 'Base item :',\n            summarizeValuesBy: 'Summarize values by :',\n            sourceName: 'Field name :',\n            sourceCaption: 'Field caption :',\n            example: 'e.g:',\n            editorDataLimitMsg: ' more items. Search to refine further.',\n            details: 'Details',\n            manageRecords: 'Manage Records',\n            Years: 'Years',\n            Quarters: 'Quarters',\n            Months: 'Months',\n            Days: 'Days',\n            Hours: 'Hours',\n            Minutes: 'Minutes',\n            Seconds: 'Seconds',\n            save: 'Save a report',\n            new: 'Create a new report',\n            load: 'Load',\n            saveAs: 'Save as current report',\n            rename: 'Rename a current report',\n            deleteReport: 'Delete a current report',\n            export: 'Export',\n            subTotals: 'Sub totals',\n            grandTotals: 'Grand totals',\n            reportName: 'Report Name :',\n            pdf: 'PDF',\n            excel: 'Excel',\n            csv: 'CSV',\n            png: 'PNG',\n            jpeg: 'JPEG',\n            svg: 'SVG',\n            mdxQuery: 'MDX Query',\n            showSubTotals: 'Show sub totals',\n            doNotShowSubTotals: 'Do not show sub totals',\n            showSubTotalsRowsOnly: 'Show sub totals rows only',\n            showSubTotalsColumnsOnly: 'Show sub totals columns only',\n            showGrandTotals: 'Show grand totals',\n            doNotShowGrandTotals: 'Do not show grand totals',\n            showGrandTotalsRowsOnly: 'Show grand totals rows only',\n            showGrandTotalsColumnsOnly: 'Show grand totals columns only',\n            fieldList: 'Show fieldlist',\n            grid: 'Show table',\n            toolbarFormatting: 'Conditional formatting',\n            chart: 'Chart',\n            reportMsg: 'Please enter vaild report name!!!',\n            reportList: 'Report list',\n            removeConfirm: 'Are you sure want to delete this report?',\n            emptyReport: 'No reports found!!',\n            bar: 'Bar',\n            line: 'Line',\n            area: 'Area',\n            scatter: 'Scatter',\n            polar: 'Polar',\n            of: 'of',\n            emptyFormat: 'No format found!!!',\n            emptyInput: 'Enter a value',\n            newReportConfirm: 'Want to save changes to report?',\n            emptyReportName: 'Enter a report name',\n            qtr: 'Qtr',\n            null: 'null',\n            undefined: 'undefined',\n            groupOutOfRange: 'Out of Range',\n            fieldDropErrorAction: 'The field you are moving cannot be placed in that area of the report',\n            aggregate: 'Aggregate',\n            drillThrough: 'Drill Through',\n            ascending: 'Ascending',\n            descending: 'Descending',\n            number: 'Number',\n            currency: 'Currency',\n            percentage: 'Percentage',\n            formatType: 'Format Type',\n            customText: 'Currency Symbol',\n            symbolPosition: 'Symbol Position',\n            left: 'Left',\n            right: 'Right',\n            grouping: 'Grouping',\n            true: 'True',\n            false: 'False',\n            decimalPlaces: 'Decimal Places',\n            numberFormat: 'Number Formatting',\n            memberType: 'Field Type',\n            formatString: 'Format String',\n            expressionField: 'Expression',\n            customFormat: 'Enter custom format string',\n            selectedHierarchy: 'Parent Hierarchy',\n            olapDropText: 'Example: [Measures].[Order Quantity] + ([Measures].[Order Quantity] * 0.10)',\n            Percent: 'Percent',\n            Currency: 'Currency',\n            Custom: 'Custom',\n            Measure: 'Measure',\n            Dimension: 'Dimension',\n            Standard: 'Standard',\n            blank: '(Blank)',\n            fieldTooltip: 'Drag and drop fields to create an expression. ' +\n                'And, if you want to edit the existing the calculated fields! ' +\n                'You can achieve it by simply selecting the field under \"Calculated Members\".',\n            fieldTitle: 'Field Name',\n            QuarterYear: 'Quarter Year',\n            drillError: 'Cannot show the raw items of calculated fields.',\n            caption: 'Field Caption',\n            copy: 'Copy',\n            defaultReport: 'Default report',\n            customFormatString: 'Custom Format',\n            invalidFormat: 'Invalid Format.'\n        };\n        this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n        this.renderContextMenu();\n        this.isDragging = false;\n        this.addInternalEvents();\n        //setCurrencyCode(this.currencyCode);\n    };\n    PivotView.prototype.onBeforeTooltipOpen = function (args) {\n        args.element.classList.add('e-pivottooltipwrap');\n    };\n    PivotView.prototype.renderToolTip = function () {\n        if (this.showTooltip) {\n            this.tooltip = new Tooltip({\n                target: 'td.e-valuescontent',\n                showTipPointer: false,\n                enableRtl: this.enableRtl,\n                beforeRender: this.setToolTip.bind(this),\n                beforeOpen: this.onBeforeTooltipOpen\n            });\n            this.tooltip.isStringTemplate = true;\n            this.tooltip.appendTo(this.element);\n        }\n        else if (this.tooltip) {\n            this.tooltip.destroy();\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.renderContextMenu = function () {\n        if (this.gridSettings.contextMenuItems) {\n            var conmenuItems = [];\n            var customItems = [];\n            var exportItems = [];\n            var aggItems = [];\n            var expItems = [];\n            var aggregateItems = [];\n            for (var _i = 0, _a = this.gridSettings.contextMenuItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                    if (item.toString().toLowerCase().indexOf('aggregate') !== -1) {\n                        aggregateItems = [\n                            { text: this.localeObj.getConstant('Sum'), id: this.element.id + '_AggSum' },\n                            { text: this.localeObj.getConstant('DistinctCount'), id: this.element.id + '_AggDistinctCount' },\n                            { text: this.localeObj.getConstant('Count'), id: this.element.id + '_AggCount' },\n                            { text: this.localeObj.getConstant('Product'), id: this.element.id + '_AggProduct' },\n                            { text: this.localeObj.getConstant('Avg'), id: this.element.id + '_AggAvg' },\n                            { text: this.localeObj.getConstant('Max'), id: this.element.id + '_AggMax' },\n                            { text: this.localeObj.getConstant('Min'), id: this.element.id + '_AggMin' },\n                            { text: this.localeObj.getConstant('MoreOption'), id: this.element.id + '_AggMoreOption' }\n                        ];\n                    }\n                    else if (item.toString().toLowerCase().indexOf('export') !== -1) {\n                        exportItems.push(this.buildDefaultItems(item));\n                    }\n                    else {\n                        conmenuItems.push(this.buildDefaultItems(item));\n                    }\n                }\n                else if (typeof item !== 'string') {\n                    customItems.push(item);\n                }\n            }\n            if (aggregateItems.length > 0) {\n                var aggregateGroup = this.buildDefaultItems('Aggregate');\n                aggregateGroup.items = aggregateItems;\n                aggItems.push(aggregateGroup);\n            }\n            if (exportItems.length > 0) {\n                var exportGroupItems = this.buildDefaultItems('export');\n                exportGroupItems.items = exportItems;\n                expItems.push(exportGroupItems);\n            }\n            this.gridSettings.contextMenuItems = [];\n            Array.prototype.push.apply(this.gridSettings.contextMenuItems, aggItems);\n            Array.prototype.push.apply(this.gridSettings.contextMenuItems, conmenuItems);\n            Array.prototype.push.apply(this.gridSettings.contextMenuItems, expItems);\n            Array.prototype.push.apply(this.gridSettings.contextMenuItems, customItems);\n        }\n    };\n    PivotView.prototype.getDefaultItems = function () {\n        return ['Drillthrough', 'Expand',\n            'Collapse', 'Pdf Export', 'Excel Export', 'Csv Export', 'Sort Ascending', 'Sort Descending',\n            'Aggregate', 'CalculatedField'];\n    };\n    PivotView.prototype.buildDefaultItems = function (item) {\n        var menuItem;\n        switch (item) {\n            case 'Aggregate':\n                menuItem = {\n                    text: this.localeObj.getConstant('aggregate'), target: 'th.e-valuesheader,td.e-valuescontent,.e-stot',\n                    id: this.element.id + '_aggregate'\n                };\n                break;\n            case 'CalculatedField':\n                menuItem = {\n                    text: this.localeObj.getConstant('CalculatedField'), target: 'td.e-valuescontent',\n                    id: this.element.id + '_CalculatedField'\n                };\n                break;\n            case 'Drillthrough':\n                menuItem = {\n                    text: this.localeObj.getConstant('drillThrough'), target: 'td.e-valuescontent',\n                    id: this.element.id + '_drillthrough_menu', iconCss: cls.PIVOTVIEW_GRID + ' ' + cls.ICON\n                };\n                break;\n            case 'export':\n                menuItem = {\n                    text: this.localeObj.getConstant('export'), target: 'td.e-valuescontent',\n                    id: this.element.id + '_exporting', iconCss: cls.PIVOTVIEW_EXPORT + ' ' + cls.ICON\n                };\n                break;\n            case 'Pdf Export':\n                menuItem = {\n                    text: this.localeObj.getConstant('pdf'), id: this.element.id + '_pdf',\n                    iconCss: cls.GRID_PDF_EXPORT + ' ' + cls.ICON\n                };\n                break;\n            case 'Excel Export':\n                menuItem = {\n                    text: this.localeObj.getConstant('excel'), id: this.element.id + '_excel',\n                    iconCss: cls.GRID_EXCEL_EXPORT + ' ' + cls.ICON\n                };\n                break;\n            case 'Csv Export':\n                menuItem = {\n                    text: this.localeObj.getConstant('csv'), id: this.element.id + '_csv',\n                    iconCss: cls.GRID_CSV_EXPORT + ' ' + cls.ICON,\n                };\n                break;\n            case 'Expand':\n                menuItem = {\n                    text: this.localeObj.getConstant('expand'), target: 'td.e-rowsheader,.e-columnsheader',\n                    id: this.element.id + '_expand', iconCss: cls.PIVOTVIEW_EXPAND + ' ' + cls.ICON\n                };\n                break;\n            case 'Collapse':\n                menuItem = {\n                    text: this.localeObj.getConstant('collapse'), target: 'td.e-rowsheader,.e-columnsheader',\n                    id: this.element.id + '_collapse', iconCss: cls.PIVOTVIEW_COLLAPSE + ' ' + cls.ICON\n                };\n                break;\n            case 'Sort Ascending':\n                menuItem = {\n                    text: this.localeObj.getConstant('ascending'), target: 'th.e-valuesheader,.e-stot',\n                    id: this.element.id + '_sortasc', iconCss: cls.ICON_ASC + ' ' + cls.ICON\n                };\n                break;\n            case 'Sort Descending':\n                menuItem = {\n                    text: this.localeObj.getConstant('descending'), target: 'th.e-valuesheader,.e-stot',\n                    id: this.element.id + '_sortdesc', iconCss: cls.ICON_DESC + ' ' + cls.ICON\n                };\n                break;\n        }\n        this.defaultItems[item] = {\n            text: menuItem.text, id: menuItem.id,\n            target: menuItem.target, iconCss: menuItem.iconCss\n        };\n        return this.defaultItems[item];\n    };\n    /* tslint:disable:align */\n    PivotView.prototype.initProperties = function () {\n        this.pivotRefresh = Component.prototype.refresh;\n        this.isScrolling = false;\n        this.setProperties({ pivotValues: [] }, true);\n        this.scrollPosObject = {\n            vertical: 0, horizontal: 0, verticalSection: 0,\n            horizontalSection: 0, top: 0, left: 0, scrollDirection: { direction: '', position: 0 }\n        };\n        this.queryCellInfo = this.gridSettings.queryCellInfo ? this.gridSettings.queryCellInfo.bind(this) : undefined;\n        this.headerCellInfo = this.gridSettings.headerCellInfo ? this.gridSettings.headerCellInfo.bind(this) : undefined;\n        this.resizing = this.gridSettings.resizing ? this.gridSettings.resizing.bind(this) : undefined;\n        this.resizeStop = this.gridSettings.resizeStop ? this.gridSettings.resizeStop.bind(this) : undefined;\n        this.pdfHeaderQueryCellInfo = this.gridSettings.pdfHeaderQueryCellInfo ?\n            this.gridSettings.pdfHeaderQueryCellInfo.bind(this) : undefined;\n        this.pdfQueryCellInfo = this.gridSettings.pdfQueryCellInfo ? this.gridSettings.pdfQueryCellInfo.bind(this) : undefined;\n        this.excelHeaderQueryCellInfo = this.gridSettings.excelHeaderQueryCellInfo ?\n            this.gridSettings.excelHeaderQueryCellInfo.bind(this) : undefined;\n        this.excelQueryCellInfo = this.gridSettings.excelQueryCellInfo ?\n            this.gridSettings.excelQueryCellInfo.bind(this) : undefined;\n        this.columnDragStart = this.gridSettings.columnDragStart ? this.gridSettings.columnDragStart.bind(this) : undefined;\n        this.columnDrag = this.gridSettings.columnDrag ? this.gridSettings.columnDrag.bind(this) : undefined;\n        this.columnDrop = this.gridSettings.columnDrop ? this.gridSettings.columnDrop.bind(this) : undefined;\n        this.beforeColumnsRender = this.gridSettings.columnRender ? this.gridSettings.columnRender : undefined;\n        this.selected = this.gridSettings.cellSelected ? this.gridSettings.cellSelected : undefined;\n        this.cellDeselected = this.gridSettings.cellDeselected ? this.gridSettings.cellDeselected : undefined;\n        this.rowSelected = this.gridSettings.rowSelected ? this.gridSettings.rowSelected : undefined;\n        this.rowDeselected = this.gridSettings.rowDeselected ? this.gridSettings.rowDeselected : undefined;\n        this.chartTooltipRender = this.chartSettings.tooltipRender ? this.chartSettings.tooltipRender : undefined;\n        this.chartLoaded = this.chartSettings.loaded ? this.chartSettings.loaded : undefined;\n        this.chartLoad = this.chartSettings.load ? this.chartSettings.load : undefined;\n        this.chartResized = this.chartSettings.resized ? this.chartSettings.resized : undefined;\n        this.chartAxisLabelRender = this.chartSettings.axisLabelRender ? this.chartSettings.axisLabelRender : undefined;\n        this.contextMenuClick = this.gridSettings.contextMenuClick ? this.gridSettings.contextMenuClick : undefined;\n        this.contextMenuOpen = this.gridSettings.contextMenuOpen ? this.gridSettings.contextMenuOpen : undefined;\n        if (this.gridSettings.rowHeight === null) {\n            this.setProperties({ gridSettings: { rowHeight: this.isAdaptive ? 48 : 36 } }, true);\n        }\n        this.element.style.height = '100%';\n        if (this.enableVirtualization) {\n            this.updatePageSettings(true);\n            if (this.allowExcelExport) {\n                PivotView_1.Inject(ExcelExport);\n            }\n            if (this.allowPdfExport) {\n                PivotView_1.Inject(PDFExport);\n            }\n            if (this.editSettings.allowEditing) {\n                PivotView_1.Inject(DrillThrough);\n            }\n        }\n        this.isCellBoxMultiSelection = this.gridSettings.allowSelection &&\n            this.gridSettings.selectionSettings.cellSelectionMode === 'Box' &&\n            this.gridSettings.selectionSettings.mode === 'Cell' && this.gridSettings.selectionSettings.type === 'Multiple';\n        if (this.displayOption.view !== 'Table') {\n            this.chartModule = new PivotChart();\n        }\n        this.currentView = this.currentView ? this.currentView : (this.displayOption.view === 'Both' ?\n            this.displayOption.primary : this.displayOption.view);\n    };\n    /**\n     * @hidden\n     */\n    PivotView.prototype.updatePageSettings = function (isInit) {\n        if (this.enableVirtualization) {\n            var colValues = 1;\n            var rowValues = 1;\n            if (this.dataSourceSettings.values.length > 1 && this.dataType === 'pivot') {\n                if (this.dataSourceSettings.valueAxis === 'row') {\n                    rowValues = this.dataSourceSettings.values.length;\n                }\n                else {\n                    colValues = this.dataSourceSettings.values.length;\n                }\n            }\n            var heightAsNumber = this.getHeightAsNumber();\n            if (isNaN(heightAsNumber)) {\n                heightAsNumber = this.element.offsetHeight;\n            }\n            this.pageSettings = {\n                columnCurrentPage: isInit ? 1 : this.pageSettings.columnCurrentPage,\n                rowCurrentPage: isInit ? 1 : this.pageSettings.rowCurrentPage,\n                columnSize: Math.ceil((Math.floor((this.getWidthAsNumber()) /\n                    this.gridSettings.columnWidth) - 1) / colValues),\n                rowSize: Math.ceil(Math.floor((heightAsNumber) / this.gridSettings.rowHeight) / rowValues)\n            };\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @returns void\n     * @hidden\n     */\n    PivotView.prototype.render = function () {\n        var _this_1 = this;\n        this.cellTemplateFn = this.templateParser(this.cellTemplate);\n        if (this.spinnerTemplate) {\n            createSpinner({ target: this.element, template: this.spinnerTemplate }, this.createElement);\n        }\n        else {\n            createSpinner({ target: this.element }, this.createElement);\n        }\n        var loadArgs = {\n            dataSourceSettings: this.dataSourceSettings,\n            pivotview: isBlazor() ? undefined : this,\n            fieldsType: {}\n        };\n        this.trigger(events.load, loadArgs, function (observedArgs) {\n            if (isBlazor()) {\n                observedArgs.dataSourceSettings.dataSource = _this_1.dataSourceSettings.dataSource;\n            }\n            _this_1.dataSourceSettings = observedArgs.dataSourceSettings;\n            _this_1.fieldsType = observedArgs.fieldsType;\n            _this_1.updateClass();\n            _this_1.notify(events.initSubComponent, {});\n            _this_1.notify(events.initialLoad, {});\n            if (_this_1.isAdaptive) {\n                _this_1.contextMenuModule.render();\n            }\n            _this_1.notify(events.initToolbar, {});\n        });\n        if (isBlazor()) {\n            this.renderComplete();\n        }\n    };\n    /**\n     * Register the internal events.\n     * @returns void\n     * @hidden\n     */\n    PivotView.prototype.addInternalEvents = function () {\n        this.on(events.initialLoad, this.generateData, this);\n        this.on(events.dataReady, this.renderPivotGrid, this);\n        this.on(events.contentReady, this.onContentReady, this);\n    };\n    /**\n     * De-Register the internal events.\n     * @returns void\n     * @hidden\n     */\n    PivotView.prototype.removeInternalEvents = function () {\n        this.off(events.initialLoad, this.generateData);\n        this.off(events.dataReady, this.renderPivotGrid);\n        this.off(events.contentReady, this.onContentReady);\n    };\n    /**\n     * Get the Pivot widget properties to be maintained in the persisted state.\n     * @returns {string}\n     */\n    PivotView.prototype.getPersistData = function () {\n        var keyEntity = ['dataSourceSettings', 'pivotValues', 'gridSettings', 'chartSettings'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Loads pivot Layout\n     * @param {string} persistData - Specifies the persist data to be loaded to pivot.\n     * @returns {void}\n     */\n    PivotView.prototype.loadPersistData = function (persistData) {\n        var pivotData = JSON.parse(persistData);\n        this.setProperties({\n            gridSettings: pivotData.gridSettings,\n            pivotValues: pivotData.pivotValues,\n            chartSettings: pivotData.chartSettings\n        }, true);\n        this.dataSourceSettings = pivotData.dataSourceSettings;\n    };\n    /**\n     * It returns the Module name.\n     * @returns string\n     * @hidden\n     */\n    PivotView.prototype.getModuleName = function () {\n        return 'pivotview';\n    };\n    /**\n     * Copy the selected rows or cells data into clipboard.\n     * @param {boolean} withHeader - Specifies whether the column header text needs to be copied along with rows or cells.\n     * @returns {void}\n     * @hidden\n     */\n    PivotView.prototype.copy = function (withHeader) {\n        this.grid.copy(withHeader);\n    };\n    /**\n     * By default, prints all the pages of the Grid and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](./api-pivotgrid.html#printmode-string).\n     * @returns {void}\n     * @hidden\n     */\n    // public print(): void {\n    //     this.grid.print();\n    // }\n    /**\n     * Called internally if any of the property value changed.\n     * @returns void\n     * @hidden\n     */\n    PivotView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'dataSourceSettings':\n                case 'hyperlinkSettings':\n                case 'allowDrillThrough':\n                case 'editSettings':\n                    if (newProp.dataSourceSettings && Object.keys(newProp.dataSourceSettings).length === 1\n                        && newProp.dataSourceSettings.groupSettings) {\n                        var groupSettings = extend([], this.dataSourceSettings.groupSettings, null, true);\n                        var data = PivotUtil.getClonedData(this.clonedDataSet);\n                        var dataSource = extend({}, this.clonedReport, null, true);\n                        dataSource.dataSource = data;\n                        if (newProp.dataSourceSettings.groupSettings.length === 0 ||\n                            newProp.dataSourceSettings.groupSettings.length > 0) {\n                            dataSource.groupSettings =\n                                newProp.dataSourceSettings.groupSettings.length > 0 ? groupSettings : [];\n                            this.setProperties({ dataSourceSettings: dataSource }, true);\n                        }\n                    }\n                    this.notify(events.initialLoad, {});\n                    break;\n                case 'pivotValues':\n                case 'displayOption':\n                case 'height':\n                case 'width':\n                    this.notify(events.dataReady, {});\n                    break;\n                case 'gridSettings':\n                    this.lastGridSettings = newProp.gridSettings;\n                    this.renderModule.updateGridSettings();\n                    this.isCellBoxMultiSelection = this.gridSettings.allowSelection &&\n                        this.gridSettings.selectionSettings.cellSelectionMode === 'Box' &&\n                        this.gridSettings.selectionSettings.mode === 'Cell' && this.gridSettings.selectionSettings.type === 'Multiple';\n                    break;\n                case 'chartSettings':\n                    this.chartModule.loadChart(this, this.chartSettings);\n                    break;\n                case 'locale':\n                case 'currencyCode':\n                case 'enableRtl':\n                    if (this.tooltip) {\n                        this.tooltip.destroy();\n                    }\n                    _super.prototype.refresh.call(this);\n                    this.updateClass();\n                    break;\n                case 'enableValueSorting':\n                    this.enableValueSorting = newProp.enableValueSorting;\n                    this.updateDataSource();\n                    break;\n                case 'showGroupingBar':\n                    if (this.element.querySelector('.e-grouping-bar')) {\n                        this.element.querySelector('.e-grouping-bar').remove();\n                    }\n                    this.renderPivotGrid();\n                    break;\n                case 'groupingBarSettings':\n                    this.axisFieldModule.render();\n                    break;\n                case 'showTooltip':\n                    this.renderToolTip();\n                    break;\n                case 'toolbar':\n                    if (this.toolbarModule) {\n                        this.toolbarModule.refreshToolbar();\n                    }\n                    break;\n            }\n        }\n    };\n    PivotView.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    PivotView.prototype.getCellTemplate = function () {\n        return this.cellTemplateFn;\n    };\n    /**\n     * Render the UI section of PivotView.\n     * @returns void\n     * @hidden\n     */\n    PivotView.prototype.renderPivotGrid = function () {\n        if (this.currentView === 'Table') {\n            /* tslint:disable-next-line */\n            if (this.cellTemplate && isBlazor()) {\n                resetBlazorTemplate(this.element.id + '_cellTemplate', 'CellTemplate');\n            }\n        }\n        if (this.chartModule) {\n            this.chartModule.engineModule = this.engineModule;\n            this.chartModule.loadChart(this, this.chartSettings);\n            if (this.enableRtl && this.chart) {\n                addClass([this.chart.element], cls.PIVOTCHART_LTR);\n            }\n        }\n        if (this.showFieldList || this.showGroupingBar) {\n            this.notify(events.uiUpdate, this);\n            if (this.pivotFieldListModule && this.allowDeferLayoutUpdate) {\n                this.pivotFieldListModule.clonedDataSource = extend({}, this.dataSourceSettings, null, true);\n            }\n        }\n        if (this.enableVirtualization) {\n            this.virtualscrollModule = new VirtualScroll(this);\n        }\n        if (this.displayOption.view !== 'Chart') {\n            if (this.hyperlinkSettings) {\n                this.isRowCellHyperlink = (this.hyperlinkSettings.showRowHeaderHyperlink ?\n                    true : this.hyperlinkSettings.showHyperlink ? true : false);\n                this.isColumnCellHyperlink = (this.hyperlinkSettings.showColumnHeaderHyperlink ?\n                    true : this.hyperlinkSettings.showHyperlink ? true : false);\n                this.isValueCellHyperlink = (this.hyperlinkSettings.showValueCellHyperlink ?\n                    true : this.hyperlinkSettings.showHyperlink ? true : false);\n                this.isSummaryCellHyperlink = (this.hyperlinkSettings.showSummaryCellHyperlink ?\n                    true : this.hyperlinkSettings.showHyperlink ? true : false);\n                this.applyHyperlinkSettings();\n            }\n            if (this.allowDrillThrough || this.editSettings.allowEditing) {\n                this.drillThroughModule = new DrillThrough(this);\n            }\n            this.renderModule = new Render(this);\n            this.renderModule.render();\n        }\n        else if (this.grid) {\n            remove(this.grid.element);\n        }\n        this.trigger(events.dataBound);\n        if (this.allowConditionalFormatting) {\n            this.applyFormatting(this.pivotValues);\n        }\n        if (this.showToolbar) {\n            if (this.displayOption.view === 'Both' && this.chart && this.grid) {\n                if (this.currentView === 'Table') {\n                    this.grid.element.style.display = '';\n                    this.chart.element.style.display = 'none';\n                }\n                else {\n                    this.grid.element.style.display = 'none';\n                    this.chart.element.style.display = '';\n                }\n            }\n        }\n        if (this.toolbarModule) {\n            if (this.showFieldList && this.element.querySelector('#' + this.element.id + '_PivotFieldList')) {\n                this.element.querySelector('#' + this.element.id + '_PivotFieldList').style.display = 'none';\n            }\n            if (this.toolbarModule && this.toolbarModule.action !== 'New' && this.toolbarModule.action !== 'Load'\n                && this.toolbarModule.action !== 'Remove') {\n                this.isModified = true;\n            }\n            else {\n                this.toolbarModule.action = '';\n            }\n        }\n    };\n    /**\n     * Updates the PivotEngine using dataSource from Pivot View component.\n     * @method updateDataSource\n     * @return {void}\n     * @hidden\n     */\n    PivotView.prototype.updateDataSource = function (isRefreshGrid) {\n        showSpinner(this.element);\n        var pivot = this;\n        //setTimeout(() => {\n        /* tslint:disable:align */\n        var isSorted = Object.keys(pivot.lastSortInfo).length > 0 ? true : false;\n        var isFiltered = Object.keys(pivot.lastFilterInfo).length > 0 ? true : false;\n        var isAggChange = Object.keys(pivot.lastAggregationInfo).length > 0 ? true : false;\n        var isCalcChange = Object.keys(pivot.lastCalcFieldInfo).length > 0 ? true : false;\n        pivot.updatePageSettings(false);\n        if (pivot.dataType === 'pivot' && pivot.enableVirtualization && (isSorted || isFiltered || isAggChange || isCalcChange)) {\n            if (isSorted) {\n                pivot.setProperties({ dataSourceSettings: { valueSortSettings: { headerText: '' } } }, true);\n                pivot.engineModule.onSort(pivot.lastSortInfo);\n                pivot.lastSortInfo = {};\n            }\n            if (isAggChange) {\n                pivot.engineModule.onAggregation(pivot.lastAggregationInfo);\n                pivot.lastAggregationInfo = {};\n            }\n            if (isCalcChange) {\n                pivot.engineModule.onCalcOperation(pivot.lastCalcFieldInfo);\n                pivot.lastCalcFieldInfo = {};\n            }\n            if (isFiltered) {\n                pivot.engineModule.onFilter(pivot.lastFilterInfo, pivot.dataSourceSettings);\n                pivot.lastFilterInfo = {};\n            }\n            pivot.setProperties({ pivotValues: pivot.engineModule.pivotValues }, true);\n        }\n        else {\n            if (pivot.dataType === 'olap') {\n                /* tslint:disable:align */\n                var customProperties = {\n                    mode: '',\n                    savedFieldList: pivot.olapEngineModule.fieldList,\n                    savedFieldListData: pivot.olapEngineModule.fieldListData,\n                    pageSettings: pivot.pageSettings,\n                    enableValueSorting: pivot.enableValueSorting,\n                    isDrillThrough: (pivot.allowDrillThrough || pivot.editSettings.allowEditing),\n                    localeObj: pivot.localeObj\n                };\n                if (isCalcChange || isSorted) {\n                    pivot.olapEngineModule.savedFieldList = pivot.olapEngineModule.fieldList;\n                    pivot.olapEngineModule.savedFieldListData = pivot.olapEngineModule.fieldListData;\n                    if (isCalcChange) {\n                        pivot.olapEngineModule.updateCalcFields(pivot.dataSourceSettings, pivot.lastCalcFieldInfo);\n                        pivot.lastCalcFieldInfo = {};\n                    }\n                    else {\n                        pivot.olapEngineModule.onSort(pivot.dataSourceSettings);\n                        pivot.lastSortInfo = {};\n                    }\n                }\n                else {\n                    pivot.olapEngineModule.renderEngine(pivot.dataSourceSettings, customProperties);\n                }\n                pivot.setProperties({ pivotValues: pivot.olapEngineModule.pivotValues }, true);\n            }\n            else {\n                /* tslint:disable:align */\n                var customProperties = {\n                    mode: '',\n                    savedFieldList: pivot.engineModule.fieldList,\n                    pageSettings: pivot.pageSettings,\n                    enableValueSorting: pivot.enableValueSorting,\n                    isDrillThrough: (pivot.allowDrillThrough || pivot.editSettings.allowEditing),\n                    localeObj: pivot.localeObj,\n                    fieldsType: pivot.fieldsType\n                };\n                pivot.engineModule.renderEngine(pivot.dataSourceSettings, customProperties, pivot.getValueCellInfo.bind(pivot));\n                pivot.setProperties({ pivotValues: pivot.engineModule.pivotValues }, true);\n            }\n        }\n        var eventArgs = {\n            dataSourceSettings: pivot.dataSourceSettings,\n            pivotValues: isBlazor() ? pivot.engineModule.pivotValues : pivot.pivotValues\n        };\n        pivot.trigger(events.enginePopulated, eventArgs, function (observedArgs) {\n            pivot.dataSourceSettings = observedArgs.dataSourceSettings;\n            if (pivot.dataType === 'olap') {\n                pivot.olapEngineModule.pivotValues = observedArgs.pivotValues;\n                pivot.setProperties({ pivotValues: pivot.olapEngineModule.pivotValues }, true);\n            }\n            else {\n                pivot.engineModule.pivotValues = observedArgs.pivotValues;\n                pivot.setProperties({ pivotValues: pivot.engineModule.pivotValues }, true);\n            }\n            pivot.pivotCommon.engineModule = pivot.dataType === 'olap' ? pivot.olapEngineModule : pivot.engineModule;\n            pivot.pivotCommon.dataSourceSettings = pivot.dataSourceSettings;\n            pivot.renderPivotGrid();\n        });\n        //});\n    };\n    /**\n     * Export Pivot widget data to Excel file(.xlsx).\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns void\n     */\n    /* tslint:disable-next-line:no-any */\n    PivotView.prototype.excelExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n        if (this.enableVirtualization) {\n            this.excelExportModule.exportToExcel('Excel');\n        }\n        else {\n            this.grid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob);\n        }\n    };\n    /**\n     * Export PivotGrid data to CSV file.\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns void\n     */\n    /* tslint:disable-next-line:no-any */\n    PivotView.prototype.csvExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n        if (this.enableVirtualization) {\n            this.excelExportModule.exportToExcel('CSV');\n        }\n        else {\n            this.grid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob);\n        }\n    };\n    /**\n     * Export Pivot widget data to PDF document.\n     * @param  {pdfExportProperties} PdfExportProperties - Defines the export properties of the Grid.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns void\n     */\n    PivotView.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        if (this.enableVirtualization) {\n            this.pdfExportModule.exportToPDF();\n        }\n        else {\n            this.grid.pdfExport(pdfExportProperties, isMultipleExport, pdfDoc, isBlob);\n        }\n    };\n    /**\n     * Export method for the chart.\n     * @param type - Defines the export type.\n     * @param fileName - Defines file name of export document.\n     * @param orientation - Defines the page orientation on pdf export(0 for Portrait mode, 1 for Landscape mode).\n     * @param width - Defines width of the export document.\n     * @param height - Defines height of the export document.\n     */\n    PivotView.prototype.chartExport = function (type, fileName, orientation, width, height) {\n        if (this.chart && this.chart.enableExport) {\n            this.chart.exportModule.export(type, fileName, orientation, null, width, height);\n        }\n    };\n    /**\n     * Print method for the chart.\n     */\n    PivotView.prototype.printChart = function () {\n        if (this.chart) {\n            this.chart.print();\n        }\n    };\n    /** @hidden */\n    /* tslint:disable:max-func-body-length */\n    PivotView.prototype.onDrill = function (target, chartDrillInfo) {\n        var delimiter = (this.dataSourceSettings.drilledMembers[0] && this.dataSourceSettings.drilledMembers[0].delimiter) ?\n            this.dataSourceSettings.drilledMembers[0].delimiter : '**';\n        var fieldName = '';\n        var axis = '';\n        var action = '';\n        if (chartDrillInfo) {\n            fieldName = chartDrillInfo.fieldName;\n            axis = chartDrillInfo.cell.axis;\n            action = chartDrillInfo.isDrilled ? 'up' : 'down';\n        }\n        else {\n            fieldName = target.parentElement.getAttribute('fieldname');\n            axis = target.parentElement.classList.contains(cls.ROWSHEADER) ? 'row' : 'column';\n            action = target.classList.contains(cls.COLLAPSE) ? 'up' : 'down';\n        }\n        if (this.dataType === 'pivot') {\n            var currentCell = chartDrillInfo ? chartDrillInfo.cell :\n                this.engineModule.pivotValues[Number(target.parentElement.getAttribute('index'))][Number(target.parentElement.getAttribute('aria-colindex'))];\n            var memberName = currentCell.valueSort.levelName.\n                split(this.engineModule.valueSortSettings.headerDelimiter).join(delimiter);\n            var fieldAvail = false;\n            if (this.dataSourceSettings.drilledMembers.length === 0) {\n                /* tslint:disable-next-line:max-line-length */\n                this.setProperties({ dataSourceSettings: { drilledMembers: [{ name: fieldName, items: [memberName], delimiter: delimiter }] } }, true);\n            }\n            else {\n                for (var fCnt = 0; fCnt < this.dataSourceSettings.drilledMembers.length; fCnt++) {\n                    var field = this.dataSourceSettings.drilledMembers[fCnt];\n                    memberName = memberName.split(delimiter).join(field.delimiter ? field.delimiter : delimiter);\n                    delimiter = field.delimiter = field.delimiter ? field.delimiter : delimiter;\n                    if (field.name === fieldName) {\n                        fieldAvail = true;\n                        var memIndex = field.items.indexOf(memberName);\n                        if (memIndex > -1) {\n                            field.items.splice(memIndex, 1);\n                        }\n                        else {\n                            field.items.push(memberName);\n                        }\n                    }\n                    else {\n                        continue;\n                    }\n                }\n                if (!fieldAvail) {\n                    this.dataSourceSettings.drilledMembers.push({ name: fieldName, items: [memberName], delimiter: delimiter });\n                }\n            }\n            showSpinner(this.element);\n            var pivot = this;\n            //setTimeout(() => {\n            var drilledItem = {\n                fieldName: fieldName, memberName: memberName, delimiter: delimiter,\n                axis: axis,\n                action: action,\n                currentCell: currentCell\n            };\n            pivot.trigger(events.drill, {\n                drillInfo: drilledItem,\n                pivotview: isBlazor() ? undefined : pivot\n            });\n            if (pivot.enableVirtualization) {\n                pivot.engineModule.drilledMembers = pivot.dataSourceSettings.drilledMembers;\n                pivot.engineModule.onDrill(drilledItem);\n            }\n            else {\n                pivot.engineModule.generateGridData(pivot.dataSourceSettings);\n            }\n            pivot.setProperties({ pivotValues: pivot.engineModule.pivotValues }, true);\n            pivot.renderPivotGrid();\n            //});\n        }\n        else {\n            this.onOlapDrill(fieldName, axis, action, delimiter, target, chartDrillInfo);\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotView.prototype.onOlapDrill = function (fieldName, axis, action, delimiter, target, chartDrillInfo) {\n        var currentCell = chartDrillInfo ? chartDrillInfo.cell :\n            this.olapEngineModule.pivotValues[Number(target.parentElement.getAttribute('index'))][Number(target.parentElement.getAttribute('aria-colindex'))];\n        var tupInfo = axis === 'row' ? this.olapEngineModule.tupRowInfo[currentCell.ordinal] :\n            this.olapEngineModule.tupColumnInfo[currentCell.ordinal];\n        var drillInfo = {\n            axis: axis,\n            action: action,\n            fieldName: fieldName,\n            delimiter: delimiter,\n            memberName: tupInfo.uNameCollection,\n            currentCell: currentCell\n        };\n        /* tslint:disable-next-line:max-line-length */\n        var fieldPos = tupInfo.drillInfo.map(function (item) { return item.hierarchy; }).indexOf(currentCell.hierarchy.toString());\n        if (drillInfo && drillInfo.action === 'down') {\n            this.olapEngineModule.drilledSets[currentCell.actualText] = tupInfo.members[fieldPos];\n            var fields = drillInfo.memberName.split('::');\n            var member = '';\n            for (var pos = 0; pos <= fieldPos; pos++) {\n                var field = fields[pos];\n                var members = field.split('~~');\n                member = member + (member !== '' ? '~~' : '') + members[members.length - 1];\n            }\n            drillInfo.memberName = member;\n            var drillItem = [];\n            for (var _i = 0, _a = this.dataSourceSettings.drilledMembers; _i < _a.length; _i++) {\n                var field = _a[_i];\n                if (field.name === drillInfo.fieldName) {\n                    drillItem.push(field);\n                }\n            }\n            if (drillItem.length > 0) {\n                if (drillItem[0].delimiter) {\n                    member = member.replace(/~~/g, drillItem[0].delimiter);\n                }\n                var index = PivotUtil.inArray(member, drillItem[0].items);\n                if (index === -1) {\n                    drillItem[0].items.push(member);\n                }\n            }\n            else {\n                var drilledMember = { name: drillInfo.fieldName, items: [member], delimiter: '~~' };\n                if (!this.dataSourceSettings.drilledMembers) {\n                    this.dataSourceSettings.drilledMembers = [drilledMember];\n                }\n                else {\n                    this.dataSourceSettings.drilledMembers.push(drilledMember);\n                }\n            }\n            this.olapEngineModule.updateDrilledInfo(this.dataSourceSettings);\n        }\n        else {\n            delete this.olapEngineModule.drilledSets[currentCell.actualText];\n            var drillSets = this.olapEngineModule.getDrilledSets(drillInfo.memberName, currentCell, fieldPos, axis);\n            var keys = Object.keys(drillSets);\n            for (var _b = 0, keys_1 = keys; _b < keys_1.length; _b++) {\n                var key = keys_1[_b];\n                var drillSet = drillSets[key];\n                for (var i = 0, cnt = this.dataSourceSettings.drilledMembers.length; i < cnt; i++) {\n                    var drillItem = this.dataSourceSettings.drilledMembers[i];\n                    var member = drillSet;\n                    if (drillItem.delimiter) {\n                        member = drillSet.replace(/~~/g, drillItem.delimiter);\n                    }\n                    var items = [];\n                    for (var itemPos = 0; itemPos < drillItem.items.length; itemPos++) {\n                        if (drillItem.items[itemPos].indexOf(member) !== 0) {\n                            items[items.length] = drillItem.items[itemPos];\n                        }\n                    }\n                    drillItem.items = items;\n                }\n            }\n            var drilledMembers = [];\n            for (var _c = 0, _d = this.dataSourceSettings.drilledMembers; _c < _d.length; _c++) {\n                var fields = _d[_c];\n                if (fields.items.length > 0) {\n                    drilledMembers.push(fields);\n                }\n            }\n            this.setProperties({ dataSourceSettings: { drilledMembers: drilledMembers } }, true);\n            this.olapEngineModule.updateDrilledInfo(this.dataSourceSettings);\n        }\n        this.setProperties({ pivotValues: this.olapEngineModule.pivotValues }, true);\n        this.renderPivotGrid();\n    };\n    PivotView.prototype.onContentReady = function () {\n        if (this.currentView !== 'Table') {\n            /* tslint:disable-next-line */\n            if (this.cellTemplate && isBlazor()) {\n                resetBlazorTemplate(this.element.id + '_cellTemplate', 'CellTemplate');\n            }\n        }\n        this.isPopupClicked = false;\n        if (this.showFieldList) {\n            hideSpinner(this.pivotFieldListModule.fieldListSpinnerElement);\n        }\n        else if (this.fieldListSpinnerElement) {\n            hideSpinner(this.fieldListSpinnerElement);\n        }\n        if (!this.isEmptyGrid) {\n            hideSpinner(this.element);\n            this.trigger(events.dataBound);\n        }\n        else {\n            this.isEmptyGrid = false;\n        }\n        if (this.grid) {\n            var engine = this.dataType === 'pivot' ? this.engineModule : this.olapEngineModule;\n            if (this.enableVirtualization && engine) {\n                if (this.element.querySelector('.' + cls.MOVABLECONTENT_DIV) &&\n                    !this.element.querySelector('.' + cls.MOVABLECONTENT_DIV).querySelector('.' + cls.VIRTUALTRACK_DIV)) {\n                    this.virtualDiv = createElement('div', { className: cls.VIRTUALTRACK_DIV });\n                    this.element.querySelector('.' + cls.MOVABLECONTENT_DIV).appendChild(this.virtualDiv);\n                }\n                if (this.element.querySelector('.' + cls.MOVABLEHEADER_DIV) &&\n                    !this.element.querySelector('.' + cls.MOVABLEHEADER_DIV).querySelector('.' + cls.VIRTUALTRACK_DIV)) {\n                    this.virtualHeaderDiv = createElement('div', { className: cls.VIRTUALTRACK_DIV });\n                    this.element.querySelector('.' + cls.MOVABLEHEADER_DIV).appendChild(this.virtualHeaderDiv);\n                }\n                else {\n                    this.virtualHeaderDiv =\n                        this.element.querySelector('.' + cls.MOVABLEHEADER_DIV).querySelector('.' + cls.VIRTUALTRACK_DIV);\n                }\n                var movableTable = this.element.querySelector('.' + cls.MOVABLECONTENT_DIV).querySelector('.e-table');\n                var vHeight = (this.gridSettings.rowHeight * engine.rowCount + 0.1 - movableTable.clientHeight);\n                if (vHeight > this.scrollerBrowserLimit) {\n                    this.verticalScrollScale = vHeight / this.scrollerBrowserLimit;\n                    vHeight = this.scrollerBrowserLimit;\n                }\n                var vWidth = (this.gridSettings.columnWidth * engine.columnCount\n                    - this.grid.columns[0].width);\n                if (vWidth > this.scrollerBrowserLimit) {\n                    this.horizontalScrollScale = vWidth / this.scrollerBrowserLimit;\n                    vWidth = this.scrollerBrowserLimit;\n                }\n                setStyleAttribute(this.virtualDiv, {\n                    height: (vHeight > 0.1 ? vHeight : 0.1) + 'px',\n                    width: (vWidth > 0.1 ? vWidth : 0.1) + 'px'\n                });\n                setStyleAttribute(this.virtualHeaderDiv, {\n                    height: 0, width: (vWidth > 0.1 ? vWidth : 0.1) + 'px'\n                });\n                var mCnt = this.element.querySelector('.' + cls.MOVABLECONTENT_DIV);\n                var fCnt = this.element.querySelector('.' + cls.FROZENCONTENT_DIV);\n                var mHdr = this.element.querySelector('.' + cls.MOVABLEHEADER_DIV);\n                var verOffset = (mCnt.scrollTop > this.scrollerBrowserLimit) ?\n                    mCnt.querySelector('.' + cls.TABLE).style.transform.split(',')[1].trim() :\n                    -(((mCnt.scrollTop * this.verticalScrollScale) - this.scrollPosObject.verticalSection - mCnt.scrollTop)) + 'px)';\n                var horiOffset = (mCnt.scrollLeft > this.scrollerBrowserLimit) ?\n                    (mCnt.querySelector('.' + cls.TABLE).style.transform.split(',')[0].trim() + ',') :\n                    'translate(' + -(((mCnt.scrollLeft * this.horizontalScrollScale) -\n                        this.scrollPosObject.horizontalSection - mCnt.scrollLeft)) + 'px,';\n                setStyleAttribute(fCnt.querySelector('.e-table'), {\n                    transform: 'translate(' + 0 + 'px,' + verOffset\n                });\n                setStyleAttribute(mCnt.querySelector('.e-table'), {\n                    transform: horiOffset + verOffset\n                });\n                setStyleAttribute(mHdr.querySelector('.e-table'), {\n                    transform: horiOffset + 0 + 'px)'\n                });\n            }\n            if (this.showGroupingBar) {\n                this.element.style.minWidth = '400px';\n                this.grid.element.style.minWidth = '400px';\n            }\n            else {\n                this.element.style.minWidth = '310px';\n                this.grid.element.style.minWidth = '310px';\n            }\n        }\n        this.unwireEvents();\n        this.wireEvents();\n        this.isChartLoaded = false;\n        /* tslint:disable-next-line */\n        if (this.cellTemplate && isBlazor()) {\n            var gridCells = Object.keys(this.gridCellCollection);\n            if (gridCells.length > 0) {\n                for (var _i = 0, gridCells_1 = gridCells; _i < gridCells_1.length; _i++) {\n                    var cell = gridCells_1[_i];\n                    /* tslint:disable-next-line */\n                    var templateObject = {};\n                    var tCell = this.gridCellCollection[cell];\n                    var colIndex = Number(tCell.getAttribute('aria-colindex'));\n                    var rowIndex = Number(tCell.getAttribute('index'));\n                    var pivotCell = this.pivotValues[rowIndex][colIndex];\n                    templateObject.axis = pivotCell.axis;\n                    if (templateObject.axis === 'column' || templateObject.axis === 'row') {\n                        templateObject.fieldName = pivotCell.valueSort.axis;\n                        templateObject.formattedText = pivotCell.formattedText;\n                    }\n                    else {\n                        templateObject.fieldName = pivotCell.actualText;\n                        templateObject.formattedText = pivotCell.formattedText;\n                        templateObject.value = pivotCell.value;\n                    }\n                    /* tslint:disable-next-line */\n                    append([].slice.call(this.getCellTemplate()(templateObject, this, 'cellTemplate', this.element.id + '_cellTemplate')), tCell);\n                }\n                updateBlazorTemplate(this.element.id + '_cellTemplate', 'CellTemplate', this);\n            }\n        }\n    };\n    PivotView.prototype.setToolTip = function (args) {\n        var colIndex = Number(args.target.getAttribute('aria-colindex'));\n        var rowIndex = Number(args.target.getAttribute('index'));\n        var cell = this.pivotValues[rowIndex][colIndex];\n        this.tooltip.content = '';\n        var aggregateType;\n        var caption;\n        var hasField = false;\n        if (cell && this.dataType === 'olap') {\n            if (this.olapEngineModule.fieldList[cell.actualText]) {\n                var field = this.olapEngineModule.fieldList[cell.actualText];\n                aggregateType = field.isCalculatedField ? field.type : field.aggregateType;\n                caption = field.caption;\n                hasField = true;\n            }\n        }\n        else {\n            if (cell && this.engineModule.fieldList[cell.actualText]) {\n                var field = this.engineModule.fieldList[cell.actualText];\n                aggregateType = field.aggregateType;\n                caption = field.caption;\n                hasField = true;\n            }\n        }\n        if (cell && hasField) {\n            this.tooltip.content = '<div class=' + cls.PIVOTTOOLTIP + '><p class=' + cls.TOOLTIP_HEADER + '>' +\n                this.localeObj.getConstant('row') + ':</p><p class=' + cls.TOOLTIP_CONTENT + '>' +\n                this.getRowText(rowIndex, 0) +\n                '</p></br><p class=' + cls.TOOLTIP_HEADER + '>' +\n                this.localeObj.getConstant('column') + ':</p><p class=' + cls.TOOLTIP_CONTENT + '>' +\n                this.getColText(0, colIndex, rowIndex) + '</p></br>' + (cell.actualText !== '' ? ('<p class=' + cls.TOOLTIP_HEADER + '>' +\n                (this.dataType === 'olap' ? '' :\n                    (this.localeObj.getConstant(aggregateType) + ' ' + this.localeObj.getConstant('of') + ' ')) +\n                caption + ':</p><p class=' + cls.TOOLTIP_CONTENT + '>' +\n                (((cell.formattedText === '0' || cell.formattedText === '') ?\n                    this.localeObj.getConstant('noValue') : cell.formattedText)) + '</p></div>') : '');\n        }\n        else {\n            args.cancel = true;\n        }\n    };\n    PivotView.prototype.getRowText = function (rowIndex, colIndex) {\n        var cell = this.pivotValues[rowIndex][colIndex];\n        var level = cell.level;\n        var rowText = cell.type === 'grand sum' ? this.localeObj.getConstant('grandTotal') : cell.formattedText;\n        while (level > 0 || cell.index === undefined) {\n            rowIndex--;\n            cell = this.pivotValues[rowIndex][colIndex];\n            if (cell.index !== undefined) {\n                if (level > cell.level) {\n                    rowText = rowText + ' - ' + cell.formattedText;\n                    level = level - 1;\n                }\n            }\n        }\n        return rowText.split(' - ').reverse().join(' - ');\n    };\n    PivotView.prototype.getColText = function (rowIndex, colIndex, limit) {\n        var cell = this.pivotValues[0][colIndex];\n        var axis = cell.axis;\n        var colText = cell.type === 'grand sum' ? this.localeObj.getConstant('grandTotal') : cell.formattedText;\n        while (axis !== 'value' && limit > rowIndex) {\n            rowIndex++;\n            if (this.pivotValues[rowIndex]) {\n                cell = this.pivotValues[rowIndex][colIndex];\n                axis = cell.axis;\n                if (cell.type !== 'sum' && cell.type !== 'grand sum' && axis !== 'value') {\n                    colText = colText + ' - ' + cell.formattedText;\n                }\n            }\n        }\n        return colText;\n    };\n    PivotView.prototype.updateClass = function () {\n        if (this.enableRtl) {\n            addClass([this.element], cls.RTL);\n        }\n        else {\n            removeClass([this.element], cls.RTL);\n        }\n        if (this.isAdaptive) {\n            addClass([this.element], cls.DEVICE);\n        }\n        else {\n            removeClass([this.element], cls.DEVICE);\n        }\n    };\n    PivotView.prototype.mouseRclickHandler = function (e) {\n        if (e.which === 3) {\n            this.lastCellClicked = e.target;\n        }\n        else if (e.which === 0) {\n            this.lastCellClicked = e.target;\n        }\n        this.lastCellClicked = e.target;\n    };\n    PivotView.prototype.mouseDownHandler = function (e) {\n        if (e.which === 3) {\n            this.lastCellClicked = e.target;\n        }\n        if (this.isCellBoxMultiSelection) {\n            this.isMouseDown = true;\n            this.isMouseUp = false;\n            var parent_1 = this.parentAt(e.target, 'TH');\n            this.clearSelection(parent_1, e, Number(parent_1.getAttribute('aria-colindex')), Number(parent_1.getAttribute('index')));\n            this.lastSelectedElement = undefined;\n        }\n    };\n    PivotView.prototype.mouseMoveHandler = function (e) {\n        if (this.isCellBoxMultiSelection) {\n            e.preventDefault();\n            if (this.isMouseDown && e.target) {\n                var ele = e.target;\n                var parentElement = this.parentAt(ele, 'TH');\n                if (this.lastSelectedElement && this.lastSelectedElement !== parentElement &&\n                    parentElement.classList.contains(cls.SELECTED_BGCOLOR)) {\n                    this.lastSelectedElement.classList.remove(cls.CELL_ACTIVE_BGCOLOR);\n                    this.lastSelectedElement.classList.remove(cls.SELECTED_BGCOLOR);\n                    this.lastSelectedElement = parentElement;\n                }\n                else {\n                    this.lastSelectedElement = parentElement;\n                    parentElement.classList.add(cls.CELL_ACTIVE_BGCOLOR);\n                    parentElement.classList.add(cls.SELECTED_BGCOLOR);\n                }\n                this.renderModule.selected();\n            }\n        }\n    };\n    PivotView.prototype.mouseUpHandler = function (e) {\n        if (this.isCellBoxMultiSelection) {\n            this.isMouseDown = false;\n            this.isMouseUp = true;\n        }\n    };\n    PivotView.prototype.parentAt = function (target, tagName) {\n        while (target.tagName !== tagName) {\n            if (target.parentElement) {\n                target = target.parentElement;\n            }\n            else {\n                break;\n            }\n        }\n        return target;\n    };\n    PivotView.prototype.mouseClickHandler = function (e) {\n        if (e.which === 3) {\n            this.lastCellClicked = e.target;\n        }\n        else if (e.which === 0) {\n            this.lastCellClicked = e.target;\n        }\n        var target = e.target;\n        if ((target.classList.contains('e-headercell') ||\n            target.classList.contains('e-headercelldiv') ||\n            target.classList.contains('e-rowsheader') ||\n            target.classList.contains('e-rowcell') ||\n            target.classList.contains('e-stackedheadercelldiv') ||\n            target.classList.contains('e-headertext') ||\n            target.classList.contains('e-ascending') ||\n            target.classList.contains('e-descending')) && this.enableValueSorting && this.dataType === 'pivot') {\n            var ele = null;\n            if (target.classList.contains('e-headercell') || target.classList.contains('e-rowsheader')\n                || target.classList.contains('e-rowcell')) {\n                ele = target;\n            }\n            else if (target.classList.contains('e-stackedheadercelldiv') || target.classList.contains('e-headercelldiv') ||\n                target.classList.contains('e-ascending') || target.classList.contains('e-descending')) {\n                ele = target.parentElement;\n            }\n            else if (target.classList.contains('e-headertext')) {\n                ele = target.parentElement.parentElement;\n            }\n            this.CellClicked(target, e);\n            if ((ele.parentElement.parentElement.parentElement.parentElement.classList.contains('e-movableheader')\n                && this.dataSourceSettings.valueAxis === 'column') || (ele.parentElement.classList.contains('e-row') &&\n                this.dataSourceSettings.valueAxis === 'row') && (ele.classList.contains('e-rowsheader') ||\n                ele.classList.contains('e-stot'))) {\n                /* tslint:disable */\n                var colIndex = Number(ele.getAttribute('aria-colindex'));\n                var rowIndex = Number(ele.getAttribute('index'));\n                if (this.dataSourceSettings.valueAxis === 'row' && (this.dataSourceSettings.values.length > 1 || this.dataSourceSettings.alwaysShowValueHeader)) {\n                    rowIndex = this.pivotValues[rowIndex][colIndex].type === 'value' ? rowIndex : (rowIndex + 1);\n                }\n                else if (this.dataSourceSettings.valueAxis === 'column' && (this.dataSourceSettings.values.length > 1 || this.dataSourceSettings.alwaysShowValueHeader)) {\n                    colIndex = (Number(ele.getAttribute('aria-colindex')) + Number(ele.getAttribute('aria-colspan')) - 1);\n                    rowIndex = this.engineModule.headerContent.length - 1;\n                }\n                this.setProperties({\n                    dataSourceSettings: {\n                        valueSortSettings: {\n                            columnIndex: (Number(ele.getAttribute('aria-colindex')) +\n                                Number(ele.getAttribute('aria-colspan')) - 1),\n                            sortOrder: this.dataSourceSettings.valueSortSettings.sortOrder === 'Descending' ? 'Ascending' : 'Descending',\n                            headerText: this.pivotValues[rowIndex][colIndex].valueSort.levelName,\n                            headerDelimiter: this.dataSourceSettings.valueSortSettings.headerDelimiter ?\n                                this.dataSourceSettings.valueSortSettings.headerDelimiter : '.'\n                        }\n                    }\n                }, true);\n                /* tslint:enable */\n                showSpinner(this.element);\n                var pivot = this;\n                //setTimeout(() => {\n                pivot.engineModule.enableValueSorting = true;\n                if (pivot.enableVirtualization) {\n                    if (pivot.dataSourceSettings.enableSorting) {\n                        for (var _i = 0, _a = Object.keys(pivot.engineModule.fieldList); _i < _a.length; _i++) {\n                            var key = _a[_i];\n                            pivot.engineModule.fieldList[key].sort = 'Ascending';\n                        }\n                        pivot.setProperties({ dataSourceSettings: { sortSettings: [] } }, true);\n                    }\n                    pivot.engineModule.rMembers = pivot.engineModule.headerCollection.rowHeaders;\n                    pivot.engineModule.cMembers = pivot.engineModule.headerCollection.columnHeaders;\n                    pivot.engineModule.applyValueSorting();\n                    pivot.engineModule.updateEngine();\n                }\n                else {\n                    pivot.engineModule.generateGridData(pivot.dataSourceSettings);\n                }\n                pivot.setProperties({ pivotValues: pivot.engineModule.pivotValues }, true);\n                pivot.renderPivotGrid();\n                //});\n            }\n        }\n        else if (target.classList.contains(cls.COLLAPSE) || target.classList.contains(cls.EXPAND)) {\n            this.onDrill(target);\n        }\n        else {\n            this.CellClicked(target, e);\n            return;\n        }\n    };\n    PivotView.prototype.framePivotColumns = function (gridcolumns) {\n        for (var _i = 0, gridcolumns_1 = gridcolumns; _i < gridcolumns_1.length; _i++) {\n            var column = gridcolumns_1[_i];\n            if (column.columns && column.columns.length > 0) {\n                this.framePivotColumns(column.columns);\n            }\n            else {\n                /* tslint:disable */\n                var levelName = column.field === '0.formattedText' ? '' :\n                    (column.customAttributes ? column.customAttributes.cell.valueSort.levelName : '');\n                var width = this.renderModule.setSavedWidth(column.field === '0.formattedText' ? column.field :\n                    levelName, Number(column.width === 'auto' ? column.minWidth : column.width));\n                this.pivotColumns.push({\n                    allowReordering: column.allowReordering,\n                    allowResizing: column.allowResizing,\n                    headerText: levelName,\n                    width: width\n                });\n                this.totColWidth = this.totColWidth + Number(width);\n                /* tslint:enable */\n            }\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.setGridColumns = function (gridcolumns) {\n        if (this.element.offsetWidth < this.totColWidth) {\n            for (var _i = 0, gridcolumns_2 = gridcolumns; _i < gridcolumns_2.length; _i++) {\n                var column = gridcolumns_2[_i];\n                if (column.columns && column.columns.length > 0) {\n                    this.setGridColumns(column.columns);\n                }\n                else {\n                    /* tslint:disable */\n                    var levelName = column.field === '0.formattedText' ? '' :\n                        (column.customAttributes ? column.customAttributes.cell.valueSort.levelName : '');\n                    column.allowReordering = this.pivotColumns[this.posCount].allowReordering;\n                    column.allowResizing = this.pivotColumns[this.posCount].allowResizing;\n                    var calcWidth = this.renderModule.setSavedWidth(column.field === '0.formattedText' ? column.field :\n                        levelName, Number(this.pivotColumns[this.posCount].width));\n                    if (column.width !== 'auto') {\n                        column.width = calcWidth;\n                    }\n                    else {\n                        column.minWidth = calcWidth;\n                    }\n                    this.posCount++;\n                    if (column.allowReordering) {\n                        this.gridSettings.allowReordering = true;\n                    }\n                    if (column.allowResizing) {\n                        this.gridSettings.allowResizing = true;\n                    }\n                }\n            }\n            if (this.gridSettings.allowReordering) {\n                Grid.Inject(Reorder);\n            }\n            if (this.gridSettings.allowResizing) {\n                Grid.Inject(Resize);\n            }\n            /* tslint:enable */\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.fillGridColumns = function (gridcolumns) {\n        for (var _i = 0, gridcolumns_3 = gridcolumns; _i < gridcolumns_3.length; _i++) {\n            var column = gridcolumns_3[_i];\n            column.allowReordering = this.gridSettings.allowReordering;\n            column.allowResizing = this.gridSettings.allowResizing;\n            this.posCount++;\n            if (column.columns && column.columns.length > 0) {\n                this.fillGridColumns(column.columns);\n            }\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.triggerColumnRenderEvent = function (gridcolumns) {\n        this.pivotColumns = [];\n        this.totColWidth = 0;\n        this.framePivotColumns(gridcolumns);\n        var firstColWidth = this.pivotColumns[0].width;\n        var eventArgs = {\n            columns: this.pivotColumns,\n            dataSourceSettings: this.dataSourceSettings\n        };\n        this.trigger(events.beforeColumnsRender, eventArgs);\n        if (firstColWidth !== this.pivotColumns[0].width && this.element.offsetWidth < this.totColWidth) {\n            this.firstColWidth = this.pivotColumns[0].width;\n        }\n        this.posCount = 0;\n        this.setGridColumns(gridcolumns);\n    };\n    /** @hidden */\n    PivotView.prototype.setCommonColumnsWidth = function (columns, width) {\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (column.field !== '0.formattedText') {\n                if (column.columns) {\n                    this.setCommonColumnsWidth(column.columns, width);\n                }\n                else {\n                    if (column.width !== 'auto') {\n                        column.width = width;\n                    }\n                    else {\n                        column.minWidth = width;\n                    }\n                }\n            }\n            else {\n                column.width = !this.firstColWidth ? column.width : this.firstColWidth;\n            }\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.getHeightAsNumber = function () {\n        var height;\n        if (isNaN(this.height)) {\n            if (this.height.toString().indexOf('%') > -1) {\n                height = (parseFloat(this.height.toString()) / 100) * this.element.offsetHeight;\n            }\n            else if (this.height.toString().indexOf('px') > -1) {\n                height = Number(this.height.toString().split('px')[0]);\n            }\n        }\n        else {\n            height = Number(this.height);\n        }\n        if (height < this.gridSettings.rowHeight) {\n            height = this.gridSettings.rowHeight;\n        }\n        return height;\n    };\n    /** @hidden */\n    PivotView.prototype.getWidthAsNumber = function () {\n        var width;\n        if (isNaN(this.width)) {\n            if (this.width.toString().indexOf('%') > -1) {\n                width = (parseFloat(this.width.toString()) / 100) * this.element.offsetWidth;\n            }\n            else if (this.width.toString().indexOf('px') > -1) {\n                width = Number(this.width.toString().split('px')[0]);\n            }\n            if (isNaN(width)) {\n                width = this.element.offsetWidth;\n            }\n        }\n        else {\n            width = Number(this.width);\n        }\n        if (width < 400) {\n            width = 400;\n        }\n        return width;\n    };\n    /** @hidden */\n    PivotView.prototype.getGridWidthAsNumber = function () {\n        var width;\n        if (isNaN(this.grid.width)) {\n            if (this.grid.width.toString().indexOf('%') > -1) {\n                width = (parseFloat(this.grid.width.toString()) / 100) * this.element.offsetWidth;\n            }\n            else if (this.grid.width.toString().indexOf('px') > -1) {\n                width = Number(this.grid.width.toString().split('px')[0]);\n            }\n            if (isNaN(width)) {\n                width = this.element.offsetWidth;\n            }\n        }\n        else {\n            width = Number(this.grid.width);\n        }\n        return width;\n    };\n    /** @hidden */\n    PivotView.prototype.onWindowResize = function () {\n        /* tslint:disable */\n        clearTimeout(this.timeOutObj);\n        this.timeOutObj = setTimeout(this.layoutRefresh.bind(this), 500);\n        /* tslint:enable */\n    };\n    /**\n     * Refreshes the Pivot Table for blazor layourRefresh is called for other base refresh is called\n     */\n    PivotView.prototype.refresh = function () {\n        if (isBlazor()) {\n            this.layoutRefresh();\n        }\n        else {\n            this.pivotRefresh();\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.layoutRefresh = function () {\n        if (this.element && this.element.classList.contains('e-pivotview') &&\n            (this.dataType === 'olap' ? (this.olapEngineModule && this.olapEngineModule.pivotValues) :\n                this.engineModule && this.engineModule.pivotValues)) {\n            if (this.grid) {\n                var colLength = (this.dataType === 'olap' && this.olapEngineModule.pivotValues.length > 0) ?\n                    this.olapEngineModule.pivotValues[0].length : (this.dataSourceSettings.values.length > 0 &&\n                    this.engineModule.pivotValues.length > 0 ? this.engineModule.pivotValues[0].length : 2);\n                var colWidth = this.renderModule.resizeColWidth(colLength);\n                this.grid.width = this.renderModule.calculateGridWidth();\n                this.renderModule.calculateGridHeight(true);\n                this.setCommonColumnsWidth(this.grid.columns, colWidth);\n                this.posCount = 0;\n                if (!this.showGroupingBar) {\n                    this.setGridColumns(this.grid.columns);\n                }\n                if (this.currentView === 'Table') {\n                    /* tslint:disable-next-line */\n                    if (this.cellTemplate && isBlazor()) {\n                        resetBlazorTemplate(this.element.id + '_cellTemplate', 'CellTemplate');\n                    }\n                }\n                this.grid.refreshColumns();\n                if (this.showGroupingBar && this.groupingBarModule && this.element.querySelector('.' + cls.GROUPING_BAR_CLASS)) {\n                    this.groupingBarModule.setGridRowWidth();\n                }\n            }\n            if (this.showToolbar && this.toolbarModule) {\n                this.toolbarModule.toolbar.width = this.grid ? (this.getGridWidthAsNumber() - 2) : (this.getWidthAsNumber() - 2);\n            }\n            if (this.chart) {\n                this.chart.width = (this.showToolbar && this.grid) ? this.getGridWidthAsNumber().toString() :\n                    this.getWidthAsNumber().toString();\n            }\n        }\n    };\n    PivotView.prototype.CellClicked = function (target, e) {\n        var _this_1 = this;\n        var ele = null;\n        if (target.classList.contains('e-headercell') || target.classList.contains('e-rowcell')) {\n            ele = target;\n        }\n        else if (target.classList.contains('e-stackedheadercelldiv') || target.classList.contains('e-cellvalue') ||\n            target.classList.contains('e-headercelldiv')) {\n            ele = target.parentElement;\n        }\n        else if (target.classList.contains('e-headertext')) {\n            ele = target.parentElement.parentElement;\n        }\n        else if (target.classList.contains(cls.ROW_SELECT)) {\n            if (target.classList.contains(cls.SPAN_CLICKED)) {\n                this.isPopupClicked = false;\n            }\n            else {\n                this.isPopupClicked = true;\n            }\n        }\n        /* tslint:disable */\n        if (ele) {\n            var colIndex_1 = Number(ele.getAttribute('aria-colindex'));\n            var rowIndex_1 = Number(ele.getAttribute('index'));\n            var colSpan_1 = Number(ele.getAttribute('aria-colspan'));\n            // let selectArgs: PivotCellSelectedEventArgs = { isCellClick: true, currentCell: target };\n            var selectArgs = {\n                cancel: false,\n                isCellClick: true,\n                currentCell: ele,\n                data: this.pivotValues[rowIndex_1][colIndex_1]\n            };\n            this.trigger(events.cellSelecting, selectArgs, function (observedArgs) {\n                if (_this_1.gridSettings.allowSelection) {\n                    if (_this_1.gridSettings.selectionSettings.mode === 'Both' ? !ele.classList.contains(cls.ROW_CELL_CLASS) :\n                        _this_1.gridSettings.selectionSettings.mode !== 'Row') {\n                        _this_1.clearSelection(ele, e, colIndex_1, rowIndex_1);\n                        if (!observedArgs.cancel) {\n                            _this_1.applyColumnSelection(e, ele, colIndex_1, colIndex_1 + (colSpan_1 > 0 ? (colSpan_1 - 1) : 0), rowIndex_1);\n                        }\n                    }\n                    else {\n                        _this_1.clearSelection(ele, e, colIndex_1, rowIndex_1);\n                    }\n                    if (_this_1.gridSettings.selectionSettings.type === 'Multiple' &&\n                        (_this_1.gridSettings.selectionSettings.mode === 'Row' || _this_1.gridSettings.selectionSettings.mode === 'Both')) {\n                        _this_1.applyRowSelection(0, rowIndex_1, e);\n                    }\n                }\n                if (_this_1.cellClick && observedArgs.isCellClick) {\n                    _this_1.trigger(events.cellClick, {\n                        currentCell: ele,\n                        data: _this_1.pivotValues[rowIndex_1][colIndex_1]\n                    });\n                }\n            });\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.clearSelection = function (ele, e, colIndex, rowIndex) {\n        if ((!e.shiftKey && !e.ctrlKey) || this.gridSettings.selectionSettings.type === 'Single') {\n            if (this.gridSettings.selectionSettings.mode === 'Cell') {\n                if (ele.classList.contains(cls.COLUMNSHEADER)) {\n                    [].slice.call(this.element.querySelectorAll(('.' + cls.ROW_CELL_CLASS + '.') + cls.CELL_SELECTED_BGCOLOR)).forEach(function (ele) {\n                        ele.classList.remove(cls.CELL_SELECTED_BGCOLOR);\n                    });\n                }\n                else {\n                    [].slice.call(this.element.querySelectorAll(('.' + cls.COLUMNSHEADER + '.') + cls.CELL_ACTIVE_BGCOLOR)).forEach(function (ele) {\n                        ele.classList.remove(cls.CELL_ACTIVE_BGCOLOR);\n                        ele.classList.remove(cls.SELECTED_BGCOLOR);\n                    });\n                }\n            }\n            else if (this.gridSettings.selectionSettings.mode === 'Both') {\n                if (ele.classList.contains(cls.ROW_CELL_CLASS)) {\n                    [].slice.call(this.element.querySelectorAll('.' + cls.SELECTED_BGCOLOR)).forEach(function (ele) {\n                        if (Number(ele.getAttribute('index')) !== rowIndex) {\n                            ele.classList.remove(cls.CELL_ACTIVE_BGCOLOR);\n                            ele.classList.remove(cls.SELECTED_BGCOLOR);\n                        }\n                    });\n                }\n                else {\n                    [].slice.call(this.element.querySelectorAll('.' + cls.CELL_SELECTED_BGCOLOR)).forEach(function (ele) {\n                        ele.classList.remove(cls.CELL_SELECTED_BGCOLOR);\n                    });\n                }\n            }\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.applyRowSelection = function (colIndex, rowIndex, e) {\n        var pivotValue = this.engineModule.pivotValues[rowIndex][colIndex];\n        if (!e.ctrlKey && !e.shiftKey && pivotValue && pivotValue.members && pivotValue.members.length > 0) {\n            var parentLevel = pivotValue.level;\n            var rCount = rowIndex;\n            do {\n                rCount++;\n                pivotValue = this.engineModule.pivotValues[rCount][colIndex];\n            } while (pivotValue && parentLevel < pivotValue.level);\n            var _this = this;\n            if (this.isAdaptive) {\n                this.rowRangeSelection = {\n                    enable: true,\n                    startIndex: rowIndex - _this.renderModule.rowStartPos,\n                    endIndex: rCount - (1 + _this.renderModule.rowStartPos)\n                };\n            }\n            else {\n                _this.grid.selectionModule.selectRowsByRange(rowIndex -\n                    _this.renderModule.rowStartPos, rCount - (1 + _this.renderModule.rowStartPos));\n            }\n        }\n    };\n    /** @hidden */\n    PivotView.prototype.applyColumnSelection = function (e, target, colStart, colEnd, rowStart) {\n        if (!target.classList.contains(cls.ROWSHEADER) &&\n            (this.gridSettings.selectionSettings.mode === 'Cell' ? target.classList.contains(cls.COLUMNSHEADER) : true)) {\n            var isCtrl_1 = e.ctrlKey;\n            if (this.isAdaptive && this.gridSettings.selectionSettings.type === 'Multiple') {\n                this.grid.selectionModule.showPopup(e);\n                if (this.isPopupClicked) {\n                    this.element.querySelector('.' + cls.ROW_SELECT).classList.add(cls.SPAN_CLICKED);\n                    isCtrl_1 = true;\n                }\n                else {\n                    this.element.querySelector('.' + cls.ROW_SELECT).classList.remove(cls.SPAN_CLICKED);\n                    isCtrl_1 = false;\n                }\n            }\n            var queryStringArray = [];\n            var type = this.gridSettings.selectionSettings.type;\n            var isToggle_1 = target.classList.contains(cls.CELL_ACTIVE_BGCOLOR);\n            var activeColumns_1 = [];\n            var actColPos_1 = {};\n            for (var cCnt = colStart; cCnt <= colEnd; cCnt++) {\n                activeColumns_1.push(cCnt.toString());\n            }\n            if (!isCtrl_1 || type === 'Single') {\n                [].slice.call(this.element.querySelectorAll('.' + cls.CELL_ACTIVE_BGCOLOR)).forEach(function (ele) {\n                    ele.classList.remove(cls.CELL_ACTIVE_BGCOLOR);\n                    ele.classList.remove(cls.SELECTED_BGCOLOR);\n                    if (activeColumns_1.indexOf(ele.getAttribute('aria-colindex')) === -1) {\n                        isToggle_1 = false;\n                    }\n                    var colIndex = Number(ele.getAttribute('aria-colindex'));\n                    actColPos_1[colIndex] = colIndex;\n                });\n                /* tslint:disable-next-line:no-any */\n                activeColumns_1 = Object.keys(actColPos_1).length > 0 ? Object.keys(actColPos_1).sort(function (a, b) {\n                    return a - b;\n                }) : activeColumns_1;\n            }\n            else {\n                isToggle_1 = false;\n            }\n            if (type === 'Multiple' && e.shiftKey) {\n                this.shiftLockedPos = this.shiftLockedPos.length === 0 ? activeColumns_1 : this.shiftLockedPos;\n                if (Number(this.shiftLockedPos[0]) <= colStart) {\n                    colStart = Number(this.shiftLockedPos[0]);\n                }\n                else {\n                    colEnd = colEnd < Number(this.shiftLockedPos[this.shiftLockedPos.length - 1]) ?\n                        Number(this.shiftLockedPos[this.shiftLockedPos.length - 1]) : colEnd;\n                }\n            }\n            else {\n                this.shiftLockedPos = [];\n            }\n            var rowSelectedList_1 = [];\n            if (e.ctrlKey && this.gridSettings.selectionSettings.mode === 'Both' && type === 'Multiple' && !target.classList.contains(cls.ROWSHEADER)) {\n                [].slice.call(this.element.querySelectorAll('.' + cls.ROWSHEADER + '.' + cls.CELL_SELECTED_BGCOLOR)).forEach(function (ele) {\n                    rowSelectedList_1.push(ele.getAttribute('index'));\n                });\n            }\n            var count = colStart;\n            while (count <= colEnd) {\n                queryStringArray.push('[aria-colindex=\"' + count + '\"]' + (this.gridSettings.selectionSettings.mode === 'Cell' ?\n                    '[index=\"' + rowStart + '\"]' : \"\") + '');\n                count++;\n            }\n            if (!isToggle_1) {\n                rowStart = target.classList.contains('e-headercell') ? rowStart : (this.renderModule.rowStartPos - 1);\n                var isTargetSelected_1 = target.classList.contains(cls.CELL_ACTIVE_BGCOLOR);\n                [].slice.call(this.element.querySelectorAll(queryStringArray.toString())).forEach(function (ele) {\n                    if (Number(ele.getAttribute('index')) >= rowStart) {\n                        if (isTargetSelected_1 && isCtrl_1 && (rowSelectedList_1.indexOf(ele.getAttribute('index')) === -1)) {\n                            ele.classList.remove(cls.CELL_ACTIVE_BGCOLOR);\n                            ele.classList.remove(cls.SELECTED_BGCOLOR);\n                        }\n                        else {\n                            ele.classList.add(cls.CELL_ACTIVE_BGCOLOR);\n                            ele.classList.add(cls.SELECTED_BGCOLOR);\n                        }\n                    }\n                });\n            }\n            this.renderModule.selected();\n        }\n    };\n    PivotView.prototype.getSelectedCellsPos = function () {\n        var control = this;\n        control.savedSelectedCellsPos = [];\n        [].slice.call(this.element.querySelectorAll('.' + cls.SELECTED_BGCOLOR)).forEach(function (ele) {\n            control.savedSelectedCellsPos.push({ rowIndex: ele.getAttribute('index'), colIndex: ele.getAttribute('aria-colindex') });\n        });\n    };\n    PivotView.prototype.setSavedSelectedCells = function () {\n        var control = this;\n        [].slice.call(this.savedSelectedCellsPos).forEach(function (item) {\n            var query = '[aria-colindex=\"' + item.colIndex + '\"][index=\"' + item.rowIndex + '\"]';\n            control.element.querySelector(query).classList.add(cls.CELL_ACTIVE_BGCOLOR);\n            control.element.querySelector(query).classList.add(cls.SELECTED_BGCOLOR);\n        });\n    };\n    /* tslint:enable */\n    PivotView.prototype.renderEmptyGrid = function () {\n        var _this_1 = this;\n        this.isEmptyGrid = true;\n        this.renderModule = new Render(this);\n        if (this.grid && this.grid.element && this.element.querySelector('.e-grid')) {\n            /* tslint:disable */\n            this.grid.setProperties({\n                columns: this.renderModule.frameEmptyColumns(),\n                dataSource: this.renderModule.frameEmptyData()\n            }, true);\n            /* tslint:enable */\n            this.grid.notify('datasource-modified', {});\n            this.grid.refreshColumns();\n        }\n        else {\n            if (this.element.querySelector('.' + cls.GRID_CLASS)) {\n                remove(this.element.querySelector('.' + cls.GRID_CLASS));\n            }\n            this.renderModule.bindGrid(this, true);\n            /* tslint:disable:no-empty */\n            this.grid.showSpinner = function () { };\n            this.grid.hideSpinner = function () { };\n            /* tslint:enable:no-empty */\n            this.element.appendChild(createElement('div', { id: this.element.id + '_grid' }));\n            this.grid.isStringTemplate = true;\n            this.grid.appendTo('#' + this.element.id + '_grid');\n            /* tslint:disable-next-line:no-any */\n            this.grid.off('data-ready', this.grid.dataReady);\n            this.grid.on('data-ready', function () {\n                _this_1.grid.scrollModule.setWidth();\n                _this_1.grid.scrollModule.setHeight();\n                _this_1.grid.element.querySelector('.e-movablecontent').style.overflowY = 'auto';\n            });\n        }\n    };\n    /* tslint:disable */\n    PivotView.prototype.initEngine = function () {\n        var _this_1 = this;\n        this.trigger(events.enginePopulating, { dataSourceSettings: this.dataSourceSettings }, function (observedArgs) {\n            _this_1.dataSourceSettings = observedArgs.dataSourceSettings;\n            _this_1.updatePageSettings(false);\n            /* tslint:disable:align */\n            var customProperties = {\n                mode: '',\n                savedFieldList: undefined,\n                pageSettings: _this_1.pageSettings,\n                enableValueSorting: _this_1.enableValueSorting,\n                isDrillThrough: (_this_1.allowDrillThrough || _this_1.editSettings.allowEditing),\n                localeObj: _this_1.localeObj,\n                fieldsType: _this_1.fieldsType\n            };\n            if (_this_1.dataType === 'pivot') {\n                if (_this_1.dataSourceSettings.groupSettings && _this_1.dataSourceSettings.groupSettings.length > 0) {\n                    var dataSet = _this_1.engineModule.data;\n                    _this_1.clonedDataSet = (_this_1.clonedDataSet ? _this_1.clonedDataSet : PivotUtil.getClonedData(dataSet));\n                    _this_1.setProperties({ dataSourceSettings: { dataSource: [] } }, true);\n                    _this_1.clonedReport = _this_1.clonedReport ? _this_1.clonedReport : extend({}, _this_1.dataSourceSettings, null, true);\n                    _this_1.setProperties({ dataSourceSettings: { dataSource: dataSet } }, true);\n                }\n                _this_1.engineModule.renderEngine(_this_1.dataSourceSettings, customProperties, _this_1.getValueCellInfo.bind(_this_1));\n                _this_1.setProperties({ pivotValues: _this_1.engineModule.pivotValues }, true);\n            }\n            else if (_this_1.dataSourceSettings.providerType === 'SSAS' && _this_1.dataType === 'olap') {\n                customProperties.savedFieldListData = undefined;\n                _this_1.olapEngineModule.renderEngine(_this_1.dataSourceSettings, customProperties);\n                _this_1.setProperties({ pivotValues: _this_1.olapEngineModule.pivotValues }, true);\n            }\n            var this$ = _this_1;\n            _this_1.trigger(events.enginePopulated, { pivotValues: _this_1.pivotValues }, function (observedArgs) {\n                if (this$.dataType === 'olap') {\n                    this$.olapEngineModule.pivotValues = isBlazor() ? _this_1.olapEngineModule.pivotValues : observedArgs.pivotValues;\n                    this$.pivotValues = this$.olapEngineModule.pivotValues;\n                }\n                else {\n                    this$.engineModule.pivotValues = isBlazor() ? _this_1.engineModule.pivotValues : observedArgs.pivotValues;\n                    this$.pivotValues = this$.engineModule.pivotValues;\n                }\n                this$.notify(events.dataReady, {});\n                this$.isEmptyGrid = false;\n            });\n        });\n    };\n    /* tslint:enable */\n    PivotView.prototype.generateData = function () {\n        if (this.dataType === 'olap') {\n            this.dataSourceSettings.enableSorting = false;\n        }\n        if (this.displayOption.view !== 'Chart') {\n            this.renderEmptyGrid();\n        }\n        showSpinner(this.element);\n        var pivot = this;\n        //setTimeout(() => {\n        /* tslint:disable */\n        if (pivot.dataSourceSettings && (pivot.dataSourceSettings.dataSource || pivot.dataSourceSettings.url)) {\n            if (pivot.dataSourceSettings.dataSource instanceof DataManager) {\n                setTimeout(pivot.getData.bind(pivot), 100);\n            }\n            else if ((this.dataSourceSettings.url !== '' && this.dataType === 'olap') ||\n                pivot.dataSourceSettings.dataSource.length > 0) {\n                if (pivot.dataType === 'pivot') {\n                    pivot.engineModule.data = pivot.dataSourceSettings.dataSource;\n                }\n                pivot.initEngine();\n            }\n            else {\n                hideSpinner(pivot.element);\n            }\n        }\n        else {\n            hideSpinner(pivot.element);\n        }\n        /* tslint:enable */\n        //});\n    };\n    PivotView.prototype.getValueCellInfo = function (aggregateObj) {\n        var args = aggregateObj;\n        this.trigger(events.aggregateCellInfo, args);\n        return args;\n    };\n    /**\n     * De-Register the internal events.\n     * @returns void\n     * @hidden\n     */\n    PivotView.prototype.bindTriggerEvents = function (args) {\n        this.trigger(getObject('name', args), args);\n    };\n    PivotView.prototype.getData = function () {\n        this.dataSourceSettings.dataSource.executeQuery(new Query()).then(this.executeQuery.bind(this));\n    };\n    PivotView.prototype.executeQuery = function (e) {\n        if (!this.element.querySelector('.e-spinner-pane')) {\n            showSpinner(this.element);\n        }\n        var pivot = this;\n        //setTimeout(() => {\n        pivot.engineModule.data = e.result;\n        pivot.initEngine();\n        //});\n    };\n    /** @hidden */\n    PivotView.prototype.applyFormatting = function (pivotValues) {\n        if (pivotValues) {\n            var colIndex = [];\n            for (var len = pivotValues.length, i = 0; i < len; i++) {\n                if (pivotValues[i] !== undefined && pivotValues[i][0] === undefined) {\n                    colIndex.push(i);\n                }\n            }\n            for (var i = 0; i < pivotValues.length; i++) {\n                for (var j = 1; (pivotValues[i] && j < pivotValues[i].length); j++) {\n                    if (pivotValues[i][j].axis === 'value') {\n                        pivotValues[i][j].style = undefined;\n                        pivotValues[i][j].cssClass = undefined;\n                        var format_1 = this.dataSourceSettings.conditionalFormatSettings;\n                        for (var k = 0; k < format_1.length; k++) {\n                            if ((format_1[k].applyGrandTotals === true || isNullOrUndefined(format_1[k].applyGrandTotals)) ? true :\n                                pivotValues[i][j].rowHeaders !== '' &&\n                                    pivotValues[i][j].columnHeaders !== '') {\n                                if (this.checkCondition(pivotValues[i][j].value, format_1[k].conditions, format_1[k].value1, format_1[k].value2)) {\n                                    // let ilen: number =\n                                    //     (this.dataSourceSettings.valueAxis === 'row' ? i : this.engineModule.headerContent.length - 1);\n                                    // let jlen: number = (this.dataSourceSettings.valueAxis === 'row' ? 0 : j);\n                                    if ((!format_1[k].measure || pivotValues[i][j].actualText === format_1[k].measure) &&\n                                        (format_1[k].measure === undefined || format_1[k].measure !== '') && (format_1[k].label === undefined ||\n                                        format_1[k].label !== '') && ((!format_1[k].label ||\n                                        (pivotValues[i][0].valueSort.levelName\n                                            .indexOf(format_1[k].label)) > -1) || (pivotValues[i][j]\n                                        .rowHeaders.indexOf(format_1[k].label) > -1) ||\n                                        (pivotValues[i][j].columnHeaders\n                                            .indexOf(format_1[k].label) > -1))) {\n                                        if (format_1[k].style && format_1[k].style.backgroundColor) {\n                                            format_1[k].style.backgroundColor = this.conditionalFormattingModule\n                                                .isHex(format_1[k].style.backgroundColor.substr(1)) ? format_1[k].style.backgroundColor :\n                                                this.conditionalFormattingModule.colourNameToHex(format_1[k].style.backgroundColor);\n                                        }\n                                        if (format_1[k].style && format_1[k].style.color) {\n                                            format_1[k].style.color = this.conditionalFormattingModule\n                                                .isHex(format_1[k].style.color.substr(1)) ? format_1[k].style.color :\n                                                this.conditionalFormattingModule.colourNameToHex(format_1[k].style.color);\n                                        }\n                                        pivotValues[i][j].style = format_1[k].style;\n                                        pivotValues[i][j].cssClass = 'format' + this.element.id + k;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            var format = this.dataSourceSettings.conditionalFormatSettings;\n            for (var k = 0; k < format.length; k++) {\n                var sheet = (this.createStyleSheet.bind(this))();\n                var str = 'color: ' + format[k].style.color + '!important;background-color: ' + format[k].style.backgroundColor +\n                    '!important;font-size: ' + format[k].style.fontSize + '!important;font-family: ' + format[k].style.fontFamily +\n                    ' !important;';\n                sheet.insertRule('.format' + this.element.id + k + '{' + str + '}', 0);\n            }\n        }\n    };\n    PivotView.prototype.createStyleSheet = function () {\n        var style = document.createElement('style');\n        style.appendChild(document.createTextNode(''));\n        document.head.appendChild(style);\n        return style.sheet;\n    };\n    PivotView.prototype.applyHyperlinkSettings = function () {\n        if (this.pivotValues) {\n            var pivotValues = this.pivotValues;\n            var colIndex = [];\n            for (var len = pivotValues.length, i = 0; i < len; i++) {\n                if (pivotValues[i] !== undefined && pivotValues[i][0] === undefined) {\n                    colIndex.push(i);\n                }\n            }\n            if (this.hyperlinkSettings.conditionalSettings.length > 0) {\n                for (var i = 0; i < pivotValues.length; i++) {\n                    for (var j = 1; (pivotValues[i] && j < pivotValues[i].length); j++) {\n                        if (pivotValues[i][j].axis === 'value') {\n                            pivotValues[i][j].enableHyperlink = false;\n                            var collection = this.hyperlinkSettings.conditionalSettings;\n                            for (var k = 0; k < collection.length; k++) {\n                                if (this.checkCondition(pivotValues[i][j].value, collection[k].conditions, collection[k].value1, collection[k].value2)) {\n                                    var ilen = (this.dataSourceSettings.valueAxis === 'row' ?\n                                        i : (this.dataType === 'pivot' ?\n                                        this.engineModule.headerContent.length - 1 : this.olapEngineModule.headerContent.length - 1));\n                                    var jlen = (this.dataSourceSettings.valueAxis === 'row' ? 0 : j);\n                                    if ((!collection[k].measure || this.dataSourceSettings.values.length === 1 ||\n                                        (pivotValues[ilen][jlen].valueSort &&\n                                            (pivotValues[ilen][jlen].actualText === collection[k].measure))) &&\n                                        (!collection[k].label || ((pivotValues[colIndex[collection[k].label.split('.').length - 1]] &&\n                                            pivotValues[colIndex[collection[k].label.split('.').length - 1]][j] &&\n                                            pivotValues[colIndex[collection[k].label.split('.').length - 1]][j].valueSort &&\n                                            pivotValues[colIndex[collection[k].label.split('.').length - 1]][j].\n                                                valueSort[collection[k].label]) || (pivotValues[i][0].\n                                            valueSort.levelName.indexOf(collection[k].label) > -1)))) {\n                                        pivotValues[i][j].enableHyperlink = true;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(this.hyperlinkSettings.headerText)) {\n                for (var i = 0; i < pivotValues.length; i++) {\n                    for (var j = 1; (pivotValues[i] && j < pivotValues[i].length); j++) {\n                        if (pivotValues[i][j].axis === 'value') {\n                            // (pivotValues[i][j] as IAxisSet).enableHyperlink = false;\n                            var label = this.hyperlinkSettings.headerText;\n                            var ilen = (this.dataSourceSettings.valueAxis === 'row' ?\n                                i : (this.dataType === 'pivot' ?\n                                this.engineModule.headerContent.length - 1 : this.olapEngineModule.headerContent.length - 1));\n                            var jlen = (this.dataSourceSettings.valueAxis === 'row' ? 0 : j);\n                            if ((pivotValues[colIndex[label.split('.').length - 1]] &&\n                                pivotValues[colIndex[label.split('.').length - 1]][j] &&\n                                pivotValues[colIndex[label.split('.').length - 1]][j].\n                                    valueSort && pivotValues[colIndex[label.split('.').length - 1]][j].\n                                valueSort[label])) {\n                                for (var _i = 0, colIndex_2 = colIndex; _i < colIndex_2.length; _i++) {\n                                    var index = colIndex_2[_i];\n                                    if (pivotValues[index][j] &&\n                                        pivotValues[index][j].axis === 'column' &&\n                                        (pivotValues[index][j].valueSort.levelName.indexOf(label) > -1)) {\n                                        pivotValues[index][j].enableHyperlink = true;\n                                    }\n                                }\n                                pivotValues[i][j].enableHyperlink = true;\n                            }\n                            else if (pivotValues[i][0].valueSort.levelName.indexOf(label) > -1) {\n                                pivotValues[i][0].enableHyperlink = true;\n                                pivotValues[i][j].enableHyperlink = true;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                return;\n            }\n        }\n    };\n    PivotView.prototype.checkCondition = function (cellValue, conditions, conditionalValue1, conditionalValue2) {\n        switch (conditions) {\n            case 'LessThan':\n                return cellValue < conditionalValue1;\n            case 'LessThanOrEqualTo':\n                return cellValue <= conditionalValue1;\n            case 'GreaterThan':\n                return cellValue > conditionalValue1;\n            case 'GreaterThanOrEqualTo':\n                return cellValue >= conditionalValue1;\n            case 'Equals':\n                return cellValue === conditionalValue1;\n            case 'NotEquals':\n                return cellValue !== conditionalValue1;\n            case 'Between':\n                return (conditionalValue1 < conditionalValue2 && cellValue >= conditionalValue1 && cellValue <= conditionalValue2) ||\n                    (conditionalValue1 > conditionalValue2 && cellValue <= conditionalValue1 && cellValue >= conditionalValue2);\n            case 'NotBetween':\n                return !((conditionalValue1 < conditionalValue2 && cellValue >= conditionalValue1 && cellValue <= conditionalValue2) ||\n                    (conditionalValue1 > conditionalValue2 && cellValue <= conditionalValue1 && cellValue >= conditionalValue2));\n            default:\n                return false;\n        }\n    };\n    PivotView.prototype.wireEvents = function () {\n        if (this.displayOption.view !== 'Chart') {\n            EventHandler.add(this.element, this.isAdaptive ? 'touchend' : 'click', this.mouseClickHandler, this);\n            EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n            EventHandler.add(this.element.querySelector('.' + cls.GRID_HEADER), 'mousemove', this.mouseMoveHandler, this);\n            EventHandler.add(this.element, 'mouseup', this.mouseUpHandler, this);\n            EventHandler.add(this.element, this.isAdaptive ? 'touchend' : 'contextmenu', this.mouseRclickHandler, this);\n        }\n        window.addEventListener('resize', this.onWindowResize.bind(this), true);\n    };\n    PivotView.prototype.unwireEvents = function () {\n        if (this.displayOption.view !== 'Chart') {\n            EventHandler.remove(this.element, this.isAdaptive ? 'touchend' : 'click', this.mouseClickHandler);\n            EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n            if (this.element.querySelector('.' + cls.GRID_HEADER)) {\n                EventHandler.remove(this.element.querySelector('.' + cls.GRID_HEADER), 'mousemove', this.mouseMoveHandler);\n            }\n            EventHandler.remove(this.element, 'mouseup', this.mouseUpHandler);\n            EventHandler.remove(this.element, this.isAdaptive ? 'touchend' : 'contextmenu', this.mouseRclickHandler);\n        }\n        window.removeEventListener('resize', this.onWindowResize.bind(this), true);\n    };\n    /**\n     * To destroy the PivotView elements.\n     * @returns void\n     */\n    PivotView.prototype.destroy = function () {\n        this.removeInternalEvents();\n        if (this.showGroupingBar && this.groupingBarModule) {\n            this.groupingBarModule.destroy();\n        }\n        if (this.showToolbar && this.toolbarModule) {\n            this.toolbarModule.destroy();\n        }\n        if (this.enableVirtualization && this.virtualscrollModule) {\n            this.virtualscrollModule.destroy();\n        }\n        if (this.allowConditionalFormatting && this.conditionalFormattingModule) {\n            this.conditionalFormattingModule.destroy();\n        }\n        if (this.allowNumberFormatting && this.numberFormattingModule) {\n            this.numberFormattingModule.destroy();\n        }\n        if (this.isAdaptive && this.contextMenuModule) {\n            this.contextMenuModule.destroy();\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.tooltip) {\n            this.tooltip.destroy();\n        }\n        if (this.chart) {\n            this.chart.destroy();\n        }\n        this.unwireEvents();\n        removeClass([this.element], cls.ROOT);\n        removeClass([this.element], cls.RTL);\n        removeClass([this.element], cls.DEVICE);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    var PivotView_1;\n    __decorate([\n        Property('USD')\n    ], PivotView.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"showFieldList\", void 0);\n    __decorate([\n        Complex({}, GridSettings)\n    ], PivotView.prototype, \"gridSettings\", void 0);\n    __decorate([\n        Complex({}, ChartSettings)\n    ], PivotView.prototype, \"chartSettings\", void 0);\n    __decorate([\n        Complex({}, GroupingBarSettings)\n    ], PivotView.prototype, \"groupingBarSettings\", void 0);\n    __decorate([\n        Complex({}, HyperlinkSettings)\n    ], PivotView.prototype, \"hyperlinkSettings\", void 0);\n    __decorate([\n        Complex({}, DataSourceSettings)\n    ], PivotView.prototype, \"dataSourceSettings\", void 0);\n    __decorate([\n        Complex({}, CellEditSettings)\n    ], PivotView.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, DisplayOption)\n    ], PivotView.prototype, \"displayOption\", void 0);\n    __decorate([\n        Property()\n    ], PivotView.prototype, \"pivotValues\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"showGroupingBar\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotView.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"showToolbar\", void 0);\n    __decorate([\n        Property([])\n    ], PivotView.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"showValuesButton\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"allowCalculatedField\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"enableValueSorting\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"allowConditionalFormatting\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"allowNumberFormatting\", void 0);\n    __decorate([\n        Property('auto')\n    ], PivotView.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], PivotView.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"allowDrillThrough\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotView.prototype, \"allowDeferLayoutUpdate\", void 0);\n    __decorate([\n        Property(1000)\n    ], PivotView.prototype, \"maxNodeLimitInMemberEditor\", void 0);\n    __decorate([\n        Property(10000)\n    ], PivotView.prototype, \"maxRowsInDrillThrough\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotView.prototype, \"loadOnDemandInMemberEditor\", void 0);\n    __decorate([\n        Property()\n    ], PivotView.prototype, \"cellTemplate\", void 0);\n    __decorate([\n        Property()\n    ], PivotView.prototype, \"spinnerTemplate\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"pdfHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"beforeColumnsRender\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"chartTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"chartLoaded\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"chartLoad\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"chartResized\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"chartAxisLabelRender\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"onPdfCellRender\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"saveReport\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"fetchReport\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"loadReport\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"renameReport\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"removeReport\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"newReport\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"toolbarRender\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"enginePopulating\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"enginePopulated\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"onFieldDropped\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"beforeExport\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"conditionalFormatting\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"cellClick\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"drillThrough\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"beginDrillThrough\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"hyperlinkCellClick\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"drill\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"chartSeriesCreated\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"aggregateCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotView.prototype, \"fieldListRefreshed\", void 0);\n    PivotView = PivotView_1 = __decorate([\n        NotifyPropertyChanges\n    ], PivotView);\n    return PivotView;\n}(Component));\nexport { PivotView };\n","import { KeyboardEvents, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * Keyboard interaction\n */\n/** @hidden */\nvar CommonKeyboardInteraction = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function CommonKeyboardInteraction(parent) {\n        this.keyConfigs = {\n            shiftF: 'shift+F',\n            shiftS: 'shift+S',\n            delete: 'delete',\n            enter: 'enter'\n        };\n        this.parent = parent;\n        this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n        this.keyboardModule = new KeyboardEvents(this.parent.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    CommonKeyboardInteraction.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'shiftF':\n                this.processFilter(e);\n                break;\n            case 'shiftS':\n                this.processSort(e);\n                break;\n            case 'delete':\n                this.processDelete(e);\n                break;\n            case 'enter':\n                this.processOpenContextMenu(e);\n                break;\n        }\n    };\n    CommonKeyboardInteraction.prototype.processOpenContextMenu = function (e) {\n        var target = e.target;\n        if (target && closest(target, '.' + cls.PIVOT_BUTTON_CLASS) &&\n            closest(target, '.' + cls.VALUE_AXIS_CLASS)) {\n            target.querySelector('.' + cls.AXISFIELD_ICON_CLASS).click();\n            e.preventDefault();\n            return;\n        }\n    };\n    CommonKeyboardInteraction.prototype.processSort = function (e) {\n        var target = e.target;\n        if (target && closest(target, '.' + cls.PIVOT_BUTTON_CLASS) &&\n            !closest(target, '.' + cls.VALUE_AXIS_CLASS) && !closest(target, '.' + cls.AXIS_FILTER_CLASS)) {\n            target.querySelector('.' + cls.SORT_CLASS).click();\n            e.preventDefault();\n            return;\n        }\n    };\n    CommonKeyboardInteraction.prototype.processFilter = function (e) {\n        var target = e.target;\n        if (target && closest(target, '.' + cls.PIVOT_BUTTON_CLASS) && !closest(target, '.' + cls.VALUE_AXIS_CLASS)) {\n            target.querySelector('.' + cls.FILTER_COMMON_CLASS).click();\n            e.preventDefault();\n            return;\n        }\n    };\n    CommonKeyboardInteraction.prototype.processDelete = function (e) {\n        var target = e.target;\n        if (target && closest(target, '.' + cls.PIVOT_BUTTON_CLASS)) {\n            target.querySelector('.' + cls.REMOVE_CLASS).click();\n            e.preventDefault();\n            return;\n        }\n    };\n    /**\n     * To destroy the keyboard module.\n     * @return {void}\n     * @private\n     */\n    CommonKeyboardInteraction.prototype.destroy = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        else {\n            return;\n        }\n    };\n    return CommonKeyboardInteraction;\n}());\nexport { CommonKeyboardInteraction };\n","import { isNullOrUndefined, removeClass, addClass } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constant';\nimport { PivotUtil } from '../../base/util';\n/**\n * `EventBase` for active fields action.\n */\n/** @hidden */\nvar EventBase = /** @class */ (function () {\n    /**\n     * Constructor for the dialog action.\n     * @hidden\n     */\n    function EventBase(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Updates sorting order for the selected field.\n     * @method updateSorting\n     * @param  {Event} args - Contains clicked element information to update dataSource.\n     * @return {void}\n     * @hidden\n     */\n    EventBase.prototype.updateSorting = function (args) {\n        if (!(args.target.classList.contains(cls.FILTER_COMMON_CLASS)) &&\n            !(args.target.classList.contains(cls.REMOVE_CLASS))) {\n            if (this.parent.filterDialog.dialogPopUp) {\n                this.parent.filterDialog.dialogPopUp.close();\n            }\n            var target = args.target;\n            var fieldName = void 0;\n            var checkisDescending = void 0;\n            var isDescending = void 0;\n            if (target.id) {\n                fieldName = target.id;\n                checkisDescending = [].slice.call(target.querySelectorAll('.' + cls.SORT_DESCEND_CLASS));\n            }\n            else {\n                fieldName = target.parentElement.id;\n                checkisDescending = [].slice.call(target.parentElement.querySelectorAll('.' + cls.SORT_DESCEND_CLASS));\n            }\n            if (checkisDescending.length === 0) {\n                isDescending = false;\n            }\n            else {\n                isDescending = true;\n            }\n            //isDescending = (target.querySelectorAll(cls.SORT_DESCEND_CLASS));\n            var sortObj = this.getSortItemByName(fieldName);\n            if (!isNullOrUndefined(sortObj)) {\n                for (var i = 0; i < this.parent.dataSourceSettings.sortSettings.length; i++) {\n                    if (this.parent.dataSourceSettings.sortSettings[i].name === fieldName) {\n                        this.parent.dataSourceSettings.sortSettings.splice(i, 1);\n                        break;\n                    }\n                }\n                var newSortObj = { name: fieldName, order: isDescending ? 'Ascending' : 'Descending' };\n                // let newSortObj: ISort = { name: fieldName, order: isNone ? 'Ascending' : isDescending ? 'None' : 'Descending' };\n                this.parent.dataSourceSettings.sortSettings.push(newSortObj);\n            }\n            else {\n                var newSortObj = { name: fieldName, order: isDescending ? 'Ascending' : 'Descending' };\n                //let newSortObj: ISort = { name: fieldName, order: isNone ? 'Ascending' : isDescending ? 'None' : 'Descending'  };\n                this.parent.dataSourceSettings.sortSettings.push(newSortObj);\n            }\n            this.parent.control.lastSortInfo =\n                this.parent.dataSourceSettings.sortSettings[this.parent.dataSourceSettings.sortSettings.length - 1];\n            isDescending ? removeClass([target], cls.SORT_DESCEND_CLASS) : addClass([target], cls.SORT_DESCEND_CLASS);\n            // if (isDescending) {\n            //     removeClass([target], cls.SORT_DESCEND_CLASS);\n            //     addClass([target], cls.SORTING);\n            // } else if (!isDescending && !isNone) {\n            //     addClass([target], cls.SORT_DESCEND_CLASS);\n            // } else if (isNone) {\n            //     removeClass([target], cls.SORTING);\n            // } else if (!isNone) {\n            //     removeClass([target], cls.SORT_DESCEND_CLASS);\n            //     removeClass([target], cls.SORTING);\n            //    //addClass([target], cls.SORT_CLASS);\n            // }\n        }\n    };\n    /**\n     * Updates sorting order for the selected field.\n     * @method updateFiltering\n     * @param  {Event} args - Contains clicked element information to update dataSource.\n     * @return {void}\n     * @hidden\n     */\n    EventBase.prototype.updateFiltering = function (args) {\n        var target = args.target;\n        var fieldName = target.parentElement.id;\n        var fieldCaption = target.parentElement.textContent;\n        var isInclude = false;\n        var filterItems = [];\n        var treeData = [];\n        if (this.parent.dataType === 'olap') {\n            treeData = this.getOlapData(fieldName, isInclude);\n        }\n        else {\n            /* tslint:disable:typedef */\n            this.parent.engineModule.fieldList[fieldName].dateMember = this.parent.engineModule.fieldList[fieldName].sort === 'Ascending' ?\n                (this.parent.engineModule.fieldList[fieldName].dateMember.sort(function (a, b) { return (a.actualText > b.actualText) ? 1 :\n                    ((b.actualText > a.actualText) ? -1 : 0); })) :\n                this.parent.engineModule.fieldList[fieldName].sort === 'Descending' ?\n                    (this.parent.engineModule.fieldList[fieldName].dateMember.sort(function (a, b) { return (a.actualText < b.actualText) ? 1 :\n                        ((b.actualText < a.actualText) ? -1 : 0); })) :\n                    this.parent.engineModule.fieldList[fieldName].dateMember;\n            /* tslint:enable:typedef */\n            var filterObj = this.getFilterItemByName(fieldName);\n            if (!isNullOrUndefined(filterObj)) {\n                isInclude = filterObj.type === 'Include' ? true : false;\n                filterItems = filterObj.items ? filterObj.items : [];\n            }\n            treeData =\n                this.getTreeData(isInclude, this.parent.engineModule.fieldList[fieldName].dateMember, filterItems, fieldName);\n        }\n        if (this.parent.filterDialog.dialogPopUp) {\n            this.parent.filterDialog.dialogPopUp.close();\n        }\n        var popupTarget;\n        popupTarget = this.parent.moduleName !== 'pivotfieldlist' ?\n            popupTarget = this.parent.element : popupTarget = document.getElementById(this.parent.parentID + '_Wrapper');\n        this.parent.filterDialog.createFilterDialog(treeData, fieldName, fieldCaption, popupTarget);\n    };\n    EventBase.prototype.getOlapData = function (fieldName, isInclude) {\n        var treeData = [];\n        var filterItems = [];\n        this.parent.filterDialog.isSearchEnabled = false;\n        var updatedTreeData = [];\n        var engineModule = this.parent.engineModule;\n        var filterObj = this.getFilterItemByName(fieldName);\n        if (engineModule.fieldList[fieldName].filterMembers.length === 0) {\n            if (!this.parent.control.loadOnDemandInMemberEditor) {\n                engineModule.getMembers(this.parent.dataSourceSettings, fieldName, true);\n            }\n            else if (filterObj && filterObj.levelCount > 1 && engineModule.fieldList[fieldName].levels.length > 1) {\n                engineModule.getFilterMembers(this.parent.dataSourceSettings, fieldName, filterObj.levelCount);\n            }\n            else {\n                engineModule.fieldList[fieldName].levelCount = 1;\n                engineModule.getMembers(this.parent.dataSourceSettings, fieldName);\n            }\n        }\n        else {\n            engineModule.fieldList[fieldName].currrentMembers = {};\n            engineModule.fieldList[fieldName].searchMembers = [];\n        }\n        var isHierarchy = engineModule.fieldList[fieldName].isHierarchy;\n        treeData = engineModule.fieldList[fieldName].filterMembers;\n        if (!isNullOrUndefined(filterObj)) {\n            isInclude = filterObj.type ? filterObj.type === 'Include' ? true : false : true;\n            filterItems = filterObj.items ? filterObj.items : [];\n        }\n        var filterItemObj = {};\n        var dummyfilterItems = {};\n        var memberObject = engineModule.fieldList[fieldName].members;\n        for (var _i = 0, filterItems_1 = filterItems; _i < filterItems_1.length; _i++) {\n            var item = filterItems_1[_i];\n            filterItemObj[item] = item;\n            dummyfilterItems[item] = item;\n            if (memberObject[item]) {\n                dummyfilterItems = this.getParentNode(fieldName, item, dummyfilterItems);\n            }\n        }\n        treeData = this.getFilteredTreeNodes(fieldName, treeData, dummyfilterItems, updatedTreeData, isHierarchy);\n        treeData = this.getOlapTreeData(isInclude, PivotUtil.getClonedData(treeData), filterItemObj, fieldName, isHierarchy);\n        treeData = this.sortOlapFilterData(treeData, engineModule.fieldList[fieldName].sort);\n        return treeData;\n    };\n    /**\n     * Gets sorted filter members for the selected field.\n     * @method sortFilterData\n     * @param  {{ [key: string]: Object }[]} treeData - Gets filter members for the given field name.\n     * @return {{ [key: string]: Object }[]}\n     * @hidden\n     */\n    EventBase.prototype.sortOlapFilterData = function (treeData, order) {\n        if (treeData.length > 0) {\n            /* tslint:disable:typedef */\n            treeData = order === 'Ascending' ?\n                (treeData.sort(function (a, b) { return (a.caption > b.caption) ? 1 :\n                    ((b.caption > a.caption) ? -1 : 0); })) : order === 'Descending' ?\n                (treeData.sort(function (a, b) { return (a.caption < b.caption) ? 1 :\n                    ((b.caption < a.caption) ? -1 : 0); })) : treeData;\n            /* tslint:enable:typedef */\n        }\n        return treeData;\n    };\n    /**\n     * Gets sort object for the given field name from the dataSource.\n     * @method getSortItemByName\n     * @param  {string} fieldName - Gets sort settings for the given field name.\n     * @return {ISort}\n     * @hidden\n     */\n    EventBase.prototype.getSortItemByName = function (fieldName) {\n        var sortObjects = this.parent.dataSourceSettings.sortSettings;\n        return new DataManager({ json: sortObjects }).executeLocal(new Query().where('name', 'equal', fieldName))[0];\n    };\n    /**\n     * Gets filter object for the given field name from the dataSource.\n     * @method getFilterItemByName\n     * @param  {string} fieldName - Gets filter settings for the given field name.\n     * @return {IFilter}\n     * @hidden\n     */\n    EventBase.prototype.getFilterItemByName = function (fieldName) {\n        var filterObjects = this.parent.dataSourceSettings.filterSettings;\n        var filterItems = new DataManager({ json: filterObjects }).executeLocal(new Query().where('name', 'equal', fieldName));\n        if (filterItems && filterItems.length > 0) {\n            return filterItems[filterItems.length - 1];\n        }\n        return undefined;\n    };\n    /**\n     * Gets filter object for the given field name from the dataSource.\n     * @method getFieldByName\n     * @param  {string} fieldName - Gets filter settings for the given field name.\n     * @return {Sort}\n     * @hidden\n     */\n    EventBase.prototype.getFieldByName = function (fieldName, fields) {\n        return new DataManager({ json: fields }).executeLocal(new Query().where('name', 'equal', fieldName))[0];\n    };\n    /**\n     * Gets format object for the given field name from the dataSource.\n     * @method getFilterItemByName\n     * @param  {string} fieldName - Gets format settings for the given field name.\n     * @return {IFormatSettings}\n     * @hidden\n     */\n    EventBase.prototype.getFormatItemByName = function (fieldName) {\n        var formatObjects = this.parent.dataSourceSettings.formatSettings;\n        return new DataManager({ json: formatObjects }).executeLocal(new Query().where('name', 'equal', fieldName))[0];\n    };\n    EventBase.prototype.getParentIDs = function (treeObj, id, parent) {\n        var data = treeObj.fields.dataSource;\n        var pid;\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var li = data_1[_i];\n            if (li.id === id) {\n                pid = li.pid;\n                break;\n            }\n        }\n        if (pid) {\n            parent.push(pid);\n            this.getParentIDs(treeObj, pid, parent);\n        }\n        return parent;\n    };\n    EventBase.prototype.getChildIDs = function (treeObj, id, children) {\n        var data = treeObj.fields.dataSource;\n        var cID;\n        for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\n            var li = data_2[_i];\n            if (li.pid === id) {\n                cID = li.id;\n                break;\n            }\n        }\n        if (cID) {\n            children.push(cID);\n            this.getParentIDs(treeObj, cID, children);\n        }\n        return children;\n    };\n    /**\n     * show tree nodes using search text.\n     * @hidden\n     */\n    /* tslint:disable:max-func-body-length */\n    EventBase.prototype.searchTreeNodes = function (args, treeObj, isFieldCollection, isHierarchy) {\n        if (isFieldCollection) {\n            var searchList = [];\n            var nonSearchList = [];\n            var list = [].slice.call(treeObj.element.querySelectorAll('li'));\n            for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n                var element = list_1[_i];\n                if ((element.querySelector('.e-list-text').textContent.toLowerCase()).indexOf(args.value.toLowerCase()) > -1) {\n                    searchList.push(element);\n                }\n                else {\n                    nonSearchList.push(element);\n                }\n            }\n            treeObj.enableNodes(searchList);\n            removeClass(searchList, cls.ICON_DISABLE);\n            treeObj.disableNodes(nonSearchList);\n            addClass(nonSearchList, cls.ICON_DISABLE);\n            if (searchList.length > 0 && nonSearchList.length > 0) {\n                for (var _a = 0, searchList_1 = searchList; _a < searchList_1.length; _a++) {\n                    var currentNode = searchList_1[_a];\n                    var id = currentNode.getAttribute('data-uid');\n                    var parentIDs = this.getParentIDs(treeObj, id, []);\n                    var childIDs = this.getChildIDs(treeObj, id, []);\n                    var pNodes = [];\n                    if (parentIDs.length > 0) {\n                        for (var _b = 0, nonSearchList_1 = nonSearchList; _b < nonSearchList_1.length; _b++) {\n                            var li = nonSearchList_1[_b];\n                            if (PivotUtil.inArray(li.getAttribute('data-uid'), parentIDs) !== -1) {\n                                pNodes.push(li);\n                            }\n                        }\n                    }\n                    if (childIDs.length > 0) {\n                        for (var _c = 0, nonSearchList_2 = nonSearchList; _c < nonSearchList_2.length; _c++) {\n                            var li = nonSearchList_2[_c];\n                            if (PivotUtil.inArray(li.getAttribute('data-uid'), childIDs) !== -1) {\n                                pNodes.push(li);\n                            }\n                        }\n                    }\n                    treeObj.enableNodes(pNodes);\n                    removeClass(pNodes, cls.ICON_DISABLE);\n                }\n            }\n            if ([].slice.call(treeObj.element.querySelectorAll('li.' + cls.ICON_DISABLE)).length === 0) {\n                treeObj.collapseAll();\n            }\n            else {\n                treeObj.expandAll(undefined, undefined, true);\n            }\n        }\n        else {\n            this.parent.searchTreeItems = [];\n            if (this.parent.dataType === 'olap' && !isHierarchy) {\n                this.updateOlapSearchTree(args, treeObj, isHierarchy);\n            }\n            else {\n                var searchList = [];\n                var memberCount = 0;\n                memberCount = 1;\n                for (var _d = 0, _e = this.parent.currentTreeItems; _d < _e.length; _d++) {\n                    var item = _e[_d];\n                    if (item.name.toLowerCase().indexOf(args.value.toLowerCase()) > -1) {\n                        this.parent.searchTreeItems.push(item);\n                        if (memberCount <= this.parent.control.maxNodeLimitInMemberEditor) {\n                            searchList.push(item);\n                        }\n                        memberCount++;\n                    }\n                }\n                memberCount--;\n                if (memberCount > this.parent.control.maxNodeLimitInMemberEditor) {\n                    this.parent.editorLabelElement.innerText = (memberCount - this.parent.control.maxNodeLimitInMemberEditor) +\n                        this.parent.control.localeObj.getConstant('editorDataLimitMsg');\n                    this.parent.filterDialog.dialogPopUp.height = (this.parent.filterDialog.allowExcelLikeFilter ? '440px' : '400px');\n                    this.parent.isDataOverflow = true;\n                }\n                else {\n                    this.parent.editorLabelElement.innerText = '';\n                    this.parent.filterDialog.dialogPopUp.height = (this.parent.filterDialog.allowExcelLikeFilter ? '400px' : '350px');\n                    this.parent.isDataOverflow = false;\n                }\n                this.parent.isDataOverflow = (memberCount > this.parent.control.maxNodeLimitInMemberEditor);\n                this.parent.editorLabelElement.parentElement.style.display = this.parent.isDataOverflow ? 'block' : 'none';\n                treeObj.fields = { dataSource: searchList, id: 'id', text: 'name', isChecked: 'isSelected', parentID: 'pid' };\n                treeObj.dataBind();\n            }\n        }\n    };\n    EventBase.prototype.updateOlapSearchTree = function (args, treeObj, isHierarchy) {\n        var treeData = [];\n        var filterDialog = this.parent.filterDialog.dialogPopUp.element;\n        var fieldName = filterDialog.getAttribute('data-fieldname');\n        if (args.value.toLowerCase() === '') {\n            this.parent.filterDialog.isSearchEnabled = false;\n            this.parent.engineModule.fieldList[fieldName].searchMembers = [];\n            // (this.parent.engineModule.fieldList[fieldName] as IOlapField).currrentMembers = {};\n            var updatedTreeData = [];\n            var filterItemObj = {};\n            var dummyfilterItems = {};\n            var memberObject = this.parent.engineModule.fieldList[fieldName].members;\n            var members = Object.keys(memberObject);\n            var filterItems = [];\n            for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n                var item = members_1[_i];\n                if (memberObject[item].isSelected) {\n                    if (!(memberObject[item].parent && memberObject[memberObject[item].parent].isSelected)) {\n                        filterItems.push(item);\n                    }\n                }\n            }\n            for (var _a = 0, filterItems_2 = filterItems; _a < filterItems_2.length; _a++) {\n                var item = filterItems_2[_a];\n                filterItemObj[item] = item;\n                dummyfilterItems[item] = item;\n                if (memberObject[item]) {\n                    dummyfilterItems = this.getParentNode(fieldName, item, dummyfilterItems);\n                }\n            }\n            var searchData = this.parent.engineModule.fieldList[fieldName].filterMembers;\n            treeData = this.getFilteredTreeNodes(fieldName, searchData, dummyfilterItems, updatedTreeData, isHierarchy);\n            treeData = this.getOlapTreeData(true, PivotUtil.getClonedData(treeData), filterItemObj, fieldName, isHierarchy, true);\n        }\n        else {\n            this.parent.filterDialog.isSearchEnabled = true;\n            var searchData = this.parent.engineModule.fieldList[fieldName].searchMembers;\n            treeData = PivotUtil.getClonedData(searchData);\n            treeData = this.getOlapSearchTreeData(true, treeData, fieldName);\n        }\n        treeObj.fields = { dataSource: treeData, id: 'id', text: 'name', isChecked: 'isSelected', parentID: 'pid' };\n        treeObj.dataBind();\n    };\n    EventBase.prototype.getTreeData = function (isInclude, members, filterItems, fieldName) {\n        this.parent.currentTreeItems = [];\n        this.parent.searchTreeItems = [];\n        this.parent.currentTreeItemsPos = {};\n        this.parent.savedTreeFilterPos = {};\n        var engineModule = this.parent.engineModule;\n        this.parent.isDateField = engineModule.formatFields[fieldName] &&\n            ((['date', 'dateTime', 'time']).indexOf(engineModule.formatFields[fieldName].type) > -1);\n        var list = [];\n        var memberCount = 1;\n        var filterObj = {};\n        for (var _i = 0, filterItems_3 = filterItems; _i < filterItems_3.length; _i++) {\n            var item = filterItems_3[_i];\n            filterObj[item] = item;\n        }\n        for (var _a = 0, members_2 = members; _a < members_2.length; _a++) {\n            var member = members_2[_a];\n            var memberName = this.parent.isDateField ? member.formattedText : member.actualText.toString();\n            var obj = {\n                id: member.actualText.toString(),\n                name: memberName,\n                isSelected: isInclude ? false : true\n            };\n            if (filterObj[memberName] !== undefined) {\n                obj.isSelected = isInclude ? true : false;\n            }\n            if (memberCount <= this.parent.control.maxNodeLimitInMemberEditor) {\n                list.push(obj);\n            }\n            if (!obj.isSelected) {\n                this.parent.savedTreeFilterPos[memberCount - 1] = memberName;\n            }\n            this.parent.currentTreeItems.push(obj);\n            this.parent.searchTreeItems.push(obj);\n            this.parent.currentTreeItemsPos[member.actualText] = memberCount - 1;\n            memberCount++;\n        }\n        this.parent.isDataOverflow = ((memberCount - 1) > this.parent.control.maxNodeLimitInMemberEditor);\n        return list;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    EventBase.prototype.getOlapTreeData = function (isInclude, members, filterObj, fieldName, isHierarchy, isSearchRender) {\n        var engineModule = this.parent.engineModule;\n        var fieldList = engineModule.fieldList[fieldName];\n        this.parent.currentTreeItems = [];\n        this.parent.searchTreeItems = [];\n        this.parent.currentTreeItemsPos = {};\n        var list = [];\n        var memberCount = 1;\n        for (var _i = 0, members_3 = members; _i < members_3.length; _i++) {\n            var member = members_3[_i];\n            var obj = member;\n            var memberName = member.id.toString();\n            if (!isSearchRender) {\n                obj.isSelected = isInclude ? false : true;\n            }\n            if (filterObj[memberName] !== undefined) {\n                obj.isSelected = isInclude ? true : false;\n            }\n            if (!isSearchRender && member.hasChildren) {\n                this.updateChildNodeStates(fieldList.filterMembers, fieldName, member.id, obj.isSelected);\n            }\n            fieldList.members[memberName].isSelected = obj.isSelected;\n            if (fieldList.currrentMembers && fieldList.currrentMembers[memberName]) {\n                fieldList.currrentMembers[memberName].isSelected = obj.isSelected;\n            }\n            if (memberCount <= this.parent.control.maxNodeLimitInMemberEditor && isHierarchy) {\n                list.push(obj);\n            }\n            this.parent.currentTreeItems.push(obj);\n            this.parent.searchTreeItems.push(obj);\n            this.parent.currentTreeItemsPos[memberName] = memberCount - 1;\n            memberCount++;\n        }\n        this.parent.isDataOverflow = isHierarchy ? ((memberCount - 1) > this.parent.control.maxNodeLimitInMemberEditor) : false;\n        return isHierarchy ? list : members;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    EventBase.prototype.getOlapSearchTreeData = function (isInclude, members, fieldName) {\n        var cMembers = this.parent.engineModule.fieldList[fieldName].members;\n        for (var _i = 0, members_4 = members; _i < members_4.length; _i++) {\n            var member = members_4[_i];\n            var memberName = member.id.toString();\n            if (cMembers[memberName]) {\n                member.isSelected = cMembers[memberName].isSelected;\n            }\n            this.parent.searchTreeItems.push(member);\n        }\n        return members;\n    };\n    EventBase.prototype.updateChildNodeStates = function (members, fieldName, node, state) {\n        var cMembers = this.parent.engineModule.fieldList[fieldName].members;\n        var sMembers = this.parent.engineModule.fieldList[fieldName].currrentMembers;\n        for (var _i = 0, members_5 = members; _i < members_5.length; _i++) {\n            var member = members_5[_i];\n            if (member.pid && member.pid.toString() === node) {\n                cMembers[member.id].isSelected = state;\n                if (sMembers && sMembers[member.id]) {\n                    sMembers[member.id].isSelected = state;\n                }\n                if (member.hasChildren) {\n                    this.updateChildNodeStates(members, fieldName, member.id, state);\n                }\n            }\n        }\n    };\n    EventBase.prototype.getParentNode = function (fieldName, item, filterObj) {\n        var members = this.parent.engineModule.fieldList[fieldName].members;\n        if (members[item].parent && item !== members[item].parent) {\n            var parentItem = members[item].parent;\n            filterObj[parentItem] = parentItem;\n            this.getParentNode(fieldName, parentItem, filterObj);\n        }\n        return filterObj;\n    };\n    /* tslint:disable-next-line:max-line-length */\n    EventBase.prototype.getFilteredTreeNodes = function (fieldName, members, filterObj, treeData, isHierarchy) {\n        var parentNodes = [];\n        var memberObject = this.parent.engineModule.fieldList[fieldName].members;\n        var selectedNodes = filterObj ? Object.keys(filterObj) : [];\n        for (var _i = 0, selectedNodes_1 = selectedNodes; _i < selectedNodes_1.length; _i++) {\n            var node = selectedNodes_1[_i];\n            var parent_1 = memberObject[node].parent;\n            if (parent_1 !== undefined && PivotUtil.inArray(parent_1, parentNodes) === -1) {\n                parentNodes.push(parent_1);\n            }\n        }\n        for (var _a = 0, members_6 = members; _a < members_6.length; _a++) {\n            var member = members_6[_a];\n            if (isNullOrUndefined(member.pid) || PivotUtil.inArray(member.pid, parentNodes) !== -1) {\n                treeData.push(member);\n                if (isNullOrUndefined(member.pid) && PivotUtil.inArray(member.id, parentNodes) !== -1) {\n                    memberObject[member.id].isNodeExpand = true;\n                }\n                else if (!isNullOrUndefined(member.pid) && PivotUtil.inArray(member.pid, parentNodes) !== -1) {\n                    memberObject[member.id].isNodeExpand = false;\n                    memberObject[member.pid].isNodeExpand = true;\n                }\n                else {\n                    memberObject[member.id].isNodeExpand = false;\n                }\n            }\n            else {\n                memberObject[member.id].isNodeExpand = false;\n            }\n        }\n        return treeData;\n    };\n    return EventBase;\n}());\nexport { EventBase };\n","import { isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * `DialogAction` module is used to handle field list dialog related behaviour.\n */\n/** @hidden */\nvar NodeStateModified = /** @class */ (function () {\n    /**\n     * Constructor for the dialog action.\n     * @hidden\n     */\n    function NodeStateModified(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Updates the dataSource by drag and drop the selected field from either field list or axis table with dropped target position.\n     * @method onStateModified\n     * @param  {DragEventArgs & DragAndDropEventArgs} args -  Contains both pivot button and field list drag and drop information.\n     * @param  {string} fieldName - Defines dropped field name to update dataSource.\n     * @return {void}\n     * @hidden\n     */\n    NodeStateModified.prototype.onStateModified = function (args, fieldName) {\n        var droppedClass = '';\n        var nodeDropped = true;\n        var target = closest(args.target, '.' + cls.DROPPABLE_CLASS);\n        var droppedPosition = -1;\n        this.parent.dataSourceUpdate.btnElement = args.element ? args.element.parentElement : undefined;\n        if (target) {\n            droppedClass = target.classList[1] === cls.ROW_AXIS_CLASS ?\n                'rows' : target.classList[1] === cls.COLUMN_AXIS_CLASS ? 'columns' : target.classList[1] === cls.VALUE_AXIS_CLASS ?\n                'values' : target.classList[1] === cls.FILTER_AXIS_CLASS ? 'filters' : '';\n        }\n        if (this.parent.dataType === 'olap') {\n            var actualFieldName = (this.parent.engineModule.fieldList[fieldName] &&\n                this.parent.engineModule.fieldList[fieldName].isCalculatedField ?\n                this.parent.engineModule.fieldList[fieldName].tag : fieldName);\n            if (args.cancel && droppedClass === '') {\n                nodeDropped = false;\n                return nodeDropped;\n            }\n            else if ((this.parent.dataSourceUpdate.btnElement &&\n                (this.parent.dataSourceUpdate.btnElement.getAttribute('isValue') === 'true' &&\n                    (droppedClass === 'filters' || droppedClass === 'values'))) ||\n                (this.parent.dataSourceUpdate.btnElement &&\n                    (this.parent.dataSourceUpdate.btnElement.getAttribute('isValue') === 'false' &&\n                        actualFieldName.toLowerCase().indexOf('[measures].') > -1 &&\n                        (droppedClass === 'filters' || droppedClass === 'rows' || droppedClass === 'columns'))) ||\n                (this.parent.dataSourceUpdate.btnElement &&\n                    (this.parent.dataSourceUpdate.btnElement.getAttribute('isValue') === 'false' &&\n                        actualFieldName.toLowerCase().indexOf('[measures].') === -1 &&\n                        this.parent.engineModule.fieldList[fieldName] &&\n                        this.parent.engineModule.fieldList[fieldName].isNamedSets &&\n                        (droppedClass === 'filters' || droppedClass === 'values'))) ||\n                (this.parent.dataSourceUpdate.btnElement &&\n                    (this.parent.dataSourceUpdate.btnElement.getAttribute('isValue') === 'false' &&\n                        actualFieldName.toLowerCase().indexOf('[measures].') === -1 && droppedClass === 'values'))) {\n                var title = this.parent.localeObj.getConstant('warning');\n                var description = this.parent.localeObj.getConstant('fieldDropErrorAction');\n                this.parent.errorDialog.createErrorDialog(title, description);\n                nodeDropped = false;\n                return nodeDropped;\n            }\n        }\n        else {\n            if ((args.cancel && droppedClass === '') ||\n                (this.parent.dataSourceUpdate.btnElement && this.parent.dataSourceUpdate.btnElement.getAttribute('isValue') === 'true' &&\n                    ((droppedClass === 'filters' || droppedClass === 'values') ||\n                        droppedClass.indexOf(this.parent.dataSourceSettings.valueAxis) > -1))) {\n                nodeDropped = false;\n                return nodeDropped;\n            }\n        }\n        if (droppedClass !== '') {\n            if (this.parent.dataType === 'olap') {\n                var actualFieldName = (this.parent.engineModule.fieldList[fieldName] &&\n                    this.parent.engineModule.fieldList[fieldName].isCalculatedField ?\n                    this.parent.engineModule.fieldList[fieldName].tag : fieldName);\n                if ((actualFieldName.toLowerCase().indexOf('[measures].') > -1 &&\n                    (droppedClass === 'filters' || droppedClass === 'rows' || droppedClass === 'columns')) ||\n                    (this.parent.engineModule.fieldList[fieldName] &&\n                        this.parent.engineModule.fieldList[fieldName].isNamedSets && droppedClass === 'filters') ||\n                    (actualFieldName.toLowerCase().indexOf('[measures].') === -1 && droppedClass === 'values')) {\n                    var title = this.parent.localeObj.getConstant('warning');\n                    var description = this.parent.localeObj.getConstant('fieldDropErrorAction');\n                    this.parent.errorDialog.createErrorDialog(title, description);\n                    nodeDropped = false;\n                    return nodeDropped;\n                }\n            }\n            if (this.parent.dataType === 'pivot' && this.parent.engineModule.fieldList[fieldName] &&\n                this.parent.engineModule.fieldList[fieldName].aggregateType === 'CalculatedField' && droppedClass !== 'values') {\n                var title = this.parent.localeObj.getConstant('warning');\n                var description = this.parent.localeObj.getConstant('dropAction');\n                this.parent.errorDialog.createErrorDialog(title, description);\n                nodeDropped = false;\n                return nodeDropped;\n            }\n            droppedPosition = this.getButtonPosition(args.target, droppedClass);\n        }\n        else if (this.parent.engineModule.fieldList[fieldName]) {\n            this.parent.engineModule.fieldList[fieldName].isSelected = false;\n            if (this.parent.dataType === 'olap') {\n                this.parent.engineModule.updateFieldlistData(fieldName);\n            }\n        }\n        this.parent.dataSourceUpdate.updateDataSource(fieldName, droppedClass, droppedPosition);\n        return nodeDropped;\n    };\n    NodeStateModified.prototype.getButtonPosition = function (target, droppedClass) {\n        var droppedPosition = -1;\n        var targetBtn = closest(target, '.' + cls.PIVOT_BUTTON_WRAPPER_CLASS);\n        if (!isNullOrUndefined(targetBtn)) {\n            targetBtn = targetBtn.querySelector('.' + cls.PIVOT_BUTTON_CLASS);\n            var axisPanel = this.parent.element.querySelector('.e-' + droppedClass);\n            var pivotButtons = [].slice.call(axisPanel.querySelectorAll('.' + cls.PIVOT_BUTTON_CLASS));\n            for (var i = 0, n = pivotButtons.length; i < n; i++) {\n                if (pivotButtons[i].id === targetBtn.id) {\n                    droppedPosition = i;\n                    break;\n                }\n            }\n        }\n        return droppedPosition;\n    };\n    return NodeStateModified;\n}());\nexport { NodeStateModified };\n","import * as events from '../../common/base/constant';\n/**\n * `DataSourceUpdate` module is used to update the dataSource.\n */\n/** @hidden */\nvar DataSourceUpdate = /** @class */ (function () {\n    /**\n     * Constructor for the dialog action.\n     * @hidden\n     */\n    function DataSourceUpdate(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Updates the dataSource by adding the given field along with field dropped position to the dataSource.\n     * @param  {string} fieldName - Defines dropped field name to update dataSource.\n     * @param  {string} droppedClass -  Defines dropped field axis name to update dataSource.\n     * @param  {number} fieldCaption - Defines dropped position to the axis based on field position.\n     * @method updateDataSource\n     * @return {void}\n     * @hidden\n     */\n    DataSourceUpdate.prototype.updateDataSource = function (fieldName, droppedClass, droppedPosition) {\n        var dataSourceItem;\n        if (this.control && this.btnElement && this.btnElement.getAttribute('isvalue') === 'true') {\n            switch (droppedClass) {\n                case '':\n                    this.control.setProperties({ dataSourceSettings: { values: [] } }, true);\n                    break;\n                case 'rows':\n                    this.control.setProperties({ dataSourceSettings: { valueAxis: 'row' } }, true);\n                    break;\n                case 'columns':\n                    this.control.setProperties({ dataSourceSettings: { valueAxis: 'column' } }, true);\n                    break;\n            }\n        }\n        else {\n            dataSourceItem = this.removeFieldFromReport(fieldName.toString());\n            dataSourceItem = dataSourceItem ? dataSourceItem : this.getNewField(fieldName.toString());\n            if (dataSourceItem.type === 'CalculatedField' && droppedClass !== '') {\n                droppedClass = 'values';\n            }\n        }\n        if (this.parent.dataType === 'olap') {\n            dataSourceItem = this.removeFieldFromReport(fieldName.toString());\n            dataSourceItem = dataSourceItem ? dataSourceItem : this.getNewField(fieldName.toString());\n            if (this.parent.dataSourceSettings.values.length === 0) {\n                this.removeFieldFromReport('[measures]');\n            }\n            if (dataSourceItem.type === 'CalculatedField' && droppedClass !== '') {\n                droppedClass = 'values';\n            }\n        }\n        if (this.control) {\n            var eventArgs = {\n                'droppedField': dataSourceItem, 'dataSourceSettings': this.parent.dataSourceSettings, 'droppedAxis': droppedClass\n            };\n            this.control.trigger(events.onFieldDropped, eventArgs);\n        }\n        if (dataSourceItem) {\n            switch (droppedClass) {\n                case 'filters':\n                    droppedPosition !== -1 ?\n                        this.parent.dataSourceSettings.filters.splice(droppedPosition, 0, dataSourceItem) :\n                        this.parent.dataSourceSettings.filters.push(dataSourceItem);\n                    break;\n                case 'rows':\n                    droppedPosition !== -1 ?\n                        this.parent.dataSourceSettings.rows.splice(droppedPosition, 0, dataSourceItem) :\n                        this.parent.dataSourceSettings.rows.push(dataSourceItem);\n                    break;\n                case 'columns':\n                    droppedPosition !== -1 ?\n                        this.parent.dataSourceSettings.columns.splice(droppedPosition, 0, dataSourceItem) :\n                        this.parent.dataSourceSettings.columns.push(dataSourceItem);\n                    break;\n                case 'values':\n                    droppedPosition !== -1 ?\n                        this.parent.dataSourceSettings.values.splice(droppedPosition, 0, dataSourceItem) :\n                        this.parent.dataSourceSettings.values.push(dataSourceItem);\n                    if (this.parent.dataType === 'olap' && !this.parent.engineModule.isMeasureAvail) {\n                        var measureField = {\n                            name: '[Measures]', caption: 'Measures', baseField: undefined, baseItem: undefined\n                        };\n                        var fieldAxis = this.parent.dataSourceSettings.valueAxis === 'row' ?\n                            this.parent.dataSourceSettings.rows : this.parent.dataSourceSettings.columns;\n                        fieldAxis.push(measureField);\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Updates the dataSource by removing the given field from the dataSource.\n     * @param  {string} fieldName - Defines dropped field name to remove dataSource.\n     * @method removeFieldFromReport\n     * @return {void}\n     * @hidden\n     */\n    DataSourceUpdate.prototype.removeFieldFromReport = function (fieldName) {\n        var dataSourceItem;\n        var isDataSource = false;\n        var rows = this.parent.dataSourceSettings.rows;\n        var columns = this.parent.dataSourceSettings.columns;\n        var values = this.parent.dataSourceSettings.values;\n        var filters = this.parent.dataSourceSettings.filters;\n        var fields = [rows, columns, values, filters];\n        var field = this.parent.engineModule.fieldList[fieldName];\n        for (var len = 0, lnt = fields.length; len < lnt; len++) {\n            if (!isDataSource && fields[len]) {\n                for (var i = 0, n = fields[len].length; i < n; i++) {\n                    if (fields[len][i].name === fieldName || (this.parent.dataType === 'olap' &&\n                        fields[len][i].name.toLowerCase() === '[measures]' && fields[len][i].name.toLowerCase() === fieldName)) {\n                        dataSourceItem = fields[len][i].properties ?\n                            fields[len][i].properties : fields[len][i];\n                        dataSourceItem.type = (field && field.type === 'number') ? dataSourceItem.type :\n                            'Count';\n                        fields[len].splice(i, 1);\n                        if (this.parent.dataType === 'olap') {\n                            var engineModule = this.parent.engineModule;\n                            if (engineModule && engineModule.fieldList[fieldName]) {\n                                engineModule.fieldList[fieldName].currrentMembers = {};\n                                engineModule.fieldList[fieldName].members = {};\n                                engineModule.fieldList[fieldName].filterMembers = [];\n                                engineModule.fieldList[fieldName].searchMembers = [];\n                            }\n                        }\n                        isDataSource = true;\n                        break;\n                    }\n                }\n            }\n        }\n        return dataSourceItem;\n    };\n    /**\n     * Creates new field object given field name from the field list data.\n     * @param  {string} fieldName - Defines dropped field name to add dataSource.\n     * @method getNewField\n     * @return {void}\n     * @hidden\n     */\n    DataSourceUpdate.prototype.getNewField = function (fieldName) {\n        var newField;\n        if (this.parent.dataType === 'olap') {\n            var field = this.parent.engineModule.fieldList[fieldName];\n            newField = {\n                name: fieldName,\n                caption: field.caption,\n                isNamedSet: field.isNamedSets,\n                isCalculatedField: field.isCalculatedField,\n                type: (field.aggregateType === undefined ? field.type === 'number' ? 'Sum' :\n                    'Count' : field.aggregateType),\n            };\n        }\n        else {\n            var field = this.parent.engineModule.fieldList[fieldName];\n            newField = {\n                name: fieldName,\n                caption: field.caption,\n                type: (field.aggregateType === undefined ? field.type === 'number' ? 'Sum' :\n                    'Count' : field.aggregateType),\n                showNoDataItems: field.showNoDataItems,\n                baseField: field.baseField,\n                baseItem: field.baseItem,\n            };\n        }\n        return newField;\n    };\n    return DataSourceUpdate;\n}());\nexport { DataSourceUpdate };\n","import { createElement, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * `ErrorDialog` module to create error dialog.\n */\n/** @hidden */\nvar ErrorDialog = /** @class */ (function () {\n    /**\n     * Constructor for the dialog action.\n     * @hidden\n     */\n    function ErrorDialog(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Creates the error dialog for the unexpected action done.\n     * @method createErrorDialog\n     * @return {void}\n     * @hidden\n     */\n    ErrorDialog.prototype.createErrorDialog = function (title, description, target) {\n        var errorDialog = createElement('div', {\n            id: this.parent.parentID + '_ErrorDialog',\n            className: cls.ERROR_DIALOG_CLASS\n        });\n        this.parent.element.appendChild(errorDialog);\n        var zIndex = target ? Number(target.style.zIndex) + 1 : (this.parent.moduleName === 'pivotfieldlist' &&\n            this.parent.renderMode === 'Popup' && this.parent.control ?\n            this.parent.control.dialogRenderer.fieldListDialog.zIndex + 1 : 1000001);\n        this.errorPopUp = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: false,\n            header: title,\n            content: description,\n            isModal: true,\n            visible: true,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: 'auto',\n            zIndex: zIndex,\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.closeErrorDialog.bind(this),\n                    buttonModel: { cssClass: cls.OK_BUTTON_CLASS, content: this.parent.localeObj.getConstant('ok'), isPrimary: true }\n                }\n            ],\n            closeOnEscape: true,\n            target: document.body,\n            close: this.removeErrorDialog.bind(this)\n        });\n        this.errorPopUp.isStringTemplate = true;\n        this.errorPopUp.appendTo(errorDialog);\n    };\n    ErrorDialog.prototype.closeErrorDialog = function () {\n        this.errorPopUp.close();\n    };\n    ErrorDialog.prototype.removeErrorDialog = function () {\n        if (this.errorPopUp && !this.errorPopUp.isDestroyed) {\n            this.errorPopUp.destroy();\n        }\n        if (document.getElementById(this.parent.parentID + '_ErrorDialog')) {\n            remove(document.getElementById(this.parent.parentID + '_ErrorDialog'));\n        }\n    };\n    return ErrorDialog;\n}());\nexport { ErrorDialog };\n","import { createElement, removeClass, addClass, remove, isNullOrUndefined, setStyleAttribute } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport { TreeView, Tab } from '@syncfusion/ej2-navigations';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MaskedTextBox, NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { setStyleAndAttributes } from '@syncfusion/ej2-grids';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { PivotUtil } from '../../base/util';\n/**\n * `FilterDialog` module to create filter dialog.\n */\n/** @hidden */\nvar FilterDialog = /** @class */ (function () {\n    /**\n     * Constructor for the dialog action.\n     * @hidden\n     */\n    function FilterDialog(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Creates the member filter dialog for the selected field.\n     * @method createFilterDialog\n     * @return {void}\n     * @hidden\n     */\n    FilterDialog.prototype.createFilterDialog = function (treeData, fieldName, fieldCaption, target) {\n        var editorDialog = createElement('div', {\n            id: this.parent.parentID + '_EditorTreeView',\n            className: cls.MEMBER_EDITOR_DIALOG_CLASS + ' ' + (this.parent.dataType === 'olap' ? 'e-olap-editor-dialog' : ''),\n            attrs: { 'data-fieldName': fieldName, 'aria-label': fieldCaption },\n            styles: 'visibility:hidden;'\n        });\n        var filterCaption = this.parent.engineModule.fieldList[fieldName].caption;\n        var headerTemplate = this.parent.localeObj.getConstant('filter') + ' ' +\n            '\"' + fieldCaption + '\"' + ' ' + this.parent.localeObj.getConstant('by');\n        this.filterObject = this.getFilterObject(fieldName);\n        this.isSearchEnabled = false;\n        this.allowExcelLikeFilter = this.isExcelFilter(fieldName);\n        this.parent.element.appendChild(editorDialog);\n        this.dialogPopUp = new Dialog({\n            animationSettings: { effect: (this.allowExcelLikeFilter ? 'None' : 'Fade') },\n            allowDragging: false,\n            header: (this.allowExcelLikeFilter ? headerTemplate : filterCaption),\n            content: (this.allowExcelLikeFilter ? '' : this.createTreeView(treeData, fieldCaption, fieldName)),\n            isModal: this.parent.renderMode === 'Popup' ? true : this.parent.isAdaptive ? true : false,\n            visible: true,\n            showCloseIcon: this.allowExcelLikeFilter ? true : false,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: this.parent.isDataOverflow ? (this.allowExcelLikeFilter ? '440px' : '400px') :\n                (this.allowExcelLikeFilter ? '400px' : '350px'),\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    buttonModel: {\n                        cssClass: cls.OK_BUTTON_CLASS, content: this.parent.localeObj.getConstant('ok'), isPrimary: true\n                    }\n                },\n                {\n                    buttonModel: {\n                        cssClass: 'e-clear-filter-button' + (this.allowExcelLikeFilter ? '' : ' ' + cls.ICON_DISABLE),\n                        iconCss: 'e-icons e-clear-filter-icon', enableRtl: this.parent.enableRtl,\n                        content: this.parent.localeObj.getConstant('clearFilter'), disabled: (this.filterObject ? false : true)\n                    }\n                },\n                {\n                    click: this.closeFilterDialog.bind(this),\n                    buttonModel: { cssClass: cls.CANCEL_BUTTON_CLASS, content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            closeOnEscape: true,\n            target: target,\n            close: this.removeFilterDialog.bind(this)\n        });\n        this.dialogPopUp.isStringTemplate = true;\n        this.dialogPopUp.appendTo(editorDialog);\n        // this.dialogPopUp.element.querySelector('.e-dlg-header').innerHTML = (this.allowExcelLikeFilter ? headerTemplate : filterCaption);\n        if (this.allowExcelLikeFilter) {\n            this.createTabMenu(treeData, fieldCaption, fieldName);\n            addClass([this.dialogPopUp.element], 'e-excel-filter');\n            this.updateCheckedState(fieldCaption);\n        }\n        else {\n            this.updateCheckedState(fieldCaption);\n        }\n        setStyleAttribute(this.dialogPopUp.element, { 'visibility': 'visible' });\n        if (this.allowExcelLikeFilter) {\n            this.dialogPopUp.element.querySelector('.e-dlg-closeicon-btn').focus();\n        }\n        else {\n            return;\n        }\n    };\n    /* tslint:disable */\n    FilterDialog.prototype.createTreeView = function (treeData, fieldCaption, fieldName) {\n        var _this = this;\n        var editorTreeWrapper = createElement('div', {\n            id: this.parent.parentID + 'EditorDiv',\n            className: cls.EDITOR_TREE_WRAPPER_CLASS + (this.allowExcelLikeFilter ? ' e-excelfilter' : '')\n        });\n        var levelWrapper = createElement('button', {\n            id: this.parent.parentID + '_LevelDiv',\n            className: 'e-level-wrapper-class'\n        });\n        var searchWrapper = createElement('div', {\n            id: this.parent.parentID + '_SearchDiv', attrs: { 'tabindex': '-1' },\n            className: cls.EDITOR_SEARCH_WRAPPER_CLASS\n        });\n        var filterCaption = this.parent.engineModule.fieldList[fieldName].caption;\n        var editorSearch = createElement('input', { attrs: { 'type': 'text' } });\n        var nodeLimitText = this.parent.isDataOverflow ?\n            ((this.parent.currentTreeItems.length - this.parent.control.maxNodeLimitInMemberEditor) +\n                this.parent.control.localeObj.getConstant('editorDataLimitMsg')) : '';\n        var labelWrapper = createElement('div', {\n            id: this.parent.parentID + '_LabelDiv',\n            attrs: { 'tabindex': '-1', 'title': nodeLimitText },\n            className: cls.EDITOR_LABEL_WRAPPER_CLASS\n        });\n        this.parent.editorLabelElement = createElement('label', { className: cls.EDITOR_LABEL_CLASS });\n        this.parent.editorLabelElement.innerText = nodeLimitText;\n        labelWrapper.style.display = this.parent.isDataOverflow ? 'block' : 'none';\n        labelWrapper.appendChild(this.parent.editorLabelElement);\n        searchWrapper.appendChild(editorSearch);\n        searchWrapper.appendChild(levelWrapper);\n        var selectAllWrapper = createElement('div', {\n            id: this.parent.parentID + '_AllDiv', attrs: { 'tabindex': '-1' },\n            className: cls.SELECT_ALL_WRAPPER_CLASS\n        });\n        var selectAllContainer = createElement('div', { className: cls.SELECT_ALL_CLASS });\n        var treeOuterDiv = createElement('div', { className: cls.EDITOR_TREE_CONTAINER_CLASS + '-outer-div' });\n        var treeViewContainer = createElement('div', { className: cls.EDITOR_TREE_CONTAINER_CLASS });\n        var promptDiv = createElement('div', {\n            className: cls.EMPTY_MEMBER_CLASS + ' ' + cls.ICON_DISABLE,\n            innerHTML: this.parent.localeObj.getConstant('noMatches')\n        });\n        if (this.parent.dataType === 'olap' && this.parent.control.loadOnDemandInMemberEditor &&\n            !this.parent.engineModule.fieldList[fieldName].isHierarchy &&\n            !this.parent.engineModule.fieldList[fieldName].isNamedSets) {\n            this.createLevelWrapper(levelWrapper, fieldName);\n        }\n        else {\n            levelWrapper.style.display = 'none';\n        }\n        selectAllWrapper.appendChild(selectAllContainer);\n        editorTreeWrapper.appendChild(searchWrapper);\n        editorTreeWrapper.appendChild(selectAllWrapper);\n        editorTreeWrapper.appendChild(promptDiv);\n        this.editorSearch = new MaskedTextBox({\n            placeholder: this.parent.localeObj.getConstant('search') + ' ' + '\"' + filterCaption + '\"',\n            enableRtl: this.parent.enableRtl,\n            cssClass: cls.EDITOR_SEARCH_CLASS,\n            showClearButton: true,\n            change: function (e) {\n                if (_this.parent.dataType === 'olap') {\n                    _this.searchOlapTreeView(e, promptDiv, fieldCaption);\n                }\n                else {\n                    _this.parent.eventBase.searchTreeNodes(e, _this.memberTreeView, false);\n                    var filterDialog = _this.dialogPopUp.element;\n                    var liList = [].slice.call(_this.memberTreeView.element.querySelectorAll('li'));\n                    if (liList.length === 0) {\n                        _this.allMemberSelect.disableNodes([_this.allMemberSelect.element.querySelector('li')]);\n                        filterDialog.querySelector('.' + cls.OK_BUTTON_CLASS).setAttribute('disabled', 'disabled');\n                        removeClass([promptDiv], cls.ICON_DISABLE);\n                    }\n                    else {\n                        _this.allMemberSelect.enableNodes([_this.allMemberSelect.element.querySelector('li')]);\n                        filterDialog.querySelector('.' + cls.OK_BUTTON_CLASS).removeAttribute('disabled');\n                        addClass([promptDiv], cls.ICON_DISABLE);\n                    }\n                    _this.updateCheckedState(fieldCaption);\n                }\n            }\n        });\n        this.editorSearch.isStringTemplate = true;\n        this.editorSearch.appendTo(editorSearch);\n        var nodeAttr = { 'data-fieldName': fieldName };\n        var data = [{ id: 'all', name: 'All', isSelected: true, htmlAttributes: nodeAttr }];\n        this.allMemberSelect = new TreeView({\n            fields: { dataSource: data, id: 'id', text: 'name', isChecked: 'isSelected' },\n            showCheckBox: true,\n            expandOn: 'None',\n            enableRtl: this.parent.enableRtl,\n            nodeClicked: this.nodeCheck.bind(this, true),\n            keyPress: this.nodeCheck.bind(this, true)\n        });\n        this.allMemberSelect.isStringTemplate = true;\n        this.allMemberSelect.appendTo(selectAllContainer);\n        treeOuterDiv.appendChild(treeViewContainer);\n        editorTreeWrapper.appendChild(treeOuterDiv);\n        this.memberTreeView = new TreeView({\n            fields: { dataSource: treeData, id: 'id', text: 'name', isChecked: 'isSelected', parentID: 'pid' },\n            showCheckBox: true,\n            enableRtl: this.parent.enableRtl,\n            nodeChecking: this.validateTreeNode.bind(this),\n            nodeClicked: this.nodeCheck.bind(this, false),\n            keyPress: this.nodeCheck.bind(this, false),\n            nodeExpanding: this.updateChildNodes.bind(this),\n            expandOn: 'None'\n        });\n        this.memberTreeView.isStringTemplate = true;\n        this.memberTreeView.appendTo(treeViewContainer);\n        editorTreeWrapper.appendChild(labelWrapper);\n        return editorTreeWrapper;\n    };\n    FilterDialog.prototype.createLevelWrapper = function (levelWrapper, fieldName) {\n        var _this = this;\n        var engineModule = this.parent.engineModule;\n        var levels = engineModule.fieldList[fieldName].levels;\n        var levelCount = engineModule.fieldList[fieldName].levelCount;\n        var items = [];\n        for (var i = 0, cnt = levels.length; i < cnt; i++) {\n            items.push({ id: levels[i].id, text: levels[i].name });\n        }\n        this.dropMenu = new DropDownButton({\n            cssClass: 'e-level-drop',\n            items: items, iconCss: 'e-icons e-dropdown-icon',\n            disabled: (levelCount === levels.length),\n            beforeOpen: function (args) {\n                var items = [].slice.call(args.element.querySelectorAll('li'));\n                var engineModule = _this.parent.engineModule;\n                var levelCount = engineModule.fieldList[fieldName].levelCount;\n                removeClass(items, cls.MENU_DISABLE);\n                for (var i = 0, cnt = items.length; i < cnt; i++) {\n                    if (i < levelCount) {\n                        addClass([items[i]], cls.MENU_DISABLE);\n                    }\n                }\n            },\n            select: function (args) {\n                var fieldName = _this.dialogPopUp.element.getAttribute('data-fieldname');\n                var engineModule = _this.parent.engineModule;\n                var selectedLevel;\n                for (var i = 0, cnt = items.length; i < cnt; i++) {\n                    if (items[i].id === args.item.id) {\n                        selectedLevel = i;\n                    }\n                }\n                engineModule.getFilterMembers(_this.parent.dataSourceSettings, fieldName, selectedLevel + 1, false, true);\n            },\n            close: function () {\n                var engineModule = _this.parent.engineModule;\n                var levels = engineModule.fieldList[fieldName].levels;\n                var levelCount = engineModule.fieldList[fieldName].levelCount;\n                if (levelCount === levels.length) {\n                    _this.dropMenu.disabled = true;\n                    _this.dropMenu.dataBind();\n                }\n                else {\n                    _this.dropMenu.disabled = false;\n                }\n            }\n        });\n        this.dropMenu.appendTo(levelWrapper);\n    };\n    FilterDialog.prototype.searchOlapTreeView = function (e, promptDiv, fieldCaption) {\n        var popupInstance = this;\n        clearTimeout(this.timeOutObj);\n        this.timeOutObj = setTimeout(function () {\n            var engineModule = popupInstance.parent.engineModule;\n            var filterDialog = popupInstance.dialogPopUp.element;\n            var fieldName = filterDialog.getAttribute('data-fieldname');\n            var nodeLimit = popupInstance.parent.control.maxNodeLimitInMemberEditor ?\n                popupInstance.parent.control.maxNodeLimitInMemberEditor : 5000;\n            if (!engineModule.fieldList[fieldName].isHierarchy) {\n                if (popupInstance.dropMenu && e.value !== '') {\n                    popupInstance.dropMenu.disabled = true;\n                }\n                else {\n                    popupInstance.dropMenu.disabled = false;\n                }\n                if (!popupInstance.parent.control.loadOnDemandInMemberEditor) {\n                    engineModule.getSearchMembers(popupInstance.parent.dataSourceSettings, fieldName, e.value.toLowerCase(), nodeLimit, true);\n                }\n                else {\n                    var levelCount = engineModule.fieldList[fieldName].levelCount ? engineModule.fieldList[fieldName].levelCount : 1;\n                    engineModule.getSearchMembers(popupInstance.parent.dataSourceSettings, fieldName, e.value.toLowerCase(), nodeLimit, false, levelCount);\n                }\n                popupInstance.parent.eventBase.searchTreeNodes(e, popupInstance.memberTreeView, false, false);\n            }\n            else {\n                popupInstance.parent.eventBase.searchTreeNodes(e, popupInstance.memberTreeView, false, true);\n            }\n            var liList = [].slice.call(popupInstance.memberTreeView.element.querySelectorAll('li'));\n            // for (let element of liList) {\n            //     if (element.querySelector('.interaction')) {\n            //         setStyleAttribute(element.querySelector('.interaction'), { display: 'none' });\n            //     }\n            // }\n            if (liList.length === 0) {\n                popupInstance.allMemberSelect.disableNodes([popupInstance.allMemberSelect.element.querySelector('li')]);\n                filterDialog.querySelector('.' + cls.OK_BUTTON_CLASS).setAttribute('disabled', 'disabled');\n                removeClass([promptDiv], cls.ICON_DISABLE);\n            }\n            else {\n                popupInstance.allMemberSelect.enableNodes([popupInstance.allMemberSelect.element.querySelector('li')]);\n                filterDialog.querySelector('.' + cls.OK_BUTTON_CLASS).removeAttribute('disabled');\n                addClass([promptDiv], cls.ICON_DISABLE);\n            }\n            popupInstance.updateCheckedState(fieldCaption);\n        }, 500);\n    };\n    /* tslint:enable */\n    /* tslint:disable:no-any */\n    FilterDialog.prototype.nodeCheck = function (isAllMember, args) {\n        var checkedNode = [args.node];\n        if (args.event.target.classList.contains('e-fullrow') || args.event.key === 'Enter') {\n            var memberObj = isAllMember ? this.allMemberSelect : this.memberTreeView;\n            var getNodeDetails = memberObj.getNode(args.node);\n            if (getNodeDetails.isChecked === 'true') {\n                memberObj.uncheckAll(checkedNode);\n            }\n            else {\n                memberObj.checkAll(checkedNode);\n            }\n        }\n    };\n    FilterDialog.prototype.updateChildNodes = function (args) {\n        if (this.parent.dataType === 'olap') {\n            var engineModule = this.parent.engineModule;\n            var fieldName = args.node.getAttribute('data-fieldname');\n            var fieldList = engineModule.fieldList[fieldName];\n            var filterItems = [];\n            if (fieldList && fieldList.filterMembers.length > 0 && !this.isSearchEnabled &&\n                !fieldList.members[args.nodeData.id].isNodeExpand) {\n                var childNodes = [];\n                for (var _i = 0, _a = fieldList.filterMembers; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (item.pid === args.nodeData.id.toString()) {\n                        childNodes.push(item);\n                    }\n                }\n                if (childNodes.length === 0) {\n                    fieldList.childMembers = [];\n                    engineModule.getChildMembers(this.parent.dataSourceSettings, args.nodeData.id.toString(), fieldName);\n                    childNodes = fieldList.childMembers;\n                    fieldList.childMembers = [];\n                }\n                var treeData = PivotUtil.getClonedData(childNodes);\n                var curTreeData = this.memberTreeView.fields.dataSource;\n                var isInclude = false;\n                if (!isNullOrUndefined(this.filterObject)) {\n                    isInclude = this.filterObject.type === 'Include' ? true : false;\n                    filterItems = this.filterObject.items ? this.filterObject.items : [];\n                }\n                treeData = this.updateChildData(isInclude, treeData, filterItems, fieldName, args.nodeData);\n                treeData = this.parent.eventBase.sortOlapFilterData(treeData, engineModule.fieldList[fieldName].sort);\n                for (var _b = 0, treeData_1 = treeData; _b < treeData_1.length; _b++) {\n                    var node = treeData_1[_b];\n                    curTreeData.push(node);\n                }\n                fieldList.members[args.nodeData.id].isNodeExpand = true;\n                this.memberTreeView.addNodes(treeData, args.node);\n            }\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    FilterDialog.prototype.updateChildData = function (isInclude, members, filterItems, fieldName, parentNode) {\n        var memberCount = Object.keys(this.parent.currentTreeItemsPos).length;\n        var fieldList = this.parent.engineModule.fieldList[fieldName];\n        var list = [];\n        var childMemberCount = 1;\n        for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n            var member = members_1[_i];\n            var obj = member;\n            var memberName = member.id.toString();\n            fieldList.members[memberName].isNodeExpand = false;\n            member.isSelected = (parentNode.isChecked === 'true');\n            if (childMemberCount <= this.parent.control.maxNodeLimitInMemberEditor) {\n                list.push(obj);\n            }\n            this.parent.currentTreeItems.push(obj);\n            this.parent.searchTreeItems.push(obj);\n            this.parent.currentTreeItemsPos[memberName] = memberCount;\n            memberCount++;\n            childMemberCount++;\n        }\n        this.parent.isDataOverflow = false;\n        return list;\n    };\n    FilterDialog.prototype.createTabMenu = function (treeData, fieldCaption, fieldName) {\n        var wrapper = createElement('div', {\n            className: 'e-filter-tab-wrapper'\n        });\n        this.dialogPopUp.content = wrapper;\n        this.dialogPopUp.dataBind();\n        var types = ['Label', 'Value', 'Include', 'Exclude'];\n        var regx = '((-|\\\\+)?[0-9]+(\\\\.[0-9]+)?)+';\n        var member = Object.keys(this.parent.engineModule.fieldList[fieldName].members)[0];\n        var fieldType = this.parent.engineModule.fieldList[fieldName].type;\n        var formatObj = this.parent.eventBase.getFormatItemByName(fieldName);\n        var items = [\n            {\n                header: {\n                    text: this.parent.localeObj.getConstant('member'),\n                    iconCss: (this.filterObject && types.indexOf(this.filterObject.type) > 1 ? cls.SELECTED_OPTION_ICON_CLASS : '')\n                },\n                content: this.createTreeView(treeData, fieldCaption, fieldName)\n            }\n        ];\n        for (var _i = 0, types_1 = types; _i < types_1.length; _i++) {\n            var type = types_1[_i];\n            if (((type === 'Label') && this.parent.dataSourceSettings.allowLabelFilter) ||\n                (type === 'Value' && this.parent.dataSourceSettings.allowValueFilter)) {\n                var filterType = (type === 'Label' && ((member).match(regx) &&\n                    (member).match(regx)[0].length === (member).length) && fieldType === 'number') ? 'Number' :\n                    (type === 'Label' && (new Date(member).toString() !== 'Invalid Date') &&\n                        ((formatObj && formatObj.type) || (this.filterObject && this.filterObject.type === 'Date'))) ? 'Date' : type;\n                var item = {\n                    header: {\n                        text: (filterType === 'Number' ? this.parent.localeObj.getConstant('label') :\n                            this.parent.localeObj.getConstant(filterType.toLowerCase())),\n                        iconCss: (this.filterObject && this.filterObject.type === filterType ? cls.SELECTED_OPTION_ICON_CLASS : '')\n                    },\n                    /* tslint:disable-next-line:max-line-length */\n                    content: this.createCustomFilter(fieldName, (this.filterObject && this.filterObject.type === filterType ? this.filterObject : undefined), filterType.toLowerCase())\n                };\n                items.push(item);\n            }\n        }\n        var selectedIndex = (this.filterObject ? (['Label', 'Date', 'Number'].indexOf(this.filterObject.type) >= 0) ?\n            1 : this.filterObject.type === 'Value' ?\n            (this.parent.dataSourceSettings.allowLabelFilter && this.parent.dataSourceSettings.allowValueFilter) ? 2 : 1 : 0 : 0);\n        this.tabObj = new Tab({\n            heightAdjustMode: 'Auto',\n            items: items,\n            height: '100%',\n            selectedItem: selectedIndex,\n            enableRtl: this.parent.enableRtl\n        });\n        this.tabObj.isStringTemplate = true;\n        this.tabObj.appendTo(wrapper);\n        if (selectedIndex > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            addClass([this.dialogPopUp.element.querySelector('.e-filter-div-content' + '.' + (selectedIndex === 1 && this.parent.dataSourceSettings.allowLabelFilter ? 'e-label-filter' : 'e-value-filter'))], 'e-selected-tab');\n        }\n    };\n    /* tslint:disable */\n    FilterDialog.prototype.createCustomFilter = function (fieldName, filterObject, type) {\n        var dataSource = [];\n        var valueOptions = [];\n        var levelOptions = [];\n        var measures = this.parent.dataSourceSettings.values;\n        var selectedOption = 'DoesNotEquals';\n        var selectedValueIndex = 0;\n        var selectedLevelIndex = 0;\n        var options = {\n            label: ['Equals', 'DoesNotEquals', 'BeginWith', 'DoesNotBeginWith', 'EndsWith',\n                'DoesNotEndsWith', 'Contains', 'DoesNotContains', 'GreaterThan',\n                'GreaterThanOrEqualTo', 'LessThan', 'LessThanOrEqualTo', 'Between', 'NotBetween'],\n            date: ['Equals', 'DoesNotEquals', 'Before', 'BeforeOrEqualTo', 'After', 'AfterOrEqualTo',\n                'Between', 'NotBetween'],\n            value: ['Equals', 'DoesNotEquals', 'GreaterThan', 'GreaterThanOrEqualTo', 'LessThan',\n                'LessThanOrEqualTo', 'Between', 'NotBetween']\n        };\n        var betweenOperators = ['Between', 'NotBetween'];\n        var operatorCollection = (type === 'label' ? options.label : type === 'date' ? options.date : options.value);\n        for (var _i = 0, operatorCollection_1 = operatorCollection; _i < operatorCollection_1.length; _i++) {\n            var operator = operatorCollection_1[_i];\n            selectedOption = ((filterObject && operator === filterObject.condition) ?\n                operatorCollection.indexOf(filterObject.condition) >= 0 ?\n                    filterObject.condition : operatorCollection[0] : selectedOption);\n            dataSource.push({ value: operator, text: this.parent.localeObj.getConstant(operator) });\n        }\n        var len = measures.length;\n        while (len--) {\n            valueOptions.unshift({ value: measures[len].name, text: (measures[len].caption ? measures[len].caption : measures[len].name) });\n            selectedValueIndex = filterObject && filterObject.type === 'Value' &&\n                filterObject.measure === measures[len].name &&\n                filterObject.condition === selectedOption ? len : selectedValueIndex;\n        }\n        if (this.parent.dataType === 'olap') {\n            var engineModule = this.parent.engineModule;\n            var levels = engineModule.fieldList[fieldName].levels;\n            if (this.parent.engineModule.fieldList[fieldName].isHierarchy) {\n                levelOptions.push({ value: fieldName, text: engineModule.fieldList[fieldName].name });\n                selectedLevelIndex = 0;\n                if (filterObject && filterObject.name === fieldName && filterObject.type.toLowerCase() === type) {\n                    levelOptions[levelOptions.length - 1]['iconClass'] = cls.ICON + ' ' + cls.SELECTED_LEVEL_ICON_CLASS;\n                }\n            }\n            else {\n                for (var i = 0, cnt = levels.length; i < cnt; i++) {\n                    selectedLevelIndex = (filterObject &&\n                        filterObject.selectedField === levels[i].id ? i : selectedLevelIndex);\n                    levelOptions.push({ value: levels[i].id, text: levels[i].name });\n                    for (var _a = 0, _b = this.parent.dataSourceSettings.filterSettings; _a < _b.length; _a++) {\n                        var field = _b[_a];\n                        if (field.name === fieldName && field.selectedField === levels[i].id && field.type.toLowerCase() === type) {\n                            levelOptions[levelOptions.length - 1]['iconClass'] = cls.ICON + ' ' + cls.SELECTED_LEVEL_ICON_CLASS;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        var mainDiv = createElement('div', {\n            className: cls.FILTER_DIV_CONTENT_CLASS + ' e-' + ((['date', 'number']).indexOf(type) >= 0 ? 'label' : type) + '-filter',\n            id: this.parent.parentID + '_' + type + '_filter_div_content',\n            attrs: {\n                'data-type': type, 'data-fieldName': fieldName, 'data-operator': selectedOption,\n                'data-selectedField': (this.parent.dataType === 'olap' &&\n                    levelOptions.length > 0 ? levelOptions[selectedLevelIndex].value.toString() : ''),\n                'data-measure': (this.parent.dataSourceSettings.values.length > 0 ?\n                    this.parent.dataSourceSettings.values[selectedValueIndex].name : ''),\n                'data-value1': (filterObject && selectedOption === filterObject.condition ?\n                    filterObject.value1 ? filterObject.value1.toString() : '' : ''),\n                'data-value2': (filterObject && selectedOption === filterObject.condition ?\n                    filterObject.value2 ? filterObject.value2.toString() : '' : '')\n            }\n        });\n        var textContentdiv = createElement('div', {\n            className: cls.FILTER_TEXT_DIV_CLASS,\n            innerHTML: this.parent.localeObj.getConstant(type + 'TextContent')\n        });\n        var betweenTextContentdiv = createElement('div', {\n            className: cls.BETWEEN_TEXT_DIV_CLASS + ' ' +\n                (betweenOperators.indexOf(selectedOption) === -1 ? cls.ICON_DISABLE : ''),\n            innerHTML: this.parent.localeObj.getConstant('And')\n        });\n        var separatordiv = createElement('div', { className: cls.SEPARATOR_DIV_CLASS });\n        var filterWrapperDiv1 = createElement('div', { className: cls.FILTER_OPTION_WRAPPER_1_CLASS });\n        var levelWrapperDiv = createElement('div', {\n            className: 'e-level-option-wrapper' + ' ' +\n                (this.parent.dataType === 'olap' ? '' : cls.ICON_DISABLE),\n        });\n        var optionWrapperDiv1 = createElement('div', {\n            className: 'e-measure-option-wrapper' + ' ' + (((['label', 'date', 'number']).indexOf(type) >= 0) ? cls.ICON_DISABLE : ''),\n        });\n        var optionWrapperDiv2 = createElement('div', { className: 'e-condition-option-wrapper' });\n        var filterWrapperDiv2 = createElement('div', { className: cls.FILTER_OPTION_WRAPPER_2_CLASS });\n        var levelDropOption = createElement('div', { id: this.parent.parentID + '_' + type + '_level_option_wrapper' });\n        var dropOptionDiv1 = createElement('div', { id: this.parent.parentID + '_' + type + '_measure_option_wrapper' });\n        var dropOptionDiv2 = createElement('div', { id: this.parent.parentID + '_' + type + '_contition_option_wrapper' });\n        var inputDiv1 = createElement('div', { className: cls.FILTER_INPUT_DIV_1_CLASS });\n        var inputDiv2 = createElement('div', {\n            className: cls.FILTER_INPUT_DIV_2_CLASS + ' ' +\n                (betweenOperators.indexOf(selectedOption) === -1 ? cls.ICON_DISABLE : '')\n        });\n        var inputField1 = createElement('input', {\n            id: this.parent.parentID + '_' + type + '_input_option_1', attrs: { 'type': 'text' }\n        });\n        var inputField2 = createElement('input', {\n            id: this.parent.parentID + '_' + type + '_input_option_2', attrs: { 'type': 'text' }\n        });\n        inputDiv1.appendChild(inputField1);\n        inputDiv2.appendChild(inputField2);\n        levelWrapperDiv.appendChild(levelDropOption);\n        levelWrapperDiv.appendChild(separatordiv.cloneNode(true));\n        optionWrapperDiv1.appendChild(dropOptionDiv1);\n        optionWrapperDiv1.appendChild(separatordiv);\n        optionWrapperDiv2.appendChild(dropOptionDiv2);\n        filterWrapperDiv1.appendChild(levelWrapperDiv);\n        filterWrapperDiv1.appendChild(optionWrapperDiv1);\n        filterWrapperDiv1.appendChild(optionWrapperDiv2);\n        filterWrapperDiv2.appendChild(inputDiv1);\n        filterWrapperDiv2.appendChild(betweenTextContentdiv);\n        filterWrapperDiv2.appendChild(inputDiv2);\n        /* tslint:disable-next-line:max-line-length */\n        this.createElements(filterObject, betweenOperators, dropOptionDiv1, dropOptionDiv2, inputField1, inputField2, valueOptions, dataSource, selectedValueIndex, selectedOption, type, levelDropOption, levelOptions, selectedLevelIndex);\n        mainDiv.appendChild(textContentdiv);\n        mainDiv.appendChild(filterWrapperDiv1);\n        mainDiv.appendChild(filterWrapperDiv2);\n        return mainDiv;\n    };\n    FilterDialog.prototype.createElements = function (filterObj, operators, optionDiv1, optionDiv2, inputDiv1, inputDiv2, vDataSource, oDataSource, valueIndex, option, type, levelDropOption, lDataSource, levelIndex) {\n        var popupInstance = this;\n        if (this.parent.dataType === 'olap') {\n            var levelWrapper = new DropDownList({\n                dataSource: lDataSource, enableRtl: this.parent.enableRtl,\n                fields: { value: 'value', text: 'text', iconCss: 'iconClass' },\n                index: levelIndex,\n                cssClass: cls.LEVEL_OPTIONS_CLASS, width: '100%',\n                change: function (args) {\n                    var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                    var fieldName = element.getAttribute('data-fieldName');\n                    var type = element.getAttribute('data-type');\n                    if (!isNullOrUndefined(element)) {\n                        popupInstance.updateInputValues(element, type, inputDiv1, inputDiv2);\n                        setStyleAndAttributes(element, { 'data-selectedField': args.value });\n                        var filterObj_1;\n                        for (var _i = 0, _a = popupInstance.parent.dataSourceSettings.filterSettings; _i < _a.length; _i++) {\n                            var field = _a[_i];\n                            if (field.name === fieldName && field.selectedField === args.value) {\n                                filterObj_1 = field;\n                                break;\n                            }\n                        }\n                        if (filterObj_1) {\n                            if (type === 'value' && filterObj_1.measure && filterObj_1.measure !== '') {\n                                optionWrapper1.value = filterObj_1.measure ? filterObj_1.measure : vDataSource[0].value;\n                            }\n                            else {\n                            }\n                            if (filterObj_1.condition) {\n                                optionWrapper.value = filterObj_1.condition ? filterObj_1.condition : 'DoesNotEquals';\n                            }\n                            else {\n                                optionWrapper.value = 'DoesNotEquals';\n                            }\n                            var inputObj1 = void 0;\n                            var inputObj2 = void 0;\n                            if (type === 'value') {\n                                inputObj1 = inputDiv1.ej2_instances[0];\n                                inputObj2 = inputDiv2.ej2_instances[0];\n                                if (inputObj1) {\n                                    inputObj1.value = filterObj_1.value1 ? parseInt(filterObj_1.value1, 10) : undefined;\n                                }\n                                if (inputObj2) {\n                                    inputObj2.value = filterObj_1.value2 ? parseInt(filterObj_1.value2, 10) : undefined;\n                                }\n                            }\n                            else {\n                                inputObj1 = inputDiv1.ej2_instances[0];\n                                inputObj2 = inputDiv2.ej2_instances[0];\n                                if (inputObj1) {\n                                    inputObj1.value = filterObj_1.value1 ? filterObj_1.value1 : '';\n                                }\n                                if (inputObj2) {\n                                    inputObj2.value = filterObj_1.value2 ? filterObj_1.value2 : '';\n                                }\n                            }\n                        }\n                        popupInstance.updateInputValues(element, type, inputDiv1, inputDiv2);\n                    }\n                    else {\n                        return;\n                    }\n                }\n            });\n            levelWrapper.isStringTemplate = true;\n            levelWrapper.appendTo(levelDropOption);\n        }\n        var optionWrapper1 = new DropDownList({\n            dataSource: vDataSource, enableRtl: this.parent.enableRtl,\n            fields: { value: 'value', text: 'text' }, index: valueIndex,\n            cssClass: cls.VALUE_OPTIONS_CLASS, width: '100%',\n            change: function (args) {\n                var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                if (!isNullOrUndefined(element)) {\n                    popupInstance.updateInputValues(element, type, inputDiv1, inputDiv2);\n                    setStyleAndAttributes(element, { 'data-measure': args.value });\n                }\n                else {\n                    return;\n                }\n            }\n        });\n        optionWrapper1.isStringTemplate = true;\n        optionWrapper1.appendTo(optionDiv1);\n        var optionWrapper = new DropDownList({\n            dataSource: oDataSource, enableRtl: this.parent.enableRtl,\n            fields: { value: 'value', text: 'text' }, value: option,\n            cssClass: cls.FILTER_OPERATOR_CLASS, width: '100%',\n            change: function (args) {\n                var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                if (!isNullOrUndefined(element)) {\n                    popupInstance.updateInputValues(element, type, inputDiv1, inputDiv2);\n                    var disabledClasses = [cls.BETWEEN_TEXT_DIV_CLASS, cls.FILTER_INPUT_DIV_2_CLASS];\n                    for (var _i = 0, disabledClasses_1 = disabledClasses; _i < disabledClasses_1.length; _i++) {\n                        var className = disabledClasses_1[_i];\n                        if (operators.indexOf(args.value) >= 0) {\n                            removeClass([element.querySelector('.' + className)], cls.ICON_DISABLE);\n                        }\n                        else {\n                            addClass([element.querySelector('.' + className)], cls.ICON_DISABLE);\n                        }\n                    }\n                    setStyleAndAttributes(element, { 'data-operator': args.value });\n                }\n                else {\n                    return;\n                }\n            }\n        });\n        optionWrapper.isStringTemplate = true;\n        optionWrapper.appendTo(optionDiv2);\n        if (type === 'date') {\n            var inputObj1_1 = new DateTimePicker({\n                placeholder: this.parent.localeObj.getConstant('chooseDate'),\n                enableRtl: this.parent.enableRtl,\n                format: 'dd/MM/yyyy hh:mm:ss a',\n                showClearButton: true,\n                value: (filterObj && option === filterObj.condition ?\n                    (typeof (filterObj.value1) === 'string' ? new Date(filterObj.value1) : filterObj.value1) : null),\n                change: function (e) {\n                    var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                    if (!isNullOrUndefined(element)) {\n                        setStyleAndAttributes(element, { 'data-value1': e.value, 'data-value2': inputObj2_1.value });\n                    }\n                    else {\n                        return;\n                    }\n                },\n                width: '100%',\n            });\n            var inputObj2_1 = new DateTimePicker({\n                placeholder: this.parent.localeObj.getConstant('chooseDate'),\n                enableRtl: this.parent.enableRtl,\n                format: 'dd/MM/yyyy hh:mm:ss a',\n                showClearButton: true,\n                value: (filterObj && option === filterObj.condition ?\n                    (typeof (filterObj.value2) === 'string' ? new Date(filterObj.value2) : filterObj.value2) : null),\n                change: function (e) {\n                    var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                    if (!isNullOrUndefined(element)) {\n                        setStyleAndAttributes(element, { 'data-value1': inputObj1_1.value, 'data-value2': e.value });\n                    }\n                    else {\n                        return;\n                    }\n                },\n                width: '100%',\n            });\n            inputObj1_1.isStringTemplate = true;\n            inputObj1_1.appendTo(inputDiv1);\n            inputObj2_1.isStringTemplate = true;\n            inputObj2_1.appendTo(inputDiv2);\n        }\n        else if (type === 'value') {\n            var inputObj1_2 = new NumericTextBox({\n                placeholder: this.parent.localeObj.getConstant('enterValue'),\n                enableRtl: this.parent.enableRtl,\n                showClearButton: true,\n                format: '###.##',\n                value: (filterObj && option === filterObj.condition ? parseInt(filterObj.value1, 10) : undefined),\n                change: function (e) {\n                    var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                    if (!isNullOrUndefined(element)) {\n                        setStyleAndAttributes(element, {\n                            'data-value1': (e.value ? e.value.toString() : '0'),\n                            'data-value2': (inputObj2_2.value ? inputObj2_2.value.toString() : '0')\n                        });\n                    }\n                    else {\n                        return;\n                    }\n                }, width: '100%'\n            });\n            var inputObj2_2 = new NumericTextBox({\n                placeholder: this.parent.localeObj.getConstant('enterValue'),\n                enableRtl: this.parent.enableRtl,\n                showClearButton: true,\n                format: '###.##',\n                value: (filterObj && option === filterObj.condition ? parseInt(filterObj.value2, 10) : undefined),\n                change: function (e) {\n                    var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                    if (!isNullOrUndefined(element)) {\n                        setStyleAndAttributes(element, {\n                            'data-value1': (inputObj1_2.value ? inputObj1_2.value.toString() : '0'),\n                            'data-value2': (e.value ? e.value.toString() : '0')\n                        });\n                    }\n                    else {\n                        return;\n                    }\n                }, width: '100%'\n            });\n            inputObj1_2.isStringTemplate = true;\n            inputObj1_2.appendTo(inputDiv1);\n            inputObj2_2.isStringTemplate = true;\n            inputObj2_2.appendTo(inputDiv2);\n        }\n        else {\n            var inputObj1_3 = new MaskedTextBox({\n                placeholder: this.parent.localeObj.getConstant('enterValue'),\n                enableRtl: this.parent.enableRtl,\n                showClearButton: true,\n                value: (filterObj && option === filterObj.condition ? filterObj.value1 : ''),\n                change: function (e) {\n                    var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                    if (!isNullOrUndefined(element)) {\n                        setStyleAndAttributes(element, { 'data-value1': e.value, 'data-value2': inputObj2_3.value });\n                    }\n                    else {\n                        return;\n                    }\n                }, width: '100%'\n            });\n            var inputObj2_3 = new MaskedTextBox({\n                placeholder: this.parent.localeObj.getConstant('enterValue'),\n                enableRtl: this.parent.enableRtl,\n                showClearButton: true,\n                value: (filterObj && option === filterObj.condition ? filterObj.value2 : ''),\n                change: function (e) {\n                    var element = popupInstance.dialogPopUp.element.querySelector('.e-selected-tab');\n                    if (!isNullOrUndefined(element)) {\n                        setStyleAndAttributes(element, { 'data-value1': inputObj1_3.value, 'data-value2': e.value });\n                    }\n                    else {\n                        return;\n                    }\n                }, width: '100%'\n            });\n            inputObj1_3.isStringTemplate = true;\n            inputObj1_3.appendTo(inputDiv1);\n            inputObj2_3.isStringTemplate = true;\n            inputObj2_3.appendTo(inputDiv2);\n        }\n    };\n    /* tslint:enable */\n    FilterDialog.prototype.updateInputValues = function (element, type, inputDiv1, inputDiv2) {\n        var value1;\n        var value2;\n        if (type === 'date') {\n            var inputObj1 = inputDiv1.ej2_instances[0];\n            var inputObj2 = inputDiv2.ej2_instances[0];\n            value1 = !isNullOrUndefined(inputObj1.value) ? inputObj1.value.toString() : '';\n            value2 = !isNullOrUndefined(inputObj2.value) ? inputObj2.value.toString() : '';\n        }\n        else {\n            var inputObj1 = inputDiv1.ej2_instances[0];\n            var inputObj2 = inputDiv2.ej2_instances[0];\n            value1 = inputObj1.value;\n            value2 = inputObj2.value;\n        }\n        setStyleAndAttributes(element, { 'data-value1': value1, 'data-value2': value2 });\n    };\n    FilterDialog.prototype.validateTreeNode = function (e) {\n        if (e.node.classList.contains(cls.ICON_DISABLE)) {\n            e.cancel = true;\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Update filter state while Member check/uncheck.\n     * @hidden\n     */\n    FilterDialog.prototype.updateCheckedState = function (fieldCaption) {\n        var filterDialog = this.dialogPopUp.element;\n        setStyleAndAttributes(filterDialog, { 'role': 'menu', 'aria-haspopup': 'true' });\n        var list = [].slice.call(this.memberTreeView.element.querySelectorAll('li'));\n        var fieldName = filterDialog.getAttribute('data-fieldname');\n        var uncheckedNodes = this.getUnCheckedNodes(fieldName);\n        var checkedNodes = this.getCheckedNodes(fieldName);\n        var firstNode = this.allMemberSelect.element.querySelector('li').querySelector('span.' + cls.CHECK_BOX_FRAME_CLASS);\n        if (list.length > 0) {\n            if (checkedNodes > 0) {\n                if (uncheckedNodes > 0) {\n                    removeClass([firstNode], cls.NODE_CHECK_CLASS);\n                    addClass([firstNode], cls.NODE_STOP_CLASS);\n                }\n                else if (uncheckedNodes === 0) {\n                    removeClass([firstNode], cls.NODE_STOP_CLASS);\n                    addClass([firstNode], cls.NODE_CHECK_CLASS);\n                }\n                this.dialogPopUp.buttons[0].buttonModel.disabled = false;\n                filterDialog.querySelector('.' + cls.OK_BUTTON_CLASS).removeAttribute('disabled');\n            }\n            else if (uncheckedNodes > 0 && checkedNodes === 0) {\n                removeClass([firstNode], [cls.NODE_CHECK_CLASS, cls.NODE_STOP_CLASS]);\n                if (this.getCheckedNodes(fieldName) === checkedNodes) {\n                    this.dialogPopUp.buttons[0].buttonModel.disabled = true;\n                    filterDialog.querySelector('.' + cls.OK_BUTTON_CLASS).setAttribute('disabled', 'disabled');\n                }\n            }\n        }\n        else {\n            this.dialogPopUp.buttons[0].buttonModel.disabled = true;\n            filterDialog.querySelector('.' + cls.OK_BUTTON_CLASS).setAttribute('disabled', 'disabled');\n        }\n    };\n    FilterDialog.prototype.getCheckedNodes = function (fieldName) {\n        var engineModule = this.parent.engineModule;\n        var nodeList = [];\n        var checkeNodes = [];\n        if (this.parent.dataType === 'olap' && engineModule &&\n            !engineModule.fieldList[fieldName].isHierarchy) {\n            nodeList = this.memberTreeView.getAllCheckedNodes();\n            return nodeList.length;\n        }\n        else {\n            for (var _i = 0, _a = this.parent.searchTreeItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (item.isSelected) {\n                    checkeNodes.push(item);\n                }\n            }\n            return checkeNodes.length;\n        }\n    };\n    FilterDialog.prototype.getUnCheckedNodes = function (fieldName) {\n        var unCheckeNodes = [];\n        var nodeList = [];\n        var engineModule = this.parent.engineModule;\n        if (this.parent.dataType === 'olap' && engineModule && !engineModule.fieldList[fieldName].isHierarchy) {\n            nodeList = this.memberTreeView.getAllCheckedNodes();\n            return (this.memberTreeView.fields.dataSource.length -\n                nodeList.length);\n        }\n        else {\n            // unCheckeNodes = this.parent.searchTreeItems.filter((item: { [key: string]: object }) => {\n            //     return !item.isSelected;\n            // });\n            for (var _i = 0, _a = this.parent.searchTreeItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (!item.isSelected) {\n                    unCheckeNodes.push(item);\n                }\n            }\n            return unCheckeNodes.length;\n        }\n    };\n    FilterDialog.prototype.isExcelFilter = function (fieldName) {\n        var isFilterField = false;\n        for (var _i = 0, _a = this.parent.dataSourceSettings.filters; _i < _a.length; _i++) {\n            var field = _a[_i];\n            if (field.name === fieldName) {\n                isFilterField = true;\n                break;\n            }\n        }\n        if (!isFilterField && (this.parent.dataSourceSettings.allowLabelFilter || this.parent.dataSourceSettings.allowValueFilter)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    FilterDialog.prototype.getFilterObject = function (fieldName) {\n        var filterObj = this.parent.eventBase.getFilterItemByName(fieldName);\n        if (filterObj && (((['Label', 'Date', 'Number'].indexOf(filterObj.type) >= 0) &&\n            this.parent.dataSourceSettings.allowLabelFilter) ||\n            (filterObj.type === 'Value' && this.parent.dataSourceSettings.allowValueFilter) ||\n            (['Include', 'Exclude'].indexOf(filterObj.type) >= 0))) {\n            return filterObj;\n        }\n        return undefined;\n    };\n    /**\n     * To close filter dialog.\n     * @hidden\n     */\n    FilterDialog.prototype.closeFilterDialog = function () {\n        if (this.allowExcelLikeFilter) {\n            if (this.tabObj && !this.tabObj.isDestroyed) {\n                this.tabObj.destroy();\n            }\n        }\n        if (this.dropMenu && !this.dropMenu.isDestroyed) {\n            this.dropMenu.destroy();\n        }\n        if (document.getElementById(this.parent.parentID + '_LevelDiv-popup')) {\n            remove(document.getElementById(this.parent.parentID + '_LevelDiv-popup'));\n        }\n        this.dialogPopUp.close();\n    };\n    FilterDialog.prototype.removeFilterDialog = function () {\n        if (this.dialogPopUp && !this.dialogPopUp.isDestroyed) {\n            this.dialogPopUp.destroy();\n        }\n        if (document.getElementById(this.parent.parentID + '_EditorTreeView')) {\n            remove(document.getElementById(this.parent.parentID + '_EditorTreeView'));\n        }\n    };\n    return FilterDialog;\n}());\nexport { FilterDialog };\n","import { CommonKeyboardInteraction } from '../actions/keyboard';\nimport { EventBase } from '../actions/event-base';\nimport { NodeStateModified } from '../actions/node-state-modified';\nimport { DataSourceUpdate } from '../actions/dataSource-update';\nimport { ErrorDialog } from '../popups/error-dialog';\nimport { FilterDialog } from '../popups/filter-dialog';\n/**\n * PivotCommon is used to manipulate the relational or Multi-Dimensional public methods by using their dataSource\n * @hidden\n */\n/** @hidden */\nvar PivotCommon = /** @class */ (function () {\n    /**\n     * Constructor for Pivot Common class\n     * @param  {CommonArgs} control?\n     * @hidden\n     */\n    function PivotCommon(control) {\n        /** @hidden */\n        this.currentTreeItems = [];\n        /** @hidden */\n        this.savedTreeFilterPos = {};\n        /** @hidden */\n        this.currentTreeItemsPos = {};\n        /** @hidden */\n        this.searchTreeItems = [];\n        /** @hidden */\n        this.isDataOverflow = false;\n        /** @hidden */\n        this.isDateField = false;\n        this.element = control.element;\n        this.moduleName = control.moduleName;\n        this.dataSourceSettings = control.dataSourceSettings;\n        this.engineModule = control.pivotEngine;\n        this.enableRtl = control.enableRtl;\n        this.isAdaptive = control.isAdaptive;\n        this.renderMode = control.renderMode;\n        this.parentID = control.id;\n        this.localeObj = control.localeObj;\n        this.dataType = control.dataType;\n        this.nodeStateModified = new NodeStateModified(this);\n        this.dataSourceUpdate = new DataSourceUpdate(this);\n        this.eventBase = new EventBase(this);\n        this.filterDialog = new FilterDialog(this);\n        this.errorDialog = new ErrorDialog(this);\n        this.keyboardModule = new CommonKeyboardInteraction(this);\n        return this;\n    }\n    /**\n     * To destroy the groupingbar\n     * @return {void}\n     * @hidden\n     */\n    PivotCommon.prototype.destroy = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n    };\n    return PivotCommon;\n}());\nexport { PivotCommon };\n","import { createElement, isNullOrUndefined, addClass, removeClass, closest } from '@syncfusion/ej2-base';\nimport { EventHandler, setStyleAttribute, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Button, CheckBox } from '@syncfusion/ej2-buttons';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport * as events from '../../common/base/constant';\n/**\n * Module to render Pivot Field List Dialog\n */\n/** @hidden */\nvar DialogRenderer = /** @class */ (function () {\n    /** Constructor for render module */\n    function DialogRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Initialize the field list layout rendering\n     * @returns void\n     * @private\n     */\n    DialogRenderer.prototype.render = function () {\n        var fieldListWrappper = createElement('div', {\n            id: this.parent.element.id + '_Wrapper',\n            className: cls.WRAPPER_CLASS + ' ' + (this.parent.dataType === 'olap' ? cls.OLAP_WRAPPER_CLASS : ''),\n            styles: 'width:' + this.parent.element.style.width\n        });\n        if (this.parent.isAdaptive) {\n            addClass([fieldListWrappper], cls.DEVICE);\n        }\n        else {\n            removeClass([fieldListWrappper], cls.DEVICE);\n        }\n        if (this.parent.enableRtl) {\n            addClass([fieldListWrappper], cls.RTL);\n        }\n        else {\n            removeClass([fieldListWrappper], cls.RTL);\n        }\n        if (this.parent.cssClass) {\n            addClass([fieldListWrappper], this.parent.cssClass);\n        }\n        this.parentElement = createElement('div', { className: cls.CONTAINER_CLASS });\n        this.parent.element.appendChild(fieldListWrappper);\n        if (this.parent.isAdaptive) {\n            fieldListWrappper.removeAttribute('style');\n            this.parentElement = createElement('div', { className: cls.ADAPTIVE_CONTAINER_CLASS });\n            this.renderAdaptiveLayout(fieldListWrappper);\n        }\n        if (this.parent.renderMode === 'Popup') {\n            this.renderFieldListDialog(fieldListWrappper);\n            this.unWireDialogEvent(this.parent.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS));\n            this.wireDialogEvent(this.parent.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS));\n        }\n        else {\n            this.renderStaticLayout(fieldListWrappper);\n        }\n    };\n    DialogRenderer.prototype.renderStaticLayout = function (fieldListWrappper) {\n        if (!this.parent.isAdaptive) {\n            var layoutHeader = createElement('div', {\n                className: cls.FIELD_LIST_TITLE_CLASS\n            });\n            var headerContent = createElement('div', {\n                className: cls.FIELD_LIST_TITLE_CONTENT_CLASS,\n                innerHTML: this.parent.localeObj.getConstant('staticFieldList')\n            });\n            layoutHeader.appendChild(headerContent);\n            layoutHeader.appendChild(this.createCalculatedButton());\n            addClass([fieldListWrappper], cls.STATIC_FIELD_LIST_CLASS);\n            fieldListWrappper.appendChild(layoutHeader);\n            fieldListWrappper.appendChild(this.parentElement);\n            addClass([fieldListWrappper], cls.STATIC_FIELD_LIST_CLASS);\n            if (this.parent.allowDeferLayoutUpdate) {\n                fieldListWrappper.appendChild(this.createDeferUpdateButtons());\n                this.renderDeferUpdateButtons();\n            }\n        }\n    };\n    DialogRenderer.prototype.renderDeferUpdateButtons = function () {\n        if (this.parent.allowDeferLayoutUpdate) {\n            this.deferUpdateCheckBox = new CheckBox({\n                label: this.parent.localeObj.getConstant('deferLayoutUpdate'),\n                checked: true,\n                enableRtl: this.parent.enableRtl,\n                change: this.onCheckChange.bind(this)\n            });\n            this.deferUpdateCheckBox.isStringTemplate = true;\n            this.deferUpdateCheckBox.appendTo('#' + this.parent.element.id + 'DeferUpdateCheckBox');\n            this.deferUpdateApplyButton = new Button({\n                cssClass: cls.DEFER_APPLY_BUTTON + ' ' + cls.DEFER_UPDATE_BUTTON + (this.parent.renderMode === 'Popup' ?\n                    (' ' + cls.BUTTON_FLAT_CLASS) : ''),\n                content: this.parent.localeObj.getConstant('apply'),\n                enableRtl: this.parent.enableRtl,\n                isPrimary: true\n            });\n            this.deferUpdateApplyButton.isStringTemplate = true;\n            this.deferUpdateApplyButton.appendTo('#' + this.parent.element.id + '_DeferUpdateButton1');\n            this.deferUpdateApplyButton.element.onclick = this.parent.renderMode === 'Fixed' ? this.applyButtonClick.bind(this) :\n                this.onDeferUpdateClick.bind(this);\n        }\n        this.deferUpdateCancelButton = new Button({\n            cssClass: cls.DEFER_CANCEL_BUTTON + ' ' + cls.CANCEL_BUTTON_CLASS + (this.parent.renderMode === 'Popup' ?\n                (' ' + cls.BUTTON_FLAT_CLASS) : ''),\n            content: this.parent.allowDeferLayoutUpdate ? this.parent.localeObj.getConstant('cancel') :\n                this.parent.localeObj.getConstant('close'),\n            enableRtl: this.parent.enableRtl, isPrimary: !this.parent.allowDeferLayoutUpdate\n        });\n        this.deferUpdateCancelButton.isStringTemplate = true;\n        this.deferUpdateCancelButton.appendTo('#' + this.parent.element.id + '_DeferUpdateButton2');\n        this.deferUpdateCancelButton.element.onclick = this.parent.renderMode === 'Fixed' ? this.cancelButtonClick.bind(this) :\n            this.onCloseFieldList.bind(this);\n    };\n    DialogRenderer.prototype.createDeferUpdateButtons = function () {\n        var layoutFooter = createElement('div', {\n            className: cls.LAYOUT_FOOTER\n        });\n        if (this.parent.allowDeferLayoutUpdate) {\n            var checkBoxLayout = createElement('div', {\n                className: cls.CHECKBOX_LAYOUT\n            });\n            var deferUpdateCheckBox = createElement('input', {\n                id: this.parent.element.id + 'DeferUpdateCheckBox'\n            });\n            checkBoxLayout.appendChild(deferUpdateCheckBox);\n            layoutFooter.appendChild(checkBoxLayout);\n        }\n        var buttonLayout = createElement('div', {\n            className: cls.BUTTON_LAYOUT\n        });\n        if (this.parent.allowDeferLayoutUpdate) {\n            var deferUpdateButton1 = createElement('button', {\n                id: this.parent.element.id + '_DeferUpdateButton1'\n            });\n            buttonLayout.appendChild(deferUpdateButton1);\n        }\n        var deferUpdateButton2 = createElement('button', {\n            id: this.parent.element.id + '_DeferUpdateButton2'\n        });\n        buttonLayout.appendChild(deferUpdateButton2);\n        layoutFooter.appendChild(buttonLayout);\n        return layoutFooter;\n    };\n    DialogRenderer.prototype.onCheckChange = function (args) {\n        if (args.checked) {\n            this.parent.clonedDataSource = extend({}, this.parent.dataSourceSettings, null, true);\n            this.parent.clonedFieldList = extend({}, this.parent.pivotFieldList, null, true);\n        }\n        this.parent.allowDeferLayoutUpdate = !this.parent.allowDeferLayoutUpdate;\n        if (this.parent.renderMode === 'Fixed') {\n            this.deferUpdateApplyButton.setProperties({ disabled: !this.parent.allowDeferLayoutUpdate });\n            this.deferUpdateCancelButton.setProperties({ disabled: !this.parent.allowDeferLayoutUpdate });\n        }\n        else {\n            if (this.parent.allowDeferLayoutUpdate) {\n                this.deferUpdateApplyButton.element.style.display = '';\n                this.deferUpdateCancelButton.setProperties({ content: this.parent.localeObj.getConstant('cancel') });\n                this.deferUpdateCancelButton.isPrimary = false;\n            }\n            else {\n                this.deferUpdateApplyButton.element.style.display = 'none';\n                this.deferUpdateCancelButton.setProperties({ content: this.parent.localeObj.getConstant('close') });\n                this.deferUpdateCancelButton.isPrimary = true;\n            }\n        }\n        this.cancelButtonClick();\n    };\n    DialogRenderer.prototype.applyButtonClick = function () {\n        this.parent.updateDataSource(false);\n        var parent = this.parent;\n        //setTimeout(() => {\n        parent.axisFieldModule.render();\n        parent.clonedDataSource = extend({}, parent.dataSourceSettings, null, true);\n        parent.clonedFieldList = extend({}, parent.pivotFieldList, null, true);\n        //});\n    };\n    DialogRenderer.prototype.cancelButtonClick = function () {\n        /* tslint:disable:align */\n        this.parent.\n            setProperties({\n            dataSourceSettings: this.parent.clonedDataSource.properties\n        }, true);\n        if (this.parent.dataType === 'olap') {\n            this.parent.olapEngineModule.fieldList = extend({}, this.parent.clonedFieldList, null, true);\n            for (var _i = 0, _a = Object.keys(this.parent.clonedFieldList); _i < _a.length; _i++) {\n                var name_1 = _a[_i];\n                var item = this.parent.clonedFieldList[name_1];\n                this.parent.olapEngineModule.updateFieldlistData(item.id, item.isSelected);\n            }\n        }\n        else {\n            this.parent.engineModule.fieldList = extend({}, this.parent.clonedFieldList, null, true);\n        }\n        this.parent.updateDataSource(false, true);\n    };\n    DialogRenderer.prototype.renderFieldListDialog = function (fieldListWrappper) {\n        var toggleFieldList = createElement('div', {\n            className: cls.TOGGLE_FIELD_LIST_CLASS + ' ' + cls.ICON + ' ' + cls.TOGGLE_SELECT_CLASS,\n            attrs: {\n                'tabindex': '0',\n                title: this.parent.localeObj.getConstant('fieldList'),\n                'aria-disabled': 'false',\n                'aria-label': this.parent.localeObj.getConstant('fieldList')\n            }\n        });\n        this.parent.element.appendChild(toggleFieldList);\n        if (this.parent.isAdaptive) {\n            var headerTemplate = '<div class=' + cls.TITLE_MOBILE_HEADER + '><span class=\"' + cls.ICON + ' ' +\n                cls.BACK_ICON + '\"></span><div class=' + cls.TITLE_MOBILE_CONTENT + '>' + this.parent.localeObj.getConstant('fieldList') +\n                '</div></div>';\n            var buttons = [{\n                    click: this.showFieldListDialog.bind(this),\n                    buttonModel: {\n                        cssClass: cls.ADAPTIVE_FIELD_LIST_BUTTON_CLASS + ' ' + cls.BUTTON_SMALL_CLASS + ' ' + cls.BUTTON_ROUND_CLASS,\n                        iconCss: cls.ICON + ' ' + cls.ADD_ICON_CLASS,\n                        isPrimary: true\n                    }\n                }, {\n                    click: this.showCalculatedField.bind(this),\n                    buttonModel: {\n                        cssClass: cls.ADAPTIVE_CALCULATED_FIELD_BUTTON_CLASS +\n                            ' ' + cls.BUTTON_SMALL_CLASS + ' ' + cls.BUTTON_ROUND_CLASS + ' ' + cls.ICON_DISABLE,\n                        iconCss: cls.ICON + ' ' + cls.ADD_ICON_CLASS, enableRtl: this.parent.enableRtl,\n                        isPrimary: true\n                    }\n                }];\n            this.fieldListDialog = new Dialog({\n                animationSettings: { effect: this.parent.enableRtl ? 'SlideRight' : 'SlideLeft' },\n                header: headerTemplate,\n                content: this.parentElement,\n                isModal: true,\n                showCloseIcon: false,\n                visible: false,\n                allowDragging: false,\n                closeOnEscape: false,\n                enableRtl: this.parent.enableRtl,\n                width: '100%',\n                height: '100%',\n                position: { X: 'center', Y: 'center' },\n                buttons: buttons,\n                target: document.body,\n                close: this.removeFieldListIcon.bind(this)\n            });\n            this.fieldListDialog.isStringTemplate = true;\n            this.fieldListDialog.appendTo(fieldListWrappper);\n            // this.fieldListDialog.element.querySelector('.e-dlg-header').innerHTML = headerTemplate;\n            setStyleAttribute(fieldListWrappper.querySelector('#' + fieldListWrappper.id + '_dialog-content'), {\n                'padding': '0'\n            });\n            var footer = fieldListWrappper.querySelector('.' + cls.FOOTER_CONTENT_CLASS);\n            addClass([footer], cls.FIELD_LIST_FOOTER_CLASS);\n            removeClass([footer.querySelector('.' + cls.ADAPTIVE_CALCULATED_FIELD_BUTTON_CLASS)], cls.BUTTON_FLAT_CLASS);\n            removeClass([footer.querySelector('.' + cls.ADAPTIVE_FIELD_LIST_BUTTON_CLASS)], cls.BUTTON_FLAT_CLASS);\n            this.fieldListDialog.element.querySelector('.' + cls.BACK_ICON).onclick =\n                this.parent.allowDeferLayoutUpdate ? this.onDeferUpdateClick.bind(this) : this.onCloseFieldList.bind(this);\n        }\n        else {\n            var template = this.createDeferUpdateButtons().outerHTML;\n            var headerTemplate = '<div class=' + cls.TITLE_HEADER_CLASS + '><div class=' +\n                cls.TITLE_CONTENT_CLASS + '>' + this.parent.localeObj.getConstant('fieldList') + '</div></div>';\n            this.fieldListDialog = new Dialog({\n                animationSettings: { effect: 'Zoom' },\n                header: headerTemplate,\n                content: this.parentElement,\n                isModal: false,\n                showCloseIcon: false,\n                visible: false,\n                allowDragging: true,\n                enableRtl: this.parent.enableRtl,\n                width: this.parent.element.style.width,\n                position: { X: 'center', Y: this.parent.element.offsetTop },\n                footerTemplate: template,\n                closeOnEscape: true,\n                target: !isNullOrUndefined(this.parent.target) ? ((typeof this.parent.target) === 'string') ?\n                    document.querySelector(this.parent.target) : this.parent.target : document.body,\n                close: this.removeFieldListIcon.bind(this)\n            });\n            this.fieldListDialog.isStringTemplate = true;\n            this.fieldListDialog.appendTo(fieldListWrappper);\n            // this.fieldListDialog.element.querySelector('.e-dlg-header').innerHTML = headerTemplate;\n            // this.fieldListDialog.element.querySelector('.e-footer-content').innerHTML = template;\n            this.renderDeferUpdateButtons();\n            setStyleAttribute(fieldListWrappper.querySelector('#' + fieldListWrappper.id + '_title'), { 'width': '100%' });\n            fieldListWrappper.querySelector('.' + cls.TITLE_HEADER_CLASS).appendChild(this.createCalculatedButton());\n        }\n    };\n    /**\n     * Called internally if any of the field added to axis.\n     * @hidden\n     */\n    DialogRenderer.prototype.updateDataSource = function (selectedNodes) {\n        var axis = ['filters', 'columns', 'rows', 'values'];\n        for (var _i = 0, selectedNodes_1 = selectedNodes; _i < selectedNodes_1.length; _i++) {\n            var field = selectedNodes_1[_i];\n            var fieldName = field;\n            var droppedClass = axis[this.adaptiveElement.selectedItem];\n            this.parent.pivotCommon.dataSourceUpdate.control = this.parent.getModuleName() === 'pivotview' ?\n                this.parent : (this.parent.pivotGridModule ?\n                this.parent.pivotGridModule : this.parent);\n            this.parent.pivotCommon.dataSourceUpdate.updateDataSource(fieldName, droppedClass, -1);\n        }\n        this.parent.axisFieldModule.render();\n        if (!this.parent.allowDeferLayoutUpdate) {\n            this.parent.updateDataSource(true);\n        }\n        else {\n            this.parent.triggerPopulateEvent();\n        }\n    };\n    DialogRenderer.prototype.onDeferUpdateClick = function () {\n        this.parent.updateDataSource();\n        this.parent.dialogRenderer.fieldListDialog.hide();\n    };\n    DialogRenderer.prototype.renderAdaptiveLayout = function (fieldListWrappper) {\n        var layoutFooter = createElement('div', {\n            className: cls.FIELD_LIST_FOOTER_CLASS\n        });\n        fieldListWrappper.appendChild(this.parentElement);\n        var items = [\n            {\n                header: { 'text': this.parent.localeObj.getConstant('filters') },\n                content: this.createAxisTable('filters')\n            },\n            {\n                header: { 'text': this.parent.localeObj.getConstant('columns') },\n                content: this.createAxisTable('columns')\n            },\n            {\n                header: { 'text': this.parent.localeObj.getConstant('rows') },\n                content: this.createAxisTable('rows')\n            },\n            {\n                header: { 'text': this.parent.localeObj.getConstant('values') },\n                content: this.createAxisTable('values')\n            },\n            {\n                header: { 'text': this.parent.localeObj.getConstant('createCalculatedField') },\n                content: 'Calculated Field Related UI'\n            }\n        ];\n        if (!this.parent.allowCalculatedField) {\n            items.pop();\n        }\n        this.adaptiveElement = new Tab({\n            heightAdjustMode: 'Auto',\n            items: items,\n            height: '100%',\n            enableRtl: this.parent.enableRtl,\n            selected: this.tabSelect.bind(this)\n        });\n        if (this.parent.renderMode === 'Fixed') {\n            layoutFooter.appendChild(this.createAddButton());\n            addClass([fieldListWrappper], cls.STATIC_FIELD_LIST_CLASS);\n            this.adaptiveElement.isStringTemplate = true;\n            this.adaptiveElement.appendTo(this.parentElement);\n            this.parentElement.appendChild(layoutFooter);\n        }\n        else {\n            this.adaptiveElement.isStringTemplate = true;\n            this.adaptiveElement.appendTo(this.parentElement);\n        }\n    };\n    DialogRenderer.prototype.tabSelect = function (e) {\n        var fieldWrapper = closest(this.parentElement, '.' + cls.WRAPPER_CLASS);\n        if (fieldWrapper && fieldWrapper.querySelector('.' + cls.ADAPTIVE_FIELD_LIST_BUTTON_CLASS)) {\n            if (e.selectedIndex !== 4) {\n                addClass([fieldWrapper.querySelector('.' + cls.ADAPTIVE_CALCULATED_FIELD_BUTTON_CLASS)], cls.ICON_DISABLE);\n                removeClass([fieldWrapper.querySelector('.' + cls.ADAPTIVE_FIELD_LIST_BUTTON_CLASS)], cls.ICON_DISABLE);\n            }\n            else {\n                removeClass([fieldWrapper.querySelector('.' + cls.ADAPTIVE_CALCULATED_FIELD_BUTTON_CLASS)], cls.ICON_DISABLE);\n                addClass([fieldWrapper.querySelector('.' + cls.ADAPTIVE_FIELD_LIST_BUTTON_CLASS)], cls.ICON_DISABLE);\n            }\n        }\n        if (e.selectedIndex === 4) {\n            this.adaptiveElement.items[4].content = '';\n            this.adaptiveElement.dataBind();\n            this.parent.notify(events.initCalculatedField, {});\n        }\n        else {\n            this.parent.axisFieldModule.render();\n        }\n    };\n    DialogRenderer.prototype.createCalculatedButton = function () {\n        var calculatedButton = createElement('div', {\n            id: this.parent.element.id + '_CalculatedField',\n            attrs: {\n                'tabindex': '0',\n                'aria-disabled': 'false',\n                'aria-label': this.parent.localeObj.getConstant('CalculatedField')\n            }\n        });\n        var calculateField = new Button({\n            cssClass: cls.CALCULATED_FIELD_CLASS + ' ' + cls.ICON_DISABLE,\n            content: this.parent.localeObj.getConstant('CalculatedField'),\n            enableRtl: this.parent.enableRtl\n        });\n        calculateField.isStringTemplate = true;\n        calculateField.appendTo(calculatedButton);\n        if (this.parent.calculatedFieldModule) {\n            removeClass([calculatedButton], cls.ICON_DISABLE);\n        }\n        calculateField.element.onclick = this.showCalculatedField.bind(this);\n        return calculatedButton;\n    };\n    DialogRenderer.prototype.createAddButton = function () {\n        var footerContainer = createElement('div', {\n            className: cls.FIELD_LIST_FOOTER_CLASS + '-content'\n        });\n        var fieldListButton = createElement('div', {});\n        var calculatedButton = createElement('div', {});\n        var calculateField = new Button({\n            cssClass: cls.ADAPTIVE_CALCULATED_FIELD_BUTTON_CLASS +\n                ' ' + cls.BUTTON_SMALL_CLASS + ' ' + cls.BUTTON_ROUND_CLASS + ' ' + cls.ICON_DISABLE,\n            iconCss: cls.ICON + ' ' + cls.ADD_ICON_CLASS,\n            enableRtl: this.parent.enableRtl\n        });\n        var fieldList = new Button({\n            cssClass: cls.ADAPTIVE_FIELD_LIST_BUTTON_CLASS + ' ' + cls.BUTTON_SMALL_CLASS + ' ' + cls.BUTTON_ROUND_CLASS,\n            iconCss: cls.ICON + ' ' + cls.ADD_ICON_CLASS,\n            enableRtl: this.parent.enableRtl\n        });\n        fieldList.isStringTemplate = true;\n        fieldList.appendTo(fieldListButton);\n        calculateField.isStringTemplate = true;\n        calculateField.appendTo(calculatedButton);\n        footerContainer.appendChild(fieldListButton);\n        footerContainer.appendChild(calculatedButton);\n        calculateField.element.onclick = this.showCalculatedField.bind(this);\n        fieldList.element.onclick = this.showFieldListDialog.bind(this);\n        return footerContainer;\n    };\n    DialogRenderer.prototype.createAxisTable = function (axis) {\n        var axisWrapper = createElement('div', {\n            className: cls.FIELD_LIST_CLASS + '-' + axis\n        });\n        var axisContent = createElement('div', { className: cls.AXIS_CONTENT_CLASS + ' ' + 'e-' + axis });\n        var axisPrompt = createElement('span', {\n            className: cls.AXIS_PROMPT_CLASS,\n            innerHTML: this.parent.localeObj.getConstant('addPrompt')\n        });\n        axisWrapper.appendChild(axisContent);\n        axisWrapper.appendChild(axisPrompt);\n        return axisWrapper;\n    };\n    DialogRenderer.prototype.showCalculatedField = function (event) {\n        if (!this.parent.isAdaptive) {\n            if (this.parent.dialogRenderer.fieldListDialog) {\n                this.parent.dialogRenderer.fieldListDialog.hide();\n                addClass([this.parent.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], cls.ICON_HIDDEN);\n            }\n        }\n        this.parent.notify(events.initCalculatedField, {});\n    };\n    DialogRenderer.prototype.showFieldListDialog = function (event) {\n        var activeindex = this.adaptiveElement.selectedItem;\n        this.parent.treeViewModule.render(activeindex);\n    };\n    DialogRenderer.prototype.onShowFieldList = function () {\n        if (this.parent.allowDeferLayoutUpdate) {\n            if (this.parent.isAdaptive) {\n                this.parent.axisFieldModule.render();\n            }\n            this.parent.clonedDataSource = extend({}, this.parent.dataSourceSettings, null, true);\n            this.parent.clonedFieldList = extend({}, this.parent.pivotFieldList, null, true);\n        }\n        addClass([this.parent.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], cls.ICON_HIDDEN);\n        this.parent.dialogRenderer.fieldListDialog.show();\n        this.parent.dialogRenderer.fieldListDialog.element.style.top =\n            parseInt(this.parent.dialogRenderer.fieldListDialog.element.style.top, 10) < 0 ?\n                '0px' : this.parent.dialogRenderer.fieldListDialog.element.style.top;\n    };\n    DialogRenderer.prototype.onCloseFieldList = function () {\n        if (this.parent.allowDeferLayoutUpdate) {\n            this.parent.dataSourceSettings =\n                extend({}, this.parent.clonedDataSource.properties, null, true);\n            this.parent.pivotGridModule.engineModule = this.parent.engineModule;\n            this.parent.pivotGridModule.olapEngineModule = this.parent.olapEngineModule;\n            this.parent.pivotGridModule.\n                setProperties({\n                dataSourceSettings: this.parent.clonedDataSource.properties\n            }, true);\n            if (Object.keys(this.parent.clonedFieldList).length > 0) {\n                this.parent.dataType === 'olap' ? this.parent.olapEngineModule.fieldList =\n                    extend({}, this.parent.clonedFieldList, null, true) :\n                    this.parent.engineModule.fieldList = extend({}, this.parent.clonedFieldList, null, true);\n            }\n            this.parent.pivotGridModule.notify(events.uiUpdate, this);\n            this.parent.pivotGridModule.notify(events.contentReady, this);\n        }\n        this.parent.dialogRenderer.fieldListDialog.hide();\n    };\n    DialogRenderer.prototype.removeFieldListIcon = function () {\n        if (!document.getElementById(this.parent.element.id + 'calculateddialog')) {\n            removeClass([this.parent.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], cls.ICON_HIDDEN);\n        }\n    };\n    DialogRenderer.prototype.keyPress = function (e) {\n        var target = e.target;\n        if (e.keyCode === 13 && e.target) {\n            e.target.click();\n            e.preventDefault();\n            return;\n        }\n    };\n    DialogRenderer.prototype.wireDialogEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyPress, this);\n        EventHandler.add(element, 'click', this.onShowFieldList, this);\n    };\n    DialogRenderer.prototype.unWireDialogEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyPress);\n        EventHandler.remove(element, 'click', this.onShowFieldList);\n    };\n    return DialogRenderer;\n}());\nexport { DialogRenderer };\n","import { createElement, addClass, removeClass, remove, EventHandler, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { closest } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MaskedTextBox } from '@syncfusion/ej2-inputs';\nimport { PivotUtil } from '../../base/util';\n/**\n * Module to render Field List\n */\n/** @hidden */\nvar TreeViewRenderer = /** @class */ (function () {\n    /** Constructor for render module */\n    function TreeViewRenderer(parent) {\n        this.selectedNodes = [];\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * Initialize the field list tree rendering\n     * @returns void\n     * @private\n     */\n    TreeViewRenderer.prototype.render = function (axis) {\n        this.parentElement = this.parent.dialogRenderer.parentElement;\n        this.fieldListSort = 'None';\n        if (!this.parent.isAdaptive) {\n            var fieldTable = createElement('div', {\n                className: cls.FIELD_TABLE_CLASS + ' ' + (this.parent.dataType === 'olap' ? cls.OLAP_FIELD_TABLE_CLASS : '')\n            });\n            var treeHeader = createElement('div', {\n                className: cls.FIELD_HEADER_CLASS,\n                innerHTML: this.parent.localeObj.getConstant('allFields')\n            });\n            var treeOuterDiv = createElement('div', { className: cls.FIELD_LIST_TREE_CLASS + '-outer-div' });\n            this.treeViewElement = createElement('div', {\n                id: this.parent.element.id + '_TreeView',\n                className: cls.FIELD_LIST_CLASS + ' ' + (this.parent.dataType === 'olap' ? cls.OLAP_FIELD_LIST_CLASS : '')\n            });\n            var fieldHeaderWrappper = createElement('div', { className: 'e-field-header-wrapper' });\n            fieldHeaderWrappper.appendChild(treeHeader);\n            fieldTable.appendChild(fieldHeaderWrappper);\n            this.updateSortElements(fieldHeaderWrappper);\n            treeOuterDiv.appendChild(this.treeViewElement);\n            fieldTable.appendChild(treeOuterDiv);\n            this.parentElement.appendChild(fieldTable);\n            if (this.parent.renderMode === 'Fixed') {\n                var centerDiv = createElement('div', { className: cls.STATIC_CENTER_DIV_CLASS });\n                var axisHeader = createElement('div', {\n                    className: cls.STATIC_CENTER_HEADER_CLASS,\n                    innerHTML: this.parent.localeObj.getConstant('centerHeader')\n                });\n                this.parentElement.appendChild(centerDiv);\n                this.parentElement.appendChild(axisHeader);\n            }\n            this.renderTreeView();\n        }\n        else {\n            this.renderTreeDialog(axis);\n        }\n    };\n    TreeViewRenderer.prototype.updateSortElements = function (headerWrapper) {\n        var options = ['None', 'Ascend', 'Descend'];\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var spanElement = createElement('span', {\n                attrs: {\n                    'tabindex': '0',\n                    'aria-disabled': 'false',\n                    'aria-label': 'Sort ' + option,\n                    'data-sort': option\n                },\n                className: cls.ICON + ' ' + 'e-sort-' + option.toLowerCase() + ' ' +\n                    (this.fieldListSort === option ? 'e-selected' : '')\n            });\n            headerWrapper.appendChild(spanElement);\n            this.unWireFieldListEvent(spanElement);\n            this.wireFieldListEvent(spanElement);\n        }\n    };\n    TreeViewRenderer.prototype.renderTreeView = function () {\n        this.fieldTable = new TreeView({\n            /* tslint:disable-next-line:max-line-length */\n            fields: { dataSource: this.getTreeData(), id: 'id', text: 'caption', isChecked: 'isSelected', parentID: 'pid', iconCss: 'spriteCssClass' },\n            nodeChecked: this.nodeStateChange.bind(this),\n            cssClass: cls.FIELD_LIST_TREE_CLASS,\n            showCheckBox: true,\n            allowDragAndDrop: true,\n            sortOrder: 'None',\n            autoCheck: false,\n            loadOnDemand: false,\n            enableRtl: this.parent.enableRtl,\n            nodeDragStart: this.dragStart.bind(this),\n            nodeDragStop: this.dragStop.bind(this),\n            drawNode: this.updateTreeNode.bind(this),\n            nodeExpanding: this.updateNodeIcon.bind(this),\n            nodeCollapsed: this.updateNodeIcon.bind(this),\n        });\n        this.treeViewElement.innerHTML = '';\n        this.fieldTable.isStringTemplate = true;\n        this.fieldTable.appendTo(this.treeViewElement);\n    };\n    TreeViewRenderer.prototype.updateNodeIcon = function (args) {\n        if (this.parent.dataType === 'olap') {\n            if (args.node && args.node.querySelector('.e-list-icon') &&\n                (args.node.querySelector('.e-list-icon').className.indexOf('e-folderCDB-icon') > -1)) {\n                var node = args.node.querySelector('.e-list-icon');\n                removeClass([node], 'e-folderCDB-icon');\n                addClass([node], 'e-folderCDB-open-icon');\n            }\n            else if (args.node && args.node.querySelector('.e-list-icon') &&\n                (args.node.querySelector('.e-list-icon').className.indexOf('e-folderCDB-open-icon') > -1)) {\n                var node = args.node.querySelector('.e-list-icon');\n                removeClass([node], 'e-folderCDB-open-icon');\n                addClass([node], 'e-folderCDB-icon');\n            }\n        }\n    };\n    TreeViewRenderer.prototype.updateTreeNode = function (args) {\n        var allowDrag = false;\n        var dragVisibility = true;\n        if (this.parent.dataType === 'olap') {\n            allowDrag = this.updateOlapTreeNode(args);\n        }\n        else {\n            allowDrag = true;\n        }\n        var liTextElement = args.node.querySelector('.' + cls.TEXT_CONTENT_CLASS);\n        if (args.node.querySelector('.e-list-icon') && liTextElement) {\n            var liIconElement = args.node.querySelector('.e-list-icon');\n            liTextElement.insertBefore(liIconElement, args.node.querySelector('.e-list-text'));\n        }\n        if (allowDrag && !this.parent.isAdaptive) {\n            allowDrag = false;\n            var dragElement = createElement('span', {\n                attrs: {\n                    'tabindex': '-1',\n                    title: this.parent.localeObj.getConstant('drag'),\n                    'aria-disabled': 'false'\n                },\n                styles: 'visibility:' + (dragVisibility ? 'visible;' : 'hidden;'),\n                className: cls.ICON + ' ' + cls.DRAG_CLASS\n            });\n            if (args.node.querySelector('.e-checkbox-wrapper') &&\n                !args.node.querySelector('.cls.DRAG_CLASS') && liTextElement) {\n                liTextElement.insertBefore(dragElement, args.node.querySelector('.e-checkbox-wrapper'));\n            }\n        }\n        if (args.node.querySelector('.' + cls.NODE_CHECK_CLASS)) {\n            addClass([args.node.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.LIST_SELECT_CLASS);\n        }\n    };\n    TreeViewRenderer.prototype.updateOlapTreeNode = function (args) {\n        var allowDrag = false;\n        if (this.parent.dataType === 'olap') {\n            /* tslint:disable-next-line:max-line-length */\n            if (args.node && args.node.querySelector('.e-calcMemberGroupCDB,.e-measureGroupCDB-icon,.e-folderCDB-icon,.e-folderCDB-open-icon,.e-dimensionCDB-icon,.e-kpiCDB-icon')) {\n                args.node.querySelector('.e-checkbox-wrapper').style.display = 'none';\n            }\n            if (args.node && args.node.querySelector('.e-list-icon') &&\n                (args.node.querySelector('.e-list-icon').className.indexOf('e-level-members') > -1)) {\n                if (this.parent.isAdaptive) {\n                    args.node.querySelector('.e-checkbox-wrapper').style.display = 'none';\n                }\n                else {\n                    args.node.querySelector('.e-checkbox-wrapper').style.visibility = 'hidden';\n                }\n            }\n            if (args.node && (args.node.querySelector('.e-hierarchyCDB-icon,.e-attributeCDB-icon,.e-namedSetCDB-icon') ||\n                args.node.querySelector('.e-measure-icon,.e-kpiGoal-icon,.e-kpiStatus-icon,.e-kpiTrend-icon,.e-kpiValue-icon') ||\n                args.node.querySelector('.e-calc-measure-icon,.e-calc-dimension-icon'))) {\n                if (args.node.querySelector('.e-measure-icon')) {\n                    args.node.querySelector('.e-list-icon').style.display = 'none';\n                    allowDrag = true;\n                }\n                else {\n                    allowDrag = true;\n                }\n            }\n        }\n        else {\n            allowDrag = true;\n        }\n        return allowDrag;\n    };\n    TreeViewRenderer.prototype.renderTreeDialog = function (axis) {\n        var fieldListDialog = createElement('div', {\n            id: this.parent.element.id + '_FieldListTreeView',\n            className: cls.ADAPTIVE_FIELD_LIST_DIALOG_CLASS + ' ' + (this.parent.dataType === 'olap' ? 'e-olap-editor-dialog' : ''),\n        });\n        this.parentElement.appendChild(fieldListDialog);\n        this.fieldDialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: false,\n            header: this.parent.localeObj.getConstant('adaptiveFieldHeader'),\n            content: this.createTreeView(this.getTreeData(axis)),\n            isModal: true,\n            visible: true,\n            showCloseIcon: false,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: '350px',\n            position: { X: 'center', Y: 'center' },\n            buttons: [{\n                    click: this.closeTreeDialog.bind(this),\n                    buttonModel: {\n                        cssClass: cls.CANCEL_BUTTON_CLASS, content: this.parent.localeObj.getConstant('cancel')\n                    }\n                }, {\n                    click: this.onFieldAdd.bind(this),\n                    buttonModel: {\n                        cssClass: cls.OK_BUTTON_CLASS, content: this.parent.localeObj.getConstant('add'),\n                        isPrimary: true\n                    }\n                }],\n            closeOnEscape: true,\n            target: this.parentElement.parentElement,\n            close: this.dialogClose.bind(this)\n        });\n        this.fieldDialog.isStringTemplate = true;\n        this.fieldDialog.appendTo(fieldListDialog);\n        // this.fieldDialog.element.querySelector('.e-dlg-header').innerHTML = this.parent.localeObj.getConstant('adaptiveFieldHeader');\n    };\n    TreeViewRenderer.prototype.dialogClose = function () {\n        if (document.getElementById(this.parent.element.id + '_FieldListTreeView')) {\n            remove(document.getElementById(this.parent.element.id + '_FieldListTreeView'));\n        }\n    };\n    TreeViewRenderer.prototype.createTreeView = function (treeData) {\n        var editorTreeWrapper = createElement('div', {\n            id: this.parent.element.id + 'EditorDiv',\n            className: cls.EDITOR_TREE_WRAPPER_CLASS\n        });\n        var searchWrapper = createElement('div', {\n            id: this.parent.element.id + '_SearchDiv', attrs: { 'tabindex': '-1' },\n            className: cls.EDITOR_SEARCH_WRAPPER_CLASS\n        });\n        var editorSearch = createElement('input', { attrs: { 'type': 'text' } });\n        searchWrapper.appendChild(editorSearch);\n        var treeViewContainer = createElement('div', {\n            className: cls.EDITOR_TREE_CONTAINER_CLASS + ' ' + (this.parent.dataType === 'olap' ? 'e-olap-field-list-tree' : '')\n        });\n        editorTreeWrapper.appendChild(searchWrapper);\n        this.editorSearch = new MaskedTextBox({\n            showClearButton: true,\n            placeholder: this.parent.localeObj.getConstant('search'),\n            enableRtl: this.parent.enableRtl,\n            cssClass: cls.EDITOR_SEARCH_CLASS,\n            change: this.textChange.bind(this)\n        });\n        this.editorSearch.isStringTemplate = true;\n        this.editorSearch.appendTo(editorSearch);\n        var promptDiv = createElement('div', {\n            className: cls.EMPTY_MEMBER_CLASS + ' ' + cls.ICON_DISABLE,\n            innerHTML: this.parent.localeObj.getConstant('noMatches')\n        });\n        editorTreeWrapper.appendChild(promptDiv);\n        editorTreeWrapper.appendChild(treeViewContainer);\n        this.fieldTable = new TreeView({\n            /* tslint:disable-next-line:max-line-length */\n            fields: { dataSource: treeData, id: 'id', text: 'caption', isChecked: 'isSelected', parentID: 'pid', iconCss: 'spriteCssClass' },\n            showCheckBox: true,\n            autoCheck: false,\n            loadOnDemand: false,\n            sortOrder: this.parent.dataType === 'olap' ? 'None' : 'Ascending',\n            enableRtl: this.parent.enableRtl,\n            nodeChecked: this.addNode.bind(this),\n            drawNode: this.updateTreeNode.bind(this),\n            nodeExpanding: this.updateNodeIcon.bind(this),\n            nodeCollapsed: this.updateNodeIcon.bind(this),\n        });\n        this.fieldTable.isStringTemplate = true;\n        this.fieldTable.appendTo(treeViewContainer);\n        return editorTreeWrapper;\n    };\n    TreeViewRenderer.prototype.textChange = function (e) {\n        this.parent.pivotCommon.eventBase.searchTreeNodes(e, this.fieldTable, true);\n        var promptDiv = this.fieldDialog.element.querySelector('.' + cls.EMPTY_MEMBER_CLASS);\n        var liList = [].slice.call(this.fieldTable.element.querySelectorAll('li'));\n        /* tslint:disable-next-line:max-line-length */\n        var disabledList = [].slice.call(this.fieldTable.element.querySelectorAll('li.' + cls.ICON_DISABLE));\n        if (liList.length === disabledList.length) {\n            removeClass([promptDiv], cls.ICON_DISABLE);\n        }\n        else {\n            addClass([promptDiv], cls.ICON_DISABLE);\n        }\n    };\n    TreeViewRenderer.prototype.dragStart = function (args) {\n        if (args.event.target.classList.contains(cls.DRAG_CLASS)) {\n            this.parent.isDragging = true;\n            addClass([args.draggedNode.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.SELECTED_NODE_CLASS);\n            var data = void 0;\n            if (this.parent.dataType === 'olap') {\n                data = this.parent.olapEngineModule.fieldList[args.draggedNode.getAttribute('data-uid')];\n            }\n            else {\n                data = this.parent.engineModule.fieldList[args.draggedNode.getAttribute('data-uid')];\n            }\n            var axis = [cls.ROW_AXIS_CLASS, cls.COLUMN_AXIS_CLASS, cls.FILTER_AXIS_CLASS];\n            if (data && data.aggregateType === 'CalculatedField') {\n                for (var _i = 0, axis_1 = axis; _i < axis_1.length; _i++) {\n                    var axisContent = axis_1[_i];\n                    addClass([this.parentElement.querySelector('.' + axisContent)], cls.NO_DRAG_CLASS);\n                }\n            }\n            var dragItem = args.clonedNode;\n            if (dragItem && (this.parent.getModuleName() === 'pivotfieldlist' &&\n                this.parent.renderMode) === 'Popup') {\n                dragItem.style.zIndex = (this.parent.dialogRenderer.fieldListDialog.zIndex + 1).toString();\n            }\n        }\n        else {\n            args.cancel = true;\n        }\n    };\n    TreeViewRenderer.prototype.dragStop = function (args) {\n        args.cancel = true;\n        this.parent.isDragging = false;\n        var axis = [cls.ROW_AXIS_CLASS, cls.COLUMN_AXIS_CLASS, cls.FILTER_AXIS_CLASS];\n        for (var _i = 0, axis_2 = axis; _i < axis_2.length; _i++) {\n            var axisElement = axis_2[_i];\n            removeClass([this.parentElement.querySelector('.' + axisElement)], cls.NO_DRAG_CLASS);\n        }\n        removeClass([args.draggedNode.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.SELECTED_NODE_CLASS);\n        if (this.parent.pivotCommon.filterDialog.dialogPopUp) {\n            this.parent.pivotCommon.filterDialog.dialogPopUp.close();\n        }\n        var fieldName = args.draggedNodeData.id.toString();\n        if (!this.isNodeDropped(args, fieldName)) {\n            return;\n        }\n        var list = this.parent.pivotFieldList;\n        var selectedNode = list[fieldName];\n        this.parent.pivotCommon.dataSourceUpdate.control = this.parent.getModuleName() === 'pivotview' ? this.parent :\n            (this.parent.pivotGridModule ? this.parent.pivotGridModule : this.parent);\n        if (this.parent.pivotCommon.nodeStateModified.onStateModified(args, fieldName)) {\n            if (this.parent.allowDeferLayoutUpdate) {\n                selectedNode.isSelected = true;\n                this.updateDataSource();\n            }\n            else {\n                this.parent.updateDataSource();\n            }\n            var parent_1 = this.parent;\n            //setTimeout(() => {\n            parent_1.axisFieldModule.render();\n            //});\n        }\n    };\n    TreeViewRenderer.prototype.isNodeDropped = function (args, targetID) {\n        var isDropped = true;\n        if (args.draggedNodeData.isChecked === 'true') {\n            var target = this.getButton(targetID);\n            var axisPanel = closest(target, '.' + cls.DROPPABLE_CLASS);\n            var droppableElement = closest(args.target, '.' + cls.DROPPABLE_CLASS);\n            if (target && axisPanel === droppableElement) {\n                var pivotButtons = [].slice.call(axisPanel.querySelectorAll('.' + cls.PIVOT_BUTTON_CLASS));\n                var dropTarget = closest(args.target, '.' + cls.PIVOT_BUTTON_WRAPPER_CLASS);\n                var sourcePosition = void 0;\n                var dropPosition = -1;\n                for (var i = 0, n = pivotButtons.length; i < n; i++) {\n                    if (pivotButtons[i].id === target.id) {\n                        sourcePosition = i;\n                    }\n                    if (dropTarget) {\n                        var droppableButton = dropTarget.querySelector('.' + cls.PIVOT_BUTTON_CLASS);\n                        if (pivotButtons[i].id === droppableButton.id) {\n                            dropPosition = i;\n                        }\n                    }\n                }\n                if (sourcePosition === dropPosition || (sourcePosition === (pivotButtons.length - 1) && dropPosition === -1)) {\n                    var parentElement = document.getElementById(this.parent.element.id + '_Wrapper');\n                    removeClass([].slice.call(parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS)), cls.INDICATOR_HOVER_CLASS);\n                    isDropped = false;\n                }\n            }\n        }\n        return isDropped;\n    };\n    TreeViewRenderer.prototype.getButton = function (fieldName) {\n        var wrapperElement = document.getElementById(this.parent.element.id + '_Wrapper');\n        var pivotButtons = [].slice.call(wrapperElement.querySelectorAll('.' + cls.PIVOT_BUTTON_CLASS));\n        var buttonElement;\n        for (var i = 0, n = pivotButtons.length; i < n; i++) {\n            if (pivotButtons[i].id === fieldName) {\n                buttonElement = pivotButtons[i];\n                break;\n            }\n        }\n        return buttonElement;\n    };\n    TreeViewRenderer.prototype.nodeStateChange = function (args) {\n        var node = closest(args.node, '.' + cls.TEXT_CONTENT_CLASS);\n        if (!isNullOrUndefined(node)) {\n            var li = closest(node, 'li');\n            var id = li.getAttribute('data-uid');\n            if (this.parent.pivotCommon.filterDialog.dialogPopUp) {\n                this.parent.pivotCommon.filterDialog.dialogPopUp.close();\n            }\n            var list = this.parent.pivotFieldList;\n            var selectedNode = list[id];\n            if (args.action === 'check') {\n                addClass([node.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.LIST_SELECT_CLASS);\n                this.updateSelectedNodes(li, args.action);\n                var addNode = this.parent.pivotCommon.dataSourceUpdate.getNewField(id);\n                if (selectedNode.type === 'number' || (selectedNode.type === 'CalculatedField' &&\n                    selectedNode.formula && selectedNode.formula.indexOf('Measure') > -1 &&\n                    this.parent.dataType === 'olap')) {\n                    this.parent.dataSourceSettings.values.push(addNode);\n                    if (this.parent.dataType === 'olap' && this.parent.olapEngineModule && !(this.parent.olapEngineModule).isMeasureAvail) {\n                        var measureField = {\n                            name: '[Measures]', caption: 'Measures', baseField: undefined, baseItem: undefined,\n                        };\n                        var fieldAxis = this.parent.dataSourceSettings.valueAxis === 'row' ?\n                            this.parent.dataSourceSettings.rows : this.parent.dataSourceSettings.columns;\n                        fieldAxis.push(measureField);\n                    }\n                }\n                else {\n                    this.parent.dataSourceSettings.rows.push(addNode);\n                }\n            }\n            else {\n                removeClass([node.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.LIST_SELECT_CLASS);\n                this.updateSelectedNodes(li, args.action);\n                this.parent.pivotCommon.dataSourceUpdate.removeFieldFromReport(id);\n                if (this.parent.dataType === 'olap' && this.parent.dataSourceSettings.values.length === 0) {\n                    this.parent.pivotCommon.dataSourceUpdate.removeFieldFromReport('[Measures]');\n                }\n            }\n            if (!this.parent.allowDeferLayoutUpdate) {\n                this.parent.updateDataSource(true);\n            }\n            else {\n                selectedNode.isSelected = args.action === 'check';\n                if (this.parent.dataType === 'olap') {\n                    this.parent.olapEngineModule.updateFieldlistData(id, args.action === 'check');\n                }\n                this.updateDataSource();\n            }\n            var parent_2 = this.parent;\n            setTimeout(function () {\n                parent_2.axisFieldModule.render();\n            });\n        }\n    };\n    TreeViewRenderer.prototype.updateSelectedNodes = function (li, state) {\n        if (li && li.querySelector('ul')) {\n            for (var _i = 0, _a = [].slice.call(li.querySelectorAll('li')); _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (state === 'check') {\n                    addClass([element.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.LIST_SELECT_CLASS);\n                }\n                else {\n                    removeClass([element.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.LIST_SELECT_CLASS);\n                }\n            }\n        }\n    };\n    TreeViewRenderer.prototype.updateDataSource = function () {\n        if (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.renderMode === 'Popup') {\n            if (this.parent.dataType === 'olap') {\n                this.parent.pivotGridModule.olapEngineModule = this.parent.olapEngineModule;\n            }\n            else {\n                this.parent.pivotGridModule.engineModule = this.parent.engineModule;\n            }\n            /* tslint:disable-next-line:max-line-length */\n            this.parent.pivotGridModule.setProperties({ dataSourceSettings: this.parent.dataSourceSettings.properties }, true);\n            this.parent.pivotGridModule.notify(events.uiUpdate, this);\n        }\n        else {\n            this.parent.triggerPopulateEvent();\n        }\n    };\n    TreeViewRenderer.prototype.addNode = function (args) {\n        var fieldList = this.parent.pivotFieldList;\n        var selectedNode = fieldList[args.data[0].id.toString()];\n        if (args.action === 'check') {\n            this.selectedNodes.push(selectedNode.id.toString());\n        }\n        else {\n            var count = this.selectedNodes.length;\n            while (count--) {\n                if (this.selectedNodes[count] === selectedNode.id.toString()) {\n                    this.selectedNodes.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    TreeViewRenderer.prototype.refreshTreeView = function () {\n        if (this.fieldTable) {\n            var treeData = this.getUpdatedData();\n            this.fieldTable.fields = {\n                dataSource: treeData, id: 'id', text: 'caption', isChecked: 'isSelected', parentID: 'pid', iconCss: 'spriteCssClass'\n            };\n            this.fieldTable.dataBind();\n        }\n    };\n    TreeViewRenderer.prototype.getUpdatedData = function () {\n        var treeData = this.getTreeData();\n        var expandedNodes = this.fieldTable.expandedNodes;\n        this.updateExpandedNodes(treeData, expandedNodes);\n        return this.applySorting(treeData, this.fieldListSort);\n    };\n    TreeViewRenderer.prototype.getTreeData = function (axis) {\n        var data = [];\n        if (this.parent.dataType === 'olap') {\n            data = this.getOlapTreeData(axis);\n        }\n        else {\n            var keys = Object.keys(this.parent.pivotFieldList);\n            var fieldList = {};\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var member = this.parent.pivotFieldList[key];\n                fieldList[key] = { id: member.id, caption: member.caption, isSelected: member.isSelected };\n            }\n            if (this.parent.isAdaptive) {\n                /* tslint:disable-next-line:max-line-length */\n                var fields = [this.parent.dataSourceSettings.filters, this.parent.dataSourceSettings.columns, this.parent.dataSourceSettings.rows,\n                    this.parent.dataSourceSettings.values];\n                var currentFieldSet = fields[axis];\n                var len = keys.length;\n                while (len--) {\n                    fieldList[keys[len]].isSelected = false;\n                }\n                for (var _a = 0, currentFieldSet_1 = currentFieldSet; _a < currentFieldSet_1.length; _a++) {\n                    var item = currentFieldSet_1[_a];\n                    fieldList[item.name].isSelected = true;\n                }\n            }\n            var list = fieldList;\n            for (var _b = 0, keys_2 = keys; _b < keys_2.length; _b++) {\n                var member = keys_2[_b];\n                var obj = list[member];\n                data.push(obj);\n            }\n        }\n        return data;\n    };\n    TreeViewRenderer.prototype.getOlapTreeData = function (axis) {\n        var data = [];\n        var fieldListData = this.parent.olapEngineModule.fieldListData;\n        if (this.parent.isAdaptive) {\n            /* tslint:disable-next-line:max-line-length */\n            var fields = [\n                this.parent.dataSourceSettings.filters, this.parent.dataSourceSettings.columns,\n                this.parent.dataSourceSettings.rows, this.parent.dataSourceSettings.values\n            ];\n            var currentFieldSet = fields[axis];\n            var i = 0;\n            while (i < fieldListData.length) {\n                var item = fieldListData[i];\n                /* tslint:disable */\n                var framedSet = void 0;\n                /* tslint:enable */\n                if (axis === 3) {\n                    if (item.id.toLowerCase() !== '[measures]' &&\n                        (item.id.toLowerCase().indexOf('[measures]') === 0 ||\n                            (item.spriteCssClass && item.spriteCssClass.indexOf('e-measureCDB') !== -1))) {\n                        framedSet = {\n                            id: item.id, caption: item.caption, hasChildren: item.hasChildren,\n                            type: item.type, aggregateType: item.aggregateType,\n                            isSelected: item.isSelected, pid: item.pid, spriteCssClass: item.spriteCssClass\n                        };\n                        framedSet.isSelected = false;\n                        if (framedSet.spriteCssClass && framedSet.spriteCssClass.indexOf('e-measureCDB') !== -1) {\n                            framedSet.spriteCssClass = framedSet.spriteCssClass.replace('e-folderCDB-icon', 'e-measureGroupCDB-icon');\n                            framedSet.pid = undefined;\n                        }\n                        for (var _i = 0, currentFieldSet_2 = currentFieldSet; _i < currentFieldSet_2.length; _i++) {\n                            var field = currentFieldSet_2[_i];\n                            if (framedSet.id === field.name) {\n                                framedSet.isSelected = true;\n                                break;\n                            }\n                        }\n                        data.push(framedSet);\n                    }\n                }\n                else {\n                    if (!(item.id.toLowerCase().indexOf('[measures]') === 0) &&\n                        !(item.spriteCssClass && item.spriteCssClass.indexOf('e-measureCDB') !== -1)) {\n                        framedSet = {\n                            id: item.id, caption: item.caption, hasChildren: item.hasChildren,\n                            type: item.type, aggregateType: item.aggregateType,\n                            isSelected: item.isSelected, pid: item.pid, spriteCssClass: item.spriteCssClass\n                        };\n                        framedSet.isSelected = false;\n                        for (var _a = 0, currentFieldSet_3 = currentFieldSet; _a < currentFieldSet_3.length; _a++) {\n                            var item_1 = currentFieldSet_3[_a];\n                            if (framedSet.id === item_1.name) {\n                                framedSet.isSelected = true;\n                                break;\n                            }\n                        }\n                        data.push(framedSet);\n                    }\n                }\n                i++;\n            }\n        }\n        else {\n            data = PivotUtil.getClonedData(this.parent.olapEngineModule.fieldListData);\n        }\n        return data;\n    };\n    TreeViewRenderer.prototype.updateExpandedNodes = function (data, expandedNodes) {\n        if (expandedNodes.length > 0) {\n            var i = 0;\n            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n                var field = data_1[_i];\n                if (expandedNodes.indexOf(field.id) > -1) {\n                    i++;\n                    field.expanded = true;\n                    field.spriteCssClass = (field.spriteCssClass &&\n                        field.spriteCssClass.toString().indexOf('e-folderCDB-icon') > -1 ?\n                        field.spriteCssClass.toString().replace('e-folderCDB-icon', 'e-folderCDB-open-icon') :\n                        field.spriteCssClass);\n                    if (i === (expandedNodes.length)) {\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    TreeViewRenderer.prototype.updateSorting = function (args) {\n        var target = args.target;\n        var option = target.getAttribute('data-sort');\n        if (target.className.indexOf('e-selected') === -1) {\n            switch (option) {\n                case 'None':\n                    this.fieldListSort = 'None';\n                    addClass([target], 'e-selected');\n                    removeClass([this.parentElement.querySelector('.e-sort-ascend')], 'e-selected');\n                    removeClass([this.parentElement.querySelector('.e-sort-descend')], 'e-selected');\n                    break;\n                case 'Ascend':\n                    this.fieldListSort = 'Ascend';\n                    addClass([target], 'e-selected');\n                    removeClass([this.parentElement.querySelector('.e-sort-none')], 'e-selected');\n                    removeClass([this.parentElement.querySelector('.e-sort-descend')], 'e-selected');\n                    break;\n                case 'Descend':\n                    this.fieldListSort = 'Descend';\n                    addClass([target], 'e-selected');\n                    removeClass([this.parentElement.querySelector('.e-sort-ascend')], 'e-selected');\n                    removeClass([this.parentElement.querySelector('.e-sort-none')], 'e-selected');\n                    break;\n            }\n            this.refreshTreeView();\n        }\n    };\n    TreeViewRenderer.prototype.applySorting = function (treeData, sortOrder) {\n        if (this.parent.dataType === 'olap') {\n            var measure = void 0;\n            var calcMember = void 0;\n            if (this.parent.dataSourceSettings.calculatedFieldSettings.length > 0 &&\n                treeData[0].id.toLowerCase() === '[calculated members].[_0]') {\n                calcMember = treeData[0];\n                measure = treeData[1];\n                treeData.splice(0, 2);\n            }\n            else {\n                measure = treeData[0];\n                treeData.splice(0, 1);\n            }\n            /* tslint:disable:typedef */\n            treeData = sortOrder === 'Ascend' ?\n                (treeData.sort(function (a, b) { return (a.caption > b.caption) ? 1 : ((b.caption > a.caption) ? -1 : 0); })) :\n                sortOrder === 'Descend' ?\n                    (treeData.sort(function (a, b) { return (a.caption < b.caption) ? 1 : ((b.caption < a.caption) ? -1 : 0); })) :\n                    treeData;\n            /* tslint:enable:typedef */\n            if (calcMember) {\n                treeData.splice(0, 0, calcMember, measure);\n            }\n            else {\n                treeData.splice(0, 0, measure);\n            }\n        }\n        else {\n            this.fieldTable.sortOrder = ((sortOrder === 'Ascend' ? 'Ascending' : (sortOrder === 'Descend' ? 'Descending' : 'None')));\n        }\n        return treeData;\n    };\n    TreeViewRenderer.prototype.onFieldAdd = function (e) {\n        this.parent.dialogRenderer.updateDataSource(this.selectedNodes);\n        this.closeTreeDialog();\n    };\n    TreeViewRenderer.prototype.closeTreeDialog = function () {\n        this.selectedNodes = [];\n        this.fieldDialog.hide();\n    };\n    TreeViewRenderer.prototype.keyPress = function (e) {\n        var target = e.target;\n        if (e.keyCode === 13 && e.target) {\n            e.target.click();\n            e.preventDefault();\n            return;\n        }\n    };\n    TreeViewRenderer.prototype.wireFieldListEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyPress, this);\n        EventHandler.add(element, 'click', this.updateSorting, this);\n    };\n    TreeViewRenderer.prototype.unWireFieldListEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyPress);\n        EventHandler.remove(element, 'click', this.updateSorting);\n    };\n    /**\n     * @hidden\n     */\n    TreeViewRenderer.prototype.addEventListener = function () {\n        this.parent.on(events.treeViewUpdate, this.refreshTreeView, this);\n    };\n    /**\n     * @hidden\n     */\n    TreeViewRenderer.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.treeViewUpdate, this.refreshTreeView);\n    };\n    /**\n     * To destroy the tree view event listener\n     * @return {void}\n     * @hidden\n     */\n    TreeViewRenderer.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return TreeViewRenderer;\n}());\nexport { TreeViewRenderer };\n","import { createElement, Droppable, EventHandler, removeClass, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\n/**\n * Module to render Axis Field Table\n */\n/** @hidden */\nvar AxisTableRenderer = /** @class */ (function () {\n    /** Constructor for render module */\n    function AxisTableRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Initialize the axis table rendering\n     * @returns void\n     * @private\n     */\n    AxisTableRenderer.prototype.render = function () {\n        if (!this.parent.isAdaptive) {\n            var axisTable = createElement('div', {\n                className: cls.AXIS_TABLE_CLASS + ' ' + (this.parent.dataType === 'olap' ? cls.OLAP_AXIS_TABLE_CLASS : '')\n            });\n            this.leftAxisPanel = createElement('div', { className: cls.LEFT_AXIS_PANEL_CLASS });\n            this.rightAxisPanel = createElement('div', { className: cls.RIGHT_AXIS_PANEL_CLASS });\n            this.parent.dialogRenderer.parentElement.appendChild(axisTable);\n            axisTable.appendChild(this.leftAxisPanel);\n            axisTable.appendChild(this.rightAxisPanel);\n            this.axisTable = axisTable;\n            this.renderAxisTable();\n        }\n        this.parent.axisFieldModule.render();\n    };\n    AxisTableRenderer.prototype.renderAxisTable = function () {\n        var fieldLabels = ['filters', 'rows', 'columns', 'values'];\n        for (var len = 0, lnt = fieldLabels.length; len < lnt; len++) {\n            var axis = createElement('div', {\n                className: cls.FIELD_LIST_CLASS + '-' + fieldLabels[len]\n            });\n            var axisTitleWrapper = createElement('div', {\n                className: cls.AXIS_ICON_CLASS + '-wrapper'\n            });\n            var axisTitle = createElement('div', {\n                className: cls.AXIS_HEADER_CLASS,\n                innerHTML: this.parent.localeObj.getConstant(fieldLabels[len])\n            });\n            axisTitleWrapper.appendChild(this.getIconupdate(fieldLabels[len]));\n            axisTitleWrapper.appendChild(axisTitle);\n            var axisContent = createElement('div', { className: cls.AXIS_CONTENT_CLASS + ' ' + 'e-' + fieldLabels[len] });\n            var localePrompt = void 0;\n            if (fieldLabels[len] === 'rows') {\n                localePrompt = this.parent.localeObj.getConstant('dropRowPrompt');\n            }\n            else if (fieldLabels[len] === 'columns') {\n                localePrompt = this.parent.localeObj.getConstant('dropColPrompt');\n            }\n            else if (fieldLabels[len] === 'values') {\n                localePrompt = this.parent.localeObj.getConstant('dropValPrompt');\n            }\n            else {\n                localePrompt = this.parent.localeObj.getConstant('dropFilterPrompt');\n            }\n            var axisPrompt = createElement('span', {\n                className: cls.AXIS_PROMPT_CLASS,\n                innerHTML: localePrompt\n            });\n            var droppable = new Droppable(axisContent, {});\n            axis.appendChild(axisTitleWrapper);\n            axis.appendChild(axisContent);\n            axis.appendChild(axisPrompt);\n            if (len <= 1) {\n                this.leftAxisPanel.appendChild(axis);\n            }\n            else {\n                this.rightAxisPanel.appendChild(axis);\n            }\n            this.unWireEvent(axisContent);\n            this.wireEvent(axisContent);\n        }\n    };\n    AxisTableRenderer.prototype.getIconupdate = function (axis) {\n        var axisWrapper = createElement('span', {\n            attrs: { 'tabindex': '-1', 'aria-disabled': 'false' },\n            className: cls.AXIS_ICON_CLASS + '-icon-wrapper'\n        });\n        var axisElement = createElement('span', {\n            attrs: {\n                'tabindex': '-1', 'aria-disabled': 'false'\n            },\n            className: cls.ICON + ' ' + cls.AXIS_ICON_CLASS + '-' + axis\n        });\n        axisWrapper.appendChild(axisElement);\n        return axisWrapper;\n    };\n    AxisTableRenderer.prototype.wireEvent = function (element) {\n        EventHandler.add(element, 'mouseover', this.updateDropIndicator, this);\n        EventHandler.add(element, 'mouseleave', this.updateDropIndicator, this);\n    };\n    AxisTableRenderer.prototype.unWireEvent = function (element) {\n        EventHandler.remove(element, 'mouseover', this.updateDropIndicator);\n        EventHandler.remove(element, 'mouseleave', this.updateDropIndicator);\n    };\n    AxisTableRenderer.prototype.updateDropIndicator = function (e) {\n        var parentElement = this.parent.dialogRenderer.parentElement;\n        if (this.parent.isDragging && e.target.classList.contains(cls.AXIS_CONTENT_CLASS) && e.type === 'mouseover') {\n            removeClass([].slice.call(parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS)), cls.INDICATOR_HOVER_CLASS);\n            removeClass([].slice.call(parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS + '-last')), cls.INDICATOR_HOVER_CLASS);\n            var element = [].slice.call(e.target.querySelectorAll('.' + cls.PIVOT_BUTTON_WRAPPER_CLASS));\n            if (element.length > 0) {\n                addClass([element[element.length - 1].querySelector('.' + cls.DROP_INDICATOR_CLASS + '-last')], cls.INDICATOR_HOVER_CLASS);\n            }\n        }\n        else if (e.type === 'mouseleave') {\n            removeClass([].slice.call(parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS)), cls.INDICATOR_HOVER_CLASS);\n            removeClass([].slice.call(parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS + '-last')), cls.INDICATOR_HOVER_CLASS);\n        }\n    };\n    return AxisTableRenderer;\n}());\nexport { AxisTableRenderer };\n","import { createElement, Draggable, remove, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, addClass, removeClass, closest, Browser } from '@syncfusion/ej2-base';\nimport { PivotFieldList } from '../../pivotfieldlist/base/field-list';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { AggregateMenu } from '../popups/aggregate-menu';\nimport { AxisFieldRenderer } from '../../pivotfieldlist/renderer/axis-field-renderer';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\n/**\n * Module to render Pivot button\n */\n/** @hidden */\nvar PivotButton = /** @class */ (function () {\n    /** Constructor for render module */\n    function PivotButton(parent) {\n        this.parent = parent;\n        this.menuOption = new AggregateMenu(this.parent);\n        this.parent.pivotButtonModule = this;\n        this.addEventListener();\n        if (this.parent instanceof PivotFieldList) {\n            this.axisField = new AxisFieldRenderer(this.parent);\n        }\n    }\n    /* tslint:disable */\n    PivotButton.prototype.renderPivotButton = function (args) {\n        var field = extend([], args.field, null, true);\n        var axis = args.axis;\n        var axisElement;\n        var valuePos = -1;\n        var showValuesButton = (this.parent.dataType === 'pivot' ? (this.parent.getModuleName() == \"pivotfieldlist\" &&\n            this.parent.pivotGridModule) ?\n            this.parent.pivotGridModule.showValuesButton : this.parent.showValuesButton : false);\n        if (((this.parent.dataSourceSettings.valueAxis === 'row' && args.axis === 'rows') ||\n            (this.parent.dataSourceSettings.valueAxis === 'column' && args.axis === 'columns')) && showValuesButton && this.parent.dataSourceSettings.values.length > 1) {\n            valuePos = field.length;\n            field.push({\n                name: this.parent.localeObj.getConstant('values'), caption: this.parent.localeObj.getConstant('values'),\n                axis: args.axis\n            });\n        }\n        this.parentElement = this.parent.getModuleName() === 'pivotview' ? this.parent.element :\n            document.getElementById(this.parent.element.id + '_Wrapper');\n        if (this.parent.getModuleName() === 'pivotfieldlist') {\n            this.parentElement = document.getElementById(this.parent.element.id + '_Wrapper');\n            if (this.parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-' + axis)) {\n                var axisPrompt = this.parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-' + axis)\n                    .querySelector('.' + cls.AXIS_PROMPT_CLASS);\n                if (field.length === 0) {\n                    removeClass([axisPrompt], cls.ICON_DISABLE);\n                }\n                else {\n                    addClass([axisPrompt], cls.ICON_DISABLE);\n                }\n                axisElement =\n                    this.parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-' + axis).querySelector('.' + cls.AXIS_CONTENT_CLASS);\n            }\n            else {\n                return;\n            }\n        }\n        else {\n            this.parentElement = this.parent.element;\n            axisElement = this.parentElement.querySelector('.e-group-' + axis);\n        }\n        if (axisElement) {\n            if (this.parent.getModuleName() === 'pivotview' && field.length === 0) {\n                for (var _i = 0, _a = this.parentElement.querySelectorAll('.e-group-' + axis); _i < _a.length; _i++) {\n                    var element = _a[_i];\n                    if (!element.classList.contains(cls.GROUP_CHART_VALUE)) {\n                        var axisPrompt = createElement('span', {\n                            className: cls.AXIS_PROMPT_CLASS,\n                            innerHTML: (this.parent.groupingBarSettings.allowDragAndDrop ? axis === 'rows' ? this.parent.localeObj.getConstant('rowAxisPrompt') :\n                                axis === 'columns' ? this.parent.localeObj.getConstant('columnAxisPrompt') :\n                                    axis === 'values' ? this.parent.localeObj.getConstant('valueAxisPrompt') :\n                                        this.parent.localeObj.getConstant('filterAxisPrompt') : '')\n                        });\n                        element.appendChild(axisPrompt);\n                    }\n                }\n            }\n            else {\n                for (var i = 0, cnt = field.length; i < cnt; i++) {\n                    for (var _b = 0, _c = (this.parent.getModuleName() === 'pivotfieldlist' ? [axisElement] : this.parentElement.querySelectorAll('.e-group-' + axis)); _b < _c.length; _b++) {\n                        var element = _c[_b];\n                        element = element;\n                        var isMeasureAvail = (this.parent.dataType === 'olap' && (field[i].name.toLowerCase() === '[measures]' || axis === 'values'));\n                        var isMeasureFieldsAvail = (this.parent.dataType === 'olap' && axis === 'values');\n                        if (!element.classList.contains(cls.GROUP_CHART_VALUE)) {\n                            var buttonWrapper = createElement('div', {\n                                className: cls.PIVOT_BUTTON_WRAPPER_CLASS + (i === 0 ? ' e-first-btn' : ''),\n                                attrs: { 'data-tag': axis + ':' + field[i].name }\n                            });\n                            var buttonElement = createElement('div', {\n                                id: field[i].name, className: cls.PIVOT_BUTTON_CLASS + ' ' + field[i].name.replace(/[^A-Z0-9]/ig, ''),\n                                attrs: {\n                                    'data-uid': field[i].name, 'tabindex': '0', 'isvalue': (i === valuePos || isMeasureAvail && !isMeasureFieldsAvail) ? 'true' : 'false',\n                                    'aria-disabled': 'false', 'aria-label': field[i].caption ? field[i].caption : field[i].name,\n                                    'data-type': (this.parent.dataType === 'olap' ? isMeasureFieldsAvail ? 'isMeasureFieldsAvail' : isMeasureAvail ? 'isMeasureAvail' : field[i].type : field[i].type),\n                                    'data-caption': field[i].caption ? field[i].caption : field[i].name,\n                                    'data-basefield': field[i].baseField,\n                                    'data-baseitem': field[i].baseItem\n                                }\n                            });\n                            var dropIndicatorElement = createElement('span', {\n                                attrs: { 'tabindex': '-1', 'aria-disabled': 'false' },\n                                className: cls.DROP_INDICATOR_CLASS\n                            });\n                            var dropLastIndicatorElement = createElement('span', {\n                                attrs: { 'tabindex': '-1', 'aria-disabled': 'false' },\n                                className: cls.DROP_INDICATOR_CLASS + '-last'\n                            });\n                            var dragWrapper = this.createButtonDragIcon(buttonElement);\n                            var contentElement = this.createButtonText(field, i, axis, valuePos);\n                            buttonElement.appendChild(contentElement);\n                            if (!isMeasureAvail && !field[i].isNamedSet && !field[i].isCalculatedField) {\n                                if (['filters', 'values'].indexOf(axis) === -1 && valuePos !== i &&\n                                    !(this.parent.dataType === 'olap' && ((this.parent.getModuleName() === 'pivotview' &&\n                                        this.parent.enableVirtualization) || (this.parent.getModuleName() === 'pivotfieldlist' &&\n                                        this.parent.pivotGridModule !== undefined &&\n                                        this.parent.pivotGridModule.enableVirtualization)))) {\n                                    this.createSortOption(buttonElement, field[i].name);\n                                }\n                                if (axis !== 'values' && valuePos !== i) {\n                                    this.createFilterOption(buttonElement, field[i].name);\n                                }\n                                if (axis === 'values') {\n                                    this.getTypeStatus(field, i, buttonElement);\n                                }\n                            }\n                            var removeElement = createElement('span', {\n                                attrs: { 'tabindex': '-1', 'aria-disabled': 'false' },\n                                className: cls.ICON + ' ' + cls.REMOVE_CLASS\n                            });\n                            if (this.parent.getModuleName() === 'pivotview') {\n                                if (this.parent.groupingBarSettings.showRemoveIcon) {\n                                    removeClass([removeElement], cls.ICON_DISABLE);\n                                }\n                                else {\n                                    addClass([removeElement], cls.ICON_DISABLE);\n                                }\n                            }\n                            buttonElement.appendChild(removeElement);\n                            buttonWrapper.appendChild(dropIndicatorElement);\n                            buttonWrapper.appendChild(buttonElement);\n                            buttonWrapper.appendChild(dropLastIndicatorElement);\n                            element.appendChild(buttonWrapper);\n                            var pivotButton = new Button({ enableRtl: this.parent.enableRtl });\n                            pivotButton.isStringTemplate = true;\n                            pivotButton.appendTo(buttonElement);\n                            this.unWireEvent(buttonWrapper, i === valuePos ? 'values' : axis, isMeasureAvail);\n                            this.wireEvent(buttonWrapper, i === valuePos ? 'values' : axis, isMeasureAvail);\n                            if ((this.parent.getModuleName() === 'pivotview' && !this.parent.isAdaptive) ||\n                                this.parent.getModuleName() === 'pivotfieldlist') {\n                                this.createDraggable(this.parent.getModuleName() === 'pivotview' ? contentElement : dragWrapper);\n                            }\n                        }\n                    }\n                }\n                if (axis === 'values') {\n                    var _loop_1 = function (element) {\n                        if (element.classList.contains(cls.GROUP_CHART_VALUE)) {\n                            var valueData = field.map(function (item) { return { text: item.caption ? item.caption : item.name, value: item.name }; });\n                            var parent_1 = this_1.parent;\n                            if (this_1.valueFiedDropDownList && element.querySelector('.' + cls.GROUP_CHART_VALUE_DROPDOWN_DIV)) {\n                                this_1.valueFiedDropDownList.dataSource = valueData;\n                                this_1.valueFiedDropDownList.value = !parent_1.chartSettings.enableMultiAxis ?\n                                    parent_1.chartModule.currentMeasure : valueData[0].value;\n                            }\n                            else {\n                                var ddlDiv = createElement('div', { className: cls.GROUP_CHART_VALUE_DROPDOWN_DIV });\n                                element.appendChild(ddlDiv);\n                                this_1.valueFiedDropDownList = new DropDownList({\n                                    dataSource: valueData,\n                                    enableRtl: this_1.parent.enableRtl,\n                                    value: !parent_1.chartSettings.enableMultiAxis ?\n                                        parent_1.chartModule.currentMeasure : valueData[0].value,\n                                    width: 200,\n                                    fields: { value: 'value', text: 'text' },\n                                    cssClass: cls.GROUP_CHART_VALUE_DROPDOWN,\n                                    change: function (args) {\n                                        if (args.e && args.e !== null) {\n                                            parent_1.chartSettings.value = args.value;\n                                        }\n                                    }\n                                });\n                                this_1.valueFiedDropDownList.isStringTemplate = true;\n                                this_1.valueFiedDropDownList.appendTo(ddlDiv);\n                            }\n                        }\n                    };\n                    var this_1 = this;\n                    for (var _d = 0, _e = this.parentElement.querySelectorAll('.e-group-' + axis); _d < _e.length; _d++) {\n                        var element = _e[_d];\n                        _loop_1(element);\n                    }\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    PivotButton.prototype.createButtonText = function (field, i, axis, valuePos) {\n        var buttonText;\n        var aggregation;\n        var filterMem;\n        if (axis === \"filters\") {\n            filterMem = this.updateButtontext(field[i].name);\n        }\n        var engineModule;\n        if (this.parent.dataType === 'olap') {\n            engineModule = this.parent.olapEngineModule;\n        }\n        else {\n            engineModule = this.parent.engineModule;\n        }\n        if (engineModule.fieldList[field[i].name] !== undefined) {\n            aggregation = engineModule.fieldList[field[i].name].aggregateType;\n            if (aggregation === undefined && (engineModule.fieldList[field[i].name].type === 'string' || engineModule.fieldList[field[i].name].type === 'include' ||\n                engineModule.fieldList[field[i].name].type === 'exclude')) {\n                aggregation = 'Count';\n            }\n            else if (aggregation === undefined) {\n                aggregation = engineModule.fieldList[field[i].name].aggregateType !== undefined ?\n                    engineModule.fieldList[field[i].name].aggregateType : 'Sum';\n            }\n        }\n        var text = field[i].caption ? field[i].caption : field[i].name;\n        buttonText = createElement('span', {\n            attrs: {\n                title: axis === 'filters' ? (this.parent.dataType === 'olap' && engineModule.fieldList[field[i].name].type === 'CalculatedField') ?\n                    text : (text + ' (' + filterMem + ')') : (this.parent.dataType === 'olap' ?\n                    text : (((!this.parent.dataSourceSettings.showAggregationOnValueField || axis !== 'values' || aggregation === 'CalculatedField') ?\n                    text : this.parent.localeObj.getConstant(aggregation) + ' ' + 'of' + ' ' + text))),\n                'tabindex': '-1', 'aria-disabled': 'false', 'oncontextmenu': 'return false;',\n                'data-type': valuePos === i ? '' : aggregation\n            },\n            className: cls.PIVOT_BUTTON_CONTENT_CLASS + ' ' +\n                (this.parent.getModuleName() === 'pivotview' && !this.parent.groupingBarSettings.allowDragAndDrop ? 'e-disable-drag' : ''),\n            innerHTML: axis === 'filters' ? (this.parent.dataType === 'olap' && engineModule.fieldList[field[i].name].type === 'CalculatedField') ?\n                text : (text + ' (' + filterMem + ')') : (this.parent.dataType === 'olap' ?\n                text : (!this.parent.dataSourceSettings.showAggregationOnValueField || axis !== 'values' || aggregation === 'CalculatedField' ?\n                text : this.parent.localeObj.getConstant(aggregation) + ' ' + 'of' + ' ' + text))\n        });\n        return buttonText;\n    };\n    PivotButton.prototype.getTypeStatus = function (field, i, buttonElement) {\n        var engineModule;\n        if (this.parent.dataType === 'olap') {\n            engineModule = this.parent.olapEngineModule;\n        }\n        else {\n            engineModule = this.parent.engineModule;\n        }\n        var fieldListItem = engineModule.fieldList[field[i].name];\n        if (fieldListItem.aggregateType !== 'CalculatedField' &&\n            fieldListItem.type === 'number') {\n            this.createSummaryType(buttonElement, field[i].name);\n        }\n    };\n    PivotButton.prototype.createSummaryType = function (pivotButton, fieldName) {\n        var spanElement = createElement('span', {\n            attrs: { 'tabindex': '-1', 'aria-disabled': 'false' },\n            className: cls.ICON + ' ' + cls.AXISFIELD_ICON_CLASS\n        });\n        if (this.parent.getModuleName() === 'pivotview') {\n            if (this.parent.groupingBarSettings.showValueTypeIcon) {\n                removeClass([spanElement], cls.ICON_DISABLE);\n            }\n            else {\n                addClass([spanElement], cls.ICON_DISABLE);\n            }\n        }\n        pivotButton.appendChild(spanElement);\n        return spanElement;\n    };\n    PivotButton.prototype.createMenuOption = function (args) {\n        this.menuOption.render(args, this.parentElement);\n        this.parent.pivotButtonModule = this;\n    };\n    PivotButton.prototype.createDraggable = function (target) {\n        this.draggable = new Draggable(target, {\n            clone: true,\n            enableTailMode: true,\n            enableAutoScroll: true,\n            helper: this.createDragClone.bind(this),\n            dragStart: this.onDragStart.bind(this),\n            drag: this.onDragging.bind(this),\n            dragStop: this.onDragStop.bind(this),\n            abort: (this.parent.getModuleName() === 'pivotview' && !this.parent.groupingBarSettings.allowDragAndDrop ? '.' + cls.PIVOT_BUTTON_CLASS : '')\n        });\n    };\n    PivotButton.prototype.createButtonDragIcon = function (pivotButton) {\n        var dragWrapper = createElement('span', {\n            attrs: { 'tabindex': '-1', 'aria-disabled': 'false' }\n        });\n        var dragElement = createElement('span', {\n            attrs: {\n                'tabindex': '-1', 'aria-disabled': 'false'\n            },\n            className: cls.ICON + ' ' + cls.DRAG_CLASS\n        });\n        dragWrapper.appendChild(dragElement);\n        pivotButton.appendChild(dragWrapper);\n        return dragWrapper;\n    };\n    PivotButton.prototype.createSortOption = function (pivotButton, fieldName) {\n        var sortCLass;\n        var spanElement;\n        var engineModule;\n        if (this.parent.dataType === 'olap') {\n            engineModule = this.parent.olapEngineModule;\n        }\n        else {\n            engineModule = this.parent.engineModule;\n        }\n        if (!this.parent.allowDeferLayoutUpdate) {\n            sortCLass = engineModule.fieldList[fieldName].sort === 'Descending' ? cls.SORT_DESCEND_CLASS : '';\n        }\n        else {\n            sortCLass = '';\n            for (var i = 0; i < this.parent.dataSourceSettings.sortSettings.length; i++) {\n                if (this.parent.dataSourceSettings.sortSettings[i].name === fieldName) {\n                    sortCLass = this.parent.dataSourceSettings.sortSettings[i].order === 'Descending' ? cls.SORT_DESCEND_CLASS : '';\n                }\n            }\n        }\n        if (engineModule.fieldList[fieldName].sort === 'None') {\n            spanElement = createElement('span', {\n                attrs: { 'tabindex': '-1', 'aria-disabled': 'false' },\n                className: cls.ICON\n            });\n        }\n        else {\n            spanElement = createElement('span', {\n                attrs: { 'tabindex': '-1', 'aria-disabled': 'false' },\n                className: cls.ICON + ' ' + cls.SORT_CLASS + ' ' + sortCLass\n            });\n        }\n        if (this.parent.dataSourceSettings.enableSorting) {\n            removeClass([spanElement], cls.ICON_DISABLE);\n        }\n        else {\n            addClass([spanElement], cls.ICON_DISABLE);\n        }\n        if (this.parent.getModuleName() === 'pivotview') {\n            if (this.parent.groupingBarSettings.showSortIcon) {\n                removeClass([spanElement], cls.ICON_DISABLE);\n            }\n            else {\n                addClass([spanElement], cls.ICON_DISABLE);\n            }\n        }\n        pivotButton.appendChild(spanElement);\n        return spanElement;\n    };\n    PivotButton.prototype.createFilterOption = function (pivotButton, fieldName) {\n        var filterCLass;\n        var engineModule;\n        if (this.parent.dataType === 'olap') {\n            engineModule = this.parent.olapEngineModule;\n        }\n        else {\n            engineModule = this.parent.engineModule;\n        }\n        if (!this.parent.allowDeferLayoutUpdate) {\n            filterCLass = engineModule.fieldList[fieldName].filter.length === 0 ?\n                !engineModule.fieldList[fieldName].isExcelFilter ? cls.FILTER_CLASS : cls.FILTERED_CLASS : cls.FILTERED_CLASS;\n        }\n        else {\n            filterCLass = cls.FILTER_CLASS;\n            for (var i = 0; i < this.parent.dataSourceSettings.filterSettings.length; i++) {\n                if (this.parent.dataSourceSettings.filterSettings[i].name === fieldName) {\n                    filterCLass = cls.FILTERED_CLASS;\n                }\n            }\n        }\n        var spanElement = createElement('span', {\n            attrs: {\n                'tabindex': '-1', 'aria-disabled': 'false'\n            },\n            className: cls.FILTER_COMMON_CLASS + ' ' + cls.ICON + ' ' + filterCLass\n        });\n        if (this.parent.getModuleName() === 'pivotview') {\n            if (this.parent.groupingBarSettings.showFilterIcon) {\n                removeClass([spanElement], cls.ICON_DISABLE);\n            }\n            else {\n                addClass([spanElement], cls.ICON_DISABLE);\n            }\n        }\n        pivotButton.appendChild(spanElement);\n        return spanElement;\n    };\n    // To update button text\n    PivotButton.prototype.updateButtontext = function (fieldName) {\n        var engineModule;\n        if (this.parent.dataType === 'olap') {\n            engineModule = this.parent.olapEngineModule;\n        }\n        else {\n            engineModule = this.parent.engineModule;\n        }\n        var filterCount = engineModule.fieldList[fieldName].filter.length;\n        var filterType = engineModule.fieldList[fieldName].filterType;\n        var memLen = engineModule.fieldList[fieldName].dateMember.length;\n        var filterMem;\n        var firstNode = engineModule.fieldList[fieldName].filter[0];\n        if (this.parent.dataType === 'olap') {\n            filterMem = this.updateOlapButtonText(engineModule, fieldName, firstNode, filterCount);\n        }\n        else if (filterType === \"include\") {\n            if (filterCount === 1) {\n                filterMem = firstNode;\n            }\n            else if (filterCount > 1) {\n                if (filterCount === memLen) {\n                    filterMem = this.parent.localeObj.getConstant('all');\n                }\n                else {\n                    filterMem = this.parent.localeObj.getConstant('multipleItems');\n                }\n            }\n        }\n        else if (filterType === \"exclude\") {\n            if (filterCount === 1) {\n                if (memLen === 2) {\n                    if (firstNode !== engineModule.fieldList[fieldName].dateMember[0].actualText) {\n                        filterMem = firstNode;\n                    }\n                    else {\n                        filterMem = engineModule.fieldList[fieldName].dateMember[0].actualText;\n                    }\n                }\n                else {\n                    filterMem = this.parent.localeObj.getConstant('multipleItems');\n                }\n            }\n            else if (filterCount > 1) {\n                var j = void 0;\n                var allNodes = Object.keys(engineModule.fieldList[fieldName].members);\n                var filteredItems = engineModule.fieldList[fieldName].filter;\n                if (filterCount === (allNodes.length - 1)) {\n                    loop: for (j = 0; j < allNodes.length; j++) {\n                        var test = allNodes[j];\n                        var x = filteredItems.indexOf(test);\n                        if (x === -1) {\n                            filterMem = allNodes[j];\n                            break loop;\n                        }\n                    }\n                }\n                else {\n                    filterMem = this.parent.localeObj.getConstant('multipleItems');\n                }\n            }\n        }\n        else {\n            filterMem = this.parent.localeObj.getConstant('all');\n        }\n        return filterMem;\n    };\n    PivotButton.prototype.updateOlapButtonText = function (engineModule, fieldName, firstNode, filterCount) {\n        var filterMem;\n        var filterItems = engineModule.fieldList[fieldName].actualFilter;\n        if (filterItems.length > 0) {\n            var cMembers = engineModule.fieldList[fieldName].members;\n            var sMembers = engineModule.fieldList[fieldName].currrentMembers;\n            var updatedFilterItems = [];\n            if (engineModule.fieldList[fieldName].searchMembers.length > 0) {\n                for (var _i = 0, filterItems_1 = filterItems; _i < filterItems_1.length; _i++) {\n                    var item = filterItems_1[_i];\n                    if (sMembers[item].isSelected) {\n                        if (!(sMembers[item].parent && sMembers[sMembers[item].parent].isSelected)) {\n                            updatedFilterItems.push(item);\n                        }\n                    }\n                }\n                firstNode = updatedFilterItems.length === 1 ? sMembers[updatedFilterItems[0]].caption : firstNode;\n            }\n            else if (engineModule.fieldList[fieldName].filterMembers.length > 0) {\n                for (var _a = 0, filterItems_2 = filterItems; _a < filterItems_2.length; _a++) {\n                    var item = filterItems_2[_a];\n                    if (cMembers[item].isSelected) {\n                        if (!(cMembers[item].parent && cMembers[cMembers[item].parent].isSelected)) {\n                            updatedFilterItems.push(item);\n                        }\n                    }\n                }\n                firstNode = updatedFilterItems.length === 1 ? cMembers[updatedFilterItems[0]].caption : firstNode;\n            }\n            filterCount = updatedFilterItems.length === 0 ? filterCount : updatedFilterItems.length;\n        }\n        if (filterCount === 0) {\n            filterMem = (engineModule.fieldList[fieldName].allMember ?\n                engineModule.fieldList[fieldName].allMember : this.parent.localeObj.getConstant('all'));\n        }\n        else if (filterCount === 1) {\n            filterMem = firstNode;\n        }\n        else if (filterCount > 1) {\n            filterMem = this.parent.localeObj.getConstant('multipleItems');\n        }\n        return filterMem;\n    };\n    PivotButton.prototype.createDragClone = function (args) {\n        var element = closest(args.element, '.' + cls.PIVOT_BUTTON_CLASS);\n        var cloneElement = createElement('div', {\n            id: this.parent.element.id + '_DragClone',\n            className: cls.DRAG_CLONE_CLASS\n        });\n        var contentElement = createElement('span', {\n            className: cls.TEXT_CONTENT_CLASS,\n            innerHTML: element.textContent\n        });\n        cloneElement.appendChild(contentElement);\n        document.body.appendChild(cloneElement);\n        return cloneElement;\n    };\n    PivotButton.prototype.onDragStart = function (e) {\n        this.parent.isDragging = true;\n        var engineModule;\n        if (this.parent.dataType === 'olap') {\n            engineModule = this.parent.olapEngineModule;\n        }\n        else {\n            engineModule = this.parent.engineModule;\n        }\n        var element = closest(e.element, '.' + cls.PIVOT_BUTTON_CLASS);\n        var data = engineModule.fieldList[element.getAttribute('data-uid')];\n        var axis = [cls.ROW_AXIS_CLASS, cls.COLUMN_AXIS_CLASS, cls.FILTER_AXIS_CLASS];\n        var dragItem = document.getElementById(this.parent.element.id + '_DragClone');\n        addClass([element], cls.SELECTED_NODE_CLASS);\n        if (dragItem && (this.parent.getModuleName() === 'pivotfieldlist' &&\n            this.parent.renderMode) === 'Popup') {\n            var fieldListPopup = this.parent;\n            dragItem.style.zIndex = (fieldListPopup.dialogRenderer.fieldListDialog.zIndex + 1).toString();\n        }\n        if (data && data.aggregateType === 'CalculatedField') {\n            for (var _i = 0, axis_1 = axis; _i < axis_1.length; _i++) {\n                var axisContent = axis_1[_i];\n                addClass([this.parentElement.querySelector('.' + axisContent)], cls.NO_DRAG_CLASS);\n            }\n        }\n        if (isBlazor()) {\n            e.bindEvents(e.dragElement);\n        }\n    };\n    PivotButton.prototype.onDragging = function (e) {\n        this.draggable.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20, } });\n        // if (closest(e.event.srcElement, '.' + cls.PIVOT_BUTTON_WRAPPER_CLASS)) {\n        //     let droppableElement: HTMLElement = closest(e.event.srcElement, '.' + cls.DROPPABLE_CLASS) as HTMLElement;\n        //     let buttonElement: HTMLElement = closest(e.event.srcElement, '.' + cls.PIVOT_BUTTON_WRAPPER_CLASS) as HTMLElement;\n        //     if (droppableElement.offsetHeight < droppableElement.scrollHeight) {\n        //         let scrollPosition: number = (droppableElement.scrollHeight - buttonElement.offsetTop);\n        //         if (buttonElement.offsetTop >= droppableElement.offsetTop && scrollPosition > droppableElement.scrollTop) {\n        //             droppableElement.scrollTop += Math.abs(buttonElement.offsetHeight);\n        //         } else if (buttonElement.offsetTop <= droppableElement.offsetTop) {\n        //             droppableElement.scrollTop -= Math.abs(buttonElement.offsetHeight);\n        //         }\n        //     }\n        // }\n    };\n    PivotButton.prototype.onDragStop = function (args) {\n        this.parent.isDragging = false;\n        if (args.target.classList && (args.target.classList.contains(cls.GROUP_CHART_VALUE) || args.target.classList.contains(cls.GROUP_CHART_VALUE_DROPDOWN))) {\n            args.target = this.parent.element.querySelector('.' + cls.GROUP_CHART_ROW);\n        }\n        var element = closest(args.element, '.' + cls.PIVOT_BUTTON_CLASS);\n        removeClass([].slice.call(this.parentElement.querySelectorAll('.' + cls.PIVOT_BUTTON_CLASS)), cls.SELECTED_NODE_CLASS);\n        removeClass([].slice.call(this.parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS)), cls.INDICATOR_HOVER_CLASS);\n        var axis = [cls.ROW_AXIS_CLASS, cls.COLUMN_AXIS_CLASS, cls.FILTER_AXIS_CLASS];\n        for (var _i = 0, axis_2 = axis; _i < axis_2.length; _i++) {\n            var axisContent = axis_2[_i];\n            removeClass([this.parentElement.querySelector('.' + axisContent)], cls.NO_DRAG_CLASS);\n        }\n        if (this.parent.pivotCommon.filterDialog.dialogPopUp) {\n            this.parent.pivotCommon.filterDialog.dialogPopUp.close();\n        }\n        if (document.getElementById(this.parent.element.id + '_DragClone')) {\n            remove(document.getElementById(this.parent.element.id + '_DragClone'));\n        }\n        document.body.style.cursor = 'auto';\n        if (!this.isButtonDropped(args.target, element)) {\n            return;\n        }\n        this.parent.pivotCommon.dataSourceUpdate.control = this.parent.getModuleName() === 'pivotview' ? this.parent :\n            (this.parent.pivotGridModule ? this.parent.pivotGridModule : this.parent);\n        if (this.parent.pivotCommon.nodeStateModified.onStateModified(args, element.id)) {\n            this.updateDataSource();\n            var thisObj = this;\n            //setTimeout(() => {\n            thisObj.parent.axisFieldModule.render();\n            //});\n        }\n    };\n    PivotButton.prototype.isButtonDropped = function (dropTarget, target) {\n        var axisPanel = closest(target, '.' + cls.DROPPABLE_CLASS);\n        var droppableElement = closest(dropTarget, '.' + cls.DROPPABLE_CLASS);\n        var isDropped = true;\n        if (axisPanel === droppableElement) {\n            var pivotButtons = [].slice.call(axisPanel.querySelectorAll('.' + cls.PIVOT_BUTTON_CLASS));\n            var droppableTarget = closest(dropTarget, '.' + cls.PIVOT_BUTTON_WRAPPER_CLASS);\n            var sourcePosition = void 0;\n            var droppedPosition = -1;\n            for (var i = 0, n = pivotButtons.length; i < n; i++) {\n                if (pivotButtons[i].id === target.id) {\n                    sourcePosition = i;\n                }\n                if (droppableTarget) {\n                    var droppableButton = droppableTarget.querySelector('.' + cls.PIVOT_BUTTON_CLASS);\n                    if (pivotButtons[i].id === droppableButton.id) {\n                        droppedPosition = i;\n                    }\n                }\n            }\n            if (sourcePosition === droppedPosition || (sourcePosition === (pivotButtons.length - 1) && droppedPosition === -1)) {\n                removeClass([].slice.call(this.parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS)), cls.INDICATOR_HOVER_CLASS);\n                isDropped = false;\n            }\n        }\n        return isDropped;\n    };\n    PivotButton.prototype.updateSorting = function (args) {\n        if (!(args.target.classList.contains(cls.FILTER_COMMON_CLASS)) &&\n            !(args.target.classList.contains(cls.REMOVE_CLASS))) {\n            if ((this.parent instanceof PivotFieldList || this.parent.groupingBarSettings.showSortIcon) &&\n                this.parent.dataSourceSettings.enableSorting &&\n                !(this.parent.dataType === 'olap' && ((this.parent.getModuleName() === 'pivotfieldlist' &&\n                    this.parent.pivotGridModule !== undefined &&\n                    this.parent.pivotGridModule.enableVirtualization) ||\n                    (this.parent.getModuleName() === 'pivotview' && this.parent.enableVirtualization)))) {\n                if (((this.parent.getModuleName() === 'pivotview' && this.parent.enableValueSorting) ||\n                    (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.pivotGridModule !== undefined &&\n                        this.parent.pivotGridModule.enableValueSorting))) {\n                    if (this.parent.enableValueSorting || this.parent.pivotGridModule.enableValueSorting) {\n                        if (args.target.classList.contains('e-pivot-button')) {\n                            if (args.target.parentElement.getAttribute('data-tag').split(':')[0] === 'rows') {\n                                this.parent.setProperties({ dataSourceSettings: { valueSortSettings: { headerText: '' } } }, true);\n                            }\n                        }\n                        else {\n                            if (args.target.parentElement.parentElement.getAttribute('data-tag').split(':')[0] === 'rows') {\n                                this.parent.setProperties({ dataSourceSettings: { valueSortSettings: { headerText: '' } } }, true);\n                            }\n                        }\n                    }\n                }\n                this.parent.pivotCommon.eventBase.updateSorting(args);\n                if (!this.parent.allowDeferLayoutUpdate || this.parent.getModuleName() != \"pivotfieldlist\") {\n                    this.updateDataSource(true);\n                }\n                var thisObj = this;\n                //setTimeout(() => {\n                if (thisObj.parent instanceof PivotFieldList) {\n                    thisObj.axisField.render();\n                }\n                //});\n            }\n        }\n    };\n    PivotButton.prototype.updateDataSource = function (isRefreshGrid) {\n        if (!this.parent.allowDeferLayoutUpdate || this.parent.getModuleName() === 'pivotview') {\n            this.parent.updateDataSource(isRefreshGrid);\n        }\n        else {\n            if (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.renderMode === 'Popup') {\n                if (this.parent.dataType === 'olap') {\n                    this.parent.pivotGridModule.olapEngineModule = this.parent.olapEngineModule;\n                }\n                else {\n                    this.parent.pivotGridModule.engineModule = this.parent.engineModule;\n                }\n                this.parent.pivotGridModule.notify(events.uiUpdate, this);\n                this.parent.\n                    pivotGridModule.setProperties({ dataSourceSettings: this.parent.dataSourceSettings.properties }, true);\n            }\n            else {\n                this.parent.triggerPopulateEvent();\n            }\n        }\n    };\n    PivotButton.prototype.updateFiltering = function (args) {\n        this.parent.pivotCommon.eventBase.updateFiltering(args);\n        var target = args.target;\n        this.fieldName = target.parentElement.id;\n        this.dialogPopUp = this.parent.pivotCommon.filterDialog.dialogPopUp;\n        this.memberTreeView = this.parent.pivotCommon.filterDialog.memberTreeView;\n        this.parent.pivotCommon.filterDialog.memberTreeView.nodeChecked = this.nodeStateModified.bind(this);\n        this.parent.pivotCommon.filterDialog.allMemberSelect.nodeChecked = this.nodeStateModified.bind(this);\n        this.bindDialogEvents();\n    };\n    PivotButton.prototype.bindDialogEvents = function () {\n        if (this.parent.pivotCommon.filterDialog.allowExcelLikeFilter && this.parent.pivotCommon.filterDialog.tabObj) {\n            this.index = this.parent.pivotCommon.filterDialog.tabObj.selectedItem;\n            this.updateDialogButtonEvents();\n            this.dialogPopUp.buttons = this.buttonModel();\n            this.dialogPopUp.dataBind();\n            this.parent.pivotCommon.filterDialog.tabObj.selected = this.tabSelect.bind(this);\n        }\n        else {\n            this.index = 0;\n            this.updateDialogButtonEvents();\n        }\n    };\n    PivotButton.prototype.buttonModel = function () {\n        return [\n            {\n                buttonModel: {\n                    cssClass: cls.OK_BUTTON_CLASS, content: this.parent.localeObj.getConstant('ok'), isPrimary: true\n                },\n                click: (this.index === 0 ? this.updateFilterState.bind(this, this.fieldName) : this.updateCustomFilter.bind(this))\n            },\n            {\n                buttonModel: {\n                    cssClass: 'e-clear-filter-button' + (this.parent.pivotCommon.filterDialog.allowExcelLikeFilter ? '' : ' ' + cls.ICON_DISABLE),\n                    iconCss: 'e-icons e-clear-filter-icon', enableRtl: this.parent.enableRtl,\n                    content: this.parent.localeObj.getConstant('clearFilter'), disabled: (this.parent.pivotCommon.filterDialog.filterObject ? false : true)\n                },\n                click: this.ClearFilter.bind(this)\n            },\n            {\n                click: this.parent.pivotCommon.filterDialog.closeFilterDialog.bind(this),\n                buttonModel: { cssClass: cls.CANCEL_BUTTON_CLASS, content: this.parent.localeObj.getConstant('cancel') }\n            }\n        ];\n    };\n    PivotButton.prototype.tabSelect = function (e) {\n        this.index = e.selectedIndex;\n        this.updateDialogButtonEvents();\n        removeClass([].slice.call(this.dialogPopUp.element.querySelectorAll('.e-selected-tab')), 'e-selected-tab');\n        if (e.selectedIndex > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            addClass([this.dialogPopUp.element.querySelector('.e-filter-div-content' + '.' + (e.selectedIndex === 1 && this.parent.dataSourceSettings.allowLabelFilter ? 'e-label-filter' : 'e-value-filter'))], 'e-selected-tab');\n        }\n        if (e.selectedIndex === 0) {\n            this.parent.pivotCommon.filterDialog.updateCheckedState();\n        }\n        else {\n            this.dialogPopUp.buttons[0].buttonModel.disabled = false;\n            this.dialogPopUp.element.querySelector('.' + cls.OK_BUTTON_CLASS).removeAttribute('disabled');\n        }\n    };\n    PivotButton.prototype.updateDialogButtonEvents = function () {\n        this.dialogPopUp.buttons = this.buttonModel();\n        this.dialogPopUp.dataBind();\n    };\n    PivotButton.prototype.updateCustomFilter = function (args) {\n        var dialogElement = this.dialogPopUp.element.querySelector('.e-selected-tab');\n        var fieldName = dialogElement.getAttribute('data-fieldname');\n        var levelName = dialogElement.getAttribute('data-selectedField');\n        var filterType = dialogElement.getAttribute('data-type');\n        var measure = dialogElement.getAttribute('data-measure');\n        var operator = dialogElement.getAttribute('data-operator');\n        var operand1 = dialogElement.getAttribute('data-value1');\n        var operand2 = dialogElement.getAttribute('data-value2');\n        var type = ((filterType === 'value') ? 'Value' : (filterType === 'date') ? 'Date' :\n            (filterType === 'number') ? 'Number' : 'Label');\n        var filterItem = {\n            name: fieldName,\n            type: type,\n            measure: measure,\n            condition: operator,\n            value1: filterType === 'date' ? new Date(operand1) : operand1,\n            value2: filterType === 'date' ? new Date(operand2) : operand2\n        };\n        var filterObject;\n        if (this.parent.dataType === 'olap') {\n            filterItem.selectedField = levelName;\n            this.removeDataSourceSettings(fieldName, levelName, type);\n            var filterItems = this.parent.dataSourceSettings.filterSettings;\n            for (var _i = 0, filterItems_3 = filterItems; _i < filterItems_3.length; _i++) {\n                var item = filterItems_3[_i];\n                if (item.name === fieldName && item.selectedField === levelName) {\n                    filterObject = item;\n                }\n            }\n        }\n        else {\n            filterObject = this.parent.pivotCommon.eventBase.getFilterItemByName(fieldName);\n        }\n        if ((isNOU(operand1) || operand1 === '') ||\n            (['Between', 'NotBetween'].indexOf(operator) > -1 && (isNOU(operand2) || operand2 === ''))) {\n            var inputElementString = (type.toLowerCase() + ((isNOU(operand1) || operand1 === '') ? '_input_option_1' : '_input_option_2'));\n            var focusElement = dialogElement.querySelector('#' + this.parent.element.id + '_' + inputElementString);\n            addClass([focusElement], cls.EMPTY_FIELD);\n            focusElement.focus();\n            return;\n        }\n        if (filterObject) {\n            // this.removeDataSourceSettings(fieldName);\n            filterObject = filterObject.properties ?\n                filterObject.properties : filterObject;\n            filterObject.type = type;\n            filterObject.measure = measure;\n            filterObject.condition = operator;\n            filterObject.value1 = filterType === 'date' ? new Date(operand1) : operand1;\n            filterObject.value2 = filterType === 'date' ? new Date(operand2) : operand2;\n            if (this.parent.dataType === 'olap') {\n                filterObject.selectedField = levelName;\n            }\n        }\n        else {\n            this.parent.dataSourceSettings.filterSettings.push(filterItem);\n        }\n        if (type !== 'Value') {\n            this.parent.lastFilterInfo = this.parent.pivotCommon.eventBase.getFilterItemByName(fieldName);\n        }\n        this.dialogPopUp.close();\n        this.refreshPivotButtonState(fieldName, true);\n        this.updateDataSource(true);\n    };\n    PivotButton.prototype.ClearFilter = function (e) {\n        var dialogElement = this.dialogPopUp.element;\n        var fieldName = dialogElement.getAttribute('data-fieldname');\n        var tabElement = dialogElement.querySelector('.e-selected-tab');\n        this.dialogPopUp.close();\n        if (this.parent.dataType === 'olap' && tabElement) {\n            var levelName = tabElement.getAttribute('data-selectedField');\n            this.removeDataSourceSettings(fieldName, levelName);\n        }\n        else {\n            this.removeDataSourceSettings(fieldName);\n        }\n        var filterObject = this.parent.pivotCommon.eventBase.getFilterItemByName(fieldName);\n        this.refreshPivotButtonState(fieldName, filterObject ? true : false);\n        this.updateDataSource(true);\n    };\n    PivotButton.prototype.removeButton = function (args) {\n        var target = args.target;\n        var fieldName = target.parentElement.id;\n        if (target.parentElement.getAttribute('isvalue') === 'true') {\n            this.parent.setProperties({ dataSourceSettings: { values: [] } }, true);\n            if (this.parent.dataType === 'olap') {\n                this.parent.pivotCommon.dataSourceUpdate.removeFieldFromReport('[measures]');\n            }\n        }\n        else {\n            this.parent.pivotCommon.dataSourceUpdate.removeFieldFromReport(fieldName);\n            if (this.parent.dataType === 'olap' && this.parent.dataSourceSettings.values.length === 0) {\n                this.parent.pivotCommon.dataSourceUpdate.removeFieldFromReport('[measures]');\n            }\n        }\n        if (this.parent.getModuleName() === 'pivotfieldlist') {\n            this.parent.axisFieldModule.render();\n        }\n        this.updateDataSource();\n    };\n    PivotButton.prototype.nodeStateModified = function (args) {\n        var target = closest(args.node, 'li');\n        var fieldName = target.getAttribute('data-fieldname');\n        if (target.getAttribute('data-uid') === 'all') {\n            this.memberTreeView.nodeChecked = null;\n            if (args.action === 'check') {\n                this.memberTreeView.checkAll();\n            }\n            else {\n                this.memberTreeView.uncheckAll();\n            }\n            if (this.parent.dataType === 'olap' && this.parent.olapEngineModule &&\n                !this.parent.olapEngineModule.fieldList[fieldName].isHierarchy) {\n                this.updateNodeStates(this.memberTreeView.getAllCheckedNodes(), fieldName, args.action);\n            }\n            this.checkedStateAll(args.action);\n            this.memberTreeView.nodeChecked = this.nodeStateModified.bind(this);\n        }\n        else {\n            if (this.parent.dataType === 'olap' && this.parent.olapEngineModule &&\n                !this.parent.olapEngineModule.fieldList[fieldName].isHierarchy) {\n                // let st1: number = new Date().getTime();\n                var checkedNodes = this.memberTreeView.getAllCheckedNodes();\n                // let st2: number = (new Date().getTime() - st1) / 1000;\n                // console.log('getAllCheckedNodes:' + st2);\n                this.updateNodeStates(checkedNodes, fieldName, args.action);\n            }\n            var pos = this.parent.pivotCommon.currentTreeItemsPos[target.getAttribute('data-uid')];\n            if (args.action === 'check') {\n                if (this.parent.pivotCommon.currentTreeItems[pos]) {\n                    this.parent.pivotCommon.currentTreeItems[pos].isSelected = true;\n                }\n            }\n            else {\n                if (this.parent.pivotCommon.currentTreeItems[pos]) {\n                    this.parent.pivotCommon.currentTreeItems[pos].isSelected = false;\n                }\n            }\n        }\n        this.parent.pivotCommon.filterDialog.updateCheckedState();\n    };\n    PivotButton.prototype.checkedStateAll = function (state) {\n        var searchItemObj = {};\n        for (var _i = 0, _a = this.parent.pivotCommon.searchTreeItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item.isSelected = state === 'check';\n            searchItemObj[item.id] = item.id;\n        }\n        for (var _b = 0, _c = this.parent.pivotCommon.currentTreeItems; _b < _c.length; _b++) {\n            var item = _c[_b];\n            if (searchItemObj[item.id] !== undefined) {\n                item.isSelected = state === 'check';\n            }\n        }\n    };\n    PivotButton.prototype.updateNodeStates = function (checkedNodes, fieldName, state) {\n        var fieldList = this.parent.pivotCommon.engineModule.fieldList[fieldName];\n        var currentMembers = fieldList.members;\n        var searchMembers = fieldList.currrentMembers;\n        if (fieldList.searchMembers.length > 0) {\n            var members = Object.keys(searchMembers);\n            for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n                var member = members_1[_i];\n                if (searchMembers[member]) {\n                    searchMembers[member].isSelected = false;\n                }\n                if (currentMembers[member]) {\n                    currentMembers[member].isSelected = false;\n                    if (this.memberTreeView.element.querySelector('li[data-uid=\"' + member + '\"]')) {\n                        var element = this.memberTreeView.element.querySelector('li[data-uid=\"' + member + '\"]');\n                        if (element && !element.querySelector('ul')) {\n                            this.parent.pivotCommon.eventBase.updateChildNodeStates(fieldList.filterMembers, fieldName, member, false);\n                        }\n                    }\n                }\n            }\n            for (var _a = 0, checkedNodes_1 = checkedNodes; _a < checkedNodes_1.length; _a++) {\n                var node = checkedNodes_1[_a];\n                if (currentMembers[node]) {\n                    if (this.memberTreeView.element.querySelector('li[data-uid=\"' + node + '\"]')) {\n                        var element = this.memberTreeView.element.querySelector('li[data-uid=\"' + node + '\"]');\n                        if (element && !element.querySelector('ul')) {\n                            currentMembers[node].isSelected = true;\n                            this.parent.pivotCommon.eventBase.updateChildNodeStates(fieldList.filterMembers, fieldName, node, true);\n                        }\n                    }\n                }\n                if (searchMembers[node]) {\n                    searchMembers[node].isSelected = true;\n                }\n            }\n        }\n        else {\n            var members = Object.keys(currentMembers);\n            for (var _b = 0, members_2 = members; _b < members_2.length; _b++) {\n                var member = members_2[_b];\n                if (currentMembers[member].isSelected) {\n                    currentMembers[member].isSelected = false;\n                }\n            }\n            for (var _c = 0, checkedNodes_2 = checkedNodes; _c < checkedNodes_2.length; _c++) {\n                var node = checkedNodes_2[_c];\n                if (currentMembers[node]) {\n                    currentMembers[node].isSelected = true;\n                    this.parent.pivotCommon.eventBase.updateChildNodeStates(fieldList.filterMembers, fieldName, node, true);\n                }\n            }\n        }\n    };\n    PivotButton.prototype.updateFilterState = function (fieldName, args) {\n        var isNodeUnChecked = false;\n        var filterItem = { items: [], name: fieldName, type: 'Include' };\n        var engineModule = this.parent.olapEngineModule;\n        if (this.parent.dataType === 'olap' && engineModule &&\n            !engineModule.fieldList[fieldName].isHierarchy) {\n            var cMembers = engineModule.fieldList[fieldName].members;\n            var sMembers = engineModule.fieldList[fieldName].currrentMembers;\n            filterItem.items = this.memberTreeView.getAllCheckedNodes();\n            filterItem.levelCount = engineModule.fieldList[fieldName].levelCount;\n            isNodeUnChecked = (filterItem.items.length ===\n                this.memberTreeView.fields.dataSource.length ? false : true);\n            if (engineModule.fieldList[fieldName].searchMembers.length > 0 && !isNodeUnChecked) {\n                var cNodeLength = Object.keys(cMembers).length;\n                var sNodeLength = Object.keys(sMembers).length;\n                isNodeUnChecked = cNodeLength === sNodeLength && cNodeLength === filterItem.items.length ? false : true;\n            }\n            var filterItems = filterItem.items;\n            for (var _i = 0, filterItems_4 = filterItems; _i < filterItems_4.length; _i++) {\n                var node = filterItems_4[_i];\n                if (cMembers[node]) {\n                    cMembers[node].isSelected = true;\n                }\n                if (sMembers[node]) {\n                    sMembers[node].isSelected = true;\n                }\n            }\n        }\n        else {\n            for (var _a = 0, _b = this.parent.pivotCommon.searchTreeItems; _a < _b.length; _a++) {\n                var item = _b[_a];\n                if (item.isSelected) {\n                    if (this.parent.pivotCommon.isDateField) {\n                        filterItem.items.push(item.name);\n                    }\n                    else {\n                        filterItem.items.push(item.id);\n                    }\n                }\n            }\n            isNodeUnChecked = (filterItem.items.length === this.parent.pivotCommon.currentTreeItems.length ?\n                false : true);\n        }\n        if (this.parent.dataType === 'olap') {\n            this.removeDataSourceSettings(fieldName);\n        }\n        var filterObject = this.parent.pivotCommon.eventBase.getFilterItemByName(fieldName);\n        if (filterObject) {\n            for (var i = 0; i < this.parent.dataSourceSettings.filterSettings.length; i++) {\n                if (this.parent.dataSourceSettings.filterSettings[i].name === fieldName) {\n                    this.parent.dataSourceSettings.filterSettings.splice(i, 1);\n                    break;\n                }\n            }\n            this.parent.dataSourceSettings.filterSettings.push(filterItem);\n        }\n        else {\n            this.parent.dataSourceSettings.filterSettings.push(filterItem);\n        }\n        this.dialogPopUp.close();\n        this.refreshPivotButtonState(fieldName, isNodeUnChecked);\n        if (!isNodeUnChecked) {\n            this.removeDataSourceSettings(fieldName);\n        }\n        this.parent.lastFilterInfo = filterItem;\n        this.updateDataSource(true);\n        var thisObj = this;\n        //setTimeout(() => {\n        if (thisObj.parent instanceof PivotFieldList) {\n            thisObj.axisField.render();\n        }\n        //});\n    };\n    PivotButton.prototype.refreshPivotButtonState = function (fieldName, isFiltered) {\n        var pivotButtons = [].slice.call(this.parentElement.querySelectorAll('.e-pivot-button'));\n        var selectedButton;\n        for (var _i = 0, pivotButtons_1 = pivotButtons; _i < pivotButtons_1.length; _i++) {\n            var item = pivotButtons_1[_i];\n            if (item.getAttribute('data-uid') === fieldName) {\n                selectedButton = item.querySelector('.' + cls.FILTER_COMMON_CLASS);\n                break;\n            }\n        }\n        if (isFiltered) {\n            removeClass([selectedButton], cls.FILTER_CLASS);\n            addClass([selectedButton], cls.FILTERED_CLASS);\n        }\n        else {\n            removeClass([selectedButton], cls.FILTERED_CLASS);\n            addClass([selectedButton], cls.FILTER_CLASS);\n        }\n    };\n    PivotButton.prototype.removeDataSourceSettings = function (fieldName, selectedField, type) {\n        var filterSettings = this.parent.dataSourceSettings.filterSettings;\n        for (var len = 0, lnt = filterSettings.length; len < lnt; len++) {\n            if (this.parent.dataType === 'olap' && selectedField) {\n                if (!type && filterSettings[len].name === fieldName &&\n                    filterSettings[len].selectedField === selectedField) {\n                    filterSettings.splice(len, 1);\n                    break;\n                }\n                else if (type) {\n                    if (filterSettings[len].type !== type &&\n                        filterSettings[len].name === fieldName) {\n                        filterSettings.splice(len, 1);\n                        lnt--;\n                        len--;\n                    }\n                }\n            }\n            else {\n                if (filterSettings[len].name === fieldName) {\n                    filterSettings.splice(len, 1);\n                    if (this.parent.dataType !== 'olap') {\n                        break;\n                    }\n                    lnt--;\n                    len--;\n                }\n            }\n        }\n    };\n    PivotButton.prototype.updateDropIndicator = function (e) {\n        if (this.parent.isDragging) {\n            removeClass([].slice.call(this.parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS + '-last')), cls.INDICATOR_HOVER_CLASS);\n            removeClass([].slice.call(this.parentElement.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS)), cls.INDICATOR_HOVER_CLASS);\n            var element = closest(e.target, '.' + cls.PIVOT_BUTTON_WRAPPER_CLASS);\n            addClass([element.querySelector('.' + cls.DROP_INDICATOR_CLASS)], cls.INDICATOR_HOVER_CLASS);\n        }\n    };\n    PivotButton.prototype.wireEvent = function (element, axis, isMeasureAvail) {\n        EventHandler.add(element, 'mouseover', this.updateDropIndicator, this);\n        if (!isMeasureAvail) {\n            if (['filters', 'values'].indexOf(axis) === -1 && element.querySelector('.' + cls.PIVOT_BUTTON_CLASS) !== null) {\n                EventHandler.add(element.querySelector('.' + cls.PIVOT_BUTTON_CLASS), 'click', this.updateSorting, this);\n            }\n            if (axis !== 'values' && element.querySelector('.' + cls.FILTER_COMMON_CLASS) !== null) {\n                EventHandler.add(element.querySelector('.' + cls.FILTER_COMMON_CLASS), 'click', this.updateFiltering, this);\n            }\n            if (axis === 'values' && element.querySelector('.' + cls.AXISFIELD_ICON_CLASS) !== null) {\n                EventHandler.add(element.querySelector('.' + cls.AXISFIELD_ICON_CLASS), 'click', this.createMenuOption, this);\n            }\n        }\n        EventHandler.add(element.querySelector('.' + cls.REMOVE_CLASS), 'click', this.removeButton, this);\n    };\n    PivotButton.prototype.unWireEvent = function (element, axis, isMeasureAvail) {\n        EventHandler.remove(element, 'mouseover', this.updateDropIndicator);\n        if (!isMeasureAvail) {\n            if (['filters', 'values'].indexOf(axis) === -1 && element.querySelector('.' + cls.PIVOT_BUTTON_CLASS) !== null) {\n                EventHandler.remove(element.querySelector('.' + cls.PIVOT_BUTTON_CLASS), 'click', this.updateSorting);\n            }\n            if (axis !== 'values' && element.querySelector('.' + cls.FILTER_COMMON_CLASS) !== null) {\n                EventHandler.remove(element.querySelector('.' + cls.FILTER_COMMON_CLASS), 'click', this.updateFiltering);\n            }\n            if (axis === 'values' && element.querySelector('.' + cls.AXISFIELD_ICON_CLASS) !== null) {\n                EventHandler.remove(element.querySelector('.' + cls.AXISFIELD_ICON_CLASS), 'click', this.createMenuOption);\n            }\n        }\n        EventHandler.remove(element.querySelector('.' + cls.REMOVE_CLASS), 'click', this.removeButton);\n    };\n    /**\n     * @hidden\n     */\n    PivotButton.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.renderPivotButton\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.pivotButtonUpdate, this.handlers.load, this);\n    };\n    /**\n     * @hidden\n     */\n    PivotButton.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.pivotButtonUpdate, this.handlers.load);\n    };\n    /**\n     * To destroy the pivot button event listener\n     * @return {void}\n     * @hidden\n     */\n    PivotButton.prototype.destroy = function () {\n        this.menuOption.destroy();\n        this.removeEventListener();\n    };\n    return PivotButton;\n}());\nexport { PivotButton };\n","import * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\nimport { PivotButton } from '../../common/actions/pivot-button';\n/**\n * Module to render Axis Fields\n */\n/** @hidden */\nvar AxisFieldRenderer = /** @class */ (function () {\n    /** Constructor for render module */\n    function AxisFieldRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Initialize the pivot button rendering\n     * @returns void\n     * @private\n     */\n    AxisFieldRenderer.prototype.render = function () {\n        this.pivotButton = new PivotButton(this.parent);\n        this.createPivotButtons();\n    };\n    AxisFieldRenderer.prototype.createPivotButtons = function () {\n        var rows = this.parent.dataSourceSettings.rows;\n        var columns = this.parent.dataSourceSettings.columns;\n        var values = this.parent.dataSourceSettings.values;\n        var filters = this.parent.dataSourceSettings.filters;\n        var fields = [rows, columns, values, filters];\n        var parentElement = this.parent.dialogRenderer.parentElement;\n        if (parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-filters')) {\n            parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-filters').querySelector('.' + cls.AXIS_CONTENT_CLASS).innerHTML = '';\n        }\n        if (parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-rows')) {\n            parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-rows').querySelector('.' + cls.AXIS_CONTENT_CLASS).innerHTML = '';\n        }\n        if (parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-columns')) {\n            parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-columns').querySelector('.' + cls.AXIS_CONTENT_CLASS).innerHTML = '';\n        }\n        if (parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-values')) {\n            parentElement.querySelector('.' + cls.FIELD_LIST_CLASS + '-values').querySelector('.' + cls.AXIS_CONTENT_CLASS).innerHTML = '';\n        }\n        var axis = ['rows', 'columns', 'values', 'filters'];\n        for (var len = 0, lnt = fields.length; len < lnt; len++) {\n            if (fields[len]) {\n                var args = {\n                    field: fields[len],\n                    axis: axis[len].toString()\n                };\n                this.parent.notify(events.pivotButtonUpdate, args);\n            }\n        }\n    };\n    return AxisFieldRenderer;\n}());\nexport { AxisFieldRenderer };\n","import { DialogRenderer } from '../renderer/dialog-renderer';\nimport { TreeViewRenderer } from '../renderer/tree-renderer';\nimport { AxisTableRenderer } from '../renderer/axis-table-renderer';\nimport { AxisFieldRenderer } from './axis-field-renderer';\n/**\n * Module to render Pivot Table component\n */\n/** @hidden */\nvar Render = /** @class */ (function () {\n    /** Constructor for render module */\n    function Render(parent) {\n        this.parent = parent;\n        this.parent.dialogRenderer = new DialogRenderer(this.parent);\n        this.parent.treeViewModule = new TreeViewRenderer(this.parent);\n        this.parent.axisTableModule = new AxisTableRenderer(this.parent);\n        this.parent.axisFieldModule = new AxisFieldRenderer(this.parent);\n    }\n    /**\n     * Initialize the pivot table rendering\n     * @returns void\n     * @private\n     */\n    Render.prototype.render = function () {\n        this.parent.dialogRenderer.render();\n        if (!this.parent.isAdaptive) {\n            this.parent.treeViewModule.render();\n        }\n        this.parent.axisTableModule.render();\n    };\n    return Render;\n}());\nexport { Render };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, Event, Component, Internationalization, extend, isBlazor } from '@syncfusion/ej2-base';\nimport { L10n, remove, addClass, Browser, Complex, getInstance } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, removeClass, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { PivotEngine } from '../../base/engine';\nimport * as events from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { PivotCommon } from '../../common/base/pivot-common';\nimport { Render } from '../renderer/renderer';\nimport { PivotView } from '../../pivotview/base/pivotview';\nimport { DataSourceSettings } from '../../pivotview/model/datasourcesettings';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { PivotUtil } from '../../base/util';\nimport { OlapEngine } from '../../base/olap/engine';\n/**\n * Represents the PivotFieldList component.\n * ```html\n * <div id=\"pivotfieldlist\"></div>\n * <script>\n *  var pivotfieldlistObj = new PivotFieldList({ });\n *  pivotfieldlistObj.appendTo(\"#pivotfieldlist\");\n * </script>\n * ```\n */\nvar PivotFieldList = /** @class */ (function (_super) {\n    __extends(PivotFieldList, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {PivotFieldListModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function PivotFieldList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRequiredUpdate = true;\n        /** @hidden */\n        _this.lastSortInfo = {};\n        /** @hidden */\n        _this.lastFilterInfo = {};\n        /** @hidden */\n        _this.lastAggregationInfo = {};\n        /** @hidden */\n        _this.lastCalcFieldInfo = {};\n        return _this;\n    }\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return {ModuleDeclaration[]}\n     * @hidden\n     */\n    PivotFieldList.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.allowCalculatedField) {\n            modules.push({ args: [this], member: 'calculatedfield' });\n        }\n        return modules;\n    };\n    /**\n     * For internal use only - Initialize the event handler;\n     * @private\n     */\n    PivotFieldList.prototype.preRender = function () {\n        if (this.dataSourceSettings && this.dataSourceSettings.providerType === 'SSAS') {\n            this.olapEngineModule = new OlapEngine();\n            this.dataType = 'olap';\n        }\n        else {\n            this.engineModule = new PivotEngine();\n            this.dataType = 'pivot';\n        }\n        this.isAdaptive = Browser.isDevice;\n        this.globalize = new Internationalization(this.locale);\n        this.renderModule = new Render(this);\n        this.defaultLocale = {\n            staticFieldList: 'Pivot Field List',\n            fieldList: 'Field List',\n            dropFilterPrompt: 'Drop filter here',\n            dropColPrompt: 'Drop column here',\n            dropRowPrompt: 'Drop row here',\n            dropValPrompt: 'Drop value here',\n            addPrompt: 'Add field here',\n            adaptiveFieldHeader: 'Choose field',\n            centerHeader: 'Drag fields between axes below:',\n            add: 'add',\n            drag: 'Drag',\n            filter: 'Filter',\n            filtered: 'Filtered',\n            sort: 'Sort',\n            remove: 'Remove',\n            filters: 'Filters',\n            rows: 'Rows',\n            columns: 'Columns',\n            values: 'Values',\n            CalculatedField: 'Calculated Field',\n            createCalculatedField: 'Create Calculated Field',\n            fieldName: 'Enter the field name',\n            error: 'Error',\n            invalidFormula: 'Invalid formula.',\n            dropText: 'Example: (\"Sum(Order_Count)\" + \"Sum(In_Stock)\") * 250',\n            dropTextMobile: 'Add fields and edit formula here.',\n            dropAction: 'Calculated field cannot be place in any other region except value axis.',\n            search: 'Search',\n            close: 'Close',\n            cancel: 'Cancel',\n            delete: 'Delete',\n            alert: 'Alert',\n            warning: 'Warning',\n            ok: 'OK',\n            allFields: 'All Fields',\n            formula: 'Formula',\n            fieldExist: 'A field already exists in this name. Please enter a different name.',\n            confirmText: 'A calculation field already exists in this name. Do you want to replace it?',\n            noMatches: 'No matches',\n            format: 'Summaries values by',\n            edit: 'Edit',\n            clear: 'Clear',\n            formulaField: 'Drag and drop fields to formula',\n            dragField: 'Drag field to formula',\n            clearFilter: 'Clear',\n            by: 'by',\n            enterValue: 'Enter value',\n            chooseDate: 'Enter date',\n            all: 'All',\n            multipleItems: 'Multiple items',\n            /* tslint:disable */\n            Equals: 'Equals',\n            DoesNotEquals: 'Does Not Equal',\n            BeginWith: 'Begins With',\n            DoesNotBeginWith: 'Does Not Begin With',\n            EndsWith: 'Ends With',\n            DoesNotEndsWith: 'Does Not End With',\n            Contains: 'Contains',\n            DoesNotContains: 'Does Not Contain',\n            GreaterThan: 'Greater Than',\n            GreaterThanOrEqualTo: 'Greater Than Or Equal To',\n            LessThan: 'Less Than',\n            LessThanOrEqualTo: 'Less Than Or Equal To',\n            Between: 'Between',\n            NotBetween: 'Not Between',\n            Before: 'Before',\n            BeforeOrEqualTo: 'Before Or Equal To',\n            After: 'After',\n            AfterOrEqualTo: 'After Or Equal To',\n            member: 'Member',\n            label: 'Label',\n            date: 'Date',\n            value: 'Value',\n            labelTextContent: 'Show the items for which the label',\n            dateTextContent: 'Show the items for which the date',\n            valueTextContent: 'Show the items for which',\n            And: 'and',\n            Sum: 'Sum',\n            Count: 'Count',\n            DistinctCount: 'Distinct Count',\n            Product: 'Product',\n            Avg: 'Avg',\n            Min: 'Min',\n            Max: 'Max',\n            Index: 'Index',\n            SampleStDev: 'Sample StDev',\n            PopulationStDev: 'Population StDev',\n            SampleVar: 'Sample Var',\n            PopulationVar: 'Population Var',\n            RunningTotals: 'Running Totals',\n            DifferenceFrom: 'Difference From',\n            PercentageOfDifferenceFrom: '% of Difference From',\n            PercentageOfGrandTotal: '% of Grand Total',\n            PercentageOfColumnTotal: '% of Column Total',\n            PercentageOfRowTotal: '% of Row Total',\n            PercentageOfParentTotal: '% of Parent Total',\n            PercentageOfParentColumnTotal: '% of Parent Column Total',\n            PercentageOfParentRowTotal: '% of Parent Row Total',\n            MoreOption: 'More...',\n            Years: 'Years',\n            Quarters: 'Quarters',\n            Months: 'Months',\n            Days: 'Days',\n            Hours: 'Hours',\n            Minutes: 'Minutes',\n            Seconds: 'Seconds',\n            /* tslint:enable */\n            apply: 'APPLY',\n            valueFieldSettings: 'Value field settings',\n            sourceName: 'Field name :',\n            sourceCaption: 'Field caption :',\n            summarizeValuesBy: 'Summarize values by :',\n            baseField: 'Base field :',\n            baseItem: 'Base item :',\n            example: 'e.g:',\n            editorDataLimitMsg: ' more items. Search to refine further.',\n            deferLayoutUpdate: 'Defer Layout Update',\n            null: 'null',\n            undefined: 'undefined',\n            groupOutOfRange: 'Out of Range',\n            fieldDropErrorAction: 'The field you are moving cannot be placed in that area of the report',\n            memberType: 'Field Type',\n            selectedHierarchy: 'Parent Hierarchy',\n            formatString: 'Format String',\n            expressionField: 'Expression',\n            olapDropText: 'Example: [Measures].[Order Quantity] + ([Measures].[Order Quantity] * 0.10)',\n            customFormat: 'Enter custom format string',\n            Measure: 'Measure',\n            Dimension: 'Dimension',\n            Standard: 'Standard',\n            Currency: 'Currency',\n            Percent: 'Percent',\n            Custom: 'Custom',\n            blank: '(Blank)',\n            fieldTooltip: 'Drag and drop fields to create an expression. ' +\n                'And, if you want to edit the existing the calculated fields! ' +\n                'You can achieve it by simply selecting the field under \"Calculated Members\".',\n            fieldTitle: 'Field Name',\n            QuarterYear: 'Quarter Year',\n            caption: 'Field Caption',\n            copy: 'Copy'\n        };\n        this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale);\n        this.isDragging = false;\n        this.captionData = [];\n        this.wireEvent();\n    };\n    /* tslint:disable-next-line:max-line-length */\n    PivotFieldList.prototype.frameCustomProperties = function (fieldListData, fieldList) {\n        if (this.pivotGridModule) {\n            this.pivotGridModule.updatePageSettings(false);\n        }\n        var pageSettings = this.pivotGridModule ? this.pivotGridModule.pageSettings : undefined;\n        var isDrillThrough = this.pivotGridModule ?\n            (this.pivotGridModule.allowDrillThrough || this.pivotGridModule.editSettings.allowEditing) : true;\n        var enableValueSorting = this.pivotGridModule ? this.pivotGridModule.enableValueSorting : undefined;\n        var customProperties;\n        if (this.dataType === 'olap') {\n            customProperties = {\n                mode: '',\n                savedFieldList: fieldList ? fieldList : undefined,\n                savedFieldListData: fieldListData ? fieldListData : undefined,\n                pageSettings: pageSettings,\n                enableValueSorting: enableValueSorting,\n                isDrillThrough: isDrillThrough,\n                localeObj: this.localeObj\n            };\n        }\n        else {\n            customProperties = {\n                mode: '',\n                savedFieldList: undefined,\n                pageSettings: pageSettings,\n                enableValueSorting: enableValueSorting,\n                isDrillThrough: isDrillThrough,\n                localeObj: this.localeObj\n            };\n        }\n        return customProperties;\n    };\n    /**\n     * Initialize the control rendering\n     * @returns void\n     * @private\n     */\n    PivotFieldList.prototype.render = function () {\n        var _this = this;\n        this.trigger(events.load, { dataSourceSettings: this.dataSourceSettings }, function (observedArgs) {\n            if (isBlazor()) {\n                observedArgs.dataSourceSettings.dataSource = _this.dataSourceSettings.dataSource;\n            }\n            _this.dataSourceSettings = observedArgs.dataSourceSettings;\n            addClass([_this.element], cls.ROOT);\n            if (_this.enableRtl) {\n                addClass([_this.element], cls.RTL);\n            }\n            else {\n                removeClass([_this.element], cls.RTL);\n            }\n            if (_this.isAdaptive) {\n                addClass([_this.element], cls.DEVICE);\n            }\n            else {\n                removeClass([_this.element], cls.DEVICE);\n            }\n            if (_this.cssClass) {\n                addClass([_this.element], _this.cssClass);\n            }\n            _this.notify(events.initialLoad, {});\n        });\n        if (isBlazor()) {\n            this.renderComplete();\n        }\n    };\n    /**\n     * Binding events to the Pivot Field List element.\n     * @hidden\n     */\n    PivotFieldList.prototype.wireEvent = function () {\n        this.on(events.initialLoad, this.generateData, this);\n        this.on(events.dataReady, this.fieldListRender, this);\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    PivotFieldList.prototype.unWireEvent = function () {\n        if (this.pivotGridModule && this.pivotGridModule.isDestroyed) {\n            return;\n        }\n        this.off(events.initialLoad, this.generateData);\n        this.off(events.dataReady, this.fieldListRender);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    PivotFieldList.prototype.getPersistData = function () {\n        var keyEntity = ['dataSourceSettings'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    PivotFieldList.prototype.getModuleName = function () {\n        return 'pivotfieldlist';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @hidden\n     */\n    PivotFieldList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var requireRefresh = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'locale':\n                    this.refresh();\n                    break;\n                case 'enableRtl':\n                    if (this.enableRtl) {\n                        addClass([this.element], cls.RTL);\n                    }\n                    else {\n                        removeClass([this.element], cls.RTL);\n                    }\n                    requireRefresh = true;\n                    break;\n            }\n            if (requireRefresh) {\n                this.fieldListRender();\n            }\n        }\n    };\n    /* tslint:disable */\n    PivotFieldList.prototype.initEngine = function () {\n        var _this = this;\n        this.trigger(events.enginePopulating, { dataSourceSettings: this.dataSourceSettings }, function (observedArgs) {\n            _this.dataSourceSettings = observedArgs.dataSourceSettings;\n            if (isBlazor()) {\n                _this.dataSourceSettings.dataSource = _this.engineModule.data;\n            }\n            if (_this.dataType === 'pivot') {\n                if (_this.dataSourceSettings.groupSettings && _this.dataSourceSettings.groupSettings.length > 0) {\n                    var pivotDataSet = void 0;\n                    if (isBlazor()) {\n                        pivotDataSet = _this.engineModule.data;\n                    }\n                    else {\n                        pivotDataSet = _this.dataSourceSettings.dataSource;\n                    }\n                    _this.clonedDataSet = (_this.clonedDataSet ? _this.clonedDataSet : PivotUtil.getClonedData(pivotDataSet));\n                    _this.setProperties({ dataSourceSettings: { dataSource: [] } }, true);\n                    _this.clonedReport = _this.clonedReport ? _this.clonedReport : extend({}, _this.dataSourceSettings, null, true);\n                    _this.setProperties({ dataSourceSettings: { dataSource: pivotDataSet } }, true);\n                }\n                _this.engineModule.renderEngine(_this.dataSourceSettings, _this.frameCustomProperties(), _this.getValueCellInfo.bind(_this));\n                _this.pivotFieldList = _this.engineModule.fieldList;\n                var eventArgs = {\n                    pivotFieldList: _this.pivotFieldList,\n                    pivotValues: _this.engineModule.pivotValues\n                };\n                var this$_1 = _this;\n                _this.trigger(events.enginePopulated, eventArgs, function (observedArgs) {\n                    this$_1.pivotFieldList = observedArgs.pivotFieldList;\n                    this$_1.engineModule.pivotValues = isBlazor() ? _this.engineModule.pivotValues : observedArgs.pivotValues;\n                    this$_1.notify(events.dataReady, {});\n                    this$_1.trigger(events.dataBound);\n                });\n            }\n            else if (_this.dataType === 'olap') {\n                _this.olapEngineModule.renderEngine(_this.dataSourceSettings, _this.frameCustomProperties());\n                _this.pivotFieldList = _this.olapEngineModule.fieldList;\n                var eventArgs = {\n                    pivotFieldList: _this.pivotFieldList,\n                    pivotValues: _this.olapEngineModule.pivotValues\n                };\n                var this$_2 = _this;\n                _this.trigger(events.enginePopulated, eventArgs, function (observedArgs) {\n                    this$_2.pivotFieldList = observedArgs.pivotFieldList;\n                    this$_2.olapEngineModule.pivotValues = isBlazor() ? _this.engineModule.pivotValues : observedArgs.pivotValues;\n                    this$_2.notify(events.dataReady, {});\n                    this$_2.trigger(events.dataBound);\n                });\n            }\n        });\n    };\n    /* tslint:enable */\n    /* tslint:enable */\n    PivotFieldList.prototype.generateData = function () {\n        this.pivotFieldList = {};\n        if (this.dataSourceSettings && (this.dataSourceSettings.dataSource || this.dataSourceSettings.url)) {\n            if ((this.dataSourceSettings.url !== '' && this.dataType === 'olap') ||\n                this.dataSourceSettings.dataSource.length > 0) {\n                if (this.dataType === 'pivot') {\n                    this.engineModule.data = this.dataSourceSettings.dataSource;\n                }\n                this.initEngine();\n            }\n            else if (this.dataSourceSettings.dataSource instanceof DataManager) {\n                setTimeout(this.getData.bind(this), 100);\n            }\n        }\n        else {\n            this.notify(events.dataReady, {});\n            this.trigger(events.dataBound);\n        }\n    };\n    PivotFieldList.prototype.getValueCellInfo = function (aggregateObj) {\n        var args = aggregateObj;\n        this.trigger(events.aggregateCellInfo, args);\n        return args;\n    };\n    PivotFieldList.prototype.getData = function () {\n        this.dataSourceSettings.dataSource.executeQuery(new Query()).then(this.executeQuery.bind(this));\n    };\n    PivotFieldList.prototype.executeQuery = function (e) {\n        this.engineModule.data = e.result;\n        this.initEngine();\n    };\n    PivotFieldList.prototype.fieldListRender = function () {\n        this.element.innerHTML = '';\n        if (this.renderMode === 'Popup' && this.dialogRenderer.fieldListDialog && !this.dialogRenderer.fieldListDialog.isDestroyed) {\n            this.dialogRenderer.fieldListDialog.destroy();\n            remove(document.getElementById(this.element.id + '_Wrapper'));\n        }\n        this.renderModule.render();\n        this.fieldListSpinnerElement = this.renderMode === 'Popup' ?\n            this.dialogRenderer.fieldListDialog.element : this.element.querySelector('.e-pivotfieldlist-wrapper');\n        if (this.spinnerTemplate) {\n            createSpinner({ target: this.fieldListSpinnerElement, template: this.spinnerTemplate }, this.createElement);\n        }\n        else {\n            createSpinner({ target: this.fieldListSpinnerElement }, this.createElement);\n        }\n        var args;\n        args = {\n            pivotEngine: this.dataType === 'olap' ? this.olapEngineModule : this.engineModule,\n            dataSourceSettings: this.dataSourceSettings,\n            id: this.element.id,\n            element: document.getElementById(this.element.id + '_Wrapper'),\n            moduleName: this.getModuleName(),\n            enableRtl: this.enableRtl,\n            isAdaptive: this.isAdaptive,\n            renderMode: this.renderMode,\n            localeObj: this.localeObj,\n            dataType: this.dataType\n        };\n        this.pivotCommon = new PivotCommon(args);\n        this.pivotCommon.control = this;\n        if (this.allowDeferLayoutUpdate) {\n            this.clonedDataSource = extend({}, this.dataSourceSettings, null, true);\n            this.clonedFieldList = extend({}, this.pivotFieldList, null, true);\n        }\n    };\n    PivotFieldList.prototype.getFieldCaption = function (dataSourceSettings) {\n        this.getFields(dataSourceSettings);\n        if (this.captionData.length > 0) {\n            var lnt = this.captionData.length;\n            var engineModule = this.dataType === 'olap' ? this.olapEngineModule : this.engineModule;\n            while (lnt--) {\n                if (this.captionData[lnt]) {\n                    for (var _i = 0, _a = this.captionData[lnt]; _i < _a.length; _i++) {\n                        var obj = _a[_i];\n                        if (obj) {\n                            if (engineModule.fieldList[obj.name]) {\n                                if (obj.caption) {\n                                    engineModule.fieldList[obj.name].caption = obj.caption;\n                                }\n                                else {\n                                    engineModule.fieldList[obj.name].caption = obj.name;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    PivotFieldList.prototype.getFields = function (dataSourceSettings) {\n        /* tslint:disable-next-line:max-line-length */\n        this.captionData = [dataSourceSettings.rows, dataSourceSettings.columns, dataSourceSettings.values, dataSourceSettings.filters];\n    };\n    /* tslint:disable */\n    /**\n     * Updates the PivotEngine using dataSource from Pivot Field List component.\n     * @method updateDataSource\n     * @return {void}\n     * @hidden\n     */\n    PivotFieldList.prototype.updateDataSource = function (isTreeViewRefresh, isEngineRefresh) {\n        if (this.pivotGridModule) {\n            showSpinner(this.pivotGridModule.element);\n        }\n        showSpinner(this.fieldListSpinnerElement);\n        var pivot = this;\n        //setTimeout(() => {\n        var isOlapDataRefreshed = false;\n        if (isNullOrUndefined(isEngineRefresh)) {\n            var pageSettings = pivot.pivotGridModule ? pivot.pivotGridModule.pageSettings : undefined;\n            var isCalcChange = Object.keys(pivot.lastCalcFieldInfo).length > 0 ? true : false;\n            var isSorted = void 0;\n            if (pivot.dataType === 'pivot') {\n                var customProperties = pivot.frameCustomProperties();\n                customProperties.savedFieldList = pivot.pivotFieldList;\n                var lastSortInfo = pivot.pivotGridModule ? pivot.pivotGridModule.lastSortInfo : pivot.lastSortInfo;\n                if (pivot.pivotGridModule) {\n                    pivot.pivotGridModule.lastSortInfo = {};\n                }\n                pivot.lastSortInfo = {};\n                var isAggChange = Object.keys(pivot.lastAggregationInfo).length > 0 ? true : false;\n                isSorted = Object.keys(lastSortInfo).length > 0 ? true : false;\n                var isFiltered = Object.keys(pivot.lastFilterInfo).length > 0 ? true : false;\n                if (pageSettings && (isSorted || isFiltered || isAggChange || isCalcChange)) {\n                    if (isSorted) {\n                        pivot.pivotGridModule.setProperties({ dataSourceSettings: { valueSortSettings: { headerText: '' } } }, true);\n                        pivot.engineModule.onSort(lastSortInfo);\n                    }\n                    if (isFiltered) {\n                        pivot.engineModule.onFilter(pivot.lastFilterInfo, pivot.dataSourceSettings);\n                        pivot.lastFilterInfo = {};\n                    }\n                    if (isAggChange) {\n                        pivot.engineModule.onAggregation(pivot.lastAggregationInfo);\n                        pivot.lastAggregationInfo = {};\n                    }\n                    if (isCalcChange) {\n                        pivot.engineModule.onCalcOperation(pivot.lastCalcFieldInfo);\n                        pivot.lastCalcFieldInfo = {};\n                    }\n                }\n                else {\n                    /* tslint:disable-next-line:max-line-length */\n                    pivot.engineModule.renderEngine(pivot.dataSourceSettings, customProperties, pivot.getValueCellInfo.bind(pivot));\n                }\n            }\n            else {\n                isOlapDataRefreshed = pivot.updateOlapDataSource(isSorted, isCalcChange, isOlapDataRefreshed);\n            }\n            pivot.getFieldCaption(pivot.dataSourceSettings);\n        }\n        else {\n            pivot.axisFieldModule.render();\n            pivot.isRequiredUpdate = false;\n        }\n        var eventArgs = {\n            dataSourceSettings: pivot.dataSourceSettings,\n            pivotFieldList: pivot.dataType === 'pivot' ? pivot.engineModule.fieldList : pivot.olapEngineModule.fieldList,\n            pivotValues: pivot.dataType === 'pivot' ? pivot.engineModule.pivotValues : pivot.olapEngineModule.pivotValues\n        };\n        pivot.trigger(events.enginePopulated, eventArgs, function (observedArgs) {\n            pivot.dataSourceSettings = observedArgs.dataSourceSettings;\n            pivot.pivotCommon.dataSourceSettings = pivot.dataSourceSettings;\n            pivot.pivotFieldList = observedArgs.pivotFieldList;\n            if (pivot.dataType === 'olap') {\n                pivot.olapEngineModule.pivotValues = isBlazor() ? pivot.olapEngineModule.pivotValues : observedArgs.pivotValues;\n                pivot.pivotCommon.engineModule = pivot.olapEngineModule;\n            }\n            else {\n                pivot.engineModule.pivotValues = isBlazor() ? pivot.engineModule.pivotValues : observedArgs.pivotValues;\n                pivot.pivotCommon.engineModule = pivot.engineModule;\n            }\n            if (!isTreeViewRefresh && pivot.treeViewModule.fieldTable && !pivot.isAdaptive) {\n                pivot.notify(events.treeViewUpdate, {});\n            }\n            if (pivot.isRequiredUpdate) {\n                if (pivot.allowDeferLayoutUpdate) {\n                    pivot.clonedDataSource = extend({}, pivot.dataSourceSettings, null, true);\n                    pivot.clonedFieldList = extend({}, pivot.pivotFieldList, null, true);\n                }\n                pivot.updateView(pivot.pivotGridModule);\n            }\n            else if (pivot.renderMode === 'Popup' && pivot.allowDeferLayoutUpdate) {\n                pivot.pivotGridModule.engineModule = pivot.engineModule;\n                /* tslint:disable:align */\n                pivot.pivotGridModule.setProperties({\n                    dataSourceSettings: pivot.dataSourceSettings.properties\n                }, true);\n                pivot.pivotGridModule.notify(events.uiUpdate, pivot);\n                hideSpinner(pivot.fieldListSpinnerElement);\n            }\n            pivot.isRequiredUpdate = true;\n            if (!pivot.pivotGridModule || isOlapDataRefreshed) {\n                hideSpinner(pivot.fieldListSpinnerElement);\n            }\n            else {\n                pivot.pivotGridModule.fieldListSpinnerElement = pivot.fieldListSpinnerElement;\n            }\n        });\n        //});\n    };\n    /* tslint:enable */\n    PivotFieldList.prototype.updateOlapDataSource = function (isSorted, isCalcChange, isOlapDataRefreshed) {\n        var customProperties = this.frameCustomProperties(this.olapEngineModule.fieldListData, this.olapEngineModule.fieldList);\n        customProperties.savedFieldList = this.pivotFieldList;\n        isSorted = Object.keys(this.lastSortInfo).length > 0 ? true : false;\n        if (isCalcChange || isSorted) {\n            this.olapEngineModule.savedFieldList = this.pivotFieldList;\n            this.olapEngineModule.savedFieldListData = this.olapEngineModule.fieldListData;\n            if (isCalcChange) {\n                this.olapEngineModule.updateCalcFields(this.dataSourceSettings, this.lastCalcFieldInfo);\n                this.lastCalcFieldInfo = {};\n                isOlapDataRefreshed = this.olapEngineModule.dataFields[this.lastCalcFieldInfo.name] ? false : true;\n                if (this.pivotGridModule && this.isAdaptive) {\n                    hideSpinner(this.pivotGridModule.element);\n                }\n            }\n            else {\n                this.olapEngineModule.onSort(this.dataSourceSettings);\n                this.lastSortInfo = {};\n            }\n        }\n        else {\n            this.olapEngineModule.renderEngine(this.dataSourceSettings, customProperties);\n        }\n        return isOlapDataRefreshed;\n    };\n    /**\n     * Updates the Pivot Field List component using dataSource from PivotView component.\n     * @method updateControl\n     * @return {void}\n     */\n    PivotFieldList.prototype.update = function (control) {\n        if (isBlazor() && control !== undefined) {\n            /* tslint:disable */\n            var pivotId = control.ID;\n            var pivotInstance = getInstance('#' + pivotId, PivotView);\n            control = pivotInstance;\n            /* tslint:enable */\n        }\n        if (control) {\n            this.clonedDataSet = control.clonedDataSet;\n            this.setProperties({ dataSourceSettings: control.dataSourceSettings }, true);\n            this.engineModule = control.engineModule;\n            this.olapEngineModule = control.olapEngineModule;\n            this.dataType = control.dataType;\n            this.pivotFieldList = this.dataType === 'olap' ? control.olapEngineModule.fieldList : control.engineModule.fieldList;\n            if (this.renderMode === 'Popup') {\n                this.pivotGridModule = control;\n            }\n            this.getFieldCaption(control.dataSourceSettings);\n            this.pivotCommon.engineModule = this.dataType === 'olap' ? this.olapEngineModule : this.engineModule;\n            this.pivotCommon.dataSourceSettings = this.dataSourceSettings;\n            this.pivotCommon.control = this;\n            if (this.treeViewModule.fieldTable && !this.isAdaptive) {\n                this.notify(events.treeViewUpdate, {});\n            }\n            this.axisFieldModule.render();\n            if (this.renderMode === 'Fixed' && this.allowDeferLayoutUpdate) {\n                this.clonedDataSource = extend({}, this.dataSourceSettings, null, true);\n                this.clonedFieldList = extend({}, this.pivotFieldList, null, true);\n            }\n        }\n    };\n    /**\n     * Updates the PivotView component using dataSource from Pivot Field List component.\n     * @method refreshTargetControl\n     * @return {void}\n     */\n    PivotFieldList.prototype.updateView = function (control) {\n        if (isBlazor() && control !== undefined) {\n            /* tslint:disable */\n            var pivotId = control.ID;\n            var pivotInstance = getInstance('#' + pivotId, PivotView);\n            control = pivotInstance;\n            /* tslint:enable */\n        }\n        if (control) {\n            control.clonedDataSet = this.clonedDataSet;\n            control.setProperties({ dataSourceSettings: this.dataSourceSettings }, true);\n            control.engineModule = this.engineModule;\n            control.olapEngineModule = this.olapEngineModule;\n            control.dataType = this.dataType;\n            control.pivotValues = this.dataType === 'olap' ? this.olapEngineModule.pivotValues : this.engineModule.pivotValues;\n            var eventArgs = {\n                dataSourceSettings: control.dataSourceSettings,\n                pivotValues: control.pivotValues\n            };\n            control.trigger(events.fieldListRefreshed, eventArgs);\n            control.dataBind();\n        }\n    };\n    /**\n     * Called internally to trigger populate event.\n     * @hidden\n     */\n    PivotFieldList.prototype.triggerPopulateEvent = function () {\n        var _this = this;\n        var eventArgs = {\n            dataSourceSettings: this.dataSourceSettings,\n            pivotFieldList: this.dataType === 'olap' ? this.olapEngineModule.fieldList : this.engineModule.fieldList,\n            pivotValues: this.dataType === 'olap' ? this.olapEngineModule.pivotValues : this.engineModule.pivotValues\n        };\n        this.trigger(events.enginePopulated, eventArgs, function (observedArgs) {\n            _this.dataSourceSettings = observedArgs.dataSourceSettings;\n            _this.pivotFieldList = observedArgs.pivotFieldList;\n            if (_this.dataType === 'olap') {\n                _this.olapEngineModule.pivotValues = isBlazor() ? _this.olapEngineModule.pivotValues : observedArgs.pivotValues;\n            }\n            else {\n                _this.engineModule.pivotValues = isBlazor() ? _this.engineModule.pivotValues : observedArgs.pivotValues;\n            }\n        });\n    };\n    /**\n     * Destroys the Field Table component.\n     * @method destroy\n     * @return {void}\n     */\n    PivotFieldList.prototype.destroy = function () {\n        this.unWireEvent();\n        if (this.treeViewModule) {\n            this.treeViewModule.destroy();\n        }\n        if (this.pivotButtonModule) {\n            this.pivotButtonModule.destroy();\n        }\n        if (this.allowDeferLayoutUpdate && this.dialogRenderer &&\n            this.dialogRenderer.deferUpdateCheckBox && !this.dialogRenderer.deferUpdateCheckBox.isDestroyed) {\n            this.dialogRenderer.deferUpdateCheckBox.destroy();\n        }\n        _super.prototype.destroy.call(this);\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.ROOT);\n        removeClass([this.element], cls.RTL);\n        removeClass([this.element], cls.DEVICE);\n        if (this.renderMode === 'Popup') {\n            if (this.dialogRenderer.fieldListDialog && !this.dialogRenderer.fieldListDialog.isDestroyed) {\n                this.dialogRenderer.fieldListDialog.destroy();\n            }\n            if (document.getElementById(this.element.id + '_Wrapper')) {\n                remove(document.getElementById(this.element.id + '_Wrapper'));\n            }\n        }\n    };\n    __decorate([\n        Complex({}, DataSourceSettings)\n    ], PivotFieldList.prototype, \"dataSourceSettings\", void 0);\n    __decorate([\n        Property('Popup')\n    ], PivotFieldList.prototype, \"renderMode\", void 0);\n    __decorate([\n        Property()\n    ], PivotFieldList.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], PivotFieldList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotFieldList.prototype, \"allowCalculatedField\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotFieldList.prototype, \"showValuesButton\", void 0);\n    __decorate([\n        Property(false)\n    ], PivotFieldList.prototype, \"allowDeferLayoutUpdate\", void 0);\n    __decorate([\n        Property(1000)\n    ], PivotFieldList.prototype, \"maxNodeLimitInMemberEditor\", void 0);\n    __decorate([\n        Property(true)\n    ], PivotFieldList.prototype, \"loadOnDemandInMemberEditor\", void 0);\n    __decorate([\n        Property()\n    ], PivotFieldList.prototype, \"spinnerTemplate\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"enginePopulating\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"enginePopulated\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"onFieldDropped\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"aggregateCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], PivotFieldList.prototype, \"destroyed\", void 0);\n    PivotFieldList = __decorate([\n        NotifyPropertyChanges\n    ], PivotFieldList);\n    return PivotFieldList;\n}(Component));\nexport { PivotFieldList };\n","import { Dialog, Tooltip } from '@syncfusion/ej2-popups';\nimport { Droppable, createElement, extend, remove, addClass, closest, getInstance } from '@syncfusion/ej2-base';\nimport { prepend, append, KeyboardEvents, removeClass } from '@syncfusion/ej2-base';\nimport { Button, RadioButton, CheckBox } from '@syncfusion/ej2-buttons';\nimport { MaskedTextBox } from '@syncfusion/ej2-inputs';\nimport * as cls from '../../common/base/css-constant';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../../common/base/constant';\nimport { Accordion } from '@syncfusion/ej2-navigations';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { PivotUtil } from '../../base/util';\n/**\n * Module to render Calculated Field Dialog\n */\nvar COUNT = 'Count';\nvar AVG = 'Avg';\nvar MIN = 'Min';\nvar MAX = 'Max';\nvar SUM = 'Sum';\nvar DISTINCTCOUNT = 'DistinctCount';\nvar PRODUCT = 'Product';\nvar STDEV = 'SampleStDev';\nvar STDEVP = 'PopulationStDev';\nvar VAR = 'SampleVar';\nvar VARP = 'PopulationVar';\nvar CALC = 'CalculatedField';\nvar AGRTYPE = 'AggregateType';\n/** @hidden */\nvar CalculatedField = /** @class */ (function () {\n    /** Constructor for calculatedfield module */\n    function CalculatedField(parent) {\n        /** @hidden */\n        this.isFormula = false;\n        this.parent = parent;\n        this.existingReport = null;\n        this.parent.calculatedFieldModule = this;\n        this.removeEventListener();\n        this.addEventListener();\n        this.parentID = this.parent.element.id;\n        this.dialog = null;\n        this.inputObj = null;\n        this.treeObj = null;\n        this.droppable = null;\n        this.menuObj = null;\n        this.newFields = null;\n        this.isFieldExist = true;\n        this.formulaText = null;\n        this.fieldText = null;\n        this.isEdit = false;\n        this.currentFieldName = null;\n        this.confirmPopUp = null;\n    }\n    /**\n     * To get module name.\n     * @returns string\n     */\n    CalculatedField.prototype.getModuleName = function () {\n        return 'calculatedfield';\n    };\n    CalculatedField.prototype.keyActionHandler = function (e) {\n        var node = e.currentTarget.querySelector('.e-hover.e-node-focus');\n        if (node) {\n            switch (e.action) {\n                case 'moveRight':\n                    if (this.parent.dataType === 'pivot') {\n                        this.displayMenu(node.previousSibling);\n                    }\n                    break;\n                case 'enter':\n                    var field = node.getAttribute('data-field');\n                    var type = node.getAttribute('data-type');\n                    var dropField = this.dialog.element.querySelector('#' + this.parentID + 'droppable');\n                    if (this.parent.dataType === 'pivot') {\n                        if (dropField.value === '') {\n                            if (type === CALC) {\n                                dropField.value = node.getAttribute('data-uid');\n                            }\n                            else {\n                                dropField.value = '\"' + type + '(' + field + ')' + '\"';\n                            }\n                        }\n                        else if (dropField.value !== '') {\n                            if (type === CALC) {\n                                dropField.value = dropField.value + node.getAttribute('data-uid');\n                            }\n                            else {\n                                dropField.value = dropField.value + '\"' + type + '(' + field + ')' + '\"';\n                            }\n                        }\n                    }\n                    else {\n                        if (this.parent.olapEngineModule && this.parent.olapEngineModule.fieldList[field] &&\n                            this.parent.olapEngineModule.fieldList[field].isCalculatedField) {\n                            field = this.parent.olapEngineModule.fieldList[field].tag;\n                        }\n                        if (dropField.value === '') {\n                            dropField.value = field;\n                        }\n                        else if (dropField.value !== '') {\n                            dropField.value = dropField.value + field;\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Trigger while click treeview icon.\n     * @param  {MouseEvent} e\n     * @returns void\n     */\n    CalculatedField.prototype.fieldClickHandler = function (e) {\n        var node = e.event.target.parentElement;\n        if (e.event.target.classList.contains(cls.FORMAT) ||\n            e.event.target.classList.contains(cls.CALC_EDIT) ||\n            e.event.target.classList.contains(cls.CALC_EDITED)) {\n            this.displayMenu(node.parentElement);\n        }\n    };\n    CalculatedField.prototype.clearFormula = function () {\n        if (this.treeObj && this.treeObj.element.querySelector('li')) {\n            removeClass(this.treeObj.element.querySelectorAll('li'), 'e-active');\n            this.displayMenu(this.treeObj.element.querySelector('li'));\n        }\n    };\n    /**\n     * To display context menu.\n     * @param  {HTMLElement} node\n     * @returns void\n     */\n    CalculatedField.prototype.displayMenu = function (node) {\n        if (this.parent.dataType === 'pivot' && document.querySelector('.' + this.parentID + 'calculatedmenu') !== null &&\n            node.querySelector('.e-list-icon').classList.contains(cls.ICON) &&\n            !node.querySelector('.e-list-icon').classList.contains(cls.CALC_EDITED) &&\n            !node.querySelector('.e-list-icon').classList.contains(cls.CALC_EDIT) && node.tagName === 'LI') {\n            this.menuObj.close();\n            this.curMenu = node.querySelector('.' + cls.LIST_TEXT_CLASS);\n            this.openContextMenu();\n        }\n        else if (node.tagName === 'LI' && (node.querySelector('.e-list-icon').classList.contains(cls.CALC_EDIT) ||\n            (this.parent.dataType === 'olap' && node.getAttribute('data-type') === CALC && node.classList.contains('e-active')))) {\n            this.isEdit = true;\n            var fieldName = node.getAttribute('data-field');\n            var caption = node.getAttribute('data-caption');\n            this.currentFieldName = fieldName;\n            this.inputObj.value = caption;\n            this.inputObj.dataBind();\n            if (this.parent.dataType === 'olap') {\n                var memberType = node.getAttribute('data-membertype');\n                var parentHierarchy = node.getAttribute('data-hierarchy');\n                var expression = node.getAttribute('data-formula');\n                var formatString = node.getAttribute('data-formatString');\n                var customString = node.getAttribute('data-customString');\n                var dialogElement = this.dialog.element;\n                /* tslint:disable */\n                var fieldTitle = dialogElement.querySelector('#' + this.parentID + '_' + 'FieldNameTitle');\n                var customFormat = getInstance(dialogElement.querySelector('#' + this.parentID + 'Custom_Format_Element'), MaskedTextBox);\n                var memberTypeDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Member_Type_Div'), DropDownList);\n                var hierarchyDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Hierarchy_List_Div'), DropDownList);\n                var formatDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Format_Div'), DropDownList);\n                /* tslint:enable */\n                fieldTitle.innerHTML = this.parent.localeObj.getConstant('caption');\n                document.querySelector('#' + this.parentID + 'droppable').value = expression;\n                memberTypeDrop.readonly = true;\n                memberTypeDrop.value = memberType;\n                memberTypeDrop.dataBind();\n                if (memberType === 'Dimension') {\n                    hierarchyDrop.value = parentHierarchy;\n                }\n                if (formatString !== '') {\n                    formatDrop.value = formatString;\n                    formatDrop.dataBind();\n                }\n                customFormat.value = customString;\n                customFormat.dataBind();\n            }\n            else {\n                addClass([node.querySelector('.e-list-icon')], cls.CALC_EDITED);\n                removeClass([node.querySelector('.e-list-icon')], cls.CALC_EDIT);\n                node.querySelector('.' + cls.CALC_EDITED).setAttribute('title', this.parent.localeObj.getConstant('clear'));\n                document.querySelector('#' + this.parentID + 'droppable').value = node.getAttribute('data-uid');\n            }\n        }\n        else if (node.tagName === 'LI' && (node.querySelector('.e-list-icon').classList.contains(cls.CALC_EDITED) ||\n            (this.parent.dataType === 'olap' && !node.classList.contains('e-active')))) {\n            this.isEdit = false;\n            this.inputObj.value = '';\n            this.inputObj.dataBind();\n            if (this.parent.dataType === 'olap') {\n                var dialogElement = this.dialog.element;\n                /* tslint:disable */\n                var hierarchyDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Hierarchy_List_Div'), DropDownList);\n                var formatDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Format_Div'), DropDownList);\n                var customFormat = getInstance(dialogElement.querySelector('#' + this.parentID + 'Custom_Format_Element'), MaskedTextBox);\n                var memberTypeDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Member_Type_Div'), DropDownList);\n                var fieldTitle = dialogElement.querySelector('#' + this.parentID + '_' + 'FieldNameTitle');\n                /* tslint:enable */\n                fieldTitle.innerHTML = this.parent.localeObj.getConstant('fieldTitle');\n                hierarchyDrop.index = 0;\n                hierarchyDrop.dataBind();\n                formatDrop.index = 0;\n                formatDrop.dataBind();\n                customFormat.value = '';\n                customFormat.dataBind();\n                memberTypeDrop.index = 0;\n                memberTypeDrop.readonly = false;\n                memberTypeDrop.dataBind();\n            }\n            else {\n                addClass([node.querySelector('.e-list-icon')], cls.CALC_EDIT);\n                removeClass([node.querySelector('.e-list-icon')], cls.CALC_EDITED);\n                node.querySelector('.' + cls.CALC_EDIT).setAttribute('title', this.parent.localeObj.getConstant('edit'));\n            }\n            document.querySelector('#' + this.parentID + 'droppable').value = '';\n        }\n    };\n    /**\n     * To set position for context menu.\n     * @returns void\n     */\n    CalculatedField.prototype.openContextMenu = function () {\n        var pos = this.curMenu.getBoundingClientRect();\n        if (this.parent.enableRtl) {\n            this.menuObj.open(pos.top + 30, pos.left - 100);\n        }\n        else {\n            this.menuObj.open(pos.top + 30, pos.left + 150);\n        }\n    };\n    /**\n     * Triggers while select menu.\n     * @param  {MenuEventArgs} menu\n     * @returns void\n     */\n    CalculatedField.prototype.selectContextMenu = function (menu) {\n        if (menu.element.textContent !== null) {\n            var field = closest(this.curMenu, '.e-list-item').getAttribute('data-caption');\n            closest(this.curMenu, '.e-list-item').setAttribute('data-type', menu.element.id);\n            this.curMenu.textContent = field + ' (' + menu.element.id.split(this.parent.element.id + '_')[1] + ')';\n            addClass([this.curMenu.parentElement.parentElement], ['e-node-focus', 'e-hover']);\n            this.curMenu.parentElement.parentElement.setAttribute('tabindex', '-1');\n            this.curMenu.parentElement.parentElement.focus();\n        }\n    };\n    /**\n     * To create context menu.\n     * @returns void\n     */\n    CalculatedField.prototype.createMenu = function () {\n        var menuItems = [\n            { id: this.parent.element.id + '_Sum', text: this.parent.localeObj.getConstant('Sum') },\n            { id: this.parent.element.id + '_Count', text: this.parent.localeObj.getConstant('Count') },\n            { id: this.parent.element.id + '_DistinctCount', text: this.parent.localeObj.getConstant('DistinctCount') },\n            { id: this.parent.element.id + '_Avg', text: this.parent.localeObj.getConstant('Avg') },\n            { id: this.parent.element.id + '_Min', text: this.parent.localeObj.getConstant('Min') },\n            { id: this.parent.element.id + '_Max', text: this.parent.localeObj.getConstant('Max') },\n            { id: this.parent.element.id + '_Product', text: this.parent.localeObj.getConstant('Product') },\n            { id: this.parent.element.id + '_SampleStDev', text: this.parent.localeObj.getConstant('SampleStDev') },\n            { id: this.parent.element.id + '_SampleVar', text: this.parent.localeObj.getConstant('SampleVar') },\n            { id: this.parent.element.id + '_PopulationStDev', text: this.parent.localeObj.getConstant('PopulationStDev') },\n            { id: this.parent.element.id + '_PopulationVar', text: this.parent.localeObj.getConstant('PopulationVar') }\n        ];\n        var menuOptions = {\n            cssClass: this.parentID + 'calculatedmenu',\n            items: menuItems,\n            enableRtl: this.parent.enableRtl,\n            beforeOpen: this.beforeMenuOpen.bind(this),\n            select: this.selectContextMenu.bind(this)\n        };\n        var contextMenu = createElement('ul', {\n            id: this.parentID + 'contextmenu'\n        });\n        this.parent.element.appendChild(contextMenu);\n        this.menuObj = new Menu(menuOptions);\n        this.menuObj.isStringTemplate = true;\n        this.menuObj.appendTo(contextMenu);\n    };\n    /* tslint:disable */\n    /**\n     * Triggers while click OK button.\n     * @returns void\n     */\n    CalculatedField.prototype.applyFormula = function () {\n        var currentObj = this;\n        var isExist = false;\n        removeClass([document.getElementById(this.parentID + 'ddlelement')], cls.EMPTY_FIELD);\n        if (currentObj.parent.dataType === 'olap') {\n            var field = currentObj.inputObj.value;\n            if (currentObj.parent.olapEngineModule.fieldList[field] &&\n                currentObj.parent.olapEngineModule.fieldList[field].type !== 'CalculatedField') {\n                isExist = true;\n            }\n        }\n        else {\n            Object.keys(currentObj.parent.engineModule.fieldList).forEach(function (key, index) {\n                if (currentObj.inputObj.value && currentObj.inputObj.value === key &&\n                    currentObj.parent.engineModule.fieldList[key].aggregateType !== 'CalculatedField') {\n                    isExist = true;\n                }\n            });\n        }\n        if (isExist) {\n            currentObj.parent.pivotCommon.errorDialog.createErrorDialog(currentObj.parent.localeObj.getConstant('error'), currentObj.parent.localeObj.getConstant('fieldExist'));\n            return;\n        }\n        this.newFields =\n            extend([], this.parent.dataSourceSettings.calculatedFieldSettings, null, true);\n        this.existingReport = extend({}, this.parent.dataSourceSettings, null, true);\n        var report = this.parent.dataSourceSettings;\n        var dropField = document.querySelector('#' + this.parentID + 'droppable');\n        if (this.inputObj.value !== null && this.inputObj.value !== '' && dropField.value !== '') {\n            var field = void 0;\n            if (this.parent.dataType === 'olap') {\n                var dialogElement = this.parent.isAdaptive ? this.parent.dialogRenderer.adaptiveElement.element : this.dialog.element;\n                var memberTypeDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Member_Type_Div'), DropDownList);\n                var customFormat = getInstance(dialogElement.querySelector('#' + this.parentID + 'Custom_Format_Element'), MaskedTextBox);\n                var hierarchyDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Hierarchy_List_Div'), DropDownList);\n                var formatDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Format_Div'), DropDownList);\n                field = {\n                    name: this.inputObj.value,\n                    formula: dropField.value,\n                    formatString: (formatDrop.value === 'Custom' ? customFormat.value : formatDrop.value)\n                };\n                if (memberTypeDrop.value === 'Dimension') {\n                    field.hierarchyUniqueName = hierarchyDrop.value;\n                }\n                this.isFieldExist = false;\n                if (!this.isEdit) {\n                    for (var i = 0; i < report.calculatedFieldSettings.length; i++) {\n                        if (report.calculatedFieldSettings[i].name === field.name) {\n                            this.createConfirmDialog(currentObj.parent.localeObj.getConstant('alert'), currentObj.parent.localeObj.getConstant('confirmText'));\n                            return;\n                        }\n                    }\n                }\n                else {\n                    for (var i = 0; i < report.calculatedFieldSettings.length; i++) {\n                        if (report.calculatedFieldSettings[i].name === this.currentFieldName && this.isEdit) {\n                            if (memberTypeDrop.value === 'Dimension') {\n                                report.calculatedFieldSettings[i].hierarchyUniqueName = field.hierarchyUniqueName;\n                            }\n                            this.parent.olapEngineModule.fieldList[this.currentFieldName].caption = this.inputObj.value;\n                            report.calculatedFieldSettings[i].formatString = field.formatString;\n                            report.calculatedFieldSettings[i].formula = field.formula;\n                            field = report.calculatedFieldSettings[i];\n                            this.isFieldExist = true;\n                            break;\n                        }\n                    }\n                    var axisFields = [report.rows, report.columns, report.values, report.filters];\n                    var isFieldExist = false;\n                    for (var _i = 0, axisFields_1 = axisFields; _i < axisFields_1.length; _i++) {\n                        var fields = axisFields_1[_i];\n                        for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\n                            var item = fields_1[_a];\n                            if (item.isCalculatedField && this.currentFieldName !== null &&\n                                item.name === this.currentFieldName && this.isEdit) {\n                                item.caption = this.inputObj.value;\n                                this.isFieldExist = true;\n                                isFieldExist = true;\n                                break;\n                            }\n                        }\n                        if (isFieldExist) {\n                            break;\n                        }\n                    }\n                }\n                if (!this.isFieldExist) {\n                    report.calculatedFieldSettings.push(field);\n                }\n                this.parent.lastCalcFieldInfo = field;\n            }\n            else {\n                field = {\n                    name: this.inputObj.value,\n                    type: 'CalculatedField'\n                };\n                var cField = {\n                    name: this.inputObj.value,\n                    formula: dropField.value\n                };\n                this.isFieldExist = true;\n                if (!this.isEdit) {\n                    for (var i = 0; i < report.values.length; i++) {\n                        if (report.values[i].type === CALC && report.values[i].name === field.name) {\n                            for (var j = 0; j < report.calculatedFieldSettings.length; j++) {\n                                if (report.calculatedFieldSettings[j].name === field.name) {\n                                    this.createConfirmDialog(currentObj.parent.localeObj.getConstant('alert'), currentObj.parent.localeObj.getConstant('confirmText'));\n                                    return;\n                                }\n                            }\n                            this.isFieldExist = false;\n                        }\n                    }\n                }\n                else {\n                    for (var i = 0; i < report.values.length; i++) {\n                        if (report.values[i].type === CALC && this.currentFieldName !== null &&\n                            report.values[i].name === this.currentFieldName && this.isEdit) {\n                            for (var j = 0; j < report.calculatedFieldSettings.length; j++) {\n                                if (report.calculatedFieldSettings[j].name === this.currentFieldName) {\n                                    report.values[i].caption = this.inputObj.value;\n                                    report.calculatedFieldSettings[j].formula = dropField.value;\n                                    this.parent.engineModule.fieldList[this.currentFieldName].caption = this.inputObj.value;\n                                    this.isFieldExist = false;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (this.isFieldExist) {\n                    report.values.push(field);\n                    report.calculatedFieldSettings.push(cField);\n                }\n                this.parent.lastCalcFieldInfo = cField;\n            }\n            this.addFormula(report, field.name);\n        }\n        else {\n            if (this.inputObj.value === null || this.inputObj.value === '') {\n                addClass([document.getElementById(this.parentID + 'ddlelement')], cls.EMPTY_FIELD);\n                document.getElementById(this.parentID + 'ddlelement').focus();\n            }\n            else {\n                this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('invalidFormula'));\n            }\n        }\n    };\n    /* tslint:enable */\n    CalculatedField.prototype.addFormula = function (report, field) {\n        this.isFormula = true;\n        this.field = field;\n        this.parent.setProperties({ dataSourceSettings: report }, true);\n        if (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.allowDeferLayoutUpdate) {\n            this.parent.isRequiredUpdate = false;\n        }\n        try {\n            this.parent.updateDataSource(false);\n            var thisObj = this;\n            //setTimeout(() => {\n            thisObj.isEdit = false;\n            if (thisObj.dialog) {\n                thisObj.dialog.close();\n            }\n            else {\n                thisObj.inputObj.value = '';\n                thisObj.formulaText = null;\n                thisObj.fieldText = null;\n                thisObj.parent.\n                    dialogRenderer.parentElement.querySelector('.' + cls.CALCINPUT).value = '';\n                thisObj.parent.\n                    dialogRenderer.parentElement.querySelector('#' + thisObj.parentID + 'droppable').value = '';\n            }\n            //});\n        }\n        catch (exception) {\n            this.showError();\n        }\n    };\n    /** @hidden */\n    CalculatedField.prototype.showError = function () {\n        if (this.parent.engineModule.fieldList[this.field]) {\n            delete this.parent.engineModule.fieldList[this.field];\n        }\n        this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('invalidFormula'));\n        this.parent.setProperties({ dataSourceSettings: this.existingReport }, true);\n        this.parent.lastCalcFieldInfo = {};\n        this.parent.updateDataSource(false);\n        this.isFormula = false;\n    };\n    /**\n     * To get treeview data\n     * @param  {PivotGrid|PivotFieldList} parent\n     * @returns Object\n     */\n    CalculatedField.prototype.getFieldListData = function (parent) {\n        var fields = [];\n        if (this.parent.dataType === 'olap') {\n            fields = PivotUtil.getClonedData(parent.olapEngineModule.fieldListData);\n            for (var _i = 0, _a = fields; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (item.spriteCssClass &&\n                    (item.spriteCssClass.indexOf('e-attributeCDB-icon') > -1 ||\n                        item.spriteCssClass.indexOf('e-level-members') > -1)) {\n                    item.hasChildren = true;\n                }\n                else if (item.spriteCssClass &&\n                    (item.spriteCssClass.indexOf('e-namedSetCDB-icon') > -1)) {\n                    item.hasChildren = false;\n                }\n            }\n        }\n        else {\n            Object.keys(parent.engineModule.fieldList).forEach(function (key) {\n                var type = null;\n                if (parent.engineModule.fieldList[key].type === 'string' || parent.engineModule.fieldList[key].type === 'include' ||\n                    parent.engineModule.fieldList[key].type === 'exclude') {\n                    type = COUNT;\n                }\n                else {\n                    type = parent.engineModule.fieldList[key].aggregateType !== undefined ?\n                        parent.engineModule.fieldList[key].aggregateType : SUM;\n                }\n                fields.push({\n                    index: parent.engineModule.fieldList[key].index,\n                    name: parent.engineModule.fieldList[key].caption + ' (' + type + ')',\n                    type: type,\n                    icon: cls.FORMAT + ' ' + cls.ICON,\n                    formula: parent.engineModule.fieldList[key].formula,\n                    field: key,\n                    caption: parent.engineModule.fieldList[key].caption ? parent.engineModule.fieldList[key].caption : key\n                });\n            });\n        }\n        return fields;\n    };\n    /**\n     * Triggers before menu opens.\n     * @param  {BeforeOpenCloseMenuEventArgs} args\n     * @returns void\n     */\n    CalculatedField.prototype.beforeMenuOpen = function (args) {\n        args.element.style.zIndex = (this.dialog.zIndex + 1).toString();\n        args.element.style.display = 'inline';\n    };\n    /**\n     * Trigger while drop node in formula field.\n     * @param  {DragAndDropEventArgs} args\n     * @returns void\n     */\n    CalculatedField.prototype.fieldDropped = function (args) {\n        args.cancel = true;\n        var dropField = this.dialog.element.querySelector('#' + this.parentID + 'droppable');\n        removeClass([dropField], 'e-copy-drop');\n        removeClass([args.draggedNode.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.SELECTED_NODE_CLASS);\n        var field = args.draggedNode.getAttribute('data-field');\n        if (this.parent.dataType === 'olap') {\n            if (this.parent.olapEngineModule.fieldList[field] &&\n                this.parent.olapEngineModule.fieldList[field].isCalculatedField) {\n                field = this.parent.olapEngineModule.fieldList[field].tag;\n            }\n            if (args.target.id === this.parentID + 'droppable' && dropField.value === '') {\n                dropField.value = field;\n                dropField.focus();\n            }\n            else if (args.target.id === (this.parentID + 'droppable') && dropField.value !== '') {\n                var textCovered = void 0;\n                var currentValue = dropField.value;\n                var cursorPos = dropField.selectionStart;\n                var textAfterText = currentValue.substring(cursorPos, currentValue.length);\n                var textBeforeText = currentValue.substring(0, cursorPos);\n                textCovered = textBeforeText + field;\n                dropField.value = textBeforeText + field + textAfterText;\n                dropField.focus();\n                dropField.setSelectionRange(textCovered.length, textCovered.length);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            var type = args.draggedNode.getAttribute('data-type');\n            if (args.target.id === this.parentID + 'droppable' && dropField.value === '') {\n                if (type === CALC) {\n                    dropField.value = args.draggedNodeData.id.toString();\n                }\n                else {\n                    dropField.value = '\"' + type + '(' + field + ')' + '\"';\n                }\n                dropField.focus();\n            }\n            else if (args.target.id === (this.parentID + 'droppable') && dropField.value !== '') {\n                var textCovered = void 0;\n                var cursorPos = dropField.selectionStart;\n                var currentValue = dropField.value;\n                var textBeforeText = currentValue.substring(0, cursorPos);\n                var textAfterText = currentValue.substring(cursorPos, currentValue.length);\n                if (type === CALC) {\n                    textCovered = textBeforeText + args.draggedNodeData.id.toString();\n                    dropField.value = textBeforeText + args.draggedNodeData.id.toString() + textAfterText;\n                }\n                else {\n                    textCovered = textBeforeText + '\"' + type + '(' + field + ')' + '\"';\n                    dropField.value = textBeforeText + '\"' + type + '(' + field + ')' + '\"' + textAfterText;\n                }\n                dropField.focus();\n                dropField.setSelectionRange(textCovered.length, textCovered.length);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n    };\n    /**\n     * To create dialog.\n     * @returns void\n     */\n    CalculatedField.prototype.createDialog = function () {\n        var _this = this;\n        if (document.querySelector('#' + this.parentID + 'calculateddialog') !== null) {\n            remove(document.querySelector('#' + this.parentID + 'calculateddialog'));\n        }\n        this.parent.element.appendChild(createElement('div', {\n            id: this.parentID + 'calculateddialog',\n            className: cls.CALCDIALOG + ' ' + (this.parent.dataType === 'olap' ? cls.OLAP_CALCDIALOG : '')\n        }));\n        var calcButtons = [\n            {\n                click: this.applyFormula.bind(this),\n                buttonModel: {\n                    content: this.parent.localeObj.getConstant('ok'),\n                    isPrimary: true\n                }\n            },\n            {\n                click: this.cancelClick.bind(this),\n                buttonModel: {\n                    content: this.parent.localeObj.getConstant('cancel')\n                }\n            }\n        ];\n        if (this.parent.dataType === 'olap') {\n            var clearButton = {\n                click: this.clearFormula.bind(this),\n                buttonModel: {\n                    cssClass: 'e-calc-clear-btn',\n                    content: this.parent.localeObj.getConstant('clear'),\n                }\n            };\n            calcButtons.splice(0, 0, clearButton);\n        }\n        this.dialog = new Dialog({\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            buttons: calcButtons,\n            close: this.closeDialog.bind(this),\n            beforeOpen: this.beforeOpen.bind(this),\n            open: function () {\n                if (_this.dialog.element.querySelector('#' + _this.parentID + 'ddlelement')) {\n                    _this.dialog.element.querySelector('#' + _this.parentID + 'ddlelement').focus();\n                }\n            },\n            animationSettings: { effect: 'Zoom' },\n            width: '25%',\n            isModal: false,\n            closeOnEscape: true,\n            enableRtl: this.parent.enableRtl,\n            showCloseIcon: true,\n            header: this.parent.localeObj.getConstant('createCalculatedField'),\n            target: document.body\n        });\n        this.dialog.isStringTemplate = true;\n        this.dialog.appendTo('#' + this.parentID + 'calculateddialog');\n    };\n    CalculatedField.prototype.cancelClick = function () {\n        this.dialog.close();\n        this.isEdit = false;\n    };\n    CalculatedField.prototype.beforeOpen = function (args) {\n        // this.dialog.element.querySelector('.e-dlg-header').innerHTML = this.parent.localeObj.getConstant('createCalculatedField');\n        this.dialog.element.querySelector('.e-dlg-header').\n            setAttribute('title', this.parent.localeObj.getConstant('createCalculatedField'));\n    };\n    CalculatedField.prototype.closeDialog = function (args) {\n        if (this.parent.getModuleName() === 'pivotfieldlist') {\n            this.parent.axisFieldModule.render();\n            if (this.parent.renderMode !== 'Fixed') {\n                addClass([this.parent.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], cls.ICON_HIDDEN);\n                this.parent.dialogRenderer.fieldListDialog.show();\n            }\n        }\n        this.treeObj.destroy();\n        this.dialog.destroy();\n        this.newFields = null;\n        remove(document.getElementById(this.parentID + 'calculateddialog'));\n        remove(document.querySelector('.' + this.parentID + 'calculatedmenu'));\n    };\n    /* tslint:disable */\n    /**\n     * To render dialog elements.\n     * @returns void\n     */\n    CalculatedField.prototype.renderDialogElements = function () {\n        var outerDiv = createElement('div', {\n            id: this.parentID + 'outerDiv',\n            className: (this.parent.dataType === 'olap' ? cls.OLAP_CALCOUTERDIV + ' ' : '') + cls.CALCOUTERDIV\n        });\n        var olapFieldTreeDiv = createElement('div', { id: this.parentID + 'Olap_Tree_Div', className: 'e-olap-field-tree-div' });\n        var olapCalcDiv = createElement('div', { id: this.parentID + 'Olap_Calc_Div', className: 'e-olap-calculated-div' });\n        if (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.\n            dialogRenderer.parentElement.querySelector('.' + cls.FORMULA) !== null && this.parent.isAdaptive) {\n            var accordDiv = createElement('div', { id: this.parentID + 'accordDiv', className: cls.CALCACCORD });\n            outerDiv.appendChild(accordDiv);\n            var buttonDiv = createElement('div', { id: this.parentID + 'buttonDiv', className: cls.CALCBUTTONDIV });\n            var addBtn = createElement('button', {\n                id: this.parentID + 'addBtn', innerHTML: this.parent.localeObj.getConstant('add'),\n                className: cls.CALCADDBTN\n            });\n            var cancelBtn = createElement('button', {\n                id: this.parentID + 'cancelBtn', innerHTML: this.parent.localeObj.getConstant('cancel'),\n                className: cls.CALCCANCELBTN\n            });\n            buttonDiv.appendChild(cancelBtn);\n            buttonDiv.appendChild(addBtn);\n            outerDiv.appendChild(buttonDiv);\n        }\n        else {\n            if (!this.parent.isAdaptive && this.parent.dataType === 'olap') {\n                var formulaTitle = createElement('div', {\n                    className: cls.PIVOT_FIELD_TITLE_CLASS, id: this.parentID + '_' + 'FieldNameTitle',\n                    innerHTML: this.parent.localeObj.getConstant('fieldTitle')\n                });\n                olapCalcDiv.appendChild(formulaTitle);\n            }\n            var inputDiv = createElement('div', { id: this.parentID + 'outerDiv', className: cls.CALCINPUTDIV });\n            var inputObj = createElement('input', {\n                id: this.parentID + 'ddlelement',\n                attrs: { 'type': 'text' },\n                className: cls.CALCINPUT\n            });\n            inputDiv.appendChild(inputObj);\n            (this.parent.dataType === 'olap' && !this.parent.isAdaptive ? olapCalcDiv.appendChild(inputDiv) : outerDiv.appendChild(inputDiv));\n            var wrapDiv = createElement('div', { id: this.parentID + 'control_wrapper', className: cls.TREEVIEWOUTER });\n            if (!this.parent.isAdaptive) {\n                var fieldTitle = createElement('div', {\n                    className: cls.PIVOT_ALL_FIELD_TITLE_CLASS,\n                    innerHTML: (this.parent.dataType === 'olap' ? this.parent.localeObj.getConstant('allFields') :\n                        this.parent.localeObj.getConstant('formulaField'))\n                });\n                if (this.parent.dataType === 'olap') {\n                    var headerWrapperDiv = createElement('div', { className: cls.PIVOT_ALL_FIELD_TITLE_CLASS + '-wrapper' });\n                    headerWrapperDiv.appendChild(fieldTitle);\n                    var spanElement = createElement('span', {\n                        attrs: {\n                            'tabindex': '0',\n                            'aria-disabled': 'false',\n                            'aria-label': this.parent.localeObj.getConstant('fieldTooltip'),\n                        },\n                        className: cls.ICON + ' ' + cls.CALC_INFO\n                    });\n                    headerWrapperDiv.appendChild(spanElement);\n                    var tooltip = new Tooltip({\n                        content: this.parent.localeObj.getConstant('fieldTooltip'),\n                        position: (this.parent.enableRtl ? 'RightCenter' : 'LeftCenter'),\n                        target: '.' + cls.CALC_INFO,\n                        offsetY: (this.parent.enableRtl ? -10 : -10),\n                        width: 220\n                    });\n                    tooltip.appendTo(headerWrapperDiv);\n                    wrapDiv.appendChild(headerWrapperDiv);\n                }\n                else {\n                    outerDiv.appendChild(fieldTitle);\n                }\n            }\n            var treeOuterDiv = createElement('div', { className: cls.TREEVIEW + '-outer-div' });\n            wrapDiv.appendChild(treeOuterDiv);\n            treeOuterDiv.appendChild(createElement('div', { id: this.parentID + 'tree', className: cls.TREEVIEW }));\n            (this.parent.dataType === 'olap' && !this.parent.isAdaptive ? olapFieldTreeDiv.appendChild(wrapDiv) : outerDiv.appendChild(wrapDiv));\n            if (!this.parent.isAdaptive) {\n                var formulaTitle = createElement('div', {\n                    className: cls.PIVOT_FORMULA_TITLE_CLASS,\n                    innerHTML: (this.parent.dataType === 'olap' ? this.parent.localeObj.getConstant('expressionField') :\n                        this.parent.localeObj.getConstant('formula'))\n                });\n                (this.parent.dataType === 'olap' ? olapCalcDiv.appendChild(formulaTitle) : outerDiv.appendChild(formulaTitle));\n            }\n            var dropDiv = createElement('textarea', {\n                id: this.parentID + 'droppable',\n                className: cls.FORMULA,\n                attrs: {\n                    'placeholder': this.parent.isAdaptive ? this.parent.localeObj.getConstant('dropTextMobile') :\n                        (this.parent.dataType === 'olap' ? this.parent.localeObj.getConstant('olapDropText') :\n                            this.parent.localeObj.getConstant('dropText'))\n                }\n            });\n            (this.parent.dataType === 'olap' && !this.parent.isAdaptive ? olapCalcDiv.appendChild(dropDiv) : outerDiv.appendChild(dropDiv));\n            if (this.parent.isAdaptive) {\n                var buttonDiv = createElement('div', { id: this.parentID + 'buttonDiv', className: cls.CALCBUTTONDIV });\n                var okBtn = createElement('button', {\n                    id: this.parentID + 'okBtn', innerHTML: this.parent.localeObj.getConstant('apply'),\n                    className: cls.CALCOKBTN\n                });\n                buttonDiv.appendChild(okBtn);\n                outerDiv.appendChild(buttonDiv);\n            }\n            if (this.parent.dataType === 'olap') {\n                if (!this.parent.isAdaptive) {\n                    var memberTypeTitle = createElement('div', {\n                        className: cls.OLAP_MEMBER_TITLE_CLASS,\n                        innerHTML: this.parent.localeObj.getConstant('memberType')\n                    });\n                    olapCalcDiv.appendChild(memberTypeTitle);\n                }\n                var memberTypeDrop = createElement('div', { id: this.parentID + 'Member_Type_Div', className: cls.CALC_MEMBER_TYPE_DIV });\n                (this.parent.isAdaptive ? outerDiv.appendChild(memberTypeDrop) : olapCalcDiv.appendChild(memberTypeDrop));\n                if (!this.parent.isAdaptive) {\n                    var hierarchyTitle = createElement('div', {\n                        className: cls.OLAP_HIERARCHY_TITLE_CLASS,\n                        innerHTML: this.parent.localeObj.getConstant('selectedHierarchy')\n                    });\n                    olapCalcDiv.appendChild(hierarchyTitle);\n                }\n                var hierarchyDrop = createElement('div', { id: this.parentID + 'Hierarchy_List_Div', className: cls.CALC_HIERARCHY_LIST_DIV });\n                (this.parent.isAdaptive ? outerDiv.appendChild(hierarchyDrop) : olapCalcDiv.appendChild(hierarchyDrop));\n                if (!this.parent.isAdaptive) {\n                    var formatTitle = createElement('div', {\n                        className: cls.OLAP_FORMAT_TITLE_CLASS,\n                        innerHTML: this.parent.localeObj.getConstant('formatString')\n                    });\n                    olapCalcDiv.appendChild(formatTitle);\n                }\n                var formatDrop = createElement('div', { id: this.parentID + 'Format_Div', className: cls.CALC_FORMAT_TYPE_DIV });\n                (this.parent.isAdaptive ? outerDiv.appendChild(formatDrop) : olapCalcDiv.appendChild(formatDrop));\n                var customFormatDiv = createElement('div', { id: this.parentID + 'custom_Format_Div', className: cls.CALC_CUSTOM_FORMAT_INPUTDIV });\n                var customFormatObj = createElement('input', {\n                    id: this.parentID + 'Custom_Format_Element',\n                    attrs: { 'type': 'text' },\n                    className: cls.CALC_FORMAT_INPUT\n                });\n                customFormatDiv.appendChild(customFormatObj);\n                olapCalcDiv.appendChild(customFormatDiv);\n                (this.parent.isAdaptive ? outerDiv.appendChild(customFormatDiv) : olapCalcDiv.appendChild(customFormatDiv));\n                if (this.parent.getModuleName() === 'pivotfieldlist' && this.parent.\n                    dialogRenderer.parentElement.querySelector('.' + cls.FORMULA) === null && this.parent.isAdaptive) {\n                    var okBtn = outerDiv.querySelector('.' + cls.CALCOKBTN);\n                    outerDiv.appendChild(okBtn);\n                }\n                else {\n                    outerDiv.appendChild(olapFieldTreeDiv);\n                    outerDiv.appendChild(olapCalcDiv);\n                }\n            }\n        }\n        return outerDiv;\n    };\n    /* tslint:enable */\n    /**\n     * To create calculated field adaptive layout.\n     * @returns void\n     */\n    CalculatedField.prototype.renderAdaptiveLayout = function () {\n        if (document.querySelector('#' + this.parentID + 'droppable')) {\n            this.formulaText = document.querySelector('#' + this.parentID + 'droppable').value;\n            this.fieldText = this.inputObj.value;\n        }\n        this.renderMobileLayout(this.parent.dialogRenderer.adaptiveElement);\n    };\n    /**\n     * To create treeview.\n     * @returns void\n     */\n    CalculatedField.prototype.createOlapDropElements = function () {\n        var dialogElement = (this.parent.isAdaptive ?\n            this.parent.dialogRenderer.parentElement : this.dialog.element);\n        var mData = [];\n        var fData = [];\n        var fieldData = [];\n        var memberTypeData = ['Measure', 'Dimension'];\n        var formatStringData = ['Standard', 'Currency', 'Percent', 'Custom'];\n        for (var _i = 0, memberTypeData_1 = memberTypeData; _i < memberTypeData_1.length; _i++) {\n            var type = memberTypeData_1[_i];\n            mData.push({ value: type, text: this.parent.localeObj.getConstant(type) });\n        }\n        for (var _a = 0, formatStringData_1 = formatStringData; _a < formatStringData_1.length; _a++) {\n            var format = formatStringData_1[_a];\n            fData.push({ value: format, text: this.parent.localeObj.getConstant(format) });\n        }\n        var fields = PivotUtil.getClonedData(this.parent.olapEngineModule.fieldListData);\n        for (var _b = 0, _c = fields; _b < _c.length; _b++) {\n            var item = _c[_b];\n            if (item.spriteCssClass &&\n                (item.spriteCssClass.indexOf('e-attributeCDB-icon') > -1 ||\n                    item.spriteCssClass.indexOf('e-hierarchyCDB-icon') > -1)) {\n                fieldData.push({ value: item.id, text: item.caption });\n            }\n        }\n        var memberTypeObj = new DropDownList({\n            dataSource: mData, enableRtl: this.parent.enableRtl,\n            fields: { value: 'value', text: 'text' }, index: 0,\n            cssClass: cls.MEMBER_OPTIONS_CLASS, width: '100%',\n            change: function (args) {\n                hierarchyListObj.enabled = args.value === 'Dimension' ? true : false;\n                hierarchyListObj.dataBind();\n            }\n        });\n        memberTypeObj.isStringTemplate = true;\n        memberTypeObj.appendTo(dialogElement.querySelector('#' + this.parentID + 'Member_Type_Div'));\n        var hierarchyListObj = new DropDownList({\n            dataSource: fieldData, enableRtl: this.parent.enableRtl,\n            allowFiltering: true, enabled: false,\n            filterBarPlaceholder: this.parent.localeObj.getConstant('example') + ' ' + fieldData[0].text.toString(),\n            fields: { value: 'value', text: 'text' }, index: 0,\n            cssClass: cls.MEMBER_OPTIONS_CLASS, width: '100%'\n        });\n        hierarchyListObj.isStringTemplate = true;\n        hierarchyListObj.appendTo(dialogElement.querySelector('#' + this.parentID + 'Hierarchy_List_Div'));\n        var formatStringObj = new DropDownList({\n            dataSource: fData, enableRtl: this.parent.enableRtl,\n            fields: { value: 'value', text: 'text' }, index: 0,\n            cssClass: cls.MEMBER_OPTIONS_CLASS, width: '100%',\n            change: function (args) {\n                customerFormatObj.enabled = args.value === 'Custom' ? true : false;\n                customerFormatObj.dataBind();\n            }\n        });\n        formatStringObj.isStringTemplate = true;\n        formatStringObj.appendTo(dialogElement.querySelector('#' + this.parentID + 'Format_Div'));\n        var customerFormatObj = new MaskedTextBox({\n            placeholder: this.parent.localeObj.getConstant('customFormat'),\n            enabled: false\n        });\n        customerFormatObj.isStringTemplate = true;\n        customerFormatObj.appendTo('#' + this.parentID + 'Custom_Format_Element');\n    };\n    /**\n     * To create treeview.\n     * @returns void\n     */\n    CalculatedField.prototype.createTreeView = function () {\n        var _this = this;\n        if (this.parent.dataType === 'olap') {\n            this.treeObj = new TreeView({\n                /* tslint:disable-next-line:max-line-length */\n                fields: { dataSource: this.getFieldListData(this.parent), id: 'id', text: 'caption', parentID: 'pid', iconCss: 'spriteCssClass' },\n                allowDragAndDrop: true,\n                enableRtl: this.parent.enableRtl,\n                nodeDragStart: this.dragStart.bind(this),\n                nodeDragging: function (e) {\n                    if (e.event.target && e.event.target.classList.contains(cls.FORMULA)) {\n                        removeClass([e.clonedNode], cls.NO_DRAG_CLASS);\n                        addClass([e.event.target], 'e-copy-drop');\n                    }\n                    else {\n                        addClass([e.clonedNode], cls.NO_DRAG_CLASS);\n                        removeClass([e.event.target], 'e-copy-drop');\n                        e.dropIndicator = 'e-no-drop';\n                        addClass([e.clonedNode.querySelector('.' + cls.ICON)], 'e-icon-expandable');\n                        removeClass([e.clonedNode.querySelector('.' + cls.ICON)], 'e-list-icon');\n                    }\n                },\n                nodeClicked: this.fieldClickHandler.bind(this),\n                nodeSelected: function (args) {\n                    if (args.node.getAttribute('data-type') === CALC) {\n                        _this.displayMenu(args.node);\n                    }\n                    else {\n                        removeClass([args.node], 'e-active');\n                        args.cancel = true;\n                    }\n                },\n                nodeDragStop: this.fieldDropped.bind(this),\n                drawNode: this.drawTreeNode.bind(this),\n                nodeExpanding: this.updateNodeIcon.bind(this),\n                nodeCollapsed: this.updateNodeIcon.bind(this),\n                sortOrder: 'None',\n            });\n        }\n        else {\n            this.treeObj = new TreeView({\n                fields: { dataSource: this.getFieldListData(this.parent), id: 'formula', text: 'name', iconCss: 'icon' },\n                allowDragAndDrop: true,\n                enableRtl: this.parent.enableRtl,\n                nodeCollapsing: this.nodeCollapsing.bind(this),\n                nodeDragStart: this.dragStart.bind(this),\n                nodeClicked: this.fieldClickHandler.bind(this),\n                nodeDragStop: this.fieldDropped.bind(this),\n                drawNode: this.drawTreeNode.bind(this),\n                sortOrder: 'Ascending'\n            });\n        }\n        this.treeObj.isStringTemplate = true;\n        this.treeObj.appendTo('#' + this.parentID + 'tree');\n    };\n    CalculatedField.prototype.updateNodeIcon = function (args) {\n        if (args.node && args.node.querySelector('.e-list-icon') &&\n            args.node.querySelector('.e-icon-expandable.e-process') &&\n            (args.node.querySelector('.e-list-icon').className.indexOf('e-folderCDB-icon') > -1)) {\n            var node = args.node.querySelector('.e-list-icon');\n            removeClass([node], 'e-folderCDB-icon');\n            addClass([node], 'e-folderCDB-open-icon');\n        }\n        else if (args.node && args.node.querySelector('.e-list-icon') &&\n            args.node.querySelector('.e-icon-expandable') &&\n            (args.node.querySelector('.e-list-icon').className.indexOf('e-folderCDB-open-icon') > -1)) {\n            var node = args.node.querySelector('.e-list-icon');\n            removeClass([node], 'e-folderCDB-open-icon');\n            addClass([node], 'e-folderCDB-icon');\n        }\n        else {\n            var curTreeData = this.treeObj.fields.dataSource;\n            var fieldListData = curTreeData;\n            var childNodes = [];\n            for (var _i = 0, fieldListData_1 = fieldListData; _i < fieldListData_1.length; _i++) {\n                var item = fieldListData_1[_i];\n                if (item.pid === args.nodeData.id.toString()) {\n                    childNodes.push(item);\n                }\n            }\n            if (childNodes.length === 0) {\n                this.parent.olapEngineModule.calcChildMembers = [];\n                this.parent.olapEngineModule.getCalcChildMembers(this.parent.dataSourceSettings, args.nodeData.id.toString());\n                childNodes = this.parent.olapEngineModule.calcChildMembers;\n                this.parent.olapEngineModule.calcChildMembers = [];\n                for (var _a = 0, childNodes_1 = childNodes; _a < childNodes_1.length; _a++) {\n                    var node = childNodes_1[_a];\n                    node.pid = args.nodeData.id.toString();\n                    node.hasChildren = false;\n                    node.spriteCssClass = 'e-level-members';\n                    node.caption = (node.caption === '' ? this.parent.localeObj.getConstant('blank') : node.caption);\n                    curTreeData.push(node);\n                }\n                this.treeObj.addNodes(childNodes, args.node);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    CalculatedField.prototype.nodeCollapsing = function (args) {\n        args.cancel = true;\n    };\n    CalculatedField.prototype.dragStart = function (args) {\n        var isDrag = false;\n        var dragItem = args.clonedNode;\n        if (dragItem && ((this.parent.dataType === 'olap' &&\n            (dragItem.querySelector('.e-calc-dimension-icon,.e-calc-measure-icon,.e-measure-icon') ||\n                dragItem.querySelector('.e-dimensionCDB-icon,.e-attributeCDB-icon,.e-hierarchyCDB-icon') ||\n                dragItem.querySelector('.e-level-members,.e-namedSetCDB-icon'))) || (this.parent.dataType === 'pivot' &&\n            args.event.target.classList.contains(cls.DRAG_CLASS)))) {\n            isDrag = true;\n        }\n        if (isDrag) {\n            addClass([args.draggedNode.querySelector('.' + cls.LIST_TEXT_CLASS)], cls.SELECTED_NODE_CLASS);\n            addClass([dragItem], cls.PIVOTCALC);\n            dragItem.style.zIndex = (this.dialog.zIndex + 1).toString();\n            dragItem.style.display = 'inline';\n        }\n        else {\n            args.cancel = true;\n        }\n    };\n    /**\n     * Trigger before treeview text append.\n     * @param  {DrawNodeEventArgs} args\n     * @returns void\n     */\n    CalculatedField.prototype.drawTreeNode = function (args) {\n        if (this.parent.dataType === 'olap') {\n            if (args.node.querySelector('.e-measure-icon')) {\n                args.node.querySelector('.e-list-icon').style.display = 'none';\n            }\n            var field = args.nodeData;\n            args.node.setAttribute('data-field', field.id);\n            args.node.setAttribute('data-caption', field.caption);\n            var liTextElement = args.node.querySelector('.' + cls.TEXT_CONTENT_CLASS);\n            if (args.nodeData && args.nodeData.type === CALC &&\n                liTextElement && args.node.querySelector('.e-list-icon.e-calc-member')) {\n                args.node.setAttribute('data-type', field.type);\n                args.node.setAttribute('data-membertype', field.fieldType);\n                args.node.setAttribute('data-hierarchy', field.parentHierarchy ? field.parentHierarchy : '');\n                args.node.setAttribute('data-formula', field.formula);\n                var formatStringData = ['Standard', 'Currency', 'Percent'];\n                var formatString = void 0;\n                formatString = (field.formatString ? formatStringData.indexOf(field.formatString) > -1 ?\n                    field.formatString : 'Custom' : '');\n                args.node.setAttribute('data-formatString', formatString);\n                args.node.setAttribute('data-customString', (formatString === 'Custom' ? field.formatString : ''));\n                // if (!this.parent.isAdaptive) {\n                //     let editElement: Node = args.node.querySelector('.e-list-icon.e-calc-member').cloneNode(true);\n                //     let calcClasses: string[] = ['e-calc-measure-icon', 'e-calc-dimension-icon', 'e-calc-member'];\n                //     removeClass([editElement as Element], calcClasses);\n                //     addClass([editElement as Element], cls.CALC_EDIT);\n                //     (editElement as Element).setAttribute('title', this.parent.localeObj.getConstant('edit'));\n                //     liTextElement.insertBefore(editElement, args.node.querySelector('.e-list-icon'));\n                // }\n            }\n            if (this.parent.isAdaptive) {\n                var liTextElement_1 = args.node.querySelector('.' + cls.TEXT_CONTENT_CLASS);\n                if (args.node && args.node.querySelector('.e-list-icon') && liTextElement_1) {\n                    var liIconElement = args.node.querySelector('.e-list-icon');\n                    liTextElement_1.insertBefore(liIconElement, args.node.querySelector('.e-list-text'));\n                }\n                if (args.node && args.node.querySelector('.e-calcMemberGroupCDB,.e-measureGroupCDB-icon,.e-folderCDB-icon')) {\n                    args.node.querySelector('.e-checkbox-wrapper').style.display = 'none';\n                }\n                if (args.node && args.node.querySelector('.e-level-members')) {\n                    args.node.querySelector('.e-list-icon').style.display = 'none';\n                }\n            }\n        }\n        else {\n            var field = args.nodeData.field;\n            args.node.setAttribute('data-field', field);\n            args.node.setAttribute('data-caption', args.nodeData.caption);\n            args.node.setAttribute('data-type', args.nodeData.type);\n            var dragElement = createElement('span', {\n                attrs: { 'tabindex': '-1', 'aria-disabled': 'false', 'title': this.parent.localeObj.getConstant('dragField') },\n                className: cls.ICON + ' e-drag'\n            });\n            prepend([dragElement], args.node.querySelector('.' + cls.TEXT_CONTENT_CLASS));\n            append([args.node.querySelector('.' + cls.FORMAT)], args.node.querySelector('.' + cls.TEXT_CONTENT_CLASS));\n            if (this.parent.engineModule.fieldList[field].type !== 'number' &&\n                this.parent.engineModule.fieldList[field].aggregateType !== CALC) {\n                removeClass([args.node.querySelector('.' + cls.FORMAT)], cls.ICON);\n            }\n            else {\n                args.node.querySelector('.' + cls.FORMAT).setAttribute('title', this.parent.localeObj.getConstant('format'));\n            }\n            if (this.parent.engineModule.fieldList[field].aggregateType === CALC) {\n                args.node.querySelector('.' + cls.FORMAT).setAttribute('title', this.parent.localeObj.getConstant('edit'));\n                addClass([args.node.querySelector('.' + cls.FORMAT)], cls.CALC_EDIT);\n                removeClass([args.node.querySelector('.' + cls.FORMAT)], cls.FORMAT);\n            }\n        }\n    };\n    /**\n     * To create radio buttons.\n     * @param  {string} key\n     * @returns HTMLElement\n     */\n    CalculatedField.prototype.createTypeContainer = function (key) {\n        var wrapDiv = createElement('div', { id: this.parentID + 'control_wrapper', className: cls.TREEVIEWOUTER });\n        var type = [SUM, COUNT, AVG, MIN, MAX, DISTINCTCOUNT, PRODUCT, STDEV, STDEVP, VAR, VARP];\n        for (var i = 0; i < type.length; i++) {\n            var input = createElement('input', {\n                id: this.parentID + 'radio' + type[i],\n                attrs: { 'type': 'radio', 'data-ftxt': key },\n                className: cls.CALCRADIO\n            });\n            wrapDiv.appendChild(input);\n        }\n        return wrapDiv;\n    };\n    /**\n     * To get Accordion Data.\n     * @param  {PivotView | PivotFieldList} parent\n     * @returns AccordionItemModel\n     */\n    CalculatedField.prototype.getAccordionData = function (parent) {\n        var _this = this;\n        var data = [];\n        Object.keys(parent.engineModule.fieldList).forEach(function (key, index) {\n            data.push({\n                header: '<input id=' + _this.parentID + '_' + index + ' class=' + cls.CALCCHECK + ' type=\"checkbox\" data-field=' +\n                    key + ' data-caption=' + _this.parent.engineModule.fieldList[key].caption + ' data-type=' +\n                    _this.parent.engineModule.fieldList[key].type + '/>',\n                content: parent.engineModule.fieldList[key].aggregateType === CALC ||\n                    _this.parent.engineModule.fieldList[key].type !== 'number' ? '' : _this.createTypeContainer(key).outerHTML\n            });\n        });\n        return data;\n    };\n    /**\n     * To render mobile layout.\n     * @param  {Tab} tabObj\n     * @returns void\n     */\n    CalculatedField.prototype.renderMobileLayout = function (tabObj) {\n        tabObj.items[4].content = this.renderDialogElements().outerHTML;\n        tabObj.dataBind();\n        if (this.parent.dataType === 'olap' && this.parent.isAdaptive) {\n            this.createOlapDropElements();\n        }\n        var cancelBtn = new Button({ cssClass: cls.FLAT, isPrimary: true });\n        cancelBtn.isStringTemplate = true;\n        cancelBtn.appendTo('#' + this.parentID + 'cancelBtn');\n        if (cancelBtn.element) {\n            cancelBtn.element.onclick = this.cancelBtnClick.bind(this);\n        }\n        if (this.parent.\n            dialogRenderer.parentElement.querySelector('.' + cls.FORMULA) !== null && this.parent.isAdaptive) {\n            var okBtn = new Button({ cssClass: cls.FLAT + ' ' + cls.OUTLINE_CLASS, isPrimary: true });\n            okBtn.isStringTemplate = true;\n            okBtn.appendTo('#' + this.parentID + 'okBtn');\n            this.inputObj = new MaskedTextBox({\n                placeholder: this.parent.localeObj.getConstant('fieldName')\n            });\n            this.inputObj.isStringTemplate = true;\n            this.inputObj.appendTo('#' + this.parentID + 'ddlelement');\n            if (this.formulaText !== null && this.parent.\n                dialogRenderer.parentElement.querySelector('#' + this.parentID + 'droppable') !== null) {\n                var drop = this.parent.\n                    dialogRenderer.parentElement.querySelector('#' + this.parentID + 'droppable');\n                drop.value = this.formulaText;\n            }\n            if (this.fieldText !== null && this.parent.\n                dialogRenderer.parentElement.querySelector('.' + cls.CALCINPUT) !== null) {\n                this.parent.\n                    dialogRenderer.parentElement.querySelector('.' + cls.CALCINPUT).value = this.fieldText;\n                this.inputObj.value = this.fieldText;\n            }\n            if (okBtn.element) {\n                okBtn.element.onclick = this.applyFormula.bind(this);\n            }\n        }\n        else if (this.parent.isAdaptive) {\n            var addBtn = new Button({ cssClass: cls.FLAT, isPrimary: true });\n            addBtn.isStringTemplate = true;\n            addBtn.appendTo('#' + this.parentID + 'addBtn');\n            if (this.parent.dataType === 'olap') {\n                this.treeObj = new TreeView({\n                    /* tslint:disable-next-line:max-line-length */\n                    fields: { dataSource: this.getFieldListData(this.parent), id: 'id', text: 'caption', parentID: 'pid', iconCss: 'spriteCssClass' },\n                    showCheckBox: true,\n                    autoCheck: false,\n                    sortOrder: 'None',\n                    enableRtl: this.parent.enableRtl,\n                    drawNode: this.drawTreeNode.bind(this),\n                    nodeExpanding: this.updateNodeIcon.bind(this),\n                    nodeCollapsed: this.updateNodeIcon.bind(this)\n                });\n                this.treeObj.isStringTemplate = true;\n                this.treeObj.appendTo('#' + this.parentID + 'accordDiv');\n            }\n            else {\n                var accordion = new Accordion({\n                    items: this.getAccordionData(this.parent),\n                    enableRtl: this.parent.enableRtl,\n                    expanding: this.accordionExpand.bind(this),\n                });\n                accordion.isStringTemplate = true;\n                accordion.appendTo('#' + this.parentID + 'accordDiv');\n                Object.keys(this.parent.engineModule.fieldList).forEach(this.updateType.bind(this));\n            }\n            if (addBtn.element) {\n                addBtn.element.onclick = this.addBtnClick.bind(this);\n            }\n        }\n    };\n    CalculatedField.prototype.accordionExpand = function (args) {\n        var _this = this;\n        if (args.element.querySelectorAll('.e-radio-wrapper').length === 0) {\n            Object.keys(this.parent.engineModule.fieldList).forEach(function (key) {\n                var type = [SUM, COUNT, AVG, MIN, MAX, DISTINCTCOUNT, PRODUCT, STDEV, STDEVP, VAR, VARP];\n                var radiobutton;\n                if (key === args.element.querySelector('[data-field').getAttribute('data-field')) {\n                    for (var i = 0; i < type.length; i++) {\n                        radiobutton = new RadioButton({\n                            label: _this.parent.localeObj.getConstant(type[i]),\n                            name: AGRTYPE + key,\n                            change: _this.onChange.bind(_this),\n                        });\n                        radiobutton.isStringTemplate = true;\n                        radiobutton.appendTo('#' + _this.parentID + 'radio' + type[i]);\n                    }\n                }\n            });\n        }\n    };\n    CalculatedField.prototype.onChange = function (args) {\n        var type = args.event.target.id.split(this.parent.element.id + 'radio')[1];\n        var field = args.event.target.closest('.e-acrdn-item').\n            querySelector('[data-field').getAttribute('data-caption');\n        args.event.target.\n            closest('.e-acrdn-item').querySelector('.e-label').\n            innerText = field + ' (' + type + ')';\n        args.event.target.closest('.e-acrdn-item').\n            querySelector('[data-type').setAttribute('data-type', type);\n    };\n    CalculatedField.prototype.updateType = function (key, index) {\n        var type = null;\n        if (this.parent.engineModule.fieldList[key].type === 'string' ||\n            this.parent.engineModule.fieldList[key].type === 'include' ||\n            this.parent.engineModule.fieldList[key].type === 'exclude') {\n            type = COUNT;\n        }\n        else {\n            type = this.parent.engineModule.fieldList[key].aggregateType !== undefined ?\n                this.parent.engineModule.fieldList[key].aggregateType : SUM;\n        }\n        var checkbox = new CheckBox({\n            label: this.parent.engineModule.fieldList[key].caption + ' (' + type + ')'\n        });\n        checkbox.isStringTemplate = true;\n        checkbox.appendTo('#' + this.parentID + '_' + index);\n        document.querySelector('#' + this.parentID + '_' + index).setAttribute('data-field', key);\n        document.querySelector('#' + this.parentID + '_' + index).setAttribute('data-type', type);\n    };\n    /**\n     * Trigger while click cancel button.\n     * @returns void\n     */\n    CalculatedField.prototype.cancelBtnClick = function () {\n        this.renderMobileLayout(this.parent.dialogRenderer.adaptiveElement);\n    };\n    /**\n     * Trigger while click add button.\n     * @returns void\n     */\n    CalculatedField.prototype.addBtnClick = function () {\n        var fieldText = '';\n        var field = null;\n        var type = null;\n        if (this.parent.dataType === 'pivot') {\n            var node = document.querySelectorAll('.e-accordion .e-check');\n            for (var i = 0; i < node.length; i++) {\n                field = node[i].parentElement.querySelector('[data-field]').getAttribute('data-field');\n                type = node[i].parentElement.querySelector('[data-field]').getAttribute('data-type');\n                if (type.indexOf(CALC) === -1) {\n                    fieldText = fieldText + ('\"' + type + '(' + field + ')' + '\"');\n                }\n                else {\n                    for (var j = 0; j < this.parent.dataSourceSettings.calculatedFieldSettings.length; j++) {\n                        if (this.parent.dataSourceSettings.calculatedFieldSettings[j].name === field) {\n                            fieldText = fieldText + this.parent.dataSourceSettings.calculatedFieldSettings[j].formula;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            var nodes = this.treeObj.getAllCheckedNodes();\n            var olapEngine = this.parent.olapEngineModule;\n            for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n                var item = nodes_1[_i];\n                fieldText = fieldText + (olapEngine.fieldList[item] &&\n                    olapEngine.fieldList[item].type === CALC ? olapEngine.fieldList[item].tag : item);\n            }\n        }\n        this.formulaText = this.formulaText !== null ? (this.formulaText + fieldText) : fieldText;\n        this.renderMobileLayout(this.parent.dialogRenderer.adaptiveElement);\n    };\n    /**\n     * To create calculated field dialog elements.\n     * @returns void\n     * @hidden\n     */\n    CalculatedField.prototype.createCalculatedFieldDialog = function () {\n        if (this.parent.isAdaptive && this.parent.getModuleName() === 'pivotfieldlist') {\n            this.renderAdaptiveLayout();\n        }\n        else if (!this.parent.isAdaptive) {\n            this.renderDialogLayout();\n            this.dialog.element.style.top = parseInt(this.dialog.element.style.top, 10) < 0 ? '0px' : this.dialog.element.style.top;\n        }\n    };\n    /**\n     * To create calculated field desktop layout.\n     * @returns void\n     */\n    CalculatedField.prototype.renderDialogLayout = function () {\n        this.newFields =\n            extend([], this.parent.dataSourceSettings.calculatedFieldSettings, null, true);\n        this.createDialog();\n        this.dialog.content = this.renderDialogElements();\n        this.dialog.refresh();\n        this.inputObj = new MaskedTextBox({\n            placeholder: this.parent.localeObj.getConstant('fieldName')\n        });\n        this.inputObj.isStringTemplate = true;\n        this.inputObj.appendTo('#' + this.parentID + 'ddlelement');\n        if (this.parent.dataType === 'olap' && !this.parent.isAdaptive) {\n            this.createOlapDropElements();\n        }\n        this.createTreeView();\n        this.createMenu();\n        this.droppable = new Droppable(this.dialog.element.querySelector('#' + this.parentID + 'droppable'));\n        this.keyboardEvents = new KeyboardEvents(this.parent.calculatedFieldModule.dialog.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: { moveRight: 'rightarrow', enter: 'enter' },\n            eventName: 'keydown'\n        });\n    };\n    /**\n     * Creates the error dialog for the unexpected action done.\n     * @method createConfirmDialog\n     * @return {void}\n     * @hidden\n     */\n    CalculatedField.prototype.createConfirmDialog = function (title, description) {\n        var errorDialog = createElement('div', {\n            id: this.parentID + '_ErrorDialog',\n            className: cls.ERROR_DIALOG_CLASS\n        });\n        this.parent.element.appendChild(errorDialog);\n        this.confirmPopUp = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: false,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.replaceFormula.bind(this),\n                    buttonModel: {\n                        cssClass: cls.OK_BUTTON_CLASS + ' ' + cls.OUTLINE_CLASS,\n                        content: this.parent.localeObj.getConstant('ok'), isPrimary: true\n                    }\n                },\n                {\n                    click: this.removeErrorDialog.bind(this),\n                    buttonModel: {\n                        cssClass: cls.CANCEL_BUTTON_CLASS,\n                        content: this.parent.localeObj.getConstant('cancel'), isPrimary: true\n                    }\n                }\n            ],\n            header: title,\n            content: description,\n            isModal: true,\n            visible: true,\n            closeOnEscape: true,\n            target: document.body,\n            close: this.removeErrorDialog.bind(this),\n        });\n        this.confirmPopUp.isStringTemplate = true;\n        this.confirmPopUp.appendTo(errorDialog);\n        // this.confirmPopUp.element.querySelector('.e-dlg-header').innerHTML = title;\n    };\n    CalculatedField.prototype.replaceFormula = function () {\n        var report = this.parent.dataSourceSettings;\n        var dropField = document.querySelector('#' + this.parentID + 'droppable');\n        if (this.parent.dataType === 'olap') {\n            var dialogElement = this.dialog.element;\n            /* tslint:disable */\n            var customFormat = getInstance(dialogElement.querySelector('#' + this.parentID + 'Custom_Format_Element'), MaskedTextBox);\n            var formatDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Format_Div'), DropDownList);\n            var memberTypeDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Member_Type_Div'), DropDownList);\n            var hierarchyDrop = getInstance(dialogElement.querySelector('#' + this.parentID + 'Hierarchy_List_Div'), DropDownList);\n            /* tslint:enable */\n            for (var j = 0; j < report.calculatedFieldSettings.length; j++) {\n                if (report.calculatedFieldSettings[j].name === this.inputObj.value) {\n                    if (memberTypeDrop.value === 'Dimension') {\n                        report.calculatedFieldSettings[j].hierarchyUniqueName = hierarchyDrop.value;\n                    }\n                    report.calculatedFieldSettings[j].formatString =\n                        (formatDrop.value === 'Custom' ? customFormat.value : formatDrop.value);\n                    report.calculatedFieldSettings[j].formula = dropField.value;\n                    this.parent.lastCalcFieldInfo = report.calculatedFieldSettings[j];\n                    break;\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < report.values.length; i++) {\n                if (report.values[i].type === CALC && report.values[i].name === this.inputObj.value) {\n                    for (var j = 0; j < report.calculatedFieldSettings.length; j++) {\n                        if (report.calculatedFieldSettings[j].name === this.inputObj.value) {\n                            report.calculatedFieldSettings[j].formula = dropField.value;\n                            this.parent.lastCalcFieldInfo = report.calculatedFieldSettings[j];\n                        }\n                    }\n                }\n            }\n        }\n        this.addFormula(report, this.inputObj.value);\n        this.removeErrorDialog();\n    };\n    CalculatedField.prototype.removeErrorDialog = function () {\n        if (document.getElementById(this.parentID + '_ErrorDialog')) {\n            remove(document.getElementById(this.parentID + '_ErrorDialog').parentElement);\n        }\n    };\n    /**\n     * To add event listener.\n     * @returns void\n     * @hidden\n     */\n    CalculatedField.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initCalculatedField, this.createCalculatedFieldDialog, this);\n    };\n    /**\n     * To remove event listener.\n     * @returns void\n     * @hidden\n     */\n    CalculatedField.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initCalculatedField, this.createCalculatedFieldDialog);\n    };\n    /**\n     * To destroy the calculated field dialog\n     * @returns void\n     * @hidden\n     */\n    CalculatedField.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return CalculatedField;\n}());\nexport { CalculatedField };\n","import * as events from '../../common/base/constant';\nimport * as cls from '../base/css-constant';\nimport { PivotFieldList } from '../../pivotfieldlist/base/field-list';\nimport { createElement, setStyleAttribute, formatUnit, prepend, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { CalculatedField } from '../../common/calculatedfield/calculated-field';\nPivotFieldList.Inject(CalculatedField);\n/**\n * Module for Field List rendering\n */\n/** @hidden */\nvar FieldList = /** @class */ (function () {\n    /** Constructor for Field List module */\n    function FieldList(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    FieldList.prototype.getModuleName = function () {\n        return 'fieldlist';\n    };\n    FieldList.prototype.initiateModule = function () {\n        this.element = createElement('div', {\n            id: this.parent.element.id + '_PivotFieldList',\n            styles: 'position:' + (this.parent.enableRtl ? 'static' : 'absolute') + ';height:0;width:' + this.parent.element.style.width +\n                ';display:none'\n        });\n        this.parent.element.parentElement.setAttribute('id', 'ContainerWrapper');\n        this.parent.element.parentElement.appendChild(this.element);\n        this.parent.element.parentElement.appendChild(this.parent.element);\n        this.parent.pivotFieldListModule = new PivotFieldList({\n            dataSourceSettings: {\n                providerType: this.parent.dataSourceSettings.providerType,\n                rows: [],\n                columns: [],\n                values: [],\n                filters: []\n            },\n            spinnerTemplate: this.parent.spinnerTemplate,\n            allowDeferLayoutUpdate: this.parent.allowDeferLayoutUpdate,\n            renderMode: 'Popup',\n            allowCalculatedField: this.parent.allowCalculatedField,\n            showValuesButton: this.parent.showValuesButton,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            target: this.parent.element.parentElement,\n            maxNodeLimitInMemberEditor: this.parent.maxNodeLimitInMemberEditor,\n            aggregateCellInfo: this.parent.bindTriggerEvents.bind(this.parent)\n        });\n        this.parent.pivotFieldListModule.appendTo('#' + this.element.id);\n    };\n    FieldList.prototype.updateControl = function () {\n        if (this.element) {\n            this.element.style.display = 'block';\n            prepend([this.element], this.parent.element);\n            if (this.parent.showGroupingBar && this.parent.groupingBarModule) {\n                clearTimeout(this.timeOutObj);\n                this.timeOutObj = setTimeout(this.update.bind(this));\n            }\n            else {\n                setStyleAttribute(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS), {\n                    left: 'auto'\n                });\n                if (this.parent.enableRtl) {\n                    removeClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n                }\n                else {\n                    addClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n                }\n            }\n            setStyleAttribute(this.element, {\n                width: formatUnit(this.parent.element.offsetWidth)\n            });\n        }\n        this.parent.pivotFieldListModule.update(this.parent);\n    };\n    FieldList.prototype.update = function () {\n        var currentWidth;\n        if (this.parent.currentView !== 'Table') {\n            currentWidth = this.parent.chart ? this.parent.chartModule.calculatedWidth : currentWidth;\n        }\n        else {\n            currentWidth = this.parent.grid ? this.parent.grid.element.offsetWidth : currentWidth;\n        }\n        if (currentWidth) {\n            var actualWidth = currentWidth < 400 ? 400 : currentWidth;\n            setStyleAttribute(this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS), {\n                left: formatUnit(this.parent.enableRtl ?\n                    -Math.abs((actualWidth) -\n                        this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth) :\n                    (actualWidth) -\n                        this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth)\n            });\n            if (this.parent.enableRtl) {\n                addClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n            }\n            else {\n                removeClass([this.element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS)], 'e-fieldlist-left');\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    FieldList.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.initiateModule,\n            update: this.updateControl\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initSubComponent, this.handlers.load, this);\n        this.parent.on(events.uiUpdate, this.handlers.update, this);\n    };\n    /**\n     * @hidden\n     */\n    FieldList.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initSubComponent, this.handlers.load);\n        this.parent.off(events.uiUpdate, this.handlers.update);\n    };\n    /**\n     * To destroy the Field List\n     * @return {void}\n     * @hidden\n     */\n    FieldList.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.parent.pivotFieldListModule) {\n            this.parent.pivotFieldListModule.destroy();\n        }\n        else {\n            return;\n        }\n    };\n    return FieldList;\n}());\nexport { FieldList };\n","import * as events from '../../common/base/constant';\nimport { PivotCommon } from '../../common/base/pivot-common';\nimport { Browser } from '@syncfusion/ej2-base';\n/**\n * Module for PivotCommon rendering\n */\n/** @hidden */\nvar Common = /** @class */ (function () {\n    /** Constructor for Common module */\n    function Common(parent) {\n        this.parent = parent;\n        this.parent.commonModule = this;\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    Common.prototype.getModuleName = function () {\n        return 'common';\n    };\n    Common.prototype.initiateCommonModule = function () {\n        if (!this.parent.pivotCommon) {\n            var args = {\n                pivotEngine: this.parent.dataType === 'olap' ? this.parent.olapEngineModule : this.parent.engineModule,\n                dataSourceSettings: this.parent.dataSourceSettings.properties ?\n                    this.parent.dataSourceSettings.properties : this.parent.dataSourceSettings,\n                id: this.parent.element.id,\n                element: this.parent.element,\n                moduleName: this.parent.getModuleName(),\n                enableRtl: this.parent.enableRtl,\n                isAdaptive: Browser.isDevice,\n                renderMode: 'Popup',\n                localeObj: this.parent.localeObj,\n                dataType: this.parent.dataType\n            };\n            this.parent.pivotCommon = new PivotCommon(args);\n        }\n        else {\n            this.parent.pivotCommon.element = this.parent.element;\n            this.parent.pivotCommon.engineModule = this.parent.dataType === 'olap' ?\n                this.parent.olapEngineModule : this.parent.engineModule;\n            this.parent.pivotCommon.parentID = this.parent.element.id;\n            this.parent.pivotCommon.dataSourceSettings = this.parent.dataSourceSettings.properties ?\n                this.parent.dataSourceSettings.properties : this.parent.dataSourceSettings;\n            this.parent.pivotCommon.moduleName = this.parent.getModuleName();\n            this.parent.pivotCommon.enableRtl = this.parent.enableRtl;\n            this.parent.pivotCommon.isAdaptive = Browser.isDevice;\n            this.parent.pivotCommon.renderMode = 'Popup';\n            this.parent.pivotCommon.localeObj = this.parent.localeObj;\n            this.parent.pivotCommon.dataType = this.parent.dataType;\n        }\n        this.parent.pivotCommon.control = this.parent;\n    };\n    /**\n     * @hidden\n     */\n    Common.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.initiateCommonModule\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.parent.gridSettings.contextMenuItems) {\n            if ((!this.parent.showFieldList) || (!this.parent.showGroupingBar)) {\n                this.parent.on(events.initialLoad, this.handlers.load, this);\n            }\n        }\n        this.parent.on(events.uiUpdate, this.handlers.load, this);\n    };\n    /**\n     * @hidden\n     */\n    Common.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.uiUpdate, this.handlers.load);\n    };\n    /**\n     * To destroy the groupingbar\n     * @return {void}\n     * @hidden\n     */\n    Common.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.parent.pivotCommon) {\n            this.parent.pivotCommon.destroy();\n        }\n    };\n    return Common;\n}());\nexport { Common };\n","import { PivotButton } from '../actions/pivot-button';\nimport * as events from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { createElement, prepend } from '@syncfusion/ej2-base';\n/**\n * Module to render Axis Fields\n */\n/** @hidden */\nvar AxisFields = /** @class */ (function () {\n    /** Constructor for render module */\n    function AxisFields(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Initialize the pivot button rendering\n     * @returns void\n     * @private\n     */\n    AxisFields.prototype.render = function () {\n        this.pivotButton = new PivotButton(this.parent);\n        this.createPivotButtons();\n        var pivotButtons = [];\n        /* tslint:disable:no-any */\n        for (var _i = 0, _a = this.parent.element.querySelectorAll('.' + cls.GROUP_ROW_CLASS); _i < _a.length; _i++) {\n            var element = _a[_i];\n            if (!element.classList.contains(cls.GROUP_CHART_ROW)) {\n                pivotButtons = pivotButtons.concat([].slice.call(element.querySelectorAll('.' + cls.PIVOT_BUTTON_WRAPPER_CLASS)));\n            }\n        }\n        var vlen = pivotButtons.length;\n        for (var j = 0; j < vlen; j++) {\n            var indentWidth = 24;\n            var indentDiv = createElement('span', {\n                className: 'e-indent-div',\n                styles: 'width:' + j * indentWidth + 'px'\n            });\n            prepend([indentDiv], pivotButtons[j]);\n        }\n    };\n    AxisFields.prototype.createPivotButtons = function () {\n        var fields = [this.parent.dataSourceSettings.rows, this.parent.dataSourceSettings.columns,\n            this.parent.dataSourceSettings.values, this.parent.dataSourceSettings.filters];\n        for (var _i = 0, _a = this.parent.element.querySelectorAll('.' + cls.GROUP_ROW_CLASS + ',.' + cls.GROUP_COLUMN_CLASS + ',.'\n            + cls.GROUP_VALUE_CLASS + ',.' + cls.GROUP_FILTER_CLASS); _i < _a.length; _i++) {\n            var element = _a[_i];\n            if (this.parent.dataSourceSettings.values.length > 0 ? !element.classList.contains(cls.GROUP_CHART_VALUE) : true) {\n                element.innerHTML = '';\n            }\n        }\n        var axis = ['rows', 'columns', 'values', 'filters'];\n        var count = axis.length;\n        for (var i = 0, lnt = fields.length; i < lnt; i++) {\n            if (fields[i]) {\n                var args = {\n                    field: fields[i],\n                    axis: axis[i].toString()\n                };\n                this.parent.notify(events.pivotButtonUpdate, args);\n            }\n        }\n    };\n    return AxisFields;\n}());\nexport { AxisFields };\n","import { createElement, remove, Droppable, setStyleAttribute, removeClass } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass, formatUnit } from '@syncfusion/ej2-base';\nimport { PivotView } from '../../pivotview/base/pivotview';\nimport { Common } from '../actions/common';\nimport * as events from '../../common/base/constant';\nimport * as cls from '../../common/base/css-constant';\nimport { AxisFields } from './axis-field-renderer';\nPivotView.Inject(Common);\n/**\n * Module for GroupingBar rendering\n */\n/** @hidden */\nvar GroupingBar = /** @class */ (function () {\n    /** Constructor for GroupingBar module */\n    function GroupingBar(parent) {\n        this.parent = parent;\n        this.parent.groupingBarModule = this;\n        this.resColWidth = (this.parent.isAdaptive ? 180 : 249);\n        this.addEventListener();\n        this.parent.axisFieldModule = new AxisFields(this.parent);\n        this.touchObj = new Touch(this.parent.element, {\n            tapHold: this.tapHoldHandler.bind(this)\n        });\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    GroupingBar.prototype.getModuleName = function () {\n        return 'grouping';\n    };\n    GroupingBar.prototype.renderLayout = function () {\n        this.groupingTable = createElement('div', { className: cls.GROUPING_BAR_CLASS });\n        this.leftAxisPanel = createElement('div', { className: cls.LEFT_AXIS_PANEL_CLASS });\n        this.rightAxisPanel = createElement('div', { className: cls.RIGHT_AXIS_PANEL_CLASS });\n        var rowAxisPanel = createElement('div', { className: cls.AXIS_ROW_CLASS + ' ' + cls.AXIS_ICON_CLASS + 'wrapper' });\n        var columnAxisPanel = createElement('div', {\n            className: cls.AXIS_COLUMN_CLASS + ' ' + cls.AXIS_ICON_CLASS + 'wrapper'\n        });\n        var valueAxisPanel = createElement('div', {\n            className: cls.AXIS_VALUE_CLASS + ' ' + cls.AXIS_ICON_CLASS + 'wrapper'\n        });\n        var filterAxisPanel = createElement('div', {\n            className: cls.AXIS_FILTER_CLASS + ' ' + cls.AXIS_ICON_CLASS + 'wrapper'\n        });\n        this.rowPanel = createElement('div', { className: cls.GROUP_ROW_CLASS + ' ' + cls.ROW_AXIS_CLASS });\n        this.columnPanel = createElement('div', { className: cls.GROUP_COLUMN_CLASS + ' ' + cls.COLUMN_AXIS_CLASS });\n        this.valuePanel = createElement('div', { className: cls.GROUP_VALUE_CLASS + ' ' + cls.VALUE_AXIS_CLASS });\n        this.filterPanel = createElement('div', { className: cls.GROUP_FILTER_CLASS + ' ' + cls.FILTER_AXIS_CLASS });\n        rowAxisPanel.appendChild(this.rowPanel);\n        columnAxisPanel.appendChild(this.columnPanel);\n        valueAxisPanel.appendChild(this.valuePanel);\n        filterAxisPanel.appendChild(this.filterPanel);\n        this.rowAxisPanel = rowAxisPanel;\n        this.columnAxisPanel = columnAxisPanel;\n        this.valueAxisPanel = valueAxisPanel;\n        this.filterAxisPanel = filterAxisPanel;\n        this.leftAxisPanel.appendChild(valueAxisPanel);\n        this.leftAxisPanel.appendChild(rowAxisPanel);\n        this.rightAxisPanel.appendChild(filterAxisPanel);\n        this.rightAxisPanel.appendChild(columnAxisPanel);\n        this.groupingTable.appendChild(this.leftAxisPanel);\n        this.groupingTable.appendChild(this.rightAxisPanel);\n        this.groupingTable.classList.add(cls.GRID_GROUPING_BAR_CLASS);\n        var axisPanels = [this.rowPanel, this.columnPanel, this.valuePanel, this.filterPanel];\n        for (var _i = 0, axisPanels_1 = axisPanels; _i < axisPanels_1.length; _i++) {\n            var element = axisPanels_1[_i];\n            if (this.parent.groupingBarSettings.allowDragAndDrop) {\n                new Droppable(element, {});\n            }\n            this.unWireEvent(element);\n            this.wireEvent(element);\n        }\n        if (this.parent.displayOption.view !== 'Table' && this.parent.groupingBarSettings.displayMode !== 'Table') {\n            this.groupingChartTable = this.groupingTable.cloneNode(true);\n            this.groupingChartTable.classList.add(cls.CHART_GROUPING_BAR_CLASS);\n            this.groupingChartTable.classList.remove(cls.GRID_GROUPING_BAR_CLASS);\n            this.groupingChartTable.querySelector('.' + cls.GROUP_ROW_CLASS).classList.add(cls.GROUP_CHART_ROW);\n            this.groupingChartTable.querySelector('.' + cls.GROUP_COLUMN_CLASS).classList.add(cls.GROUP_CHART_COLUMN);\n            if (this.parent.chartSettings.enableMultiAxis) {\n                this.groupingChartTable.querySelector('.' + cls.GROUP_VALUE_CLASS).classList.add(cls.GROUP_CHART_MULTI_VALUE);\n            }\n            else {\n                this.groupingChartTable.querySelector('.' + cls.GROUP_VALUE_CLASS).classList.add(cls.GROUP_CHART_VALUE);\n                this.groupingChartTable.querySelector('.' + cls.GROUP_VALUE_CLASS).classList.remove(cls.DROPPABLE_CLASS);\n            }\n            this.groupingChartTable.querySelector('.' + cls.GROUP_FILTER_CLASS).classList.add(cls.GROUP_CHART_FILTER);\n        }\n        else {\n            this.groupingChartTable = undefined;\n        }\n        if (this.parent.displayOption.view === 'Chart' || this.parent.groupingBarSettings.displayMode === 'Chart') {\n            this.groupingTable = undefined;\n        }\n    };\n    GroupingBar.prototype.appendToElement = function () {\n        if (this.parent.element.querySelector('.' + cls.GRID_CLASS) || this.parent.element.querySelector('.' + cls.PIVOTCHART)) {\n            if (this.parent.showGroupingBar) {\n                if (this.parent.element.querySelector('.' + cls.GROUPING_BAR_CLASS)) {\n                    /* tslint:disable:no-any */\n                    for (var _i = 0, _a = this.parent.element.querySelectorAll('.' + cls.GROUPING_BAR_CLASS); _i < _a.length; _i++) {\n                        var element = _a[_i];\n                        remove(element);\n                    }\n                }\n                if (this.groupingChartTable) {\n                    if (this.parent.element.querySelector('#' + this.parent.element.id + '_chart')) {\n                        setStyleAttribute(this.groupingChartTable, { width: formatUnit(this.parent.chart.width) });\n                        this.parent.element.insertBefore(this.groupingChartTable, this.parent.element.querySelector('#' + this.parent.element.id + '_chart'));\n                    }\n                    else {\n                        this.groupingChartTable = undefined;\n                    }\n                }\n                if (this.parent.displayOption.view !== 'Chart' && this.groupingTable) {\n                    if (this.parent.isAdaptive) {\n                        this.leftAxisPanel.style.minWidth = '180px';\n                        this.valuePanel.style.minWidth = '180px';\n                    }\n                    if (this.parent.firstColWidth) {\n                        this.leftAxisPanel.style.minWidth = 'auto';\n                        this.valuePanel.style.minWidth = 'auto';\n                    }\n                    this.filterPanel.removeAttribute('style');\n                    this.columnPanel.removeAttribute('style');\n                    this.rowPanel.removeAttribute('style');\n                    this.filterPanel.removeAttribute('style');\n                    var emptyRowCount = void 0;\n                    if (this.parent.dataType === 'olap') {\n                        emptyRowCount = Object.keys(this.parent.olapEngineModule.headerContent).length;\n                    }\n                    else {\n                        emptyRowCount = Object.keys(this.parent.engineModule.headerContent).length;\n                    }\n                    if (emptyRowCount) {\n                        var emptyHeader = this.parent.element.querySelector('.e-frozenheader').querySelector('.e-columnheader');\n                        addClass([emptyHeader], 'e-row');\n                        emptyHeader.removeAttribute('style');\n                        addClass([emptyHeader.querySelector('.e-headercell')], 'e-group-row');\n                        emptyHeader.querySelector('.e-group-row').appendChild(this.rowAxisPanel);\n                        emptyHeader.querySelector('.e-group-row').querySelector('.e-headercelldiv').style.display = 'none';\n                        emptyHeader.querySelector('.e-group-row').querySelector('.e-sortfilterdiv').style.display = 'none';\n                    }\n                    this.parent.element.insertBefore(this.groupingTable, this.parent.element.querySelector('.' + cls.GRID_CLASS));\n                    setStyleAttribute(this.groupingTable, { width: formatUnit(this.parent.getGridWidthAsNumber()) });\n                    this.groupingTable.style.minWidth = '400px';\n                    this.parent.axisFieldModule.render();\n                    this.setGridRowWidth();\n                    var colGroupElement = this.parent.element.querySelector('.e-frozenheader').querySelector('colgroup').children[0];\n                    var rightAxisPanelWidth = formatUnit(this.groupingTable.offsetWidth - parseInt(colGroupElement.style.width, 10));\n                    setStyleAttribute(this.valuePanel, { width: colGroupElement.style.width });\n                    setStyleAttribute(this.rightAxisPanel, { width: rightAxisPanelWidth });\n                    var rightPanelHeight = (this.valuePanel.offsetHeight / 2);\n                    if (rightPanelHeight > this.columnPanel.offsetHeight) {\n                        setStyleAttribute(this.filterPanel, { height: formatUnit(rightPanelHeight) });\n                        setStyleAttribute(this.columnPanel, { height: formatUnit(rightPanelHeight + 1) });\n                    }\n                    var topLeftHeight = this.parent.element.querySelector('.e-headercontent').offsetHeight;\n                    setStyleAttribute(this.rowPanel, {\n                        height: topLeftHeight + 'px'\n                    });\n                    if (this.parent.element.querySelector('.e-frozenheader').querySelector('.e-rhandler')) {\n                        this.parent.element.querySelector('.e-frozenheader').querySelector('.e-rhandler').style.height =\n                            topLeftHeight + 'px';\n                    }\n                    var colRows = [].slice.call(this.parent.element.querySelector('.e-movableheader').querySelector('thead').querySelectorAll('tr'));\n                    var columnRows = colRows.filter(function (trCell) {\n                        return (trCell.childNodes.length > 0);\n                    });\n                    var colHeight = topLeftHeight / columnRows.length;\n                    for (var _b = 0, columnRows_1 = columnRows; _b < columnRows_1.length; _b++) {\n                        var element = columnRows_1[_b];\n                        setStyleAttribute(element, { 'height': colHeight + 'px' });\n                        var rowHeader = [].slice.call(element.querySelectorAll('.e-rhandler'));\n                        for (var _c = 0, rowHeader_1 = rowHeader; _c < rowHeader_1.length; _c++) {\n                            var rhElement = rowHeader_1[_c];\n                            setStyleAttribute(rhElement, { 'height': colHeight + 'px' });\n                        }\n                    }\n                }\n                else {\n                    this.parent.axisFieldModule.render();\n                }\n                if (this.parent.showToolbar && this.parent.displayOption.view === 'Both') {\n                    if (this.parent.currentView === 'Table') {\n                        this.parent.element.querySelector('.e-chart-grouping-bar').style.display = 'none';\n                    }\n                    else {\n                        this.parent.element.querySelector('.e-pivot-grouping-bar').style.display = 'none';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    GroupingBar.prototype.refreshUI = function () {\n        setStyleAttribute(this.groupingTable, { width: formatUnit(this.parent.getGridWidthAsNumber()) });\n        this.groupingTable.style.minWidth = '400px';\n        var colGroupElement = this.parent.element.querySelector('.e-frozenheader').querySelector('colgroup').children[0];\n        var rightAxisWidth = formatUnit(this.groupingTable.offsetWidth - parseInt(colGroupElement.style.width, 10));\n        setStyleAttribute(this.valuePanel, { width: colGroupElement.style.width });\n        setStyleAttribute(this.rightAxisPanel, { width: rightAxisWidth });\n        if (this.parent.showFieldList && this.parent.pivotFieldListModule && this.parent.pivotFieldListModule.element) {\n            clearTimeout(this.timeOutObj);\n            this.timeOutObj = setTimeout(this.alignIcon.bind(this));\n        }\n        if (!this.parent.grid.element.querySelector('.e-group-row')) {\n            var emptyRowHeader = this.parent.element.querySelector('.e-frozenheader').querySelector('.e-columnheader');\n            addClass([emptyRowHeader], 'e-row');\n            addClass([emptyRowHeader.querySelector('.e-headercell')], 'e-group-row');\n            setStyleAttribute(this.rowPanel, {\n                height: this.parent.element.querySelector('.e-headercontent').offsetHeight + 'px'\n            });\n            emptyRowHeader.querySelector('.e-group-row').appendChild(this.rowAxisPanel);\n            setStyleAttribute(emptyRowHeader.querySelector('.e-group-row').querySelector('.e-headercelldiv'), {\n                display: 'none'\n            });\n            setStyleAttribute(emptyRowHeader.querySelector('.e-group-row').querySelector('.e-sortfilterdiv'), {\n                display: 'none'\n            });\n            var groupHeight = this.parent.element.querySelector('.e-headercontent').offsetHeight;\n            setStyleAttribute(this.rowPanel, {\n                height: groupHeight + 'px'\n            });\n            if (this.parent.element.querySelector('.e-frozenheader').querySelector('.e-rhandler')) {\n                this.parent.element.querySelector('.e-frozenheader').querySelector('.e-rhandler').style.height =\n                    groupHeight + 'px';\n            }\n            var colRowElements = [].slice.call(this.parent.element.querySelector('.e-movableheader').querySelector('thead').querySelectorAll('tr'));\n            var columnRows = colRowElements.filter(function (trCell) {\n                return (trCell.childNodes.length > 0);\n            });\n            var colHeight = groupHeight / columnRows.length;\n            for (var _i = 0, columnRows_2 = columnRows; _i < columnRows_2.length; _i++) {\n                var element = columnRows_2[_i];\n                setStyleAttribute(element, { 'height': colHeight + 'px' });\n                var rowHeader = [].slice.call(element.querySelectorAll('.e-rhandler'));\n                for (var _a = 0, rowHeader_2 = rowHeader; _a < rowHeader_2.length; _a++) {\n                    var handlerElement = rowHeader_2[_a];\n                    setStyleAttribute(handlerElement, { 'height': colHeight + 'px' });\n                }\n            }\n        }\n    };\n    /** @hidden */\n    GroupingBar.prototype.alignIcon = function () {\n        var element = this.parent.pivotFieldListModule.element;\n        var currentWidth;\n        if (this.parent.currentView === 'Table') {\n            currentWidth = this.parent.grid ? this.parent.grid.element.offsetWidth : currentWidth;\n        }\n        else {\n            currentWidth = this.parent.chart ? this.parent.chartModule.calculatedWidth : currentWidth;\n        }\n        if (currentWidth) {\n            var actWidth = currentWidth < 400 ? 400 : currentWidth;\n            setStyleAttribute(element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS), {\n                left: formatUnit(this.parent.enableRtl ?\n                    -Math.abs((actWidth) -\n                        element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth) :\n                    (actWidth) -\n                        element.querySelector('.' + cls.TOGGLE_FIELD_LIST_CLASS).offsetWidth)\n            });\n        }\n    };\n    /**\n     * @hidden\n     */\n    GroupingBar.prototype.setGridRowWidth = function () {\n        var colGroupElement = this.parent.element.querySelector('.e-frozenheader').querySelector('colgroup').children[0];\n        if (this.rowPanel.querySelector('.' + cls.PIVOT_BUTTON_CLASS)) {\n            if (!this.parent.isAdaptive) {\n                var pivotButtons = [].slice.call(this.rowPanel.querySelectorAll('.' + cls.PIVOT_BUTTON_WRAPPER_CLASS));\n                var lastButton = pivotButtons[pivotButtons.length - 1];\n                var lastButtonWidth = (lastButton.querySelector('.' + cls.PIVOT_BUTTON_CLASS).offsetWidth +\n                    lastButton.querySelector('.e-indent-div').offsetWidth + 20);\n                var buttonWidth = formatUnit(lastButtonWidth < this.resColWidth ? this.resColWidth : lastButtonWidth);\n                var rowHeaderTable = this.parent.element.querySelector('.e-frozenheader').querySelector('table');\n                var rowContentTable = this.parent.element.querySelector('.e-frozencontent').querySelector('table');\n                var rowContent = this.parent.element.querySelector('.e-frozencontent').querySelector('colgroup').children[0];\n                var colwidth = parseInt(buttonWidth, 10);\n                var gridColumn = this.parent.grid.columns;\n                if (gridColumn && gridColumn.length > 0) {\n                    /* tslint:disable:align */\n                    gridColumn[0].width = (gridColumn[0].width >= this.resColWidth ?\n                        (colwidth > this.resColWidth ? colwidth : this.resColWidth) :\n                        (colwidth > this.resColWidth ? colwidth : this.resColWidth));\n                }\n                var valueColWidth = void 0;\n                if (this.parent.dataType === 'olap') {\n                    valueColWidth = this.parent.renderModule.calculateColWidth((this.parent.dataSourceSettings.values.length > 0 &&\n                        this.parent.olapEngineModule.pivotValues.length > 0) ?\n                        this.parent.olapEngineModule.pivotValues[0].length : 2);\n                }\n                else {\n                    valueColWidth = this.parent.renderModule.calculateColWidth((this.parent.dataSourceSettings.values.length > 0 &&\n                        this.parent.engineModule.pivotValues.length > 0) ?\n                        this.parent.engineModule.pivotValues[0].length : 2);\n                }\n                for (var cCnt = 0; cCnt < gridColumn.length; cCnt++) {\n                    if (cCnt !== 0) {\n                        if (gridColumn[cCnt].columns) {\n                            this.setColWidth(gridColumn[cCnt].columns, valueColWidth);\n                        }\n                        else {\n                            gridColumn[cCnt].width = valueColWidth;\n                            if (gridColumn[cCnt].width !== 'auto') {\n                                var levelName = gridColumn[cCnt].customAttributes ?\n                                    gridColumn[cCnt].customAttributes.cell.valueSort.levelName : '';\n                                gridColumn[cCnt].width = this.parent.renderModule.setSavedWidth(levelName, valueColWidth);\n                            }\n                            else {\n                                gridColumn[cCnt].minWidth = valueColWidth;\n                            }\n                        }\n                    }\n                }\n                this.parent.posCount = 0;\n                this.parent.setGridColumns(this.parent.grid.columns);\n                this.parent.grid.headerModule.refreshUI();\n                if (!this.parent.firstColWidth) {\n                    colGroupElement.style.width = buttonWidth;\n                    rowContent.style.width = buttonWidth;\n                    rowHeaderTable.style.width = buttonWidth;\n                    rowContentTable.style.width = buttonWidth;\n                    setStyleAttribute(rowHeaderTable, { 'width': buttonWidth });\n                    setStyleAttribute(rowContentTable, { 'width': buttonWidth });\n                }\n            }\n            else {\n                if (!this.parent.firstColWidth) {\n                    var gridColumn = this.parent.grid.columns;\n                    if (gridColumn && gridColumn.length > 0) {\n                        gridColumn[0].width = this.resColWidth;\n                    }\n                    this.parent.posCount = 0;\n                    this.parent.grid.headerModule.refreshUI();\n                }\n            }\n        }\n        else {\n            if (this.parent.grid.columns && this.parent.grid.columns.length > 0) {\n                this.parent.grid.columns[0].width = this.parent.grid.columns[0].width > this.resColWidth ?\n                    this.parent.grid.columns[0].width : this.resColWidth;\n            }\n            this.parent.grid.headerModule.refreshUI();\n        }\n        if (this.groupingTable) {\n            this.refreshUI();\n        }\n    };\n    GroupingBar.prototype.setColWidth = function (columns, width) {\n        for (var cCnt = 0; cCnt < columns.length; cCnt++) {\n            if (columns[cCnt].columns) {\n                this.setColWidth(columns[cCnt].columns, width);\n            }\n            else {\n                columns[cCnt].width = width;\n            }\n        }\n    };\n    GroupingBar.prototype.wireEvent = function (element) {\n        EventHandler.add(element, 'mouseover', this.dropIndicatorUpdate, this);\n        EventHandler.add(element, 'mouseleave', this.dropIndicatorUpdate, this);\n    };\n    GroupingBar.prototype.unWireEvent = function (element) {\n        EventHandler.remove(element, 'mouseover', this.dropIndicatorUpdate);\n        EventHandler.remove(element, 'mouseleave', this.dropIndicatorUpdate);\n    };\n    GroupingBar.prototype.dropIndicatorUpdate = function (e) {\n        if ((this.parent.isDragging && e.target.classList.contains(cls.DROPPABLE_CLASS) && e.type === 'mouseover') ||\n            e.type === 'mouseleave') {\n            removeClass([].slice.call(this.parent.element.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS)), cls.INDICATOR_HOVER_CLASS);\n            removeClass([].slice.call(this.parent.element.querySelectorAll('.' + cls.DROP_INDICATOR_CLASS + '-last')), cls.INDICATOR_HOVER_CLASS);\n        }\n    };\n    GroupingBar.prototype.tapHoldHandler = function (e) {\n        var target = closest(e.originalEvent.target, '.' + cls.PIVOT_BUTTON_CLASS);\n        if (!isNullOrUndefined(target) && this.parent.isAdaptive) {\n            var pos = target.getBoundingClientRect();\n            this.parent.contextMenuModule.fieldElement = target;\n            this.parent.contextMenuModule.menuObj.open(pos.top, pos.left);\n            return;\n        }\n    };\n    /**\n     * @hidden\n     */\n    GroupingBar.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.renderLayout,\n            end: this.appendToElement,\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initSubComponent, this.handlers.load, this); //For initial rendering\n        this.parent.on(events.uiUpdate, this.handlers.end, this);\n    };\n    /**\n     * @hidden\n     */\n    GroupingBar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initSubComponent, this.handlers.end);\n        this.parent.off(events.uiUpdate, this.handlers.load);\n    };\n    /**\n     * To destroy the groupingbar\n     * @return {void}\n     * @hidden\n     */\n    GroupingBar.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.parent.pivotButtonModule) {\n            this.parent.pivotButtonModule.destroy();\n            if (this.touchObj && !this.touchObj.isDestroyed) {\n                this.touchObj.destroy();\n            }\n        }\n        else {\n            return;\n        }\n    };\n    return GroupingBar;\n}());\nexport { GroupingBar };\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { isNullOrUndefined as isNaN, createElement, extend, remove, addClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\n/**\n * Module to render Conditional Formatting Dialog\n */\n/** @hidden */\nvar ConditionalFormatting = /** @class */ (function () {\n    /** Constructor for conditionalformatting module */\n    function ConditionalFormatting(parent) {\n        this.parent = parent;\n        this.parent.conditionalFormattingModule = this;\n        this.parentID = this.parent.element.id;\n        this.dialog = null;\n        this.fieldsDropDown = [];\n        this.conditionsDropDown = [];\n        this.fontNameDropDown = [];\n        this.fontSizeDropDown = [];\n        this.fontColor = [];\n        this.backgroundColor = [];\n        this.newFormat = [];\n    }\n    /**\n     * To get module name.\n     * @returns string\n     */\n    ConditionalFormatting.prototype.getModuleName = function () {\n        return 'conditionalformatting';\n    };\n    ConditionalFormatting.prototype.createDialog = function () {\n        if (document.querySelector('#' + this.parentID + 'conditionalformatting') !== null) {\n            remove(document.querySelector('#' + this.parentID + 'conditionalformatting'));\n        }\n        this.parent.element.appendChild(createElement('div', {\n            id: this.parentID + 'conditionalformatting',\n        }));\n        var buttonModel = [\n            {\n                click: this.addButtonClick.bind(this),\n                buttonModel: {\n                    cssClass: this.parent.isAdaptive ? (cls.FORMAT_ROUND_BUTTON + ' ' + cls.FORMAT_CONDITION_BUTTON) :\n                        cls.FORMAT_CONDITION_BUTTON,\n                    iconCss: cls.ICON + ' ' + cls.ADD_ICON_CLASS,\n                    content: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('condition'),\n                }\n            },\n            {\n                click: this.applyButtonClick.bind(this),\n                buttonModel: {\n                    cssClass: cls.FLAT_CLASS + ' ' + cls.FORMAT_APPLY_BUTTON,\n                    content: this.parent.localeObj.getConstant('apply')\n                }\n            },\n            {\n                click: this.cancelButtonClick.bind(this),\n                buttonModel: {\n                    cssClass: cls.FLAT_CLASS + ' ' + cls.FORMAT_CANCEL_BUTTON,\n                    content: this.parent.localeObj.getConstant('cancel')\n                }\n            }\n        ];\n        if (this.parent.isAdaptive) {\n            this.dialog = new Dialog({\n                animationSettings: { effect: 'Zoom' }, isModal: true, width: '100%', height: '100%',\n                showCloseIcon: false, closeOnEscape: false, enableRtl: this.parent.enableRtl,\n                position: { X: 'center', Y: 'center' }, allowDragging: true, buttons: buttonModel,\n                beforeOpen: this.beforeOpen.bind(this),\n                cssClass: cls.FORMAT_DIALOG, header: this.parent.localeObj.getConstant('conditionalFormating'), target: document.body\n            });\n        }\n        else {\n            this.dialog = new Dialog({\n                allowDragging: true, position: { X: 'center', Y: this.parent.element.offsetTop }, buttons: buttonModel,\n                beforeOpen: this.beforeOpen.bind(this),\n                cssClass: cls.FORMAT_DIALOG, isModal: false, closeOnEscape: true, enableRtl: this.parent.enableRtl,\n                showCloseIcon: true, header: this.parent.localeObj.getConstant('conditionalFormating'), target: this.parent.element\n            });\n        }\n        this.dialog.isStringTemplate = true;\n        this.dialog.appendTo('#' + this.parentID + 'conditionalformatting');\n        // this.dialog.element.querySelector('.e-dlg-header').innerHTML = this.parent.localeObj.getConstant('conditionalFormating');\n    };\n    ConditionalFormatting.prototype.beforeOpen = function (args) {\n        this.dialog.element.querySelector('.' + cls.DIALOG_HEADER).\n            setAttribute('title', this.parent.localeObj.getConstant('conditionalFormating'));\n    };\n    ConditionalFormatting.prototype.addButtonClick = function () {\n        var format = {\n            conditions: 'LessThan',\n            value1: 0,\n            applyGrandTotals: true,\n            style: {\n                backgroundColor: 'white',\n                color: 'black',\n                fontFamily: 'Arial',\n                fontSize: '12px'\n            }\n        };\n        this.parent.trigger(events.conditionalFormatting, format);\n        this.refreshConditionValues();\n        this.newFormat.push(format);\n        this.addFormat();\n    };\n    ConditionalFormatting.prototype.applyButtonClick = function () {\n        if (this.refreshConditionValues()) {\n            this.parent.setProperties({ dataSourceSettings: { conditionalFormatSettings: this.newFormat } }, true);\n            this.parent.renderPivotGrid();\n            this.destroy();\n        }\n    };\n    ConditionalFormatting.prototype.cancelButtonClick = function () {\n        this.destroy();\n        this.newFormat = [];\n    };\n    ConditionalFormatting.prototype.refreshConditionValues = function () {\n        for (var i = 0; i < this.newFormat.length; i++) {\n            if (document.querySelector('#' + this.parentID + 'conditionvalue1' + i).value === '' ||\n                document.querySelector('#' + this.parentID + 'conditionvalue2' + i).value === '') {\n                document.querySelector('#' + this.parentID + 'conditionvalue1' + i).value === '' ?\n                    document.querySelector('#' + this.parentID + 'conditionvalue1' + i).focus() :\n                    document.querySelector('#' + this.parentID + 'conditionvalue2' + i).focus();\n                return false;\n            }\n            this.newFormat[i].value1 =\n                Number(document.querySelector('#' + this.parentID + 'conditionvalue1' + i).value);\n            this.newFormat[i].value2 =\n                Number(document.querySelector('#' + this.parentID + 'conditionvalue2' + i).value);\n        }\n        return true;\n    };\n    ConditionalFormatting.prototype.addFormat = function () {\n        var format = createElement('div', { id: this.parentID + 'formatDiv', className: cls.FORMAT_NEW });\n        for (var i = 0; i < this.newFormat.length; i++) {\n            format.appendChild(this.createDialogElements(i));\n        }\n        if (this.newFormat.length === 0) {\n            var outerDiv = this.createDialogElements();\n            var element = createElement('p', {\n                id: this.parentID + 'emptyFormat',\n                innerHTML: this.parent.localeObj.getConstant('emptyFormat'),\n                styles: 'margin: 10px'\n            });\n            outerDiv.appendChild(element);\n            format.appendChild(outerDiv);\n        }\n        this.dialog.setProperties({ 'content': format }, false);\n        for (var i = 0; i < this.newFormat.length; i++) {\n            this.renderDropDowns(i);\n            this.renderColorPicker(i);\n        }\n    };\n    ConditionalFormatting.prototype.createDialogElements = function (i) {\n        var outerDiv = createElement('div', {\n            id: this.parentID + 'outerDiv' + i, className: cls.FORMAT_OUTER\n        });\n        if (i !== undefined) {\n            var format = this.newFormat[i];\n            var button = createElement('button', {\n                id: this.parentID + 'removeButton' + i, className: cls.FORMAT_DELETE_BUTTON,\n                attrs: { 'title': this.parent.localeObj.getConstant('delete') }\n            });\n            outerDiv.appendChild(button);\n            var innerDiv = createElement('div', { id: this.parentID + 'innerDiv', className: cls.FORMAT_INNER });\n            var table = createElement('table', { id: this.parentID + 'cftable', className: cls.FORMAT_TABLE });\n            var tRow = createElement('tr');\n            var td = createElement('td');\n            var valuelabel = createElement('span', {\n                id: this.parentID + 'valuelabel' + i, className: cls.FORMAT_VALUE_LABEL,\n                innerHTML: this.parent.localeObj.getConstant('value')\n            });\n            td.appendChild(valuelabel);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            tRow = createElement('tr');\n            td = createElement('td');\n            var measureDropdown = createElement('div', { id: this.parentID + 'measure' + i });\n            var measureInput = createElement('input', {\n                id: this.parentID + 'measureinput' + i,\n                attrs: { 'type': 'text', 'tabindex': '1' }\n            });\n            measureDropdown.appendChild(measureInput);\n            td.appendChild(measureDropdown);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var conditionDropdown = createElement('div', { id: this.parentID + 'condition' });\n            var conditionInput = createElement('input', {\n                id: this.parentID + 'conditioninput' + i,\n                attrs: { 'type': 'text', 'tabindex': '1' }\n            });\n            conditionDropdown.appendChild(conditionInput);\n            td.appendChild(conditionDropdown);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var style = !(format.conditions === 'Between' || format.conditions === 'NotBetween') ? 'display:none; width:10px' : '';\n            var value1 = createElement('input', {\n                id: this.parentID + 'conditionvalue1' + i,\n                attrs: {\n                    'type': 'text', 'tabindex': '1', 'value': !isNaN(format.value1) ? format.value1.toString() : '0',\n                    'placeholder': this.parent.localeObj.getConstant('emptyInput')\n                },\n                styles: this.parent.isAdaptive ? style === '' ? 'width: 35%' : 'width: 100%' : style === '' ? 'width: 45px' :\n                    'width: 120px',\n                className: cls.INPUT + ' ' + cls.FORMAT_VALUE1\n            });\n            td.appendChild(value1);\n            var valuespan = createElement('span', {\n                id: this.parentID + 'valuespan' + i, className: cls.FORMAT_VALUE_SPAN,\n                innerHTML: '&', styles: style\n            });\n            td.appendChild(valuespan);\n            var value2 = createElement('input', {\n                id: this.parentID + 'conditionvalue2' + i,\n                attrs: {\n                    'type': 'text', 'tabindex': '1', 'value': !isNaN(format.value2) ? format.value2.toString() : '0',\n                    'placeholder': this.parent.localeObj.getConstant('emptyInput')\n                },\n                styles: (this.parent.isAdaptive && style === '') ? 'width: 35%' : style === '' ? 'width: 45px' : style,\n                className: cls.INPUT + ' ' + cls.FORMAT_VALUE2\n            });\n            td.appendChild(value2);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            if (this.parent.isAdaptive) {\n                innerDiv.appendChild(table);\n                table = createElement('table', { id: this.parentID + 'cftable', className: cls.FORMAT_TABLE });\n            }\n            tRow = createElement('tr');\n            td = createElement('td');\n            var formatlabel = createElement('span', {\n                id: this.parentID + 'formatlabel' + i, className: cls.FORMAT_LABEL,\n                innerHTML: this.parent.localeObj.getConstant('formatLabel')\n            });\n            td.appendChild(formatlabel);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            tRow = createElement('tr');\n            td = createElement('td');\n            var fontNameDropdown = createElement('div', { id: this.parentID + 'fontname' });\n            var fontNameInput = createElement('input', {\n                id: this.parentID + 'fontnameinput' + i, attrs: { 'type': 'text', 'tabindex': '1' }\n            });\n            fontNameDropdown.appendChild(fontNameInput);\n            td.appendChild(fontNameDropdown);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var fontSizeDropdown = createElement('div', { id: this.parentID + 'fontsize' });\n            var fontSizeInput = createElement('input', {\n                id: this.parentID + 'fontsizeinput' + i, attrs: { 'type': 'text', 'tabindex': '1' }\n            });\n            fontSizeDropdown.appendChild(fontSizeInput);\n            td.appendChild(fontSizeDropdown);\n            tRow.appendChild(td);\n            if (this.parent.isAdaptive) {\n                table.appendChild(tRow);\n                tRow = createElement('tr');\n                table.appendChild(tRow);\n                tRow = createElement('tr');\n            }\n            td = createElement('td');\n            var colorPicker1 = createElement('input', {\n                id: this.parentID + 'fontcolor' + i, attrs: { 'type': 'color', 'tabindex': '1' }, className: cls.FORMAT_FONT_COLOR\n            });\n            td.appendChild(colorPicker1);\n            var colorPicker2 = createElement('input', {\n                id: this.parentID + 'backgroundcolor' + i, attrs: { 'type': 'color', 'tabindex': '1' }, className: cls.FORMAT_BACK_COLOR\n            });\n            td.appendChild(colorPicker2);\n            tRow.appendChild(td);\n            td = createElement('td');\n            var valuePreview = createElement('div', {\n                id: this.parentID + 'valuepreview' + i, className: cls.INPUT + ' ' + cls.FORMAT_VALUE_PREVIEW,\n                innerHTML: '123.45',\n            });\n            td.appendChild(valuePreview);\n            tRow.appendChild(td);\n            table.appendChild(tRow);\n            innerDiv.appendChild(table);\n            outerDiv.appendChild(innerDiv);\n        }\n        return outerDiv;\n    };\n    ConditionalFormatting.prototype.renderDropDowns = function (i) {\n        var format = this.newFormat[i];\n        var fields = [];\n        fields.push({\n            index: 0, name: this.parent.localeObj.getConstant('AllValues'),\n            field: this.parent.localeObj.getConstant('AllValues')\n        });\n        for (var i_1 = 0; i_1 < this.parent.dataSourceSettings.values.length; i_1++) {\n            fields.push({\n                index: i_1 + 1,\n                name: this.parent.dataSourceSettings.values[i_1].caption || this.parent.dataSourceSettings.values[i_1].name,\n                field: this.parent.dataSourceSettings.values[i_1].name\n            });\n        }\n        var value = isNaN(format.measure) ? this.parent.localeObj.getConstant('AllValues') : format.measure;\n        this.fieldsDropDown[i] = new DropDownList({\n            dataSource: fields, fields: { text: 'name', value: 'field' },\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            popupHeight: '200px', popupWidth: 'auto',\n            change: this.measureChange.bind(this, i)\n        });\n        this.fieldsDropDown[i].isStringTemplate = true;\n        this.fieldsDropDown[i].appendTo('#' + this.parentID + 'measureinput' + i);\n        var conditions = [\n            { value: 'LessThan', name: this.parent.localeObj.getConstant('LessThan') },\n            { value: 'LessThanOrEqualTo', name: this.parent.localeObj.getConstant('LessThanOrEqualTo') },\n            { value: 'GreaterThan', name: this.parent.localeObj.getConstant('GreaterThan') },\n            { value: 'GreaterThanOrEqualTo', name: this.parent.localeObj.getConstant('GreaterThanOrEqualTo') },\n            { value: 'Equals', name: this.parent.localeObj.getConstant('Equals') },\n            { value: 'NotEquals', name: this.parent.localeObj.getConstant('NotEquals') },\n            { value: 'Between', name: this.parent.localeObj.getConstant('Between') },\n            { value: 'NotBetween', name: this.parent.localeObj.getConstant('NotBetween') }\n        ];\n        value = isNaN(format.conditions) ? 'LessThan' : format.conditions;\n        this.conditionsDropDown[i] = new DropDownList({\n            dataSource: conditions, fields: { value: 'value', text: 'name' },\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            popupHeight: '200px', popupWidth: 'auto',\n            change: this.conditionChange.bind(this, i)\n        });\n        this.conditionsDropDown[i].isStringTemplate = true;\n        this.conditionsDropDown[i].appendTo('#' + this.parentID + 'conditioninput' + i);\n        var fontNames = [\n            { index: 0, name: 'Arial' }, { index: 1, name: 'San Serif' }, { index: 2, name: 'Impact' },\n            { index: 3, name: 'Trebuchet MS' }, { index: 4, name: 'Serif' }, { index: 5, name: 'Verdana' },\n            { index: 6, name: 'Courier New' }, { index: 7, name: 'Times New Roman' }, { index: 8, name: 'Tahoma' },\n            { index: 9, name: 'Gerogia' }\n        ];\n        value = isNaN(format.style.fontFamily) ? 'Arial' : format.style.fontFamily;\n        this.fontNameDropDown[i] = new DropDownList({\n            dataSource: fontNames, fields: { text: 'name' },\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            popupWidth: '150px', popupHeight: '200px',\n            change: this.fontNameChange.bind(this, i)\n        });\n        this.fontNameDropDown[i].isStringTemplate = true;\n        this.fontNameDropDown[i].appendTo('#' + this.parentID + 'fontnameinput' + i);\n        var fontSize = [\n            { index: 0, name: '9px' }, { index: 1, name: '10px' }, { index: 2, name: '11px' }, { index: 3, name: '12px' },\n            { index: 4, name: '13px' }, { index: 5, name: '14px' }, { index: 6, name: '15px' }, { index: 6, name: '16px' }\n        ];\n        value = isNaN(format.style.fontSize) ? '12px' : format.style.fontSize;\n        this.fontSizeDropDown[i] = new DropDownList({\n            dataSource: fontSize, fields: { text: 'name' }, popupHeight: '200px',\n            value: value, width: this.parent.isAdaptive ? '100%' : '120px',\n            change: this.fontSizeChange.bind(this, i)\n        });\n        this.fontSizeDropDown[i].isStringTemplate = true;\n        this.fontSizeDropDown[i].appendTo('#' + this.parentID + 'fontsizeinput' + i);\n    };\n    ConditionalFormatting.prototype.conditionChange = function (i, args) {\n        this.newFormat[i].conditions = args.value;\n        if (args.value === 'Between' || args.value === 'NotBetween') {\n            document.querySelector('#' + this.parentID + 'valuespan' + i).style.display = 'inline-block';\n            document.querySelector('#' + this.parentID + 'valuespan' + i).style.width =\n                this.parent.isAdaptive ? '10%' : '10px';\n            document.querySelector('#' + this.parentID + 'conditionvalue2' + i).style.display = 'inline-block';\n            document.querySelector('#' + this.parentID + 'conditionvalue2' + i).style.width =\n                this.parent.isAdaptive ? '35%' : '45px';\n            document.querySelector('#' + this.parentID + 'conditionvalue1' + i).style.width =\n                this.parent.isAdaptive ? '35%' : '45px';\n        }\n        else {\n            document.querySelector('#' + this.parentID + 'valuespan' + i).style.display = 'none';\n            document.querySelector('#' + this.parentID + 'conditionvalue2' + i).style.display = 'none';\n            document.querySelector('#' + this.parentID + 'conditionvalue1' + i).style.width =\n                this.parent.isAdaptive ? '100%' : '120px';\n        }\n    };\n    ConditionalFormatting.prototype.fontNameChange = function (i, args) {\n        this.newFormat[i].style.fontFamily = args.value.toString();\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.fontFamily = args.value;\n    };\n    ConditionalFormatting.prototype.fontSizeChange = function (i, args) {\n        this.newFormat[i].style.fontSize = args.value.toString();\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.fontSize = args.value;\n    };\n    ConditionalFormatting.prototype.measureChange = function (i, args) {\n        this.newFormat[i].measure = args.value.toString() === this.parent.localeObj.getConstant('AllValues') ?\n            undefined : args.value.toString();\n    };\n    ConditionalFormatting.prototype.renderColorPicker = function (i) {\n        var format = this.newFormat[i];\n        var value = isNaN(format.style.color) ? 'black' : format.style.color;\n        var color = this.isHex(value.substr(1)) ? value : this.colourNameToHex(value);\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.color = color;\n        this.fontColor[i] = new ColorPicker({\n            cssClass: cls.FORMAT_COLOR_PICKER, value: color, mode: 'Palette',\n            change: this.fontColorChange.bind(this, i)\n        });\n        this.fontColor[i].isStringTemplate = true;\n        this.fontColor[i].appendTo('#' + this.parentID + 'fontcolor' + i);\n        addClass([this.fontColor[i].element.nextElementSibling.querySelector('.' + cls.SELECTED_COLOR)], cls.ICON);\n        value = isNaN(format.style.backgroundColor) ? 'white' : format.style.backgroundColor;\n        color = this.isHex(value.substr(1)) ? value : this.colourNameToHex(value);\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.backgroundColor = color;\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.fontFamily = format.style.fontFamily;\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.fontSize = format.style.fontSize;\n        this.backgroundColor[i] = new ColorPicker({\n            cssClass: cls.FORMAT_COLOR_PICKER, value: color, mode: 'Palette',\n            change: this.backColorChange.bind(this, i)\n        });\n        this.backgroundColor[i].isStringTemplate = true;\n        this.backgroundColor[i].appendTo('#' + this.parentID + 'backgroundcolor' + i);\n        addClass([this.backgroundColor[i].element.nextElementSibling.querySelector('.e-selected-color')], cls.ICON);\n        var toggleBtn = new Button({\n            iconCss: cls.ICON + ' ' + cls.FORMAT_DELETE_ICON,\n            cssClass: cls.FLAT\n        });\n        toggleBtn.isStringTemplate = true;\n        toggleBtn.appendTo('#' + this.parentID + 'removeButton' + i);\n        toggleBtn.element.onclick = this.toggleButtonClick.bind(this, i);\n    };\n    ConditionalFormatting.prototype.backColorChange = function (i, args) {\n        this.newFormat[i].style.backgroundColor = args.currentValue.hex;\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.backgroundColor =\n            args.currentValue.hex;\n    };\n    ConditionalFormatting.prototype.fontColorChange = function (i, args) {\n        this.newFormat[i].style.color = args.currentValue.hex;\n        document.querySelector('#' + this.parentID + 'valuepreview' + i).style.color =\n            args.currentValue.hex;\n    };\n    ConditionalFormatting.prototype.toggleButtonClick = function (i) {\n        this.newFormat.splice(i, 1);\n        this.addFormat();\n    };\n    /**\n     * To check is Hex or not.\n     * @returns boolean\n     * @hidden\n     */\n    ConditionalFormatting.prototype.isHex = function (h) {\n        var a = parseInt(h, 16);\n        while (h.charAt(0) === '0') {\n            h = h.substr(1);\n        }\n        return (a.toString(16) === h.toLowerCase() || (a === 0 && h === ''));\n    };\n    /**\n     * To convert hex to RGB.\n     * @returns { r: number, g: number, b: number } | null\n     * @hidden\n     */\n    ConditionalFormatting.prototype.hexToRgb = function (hex) {\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : null;\n    };\n    /**\n     * To convert color to hex.\n     * @returns string\n     * @hidden\n     */\n    ConditionalFormatting.prototype.colourNameToHex = function (colour) {\n        var colours = {\n            'aliceblue': '#f0f8ff', 'antiquewhite': '#faebd7', 'aqua': '#00ffff', 'aquamarine': '#7fffd4',\n            'azure': '#f0ffff', 'beige': '#f5f5dc', 'bisque': '#ffe4c4', 'black': '#000000',\n            'blanchedalmond': '#ffebcd', 'blue': '#0000ff',\n            'blueviolet': '#8a2be2', 'brown': '#a52a2a', 'burlywood': '#deb887', 'cadetblue': '#5f9ea0',\n            'chartreuse': '#7fff00', 'chocolate': '#d2691e',\n            'coral': '#ff7f50', 'cornflowerblue': '#6495ed', 'cornsilk': '#fff8dc', 'crimson': '#dc143c', 'cyan': '#00ffff',\n            'darkblue': '#00008b', 'darkcyan': '#008b8b', 'darkgoldenrod': '#b8860b', 'darkgray': '#a9a9a9', 'darkgreen': '#006400',\n            'darkkhaki': '#bdb76b', 'darkmagenta': '#8b008b', 'darkolivegreen': '#556b2f',\n            'darkorange': '#ff8c00', 'darkorchid': '#9932cc', 'darkred': '#8b0000', 'darksalmon': '#e9967a', 'darkseagreen': '#8fbc8f',\n            'darkslateblue': '#483d8b', 'darkslategray': '#2f4f4f', 'darkturquoise': '#00ced1',\n            'darkviolet': '#9400d3', 'deeppink': '#ff1493', 'deepskyblue': '#00bfff', 'dimgray': '#696969', 'dodgerblue': '#1e90ff',\n            'firebrick': '#b22222', 'floralwhite': '#fffaf0', 'forestgreen': '#228b22', 'fuchsia': '#ff00ff',\n            'gainsboro': '#dcdcdc', 'ghostwhite': '#f8f8ff', 'gold': '#ffd700', 'goldenrod': '#daa520',\n            'gray': '#808080', 'green': '#008000',\n            'greenyellow': '#adff2f', 'honeydew': '#f0fff0', 'hotpink': '#ff69b4', 'indianred ': '#cd5c5c',\n            'indigo': '#4b0082', 'ivory': '#fffff0',\n            'khaki': '#f0e68c', 'lavender': '#e6e6fa', 'lavenderblush': '#fff0f5', 'lawngreen': '#7cfc00', 'lemonchiffon': '#fffacd',\n            'lightblue': '#add8e6', 'lightcoral': '#f08080', 'lightcyan': '#e0ffff', 'lightgoldenrodyellow': '#fafad2',\n            'lightgrey': '#d3d3d3', 'lightgreen': '#90ee90', 'lightpink': '#ffb6c1', 'lightsalmon': '#ffa07a', 'lightseagreen': '#20b2aa',\n            'lightskyblue': '#87cefa', 'lightslategray': '#778899', 'lightsteelblue': '#b0c4de',\n            'lightyellow': '#ffffe0', 'lime': '#00ff00', 'limegreen': '#32cd32', 'linen': '#faf0e6',\n            'magenta': '#ff00ff', 'maroon': '#800000', 'mediumaquamarine': '#66cdaa', 'mediumblue': '#0000cd', 'mediumorchid': '#ba55d3',\n            'mediumpurple': '#9370d8', 'mediumseagreen': '#3cb371', 'mediumslateblue': '#7b68ee',\n            'mediumspringgreen': '#00fa9a', 'mediumturquoise': '#48d1cc', 'mediumvioletred': '#c71585', 'midnightblue': '#191970',\n            'mintcream': '#f5fffa', 'mistyrose': '#ffe4e1', 'moccasin': '#ffe4b5', 'navajowhite': '#ffdead', 'navy': '#000080',\n            'oldlace': '#fdf5e6', 'olive': '#808000', 'olivedrab': '#6b8e23', 'orange': '#ffa500', 'orangered': '#ff4500',\n            'orchid': '#da70d6',\n            'palegoldenrod': '#eee8aa', 'palegreen': '#98fb98', 'paleturquoise': '#afeeee', 'palevioletred': '#d87093',\n            'papayawhip': '#ffefd5',\n            'peachpuff': '#ffdab9', 'peru': '#cd853f', 'pink': '#ffc0cb', 'plum': '#dda0dd', 'powderblue': '#b0e0e6', 'purple': '#800080',\n            'rebeccapurple': '#663399', 'red': '#ff0000', 'rosybrown': '#bc8f8f', 'royalblue': '#4169e1',\n            'saddlebrown': '#8b4513', 'salmon': '#fa8072', 'sandybrown': '#f4a460', 'seagreen': '#2e8b57',\n            'seashell': '#fff5ee', 'sienna': '#a0522d',\n            'silver': '#c0c0c0', 'skyblue': '#87ceeb', 'slateblue': '#6a5acd', 'slategray': '#708090', 'snow': '#fffafa',\n            'springgreen': '#00ff7f',\n            'steelblue': '#4682b4', 'tan': '#d2b48c', 'teal': '#008080', 'thistle': '#d8bfd8', 'tomato': '#ff6347', 'turquoise': '#40e0d0',\n            'violet': '#ee82ee', 'wheat': '#f5deb3', 'white': '#ffffff', 'whitesmoke': '#f5f5f5', 'yellow': '#ffff00',\n            'yellowgreen': '#9acd32'\n        };\n        if (typeof colours[colour.toLowerCase()] !== 'undefined') {\n            return colours[colour.toLowerCase()];\n        }\n        return '#d5d5d5';\n    };\n    /**\n     * To create Conditional Formatting dialog.\n     * @returns void\n     */\n    ConditionalFormatting.prototype.showConditionalFormattingDialog = function () {\n        this.newFormat = [];\n        for (var i = 0; i < this.parent.dataSourceSettings.conditionalFormatSettings.length; i++) {\n            this.newFormat.push(extend({}, this.parent.dataSourceSettings.conditionalFormatSettings[i].properties, null, true));\n        }\n        this.createDialog();\n        this.dialog.refresh();\n        this.addFormat();\n    };\n    /**\n     * To destroy the Conditional Formatting dialog\n     * @returns void\n     * @hidden\n     */\n    ConditionalFormatting.prototype.destroy = function () {\n        if (this.dialog && !this.dialog.isDestroyed) {\n            this.dialog.hide();\n            for (var i = 0; i < this.newFormat.length; i++) {\n                if (this.fontColor[i] && !this.fontColor[i].isDestroyed) {\n                    this.fontColor[i].destroy();\n                }\n                if (this.backgroundColor[i] && !this.backgroundColor[i].isDestroyed) {\n                    this.backgroundColor[i].destroy();\n                }\n            }\n            this.dialog.destroy();\n        }\n        else {\n            return;\n        }\n    };\n    return ConditionalFormatting;\n}());\nexport { ConditionalFormatting };\n","import { Toolbar as tool, Menu } from '@syncfusion/ej2-navigations';\nimport { remove, createElement } from '@syncfusion/ej2-base';\nimport * as events from '../../common/base/constant';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as cls from '../../common/base/css-constant';\nimport { Common } from '../actions/common';\nimport { PivotView } from '../../pivotview/base/pivotview';\nPivotView.Inject(Common);\n/**\n * Module for Toolbar\n */\n/** @hidden */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.currentReport = '';\n        this.parent = parent;\n        this.parent.toolbarModule = this;\n        this.addEventListener();\n    }\n    /**\n     * It returns the Module name.\n     * @returns string\n     * @hidden\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.createToolbar = function () {\n        this.parent.isModified = false;\n        this.renderDialog();\n        if (document.querySelector('#' + this.parent.element.id + 'pivot-toolbar') !== null) {\n            remove(document.querySelector('#' + this.parent.element.id + 'pivot-toolbar'));\n        }\n        var element = createElement('div', {\n            id: this.parent.element.id + 'pivot-toolbar',\n            className: cls.GRID_TOOLBAR\n        });\n        if (this.parent.showFieldList && this.parent.element.querySelector('#' + this.parent.element.id + '_PivotFieldList')) {\n            this.parent.element.insertBefore(element, this.parent.element.querySelector('#' + this.parent.element.id + '_PivotFieldList'));\n        }\n        else if (this.parent.showGroupingBar &&\n            this.parent.element.querySelector('#' + this.parent.element.id + ' .' + 'e-pivot-grouping-bar')) {\n            this.parent.element.insertBefore(element, this.parent.element.querySelector('#' + this.parent.element.id + ' .' + 'e-pivot-grouping-bar'));\n        }\n        else {\n            this.parent.element.insertBefore(element, this.parent.element.querySelector('#' + this.parent.element.id + '_grid'));\n        }\n        this.toolbar = new tool({\n            created: this.create.bind(this),\n            enableRtl: this.parent.enableRtl,\n            items: this.getItems()\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.appendTo('#' + this.parent.element.id + 'pivot-toolbar');\n        this.toolbar.width = this.parent.grid ? (this.parent.getGridWidthAsNumber() - 2) : (this.parent.getWidthAsNumber() - 2);\n        if (this.parent.chart) {\n            this.parent.chart.width = this.parent.grid ? this.parent.getGridWidthAsNumber().toString() :\n                this.parent.getWidthAsNumber().toString();\n        }\n    };\n    Toolbar.prototype.fetchReports = function () {\n        var reports = { reportName: [] };\n        this.parent.trigger(events.fetchReport, reports);\n        return reports;\n    };\n    /* tslint:disable */\n    Toolbar.prototype.getItems = function () {\n        var toolbar = this.parent.toolbar.filter(function (v, i, a) { return a.indexOf(v) === i; });\n        var items = [];\n        for (var _i = 0, toolbar_1 = toolbar; _i < toolbar_1.length; _i++) {\n            var item = toolbar_1[_i];\n            switch (item) {\n                case 'New':\n                    items.push({\n                        prefixIcon: cls.GRID_NEW + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('new'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'new'\n                    });\n                    break;\n                case 'Save':\n                    items.push({\n                        prefixIcon: cls.GRID_SAVE + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('save'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'save'\n                    });\n                    break;\n                case 'SaveAs':\n                    items.push({\n                        prefixIcon: cls.GRID_SAVEAS + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('saveAs'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'saveas'\n                    });\n                    break;\n                case 'Rename':\n                    items.push({\n                        prefixIcon: cls.GRID_RENAME + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('rename'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'rename'\n                    });\n                    break;\n                case 'Remove':\n                    items.push({\n                        prefixIcon: cls.GRID_REMOVE + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('deleteReport'),\n                        click: this.actionClick.bind(this), id: this.parent.element.id + 'remove'\n                    });\n                    break;\n                case 'Load':\n                    items.push({\n                        template: '<div><input class=' + cls.GRID_LOAD + ' id=' + this.parent.element.id + '_reportlist></input></div>',\n                        click: this.actionClick.bind(this),\n                        id: this.parent.element.id + 'load'\n                    });\n                    break;\n                case 'Grid':\n                    var toDisable = this.parent.displayOption.view === 'Chart';\n                    items.push({\n                        prefixIcon: cls.TOOLBAR_GRID + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('grid'),\n                        id: this.parent.element.id + 'grid', cssClass: toDisable ? cls.MENU_DISABLE : '',\n                        click: this.menuItemClick.bind(this)\n                    });\n                    break;\n                case 'Chart':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'chart_menu\"></ul>',\n                        id: this.parent.element.id + 'chartmenu'\n                    });\n                    break;\n                case 'MDX':\n                    if (this.parent.dataType == \"olap\") {\n                        items.push({\n                            prefixIcon: cls.GRID_MDX + ' ' + cls.ICON, id: this.parent.element.id + 'mdxQuery',\n                            click: this.actionClick.bind(this), tooltipText: this.parent.localeObj.getConstant('mdxQuery')\n                        });\n                    }\n                    break;\n                case 'Export':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'export_menu\"></ul>',\n                        id: this.parent.element.id + 'exportmenu'\n                    });\n                    break;\n                case 'SubTotal':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'subtotal_menu\"></ul>',\n                        id: this.parent.element.id + 'subtotalmenu'\n                    });\n                    break;\n                case 'GrandTotal':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'grandtotal_menu\"></ul>',\n                        id: this.parent.element.id + 'grandtotalmenu'\n                    });\n                    break;\n                case 'ConditionalFormatting':\n                    items.push({\n                        prefixIcon: cls.GRID_FORMATTING + ' ' + cls.ICON, id: this.parent.element.id + 'formatting',\n                        click: this.actionClick.bind(this), tooltipText: this.parent.localeObj.getConstant('toolbarFormatting')\n                    });\n                    break;\n                case 'NumberFormatting':\n                    items.push({\n                        prefixIcon: cls.FORMATTING_TOOLBAR + ' ' + cls.ICON, id: this.parent.element.id + 'numberFormatting',\n                        click: this.actionClick.bind(this), tooltipText: this.parent.localeObj.getConstant('numberFormat')\n                    });\n                    break;\n                case 'Formatting':\n                    items.push({\n                        template: '<ul id=\"' + this.parent.element.id + 'formatting_menu\"></ul>',\n                        id: this.parent.element.id + 'formattingmenu'\n                    });\n                    break;\n                case 'FieldList':\n                    items.push({\n                        prefixIcon: cls.TOOLBAR_FIELDLIST + ' ' + cls.ICON, tooltipText: this.parent.localeObj.getConstant('fieldList'),\n                        click: this.actionClick.bind(this), align: 'Right', id: this.parent.element.id + 'fieldlist'\n                    });\n                    if (this.parent.element.querySelector('.e-toggle-field-list')) {\n                        this.parent.element.querySelector('.e-toggle-field-list').style.display = 'none';\n                    }\n                    break;\n            }\n        }\n        if (this.parent.showFieldList && toolbar.indexOf(\"FieldList\") === -1 && this.parent.element.querySelector('#' + this.parent.element.id + '_PivotFieldList').style.display === 'none') {\n            this.parent.element.querySelector('#' + this.parent.element.id + '_PivotFieldList').style.display = 'block';\n        }\n        var toolbarArgs = { customToolbar: items };\n        this.parent.trigger(events.toolbarRender, toolbarArgs);\n        return items;\n    };\n    /* tslint:enable */\n    Toolbar.prototype.reportChange = function (args) {\n        this.dropArgs = args;\n        if (this.parent.isModified && this.currentReport !== '') {\n            this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('newReportConfirm'));\n        }\n        else {\n            this.reportLoad(args);\n        }\n    };\n    Toolbar.prototype.reportLoad = function (args) {\n        var _this = this;\n        if (this.action !== 'Save' && this.action !== 'Rename' && this.action !== 'New') {\n            var loadArgs = {\n                reportName: args.itemData.value\n            };\n            this.parent.trigger(events.loadReport, loadArgs, function (observedArgs) {\n                _this.currentReport = observedArgs.reportName;\n                _this.parent.isModified = false;\n            });\n        }\n    };\n    Toolbar.prototype.saveReport = function (args) {\n        if (this.currentReport && this.currentReport !== '' && args.item.id === (this.parent.element.id + 'save')) {\n            var saveArgs = {\n                report: this.parent.getPersistData(),\n                reportName: this.currentReport\n            };\n            this.parent.trigger(events.saveReport, saveArgs);\n            this.parent.isModified = false;\n        }\n        else {\n            this.dialogShow(args, 'saveAs');\n        }\n    };\n    Toolbar.prototype.mdxQueryDialog = function (args) {\n        if (!(this.mdxDialog && !this.mdxDialog.isDestroyed)) {\n            this.renderMDXDialog();\n        }\n        var outerDiv = createElement('div', {\n            className: cls.MDX_QUERY\n        });\n        var textarea = createElement('textarea', {\n            className: cls.MDX_QUERY_CONTENT,\n            innerHTML: this.parent.olapEngineModule.getMDXQuery(this.parent.dataSourceSettings).trim(),\n            attrs: { 'readonly': 'readonly' }\n        });\n        outerDiv.appendChild(textarea);\n        this.mdxDialog.content = outerDiv;\n        this.mdxDialog.show();\n    };\n    Toolbar.prototype.dialogShow = function (args, action) {\n        this.dialog.header = args.item.tooltipText;\n        var outerDiv = createElement('div', {\n            className: cls.GRID_REPORT_OUTER\n        });\n        var label = createElement('div', {\n            className: cls.GRID_REPORT_LABEL,\n            innerHTML: this.parent.localeObj.getConstant('reportName')\n        });\n        var input = createElement('input', {\n            className: cls.GRID_REPORT_INPUT + ' ' + cls.INPUT,\n            innerHTML: (action && action === 'rename' ? this.currentReport : ''),\n            attrs: {\n                'placeholder': this.parent.localeObj.getConstant('emptyReportName'),\n                'value': (action && action === 'rename' ? this.currentReport : '')\n            },\n        });\n        input.setSelectionRange(input.textContent.length, input.textContent.length);\n        outerDiv.appendChild(label);\n        outerDiv.appendChild(input);\n        this.dialog.content = outerDiv;\n        this.dialog.refresh();\n        this.dialog.show();\n    };\n    Toolbar.prototype.renameReport = function (args) {\n        this.parent.trigger(events.toolbarClick, args);\n        if (this.currentReport && this.currentReport !== '') {\n            this.dialogShow(args, 'rename');\n        }\n        else {\n            this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n            return;\n        }\n    };\n    Toolbar.prototype.actionClick = function (args) {\n        switch (args.item.id) {\n            case (this.parent.element.id + 'save'):\n            case (this.parent.element.id + 'saveas'):\n                this.saveReport(args);\n                break;\n            case (this.parent.element.id + 'remove'):\n                this.action = 'Remove';\n                if (this.currentReport && this.currentReport !== '') {\n                    this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('removeConfirm'));\n                }\n                else {\n                    this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('emptyReport'));\n                }\n                return;\n            case (this.parent.element.id + 'rename'):\n                this.renameReport(args);\n                break;\n            case (this.parent.element.id + 'new'):\n                this.action = 'New';\n                if (this.parent.isModified) {\n                    this.createConfirmDialog(this.parent.localeObj.getConstant('alert'), this.parent.localeObj.getConstant('newReportConfirm'));\n                }\n                else {\n                    this.createNewReport();\n                }\n                break;\n            case (this.parent.element.id + 'load'):\n                this.action = 'Load';\n                break;\n            case (this.parent.element.id + 'fieldlist'):\n                if (this.parent.pivotFieldListModule && this.parent.pivotFieldListModule.dialogRenderer) {\n                    this.parent.pivotFieldListModule.dialogRenderer.fieldListDialog.show();\n                }\n                break;\n            case (this.parent.element.id + 'formatting'):\n                if (this.parent.conditionalFormattingModule) {\n                    this.parent.conditionalFormattingModule.showConditionalFormattingDialog();\n                }\n                break;\n            case (this.parent.element.id + 'mdxQuery'):\n                this.mdxQueryDialog(args);\n                break;\n            case (this.parent.element.id + 'numberFormatting'):\n                if (this.parent.numberFormattingModule) {\n                    this.parent.numberFormattingModule.showNumberFormattingDialog();\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.renderDialog = function () {\n        if (document.querySelector('#' + this.parent.element.id + 'report-dialog') !== null) {\n            remove(document.querySelector('#' + this.parent.element.id + 'report-dialog'));\n        }\n        this.parent.element.appendChild(createElement('div', {\n            id: this.parent.element.id + 'report-dialog',\n            className: cls.GRID_REPORT_DIALOG\n        }));\n        this.dialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.okBtnClick.bind(this),\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('ok'),\n                        isPrimary: true\n                    }\n                },\n                {\n                    click: this.cancelBtnClick.bind(this),\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('cancel')\n                    }\n                }\n            ],\n            isModal: true,\n            visible: false,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: 'auto',\n            zIndex: 1000001,\n            closeOnEscape: true,\n            target: document.body\n        });\n        this.dialog.isStringTemplate = true;\n        this.dialog.appendTo('#' + this.parent.element.id + 'report-dialog');\n    };\n    Toolbar.prototype.renderMDXDialog = function () {\n        if (document.querySelector('#' + this.parent.element.id + 'mdx-dialog') !== null) {\n            remove(document.querySelector('#' + this.parent.element.id + 'mdx-dialog'));\n        }\n        this.parent.element.appendChild(createElement('div', {\n            id: this.parent.element.id + 'mdx-dialog',\n            className: cls.GRID_MDX_DIALOG\n        }));\n        this.mdxDialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.copyMDXQuery.bind(this),\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('copy'),\n                        isPrimary: true\n                    }\n                }\n            ],\n            header: this.parent.localeObj.getConstant('mdxQuery'),\n            isModal: true,\n            visible: false,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: 'auto',\n            zIndex: 1000001,\n            closeOnEscape: true,\n            target: document.body\n        });\n        this.mdxDialog.isStringTemplate = true;\n        this.mdxDialog.appendTo('#' + this.parent.element.id + 'mdx-dialog');\n    };\n    Toolbar.prototype.copyMDXQuery = function () {\n        var textArea = this.mdxDialog.element.querySelector('.' + cls.MDX_QUERY_CONTENT);\n        try {\n            textArea.select();\n            document.execCommand('copy');\n        }\n        catch (err) {\n            window.alert('Oops, unable to copy');\n        }\n        return;\n    };\n    Toolbar.prototype.okBtnClick = function () {\n        var reportInput = this.dialog.element.querySelector('.' + cls.GRID_REPORT_INPUT);\n        if (reportInput && reportInput.value === '') {\n            reportInput.focus();\n            return;\n        }\n        var isNew = false;\n        if ((this.dialog.header === this.parent.localeObj.getConstant('save') ||\n            this.dialog.header === this.parent.localeObj.getConstant('saveAs')) &&\n            reportInput.value && reportInput.value !== '') {\n            if (this.action === 'New') {\n                isNew = true;\n            }\n            else {\n                this.action = 'Save';\n            }\n            this.currentReport = reportInput.value;\n            var saveArgs = {\n                report: this.parent.getPersistData(),\n                reportName: reportInput.value\n            };\n            this.parent.trigger(events.saveReport, saveArgs);\n            this.parent.isModified = false;\n        }\n        else if (this.dialog.header === this.parent.localeObj.getConstant('rename') && reportInput.value && reportInput.value !== '') {\n            this.action = 'Rename';\n            var renameArgs = {\n                reportName: this.currentReport,\n                rename: reportInput.value\n            };\n            this.parent.trigger(events.renameReport, renameArgs);\n            this.currentReport = reportInput.value;\n        }\n        this.updateReportList();\n        this.dialog.hide();\n        if (isNew) {\n            this.createNewReport();\n        }\n    };\n    Toolbar.prototype.createNewReport = function () {\n        this.currentReport = '';\n        this.reportList.value = '';\n        this.reportList.text = '';\n        this.reportList.refresh();\n        this.parent.trigger(events.newReport);\n        this.parent.isModified = false;\n    };\n    Toolbar.prototype.cancelBtnClick = function () {\n        this.dialog.hide();\n    };\n    Toolbar.prototype.createConfirmDialog = function (title, description) {\n        if (document.getElementById(this.parent.element.id + '_ConfirmDialog')) {\n            remove(document.getElementById(this.parent.element.id + '_ConfirmDialog').parentElement);\n        }\n        var errorDialog = createElement('div', {\n            id: this.parent.element.id + '_ConfirmDialog',\n            className: cls.ERROR_DIALOG_CLASS\n        });\n        this.parent.element.appendChild(errorDialog);\n        this.confirmPopUp = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            header: title,\n            content: description,\n            isModal: true,\n            visible: true,\n            closeOnEscape: true,\n            target: document.body,\n            width: 'auto',\n            height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('ok'), isPrimary: true,\n                        cssClass: cls.OK_BUTTON_CLASS\n                    },\n                    click: this.okButtonClick.bind(this)\n                },\n                {\n                    buttonModel: {\n                        content: this.parent.localeObj.getConstant('cancel'),\n                        cssClass: cls.CANCEL_BUTTON_CLASS\n                    },\n                    click: this.cancelButtonClick.bind(this)\n                }\n            ]\n        });\n        this.confirmPopUp.isStringTemplate = true;\n        this.confirmPopUp.appendTo(errorDialog);\n        this.confirmPopUp.element.querySelector('.e-dlg-header').innerHTML = title;\n    };\n    Toolbar.prototype.okButtonClick = function () {\n        if (this.action === 'Remove') {\n            var removeArgs = {\n                reportName: this.currentReport\n            };\n            this.parent.trigger(events.removeReport, removeArgs);\n            this.currentReport = '';\n            this.parent.isModified = false;\n            this.action = '';\n            this.updateReportList();\n        }\n        else if (this.action === 'New' || (this.action !== 'Save' && this.action !== 'Rename' && this.action !== 'New')) {\n            if (this.currentReport && this.currentReport !== '') {\n                var saveArgs = {\n                    report: this.parent.getPersistData(),\n                    reportName: this.currentReport\n                };\n                this.parent.trigger(events.saveReport, saveArgs);\n                this.parent.isModified = false;\n                if (this.action === 'New') {\n                    this.createNewReport();\n                }\n                else {\n                    this.reportLoad(this.dropArgs);\n                }\n            }\n            else {\n                this.dialogShow({ item: { tooltipText: this.parent.localeObj.getConstant('save') } });\n            }\n        }\n        this.confirmPopUp.hide();\n    };\n    Toolbar.prototype.cancelButtonClick = function () {\n        if (this.action === 'New') {\n            this.createNewReport();\n        }\n        else if (this.dropArgs && this.action !== 'Remove') {\n            this.reportLoad(this.dropArgs);\n        }\n        this.confirmPopUp.hide();\n    };\n    /* tslint:disable */\n    Toolbar.prototype.create = function () {\n        var toDisable = this.parent.displayOption.view === 'Table';\n        if (this.parent.element.querySelector('#' + this.parent.element.id + 'chart_menu')) {\n            var menu = [{\n                    iconCss: cls.TOOLBAR_CHART + ' ' + cls.ICON,\n                    items: toDisable ? [] : [\n                        {\n                            text: this.parent.localeObj.getConstant('column'),\n                            id: this.parent.element.id + '_' + 'Column',\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('bar'),\n                            id: this.parent.element.id + '_' + 'Bar'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('line'),\n                            id: this.parent.element.id + '_' + 'Line'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('area'),\n                            id: this.parent.element.id + '_' + 'Area'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('scatter'),\n                            id: this.parent.element.id + '_' + 'Scatter'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('polar'),\n                            id: this.parent.element.id + '_' + 'Polar'\n                        }\n                    ]\n                }];\n            this.chartMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                select: this.menuItemClick.bind(this)\n            });\n            this.chartMenu.isStringTemplate = true;\n            this.chartMenu.appendTo('#' + this.parent.element.id + 'chart_menu');\n        }\n        if (this.parent.element.querySelector('#' + this.parent.element.id + 'export_menu')) {\n            var menu = [{\n                    iconCss: cls.GRID_EXPORT + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('pdf'),\n                            iconCss: cls.GRID_PDF_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'pdf'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('excel'),\n                            iconCss: cls.GRID_EXCEL_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'excel'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('csv'),\n                            iconCss: cls.GRID_CSV_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'csv'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('png'),\n                            iconCss: cls.GRID_PNG_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'png'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('jpeg'),\n                            iconCss: cls.GRID_JPEG_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'jpeg'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('svg'),\n                            iconCss: cls.GRID_SVG_EXPORT + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'svg'\n                        }\n                    ]\n                }];\n            this.exportMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                select: this.menuItemClick.bind(this), beforeOpen: this.updateExportMenu.bind(this)\n            });\n            this.exportMenu.isStringTemplate = true;\n            this.exportMenu.appendTo('#' + this.parent.element.id + 'export_menu');\n        }\n        if (this.parent.element.querySelector('#' + this.parent.element.id + 'subtotal_menu')) {\n            var menu = [{\n                    iconCss: cls.GRID_SUB_TOTAL + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('showSubTotals'),\n                            id: this.parent.element.id + 'subtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('doNotShowSubTotals'),\n                            id: this.parent.element.id + 'notsubtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showSubTotalsRowsOnly'),\n                            id: this.parent.element.id + 'subtotalrow',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showSubTotalsColumnsOnly'),\n                            id: this.parent.element.id + 'subtotalcolumn',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                    ]\n                }];\n            this.subTotalMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                select: this.menuItemClick.bind(this), beforeOpen: this.updateSubtotalSelection.bind(this)\n            });\n            this.subTotalMenu.isStringTemplate = true;\n            this.subTotalMenu.appendTo('#' + this.parent.element.id + 'subtotal_menu');\n        }\n        if (this.parent.element.querySelector('#' + this.parent.element.id + 'grandtotal_menu')) {\n            var menu = [{\n                    iconCss: cls.GRID_GRAND_TOTAL + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('showGrandTotals'),\n                            id: this.parent.element.id + 'grandtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('doNotShowGrandTotals'),\n                            id: this.parent.element.id + 'notgrandtotal',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showGrandTotalsRowsOnly'),\n                            id: this.parent.element.id + 'grandtotalrow',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('showGrandTotalsColumnsOnly'),\n                            id: this.parent.element.id + 'grandtotalcolumn',\n                            iconCss: cls.PIVOT_SELECT_ICON + ' ' + cls.ICON\n                        },\n                    ]\n                }];\n            this.grandTotalMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                select: this.menuItemClick.bind(this), beforeOpen: this.updateGrandtotalSelection.bind(this)\n            });\n            this.grandTotalMenu.isStringTemplate = true;\n            this.grandTotalMenu.appendTo('#' + this.parent.element.id + 'grandtotal_menu');\n        }\n        if (this.parent.element.querySelector('#' + this.parent.element.id + 'formatting_menu')) {\n            var menu = [{\n                    iconCss: cls.FORMATTING_MENU + ' ' + cls.ICON,\n                    items: [\n                        {\n                            text: this.parent.localeObj.getConstant('numberFormat'),\n                            iconCss: cls.NUMBER_FORMATTING_MENU + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'numberFormattingMenu'\n                        },\n                        {\n                            text: this.parent.localeObj.getConstant('conditionalFormating'),\n                            iconCss: cls.CONDITIONAL_FORMATTING_MENU + ' ' + cls.ICON,\n                            id: this.parent.element.id + 'conditionalFormattingMenu'\n                        }\n                    ]\n                }];\n            this.formattingMenu = new Menu({\n                items: menu, enableRtl: this.parent.enableRtl,\n                select: this.menuItemClick.bind(this)\n            });\n            this.formattingMenu.isStringTemplate = true;\n            this.formattingMenu.appendTo('#' + this.parent.element.id + 'formatting_menu');\n        }\n        if (this.parent.element.querySelector('#' + this.parent.element.id + '_reportlist')) {\n            var saveArgs = {\n                report: this.parent.getPersistData(),\n                reportName: this.parent.localeObj.getConstant('defaultReport')\n            };\n            this.currentReport = this.parent.localeObj.getConstant('defaultReport');\n            this.parent.trigger(events.saveReport, saveArgs);\n            var reports = this.fetchReports();\n            this.reportList = new DropDownList({\n                dataSource: reports.reportName,\n                width: '150px',\n                popupHeight: '200px',\n                placeholder: this.currentReport === '' ? this.parent.localeObj.getConstant('reportList') : '',\n                enableRtl: this.parent.enableRtl,\n                cssClass: cls.REPORT_LIST_DROP,\n                select: this.reportChange.bind(this),\n                value: this.currentReport\n            });\n            this.reportList.isStringTemplate = true;\n            this.reportList.appendTo('#' + this.parent.element.id + '_reportlist');\n        }\n    };\n    Toolbar.prototype.updateExportMenu = function (args) {\n        if (this.parent.currentView == \"Table\") {\n            args.element.querySelector('#' + this.parent.element.id + 'png').remove();\n            args.element.querySelector('#' + this.parent.element.id + 'jpeg').remove();\n            args.element.querySelector('#' + this.parent.element.id + 'svg').remove();\n        }\n        else {\n            args.element.querySelector('#' + this.parent.element.id + 'excel').remove();\n            args.element.querySelector('#' + this.parent.element.id + 'csv').remove();\n        }\n    };\n    Toolbar.prototype.updateSubtotalSelection = function (args) {\n        if (!args.element.querySelector('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!args.element.querySelector('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!args.element.querySelector('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!args.element.querySelector('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (this.parent.dataSourceSettings.showSubTotals && this.parent.dataSourceSettings.showRowSubTotals && !this.parent.dataSourceSettings.showColumnSubTotals) {\n            args.element.querySelector('#' + this.parent.element.id + 'subtotalrow' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showSubTotals && !this.parent.dataSourceSettings.showRowSubTotals && this.parent.dataSourceSettings.showColumnSubTotals) {\n            args.element.querySelector('#' + this.parent.element.id + 'subtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showSubTotals && this.parent.dataSourceSettings.showRowSubTotals && this.parent.dataSourceSettings.showColumnSubTotals) {\n            args.element.querySelector('#' + this.parent.element.id + 'subtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (!this.parent.dataSourceSettings.showSubTotals || (!this.parent.dataSourceSettings.showRowSubTotals && !this.parent.dataSourceSettings.showColumnSubTotals)) {\n            args.element.querySelector('#' + this.parent.element.id + 'notsubtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n    };\n    Toolbar.prototype.updateGrandtotalSelection = function (args) {\n        if (!args.element.querySelector('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!args.element.querySelector('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!args.element.querySelector('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (!args.element.querySelector('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON).classList.contains(cls.PIVOT_DISABLE_ICON)) {\n            args.element.querySelector('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON).classList.add(cls.PIVOT_DISABLE_ICON);\n        }\n        if (this.parent.dataSourceSettings.showGrandTotals && this.parent.dataSourceSettings.showRowGrandTotals && !this.parent.dataSourceSettings.showColumnGrandTotals) {\n            args.element.querySelector('#' + this.parent.element.id + 'grandtotalrow' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showGrandTotals && !this.parent.dataSourceSettings.showRowGrandTotals && this.parent.dataSourceSettings.showColumnGrandTotals) {\n            args.element.querySelector('#' + this.parent.element.id + 'grandtotalcolumn' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (this.parent.dataSourceSettings.showGrandTotals && this.parent.dataSourceSettings.showRowGrandTotals && this.parent.dataSourceSettings.showColumnGrandTotals) {\n            args.element.querySelector('#' + this.parent.element.id + 'grandtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n        else if (!this.parent.dataSourceSettings.showGrandTotals || (!this.parent.dataSourceSettings.showRowGrandTotals && !this.parent.dataSourceSettings.showColumnGrandTotals)) {\n            args.element.querySelector('#' + this.parent.element.id + 'notgrandtotal' + ' .' + cls.PIVOT_SELECT_ICON).classList.remove(cls.PIVOT_DISABLE_ICON);\n        }\n    };\n    Toolbar.prototype.updateReportList = function () {\n        var reports = this.fetchReports();\n        this.reportList.dataSource = reports.reportName;\n        if (this.currentReport === '' && this.reportList.dataSource.length > 0) {\n            this.reportList.value = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n            this.reportList.text = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n            this.currentReport = this.reportList.dataSource[this.reportList.dataSource.length - 1];\n        }\n        else {\n            this.reportList.value = this.currentReport;\n            this.reportList.text = this.currentReport;\n        }\n        this.reportList.refresh();\n    };\n    Toolbar.prototype.menuItemClick = function (args) {\n        switch (args.item.id) {\n            case (this.parent.element.id + 'grid'):\n                if (this.parent.grid && this.parent.chart) {\n                    this.parent.grid.element.style.display = '';\n                    this.parent.chart.element.style.display = 'none';\n                    this.parent.currentView = 'Table';\n                    if (this.parent.showGroupingBar) {\n                        this.parent.element.querySelector('.e-pivot-grouping-bar').style.display = \"\";\n                        this.parent.element.querySelector('.e-chart-grouping-bar').style.display = \"none\";\n                    }\n                    this.parent.layoutRefresh();\n                }\n                break;\n            case (this.parent.element.id + '_' + 'Column'):\n            case (this.parent.element.id + '_' + 'Bar'):\n            case (this.parent.element.id + '_' + 'Line'):\n            case (this.parent.element.id + '_' + 'Area'):\n            case (this.parent.element.id + '_' + 'Scatter'):\n            case (this.parent.element.id + '_' + 'Polar'):\n                if (args.item && args.item.text) {\n                    this.parent.chartSettings.chartSeries.type = args.item.id.split('_')[args.item.id.split('_').length - 1];\n                    if (this.parent.grid && this.parent.chart) {\n                        this.parent.grid.element.style.display = 'none';\n                        this.parent.chart.element.style.display = '';\n                        this.parent.currentView = 'Chart';\n                        if (this.parent.showGroupingBar) {\n                            this.parent.element.querySelector('.e-pivot-grouping-bar').style.display = \"none\";\n                            this.parent.element.querySelector('.e-chart-grouping-bar').style.display = \"\";\n                        }\n                    }\n                }\n                break;\n            case (this.parent.element.id + 'pdf'):\n                if (this.parent.currentView == \"Table\") {\n                    if (this.parent.pdfExportModule) {\n                        this.parent.pdfExportModule.exportToPDF();\n                    }\n                    else {\n                        this.parent.pdfExport();\n                    }\n                }\n                else {\n                    this.parent.chartExport('PDF', 'result');\n                }\n                break;\n            case (this.parent.element.id + 'excel'):\n                if (this.parent.excelExportModule) {\n                    this.parent.excelExportModule.exportToExcel('Excel');\n                }\n                else {\n                    this.parent.excelExport();\n                }\n                break;\n            case (this.parent.element.id + 'csv'):\n                if (this.parent.excelExportModule) {\n                    this.parent.excelExportModule.exportToExcel('csv');\n                }\n                else {\n                    this.parent.csvExport();\n                }\n                break;\n            case (this.parent.element.id + 'png'):\n                this.parent.chartExport('PNG', 'result');\n                break;\n            case (this.parent.element.id + 'jpeg'):\n                this.parent.chartExport('JPEG', 'result');\n                break;\n            case (this.parent.element.id + 'svg'):\n                this.parent.chartExport('SVG', 'result');\n                break;\n            case (this.parent.element.id + 'notsubtotal'):\n                this.parent.dataSourceSettings.showSubTotals = false;\n                this.parent.dataSourceSettings.showColumnSubTotals = false;\n                this.parent.dataSourceSettings.showRowSubTotals = false;\n                break;\n            case (this.parent.element.id + 'subtotalrow'):\n                this.parent.dataSourceSettings.showSubTotals = true;\n                this.parent.dataSourceSettings.showColumnSubTotals = false;\n                this.parent.dataSourceSettings.showRowSubTotals = true;\n                break;\n            case (this.parent.element.id + 'subtotalcolumn'):\n                this.parent.dataSourceSettings.showSubTotals = true;\n                this.parent.dataSourceSettings.showColumnSubTotals = true;\n                this.parent.dataSourceSettings.showRowSubTotals = false;\n                break;\n            case (this.parent.element.id + 'subtotal'):\n                this.parent.dataSourceSettings.showSubTotals = true;\n                this.parent.dataSourceSettings.showColumnSubTotals = true;\n                this.parent.dataSourceSettings.showRowSubTotals = true;\n                break;\n            case (this.parent.element.id + 'notgrandtotal'):\n                this.parent.dataSourceSettings.showGrandTotals = false;\n                this.parent.dataSourceSettings.showColumnGrandTotals = false;\n                this.parent.dataSourceSettings.showRowGrandTotals = false;\n                break;\n            case (this.parent.element.id + 'grandtotalrow'):\n                this.parent.dataSourceSettings.showGrandTotals = true;\n                this.parent.dataSourceSettings.showColumnGrandTotals = false;\n                this.parent.dataSourceSettings.showRowGrandTotals = true;\n                break;\n            case (this.parent.element.id + 'grandtotalcolumn'):\n                this.parent.dataSourceSettings.showGrandTotals = true;\n                this.parent.dataSourceSettings.showColumnGrandTotals = true;\n                this.parent.dataSourceSettings.showRowGrandTotals = false;\n                break;\n            case (this.parent.element.id + 'grandtotal'):\n                this.parent.dataSourceSettings.showGrandTotals = true;\n                this.parent.dataSourceSettings.showColumnGrandTotals = true;\n                this.parent.dataSourceSettings.showRowGrandTotals = true;\n                break;\n            case (this.parent.element.id + 'numberFormattingMenu'):\n                if (this.parent.numberFormattingModule) {\n                    this.parent.numberFormattingModule.showNumberFormattingDialog();\n                }\n                break;\n            case (this.parent.element.id + 'conditionalFormattingMenu'):\n                if (this.parent.conditionalFormattingModule) {\n                    this.parent.conditionalFormattingModule.showConditionalFormattingDialog();\n                }\n                break;\n        }\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initToolbar, this.createToolbar, this);\n    };\n    /**\n     * To refresh the toolbar\n     * @return {void}\n     * @hidden\n     */\n    Toolbar.prototype.refreshToolbar = function () {\n        this.createToolbar();\n    };\n    /**\n     * @hidden\n     */\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initToolbar, this.createToolbar);\n    };\n    /**\n     * To destroy the toolbar\n     * @return {void}\n     * @hidden\n     */\n    Toolbar.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.confirmPopUp && !this.confirmPopUp.isDestroyed) {\n            this.confirmPopUp.destroy();\n        }\n        if (this.dialog && !this.dialog.isDestroyed) {\n            this.dialog.destroy();\n        }\n        if (this.mdxDialog && !this.mdxDialog.isDestroyed) {\n            this.mdxDialog.destroy();\n        }\n        if (this.chartMenu && !this.chartMenu.isDestroyed) {\n            this.chartMenu.destroy();\n        }\n        if (this.exportMenu && !this.exportMenu.isDestroyed) {\n            this.exportMenu.destroy();\n        }\n        if (this.subTotalMenu && !this.subTotalMenu.isDestroyed) {\n            this.subTotalMenu.destroy();\n        }\n        if (this.grandTotalMenu && !this.grandTotalMenu.isDestroyed) {\n            this.grandTotalMenu.destroy();\n        }\n        if (this.formattingMenu && !this.formattingMenu.isDestroyed) {\n            this.formattingMenu.destroy();\n        }\n        if (this.reportList && !this.reportList.isDestroyed) {\n            this.reportList.destroy();\n        }\n        if (this.toolbar && !this.toolbar.isDestroyed) {\n            this.toolbar.destroy();\n        }\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","import { PivotView } from '../../pivotview/base/pivotview';\nimport { Dialog, hideSpinner } from '@syncfusion/ej2-popups';\nimport { createElement, remove, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../../common/base/css-constant';\nimport * as events from '../../common/base/constant';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { Common } from '../actions/common';\nPivotView.Inject(Common);\n/**\n * Module to render NumberFormatting Dialog\n */\nvar NumberFormatting = /** @class */ (function () {\n    function NumberFormatting(parent) {\n        this.parent = parent;\n        this.parent.numberFormattingModule = this;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    /**\n     * To get module name.\n     * @returns string\n     */\n    NumberFormatting.prototype.getModuleName = function () {\n        return 'numberformatting';\n    };\n    /**\n     * To show Number Formatting dialog.\n     * @returns void\n     */\n    NumberFormatting.prototype.showNumberFormattingDialog = function () {\n        var _this = this;\n        var valueDialog = createElement('div', {\n            id: this.parent.element.id + '_FormatDialog',\n            className: cls.FORMATTING_DIALOG\n        });\n        this.parent.element.appendChild(valueDialog);\n        this.dialog = new Dialog({\n            animationSettings: { effect: 'Fade' },\n            allowDragging: true,\n            header: this.parent.localeObj.getConstant('numberFormat'),\n            content: this.getDialogContent(),\n            isModal: true,\n            visible: true,\n            showCloseIcon: true,\n            enableRtl: this.parent.enableRtl,\n            width: 'auto',\n            height: 'auto',\n            position: { X: 'center', Y: 'center' },\n            buttons: [\n                {\n                    click: this.updateFormatting.bind(this),\n                    buttonModel: { cssClass: cls.OK_BUTTON_CLASS, content: this.parent.localeObj.getConstant('apply'), isPrimary: true }\n                },\n                {\n                    click: function () { _this.dialog.hide(); },\n                    buttonModel: { cssClass: cls.CANCEL_BUTTON_CLASS, content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            closeOnEscape: true,\n            target: this.parent.element,\n            overlayClick: function () { _this.removeDialog(); },\n            close: this.removeDialog.bind(this)\n        });\n        this.dialog.isStringTemplate = true;\n        this.dialog.appendTo(valueDialog);\n        this.dialog.element.querySelector('.' + cls.DIALOG_HEADER).innerHTML = this.parent.localeObj.getConstant('numberFormat');\n        this.renderControls();\n    };\n    NumberFormatting.prototype.getDialogContent = function () {\n        var outerElement = createElement('div', {\n            id: this.parent.element.id + '_FormatDialogOuter',\n            className: cls.FORMATTING_DIALOG_OUTER\n        });\n        var table = createElement('table', {\n            id: this.parent.element.id + '_FormatTable',\n            className: cls.FORMATTING_TABLE,\n            styles: 'width: 100%'\n        });\n        var tRow = createElement('tr');\n        var tValue = createElement('td');\n        var valueLable = createElement('div', {\n            id: this.parent.element.id + '_FormatValueLable',\n            className: cls.FORMATTING_VALUE_LABLE,\n            innerHTML: this.parent.localeObj.getConstant('values')\n        });\n        var valueDrop = createElement('div', {\n            id: this.parent.element.id + '_FormatValueDrop'\n        });\n        tValue.appendChild(valueLable);\n        tValue.appendChild(valueDrop);\n        tRow.appendChild(tValue);\n        table.appendChild(tRow);\n        tRow = createElement('tr');\n        tValue = createElement('td');\n        var formatLable = createElement('div', {\n            id: this.parent.element.id + '_FormatLable',\n            className: cls.FORMATTING_FORMAT_LABLE,\n            innerHTML: this.parent.localeObj.getConstant('formatType')\n        });\n        var formatDrop = createElement('div', {\n            id: this.parent.element.id + '_FormatDrop'\n        });\n        tValue.appendChild(formatLable);\n        tValue.appendChild(formatDrop);\n        tRow.appendChild(tValue);\n        table.appendChild(tRow);\n        tRow = createElement('tr');\n        tValue = createElement('td');\n        var groupingLable = createElement('div', {\n            id: this.parent.element.id + '_GroupingLable',\n            className: cls.FORMATTING_GROUPING_LABLE,\n            innerHTML: this.parent.localeObj.getConstant('grouping')\n        });\n        var groupingDrop = createElement('div', {\n            id: this.parent.element.id + '_GroupingDrop'\n        });\n        tValue.appendChild(groupingLable);\n        tValue.appendChild(groupingDrop);\n        tRow.appendChild(tValue);\n        table.appendChild(tRow);\n        tRow = createElement('tr');\n        tValue = createElement('td');\n        var decimalLable = createElement('div', {\n            id: this.parent.element.id + '_DecimalLable',\n            className: cls.FORMATTING_DECIMAL_LABLE,\n            innerHTML: this.parent.localeObj.getConstant('decimalPlaces')\n        });\n        var decimalDrop = createElement('div', {\n            id: this.parent.element.id + '_DecimalDrop'\n        });\n        tValue.appendChild(decimalLable);\n        tValue.appendChild(decimalDrop);\n        tRow.appendChild(tValue);\n        table.appendChild(tRow);\n        tRow = createElement('tr');\n        tValue = createElement('td');\n        this.customLable = createElement('div', {\n            id: this.parent.element.id + '_CustomLable',\n            className: cls.FORMATTING_CUSTOM_LABLE,\n            innerHTML: this.parent.localeObj.getConstant('customFormatString')\n        });\n        this.customText = createElement('input', {\n            id: this.parent.element.id + '_CustomText',\n            attrs: {\n                'type': 'text', 'tabindex': '0'\n            },\n            className: cls.INPUT + ' ' + cls.FORMATTING_CUSTOM_TEXT\n        });\n        tValue.appendChild(this.customLable);\n        tValue.appendChild(this.customText);\n        tRow.appendChild(tValue);\n        table.appendChild(tRow);\n        tRow = createElement('tr');\n        table.appendChild(tRow);\n        outerElement.appendChild(table);\n        return outerElement;\n    };\n    NumberFormatting.prototype.renderControls = function () {\n        if (this.dialog.element.querySelector('#' + this.parent.element.id + '_FormatValueDrop')) {\n            var valueFields = [];\n            valueFields.push({\n                index: 0, name: this.parent.localeObj.getConstant('AllValues'), field: this.parent.localeObj.getConstant('AllValues')\n            });\n            for (var i = 0; i < this.parent.dataSourceSettings.values.length; i++) {\n                valueFields.push({\n                    index: i + 1, name: this.parent.dataSourceSettings.values[i].caption || this.parent.dataSourceSettings.values[i].name,\n                    field: this.parent.dataSourceSettings.values[i].name\n                });\n            }\n            this.valuesDropDown = new DropDownList({\n                dataSource: valueFields, fields: { text: 'name', value: 'field' }, enableRtl: this.parent.enableRtl,\n                index: 0, cssClass: cls.FORMATTING_VALUE_DROP, change: this.valueChange.bind(this), width: '100%'\n            });\n            this.valuesDropDown.isStringTemplate = true;\n            this.valuesDropDown.appendTo('#' + this.parent.element.id + '_FormatValueDrop');\n        }\n        if (this.dialog.element.querySelector('#' + this.parent.element.id + '_FormatDrop')) {\n            var fields = [\n                { index: 0, name: this.parent.localeObj.getConstant('number') },\n                { index: 1, name: this.parent.localeObj.getConstant('currency') },\n                { index: 2, name: this.parent.localeObj.getConstant('percentage') },\n                { index: 2, name: this.parent.localeObj.getConstant('Custom') }\n            ];\n            this.formatDropDown = new DropDownList({\n                dataSource: fields, fields: { text: 'name', value: 'name' },\n                index: 0, change: this.dropDownChange.bind(this), enableRtl: this.parent.enableRtl,\n                cssClass: cls.FORMATTING_FORMAT_DROP, width: '100%'\n            });\n            this.formatDropDown.isStringTemplate = true;\n            this.formatDropDown.appendTo('#' + this.parent.element.id + '_FormatDrop');\n        }\n        if (this.dialog.element.querySelector('#' + this.parent.element.id + '_GroupingDrop')) {\n            var fields = [\n                { index: 0, name: this.parent.localeObj.getConstant('true') },\n                { index: 1, name: this.parent.localeObj.getConstant('false') }\n            ];\n            this.groupingDropDown = new DropDownList({\n                dataSource: fields, fields: { text: 'name', value: 'name' }, enableRtl: this.parent.enableRtl,\n                index: 0, cssClass: cls.FORMATTING_GROUPING_DROP, width: '100%'\n            });\n            this.groupingDropDown.isStringTemplate = true;\n            this.groupingDropDown.appendTo('#' + this.parent.element.id + '_GroupingDrop');\n        }\n        if (this.dialog.element.querySelector('#' + this.parent.element.id + '_DecimalDrop')) {\n            var fields = [\n                { index: 0, name: 0 },\n                { index: 1, name: 1 },\n                { index: 2, name: 2 },\n                { index: 3, name: 3 },\n                { index: 4, name: 4 },\n                { index: 5, name: 5 },\n                { index: 6, name: 6 },\n                { index: 7, name: 7 },\n                { index: 8, name: 8 },\n                { index: 9, name: 9 },\n                { index: 10, name: 10 },\n            ];\n            this.decimalDropDown = new DropDownList({\n                dataSource: fields, fields: { text: 'name', value: 'name' }, enableRtl: this.parent.enableRtl,\n                index: 0, cssClass: cls.FORMATTING_DECIMAL_DROP, popupHeight: 150, width: '100%'\n            });\n            this.decimalDropDown.isStringTemplate = true;\n            this.decimalDropDown.appendTo('#' + this.parent.element.id + '_DecimalDrop');\n        }\n        if (this.formatDropDown.value !== this.parent.localeObj.getConstant('Custom')) {\n            this.customText.disabled = true;\n        }\n    };\n    NumberFormatting.prototype.valueChange = function (args) {\n        var format = this.parent.dataSourceSettings.formatSettings;\n        var isExist = false;\n        for (var i = 0; i < format.length; i++) {\n            if (format[i].name === args.value) {\n                var fString = format[i].format;\n                var first = fString.split('')[0].toLowerCase();\n                if (fString.length === 2 && ['n', 'p', 'c'].indexOf(first) > -1) {\n                    this.formatDropDown.value = first === 'n' ? this.parent.localeObj.getConstant('number') : first === 'p' ?\n                        this.parent.localeObj.getConstant('percentage') : first === 'c' ? this.parent.localeObj.getConstant('currency') :\n                        this.parent.localeObj.getConstant('number');\n                    this.decimalDropDown.value = Number(fString.split('')[1]);\n                    this.groupingDropDown.value = format[i].useGrouping ? this.parent.localeObj.getConstant('true') :\n                        this.parent.localeObj.getConstant('false');\n                }\n                else {\n                    this.formatDropDown.value = this.parent.localeObj.getConstant('Custom');\n                    this.customText.value = fString;\n                }\n                isExist = true;\n                break;\n            }\n        }\n        if (!isExist) {\n            this.formatDropDown.value = this.parent.localeObj.getConstant('number');\n            this.decimalDropDown.value = 0;\n            this.groupingDropDown.value = this.parent.localeObj.getConstant('true');\n        }\n    };\n    NumberFormatting.prototype.dropDownChange = function (args) {\n        if (args.value === this.parent.localeObj.getConstant('Custom')) {\n            this.customText.disabled = false;\n            this.groupingDropDown.enabled = false;\n            this.decimalDropDown.enabled = false;\n        }\n        else {\n            this.customText.disabled = true;\n            this.groupingDropDown.enabled = true;\n            this.decimalDropDown.enabled = true;\n        }\n    };\n    NumberFormatting.prototype.removeDialog = function () {\n        if (this.dialog && !this.dialog.isDestroyed) {\n            this.dialog.destroy();\n        }\n        if (document.getElementById(this.parent.element.id + '_FormatDialog')) {\n            remove(document.getElementById(this.parent.element.id + '_FormatDialog'));\n        }\n    };\n    NumberFormatting.prototype.updateFormatting = function () {\n        var _this = this;\n        var text;\n        if (this.formatDropDown.value === this.parent.localeObj.getConstant('number') ||\n            this.formatDropDown.value === this.parent.localeObj.getConstant('percentage') ||\n            this.formatDropDown.value === this.parent.localeObj.getConstant('currency')) {\n            text = this.formatDropDown.value === this.parent.localeObj.getConstant('number') ? 'N' :\n                this.formatDropDown.value === this.parent.localeObj.getConstant('currency') ? 'C' : 'P';\n            text += this.decimalDropDown.value;\n        }\n        else {\n            text = this.customText.value;\n        }\n        var format = extend([], this.parent.dataSourceSettings.formatSettings, true);\n        if (this.valuesDropDown.value === this.parent.localeObj.getConstant('AllValues')) {\n            var fieldList_1 = this.parent.dataType === 'olap' ?\n                this.parent.olapEngineModule.fieldList : this.parent.engineModule.fieldList;\n            Object.keys(fieldList_1).forEach(function (key) {\n                if (fieldList_1[key].type === 'number') {\n                    _this.insertFormat(key, text);\n                }\n            });\n        }\n        else {\n            this.insertFormat(this.valuesDropDown.value.toString(), text);\n        }\n        try {\n            this.parent.updateDataSource(false);\n            this.dialog.close();\n        }\n        catch (exception) {\n            this.parent.setProperties({ dataSourceSettings: { formatSettings: format } }, true);\n            this.parent.pivotCommon.errorDialog.createErrorDialog(this.parent.localeObj.getConstant('error'), this.parent.localeObj.getConstant('invalidFormat'), this.dialog.element);\n            hideSpinner(this.parent.element);\n        }\n    };\n    NumberFormatting.prototype.insertFormat = function (fieldName, text) {\n        var isExist = false;\n        var newFormat = {\n            name: fieldName, format: text,\n            useGrouping: this.groupingDropDown.value === this.parent.localeObj.getConstant('true') ? true : false\n        };\n        var format = this.parent.dataSourceSettings.formatSettings;\n        for (var i = 0; i < format.length; i++) {\n            if (format[i].name === fieldName) {\n                format[i] = newFormat;\n                isExist = true;\n            }\n        }\n        if (!isExist) {\n            format.push(newFormat);\n        }\n    };\n    /**\n     * To add event listener.\n     * @returns void\n     * @hidden\n     */\n    NumberFormatting.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initFormatting, this.showNumberFormattingDialog, this);\n    };\n    /**\n     * To remove event listener.\n     * @returns void\n     * @hidden\n     */\n    NumberFormatting.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initFormatting, this.showNumberFormattingDialog);\n    };\n    /**\n     * To destroy the calculated field dialog\n     * @returns void\n     * @hidden\n     */\n    NumberFormatting.prototype.destroy = function () {\n        if (this.dialog && !this.dialog.isDestroyed) {\n            this.dialog.destroy();\n        }\n        this.removeEventListener();\n    };\n    return NumberFormatting;\n}());\nexport { NumberFormatting };\n","import * as index from './index';\nindex.PivotView.Inject(index.GroupingBar, index.FieldList, index.CalculatedField, index.ConditionalFormatting, index.VirtualScroll, index.DrillThrough, index.Toolbar, index.PivotChart, index.PDFExport, index.ExcelExport, index.NumberFormatting);\nexport * from './index';\n"],"names":["PivotUtil","getType","value","getDay","getHours","getMinutes","getSeconds","getMilliseconds","resetTime","date","setHours","getClonedData","data","clonedData","_i","_a","length","item","fields","Object","keys","keyPos","framedSet","push","getClonedPivotValues","pivotValues","clonedSets","i","j","this","getClonedObj","undefined","inArray","collection","cnt","PivotEngine","valueContent","formatFields","dateFormatFunction","calculatedFields","calculatedFormulas","valueAxis","saveDataHeaders","columnCount","rowCount","colFirstLvl","rowFirstLvl","rowStartPos","colStartPos","enableValueSorting","headerCollection","rowHeaders","columnHeaders","rowHeadersCount","columnHeadersCount","rMembers","cMembers","valueMatrix","indexMatrix","memberCnt","pageInLimit","endPos","removeCount","colHdrBufferCalculated","colValuesLength","rowValuesLength","slicedHeaders","fieldFilterMem","filterPosObj","selectedHeaders","selectedHeader","values","rawIndexObject","isEditing","frameHeaderObjectsCollection","headerObjectsCollection","groupingFields","columnKeys","fieldDrillCollection","customRegex","formatRegex","prototype","renderEngine","dataSource","customProperties","fn","getValueCellInfo","excludeFields","isNullOrUndefined","globalize","Internationalization","localeObj","fieldsType","enableSort","enableSorting","alwaysShowValueHeader","showHeaderWhenEmpty","showSubTotals","showRowSubTotals","showColumnSubTotals","showGrandTotals","showRowGrandTotals","showColumnGrandTotals","allowValueFilter","isValueFilterEnabled","DataManager","report","rows","columns","filters","pos","indexOf","name","splice","formats","formatSettings","groups","groupSettings","calculatedFieldSettings","getGroupData","validateFilters","isExpandAll","isValueFiltersAvail","expandAll","drilledMembers","isMutiMeasures","emptyCellTextContent","emptyCellsTextContent","valueSortSettings","sortOrder","headerDelimiter","headerText","columnIndex","valueSortData","pageSettings","savedFieldList","isDrillThrough","getFieldList","fillFieldMembers","updateSortSettings","sortSettings","generateValueMatrix","filterMembers","columnLength","updateFilterMembers","generateGridData","fieldkeySet","this_1","state_1","dategroup","fieldName","groupFields","type","rangeInterval","sort","a","b","len","Date","toString","groupInterval","isGrouped","interval","isInRangeAvail","getRange","getTime","newDate","newFieldName","setFullYear","getFullYear","month","Math","ceil","getMonth","getConstant","setMonth","getDate","setMinutes","setSeconds","isCompleteSet","_b","keys_1","key","isDataSource","axisFields","groupKeys","gCnt","groupField","_c","axisFields_1","axis","actualField","newField","caption","showNoDataItems","baseField","baseItem","formatfield","json","executeLocal","Query","where","format","startValue","endValue","cStartValue","cEndValue","unframedSet","dataLength","framedSetLength","max","apply","len_1","duplicateData","frameData","index","lastIndexOf","_d","keys_2","_e","axisFields_2","field","properties","len_2","extend","group","cValue","isRangeAvail","cDate","startDate","startingAt","endDate","endingAt","parseInt","getFormattedFields","exactFormat","getDateFormat","fullFormat","isSort","isValueFilteringEnabled","dataFields","concat","getCalculatedField","lenE","fieldList","isSelected","filter","isExcelFilter","filterType","dateMember","formattedMembers","members","id","updateTreeViewData","updateFieldList","lnt","aggregateType","formula","actualFormula","fieldKeys","this_2","calc","calcProperties","replace","powerFunction","formulaType","split","lmt","aggregateValue","selectedString","filterElements","filterSettings","filterElements_1","dataFields_1","indMat","dlen","fList","kLn","kl","isDataAvail","membersCnt","fmembersCnt","dl","mkey","fKey","formattedValue","getFormattedValue","formattedText","String","actualText","hasOwnProperty","ordinal","isDrilled","dateText","vMat","keyLen","flList","tkln","sln","slt","order","source","filterRw","list","isInclude","getFilters","dln","include","ln","exclude","indexObject","ilist","rln","rlt","filterElement","isValidFilterField","allowLabelFilter","applyLabelFilter","items","frameFilterList","showLabelFilter","showDateFilter","showNumberFilter","allowLabelFiltering","isValidFilterElement","filterTypes","isNotValidFilterElement","dataFields_2","getLabelFilterMembers","condition","value1","value2","date1","date2","getDateFilterMembers","members_1","member","operand1","getParsedValue","operand2","validateFilterValue","excludeOperators","operator","members_2","filterValue","toLowerCase","match","members_3","val","isMemberInclude","isLabelFilter","updateFilter","fln","allowFil","final","filterObj","memberObj","indx","iln","ilt","applyValueFiltering","rowData","level","valueFilter","rowFilterData","isValueFiltered","allMember","getFilteredData","rLen","measure","mPos","aggregate","getAggregateValue","cellDetails","row","column","cellSets","getCellSet","rowCellType","hasChild","columnCellType","skipFormatting","isLevelFiltered","removefilteredData","valueFilteredData","validateFilteredParentData","formatSetting","parseNumber","filteredData","valueSort","levelName","allMemberData","rows_1","rowFilteredData","index_1","index_2","_f","updateFramedHeaders","framedHeaders","dataHeaders","filteredHeaders","headers","framedHeaders_1","dHeader","isHeaderAvail","validateFilteredHeaders","filterFramedHeaders","filteredHeaders_1","vHeader","isEmptyDataAvail","isEmptyData","updateGridData","frameDrillObject","getIndexedHeaders","insertAllMembersCommon","headerContent","rowheads","colheads","columnFilteredData","valuesCount","valueFilters","valueFields","values_1","filterSettings_1","isAvail","cLen","applyValueSorting","calculatePagingValues","getAggregatedHeaders","getHeaderData","insertSubTotals","getTableData","applyAdvancedAggregate","isEngineUpdated","onDrill","drilledItem","headersInfo","getHeadersInfo","performDrillOperation","position","updateEngine","onSort","sortItem","performSortOperation","onFilter","filterItem","posObj","addPos","performFilterCommonUpdate","onAggregation","onCalcOperation","currentPosition","count","memberName","join","delimiter","action","sortedHeaders","updateHeadersCount","getSortedHeaders","performFilterDeletion","filterObjects","loopIn","this_3","engine_1","engine","matchIndexes","performFilterAddition","this_4","memberNameObj_1","excessHeaders","rawHeaders","map","headerNames_1","rawHeaders_1","header","grandHeader","pop","insertPosition","insertTotalPosition","getAxisByFieldName","fields_1","axisCount","getFieldByName","isDrill","lenCnt","frameHeaderWithKeys","framedHeader","isNullArgument","textArray","hText","mIndex","mType","getMember","sortByValueRow","vlen","aggreColl","rMembers_1","rMembers_2","insertAllMember","rowLength","rowCnt","rowCells","savedCell","spanCnt","indexObj","colCnt","cell","colSpan","colIndex","rowPos","rowSpan","cellType","rowIndex","isSpanned","fieldCnt","drillOption","memberString","keyInd","parentMember","valueFil","hierarchy","rlen","decisionObj","childrens","isNoData","isDateType","savedMembers","lt","memInd","headerValue","availData","filterPosition","getOrderedIndex","orderedIndex","slicedHeader","diff","summCell","lt_1","rowCurrentPage","rowSize","exactStartPos","performSlicing","columnCurrentPage","columnSize","startPos","removeChildMembers","framedMember","set","customText","reformAxis","tnum","vlt","rTotal","cTotal","actCnt","Number","isLeastNode","hpos","actpos","vln","name_1","calObj","vData","cln","clt","updateRowData","recursiveRowData","isHeaderSelected","rows_2","getAggregatedHeaderData","columns_1","isChildren","headers_1","updateSelectedHeaders","childMembers","aggregateHeaders","children","vCount","isChild","uniqueName","valueCount","pivotIndex","isIndexFilled","colIndex_1","updateAggregates","indexCollection_1","selectedHeaders_1","selectedHeaderCollection","name_2","isRowBaseField","activeValues","indexCollection","activeColumn","rowindexCollection","selectedRowValues","selectedColumnValues","len_3","cLevelName","axisObj","isSelectedColumn","len_4","uniqueLevelName","colIndex_3","currentSet","selectedHeaderCollection_1","colIndex_2","indexCollection_2","cVal","isNaN","formatNumber","maximumFractionDigits","clen","_g","rowindexCollection_2","selectedHeaderCollection_2","rowindexCollection_1","_h","indexCollection_3","_j","selectedHeaderCollection_3","_k","colIndex_4","_l","indexCollection_4","_m","selectedHeaderCollection_4","_o","rowindexCollection_3","_p","indexCollection_5","_q","colIndex_5","_r","selectedHeaderCollection_5","_s","selectedHeaderCollection_6","gTotalIndex","totalValues","gTotalIndex_1","rIndex","gTotalIndex_2","isSum","subTotal","toLocaleString","currentCellSets","keys_3","vcnt","colItmLn","sortText","isTotalHide","lvl","isSingleMeasure","name_3","ri","cellValue","avgCnt","isInit","isValueExist","duplicateValues","currentVal","indexVal","avgVal","avgDifferenceVal","indexVal_1","pow","sqrt","NaN","isFirst","isMaxFirst","calcField","aggregateField","aggregatedValue","value_1","type_1","evaluate","Infinity","JSON","parse","obj","Function","commonValue","formatField","minimumSignificantDigits","maximumSignificantDigits","test","integerPart","useGrouping","items_1","text","RegExp","uiUpdate","contentReady","dataReady","ROOT","RTL","DEVICE","ICON","COLLAPSE","EXPAND","TABLE","CALCINPUT","FLAT","FORMAT","FORMULA","MENU_HIDE","INPUT","SELECTED_BGCOLOR","PIVOT_DISABLE_ICON","PIVOT_SELECT_ICON","AggregateMenu","parent","render","args","parentElement","openContextMenu","menuInfo","createContextMenu","currentMenu","currentTarget","getBoundingClientRect","enableRtl","open","top","left","menuOptions","element","beforeOpen","beforeMenuOpen","bind","select","selectOptionInContextMenu","removeContextMenu","document","getElementById","innerHTML","contextMenu","createElement","appendChild","Menu","isStringTemplate","appendTo","style","zIndex","display","createValueSettingsDialog","target","_this","valueDialog","className","attrs","data-field","Dialog","animationSettings","effect","allowDragging","content","createFieldOptions","isModal","visible","showCloseIcon","width","height","X","Y","buttons","click","updateValueSettings","buttonModel","cssClass","isPrimary","hide","closeOnEscape","overlayClick","removeDialog","close","buttonElement","fieldCaption","getAttribute","summaryType","summaryDataSource","baseItemTypes","baseFieldTypes","dataSourceSettings","fieldDataSource","fieldItemDataSource","engineModule","mainDiv","data-type","data-caption","data-basefield","data-baseitem","textWrappper","filterWrapperDiv1","optionWrapperDiv1","optionWrapperDiv2","optionWrapperDiv3","texttitle","textContent","inputTextDiv1","optionTextDiv1","optionTextDiv2","optionTextDiv3","inputDiv1","dropOptionDiv1","dropOptionDiv2","dropOptionDiv3","inputField1","popupInstance","optionWrapper1","DropDownList","change","optionWrapper2","enabled","optionWrapper3","refresh","filterBarPlaceholder","allowFiltering","inputObj1","MaskedTextBox","placeholder","menu","valuefields","contentElement","querySelector","captionName","setAttribute","vCnt","dataSourceItem","lastAggregationInfo","updateDataSource","isRefreshed","allowDeferLayoutUpdate","getModuleName","renderMode","pivotGridModule","setProperties","notify","events.uiUpdate","triggerPopulateEvent","dialogElement","captionInstance","getInstance","summaryInstance","baseFieldInstance","baseItemInstance","selectedField","pivotCommon","eventBase","isDestroyed","destroy","remove","Render","indentCollection","colPos","lastSpan","lvlCollection","hierarchyCollection","lvlPosCollection","hierarchyPosCollection","measurePos","maxMeasurePos","hierarchyCount","resColWidth","showGroupingBar","groupingBarModule","isAdaptive","dataType","olapEngineModule","gridSettings","formatList","getFormatList","aggMenu","gridHeaderCellInfo","gridCellCollection","injectGridModules","getRowStartPos","grid","frameDataSource","frameStackedHeaders","isScrolling","resizeInfo","refreshColumns","setGridRowWidth","getHeaderContent","calculateGridWidth","calculateGridHeight","bindGrid","on","headerRefreshed","refreshHeader","enableVirtualization","mHdr","mCont","vtr","virtualHeaderDiv","setStyleAttribute","transform","scrollLeft","isEmpty","Grid","frozenColumns","frozenRows","frameEmptyData","frameEmptyColumns","locale","allowExcelExport","allowPdfExport","allowResizing","allowTextWrap","allowReordering","allowSelection","contextMenuItems","selectedRowIndex","selectionSettings","textWrapSettings","printMode","rowHeight","gridLines","contextMenuClick","contextMenuOpen","beforeCopy","beforePrint","printComplete","rowSelecting","rowSelected","rowDeselecting","rowDeselected","cellSelecting","cellSelected","cellDeselecting","cellDeselected","resizeStart","columnDragStart","columnDrag","columnDrop","beforeExcelExport","resizing","setGroupWidth","resizeStop","onResizeStop","queryCellInfo","dataBound","headerCellInfo","excelHeaderQueryCellInfo","pdfHeaderQueryCellInfo","excelQueryCellInfo","pdfQueryCellInfo","lastGridSettings","gridObject","pivotColumns","renderModule","selected","trigger","rowRangeSelection","enable","selectionModule","selectRowsByRange","startIndex","endIndex","rowCellBoundEvent","columnCellBoundEvent","excelColumnEvent","pdfRowEvent","excelRowEvent","pdfColumnEvent","cellTemplate","isBlazor","append","slice","call","getCellTemplate","targetCell","borderRight","borderLeft","widthService","setWidthToTable","isEmptyGrid","currentView","hideScroll","events.contentReady","cellTarget","lastCellClicked","elem","bool","classList","contains","querySelectorAll","cls.EXPAND","add","cls.MENU_HIDE","cls.COLLAPSE","allowDrillThrough","innerText","allowCalculatedField","event","MouseEvent","view","window","bubbles","cancelable","ele","rowIndx","colIndx","pivotValue","pdfExport","excelExport","csvExport","dispatchEvent","exp","colp","calculatedFieldModule","createCalculatedFieldDialog","updateAggregate","valueCnt","Inject","Freeze","ExcelExport","PdfExport","Selection","Reorder","Resize","ContextMenu","updateGridSettings","updatePivotColumns","clearColumnSelection","pivotColumn","fillGridColumns","forEach","cls.SELECTED_BGCOLOR","appendValueSortIcon","tCell","rCnt","cCnt","vSort","lock","padding-top","customAttributes","refreshUI","offsetWidth","firstColWidth","cancel","gridColumn","firstRowHeight","offsetHeight","e","clearTimeout","timeOutObj","setTimeout","onSelect","pivotArgs","selectedCellsInfo","currentCell","selectedElements_1","customClass","hyperlinkSettings","isValueCell","onOlapRowCellBoundEvent","localizedText","isNamedSet","cls.ICON","title","isRowCellHyperlink","enableHyperlink","pivotView","styles","isSummaryCellHyperlink","isValueCellHyperlink","colindex","templateID","unWireEvents","wireEvents","pivotview","rowMeasurePos","tupRowInfo","tupInfo","memberPosition","uNameCollection","fieldSep","substring","memberType","nxtIndextCount","lastIndextCount","firstMemberAvailChild","fPos","membersCount","indent","iPos","maxIndent","hierarchyName","levelUniqueName","currPos_1","lvlPosition","hierarchyPOs","currPos_2","currHierarchyPos","currPos","lvlPos","hasChild_1","node","borderBottomWidth","onOlapColumnCellBoundEvent","isColumnCellHyperlink","hdrdiv","lineHeight","div","navigator","userAgent","insertBefore","prevCell","onHyperCellClick","observedArgs","getElement","url","dataContent","start","end","0","1","calculateColWidth","colCount","parWidth","parseFloat","columnWidth","colWidth","floor","resizeColWidth","eleWidth","elementCreated","gridHeight","parHeight","getHeightAsNumber","tableHeight","cls.TABLE","contentHeight","tableWidth","horizontalOverflow","verticalOverflow","commonOverflow","integrateModel","headerCnt","headerSplit","splitPos","columnModel","actualCnt","colField","setSavedWidth","minWidth","tmpSpan","innerModel","innerPos","clipMode","triggerColumnRenderEvent","formatArray","fString","formatString","fCnt","exportHeaderEvent","hAlign","exportContentEvent","paragraphIndent","gridCell","EventHandler","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","__","constructor","create","__decorate","decorators","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","FieldOptions","_super","Property","ChildProperty","Filter","FieldListFieldOptions","Style","ConditionalFormatSettings","Sort","FormatSettings","GroupSettings","CalculatedFieldSettings","DrillOptions","ValueSortSettings","DataSourceSettings","Collection","Complex","GridSettings","PivotSelectionSettings","mode","cellSelectionMode","WrapMode","Event","exportToExcel","clonedValues","currentPivotValues","applyFormatting","fileName","footer","dataCollections","workSheets","dataColl","colLen","rowLen","actualrCnt","maxLevel","cells","pivotCell","rowOrdinal","measureName","numberFormat","bold","wrapText","backColor","backgroundColor","fontColor","color","fontName","fontFamily","fontSize","vAlign","borders","lineStyle","Workbook","worksheets","save","PDFExport","addPage","eventParams","page","pages","font","PdfStandardFont","PdfFontFamily","TimesRoman","PdfFontStyle","Regular","brush","PdfSolidBrush","PdfColor","pen","PdfPen","headerTemplate","PdfPageTemplateElement","RectangleF","graphics","clientSize","drawString","PdfStringFormat","PdfTextAlignment","Center","template","footerTemplate","bottom","hexDecToRgb","hexDec","Error","bigint","g","getFontStyle","theme","fontType","Bold","italic","Italic","underline","Underline","strikeout","Strikeout","getBorderStyle","borderStyle","PdfBorders","pdfColor","all","borderWidth","borderColor","dashStyle","getDashStyle","dashType","getStyle","border","gridStyle","Helvetica","getFontFamily","fontStyle","penBrushColor","setRecordThemeStyle","record","setFont","setTextBrush","borderRecord","setBorder","exportToPDF","applyEvent","headerStyle","firstColumnWidth","size","dataCollIndex","vLen","allowRepeatHeader","colLength","integratedCnt","pdfGrid","PdfGrid","pageSize","isColHeader","pdfGridRow","getHeader","addRow","localCnt","isEmptyRow","getCell","columnSpan","applyStyle","processCellStyle","stringFormat","indent_1","alignment","Right","Left","lineAlignment","PdfVerticalAlignment","Middle","getColumn","draw","PointF","conditionalFormattingModule","hexToRgb","backgroundBrush","textBrush","family","getFont","cellStyle","arg","textBrushColor","textPenColor","textColor","textPen","PdfDocument","KeyboardInteraction","keyConfigs","tab","enter","shiftUp","shiftDown","shiftLeft","shiftRight","upArrow","downArrow","leftArrow","rightArrow","escape","tabIndex","pivotViewKeyboardModule","KeyboardEvents","keyAction","keyActionHandler","eventName","processTab","processEnter","processSelection","clearSelection","getNextButton","allPivotButtons","nextElement","closest","gridFocus","serviceLocator","getService","nextButton","currentInfo","skipAction","focus","getFocusedElement","addClass","preventDefault","showFieldList","gridElement","getElementsByTagName","lastChild","control","ele_1","control_1","rowIndex_1","nodeName","getParentElement","previousSibling","nextSibling","colSpan_1","selectArgs","isCellClick","applyColumnSelection","PivotContextMenu","contextMenuModule","renderContextMenu","onBeforeMenuOpen","onSelectContextMenu","cMenu","menuObj","fieldType","fieldElement","removeClass","items_2","items_3","dropClass","dataSourceUpdate","btnElement","VirtualScroll","previousValues","frozenPreviousValues","eventType","addInternalEvents","fCont","clearEvents","onHorizondalScroll","onVerticalScroll","common","onWheelScroll","setPageXY","onTouchScroll","isPreventScrollEvent","scrollTop","deltaMode","deltaY","getPointXY","pageXY","x","y","touches","pageX","pageY","pointerType","update","direction","rowValues","exactSize","section","scrollPosObject","vertical","hideSpinner","showSpinner","scrollPage","pageRowStartPos","exactPage","verticalSection","colValues","horizontal","pivot","pageColStartPos","horizontalSection","verticalScrollScale","horizontalScrollScale","horiOffset","vertiOffset","trim","scrollerBrowserLimit","excessMove","notLastPage","clientWidth","vWidth","clientHeight","movableTable","vHeight","removeInternalEvents","off","DrillThroughDialog","isUpdated","gridIndexObjects","gridData","showDrillThroughDialog","eventArgs","rawData","removeDrillThroughDialog","drillThroughDialog","dialogPopUp","createDrillThroughGrid","drillThroughGrid","editSettings","allowEditing","dataWithPrimarykey","beforeClose","addItems","body","visibility","drillThroughBody","drillThroughBodyHeader","toolbarItems","allowCommandColumns","Toolbar","ColumnChooser","showColumnChooser","toolbar","frameGridColumns","allowPaging","formatData","dialogModule","cellInfo","gridObj","Edit","Page","allowEditOnDblClick","CommandColumn","showInColumnChooser","commands","buttonOption","iconCss","isPrimaryKey","actionComplete","requestType","beforeBatchSave","reverse","validationRules","required","editType","newData","indexString","rawData_1","DrillThrough","mouseClickHandler","executeDrillThrough","valueCaption","aggType","isCalculatedField","errorDialog","createErrorDialog","getDrillThroughData","maxRowsInDrillThrough","gridJSON","exception","indexArray_1","valuetText","PivotChart","headerColl","columnGroupObject","fieldPosition","loadChart","chartSettings","tupColumnInfo","colMeasurePos","chart","series","primaryXAxis","primaryYAxis","multiLevelLabels","axes","zoomFactor","enableMultiAxis","measureList","currentMeasure","prevLevel","firstLevelUName","totColIndex","getColumnTotalIndex","rKeys","levelCollection","integratedLevel","indexCount","memberCell","levelPos","lastHierarchy","lastDimension","groupHierarchyWithLevels","rKeys_1","rKey","firstRowCell","fieldPos","currrentLevel","cKeys","prevMemberCell","cKeys_1","cKey","cellIndex","measureAllow","colHeaders","columnSeries","refreshChart","chartSeries","persistSettings","getPersistData","columnKeys_1","currentSeries","frameObjectWithKeys","xName","yName","yAxisName","seriesEvent","bindChart","framedSeries","currentXAxis","configXAxis","currentTooltipSettings","configTooltipSettings","currentLegendSettings","configLegendSettings","currentZoomSettings","configZoomSettings","axesWithRows","frameAxesWithRows","displayOption","primary","showToolbar","getGridWidthAsNumber","Chart","ColumnSeries","StackingColumnSeries","RangeColumnSeries","BarSeries","StackingBarSeries","ScatterSeries","BubbleSeries","LineSeries","StepLineSeries","SplineSeries","SplineAreaSeries","MultiColoredLineSeries","PolarSeries","RadarSeries","AreaSeries","RangeAreaSeries","StackingAreaSeries","StepAreaSeries","MultiColoredAreaSeries","ParetoSeries","Legend","Tooltip","Category","MultiLevelLabel","ScrollBar","Zoom","Export","Crosshair","legendSettings","tooltip","zoomSettings","titleStyle","subTitle","subTitleStyle","margin","background","chartArea","palettes","crosshair","selectionMode","isMultiSelect","enableExport","selectedDataIndexes","isTransposed","enableAnimation","useGroupingSeparator","description","enableSideBySidePlacement","animationComplete","legendRender","textRender","pointRender","seriesRender","chartMouseMove","chartMouseClick","pointMove","pointClick","chartMouseLeave","chartMouseDown","chartMouseUp","dragComplete","zoomComplete","scrollStart","scrollEnd","scrollChanged","tooltipRender","loaded","load","resized","axisLabelRender","multiLevelLabelClick","percentChart","valCnt","divider","measureField","measureAggregatedName","getFormat","resFormat","currentYAxis","labelFormat","plotOffset","colIndexColl","rKeys_2","cKeys_2","fieldCount","measurePosition","lastEnd","frameMultiLevelLabels","startKeys","parentHeaders","startKeys_1","startKey","sKey","span","gRows","startKeys_2","lKeys_1","levelKey","lKey","categories","overflow","getZoomFactor","calculatedWidth","seriesLength","enableMarker","padding","shapePadding","valueType","labelIntersectAction","showMultiLevelLabels","majorTickLines","enableSelectionZooming","enableScrollbar","point","isChartLoaded","alignIcon","multilabelAxisName","labelInfo","memberUqName","fieldAvail","memIndex","drillInfo","renderPivotGrid","zoomModule","isZoomed","PivotSeries","PivotChartSeriesBorder","PivotChartSeriesAnimation","PivotChartSeriesSegment","PivotChartSeriesMarkerSettings","Border","DataLabelSettings","PivotChartSeriesErrorSettings","ErrorBarCapSettings","PivotChartSeriesTrendline","Animation","MarkerSettings","PivotChartSeriesEmptyPointSettings","PivotChartSeriesCornerRadius","PivotChartAxisFont","PivotChartAxisCrosshairTooltip","Theme","crosshairLabelFont","Font","PivotChartAxisMajorTickLines","PivotChartAxisMajorGridLines","PivotChartAxisMinorTickLines","PivotChartAxisMinorGridLines","PivotChartAxisAxisLine","PivotChartAxisStripLineSettings","stripLineLabelFont","PivotChartAxisLabelBorder","PivotChartSettingsChartArea","PivotChartSettingsCrosshairSettings","PivotChartSettingsLegendSettings","ChartLocation","legendLabelFont","right","Margin","PivotChartSettingsIndexes","PivotChartSettingsMargin","ChartSegment","ErrorBarSettings","Trendline","EmptyPointSettings","CornerRadius","PivotAxis","axisLabelFont","CrosshairTooltip","axisTitleFont","MajorTickLines","MajorGridLines","MinorTickLines","AxisLine","MinorGridLines","StripLineSettings","LabelBorder","PivotTooltipSettings","tooltipLabelFont","PivotZoomSettings","ChartSettings","chartTitleFont","chartSubTitleFont","ChartArea","CrosshairSettings","Indexes","MDXQuery","getCellSets","olapEngine","refPaging","isQueryUpdate","isMondrian","isMeasureAvail","isPaging","updateDrilledItems","fieldDataObj","fieldListObj","cellSetInfo","measureQuery","getMeasuresQuery","rowQuery","getDimensionsQuery","columnQuery","pagingQuery","getPagingQuery","getPagingCountQuery","slicerQuery","getSlicersQuery","filterQuery","getfilterQuery","cube","caclQuery","getCalculatedFieldQuery","query","frameMDXQuery","catalog","request","LCID","localeIdentifier","mdxQuery","getTableCellData","generatePagingData","generateEngine","successMethod","customArgs","connectionString","getConnectionInfo","soapMessage","doAjaxPost","rowQueryCpy","calRowPage","calColPage","calRowSize","calColumnSize","dimensions","getDimensionQuery","drillQueryObj","getDrillQuery","updateValueSortQuery","rawDrillQuery","isOnDemandDrill","onDemandDrillQuery","drilledMembers_1","drillQuery","rawQuery","drillInfo_1","heirarchize","tag","slicers","i_1","colUqName","getDimensionUniqueName","slicerUqName","dimension","hasAllMember","hierarchyNode","curElement","hierarchyNode_1","pid","measures","measures_1","advancedFilters","advancedFilterQuery","rowFilter","columnFilter","isFound","advancedFilters_1","filterItems_1","getAdvancedFilterQuery","updatedFilterQuery","currentAxis","getAdvancedFilterCondtions","filterOperator","calcMembers","calcQuery","calcMembers_1","aliasName","hierarchyUniqueName","OlapEngine","drilledSets","namedSetsPosition","colDepth","totalCollection","parentObjCollection","curDrillEndPos","headerGrouping","lastLevel","hideRowTotalsObject","hideColumnTotalsObject","sortObject","measureReportItems","calcChildMembers","selectedItems","savedFieldListData","getCulture","getAxisFields","frameSortObject","fieldListData","setNamedSetsPosition","updateFieldlist","loadCalculatedMemberElements","updateFilterItems","xmlDoc","xmlaCellSet","countCells","newPage","prevPage","colMeasures","cloneNode","onDemandDrillEngine","getSubTotalsVisibility","columnTuples","rowTuples","valCollection","measureInfo","getMeasureInfo","orderedInfo","frameMeasureOrder","orderedHeaderTuples","orderedValueTuples","updateTupCollection","frameColumnHeader","performColumnSorting","frameRowHeader","performRowSorting","frameValues","performColumnSpanning","tuples","lastAllStartPos","lastAllCount","tupPos","prevUNArray","allType","rowMembers","availAllMember","withoutAllStartPos","withoutAllEndPos","minLevel","gTotals","Grand Total","newTupPosition","frameTupCollection","prevTupInfo","tuplesLength","allCount","allStartPos","startTupPos","memPos","prevParent","typeColl","typeCollection","drillStartPos","startDrillUniquename","drillEndPos","firstTupMembers","drillAllow","withoutAllAllow","getUniqueName","parentUniqueName","lastPos","lastMemPos","getCaptionCollectionWithMeasure","showTotals","totPos","updateRowEngine","hideTotalsObject","levelColl","drillState","captionCollection","hideFieldPos","memberlevel","memberUName","startsWith","memberCaption","parentUName","UName","Caption","currUName","currCaption","currLevel","uNames","captions","uName","uCollection","parentLevel","setDrillInfo","tuple","captionColection","captionCollectionArray","setsPositions","currEngineCount","newEngineCount","newTuplesCount","tupCollection","currTupCount","lastRealTup","lastSavedInfo","isSubTotIncluded","withoutAllAvail","endDrillUniquename","isStartCol","levelComp","levelCompare","mergeTotCollection","setParentCollection","frameCommonColumnLoop","endAllow","allow","orderTotals","coll","groupColl","maxCnt","collLength","isSameParent","isWithoutAllMember","pUName","parentLvlCollection","newLevels","oldLevels","changePos","lPos","prevHdrPos","flagLevel","flagLevelString","getLevelsAsString","enterFlag","coll1","drillMemberPosition","memberPos","memberDepth","spanMemPos","colMembers","memDup","rowDepthPos","getDrilledParent","childMember","savedCollection","currentChild","currentParent","lvlGrouping","measureObjects","gSumGrouping","gSumFlag","withoutAllLastPos","rPos","currentTuple","frameUniqueName","getParentUname","levels","sortLvlGrouping","parentGrouping","objCollection","objKeys","oPos","pKeys","kPos","sortRowHeaders","groupSets","axisSets","aPos","isMembersIncluded","isLastMeasure","isFullLength","isLastNotDrilledMember","isActualLastMember","matchParent","newPos","temporary","grandTotal","temp","k","sortColumnHeaders","l","length_1","q","weight","hgt","height1","hgt1","leng","m","n","pElement","cElement","o","hasLastMeasure","measureAvail","uniqueNameColl","parentString","sepPos","sepObjects","lastPosition","spanCollection","colMeasureCount","nextColCell","nextRowCell","currCell","colflag","rowflag","tupColInfo","isSubTot","rowEndPos","startRowOrdinal","colOrdinal","lastColCell","valElement","isSum_1","formatObj","formatDate","mAxis","measureAxis","measureIndex","valueInfo","vTuples","orderedTuples","orderedVTuples","cLevels","uniqueLevels","cLevel","uniqueLevels_1","uniqueLevels_2","values_2","valueIndex","vOrdinalIndex","cRow","ordinalValue","getDrilledSets","currTuple","memberArray","joinArray","splitLevels","drillLevel","cropLevels","childSets","levels_1","drillFieldSep","cropArray","drillSets","childSets_1","updateDrilledInfo","updateCalcFields","lastcalcInfo","parentID","actualFilter","expression","parentHierarchy","updateFieldlistData","isSelect","getTreeData","getFieldListItems","getAggregateType","filterItems","isMembersAvail","selectedElements","parentNodes","parentNodes_1","getParentNode","currentItems","selectedElement","parentItem","drilledItems","maxRows","xmla","getSoapMsg","drillThroughSuccess","child","tagName","tag_1","getFilterMembers","levelCount","isSearchFilter","loadLevelMember","getMembers","isAllFilterData","filterParentQuery","dimProp","searchMembers","currrentMembers","generateMembers","loadLevelMembers","getChildMembers","memberUQName","getCalcChildMembers","getSearchMembers","searchString","maxNodeLimit","nodeAttr","data-fieldName","parentUqName","hasChildren","htmlAttributes","isNodeExpand","expanded","nodeSelect","isHierarchy","fieldDate","hierarchyElements","fields_2","isAllMemberAvail","hierarchySuccess","loadDimensionElements","fieldListElements","calcObj","spriteCssClass","fields_3","dimensionName","dimensionCaption","defaultHierarchy","loadNamedSetElements","dimensionElements","reportElement","dataFields_3","measureGroupItems","fields_4","fieldObj","isNamedSets","loadHierarchyElements","dataFields_4","fields_5","stringCollection","hierarchyFolderName","dimensionElements_1","folderName","curParentElement","dimensionElements_2","fieldObj_1","loadLevelElements","newDataSource","fields_6","levelCaption","levelObj","isChecked","loadMeasureElements","dataFields_5","loadMeasureGroups","fields_7","measureGRPName","measuresGroups","success","Ajax","contentType","onSuccess","DOMParser","parseFromString","onFailure","send","connectionInfo","getMDXQuery","GroupingBarSettings","CellEditSettings","ConditionalSettings","HyperlinkSettings","DisplayOption","PivotView","options","_this_1","lastSortInfo","lastFilterInfo","lastCalcFieldInfo","shiftLockedPos","savedSelectedCellsPos","isPopupClicked","isMouseDown","isMouseUp","defaultItems","isCellBoxMultiSelection","scrollDirection","totColWidth","posCount","isModified","needsID","pivotRefresh","Component","PivotView_1","requiredModules","isCommonRequire","modules","allowConditionalFormatting","allowNumberFormatting","preRender","providerType","initProperties","Browser","isDevice","renderToolTip","keyboardModule","defaultLocale","total","noValue","collapse","expand","rowAxisPrompt","columnAxisPrompt","valueAxisPrompt","filterAxisPrompt","filtered","delete","CalculatedField","createCalculatedField","error","invalidFormula","dropText","dropTextMobile","dropAction","alert","warning","ok","search","drag","allFields","addToRow","addToColumn","addToValue","addToFilter","emptyData","fieldExist","confirmText","noMatches","edit","clear","formulaField","dragField","clearFilter","by","multipleItems","label","enterValue","chooseDate","Before","BeforeOrEqualTo","After","AfterOrEqualTo","labelTextContent","dateTextContent","valueTextContent","Equals","DoesNotEquals","BeginWith","DoesNotBeginWith","EndsWith","DoesNotEndsWith","Contains","DoesNotContains","GreaterThan","GreaterThanOrEqualTo","LessThan","LessThanOrEqualTo","Between","NotBetween","And","Sum","Count","DistinctCount","Product","Avg","Min","SampleVar","PopulationVar","RunningTotals","Max","Index","SampleStDev","PopulationStDev","PercentageOfRowTotal","PercentageOfParentTotal","PercentageOfParentColumnTotal","PercentageOfParentRowTotal","DifferenceFrom","PercentageOfDifferenceFrom","PercentageOfGrandTotal","PercentageOfColumnTotal","MoreOption","NotEquals","AllValues","conditionalFormating","formatLabel","valueFieldSettings","summarizeValuesBy","sourceName","sourceCaption","example","editorDataLimitMsg","details","manageRecords","Years","Quarters","Months","Days","Hours","Minutes","Seconds","new","saveAs","rename","deleteReport","export","subTotals","grandTotals","reportName","pdf","excel","csv","png","jpeg","svg","doNotShowSubTotals","showSubTotalsRowsOnly","showSubTotalsColumnsOnly","doNotShowGrandTotals","showGrandTotalsRowsOnly","showGrandTotalsColumnsOnly","toolbarFormatting","reportMsg","reportList","removeConfirm","emptyReport","bar","line","area","scatter","polar","of","emptyFormat","emptyInput","newReportConfirm","emptyReportName","qtr","null","groupOutOfRange","fieldDropErrorAction","drillThrough","ascending","descending","number","currency","percentage","formatType","symbolPosition","grouping","true","false","decimalPlaces","expressionField","customFormat","selectedHierarchy","olapDropText","Percent","Currency","Custom","Measure","Dimension","Standard","blank","fieldTooltip","fieldTitle","QuarterYear","drillError","copy","defaultReport","customFormatString","invalidFormat","L10n","isDragging","onBeforeTooltipOpen","showTooltip","showTipPointer","beforeRender","setToolTip","conmenuItems","customItems","exportItems","aggItems","expItems","aggregateItems","getDefaultItems","buildDefaultItems","aggregateGroup","exportGroupItems","menuItem","cls.PIVOTVIEW_GRID","cls.PIVOTVIEW_EXPORT","cls.GRID_PDF_EXPORT","cls.GRID_EXCEL_EXPORT","cls.GRID_CSV_EXPORT","cls.PIVOTVIEW_EXPAND","cls.PIVOTVIEW_COLLAPSE","cls.ICON_ASC","cls.ICON_DESC","beforeColumnsRender","columnRender","chartTooltipRender","chartLoaded","chartLoad","chartResized","chartAxisLabelRender","updatePageSettings","chartModule","heightAsNumber","getWidthAsNumber","cellTemplateFn","templateParser","spinnerTemplate","createSpinner","loadArgs","updateClass","renderComplete","generateData","events.dataReady","onContentReady","keyEntity","addOnPersist","loadPersistData","persistData","pivotData","withHeader","onPropertyChanged","newProp","oldProp","clonedDataSet","clonedReport","axisFieldModule","toolbarModule","refreshToolbar","compile","resetBlazorTemplate","pivotFieldListModule","clonedDataSource","virtualscrollModule","showRowHeaderHyperlink","showHyperlink","showColumnHeaderHyperlink","showValueCellHyperlink","showSummaryCellHyperlink","applyHyperlinkSettings","drillThroughModule","isRefreshGrid","isSorted","isFiltered","isAggChange","isCalcChange","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","pdfExportModule","chartExport","orientation","exportModule","printChart","print","chartDrillInfo","onOlapDrill","drillItem","drilledMember","drillSet","itemPos","fieldListSpinnerElement","virtualDiv","mCnt","verOffset","unwireEvents","gridCells","gridCells_1","templateObject","updateBlazorTemplate","hasField","getRowText","getColText","rowText","limit","colText","cls.RTL","cls.DEVICE","mouseRclickHandler","which","mouseDownHandler","parent_1","parentAt","lastSelectedElement","mouseMoveHandler","mouseUpHandler","CellClicked","framePivotColumns","gridcolumns","gridcolumns_1","setGridColumns","gridcolumns_2","calcWidth","gridcolumns_3","setCommonColumnsWidth","onWindowResize","layoutRefresh","applyRowSelection","cellClick","shiftKey","ctrlKey","rCount","colStart","colEnd","rowStart","isCtrl_1","showPopup","queryStringArray","isToggle_1","activeColumns_1","actColPos_1","rowSelectedList_1","isTargetSelected_1","getSelectedCellsPos","setSavedSelectedCells","renderEmptyGrid","scrollModule","setWidth","setHeight","overflowY","initEngine","dataSet","this$","getData","aggregateObj","bindTriggerEvents","getObject","executeQuery","then","result","format_1","conditionalFormatSettings","applyGrandTotals","checkCondition","conditions","isHex","substr","colourNameToHex","sheet","createStyleSheet","str","insertRule","createTextNode","head","conditionalSettings","ilen","jlen","conditionalValue1","conditionalValue2","addEventListener","removeEventListener","numberFormattingModule","cls.ROOT","NotifyPropertyChanges","CommonKeyboardInteraction","shiftF","shiftS","processFilter","processSort","processDelete","processOpenContextMenu","EventBase","updateSorting","filterDialog","checkisDescending","isDescending","sortObj","getSortItemByName","newSortObj","updateFiltering","treeData","getOlapData","getFilterItemByName","popupTarget","moduleName","createFilterDialog","isSearchEnabled","updatedTreeData","loadOnDemandInMemberEditor","filterItemObj","dummyfilterItems","memberObject","getFilteredTreeNodes","getOlapTreeData","sortOlapFilterData","sortObjects","getFormatItemByName","formatObjects","getParentIDs","treeObj","data_1","li","getChildIDs","cID","data_2","searchTreeNodes","isFieldCollection","searchList","nonSearchList","list_1","enableNodes","disableNodes","searchList_1","parentIDs","childIDs","pNodes","nonSearchList_1","nonSearchList_2","collapseAll","searchTreeItems","memberCount","currentTreeItems","maxNodeLimitInMemberEditor","editorLabelElement","allowExcelLikeFilter","isDataOverflow","dataBind","updateOlapSearchTree","filterItems_2","searchData","getOlapSearchTreeData","currentTreeItemsPos","savedTreeFilterPos","isDateField","filterItems_3","isSearchRender","updateChildNodeStates","members_4","state","sMembers","members_5","selectedNodes_1","members_6","NodeStateModified","onStateModified","droppedClass","nodeDropped","droppedPosition","actualFieldName","getButtonPosition","targetBtn","axisPanel","pivotButtons","DataSourceUpdate","removeFieldFromReport","getNewField","droppedField","droppedAxis","ErrorDialog","dialogRenderer","fieldListDialog","errorPopUp","closeErrorDialog","removeErrorDialog","FilterDialog","editorDialog","cls.MEMBER_EDITOR_DIALOG_CLASS","aria-label","filterCaption","filterObject","getFilterObject","createTreeView","disabled","closeFilterDialog","removeFilterDialog","createTabMenu","updateCheckedState","editorTreeWrapper","levelWrapper","searchWrapper","tabindex","editorSearch","nodeLimitText","labelWrapper","selectAllWrapper","selectAllContainer","treeOuterDiv","cls.EDITOR_TREE_CONTAINER_CLASS","treeViewContainer","promptDiv","cls.EMPTY_MEMBER_CLASS","createLevelWrapper","showClearButton","searchOlapTreeView","memberTreeView","allMemberSelect","removeAttribute","TreeView","showCheckBox","expandOn","nodeClicked","nodeCheck","keyPress","nodeChecking","validateTreeNode","nodeExpanding","updateChildNodes","dropMenu","DropDownButton","selectedLevel","nodeLimit","isAllMember","checkedNode","getNode","uncheckAll","checkAll","nodeData","childNodes","curTreeData","updateChildData","treeData_1","addNodes","parentNode","childMemberCount","wrapper","types","regx","types_1","createCustomFilter","selectedIndex","tabObj","Tab","heightAdjustMode","selectedItem","valueOptions","levelOptions","selectedOption","selectedValueIndex","selectedLevelIndex","betweenOperators","operatorCollection","operatorCollection_1","unshift","cls.FILTER_DIV_CONTENT_CLASS","data-operator","data-selectedField","data-measure","data-value1","data-value2","textContentdiv","betweenTextContentdiv","cls.BETWEEN_TEXT_DIV_CLASS","separatordiv","levelWrapperDiv","filterWrapperDiv2","levelDropOption","inputDiv2","cls.FILTER_INPUT_DIV_2_CLASS","inputField2","createElements","operators","optionDiv1","optionDiv2","vDataSource","oDataSource","option","lDataSource","levelIndex","updateInputValues","setStyleAndAttributes","filterObj_1","optionWrapper","inputObj2","ej2_instances","disabledClasses_1","inputObj1_1","DateTimePicker","inputObj2_1","inputObj1_2","NumericTextBox","inputObj2_2","inputObj1_3","inputObj2_3","role","aria-haspopup","uncheckedNodes","getUnCheckedNodes","checkedNodes","getCheckedNodes","firstNode","checkeNodes","getAllCheckedNodes","unCheckeNodes","nodeList","isFilterField","PivotCommon","pivotEngine","nodeStateModified","DialogRenderer","fieldListWrappper","cls.WRAPPER_CLASS","renderAdaptiveLayout","renderFieldListDialog","unWireDialogEvent","wireDialogEvent","renderStaticLayout","layoutHeader","createCalculatedButton","createDeferUpdateButtons","renderDeferUpdateButtons","deferUpdateCheckBox","CheckBox","checked","onCheckChange","deferUpdateApplyButton","Button","cls.DEFER_APPLY_BUTTON","onclick","applyButtonClick","onDeferUpdateClick","deferUpdateCancelButton","cls.DEFER_CANCEL_BUTTON","cancelButtonClick","onCloseFieldList","layoutFooter","checkBoxLayout","buttonLayout","deferUpdateButton1","deferUpdateButton2","clonedFieldList","pivotFieldList","toggleFieldList","cls.TOGGLE_FIELD_LIST_CLASS","aria-disabled","showFieldListDialog","cls.ADAPTIVE_FIELD_LIST_BUTTON_CLASS","showCalculatedField","cls.ADAPTIVE_CALCULATED_FIELD_BUTTON_CLASS","removeFieldListIcon","outerHTML","offsetTop","selectedNodes","adaptiveElement","createAxisTable","tabSelect","createAddButton","fieldWrapper","calculatedButton","calculateField","cls.CALCULATED_FIELD_CLASS","footerContainer","cls.FIELD_LIST_FOOTER_CLASS","fieldListButton","axisWrapper","cls.FIELD_LIST_CLASS","axisContent","cls.AXIS_CONTENT_CLASS","axisPrompt","activeindex","treeViewModule","onShowFieldList","show","keyCode","TreeViewRenderer","fieldListSort","renderTreeDialog","fieldTable","cls.FIELD_TABLE_CLASS","treeHeader","cls.FIELD_LIST_TREE_CLASS","treeViewElement","fieldHeaderWrappper","updateSortElements","centerDiv","axisHeader","renderTreeView","headerWrapper","options_1","spanElement","data-sort","unWireFieldListEvent","wireFieldListEvent","nodeChecked","nodeStateChange","allowDragAndDrop","autoCheck","loadOnDemand","nodeDragStart","dragStart","nodeDragStop","dragStop","drawNode","updateTreeNode","updateNodeIcon","nodeCollapsed","allowDrag","updateOlapTreeNode","liTextElement","liIconElement","dragElement","cls.ADAPTIVE_FIELD_LIST_DIALOG_CLASS","fieldDialog","closeTreeDialog","onFieldAdd","dialogClose","textChange","addNode","liList","disabledList","draggedNode","axis_1","dragItem","clonedNode","axis_2","axisElement","draggedNodeData","isNodeDropped","selectedNode","targetID","isDropped","getButton","droppableElement","dropTarget","sourcePosition","dropPosition","droppableButton","wrapperElement","updateSelectedNodes","parent_2","refreshTreeView","getUpdatedData","expandedNodes","updateExpandedNodes","applySorting","currentFieldSet","currentFieldSet_1","currentFieldSet_2","currentFieldSet_3","item_1","calcMember","AxisTableRenderer","axisTable","cls.AXIS_TABLE_CLASS","leftAxisPanel","rightAxisPanel","renderAxisTable","fieldLabels","axisTitleWrapper","cls.AXIS_ICON_CLASS","axisTitle","getIconupdate","localePrompt","Droppable","unWireEvent","wireEvent","updateDropIndicator","PivotButton","menuOption","pivotButtonModule","PivotFieldList","axisField","AxisFieldRenderer","renderPivotButton","valuePos","showValuesButton","groupingBarSettings","isMeasureFieldsAvail","buttonWrapper","data-tag","cls.PIVOT_BUTTON_CLASS","data-uid","isvalue","dropIndicatorElement","dropLastIndicatorElement","cls.DROP_INDICATOR_CLASS","dragWrapper","createButtonDragIcon","createButtonText","createSortOption","createFilterOption","getTypeStatus","removeElement","showRemoveIcon","pivotButton","createDraggable","valueData","valueFiedDropDownList","ddlDiv","aggregation","filterMem","updateButtontext","showAggregationOnValueField","oncontextmenu","cls.PIVOT_BUTTON_CONTENT_CLASS","fieldListItem","createSummaryType","showValueTypeIcon","createMenuOption","draggable","Draggable","clone","enableTailMode","enableAutoScroll","helper","createDragClone","onDragStart","onDragging","onDragStop","abort","sortCLass","showSortIcon","filterCLass","cls.FILTER_COMMON_CLASS","showFilterIcon","filterCount","memLen","updateOlapButtonText","allNodes","filteredItems","loop","updatedFilterItems","cloneElement","fieldListPopup","bindEvents","cursorAt","isNOU","targetTouches","cursor","isButtonDropped","droppableTarget","thisObj","bindDialogEvents","updateDialogButtonEvents","updateFilterState","updateCustomFilter","ClearFilter","removeDataSourceSettings","inputElementString","focusElement","refreshPivotButtonState","tabElement","removeButton","updateNodeStates","checkedStateAll","searchItemObj","currentMembers","checkedNodes_1","checkedNodes_2","isNodeUnChecked","cNodeLength","filterItems_4","selectedButton","pivotButtons_1","handlers","createPivotButtons","axisTableModule","isRequiredUpdate","staticFieldList","dropFilterPrompt","dropColPrompt","dropRowPrompt","dropValPrompt","addPrompt","adaptiveFieldHeader","centerHeader","deferLayoutUpdate","captionData","frameCustomProperties","fieldListRender","requireRefresh","pivotDataSet","this$_1","this$_2","getFieldCaption","getFields","isTreeViewRefresh","isEngineRefresh","isOlapDataRefreshed","updateOlapDataSource","updateView","pivotId","ID","VARP","CALC","isFormula","existingReport","dialog","inputObj","droppable","newFields","isFieldExist","formulaText","fieldText","isEdit","currentFieldName","confirmPopUp","displayMenu","dropField","fieldClickHandler","cls.FORMAT","clearFormula","customString","memberTypeDrop","hierarchyDrop","formatDrop","readonly","curMenu","selectContextMenu","createMenu","menuItems","applyFormula","currentObj","isExist","createConfirmDialog","cField","addFormula","cls.CALCINPUT","showError","getFieldListData","icon","fieldDropped","textCovered","currentValue","cursorPos","selectionStart","textAfterText","textBeforeText","setSelectionRange","createDialog","cls.CALCDIALOG","calcButtons","cancelClick","clearButton","closeDialog","renderDialogElements","outerDiv","cls.OLAP_CALCOUTERDIV","olapFieldTreeDiv","olapCalcDiv","cls.FORMULA","accordDiv","buttonDiv","addBtn","cancelBtn","formulaTitle","inputDiv","wrapDiv","headerWrapperDiv","cls.PIVOT_ALL_FIELD_TITLE_CLASS","offsetY","cls.TREEVIEW","dropDiv","okBtn","memberTypeTitle","hierarchyTitle","formatTitle","customFormatDiv","customFormatObj","renderMobileLayout","createOlapDropElements","mData","fData","fieldData","formatStringData","memberTypeData_1","formatStringData_1","memberTypeObj","hierarchyListObj","formatStringObj","customerFormatObj","nodeDragging","dropIndicator","nodeSelected","drawTreeNode","nodeCollapsing","fieldListData_1","childNodes_1","isDrag","liTextElement_1","prepend","createTypeContainer","input","data-ftxt","getAccordionData","cls.FLAT","cancelBtnClick","accordion","Accordion","expanding","accordionExpand","updateType","addBtnClick","radiobutton","RadioButton","onChange","checkbox","nodes","nodes_1","renderDialogLayout","keyboardEvents","moveRight","replaceFormula","cls.OK_BUTTON_CLASS","FieldList","initiateModule","aggregateCellInfo","updateControl","formatUnit","currentWidth","actualWidth","abs","Common","commonModule","initiateCommonModule","AxisFields","indentDiv","GroupingBar","touchObj","Touch","tapHold","tapHoldHandler","renderLayout","groupingTable","rowAxisPanel","cls.AXIS_ROW_CLASS","columnAxisPanel","cls.AXIS_COLUMN_CLASS","valueAxisPanel","cls.AXIS_VALUE_CLASS","filterAxisPanel","cls.AXIS_FILTER_CLASS","rowPanel","cls.GROUP_ROW_CLASS","columnPanel","cls.GROUP_COLUMN_CLASS","valuePanel","cls.GROUP_VALUE_CLASS","filterPanel","cls.GROUP_FILTER_CLASS","axisPanels_1","displayMode","groupingChartTable","appendToElement","emptyHeader","colGroupElement","rightAxisPanelWidth","rightPanelHeight","topLeftHeight","columnRows","trCell","colHeight","columnRows_1","rowHeader_1","rhElement","rightAxisWidth","emptyRowHeader","groupHeight","columnRows_2","rowHeader_2","handlerElement","actWidth","headerModule","lastButton","lastButtonWidth","buttonWidth","rowHeaderTable","rowContentTable","rowContent","colwidth","valueColWidth","setColWidth","dropIndicatorUpdate","originalEvent","ConditionalFormatting","fieldsDropDown","conditionsDropDown","fontNameDropDown","fontSizeDropDown","newFormat","addButtonClick","cls.FLAT_CLASS","refreshConditionValues","addFormat","createDialogElements","renderDropDowns","renderColorPicker","button","innerDiv","table","tRow","td","valuelabel","measureDropdown","measureInput","conditionDropdown","conditionInput","cls.INPUT","valuespan","formatlabel","fontNameDropdown","fontNameInput","fontSizeDropdown","fontSizeInput","colorPicker1","colorPicker2","valuePreview","popupHeight","popupWidth","measureChange","conditionChange","fontNames","fontNameChange","fontSizeChange","ColorPicker","fontColorChange","nextElementSibling","backColorChange","toggleBtn","toggleButtonClick","hex","h","charAt","exec","colour","colours","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred ","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","showConditionalFormattingDialog","currentReport","createToolbar","renderDialog","tool","created","getItems","fetchReports","reports","v","toolbar_1","prefixIcon","cls.GRID_NEW","tooltipText","actionClick","cls.GRID_SAVE","cls.GRID_SAVEAS","cls.GRID_RENAME","cls.GRID_REMOVE","toDisable","cls.TOOLBAR_GRID","menuItemClick","cls.GRID_MDX","cls.GRID_FORMATTING","cls.FORMATTING_TOOLBAR","cls.TOOLBAR_FIELDLIST","align","toolbarArgs","customToolbar","reportChange","dropArgs","reportLoad","itemData","saveReport","saveArgs","dialogShow","mdxQueryDialog","mdxDialog","renderMDXDialog","textarea","cls.GRID_REPORT_INPUT","renameReport","createNewReport","showNumberFormattingDialog","okBtnClick","copyMDXQuery","textArea","execCommand","err","reportInput","isNew","renameArgs","updateReportList","okButtonClick","removeArgs","cls.TOOLBAR_CHART","chartMenu","cls.GRID_EXPORT","cls.GRID_PNG_EXPORT","cls.GRID_JPEG_EXPORT","cls.GRID_SVG_EXPORT","exportMenu","updateExportMenu","cls.GRID_SUB_TOTAL","cls.PIVOT_SELECT_ICON","subTotalMenu","updateSubtotalSelection","cls.GRID_GRAND_TOTAL","grandTotalMenu","updateGrandtotalSelection","cls.FORMATTING_MENU","cls.NUMBER_FORMATTING_MENU","cls.CONDITIONAL_FORMATTING_MENU","formattingMenu","cls.PIVOT_DISABLE_ICON","NumberFormatting","getDialogContent","updateFormatting","renderControls","outerElement","tValue","valueLable","valueDrop","formatLable","groupingLable","groupingDrop","decimalLable","decimalDrop","customLable","valuesDropDown","valueChange","formatDropDown","dropDownChange","groupingDropDown","decimalDropDown","first","fieldList_1","insertFormat","index.PivotView","index.GroupingBar","index.FieldList","index.CalculatedField","index.ConditionalFormatting","index.VirtualScroll","index.DrillThrough","index.Toolbar","index.PivotChart","index.PDFExport","index.ExcelExport","index.NumberFormatting"],"mappings":"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kB,EAA6BjpD,UAAW,YAAS,IACpDokC,IACIY,WAAS,IACVikB,EAA6BjpD,UAAW,aAAU,IACrDokC,IACIY,WAAS,OACVikB,EAA6BjpD,UAAW,YAAS,OAIN,WAC9C,QAASkpD,MAET9kB,IACIY,WAAS,KACVkkB,EAA6BlpD,UAAW,YAAS,IACpDokC,IACIY,WAAS,KACVkkB,EAA6BlpD,UAAW,gBAAa,IACxDokC,IACIY,WAAS,OACVkkB,EAA6BlpD,UAAW,YAAS,OAIZ,WACxC,QAASmpD,MAET/kB,IACIY,WAAS,IACVmkB,EAAuBnpD,UAAW,YAAS,IAC9CokC,IACIY,WAAS,KACVmkB,EAAuBnpD,UAAW,gBAAa,IAClDokC,IACIY,WAAS,OACVmkB,EAAuBnpD,UAAW,YAAS,OAIG,WACjD,QAASopD,MAEThlB,IACIY,YAAS,IACVokB,EAAgCppD,UAAW,cAAW,IACzDokC,IACIY,YAAS,IACVokB,EAAgCppD,UAAW,oBAAiB,IAC/DokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,YAAS,IACvDokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,UAAO,IACrDokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,WAAQ,IACtDokC,IACIY,WAAS,YACVokB,EAAgCppD,UAAW,YAAS,IACvDokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,gBAAa,IAC3DokC,IACIY,WAAS,SACVokB,EAAgCppD,UAAW,eAAY,IAC1DokC,IACIY,YAAS,IACVokB,EAAgCppD,UAAW,eAAY,IAC1DokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,kBAAe,IAC7DokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,kBAAe,IAC7DokC,IACIY,YAAS,IACVokB,EAAgCppD,UAAW,kBAAe,IAC7DokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,mBAAgB,IAC9DokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,iBAAc,IAC5DokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,sBAAmB,IACjEokC,IACI0B,WAAU8B,MAAO,cAAepd,MAAO,GAAKy9B,WAC7CmB,EAAgCppD,UAAW,aAAU,IACxDokC,IACIY,WAAS,KACVokB,EAAgCppD,UAAW,WAAQ,IACtDokC,IACIY,WAAS,OACVokB,EAAgCppD,UAAW,eAAY,IAC1DokC,IACIY,WAAS,WACVokB,EAAgCppD,UAAW,0BAAuB,IACrEokC,IACIY,WAAS,WACVokB,EAAgCppD,UAAW,wBAAqB,IACnEokC,IACI0B,UAAQ8iB,QAAMS,mBAAoBP,SACnCM,EAAgCppD,UAAW,gBAAa,IAC3DokC,IACIY,WAAS,WACVokB,EAAgCppD,UAAW,aAAU,IACxDokC,IACIY,WAAS,IACVokB,EAAgCppD,UAAW,cAAW,OAId,WAC3C,QAASspD,MAETllB,IACIY,WAAS,KACVskB,EAA0BtpD,UAAW,YAAS,IACjDokC,IACIY,WAAS,IACVskB,EAA0BtpD,UAAW,YAAS,IACjDokC,IACIY,WAAS,cACVskB,EAA0BtpD,UAAW,WAAQ,OAOH,WAC7C,QAASupD,MAETnlB,IACI0B,aAAYmiB,WACbsB,EAA4BvpD,UAAW,aAAU,IACpDokC,IACIY,WAAS,gBACVukB,EAA4BvpD,UAAW,iBAAc,IACxDokC,IACIY,WAAS,IACVukB,EAA4BvpD,UAAW,cAAW,OAIA,WACrD,QAASwpD,MAETplB,IACIY,YAAS,IACVwkB,EAAoCxpD,UAAW,aAAU,IAC5DokC,IACIY,WAAS,KACVwkB,EAAoCxpD,UAAW,gBAAa,IAC/DokC,IACI0B,WAAU8B,MAAO,KAAMpd,MAAO,GAAKy9B,WACpCuB,EAAoCxpD,UAAW,WAAQ,IAC1DokC,IACIY,WAAS,SACVwkB,EAAoCxpD,UAAW,eAAY,OAIZ,WAClD,QAASypD,MAETrlB,IACIY,YAAS,IACVykB,EAAiCzpD,UAAW,cAAW,IAC1DokC,IACIY,WAAS,OACVykB,EAAiCzpD,UAAW,aAAU,IACzDokC,IACIY,WAAS,OACVykB,EAAiCzpD,UAAW,YAAS,IACxDokC,IACI0B,WAAUgP,EAAG,EAAGC,EAAG,GAAK2U,kBACzBD,EAAiCzpD,UAAW,eAAY,IAC3DokC,IACIY,WAAS,SACVykB,EAAiCzpD,UAAW,eAAY,IAC3DokC,IACIY,WAAS,IACVykB,EAAiCzpD,UAAW,cAAW,IAC1DokC,IACIY,WAAS,WACVykB,EAAiCzpD,UAAW,gBAAa,IAC5DokC,IACI0B,UAAQ8iB,QAAMe,gBAAiBb,SAChCW,EAAiCzpD,UAAW,gBAAa,IAC5DokC,IACIY,WAAS,KACVykB,EAAiCzpD,UAAW,kBAAe,IAC9DokC,IACIY,WAAS,KACVykB,EAAiCzpD,UAAW,iBAAc,IAC7DokC,IACI0B,aAAYmiB,WACbwB,EAAiCzpD,UAAW,aAAU,IACzDokC,IACI0B,WAAU3d,KAAM,EAAGyhC,MAAO,EAAG1hC,IAAK,EAAG+hB,OAAQ,GAAK4f,WACnDJ,EAAiCzpD,UAAW,aAAU,IACzDokC,IACIY,WAAS,IACVykB,EAAiCzpD,UAAW,mBAAgB,IAC/DokC,IACIY,WAAS,gBACVykB,EAAiCzpD,UAAW,iBAAc,IAC7DokC,IACIY,WAAS,IACVykB,EAAiCzpD,UAAW,cAAW,IAC1DokC,IACIY,YAAS,IACVykB,EAAiCzpD,UAAW,uBAAoB,IACnEokC,IACIY,WAAS,OACVykB,EAAiCzpD,UAAW,kBAAe,IAC9DokC,IACIY,WAAS,IACVykB,EAAiCzpD,UAAW,eAAY,OAIhB,WAC3C,QAAS8pD,MAET1lB,IACIY,WAAS,IACV8kB,EAA0B9pD,UAAW,aAAU,IAClDokC,IACIY,WAAS,IACV8kB,EAA0B9pD,UAAW,YAAS,OAIP,WAC1C,QAAS+pD,MAET3lB,IACIY,WAAS,KACV+kB,EAAyB/pD,UAAW,WAAQ,IAC/CokC,IACIY,WAAS,KACV+kB,EAAyB/pD,UAAW,YAAS,IAChDokC,IACIY,WAAS,KACV+kB,EAAyB/pD,UAAW,UAAO,IAC9CokC,IACIY,WAAS,KACV+kB,EAAyB/pD,UAAW,aAAU,OAOpB,SAAU+kC,GAEvC,QAAS6iB,KACL,MAAkB,QAAX7iB,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KAsF/D,MAxFA8mC,IAAUkkB,EAAa7iB,GAIvBX,IACIY,WAAS,OACV4iB,EAAY5nD,UAAW,WAAQ,IAClCokC,IACI0B,UAAQ,KAAMwiB,cACfV,EAAY5nD,UAAW,gBAAa,IACvCokC,IACIY,WAAS,MACV4iB,EAAY5nD,UAAW,gBAAa,IACvCokC,IACIY,WAAS,IACV4iB,EAAY5nD,UAAW,YAAS,IACnCokC,IACIY,WAAS,MACV4iB,EAAY5nD,UAAW,kBAAe,IACzCokC,IACIY,WAAS,SACV4iB,EAAY5nD,UAAW,eAAY,IACtCokC,IACIY,YAAS,IACV4iB,EAAY5nD,UAAW,eAAY,IACtCokC,IACIyB,gBAAemkB,iBAChBpC,EAAY5nD,UAAW,eAAY,IACtCokC,IACIY,WAAS,KACV4iB,EAAY5nD,UAAW,oBAAiB,IAC3CokC,IACI0B,WAAU8B,MAAO,cAAepd,MAAO,GAAKy9B,WAC7CL,EAAY5nD,UAAW,aAAU,IACpCokC,IACIY,YAAS,IACV4iB,EAAY5nD,UAAW,cAAW,IACrCokC,IACIY,WAAS,IACV4iB,EAAY5nD,UAAW,cAAW,IACrCokC,IACIY,WAAS,SACV4iB,EAAY5nD,UAAW,WAAQ,IAClCokC,IACI0B,UAAQ,KAAMyiB,mBACfX,EAAY5nD,UAAW,aAAU,IACpCokC,IACI0B,UAAQ,KAAMmkB,qBACfrC,EAAY5nD,UAAW,eAAY,IACtCokC,IACIY,YAAS,IACV4iB,EAAY5nD,UAAW,oBAAiB,IAC3CokC,IACIyB,gBAAeqkB,cAChBtC,EAAY5nD,UAAW,iBAAc,IACxCokC,IACIY,WAAS,KACV4iB,EAAY5nD,UAAW,yBAAsB,IAChDokC,IACIY,WAAS,eACV4iB,EAAY5nD,UAAW,kBAAe,IACzCokC,IACIY,WAAS,IACV4iB,EAAY5nD,UAAW,gBAAa,IACvCokC,IACIY,WAAS,OACV4iB,EAAY5nD,UAAW,qBAAkB,IAC5CokC,IACIY,WAAS,YACV4iB,EAAY5nD,UAAW,iBAAc,IACxCokC,IACIY,WAAS,IACV4iB,EAAY5nD,UAAW,gBAAa,IACvCokC,IACIY,WAAS,KACV4iB,EAAY5nD,UAAW,4BAAyB,IACnDokC,IACIY,WAAS,OACV4iB,EAAY5nD,UAAW,kBAAe,IACzCokC,IACI0B,UAAQ,KAAMqkB,uBACfvC,EAAY5nD,UAAW,yBAAsB,IAChDokC,IACI0B,UAAQ,KAAMskB,iBACfxC,EAAY5nD,UAAW,mBAAgB,IAC1CokC,IACIY,WAAS,IACV4iB,EAAY5nD,UAAW,oBAAiB,IACpC4nD,GACT3iB,kBAKEolB,GAA2B,SAAUtlB,GAErC,QAASslB,KACL,MAAkB,QAAXtlB,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KAqG/D,MAvGA8mC,IAAU2mB,EAAWtlB,GAIrBX,IACIY,WAAS,aACVqlB,EAAUrqD,UAAW,2BAAwB,IAChDokC,IACI0B,UAAQ8iB,QAAM0B,cAAexB,SAC9BuB,EAAUrqD,UAAW,iBAAc,IACtCokC,IACIY,WAAS,KACVqlB,EAAUrqD,UAAW,YAAS,IACjCokC,IACI0B,aAAYykB,qBACbF,EAAUrqD,UAAW,uBAAoB,IAC5CokC,IACIY,WAAS,KACVqlB,EAAUrqD,UAAW,kBAAe,IACvCokC,IACI0B,UAAQ8iB,QAAM4B,cAAe1B,SAC9BuB,EAAUrqD,UAAW,iBAAc,IACtCokC,IACIY,YAAS,IACVqlB,EAAUrqD,UAAW,gBAAa,IACrCokC,IACIY,WAAS,IACVqlB,EAAUrqD,UAAW,iBAAc,IACtCokC,IACIY,WAAS,SACVqlB,EAAUrqD,UAAW,yBAAsB,IAC9CokC,IACIY,WAAS,iBACVqlB,EAAUrqD,UAAW,qBAAkB,IAC1CokC,IACIY,WAAS,YACVqlB,EAAUrqD,UAAW,mBAAgB,IACxCokC,IACIY,YAAS,IACVqlB,EAAUrqD,UAAW,sBAAmB,IAC3CokC,IACIY,YAAS,IACVqlB,EAAUrqD,UAAW,cAAW,IACnCokC,IACIY,WAAS,YACVqlB,EAAUrqD,UAAW,oBAAiB,IACzCokC,IACIY,WAAS,IACVqlB,EAAUrqD,UAAW,oBAAiB,IACzCokC,IACIY,WAAS,IACVqlB,EAAUrqD,UAAW,4BAAyB,IACjDokC,IACIY,WAAS,OACVqlB,EAAUrqD,UAAW,cAAW,IACnCokC,IACIY,WAAS,OACVqlB,EAAUrqD,UAAW,cAAW,IACnCokC,IACIY,WAAS,KACVqlB,EAAUrqD,UAAW,wBAAqB,IAC7CokC,IACIY,WAAS,OACVqlB,EAAUrqD,UAAW,eAAY,IACpCokC,IACI0B,aAAY2kB,mBACbJ,EAAUrqD,UAAW,qBAAkB,IAC1CokC,IACIY,YAAS,IACVqlB,EAAUrqD,UAAW,iBAAc,IACtCokC,IACI0B,aAAY4kB,mBACbL,EAAUrqD,UAAW,qBAAkB,IAC1CokC,IACI0B,aAAY6kB,mBACbN,EAAUrqD,UAAW,qBAAkB,IAC1CokC,IACI0B,aAAY8kB,aACbP,EAAUrqD,UAAW,gBAAa,IACrCokC,IACI0B,aAAY+kB,mBACbR,EAAUrqD,UAAW,qBAAkB,IAC1CokC,IACIY,YAAS,IACVqlB,EAAUrqD,UAAW,iBAAc,IACtCokC,IACIY,WAAS,OACVqlB,EAAUrqD,UAAW,kBAAe,IACvCokC,IACIY,WAAS,IACVqlB,EAAUrqD,UAAW,iBAAc,IACtCokC,IACIY,WAAS,MACVqlB,EAAUrqD,UAAW,kBAAe,IACvCokC,IACIyB,gBAAeilB,sBAChBT,EAAUrqD,UAAW,iBAAc,IACtCokC,IACIY,WAAS,IACVqlB,EAAUrqD,UAAW,eAAY,IACpCokC,IACI0B,WAAU8B,MAAO,KAAMpd,MAAO,EAAGjmB,KAAM,aAAewmD,gBACvDV,EAAUrqD,UAAW,aAAU,IAC3BqqD,GACTplB,iBAKE+lB,GAAsC,SAAUjmB,GAEhD,QAASimB,KACL,MAAkB,QAAXjmB,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KAmC/D,MArCA8mC,IAAUsnB,EAAsBjmB,GAIhCX,IACIY,YAAS,IACVgmB,EAAqBhrD,UAAW,mBAAgB,IACnDokC,IACIY,YAAS,IACVgmB,EAAqBhrD,UAAW,aAAU,IAC7CokC,IACIY,WAAS,OACVgmB,EAAqBhrD,UAAW,WAAQ,IAC3CokC,IACIY,YAAS,IACVgmB,EAAqBhrD,UAAW,aAAU,IAC7CokC,IACIY,WAAS,MACVgmB,EAAqBhrD,UAAW,cAAW,IAC9CokC,IACIY,WAAS,OACVgmB,EAAqBhrD,UAAW,aAAU,IAC7CokC,IACIY,WAAS,OACVgmB,EAAqBhrD,UAAW,aAAU,IAC7CokC,IACI0B,UAAQ8iB,QAAMqC,iBAAkBnC,SACjCkC,EAAqBhrD,UAAW,gBAAa,IAChDokC,IACIY,WAAS,OACVgmB,EAAqBhrD,UAAW,eAAY,IAC/CokC,IACI0B,WAAU8B,MAAO,UAAWpd,MAAO,IAAOy9B,WAC3C+C,EAAqBhrD,UAAW,aAAU,IAC7CokC,IACIY,YAAS,IACVgmB,EAAqBhrD,UAAW,sBAAmB,IAC/CgrD,GACT/lB,iBAKEimB,GAAmC,SAAUnmB,GAE7C,QAASmmB,KACL,MAAkB,QAAXnmB,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KA0B/D,MA5BA8mC,IAAUwnB,EAAmBnmB,GAI7BX,IACIY,YAAS,IACVkmB,EAAkBlrD,UAAW,yBAAsB,IACtDokC,IACIY,YAAS,IACVkmB,EAAkBlrD,UAAW,6BAA0B,IAC1DokC,IACIY,YAAS,IACVkmB,EAAkBlrD,UAAW,4BAAyB,IACzDokC,IACIY,YAAS,IACVkmB,EAAkBlrD,UAAW,8BAA2B,IAC3DokC,IACIY,WAAS,OACVkmB,EAAkBlrD,UAAW,WAAQ,IACxCokC,IACIY,YAAU,OAAQ,SAAU,UAAW,MAAO,WAC/CkmB,EAAkBlrD,UAAW,mBAAgB,IAChDokC,IACIY,YAAS,IACVkmB,EAAkBlrD,UAAW,sBAAmB,IACnDokC,IACIY,YAAS,IACVkmB,EAAkBlrD,UAAW,gBAAa,IACtCkrD,GACTjmB,iBAKEkmB,GAA+B,SAAUpmB,GAEzC,QAASomB,KACL,MAAkB,QAAXpmB,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KAiK/D,MAnKA8mC,IAAUynB,EAAepmB,GAIzBX,IACI0B,aAAY8hB,KACbuD,EAAcnrD,UAAW,kBAAe,IAC3CokC,IACI0B,aAAYukB,KACbc,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACI0B,aAAYukB,KACbc,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIY,WAAS,KACVmmB,EAAcnrD,UAAW,YAAS,IACrCokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,sBAAmB,IAC/CokC,IACI0B,UAAQ8iB,QAAMwC,eAAgBtC,SAC/BqC,EAAcnrD,UAAW,iBAAc,IAC1CokC,IACIY,WAAS,KACVmmB,EAAcnrD,UAAW,YAAS,IACrCokC,IACI0B,UAAQ8iB,QAAMyC,kBAAmBvC,SAClCqC,EAAcnrD,UAAW,oBAAiB,IAC7CokC,IACIY,WAAS,KACVmmB,EAAcnrD,UAAW,eAAY,IACxCokC,IACI0B,WAAU8B,MAAO,UAAWpd,MAAO,GAAKy9B,WACzCkD,EAAcnrD,UAAW,aAAU,IACtCokC,IACI0B,aAAY+jB,WACbsB,EAAcnrD,UAAW,aAAU,IACtCokC,IACI0B,WAAU8F,QAAUhE,MAAO,KAAMpd,MAAO,IAAO03B,WAAY,eAAiBoJ,cAC7EH,EAAcnrD,UAAW,gBAAa,IACzCokC,IACIY,WAAS,OACVmmB,EAAcnrD,UAAW,iBAAc,IAC1CokC,IACIY,WAAS,aACVmmB,EAAcnrD,UAAW,YAAS,IACrCokC,IACIY,gBACDmmB,EAAcnrD,UAAW,eAAY,IACxCokC,IACI0B,aAAYylB,sBACbJ,EAAcnrD,UAAW,gBAAa,IACzCokC,IACI0B,aAAYklB,KACbG,EAAcnrD,UAAW,cAAW,IACvCokC,IACI0B,aAAYolB,KACbC,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIY,cACDmmB,EAAcnrD,UAAW,qBAAkB,IAC9CokC,IACIY,WAAS,SACVmmB,EAAcnrD,UAAW,oBAAiB,IAC7CokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,oBAAiB,IAC7CokC,IACIyB,gBAAe2lB,YAChBL,EAAcnrD,UAAW,0BAAuB,IACnDokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,sBAAmB,IAC/CokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,2BAAwB,IACpDokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIY,WAAS,IACVmmB,EAAcnrD,UAAW,eAAY,IACxCokC,IACIY,WAAS,OACVmmB,EAAcnrD,UAAW,kBAAe,IAC3CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,cAAW,IACvCokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,gCAA6B,IACzDokC,IACIgC,WACD+kB,EAAcnrD,UAAW,aAAU,IACtCokC,IACIgC,WACD+kB,EAAcnrD,UAAW,kBAAe,IAC3CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,wBAAqB,IACjDokC,IACIgC,WACD+kB,EAAcnrD,UAAW,WAAQ,IACpCokC,IACIgC,WACD+kB,EAAcnrD,UAAW,iBAAc,IAC1CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,kBAAe,IAC3CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,oBAAiB,IAC7CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,sBAAmB,IAC/CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,sBAAmB,IAC/CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,qBAAkB,IAC9CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,gBAAa,IACzCokC,IACIgC,WACD+kB,EAAcnrD,UAAW,iBAAc,IAC1CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,qBAAkB,IAC9CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,sBAAmB,IAC/CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,kBAAe,IAC3CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,mBAAgB,IAC5CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,oBAAiB,IAC7CokC,IACIgC,WACD+kB,EAAcnrD,UAAW,gBAAa,IACzCokC,IACIY,YAAS,IACVmmB,EAAcnrD,UAAW,2BAAwB,IAC7CmrD,GACTlmB,iBC1/BEwmB,GAA0B,WAC1B,QAASA,MAkhBT,MAhhBAA,GAASC,YAAc,SAAU5/B,EAAoB6/B,EAAYC,EAAWpE,EAAWqE,GACnFjvD,KAAKob,OAAS2zC,EACd/uD,KAAKkvD,WAAaH,EAAWG,WAC7BlvD,KAAKmvD,eAAiBJ,EAAWI,eACjCnvD,KAAKovD,SAAWL,EAAWK,SAC3BpvD,KAAKyG,aAAesoD,EAAWtoD,aAC/BzG,KAAK8E,KAAOiqD,EAAWjqD,KACvB9E,KAAK+E,QAAUgqD,EAAWhqD,QAC1B/E,KAAK0C,OAASqsD,EAAWrsD,OACzB1C,KAAKgF,QAAU+pD,EAAW/pD,QAC1BhF,KAAK+R,iBAAmBg9C,EAAWh9C,iBACnC/R,KAAK0E,iBAAmBqqD,EAAWrqD,iBACnC1E,KAAKmG,kBAAoB+oB,EAAmB/oB,kBAAoB+oB,EAAmB/oB,sBAAoBjG,GACvGF,KAAK+F,eAAiBgpD,EAAWM,mBAAmBngC,EAAmBnpB,gBACvE/F,KAAKyF,wBAA0BspD,EAAWtpD,wBAC1CzF,KAAKY,UAA6C,QAAjCsuB,EAAmBtuB,UAAsB,OAAS,UAC/DgqD,IACAA,EAAU3gD,KAA0B,QAAnB2gD,EAAU3gD,KAAiB,OAAS,WAEzDjK,KAAKiH,cAAgBkF,YAAW4iD,EAAW9nD,cAAe,MAAM,GAChEjH,KAAKsvD,aAAeP,EAAWQ,aAC/BvvD,KAAKuN,UAAYwhD,EAAWxhD,UAC5BvN,KAAKwvD,YAAc,mHACnB,IAAIC,GAAezvD,KAAK0vD,iBAAiB1vD,KAAK0C,QAC1CitD,EAAW3vD,KAAK4vD,mBAAmB5vD,KAAK8E,KAAM2qD,EAAc,OAAQ7E,GAAWl8C,QAAQ,MAAO,SAC9FmhD,EAAc7vD,KAAK4vD,mBAAmB5vD,KAAK+E,QAAS0qD,EAAc,UAAW7E,GAAWl8C,QAAQ,MAAO,QAC3G,IAAI1O,KAAKovD,UAAYJ,OAAmC9uD,KAAtBF,KAAKyG,cAA2C,KAAbkpD,GAAmC,KAAhBE,EAEpFF,GADIG,EAAc9vD,KAAK+vD,eAAeJ,EAAUE,IACzBF,SACvBE,EAAcC,EAAYD,gBAEzB,IAAI7vD,KAAKovD,WAAaJ,OAAmC9uD,KAAtBF,KAAKyG,cAA2C,KAAbkpD,GAAmC,KAAhBE,EAAoB,CAC9G,GAAIC,GAAc9vD,KAAKgwD,oBAAoBL,EAAUE,EACrDF,GAAWG,EAAYH,SACvBE,EAAcC,EAAYD,YAE9BF,EAAYA,EAASxwD,OAAS,EAAIwwD,GAAY3vD,KAAKovD,WAAaJ,EAAY,GAAKhvD,KAAKwvD,YAAc,YAAc,GAClHK,EAAeA,EAAY1wD,OAAS,EAAI0wD,GAAe7vD,KAAKovD,WAAaJ,EAAY,GAAKhvD,KAAKwvD,YAAc,eAAiB,EAC9H,IAAIS,GAAcjwD,KAAKkwD,gBAAgBlwD,KAAKgF,QAAS,WAAW0J,QAAQ,MAAO,SAC3EyhD,EAAcnwD,KAAKowD,eAAepwD,KAAKiH,cAAeioB,EAAmBmhC,MAAM3hD,QAAQ,MAAO,SAASA,QAAQ,MAAO,QAAQA,QAAQ,MAAO,QAC7I4hD,EAAYtwD,KAAKuwD,wBAAwBvwD,KAAKyF,yBAAyBiJ,QAAQ,MAAO,SACtF8hD,EAAQxwD,KAAKywD,cAAcd,EAAUE,EAAaI,EAAaE,EAAaG,EAAWtB,GACvFpkC,GACA8lC,QAASxhC,EAAmBwhC,QAC5BL,KAAMnhC,EAAmBmhC,KACzBzsB,IAAK1U,EAAmB0U,IACxB+sB,QAASH,EACTI,KAAM1hC,EAAmB2hC,iBAAiB3oD,WAE9C6mD,GAAW+B,SAAWN,EAAM9hD,QAAQ,UAAW,KAAKA,QAAQ,SAAU,KAAKA,QAAQ,SAAU,KAAKA,QAAQ,QAAS,KAE/Gk8C,IACAA,EAAU3gD,KAA0B,SAAnB2gD,EAAU3gD,KAAkB,MAAQ,UAEpDglD,GACDjvD,KAAK+wD,iBAAiBnmC,EAAO5qB,KAAKovD,WAAaJ,EAAYhvD,KAAKob,OAAO41C,mBAAmBplC,KAAK5rB,KAAKob,QAAUpb,KAAKob,OAAO61C,eAAerlC,KAAK5rB,KAAKob,QAAUwvC,GAAcjwC,OAAQiwC,EAAUjwC,OAAQiwC,UAAWA,IAAgB17B,mBAAoBA,EAAoBvU,OAAQ,uBAGxRk0C,EAASkC,iBAAmB,SAAUnmC,EAAMsmC,EAAeC,GACvD,GAAIC,GAAmBpxD,KAAKob,OAAOi2C,kBAAkBzmC,EAAKgZ,IAAKhZ,EAAKgmC,MAChEU,EAAc,uKACd1mC,EAAK+lC,QAAU,gEACf/lC,EAAK8lC,QAAU,gCAAkCU,EAAiBR,KAClE,iFACJ5wD,MAAKob,OAAOm2C,WAAW,OAAQH,EAAiBxtB,IAAK0tB,EAAaJ,EAAeC,IAErFtC,EAAS4B,cAAgB,SAAUd,EAAUE,EAAaI,EAAaE,EAAaG,EAAWtB,GAC3F,GAAIwB,GAAUxwD,KAAKovD,WAAaJ,EAA2B,KAAdsB,EAAmB,GAAK,SAAW,WAWhF,OAVIT,GAAY1wD,OAAS,IACrBqxD,GAAgBX,GAEhBF,EAASxwD,OAAS,IAClBqxD,EAAQA,GAASX,EAAY1wD,OAAS,EAAIa,KAAKovD,WAAaJ,EAAY,GAAK,KAAO,IAAMW,GAE9Fa,EAAQF,EAAYE,GAASxwD,KAAKovD,WAAaJ,EAAY,sVAE2E,IAClImB,EAAcF,EAAc,6DAGpCpB,EAASkB,eAAiB,SAAUJ,EAAUE,GAG1CF,EAAWA,EAASjhD,QAAQ,eAAgB,IAAIksB,MAAM,GAAI,GAC1Di1B,EAAcA,EAAYnhD,QAAQ,eAAgB,IAAIksB,MAAM,GAAI,EAChE,IAAI42B,GAAc7B,EAKd8B,GAAczxD,KAAKyG,aAAaqZ,eAAiB,GAAK9f,KAAKyG,aAAasZ,QACxE2xC,GAAc1xD,KAAKyG,aAAayZ,kBAAoB,GAAKlgB,KAAKyG,aAAa0Z,WAC3EwxC,EAAyC,EAA5B3xD,KAAKyG,aAAasZ,QAC/B6xC,EAA+C,EAA/B5xD,KAAKyG,aAAa0Z,UAWtC,OAVAsxC,GAAczxD,KAAKob,OAAOra,SAAY0wD,EAAaE,EAC9C3xD,KAAKob,OAAOra,SAAW4wD,EAAc3xD,KAAKob,OAAOra,SAAW4wD,EAAc,EAAKF,EACpFzxD,KAAKob,OAAO89B,gBAAkBuY,EAC9BC,EAAc1xD,KAAKob,OAAOta,YAAe4wD,EAAaE,EACjD5xD,KAAKob,OAAOta,YAAc8wD,EAAiB5xD,KAAKob,OAAOta,YAAc8wD,EAAiB,EAAKF,EAChG1xD,KAAKob,OAAOo+B,gBAAkBkY,GAE1B/B,SAAuB,KAAbA,EAAmB,gBAAkB3vD,KAAKkvD,WAAa,GAAK,YAAc,KAAOS,GAAa3vD,KAAKkvD,YAA8B,KAAhBW,EAAyC,GAApB,IAAMA,GAAoB,QAAuB,IAAM8B,EAAa,IAAO,GAC3N9B,YAA6B,KAAhBA,EAAsB,gBAAkB7vD,KAAKkvD,WAAa,GAAK,YAAc,KAAOW,GAAgB7vD,KAAKkvD,YAA8B,KAAhBsC,EAAyC,GAApB,IAAMA,GAAoB,QAAuB,IAAMI,EAAgB,IAAO,KAI/O/C,EAASmB,oBAAsB,SAAUL,EAAUE,GAC/CF,EAAWA,EAASjhD,QAAQ,eAAgB,IAAIksB,MAAM,GAAI,GAC1Di1B,EAAcA,EAAYnhD,QAAQ,eAAgB,IAAIksB,MAAM,GAAI,EAChE,IAAI42B,GAAc7B,CAOlB,QAHIA,SAAuB,KAAbA,EAAmB,kDAAqD3vD,KAAKkvD,WAAa,GAAK,YAAc,KAAOS,GAAa3vD,KAAKkvD,YAA8B,KAAhBW,EAAyC,GAApB,IAAMA,GAAoB,MAAS,GACtNA,YAA6B,KAAhBA,EAAsB,oDAAsD7vD,KAAKkvD,WAAa,GAAK,YAAc,KAAOW,GAAgB7vD,KAAKkvD,YAA8B,KAAhBsC,EAAyC,GAApB,IAAMA,GAAoB,MAAS,KAIxO3C,EAASe,mBAAqB,SAAUiC,EAAYpC,EAAcxlD,EAAM2gD,GACpE,GAAI4F,GAAQ,EACZ,IAAIqB,EAAW1yD,OAAS,EAAG,CACvBqxD,EAAQ,kBAAoBxwD,KAAK+F,eAAe5G,OAAS,EAAI,iBAAmB,GAEhF,KADA,GAAIW,GAAI,EACDA,EAAI+xD,EAAW1yD,QAAQ,CAEhB,IAANW,EACyC,eAArC+xD,EAAW/xD,GAAGqF,KAAKyO,cACE,KAAjB67C,IACAe,GAAgBf,GAKpBe,GADY,KAAOxwD,KAAK8xD,kBAAkBD,EAAW/xD,GAAImK,GAAQ,KAK5B,eAArC4nD,EAAW/xD,GAAGqF,KAAKyO,cACE,KAAjB67C,IACAe,EAAQA,EAAQ,MAAQf,GAK5Be,EAAQA,EAAQ,OADJ,KAAOxwD,KAAK8xD,kBAAkBD,EAAW/xD,GAAImK,GAAQ,MAIzEnK,IAKJ,GAAIiyD,GAAgB/xD,KAAKgyD,cAAcH,EAAYpC,EAAcxlD,EAAM2gD,EACvE4F,GAAS5F,GAAaA,EAAU3gD,OAASA,EAAO,kBAAoBjK,KAAK+F,eAAe5G,OAAS,EAAI,iBAAmB,IAAM4yD,EAAcvB,MAAQA,GAAiC,KAAxBuB,EAAcvB,MAAe,IAAM,IAAMuB,EAAcvB,MACpNA,GAASxwD,KAAKY,YAAcqJ,EAAOjK,KAAKiyD,qBAAqBzB,EAAOxwD,KAAKmG,mBAAqBqqD,IACzFxwD,KAAK+F,eAAe5G,OAAS,EAAI,KAAO,KAAOa,KAAKovD,UAAqB,YAATnlD,GAA8C,KAAxB8nD,EAAcvB,MAAe,IAAMuB,EAAc3xD,WAAWqa,KAAK,KAAO,IAAM,IAO7K,MAAO+1C,IAEX3B,EAASmD,cAAgB,SAAUH,EAAYpC,EAAcxlD,EAAM2gD,GAC/D,GAAI4F,GAAQ,GACR0B,KACAnsD,KACAosD,GAAkB,EAClBC,EAAqB,EACrBxH,IAAaA,EAAU3gD,OAASA,GAA2C,SAAnC2gD,EAAUjwC,OAAO/G,eACzDu+C,GAAkB,EAClBpsD,IAAoBZ,KAAMylD,EAAUnjD,UAAWwK,OAAQ24C,EAAUpwC,YAAaE,UAAW,QAGzF3U,EAAiB/F,KAAK+F,cAE1B,KAAK,GAAI9G,GAAK,EAAGozD,EAAmBtsD,EAAgB9G,EAAKozD,EAAiBlzD,OAAQF,IAE9E,IAAK,GADD+M,GAAQqmD,EAAiBpzD,GACpBC,EAAK,EAAGqK,EAAKyC,EAAMiG,MAAO/S,EAAKqK,EAAGpK,OAAQD,IAAM,CAMrD,IALA,GACIozD,MACAC,KACAzyD,EAAI,EACJ0yD,EAJOjpD,EAAGrK,GAIS2P,MAAM7C,EAAM0O,UAAY1O,EAAM0O,UAAY,MAC1D5a,EAAI+xD,EAAW1yD,QAAQ,CAC1B,GAAIqzD,EAAY1yD,KAAsD,IAAhD0yD,EAAY1yD,GAAGoF,QAAQ2sD,EAAW/xD,GAAGqF,OACkB,IAArEqtD,EAAYA,EAAYrzD,OAAS,GAAG+F,QAAQ2sD,EAAW/xD,GAAGqF,MACtDgtD,EACAC,EAAqBA,GAA6C,KAAvBA,EAA4B,MAAQ,IAAM,KAAOI,EAAY1yD,GAAK,eAG7GwyD,EAAW5yD,KAAK,IAAM8yD,EAAY1yD,GAAK,cACvCyyD,EAAS7yD,KAAK,IAAM8yD,EAAY1yD,GAAK,MAIJ,eAAjC0yD,EAAY1yD,GAAG8T,eAAmD,KAAjB67C,EAC7C0C,EACAC,EAAqBA,GAA6C,KAAvBA,EAA4B,MAAQ,IAAM,IAAM3C,EAAe,KAG1G6C,EAAW5yD,KAAK,IAAM+vD,EAAe,KACrC8C,EAAS7yD,KAAK,IAAM+vD,EAAe,OAGsB,IAAxD+C,EAAY1yD,GAAG8T,cAAc1O,QAAQ,cACtCitD,EACAC,EAAqBA,GAA6C,KAAvBA,EAA4B,MAAQ,IAAM,KAAOI,EAAY1yD,GAAK,MAG7GwyD,EAAW5yD,KAAK,KAAO8yD,EAAY1yD,GAAK,MACxCyyD,EAAS7yD,KAAK,KAAO8yD,EAAY1yD,GAAK,OAItCqyD,EACAC,EAAqBA,GAA6C,KAAvBA,EAA4B,MAAQ,IAAM,KAAOI,EAAY1yD,GAAK,MAG7GwyD,EAAW5yD,KAAK,IAAM8yD,EAAY1yD,GAAK,KACvCyyD,EAAS7yD,KAAK,IAAM8yD,EAAY1yD,GAAK,UAKhD,CAAA,GAAK0yD,EAAY1yD,KAAM+xD,EAAW/xD,GAoBlC,CACDwyD,IACA,OArByC,eAArCT,EAAW/xD,GAAGqF,KAAKyO,eAAmD,KAAjB67C,EACjD0C,EACAC,EAAqBA,GAA6C,KAAvBA,EAA4B,MAAQ,IAAM,IAAM3C,EAAe,KAG1G6C,EAAW5yD,KAAK,IAAM+vD,EAAe,KACrC8C,EAAS7yD,KAAK,IAAM+vD,EAAe,MAInC0C,EACAC,EAAqBA,GAA6C,KAAvBA,EAA4B,MAAQ,IAAM,KAAOpyD,KAAK8xD,kBAAkBD,EAAW/xD,GAAImK,GAAQ,MAG1IqoD,EAAW5yD,KAAK,IAAMM,KAAK8xD,kBAAkBD,EAAW/xD,GAAImK,GAAQ,KACpEsoD,EAAS7yD,KAAK,IAAMM,KAAK8xD,kBAAkBD,EAAW/xD,GAAImK,GAAQ,MAQ9EnK,IAEAwyD,EAAWnzD,OAAS,GAAKmzD,EAAWnzD,OAASqzD,EAAYrzD,SACzDmzD,KACAC,MAGJ/B,EAAQA,GAAmB,KAAVA,GAAgB8B,EAAWnzD,OAAS,EAAI,IAAM,KAAOmzD,EAAWnzD,OAAS,EAAI,IAAMmzD,EAAWpqD,WAAa,IAAM,IAC9HqqD,EAASpzD,OAAS,GAClB+yD,EAAcxyD,KAAM,IAAM6yD,EAASrqD,WAAa,KAS5D,OAHIsoD,MAAQ2B,EAAkBC,EAAqB5B,EAC/CpwD,WAAa+xD,GAAmBC,GAAsBF,IAI9DrD,EAASoD,qBAAuB,SAAUzB,EAAOrqD,GAC7C,GAAIA,GAAqBA,EAAkBiP,SAAyC,KAA9BjP,EAAkBiP,QAAgB,CACpF,GAAIq9C,GAAezyD,KAAK+F,eAAe5G,OAAS,EAAI,iBAAmB,GACnEiW,EAAWpV,KAAKuN,UAAUpH,EAAkBiP,SAAS8oC,kBACrDl+C,KAAKuN,UAAUpH,EAAkBiP,SAASs9C,IAAMvsD,EAAkBiP,OACtE,QAAQjP,EAAkBC,WACtB,IAAK,YAEDoqD,GADAA,EAAQA,EAAM9hD,QAAQ,eAAiB+jD,EAAa,eAAiBA,EAAc,cACnE,MAAQr9C,EAAU,SAGlC,MACJ,KAAK,aAEDo7C,GADAA,EAAQA,EAAM9hD,QAAQ,eAAiB+jD,EAAa,eAAiBA,EAAc,cACnE,MAAQr9C,EAAU,YAM9C,MAAOo7C,IAEX3B,EAASqB,gBAAkB,SAAUyC,EAAS1oD,GAC1C,GAAI6iB,GAAQ9sB,KACRwwD,EAAQ,GACRrjD,EAAahB,YAAWnM,KAAK8E,KAAM,MAAM,EAE7C,IADAqI,EAAaA,EAAWC,OAAOpN,KAAK+E,SAChC4tD,EAAQxzD,OAAS,EAAG,CAEpB,IADA,GAAIyzD,GAAM,EACHA,EAAMD,EAAQxzD,QACLgO,EAAWM,OAAO,SAAUzB,GACpC,GAAI6mD,GAAY/lC,EAAMgmC,uBAAuB9mD,EAAM7G,MAC/C4tD,EAAejmC,EAAMgmC,uBAAuBH,EAAQC,GAAKztD,KAI7D,OAFU0tD,KAAcE,KAClBjmC,EAAMoiC,YAA+B,KAAjB6D,GAAqC,KAAdF,KAElD1zD,OAAS,QAEkBe,KAAtByyD,EAAQC,GAAKztD,MAAuBnF,KAAKiH,cAAc0rD,EAAQC,GAAKztD,MAG/DnF,KAAKiH,cAAc0rD,EAAQC,GAAKztD,QACrCqrD,EAAQA,GAAmB,KAAVA,EAAe,MAAQ,IAAM,IAAOxwD,KAAKiH,cAAc0rD,EAAQC,GAAKztD,MAAM+C,WAAc,KAHzGsoD,EAAQA,GAAmB,KAAVA,EAAe,MAAQ,IAAM,IAAMxwD,KAAK8xD,kBAAkBa,EAAQC,GAAM3oD,GAAQ,KAMzG2oD,GAEJpC,GAAQ,YAAcA,EAAM9hD,QAAQ,kBAAmB,IAAM,IAEjE,MAAO8hD,IAEX3B,EAASiD,kBAAoB,SAAUkB,EAAW/oD,GAC9C,GACI9E,GAAO6tD,EAAU9U,kBAAoBl+C,KAAKuN,UAAUylD,EAAU7tD,MAAMutD,IAAMM,EAAU7tD,IASxF,OARmBnF,MAAKuN,UAAUylD,EAAU7tD,MAAM8tD,cAC5BD,EAAU1yB,YAAe0yB,EAAU9U,kBAI5C8U,EAAU1yB,WAAa,IAAMn7B,EAAO,IAAMnF,KAAKovD,SAAWjqD,EAAO,YACtE,mBAAqBA,EAAO,KAAiB,SAAT8E,GAA4B,YAATA,EAAsB,0BAA4B,IAAM,IAJ3G,KAAO9E,EAAO,2BAQ9B0pD,EAASiE,uBAAyB,SAAUxsD,GACxC,GAAI4sD,GAAgBlzD,KAAKsvD,aAAa1wC,UAClCu0C,IACJ,IAAID,EAAe,CAIf,IAAK,GAAIj0D,GAAK,EAAGm0D,EAAkBF,EAAej0D,EAAKm0D,EAAgBj0D,OAAQF,IAAM,CACjF,GAAIG,GAAOg0D,EAAgBn0D,EACvBG,GAAK2O,GAAG6F,gBAAkBtN,EAAWsN,eACrCu/C,EAAWzzD,KAAKN,GAGxB,MAAQ+zD,GAAWh0D,OAAS,EAAIg0D,EAAW,GAAGE,IAAM,GAGpD,MAAO/sD,GAAWuI,MAAM,KAAK,IAGrCggD,EAASa,iBAAmB,SAAU4D,GAClC,GAAI9C,GAAQ,EACZ,IAAI8C,EAASn0D,OAAS,EAAG,CACrBqxD,EAAQ,IAER,KAAK,GADD9tD,GAAS,GACJzD,EAAK,EAAGs0D,EAAaD,EAAUr0D,EAAKs0D,EAAWp0D,OAAQF,IAAM,CAClE,GAAImW,GAAUm+C,EAAWt0D,GACrBmiB,EAAUhM,EAAQ8oC,kBAAoBl+C,KAAKuN,UAAU6H,EAAQjQ,MAAMutD,IAAMt9C,EAAQjQ,IAEjFzC,GADAA,EAAOvD,OAAS,EACPuD,EAAS,KAAO0e,EAGhBA,EAGjBovC,EAAQA,EAAQ9tD,EAAS,KAE7B,MAAO8tD,IAEX3B,EAASuB,eAAiB,SAAUprD,EAASqrD,GAOzC,IAAK,GANDG,GAAQ,WAAaH,EAAO,IAC5BF,EAAc,mBACdqD,KACAC,KACAC,KACAC,KACK10D,EAAK,EAAGC,EAAKc,KAAK8E,KAAM7F,EAAKC,EAAGC,OAAQF,IAEzC+F,GADAgH,EAAQ9M,EAAGD,IACGkG,OAASH,EAAQgH,EAAM7G,MAAMhG,OAAS,IACd,gBAA3B6F,GAAQgH,EAAM7G,MAAM,GAC3BuuD,EAAUh0D,KAAKsF,EAAQgH,EAAM7G,QAG7BquD,EAAgB9zD,KAAKsF,EAAQgH,EAAM7G,aAC5BH,GAAQgH,EAAM7G,OAIjC,KAAK,GAAIoE,GAAK,EAAGQ,EAAK/J,KAAK+E,QAASwE,EAAKQ,EAAG5K,OAAQoK,IAE5CvE,GADAgH,EAAQjC,EAAGR,IACGpE,OAASH,EAAQgH,EAAM7G,MAAMhG,OAAS,IACd,gBAA3B6F,GAAQgH,EAAM7G,MAAM,GAC3BwuD,EAAaj0D,KAAKsF,EAAQgH,EAAM7G,QAGhCquD,EAAgB9zD,KAAKsF,EAAQgH,EAAM7G,aAC5BH,GAAQgH,EAAM7G,OAIjC,KAAK,GAAIyG,GAAK,EAAGE,EAAK9L,KAAKgF,QAAS4G,EAAKE,EAAG3M,OAAQyM,IAAM,CAGtD,IAAK,GAFDI,GAAQF,EAAGF,GACXgoD,GAAU,EACL78C,EAAK,EAAGyN,EAAKxkB,KAAK+E,QAASgS,EAAKyN,EAAGrlB,OAAQ4X,IAAM,CACtD,GAAIrB,GAAS8O,EAAGzN,EACZ/W,MAAK8yD,uBAAuBp9C,EAAOvQ,QAAUnF,KAAK8yD,uBAAuB9mD,EAAM7G,OAC3EH,EAAQgH,EAAM7G,QACdwuD,EAAaj0D,KAAKsF,EAAQgH,EAAM7G,OAChCyuD,GAAU,GAItB,GAAIA,EACA,IAAK,GAAIhvC,GAAK,EAAGE,EAAK9kB,KAAK8E,KAAM8f,EAAKE,EAAG3lB,OAAQylB,IAAM,CACnD,GAAInP,GAAMqP,EAAGF,EACT5kB,MAAK8yD,uBAAuBr9C,EAAItQ,QAAUnF,KAAK8yD,uBAAuB9mD,EAAM7G,OACxEH,EAAQgH,EAAM7G,OACduuD,EAAUh0D,KAAKsF,EAAQgH,EAAM7G,QAMjD,GAAInF,KAAK+R,kBAAoB/R,KAAK0E,iBAC9B,IAAK,GAAIsgB,GAAK,EAAG6uC,EAAoBL,EAAiBxuC,EAAK6uC,EAAkB10D,OAAQ6lB,IAEjF,IAAK,GAAIE,GAAK,EAAG4uC,EADCD,EAAkB7uC,GACUE,EAAK4uC,EAAc30D,OAAQ+lB,IAAM,CAC3E,GAAI9lB,GAAO00D,EAAc5uC,EACzBuuC,GAAoB/zD,KAAKM,KAAK+zD,uBAAuB30D,EAAM+wD,EAAa,YAIpF,IAAK,GAAIrwD,GAAI,EAAGO,EAAMszD,EAAax0D,OAAQW,EAAIO,EAAKP,IAChDqwD,EAAoB,IAANrwD,EAAUqwD,EAAc,IAAMwD,EAAa7zD,GAAGoI,WAAa,IAAMioD,EAAc,KAAOwD,EAAa7zD,GAAGoI,WAAa,GAEjIyrD,GAAax0D,OAAS,IACtBgxD,EAAeuD,EAAUv0D,OAAS,EAAKgxD,EAAc,mBAA0BA,EAAc,gBAEjG,KAAK,GAAIrwD,GAAI,EAAGO,EAAMqzD,EAAUv0D,OAAQW,EAAIO,EAAKP,IAC7CqwD,EAAerwD,EAAI,EAAKqwD,EAAc,KAAOuD,EAAU5zD,GAAGoI,WAAa,IAAMioD,EAAc,IAAMuD,EAAU5zD,GAAGoI,WAAa,GAE/HioD,GAAewD,EAAax0D,OAAS,GAAKu0D,EAAUv0D,OAAS,EACzDgxD,GAA4B,aAAuC,GAAvBwD,EAAax0D,QAAeu0D,EAAUv0D,OAAS,EAC3FgxD,EAAc,gBAAkBA,CACpC,IAAI6D,GAAqB,EAOzB,OANIP,GAAoBt0D,OAAS,IAC7B60D,GAAuBL,EAAax0D,OAAS,GAAKu0D,EAAUv0D,OAAS,EAAKgxD,EAAc,IACpF,IAAMsD,EAAoBh5C,KAAK,KAAO,IAAM+1C,EAAQrpB,MAAMssB,EAAoBt0D,OAAS,GACrFw0D,EAAax0D,OAAS,GAAKu0D,EAAUv0D,OAAS,EAAK,EAAI,IAAIsb,KAAK,MAE1E+1C,EAAiC,IAAxBmD,EAAax0D,QAAqC,IAArBu0D,EAAUv0D,OAAgBqxD,EAAQL,EAAcK,EAAQ,IACtFwD,EAAmB70D,OAAS,EAAK60D,EAAqBxD,GAElE3B,EAASkF,uBAAyB,SAAU/5C,EAAYw2C,EAAOyD,GAI3D,MAHkB,yBAA2Bj6C,EAAWiZ,cAAgB,gBACpEjzB,KAAKk0D,2BAA2Bl6C,EAAW7U,KAAM6U,EAAWpH,UAAWoH,EAAWnH,OAAQmH,EAAWlH,OAAQkH,EAAWrS,KAAMqS,EAAW5E,SACzI,SAAW6+C,GAGnBpF,EAASqF,2BAA6B,SAAUzsD,EAAW0sD,EAAgBthD,EAAQC,EAAQnF,EAAY2lD,GACnG,GAAIG,GAAsB,EAC1B,QAAQU,GACJ,IAAK,SACDV,EAAsB,KAAsB,UAAf9lD,EAA0BlG,EAAY,mCAAsCoL,EAAS,IAASygD,EAAW,MAAQzgD,EAC9I,MACJ,KAAK,gBACD4gD,EAAsB,KAAqB,SAAd9lD,EAAyBlG,EAAY,oCAAuCoL,EAAS,IAASygD,EAAW,MAAQzgD,EAC9I,MACJ,KAAK,WACD4gD,EAAsB,cAAgBhsD,EAAY,kCAAqCoL,EAAS,OAChG,MACJ,KAAK,kBACD4gD,EAAsB,cAAgBhsD,EAAY,kCAAqCoL,EAAS,MAChG,MACJ,KAAK,YACD4gD,EAAsB,WAAahsD,EAAY,iCAAmCoL,EAAO1T,OAAS,MAAS0T,EAAS,GACpH,MACJ,KAAK,mBACD4gD,EAAsB,WAAahsD,EAAY,iCAAmCoL,EAAO1T,OAAS,QAAW0T,EAAS,GACtH,MACJ,KAAK,WACD4gD,EAAsB,YAAchsD,EAAY,iCAAmCoL,EAAO1T,OAAS,MAAS0T,EAAS,GACrH,MACJ,KAAK,kBACD4gD,EAAsB,YAAchsD,EAAY,iCAAmCoL,EAAO1T,OAAS,QAAW0T,EAAS,GACvH,MACJ,KAAK,cACD4gD,EAAsB,KAAqB,SAAd9lD,EAAyBlG,EAAY,mCAAsCoL,EAAS,IAASygD,EAAW,KAAOzgD,EAC5I,MACJ,KAAK,uBACD4gD,EAAsB,KAAqB,SAAd9lD,EAAyBlG,EAAY,oCAAuCoL,EAAS,IAASygD,EAAW,MAAQzgD,EAC9I,MACJ,KAAK,WACD4gD,EAAsB,KAAqB,SAAd9lD,EAAyBlG,EAAY,mCAAsCoL,EAAS,IAASygD,EAAW,KAAOzgD,EAC5I,MACJ,KAAK,oBACD4gD,EAAsB,KAAqB,SAAd9lD,EAAyBlG,EAAY,oCAAuCoL,EAAS,IAASygD,EAAW,MAAQzgD,EAC9I,MACJ,KAAK,UACD4gD,EAAsB,KAAqB,SAAd9lD,EAAyBlG,EAAY,oCAAuCoL,EAAS,QAAWpL,EAAY,oCAAuCqL,EAAS,IAASwgD,EAAW,MAAQzgD,EAAS,QAAUygD,EAAW,MAAQxgD,EAC3P,MACJ,KAAK,aACD2gD,EAAsB,KAAqB,SAAd9lD,EAAyBlG,EAAY,oCAAuCoL,EAAS,OAAUpL,EAAY,oCAAuCqL,EAAS,IAASwgD,EAAW,MAAQzgD,EAAS,OAASygD,EAAW,MAAQxgD,EACzP,MACJ,SACI2gD,EAAsB,cAAgBhsD,EAAY,kCAAqCoL,EAAS,QAGxG,MAAO4gD,IAEX5E,EAAS0B,wBAA0B,SAAU6D,GACzC,GAAIC,GAAY,EAChB,IAAID,EAAYj1D,OAAS,EAAG,CACxBk1D,EAAY,QACZ,KAAK,GAAIp1D,GAAK,EAAGq1D,EAAgBF,EAAan1D,EAAKq1D,EAAcn1D,OAAQF,IAAM,CAC3E,GAAIkU,GAASmhD,EAAcr1D,GAEvBs1D,GADcphD,EAAO/E,QAAQlJ,QAAQ,YAAc,EAAI,cAAgBiO,EAAOqhD,oBAAsB,KAC3E,IAAMrhD,EAAOhO,KAAO,IAC7CmhC,EAAiB3iC,oBAAkBwP,EAAOmzB,cAAsC,KAAtBnzB,EAAOmzB,YACrE+tB,IAAc,YAAcE,EAAY,OAASphD,EAAO/E,QAAU,MAASzK,oBAAkB2iC,GAAqE,GAArD,qBAAwBA,EAAawT,OAAS,MAGnK,MAAOua,IAEJxF,KClhBP4F,GAA4B,WAC5B,QAASA,KAELz0D,KAAKuN,aAELvN,KAAKc,YAAc,EAEnBd,KAAKe,SAAW,EAEhBf,KAAKgB,YAAc,EAEnBhB,KAAKiB,YAAc,EAEnBjB,KAAKw5C,gBAAkB,EAEvBx5C,KAAKgE,YAAa,EAElBhE,KAAKoB,oBAAqB,EAE1BpB,KAAKmN,cAELnN,KAAKQ,gBAELR,KAAKiH,iBAELjH,KAAK00D,eAEL10D,KAAKkD,YAAc,mHACnBlD,KAAKmD,YAAc,mCAEnBnD,KAAKJ,eAELI,KAAKO,gBAELP,KAAKkY,iBAELlY,KAAKkB,YAAc,EAEnBlB,KAAKk5C,gBAAkB,EAEvBl5C,KAAKi/C,iBAELj/C,KAAKqhC,cAELrhC,KAAKu+C,SAAW,GAEhBv+C,KAAK20D,qBACL30D,KAAK40D,SAAW,EAChB50D,KAAK60D,mBACL70D,KAAK80D,uBACL90D,KAAK+0D,gBAAkB,EACvB/0D,KAAKg1D,kBACLh1D,KAAKi1D,aACLj1D,KAAKqE,kBAAmB,EACxBrE,KAAKsE,qBAAsB,EAC3BtE,KAAKk1D,uBACLl1D,KAAKm1D,0BACLn1D,KAAKo1D,cAygGT,MAtgGAX,GAAWrxD,UAAUC,aAAe,SAAU6rB,EAAoB3rB,GAC9DvD,KAAK6X,aAAc,EACnB7X,KAAK8wD,SAAW,GAChB9wD,KAAKmvD,gBAAiB,EACtBnvD,KAAK+R,kBAAmB,EACxB/R,KAAK0E,kBAAmB,EACxB1E,KAAKkvD,YAAa,EAClBlvD,KAAKq1D,sBACLr1D,KAAKs1D,oBACLt1D,KAAKu1D,iBACLv1D,KAAK0G,mBAAiBxG,GACtBF,KAAKw1D,uBAAqBt1D,GAC1BF,KAAKQ,gBACLR,KAAKiH,iBACLjH,KAAKmN,cACLnN,KAAKY,UAAY,GACjBZ,KAAKc,YAAc,EACnBd,KAAKe,SAAW,EAChBf,KAAKgB,YAAc,EACnBhB,KAAKiB,YAAc,EACnBjB,KAAKw5C,gBAAkB,EACvBx5C,KAAKoB,oBAAqB,EAC1BpB,KAAKo1D,cACLp1D,KAAK00D,eACL10D,KAAK4D,UAAY,GAAIC,wBAErB7D,KAAK42B,OAAS52B,KAAK4D,UAAU6xD,aAE7Bz1D,KAAK8D,UAAYP,EAAmBA,EAAiBO,cAAY5D,GACjEF,KAAKoB,qBAAqBmC,GAAmBA,EAAiBnC,mBAC1D8tB,EAAmB0U,MAEnB5jC,KAAKkvB,mBAAqBA,EAC1BlvB,KAAK01D,gBACL11D,KAAKqF,QAAU6pB,EAAmB5pB,eAAiB4pB,EAAmB5pB,kBACtEtF,KAAKgE,eAAkD9D,KAArCgvB,EAAmBjrB,eAAqCirB,EAAmBjrB,cAC7FjE,KAAKmG,kBAAoB+oB,EAAmB/oB,kBAAoB+oB,EAAmB/oB,sBAAoBjG,GACvGF,KAAKkP,eAAiBggB,EAAmBhgB,eAAiBggB,EAAmBhgB,kBAC7ElP,KAAK+G,aAAemoB,EAAmBnoB,aAAemoB,EAAmBnoB,gBACzE/G,KAAK+R,mBAAmBmd,EAAmBnd,iBAC3C/R,KAAK0E,mBAAmBwqB,EAAmBxqB,iBAC3C1E,KAAK+F,eAAiBmpB,EAAmBnpB,eAAiB/F,KAAKqvD,mBAAmBngC,EAAmBnpB,mBACrG/F,KAAKyF,wBAA0BypB,EAAmBzpB,wBAA0BypB,EAAmBzpB,2BAC/FzF,KAAKY,UAA6C,QAAjCsuB,EAAmBtuB,UAAsB,MAAQ,SAClEZ,KAAKiG,qBAAuBipB,EAAmBhpB,sBAAwBgpB,EAAmBhpB,sBAAwB,GAClHlG,KAAKyG,aAAelD,EAAoBA,EAAiBkD,aAAelD,EAAiBkD,aAAezG,KAAKyG,iBACvGvG,GACNF,KAAKovD,WAAWpvD,KAAKyG,aACrBzG,KAAK21D,kBACL31D,KAAK6M,mBAAmB7M,KAAKqF,SAC7BrF,KAAK0G,eAAiBnD,EAAmBA,EAAiBmD,mBAAiBxG,GAC3EF,KAAKw1D,mBAAqBjyD,EAAmBA,EAAiBiyD,uBAAqBt1D,GACnFF,KAAK41D,iBACL51D,KAAKuvD,gBACLvvD,KAAK61D,uBACC71D,KAAK0G,gBAAkB1G,KAAKw1D,mBAI9Bx1D,KAAK81D,iBAAgB,GAHrB91D,KAAK4G,aAAasoB,GAKtBlvB,KAAK+1D,6BAA6B/1D,KAAKyF,yBACvCzF,KAAKq1D,sBAELr1D,KAAKg2D,kBAAkBh2D,KAAKkP,gBAC5BlP,KAAKoH,iBAAiB8nB,KAI9BulC,EAAWrxD,UAAUgE,iBAAmB,SAAU8nB,EAAoBvU,GAClE,GAAIq0C,MAAar0C,GAAqB,cAAXA,IACvB3a,KAAKovD,cAAkClvD,KAAtBF,KAAKyG,aAC1BooD,IAASC,YAAY5/B,EAAoBlvB,KAAMgvD,IAEnDyF,EAAWrxD,UAAU4tD,mBAAqB,SAAUiF,EAAQtF,EAASQ,GACjE,GAAI+E,MAAiBt7B,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,mBAOpDq6B,EAAaD,EAAY,GAAKA,EAAY,GAAGp6B,iBAAiB,YAAc,IAC5Eq6B,IAAcA,EAAWh3D,OAAS,IAClCa,KAAKc,YAAcigB,OAAOo1C,EAAW,GAAGlmC,aACxCjwB,KAAKe,SAAWggB,OAAOo1C,EAAW,GAAGlmC,aAEzC,IAAIf,GAAqBiiC,EAAWjiC,kBACpC2/B,IAASC,YAAY5/B,EAAoBlvB,MAAM,IAEnDy0D,EAAWrxD,UAAU61C,WAAa,SAAUR,EAAW2d,EAASC,GAC5DxH,GAASC,YAAY9uD,KAAKkvB,mBAAoBlvB,MAAM,IAExDy0D,EAAWrxD,UAAU6tD,eAAiB,SAAUgF,EAAQtF,EAASQ,GACnC,SAAtBA,EAAWx2C,SACX3a,KAAKJ,eACLI,KAAKO,gBACLP,KAAKkY,iBACLlY,KAAK40D,SAAW,EAChB50D,KAAKi/C,iBACLj/C,KAAKqhC,cACLrhC,KAAKs2D,eACLt2D,KAAKk/C,kBAAgBh/C,GACrBF,KAAKohC,kBAAgBlhC,GACrBF,KAAKkB,aAAe,GAExBlB,KAAKi2D,OAASA,EAAOM,WAAU,GAC/Bv2D,KAAK2wD,QAAUA,EACf3wD,KAAKmxD,WAAaA,EAClBnxD,KAAK60D,mBACL70D,KAAK80D,uBACL90D,KAAK+0D,gBAAkB,EACvB/0D,KAAKw2D,uBACLx2D,KAAKy2D,yBACLz2D,KAAKk2D,YAAcD,EAAOn6B,iBAAiB,iBAC3C,IAAI46B,GAAe12D,KAAKk2D,YAAY/2D,OAAS,KACtCy7B,MAAMC,KAAK76B,KAAKk2D,YAAY,GAAGp6B,iBAAiB,iCACnD66B,EAAY32D,KAAKk2D,YAAY/2D,OAAS,KACnCy7B,MAAMC,KAAK76B,KAAKk2D,YAAY,GAAGp6B,iBAAiB,iCACnD86B,EAAgB52D,KAAKk2D,YAAY/2D,OAAS,KACvCy7B,MAAMC,KAAK76B,KAAKk2D,YAAY,GAAGp6B,iBAAiB,WACvD,IAAI97B,KAAK+F,eAAe5G,OAAS,EAAG,CAEhC,GAAI03D,GAAc72D,KAAK82D,iBACnBC,MAAc,EAElBL,IADAK,EAAc/2D,KAAKg3D,kBAAkBH,EAAa,SAAUH,EAAcE,EAAeF,EAAav3D,SAC3E83D,oBAC3BL,EAAgBG,EAAYG,mBAE5BP,GADAI,EAAc/2D,KAAKg3D,kBAAkBH,EAAa,MAAOF,EAAWC,EAAeF,EAAav3D,SACxE83D,oBACxBL,EAAgBG,EAAYG,mBAqBhC,GAjB0B,SAAtB/F,EAAWx2C,QACX3a,KAAKm3D,oBAAkD,QAA9BhG,EAAWvG,UAAU3gD,KAAiB0sD,EAAUx3D,OAASu3D,EAAav3D,QAEzE,SAAtBgyD,EAAWx2C,QAAkD,WAA9Bw2C,EAAWvG,UAAU3gD,OACpDjK,KAAKo3D,kBAAkBV,GAClB12D,KAAKovD,UACNpvD,KAAKq3D,wBAGa,SAAtBlG,EAAWx2C,QAAkD,QAA9Bw2C,EAAWvG,UAAU3gD,OACpDjK,KAAKs3D,eAAeX,GACf32D,KAAKovD,UACNpvD,KAAKu3D,qBAGbv3D,KAAKw3D,YAAYZ,EAAeF,EAAav3D,QAC7Ca,KAAKy3D,wBACDz3D,KAAKkvB,mBAAmBnoB,aAAa5H,OAAS,IAAMa,KAAKovD,SACzD,IAAK,GAAItvD,GAAI,EAAGA,EAAIE,KAAKkY,cAAc/Y,OAAQW,IAC3CE,KAAKkY,cAAcpY,GAAKE,KAAKJ,YAAYE,EAGjDE,MAAKoZ,iBAAkB,EACvBpZ,KAAK6X,YAAsC,IAAxB6+C,EAAav3D,QAGpCs1D,EAAWrxD,UAAUqzD,uBAAyB,WAC1Cz2D,KAAKqE,iBAAmBrE,KAAKkvB,mBAAmB7qB,kBAAoBrE,KAAKkvB,mBAAmB9qB,cAC5FpE,KAAKsE,oBAAsBtE,KAAKkvB,mBAAmB5qB,qBAAuBtE,KAAKkvB,mBAAmB9qB,cAClGpE,KAAKk1D,uBACLl1D,KAAKm1D,yBACL,IAAI94C,GAAY,CAChB,GAAG,CACC,GAAkB,IAAdA,GACA,GAAIrc,KAAKsE,oBACL,IAAK,GAAIs6B,GAAO,EAAGA,EAAO5+B,KAAKkvB,mBAAmBnqB,QAAQ5F,OAAQy/B,KACF,IAAxD5+B,KAAKkvB,mBAAmBnqB,QAAQ65B,GAAMx6B,gBACtCpE,KAAKm1D,uBAAuBn1D,KAAKkvB,mBAAmBnqB,QAAQ65B,GAAMz5B,MAAQy5B,OAMtF,IAAI5+B,KAAKqE,iBACL,IAAK,GAAIs6B,GAAO,EAAGA,EAAO3+B,KAAKkvB,mBAAmBpqB,KAAK3F,OAAQw/B,KACF,IAArD3+B,KAAKkvB,mBAAmBpqB,KAAK65B,GAAMv6B,gBACnCpE,KAAKk1D,oBAAoBl1D,KAAKkvB,mBAAmBpqB,KAAK65B,GAAMx5B,MAAQw5B,EAKpFtiB,WACKA,EAAY,IAGzBo4C,EAAWrxD,UAAUk0D,eAAiB,SAAUI,GAC5C13D,KAAKg1D,kBACLh1D,KAAKi1D,YACL,IAAIv7C,GAAW1Z,KAAKJ,YAAYT,OAC5BS,KACAW,IAC2B,UAA3BP,KAAKmxD,WAAWx2C,QAChB/a,EAAcI,KAAKJ,YACnBW,EAAeP,KAAKO,cAGpBmZ,EAAW1Z,KAAKmxD,WAAWvG,UAAU7qB,YAAY3hB,SAAW,EAEhEpe,KAAKkB,YAAclB,KAAKkB,YAAc,EAAIlB,KAAKkB,YAAcwY,CA+B7D,KA9BA,GACIi+C,GACAC,EAyBA7jC,EA3BA8jC,EAAS,EAGTC,KACAC,KACAC,KACAC,GAAiB,EACjBC,GAAsB,EACtBC,GAAoB,EACpBC,KACAC,IACIpuD,KAAM,MACN+T,SAAU,EACV9N,cAAe,cACf4F,UAAU,EACVjB,OAAQ,EACRuJ,SAAU,EACV1S,SACA/D,KAAM,YACN2I,QAAS,EACTyN,QAAS,EACTG,QAAS,EACTyjB,WAAY,EACZpxB,WAAW,EACXiG,WAAa8hD,cAAe,EAAG7hD,UAAW,iBAE9C4zB,KAEAkuB,EAAkBv4D,KAAKmxD,WAAWvG,WAAgD,QAAnC5qD,KAAKmxD,WAAWvG,UAAU3gD,KACxEjK,KAAKmxD,WAAWvG,UAAU7qB,YAAYzvB,QAAU,EAAK,EACnDunD,EAASH,EAAOv4D,QAAQ,CACvB2O,EAAU4pD,EAAOG,GAAQ/7B,iBAAiB,SAC9CuO,GAAWrqC,KAAKw4D,mBAAmB1qD,EAASu8B,EAAWwtB,EAASU,EAAiBv4D,KAAKqhC,WAAYrhC,KAAKqE,iBAAkBrE,KAAKk1D,oBAAqB,OACnJ2C,IAEJA,EAAS,CACT,IAAIY,GACAC,EAAehB,EAAOv4D,MAC1B,IAA+B,SAA3Ba,KAAKmxD,WAAWx2C,OAAmB,CACnC,GAAIrK,GAAUtQ,KAAKmxD,WAAWvG,UAAU7qB,YAAYzvB,QAAU,CAC9DunD,GAASvnD,EACTooD,GAAgBpoD,EAChBsnD,EAAe53D,KAAKqhC,WAAW/wB,EAAU,GAAGqoD,SAC5ChB,EAAkB33D,KAAKqhC,WAAW/wB,EAAU,GAAGsoD,YAC/CH,EAAcz4D,KAAKqhC,WAAW/wB,EAAU,GAI5C,IAFA,GAAIuoD,GAAchB,EAEXA,EAASa,GAAiC,CAC7C,GAAI5qD,GAAU4pD,EAAkC,SAA3B13D,KAAKmxD,WAAWx2C,OAChCk9C,GAAU73D,KAAKmxD,WAAWvG,UAAU7qB,YAAYzvB,QAAU,GAAMunD,GAAQ/7B,iBAAiB,UAC1Fg9B,EAAS,EACTC,MAAa,GACbJ,EAAW34D,KAAKqhC,WAAWw2B,GAAQc,SACnCC,EAAc54D,KAAKqhC,WAAWw2B,GAAQe,YACtCxjD,EAAUpV,KAAKqhC,WAAWw2B,GAAQziD,QAClC4jD,EAAWh5D,KAAKqhC,WAAWw2B,GAAQoB,eAEnCC,GADYl5D,KAAKqhC,WAAWw2B,GAAQjN,UACpB5qD,KAAKqhC,WAAWw2B,GAAQqB,eACxCC,EAAuBn5D,KAAKqhC,WAAWw2B,GAAQsB,oBACjCn5D,MAAKqhC,WAAWw2B,GAAQuB,YAC1Bp5D,KAAKqhC,WAAWw2B,GAAQ3X,eACxC,IAAe,IAAX2X,GAAgBA,IAAWgB,EAAa,CAExC,IADA,GAAIQ,GAA6C,SAA3Br5D,KAAKmxD,WAAWx2C,OAAoB3a,KAAKqhC,WAAW,GAAGvzB,QAAUA,EAChFgrD,EAASO,EAAgBl6D,QAC6C,MAArEk6D,EAAgBP,GAAQnnC,cAAc,eAAe1B,aACiB,IAAtElP,OAAOs4C,EAAgBP,GAAQnnC,cAAc,QAAQ1B,aACrDmoC,EAASU,GAAU,EAGnBV,EAASU,GAAU/3C,OAAOs4C,EAAgBP,GAAQnnC,cAAc,QAAQ1B,aAEH,MAArEopC,EAAgBP,GAAQnnC,cAAc,eAAe1B,cACpDjwB,KAAKovD,UAAkF,IAAtEruC,OAAOs4C,EAAgBP,GAAQnnC,cAAc,QAAQ1B,cAMvE8nC,EAAQe,GAAU,EAClBb,EAAsF,MAArEoB,EAAgBP,GAAQnnC,cAAc,eAAe1B,aAAsBgoC,IAN5FF,EAAQe,GAAU,EAClBZ,GAA6C,IAAxBA,EAA4BY,EAASZ,EAC1DC,EAAmBW,GAMvBA,GAEJ/kC,GAAailC,EAAS9zD,QAAQ,KAMlC,GAJA4zD,EAAS,EACM,IAAXjB,IAAiB/pD,EAAQ3O,OAAUw5D,GAAYvjD,EAAU,EAAI,IAA2B,IAAnBtH,EAAQ3O,QAAgBiW,IAC7FijD,EAAQr8C,MAEI,IAAX67C,GAAgB73D,KAAKovD,SAA+B,IAAnBiJ,EAAQl5D,QACxC84D,GAAkBU,IAAaf,GAAgBgB,IAAgBjB,GAAuC,IAAnB7pD,EAAQ3O,QAAgBiW,EAAW,CACxH,GAAIkkD,KAAaJ,GAAiB,OAAKP,EAAW,IAAKC,EAAcM,EAErEI,GAAcb,GAAea,GAAcJ,GAAiB,EACvDT,EAAYU,uBAAyBA,KAChChB,EAAmBM,EAAYjQ,iBAC7BiQ,EAAYhuB,cAAgBzqC,KAAKqhC,WAAWw2B,GAAQptB,aACnDmuB,IAAiBM,EAAgB,GAAMl5D,KAAKqhC,WAAWw2B,GAAQrP,kBAAqB0Q,EAAgB,GAC3GI,CACN,IAAIC,KAAmBrB,GAAsB,GAAKS,EAAW,IAAMC,EAAcT,CACjF,IAAIrqD,EAAQ3O,SAAWw5D,GAAYvjD,EAAU,EAAI,IAAMA,EAAS,CACxDqB,EAAY,eAAiB3I,EAAQimB,GAAYpC,cAAc,WAAW1B,WAC9EooC,GAAQ34D,MACJuK,KAAM,MACNmG,WAAYpQ,KAAKw5D,cAAc1rD,EAAQimB,GAAYpC,cAAc,SAAS1B,aAC1EjS,SAAU,EACV9N,cAAepC,EAAQimB,GAAYpC,cAAc,WAAW1B,YAC5Dna,UAAU,EACVjB,OAAQ,EACRuJ,SAAU1E,EACVhO,SACA4E,QAASunD,EACT95C,QAAS,EACTG,QAAS,EACTyjB,WAAY5gB,OAAOi4C,EAASjlC,IAC5BxjB,WAAW,EACXkpD,iBAAkB3rD,EAAQimB,GAAYpC,cAAc,sBAChD7jB,EAAQimB,GAAYpC,cAAc,sBAAsB1B,gBAAc/vB,GAC1EmiC,gBAAiBv0B,EAAQimB,GAAYpC,cAAc,SAAS1B,YAC5DrR,UAAW9Q,EAAQimB,GAAYlF,aAAa,aAC5CrY,WAAaC,UAAWA,EAAWxM,KAAM6D,EAAQimB,GAAYlF,aAAa,gBAE9EwpC,EAAQA,EAAQl5D,OAAS,GAAGqX,UAAU,eAAiB1I,EAAQimB,GAAYpC,cAAc,WAAW1B,aAAe,MAElH,IAAsB,IAAhB2oC,IAAqC,IAAf7kC,GAAoC,IAAhB6kC,IAAuBU,GAAcC,EAAiB,CACvGd,EAAcz4D,KAAKqhC,WAAWw2B,EAC9B,IAAI6B,GAAUhgD,EACVigD,EAAab,CAEjB,KADAC,KACOD,EAAShrD,EAAQ3O,QAA2B,CAC/C,GAAIgU,GAASrF,EAAQgrD,EACrB,IAAI3lD,EAAOwe,cAAc,SAAS1B,cAAgB6nC,EAAYgB,IAAgC,MAArBE,EAASF,IACzEC,GAAcA,EAAWxoD,YAAmC,MAArByoD,EAASF,KAAmBf,EAAQe,EAAS,IA+C/D,MAArBE,EAASF,KACda,EAAab,OAhDyF,CAEtG,GAAIhyC,GAAM/F,OAAO5N,EAAOwe,cAAc,QAAQ1B,cACxC8nC,EAAQe,IAAgC,MAArBE,EAASF,GAAmB,EAAIV,EAASU,IAE9Dx4B,IAAatgC,KAAK20D,kBAAuB,IAAEmE,EAC/Cl5D,GAAY8Z,KACJzP,KAAM,MACNmG,WAAYpQ,KAAKw5D,cAAcrmD,EAAOwe,cAAc,SAAS1B,aAC7DjS,SAAU,EACV9N,cAAeiD,EAAOwe,cAAc,WAAW1B,YAC/Cna,SAAUiL,OAAO5N,EAAOwe,cAAc,wBAAwB1B,aAAe,EAC7Epb,MAAOiS,EACP1I,SAAU1E,EACVhO,SACA4E,QAASunD,EACTlwD,KAAM,SACNoW,QAAS,EACTG,QAAS,EACTyjB,WAAY5gB,OAAOi4C,EAASF,IAC5BvoD,UAAWvQ,KAAKqhC,WAAWw2B,GAAQjN,UAAUkO,GAAQvoD,UACrDkpD,iBAAkBtmD,EAAOwe,cAAc,sBACnCxe,EAAOwe,cAAc,sBAAsB1B,gBAAc/vB,GAC7DmiC,gBAAiBlvB,EAAOwe,cAAc,SAAS1B,YAC/CrR,UAAWzL,EAAO0b,aAAa,aAC/ByR,WAAYA,EACZ9pB,WAAaC,UAAW,GAAIxM,KAAMkJ,EAAO0b,aAAa,iBAE9DkqC,EAAkC,MAArBC,EAASF,GAAkBl5D,EAAY8Z,GAAU,GAAKq/C,IAE/Df,EAAWt4D,KAAKyT,EAAOwe,cAAc,WAAW1B,YAEpD,IAAIxZ,GAAYzW,KAAK45D,gCAAgC55D,KAAKqhC,WAAWw2B,GACrEj4D,GAAY8Z,GAAU,GAAGlD,UAAUC,UAAYA,EAC/C7W,EAAY8Z,GAAU,GAAGlD,UAAUC,GAAa,EAChDlW,EAAamZ,EAAW1Z,KAAKkB,gBAC7BX,EAAamZ,EAAW1Z,KAAKkB,aAAa,GAAKtB,EAAY8Z,GAAU,GACjEtE,GAAW2e,EAAa+kC,IACxBhB,EAAY/jC,GAAc,GAE9B,KAAK,GAAI9uB,GAAM6zD,EAAS,EAAG7zD,EAAM6I,EAAQ3O,OAAQ8F,IAC7C6yD,EAAY7yD,GAAO,EAEvB6yD,GAAYgB,GAAU3lD,EAAOwe,cAAc,SAAS1B,YACpDvW,IACAigD,EAAab,EAKb94D,KAAKqhC,WAAWw2B,GAAQjN,UAAUkO,GAAQvoD,WAAavQ,KAAKqhC,WAAWw2B,GAAQgC,aAC/E75D,KAAKqhC,WAAWw2B,GAAQgC,aAAc75D,KAAKqE,sBAC2CnE,KAAlFF,KAAKk1D,oBAAoBl1D,KAAKqhC,WAAWw2B,GAAQjN,UAAUkO,GAAQl6C,YAE3Ek6C,IAEAY,EAAUhgD,GAAYigD,GAAe7rD,EAAQ3O,OAAS,IACtDS,EAAY8Z,EAAW,GAAG,GAAGpJ,QAAUunD,EACG,WAAtCj4D,EAAY8Z,EAAW,GAAG,GAAG/R,YACtB/H,GAAY8Z,EAAW,GAAG,GAAG/R,MAIhDiwD,EAAee,EACfhB,EAAkBiB,EAEtBf,IAYJ,GAVIQ,EAAQl5D,OAAS,GAA+B,IAA1Bk5D,EAAQ,GAAG12B,aACjC02B,EAAQ,GAAG/nD,SAAW,GASK,SAA3BtQ,KAAKmxD,WAAWx2C,QAChB,GAAI3a,KAAKkvB,mBAAmB3qB,iBAAmBvE,KAAKkvB,mBAAmB1qB,mBACnE,IAAK,GAAIs1D,GAAS,EAAGA,EAASzB,EAAQl5D,OAAQ26D,IAC1CzB,EAAQyB,GAAQ17C,SAAW1E,EAC3B9Z,EAAY8Z,IAAa2+C,EAAQyB,IACjCv5D,EAAamZ,EAAW1Z,KAAKkB,gBAC7BX,EAAamZ,EAAW1Z,KAAKkB,aAAa,GAAKtB,EAAY8Z,GAAU,GACrEA,QAKR1Z,MAAK+5D,gBAAgBn6D,EAAaW,EAAcm3D,EAAOv4D,QACvDa,KAAKw2D,oBAAsB52D,GAInC60D,EAAWrxD,UAAUo1D,mBAAqB,SAAU1qD,EAASu8B,EAAUwtB,EAAQv2B,EAASl9B,EAAe41D,EAAkB/vD,GAerH,IAdA,GAAI/K,GAAIqK,EAGJqvD,EACAxjD,EACAq1B,EACA+d,EALAsQ,EAAS,EACTH,EAAW,EAKXK,KACAiB,KACAC,KACA14B,EAAkB,GAClB24B,EAAoB,GACpBN,GAAa,EACbO,GAAgB,EACbtB,EAAShrD,EAAQ3O,QAAQ,CAC5B,GAAIgU,GAASrF,EAAQgrD,GACjBuB,EAAct5C,OAAO5N,EAAOwe,cAAc,QAAQ1B,aAClDqqC,EAAcnnD,EAAOwe,cAAc,SAAS1B,WAE5ClP,QAAO5N,EAAOwe,cAAc,eAAe1B,aAAe,IAC1D9c,EAAOwe,cAAc,eAAe1B,YAAcqqC,EAAYC,WAAW,cAAgB,IAAM,IAEnG,IAAI54B,GAAa24B,EAAYC,WAAW,cAAgB,IACnDx5C,OAAO5N,EAAOwe,cAAc,eAAe1B,aAAe,EAAI,IAAM9c,EAAOwe,cAAc,eAAe1B,YAEzGuqC,EAAgBrnD,EAAOwe,cAAc,WAAW1B,YAChDrR,EAAYzL,EAAO0b,aAAa,aAEhC4rC,EAActnD,EAAOwe,cAAc,sBAAwBxe,EAAOwe,cAAc,sBAAsB1B,YAAc,EAoBxH,IAnBmB,MAAf0R,GACAg3B,IACAC,EAAcj1D,oBAAkBi1D,GAAeE,EAASF,GAEpC,MAAfj3B,GACLvsB,EAAUjC,EACVs3B,EAAc6vB,EACd9R,EAAkBsQ,EACL,WAAT7uD,GACAjK,KAAKs2D,YAAYgE,GAAennD,EAChCnT,KAAKk/C,cAAgB4Z,GAGrB94D,KAAKohC,cAAgB03B,GAIzBsB,EAAeJ,EAAiBp7C,GAEjB,MAAf+iB,EAAoB,CACpB,GAAI3hC,KAAKg1D,eAAe8D,GAAS,CAC7B,GAAIuB,EAAcr6D,KAAKi1D,UAAU6D,GAC7B94D,KAAKi1D,UAAU6D,GAAUuB,MAExB,IAAIA,EAAcr6D,KAAKi1D,UAAU6D,GAAS,CAE3C,IADA,GAAIxY,GAAWtgD,KAAKi1D,UAAU6D,GACvBxY,GAAY+Z,SACRr6D,MAAKg1D,eAAe8D,GAAQ4B,MAAMpa,SAClCtgD,MAAKg1D,eAAe8D,GAAQ6B,QAAQra,GAC3CA,GAEJtgD,MAAKi1D,UAAU6D,GAAUuB,EAE7Br6D,KAAKg1D,eAAe8D,GAAQ4B,MAAML,GAAeC,EACjDt6D,KAAKg1D,eAAe8D,GAAQ6B,QAAQN,GAAeG,MAGnDx6D,MAAKi1D,UAAU6D,GAAUuB,EACzBr6D,KAAKg1D,eAAe8D,IAAY4B,OAAQx7D,KAASA,EAAGm7D,GAAeC,EAAap7D,GAAKy7D,SAAUpxD,KAASA,EAAG8wD,GAAeG,EAAejxD,GAE7I,IAAIvJ,KAAKovD,SAEL,IADA,GAAIwL,GAAYH,EACTz6D,KAAK00D,YAAYkG,IAAY,CAChC,GAAIC,GAAc76D,KAAK00D,YAAYkG,GAAWjpC,cAAc,WAAW1B,YACnE6qC,EAAY/5C,OAAO/gB,KAAK00D,YAAYkG,GAAWjpC,cAAc,QAAQ1B,YACzEjwB,MAAKg1D,eAAe8D,GAAQ4B,MAAMI,GAAaF,EAC/C56D,KAAKg1D,eAAe8D,GAAQ6B,QAAQG,GAAaD,EACjDD,EAAgF,OAApE56D,KAAK00D,YAAYkG,GAAWjpC,cAAc,sBAAiC,GACnF3xB,KAAK00D,YAAYkG,GAAWjpC,cAAc,sBAAsB1B,YAI5E,GAAI8qC,GAASz7D,OAAOoD,OAAO1C,KAAKg1D,eAAe8D,GAAQ4B,OAAOjgD,KAAK,KACnE+mB,GAAsC,KAApBA,EAAyBu5B,EACtCv5B,EAAkB,KAAOu5B,CAC9B,IAAIC,GAAW17D,OAAOoD,OAAO1C,KAAKg1D,eAAe8D,GAAQ6B,SAASlgD,KAAK,KAEnEq+C,KAAWtQ,IACX2R,EAA0C,KAAtBA,EAA2Ba,EAC1Cb,EAAoB,KAAOa,GASxC,GANAhC,EAASt5D,KAAKiiC,GACds4B,EAAUv6D,KAAK26D,IACX12D,oBAAkB0mC,EAASyuB,KAAYzuB,EAASyuB,GAAUuB,KAC1DhwB,EAASyuB,GAAUuB,GAEvBH,EAAWx6D,MAAOmV,MAAOwlD,EAAaY,MAAOX,EAAa17C,UAAWA,EAAWrO,WAAW,IACvF+wB,EAAQu2B,EAAS,IAAqD,MAA/Cv2B,EAAQu2B,EAAS,GAAGoB,eAAeH,IAC1DoB,EAAWpB,GAAQjkD,MAAQysB,EAAQu2B,EAAS,GAAGjN,UAAUkO,GAAQjkD,MAAO,CACxE,GAAIqmD,GAAc15B,EAAgB3yB,MAAM,WAAWpB,OAAO,SAAUrO,GAAQ,MAAOA,IACnF87D,GAAYl/C,KACZ,IAAIm/C,GAAcD,EAAYzgD,KAAK,KACnCza,MAAKo7D,aAAaX,EAAaU,EAAarC,EAAQjB,EAAQv2B,GAEhEw3B,IAqBJ,MAnBIsB,IAAgB,IAChBP,EAA4C,MAA/Bb,EAASoB,EAAe,IAEzC94B,EAAQu2B,IACJc,SAAUA,EACVC,YAAaA,EACbxjD,QAASA,EACTq1B,YAAaA,EACb+d,gBAAiBA,EACjB16C,QAASA,EACTmrD,eAAgBD,EAChBx3B,gBAAiBA,EACjB24B,kBAAmBA,EACnBja,gBAAiB+Z,EACjBrP,UAAWsP,EACXhB,eAAgB,EAChBE,aAAc,EACdS,cAAcz1D,GAAiBu0D,EAAW,GAAKC,GAAmC,IAApBpQ,EAAwB,EAAI,KAAcqR,GAErGxvB,GAEXoqB,EAAWrxD,UAAUw2D,gCAAkC,SAAUyB,GAC7D,GAAIC,GAAmBD,EAAMlB,iBAC7B,IAAIkB,EAAMjmD,QAAS,CACf,GAAIq1B,GAAc4wB,EAAMjmD,QAAQuc,cAAc,WAAW1B,YACrDu4B,EAAkB6S,EAAM75B,gBAAgB3yB,MAAM,aAAa3J,QAAQm2D,EAAM5wB,aACzE8wB,EAAyBF,EAAMlB,kBAAkBtrD,MAAM,YAC3D0sD,GAAuBn2D,OAAOojD,EAAiB,EAAG/d,GAClD6wB,EAAmBC,EAAuB9gD,KAAK,KAEnD,MAAO6gD,IAGX7G,EAAWrxD,UAAUyyD,qBAAuB,WACxC71D,KAAK20D,oBACL,IAAI1qD,GAAO,CACX,GAAG,CAGC,IAAK,GAFDuxD,MACA7xD,EAAaM,EAAOjK,KAAKkvB,mBAAmBpqB,KAAO9E,KAAKkvB,mBAAmBnqB,QACtEg9B,EAAO,EAAGA,EAAOp4B,EAAWxK,OAAQ4iC,IACrCp4B,EAAWo4B,GAAMzB,aACjBk7B,EAAcz5B,GAAQp4B,EAAWo4B,GAAM58B,KAG/CnF,MAAK20D,kBAAkB1qD,EAAO,MAAQ,UAAYuxD,EAClDvxD,UACKA,EAAO,IAEpBwqD,EAAWrxD,UAAU22D,gBAAkB,SAAUn6D,EAAaW,EAAcm4D,GAGxE,IAFA,GAAI+C,GAAkBz7D,KAAKJ,YAAYT,OAAS,EAC5Cu8D,EAAiBp8D,OAAOC,KAAKK,GAAaT,OACvCs8D,EAAkBz7D,KAAKmxD,WAAWvG,UAAU7qB,YAAY3hB,UAC3Dpe,KAAKJ,YAAY67D,EAAkBC,GAAkB17D,KAAKJ,YAAY67D,GACtEz7D,KAAKJ,YAAY67D,EAAkBC,GAAgB,GAAGprD,SAAWooD,EACjE14D,KAAKJ,YAAY67D,EAAkBC,GAAgB,GAAGt9C,UAAYs9C,EAElE17D,KAAKO,aAAck7D,EAAkBC,EAAkB17D,KAAKkB,aAAelB,KAAKO,aAAak7D,EAAkBz7D,KAAKkB,aACpHu6D,GAGJ,KAAK,GAAIhyD,GAAM,EAAGA,EAAM7J,EAAYT,OAAQsK,IACxCzJ,KAAKJ,YAAY6J,GAAO7J,EAAY6J,GACpCzJ,KAAKO,aAAawgB,OAAOtX,GAAOzJ,KAAKkB,aAAeX,EAAawgB,OAAOtX,GAAOzJ,KAAKkB,YAExFlB,MAAKJ,YAAYI,KAAKmxD,WAAWvG,UAAU7qB,YAAY3hB,UAAU,GAAG7N,WAAY,GAEpFkkD,EAAWrxD,UAAU+zD,oBAAsB,SAAUwE,GAGjD,IAFA,GAAIC,GAAmD,QAAnC57D,KAAKmxD,WAAWvG,UAAU3gD,KAAiBjK,KAAKqhC,WAAarhC,KAAKi/C,cAClF4c,EAAeD,EAAcz8D,OAAS,EACnC08D,EAAe77D,KAAKmxD,WAAWvG,UAAU7qB,YAAYzvB,SACxDsrD,EAAcC,EAAeF,GAAkBC,EAAcC,GAC7DA,KAIRpH,EAAWrxD,UAAUg0D,kBAAoB,SAAUM,GAC/C13D,KAAKg1D,kBACLh1D,KAAKi1D,YASL,KARA,GAAI4C,GAAS,EACTxtB,KACA0tB,KACAK,KACAF,GAAsB,EACtBC,GAAoB,EACpBI,EAAkBv4D,KAAKmxD,WAAWvG,WAAgD,WAAnC5qD,KAAKmxD,WAAWvG,UAAU3gD,KACxEjK,KAAKmxD,WAAWvG,UAAU7qB,YAAYzvB,QAAU,EAAK,EACnDunD,EAASH,EAAOv4D,QAAQ,CACvB2O,EAAU4pD,EAAOG,GAAQ/7B,iBAAiB,SAC9CuO,GAAWrqC,KAAKw4D,mBAAmB1qD,EAASu8B,EAAWwtB,EAASU,EAAiBv4D,KAAKi/C,cAAej/C,KAAKsE,oBAAqBtE,KAAKm1D,uBAAwB,UAC5J0C,IAEJ,GAAIH,EAAOv4D,OAAS,EAGhB,IAFA,GAAI2O,GAAU4pD,EAAO,GAAG57B,iBAAiB,UACrCg9B,EAAS,EACNA,EAAShrD,EAAQ3O,QACpBi5D,EAASU,GAAwE,MAA7DhrD,EAAQgrD,GAAQnnC,cAAc,eAAe1B,aACC,IAA9DlP,OAAOjT,EAAQgrD,GAAQnnC,cAAc,QAAQ1B,aAAsB,EACnElP,OAAOjT,EAAQgrD,GAAQnnC,cAAc,QAAQ1B,aACgB,MAA7DniB,EAAQgrD,GAAQnnC,cAAc,eAAe1B,cAC5CjwB,KAAKovD,UAA0E,IAA9DruC,OAAOjT,EAAQgrD,GAAQnnC,cAAc,QAAQ1B,aAM/D8nC,EAAQe,GAAU,GALlBf,EAAQe,GAAU,EAClBZ,GAA6C,IAAxBA,EAA4BY,EAASZ,EAC1DC,EAAmBW,GAKvBA,GAIR,IAAIhsC,GAAQ9sB,IAGZqqC,GAAS1uB,IAAI,SAAUvc,EAAM6F,GAAO6nB,EAAM8nC,SAAW9nC,EAAM8nC,UAA6B,IAAjBmD,EAAQ9yD,GAAc7F,GAAQ,GAAKg5D,EAASnzD,GAAO,EAAI,EAAImzD,EAASnzD,KAAoB,IAAT7F,EAAa,EAAIA,KACvKy4D,EAAS,CAUT,KATA,GAQIiE,GARApiD,EAAW,EAEXqiD,KAIAC,GAAmB,EACnBC,GAAkB,EAEfpE,EAASH,EAAOv4D,QAAQ,CAC3B,GAAI2O,GAAU4pD,EAAOG,GAAQ/7B,iBAAiB,UAC1C68B,EAAW34D,KAAKi/C,cAAc4Y,GAAQc,SACtCC,EAAc54D,KAAKi/C,cAAc4Y,GAAQe,YACzCxjD,EAAUpV,KAAKi/C,cAAc4Y,GAAQziD,QACrC4jD,EAAWh5D,KAAKi/C,cAAc4Y,GAAQoB,eACtCrO,EAAY5qD,KAAKi/C,cAAc4Y,GAAQjN,UACvCsO,EAAgBl5D,KAAKi/C,cAAc4Y,GAAQqB,cAC3CC,EAAuBn5D,KAAKi/C,cAAc4Y,GAAQsB,qBAClD+C,EAAqBl8D,KAAKi/C,cAAc4Y,GAAQqE,mBAChD9C,EAAcp5D,KAAKi/C,cAAc4Y,GAAQuB,YACzCa,EAAYj6D,KAAKi/C,cAAc4Y,GAAQ3X,gBACvCic,EAA6B,MAAhBnD,EAAS,KAAsC,MAAhBA,EAAS,IAA6B,MAAhBA,EAAS,GAK/E,IAJe,IAAXnB,GAAgB/pD,EAAQ3O,OAAUw5D,GAAYvjD,EAAU,EAAI,KAC5D6mD,GAAkB,EAClBE,EAAcxD,EAAW,GAAKwD,EAAevD,EAAcV,EAAsBiE,GAEjFA,GACiB,IAAbxD,EAAgB,CAChB,GAAIyD,KAAc,GAAI,GAAI,EACtBp8D,MAAKi/C,cAAc4Y,EAAS,IAAkD,IAA5C73D,KAAKi/C,cAAc4Y,EAAS,GAAGc,SACjEyD,EAAYp8D,KAAKq8D,aAAapC,EAAWj6D,KAAKi/C,cAAc4Y,EAAS,GAAG3X,iBAEnE+b,GAAmBH,IACxBM,EAAYp8D,KAAKq8D,aAAapC,EAAW6B,EAAY5b,kBAErDlgD,KAAKi/C,cAAc4Y,GAAQqB,cAAgB,IACtC8C,GAAoBI,EAAU,IAAM,GAAKA,EAAU,IAAM,IAC1D1iD,EAAW1Z,KAAKs8D,mBAAmB5iD,EAAUi/C,EAAUtuB,EAAU+tB,EAAUL,EAASa,EAAahO,EAAWwR,IAEhHp8D,KAAKu8D,oBAAoBzuD,GACzB9N,KAAKw8D,sBAAsB1uD,EAAS+pD,EAAQn+C,EAAU2wB,EAAU0tB,EAASK,GACpEp4D,KAAKi/C,cAAc4Y,GAAQgC,YAC5BngD,KAECsiD,GAAoBI,EAAU,IAAM,GAAKA,EAAU,IAAM,IAC1D1iD,EAAW1Z,KAAKs8D,mBAAmB5iD,EAAUi/C,EAAUtuB,EAAU+tB,EAAUL,EAASa,EAAahO,EAAWwR,IAEhHJ,GAAmB,EACnBtiD,KAGKqiD,EAAc7C,gBAAkBA,GACpC6C,EAAc5C,uBAAyBA,GACpC4C,EAAcpD,WAAaA,KAC1BqD,GAAoBI,EAAU,IAAM,GAAKA,EAAU,IAAM,IAC1D1iD,EAAW1Z,KAAKs8D,mBAAmB5iD,EAAUi/C,EAAUtuB,EAAU+tB,EAAUL,EAASa,EAAahO,EAAWwR,GAC5GJ,GAAmB,GAEvBh8D,KAAKu8D,oBAAoBzuD,KACrBmuD,GAAmB9D,GAAoBe,KAEvCl5D,KAAK60D,gBAAgB70D,KAAK60D,gBAAgB11D,SAAaw5D,SAAUA,EAAUroD,QAASunD,EAAQ/pD,QAASA,EAAS88C,UAAWA,GACzHmR,EAAcpD,SAAWA,EACzBoD,EAAcnD,YAAcA,EAC5BmD,EAAc7C,cAAgBA,EAC9B6C,EAAc5C,qBAAuBA,EACrC4C,EAAcG,mBAAqBA,IAG3CJ,EAAc97D,KAAKi/C,cAAc4Y,GAGzC,GAAIc,EAAW,KAAMsD,GAAmBE,GAAchE,EAAmBS,KACjED,IAAaoD,EAAcpD,UAAYC,IAAgBmD,EAAcnD,aAAa,CAElF,GAAI6D,GAAWrD,IAAgBF,GAAiB6C,EAAcG,qBAAuBA,EAEjFQ,EAAQ9D,IAAgBmD,EAAcnD,YAAemD,EAAc5C,uBAAyBA,EAAwBsD,CACpHvD,IAAiB,QACZ8C,IACDtiD,EAAW1Z,KAAKs8D,mBAAmB5iD,EAAUi/C,EAAUtuB,EAAU+tB,EAAUL,EAASa,EAAahO,GACjGoR,GAAmB,GAEvBh8D,KAAKu8D,oBAAoBzuD,GACpBmuD,GAAmB/C,GAAiB,KAAMf,GAAoBe,KAE/Dl5D,KAAK60D,gBAAgB70D,KAAK60D,gBAAgB11D,SAAaw5D,SAAUA,EAAUroD,QAASunD,EAAQ/pD,QAASA,EAAS8qD,YAAaA,EAAahO,UAAWA,GACnJmR,EAAcpD,SAAWA,EACzBoD,EAAcnD,YAAcA,EAC5BmD,EAAc7C,cAAgBA,EAC9B6C,EAAc5C,qBAAuBA,EACrC4C,EAAcG,mBAAqBA,IAKnDrE,IAEJ,GAAI73D,KAAK60D,gBAAgB11D,OAAS,EAC9B,GAAIG,OAAOC,KAAKS,KAAKs2D,aAAan3D,OAAS,EACvCa,KAAK28D,YAAYjjD,EAAU2wB,EAAU0tB,EAASK,OAE7C,CACDp4D,KAAK60D,gBAAkB70D,KAAK60D,gBAAgBvX,SAC5C,KAAK,GAAIr+C,GAAK,EAAGC,EAAKc,KAAK60D,gBAAiB51D,EAAKC,EAAGC,OAAQF,IAAM,CAC9D,GAAI29D,GAAO19D,EAAGD,MAC0D,IAArDe,KAAKi/C,cAAc2d,EAAKtsD,SAASk4C,gBACC,IAAjDxoD,KAAKi/C,cAAc2d,EAAKtsD,SAASsoD,YAAqE,IAAjD54D,KAAKi/C,cAAc2d,EAAKtsD,SAASsoD,cACtE54D,KAAKkvB,mBAAmB3qB,iBAAmBvE,KAAKkvB,mBAAmBzqB,yBACnFzE,KAAKw8D,sBAAsBI,EAAK9uD,QAAS8uD,EAAKtsD,QAASoJ,EAAU2wB,EAAU+tB,EAAUL,GACjF/3D,KAAKi/C,cAAc2d,EAAKtsD,SAASupD,YACjCngD,QAOxB+6C,EAAWrxD,UAAUu5D,YAAc,SAAUjjD,EAAU2wB,EAAU0tB,EAASK,GAGtE,IAAK,GAFDyE,MACAC,EAAS,EACJ79D,EAAK,EAAGC,EAAKc,KAAK60D,gBAAiB51D,EAAKC,EAAGC,OAAQF,IAAM,CAC9D,GAAI29D,GAAO19D,EAAGD,EAGd,MAFwE,IAArDe,KAAKi/C,cAAc2d,EAAKtsD,SAASk4C,gBACC,IAAjDxoD,KAAKi/C,cAAc2d,EAAKtsD,SAASsoD,YAAqE,IAAjD54D,KAAKi/C,cAAc2d,EAAKtsD,SAASsoD,cACtE54D,KAAKkvB,mBAAmB3qB,iBAAmBvE,KAAKkvB,mBAAmBzqB,sBAA+B,CAClH,GAAIgmC,GAAczqC,KAAKi/C,cAAc2d,EAAKtsD,SAAS8E,QAAQuc,cAAc,SAAS1B,WAC9E4sC,GAAUpyB,IACVoyB,EAAUpyB,GAAamyB,KAAKl9D,KAAKk9D,GAEjCE,EAASA,IADTD,EAAUpyB,GAAalwB,MAC0BsiD,EAAUpyB,GAAalwB,MAAQuiD,GAGhFD,EAAUpyB,IAAiBmyB,MAAOA,GAAOriD,MAAO,IAM5D,IAFA,GAAIhb,GAAOD,OAAOC,KAAKs9D,GACnBE,EAAaD,EAAS,EACnBC,GAAc,GAAG,CACpB,IAAK,GAAIxzD,GAAK,EAAGC,EAASjK,EAAMgK,EAAKC,EAAOrK,OAAQoK,KAE5CqzD,EAAOC,EADDrzD,EAAOD,IACSqzD,KAAKG,MAE3B/8D,KAAKw8D,sBAAsBI,EAAK9uD,QAAS8uD,EAAKtsD,QAASoJ,EAAU2wB,EAAU0tB,EAASK,GAChFp4D,KAAKi/C,cAAc2d,EAAKtsD,SAASupD,YACjCngD,IAIZqjD,OAGRtI,EAAWrxD,UAAUm5D,oBAAsB,SAAUzuD,GAEjD,IADA,GAAIgrD,GAAS,EACNhrD,EAAQ3O,OAAS25D,GAAQ,CAC5B,GAAI3lD,GAASrF,EAAQgrD,GACjBn3B,EAAa5gB,OAAO5N,EAAOwe,cAAc,eAAe1B,aAAe,EAAI,IAC3E9c,EAAOwe,cAAc,eAAe1B,YACpCoqC,EAAct5C,OAAO5N,EAAOwe,cAAc,QAAQ1B,aAClDqqC,EAAcnnD,EAAOwe,cAAc,SAAS1B,YAC5CwqC,EAActnD,EAAOwe,cAAc,sBACnCxe,EAAOwe,cAAc,sBAAsB1B,YAAc,GACzD+sC,GAAe,EACfC,GAAqB,CACzB,IAAIj9D,KAAK80D,oBAAoBgE,GAAS,CAClC,GAAI5Y,GAAkB5gD,OAAOC,KAAKS,KAAK80D,oBAAoBgE,IACvDp6C,EAAe1e,KAAK80D,oBAAoBgE,GAAQuB,EAAc,EAClE2C,GAAet+C,EAAe+7C,IAAgB/7C,EAAaiT,cAAc,SAAS1B,YACnD,IAA3BiwB,EAAgB/gD,OACpB89D,EAAsE,MAAjDj9D,KAAKi/C,cAAc,GAAGga,eAAeH,GAE3C,MAAfn3B,QACO3hC,MAAK80D,oBAAoBgE,KAG3B94D,KAAKovD,WAAY6N,GAAuBD,SAClCh9D,MAAK80D,oBAAoBgE,GAE/B94D,KAAK80D,oBAAoBgE,GAIpB94D,KAAK80D,oBAAoBgE,GAAQuB,IACvCr6D,KAAK80D,oBAAoBgE,GAAQuB,GAAa1oC,cAAc,SAAS1B,cAAgBqqC,IACrFt6D,KAAK80D,oBAAoBgE,GAAQuB,GAAelnD,IALhDnT,KAAK80D,oBAAoBgE,MACzB94D,KAAK80D,oBAAoBgE,GAAQuB,GAAelnD,IAOxD2lD,MAGRrE,EAAWrxD,UAAUg4D,aAAe,SAAU8B,EAAQC,EAAqBrE,EAAQjB,EAAQv2B,GAEvF,IADAu2B,IACOv2B,EAAQu2B,IAAWv2B,EAAQu2B,GAAQjN,UAAUkO,GAAQmC,QAAUiC,KAC5C57B,EAAQu2B,GAAQr2B,gBAAgB3yB,MAAM,WAAWpB,OAAO,SAAUrO,GAAQ,MAAOA,KACnFqb,KAAK,MAAMvV,QAAQi4D,GAAuB,IAG9D77B,EAAQu2B,GAAQjN,UAAUkO,GAAQvoD,WAAY,EAC1CvQ,KAAK+0D,gBAAkB+D,IACvBx3B,EAAQu2B,GAAQuB,YAAcp5D,KAAK+0D,eAAiB+D,EACpDx3B,EAAQu2B,GAAQqE,mBAAqBgB,IAErC57B,EAAQu2B,GAAQqB,cAAgBJ,IAA6C,IAAnCx3B,EAAQu2B,GAAQqB,iBAC1D53B,EAAQu2B,GAAQqB,cAAgBJ,GAEpCx3B,EAAQu2B,GAAQsB,qBAAuB+D,EACvCrF,KAGRpD,EAAWrxD,UAAUi5D,aAAe,SAAUe,EAAWC,GAErD,IAAK,GADDC,KAAc,EAAG,GACZC,EAAO,EAAGA,EAAOF,EAAUl+D,OAAQo+D,IACxC,GAAIH,EAAUG,KAAUF,EAAUE,GAAO,CACrCD,GAAaC,EAAMH,EAAUG,GAAQF,EAAUE,GAAQH,EAAUG,GACjE,OAGR,MAAOD,IAGX7I,EAAWrxD,UAAUk5D,mBAAqB,SAAU5iD,EAAUi/C,EAAUtuB,EAAU0tB,EAASK,EAAUQ,EAAahO,EAAWwR,GAQzH,IAAK,GANDoB,GAAa75D,oBAAkBi1D,GAAewD,EAAU,GAAMxD,GAAgB54D,KAAKk/C,gBAAmB0Z,EAAc,EAAM,EAAI,GAC9H6E,EAAY7S,EAAU4S,IAAe5S,EAAU4S,GAAY3oD,MAC3D6oD,EAAkB19D,KAAK29D,kBAAkBH,EAAa,EAAG5S,GACzDiS,KACAC,EAAS,EACTc,GAAY,EACP3+D,EAAK,EAAGC,EAAKc,KAAK60D,gBAAiB51D,EAAKC,EAAGC,OAAQF,IAAM,CAC9D,GAAI29D,GAAO19D,EAAGD,EACd,IAAI2+D,GAAchB,EAAKjE,UAAYA,MAC7B8E,GAAa,GAAKb,EAAKhS,UAAU4S,KAAiBZ,EAAKhS,UAAU4S,GAAY3oD,OAAS4oD,GACnFz9D,KAAK29D,kBAAkBH,EAAa,EAAGZ,EAAKhS,aAAgB8S,GAA2B,CAE5F,GAAIjzB,GAAczqC,KAAKi/C,cAAc2d,EAAKtsD,SAAS8E,QAAUpV,KAAKi/C,cAAc2d,EAAKtsD,SAAS8E,QAAQuc,cAAc,SAAS1B,YAAc,SACvI4sC,GAAUpyB,IACVoyB,EAAUpyB,GAAamyB,KAAKl9D,KAAKk9D,GAEjCE,EAASA,IADTD,EAAUpyB,GAAalwB,MAC0BsiD,EAAUpyB,GAAalwB,MAAQuiD,GAGhFD,EAAUpyB,IAAiBmyB,MAAOA,GAAOriD,MAAO,GAEpDqjD,GAAY,GAKpB,IAFA,GAAIr+D,GAAOD,OAAOC,KAAKs9D,GACnBE,EAAaD,EAAS,EACnBC,GAAc,GAAG,CACpB,IAAK,GAAIxzD,GAAK,EAAGsC,EAAStM,EAAMgK,EAAKsC,EAAO1M,OAAQoK,IAAM,CACtD,GACIs0D,GAAQhB,EADFhxD,EAAOtC,IACUqzD,KAAKG,EAC5Bc,QACyE,IAAtD79D,KAAKi/C,cAAc4e,EAAMvtD,SAASk4C,gBACC,IAAlDxoD,KAAKi/C,cAAc4e,EAAMvtD,SAASsoD,YAAsE,IAAlD54D,KAAKi/C,cAAc4e,EAAMvtD,SAASsoD,cACxE54D,KAAKkvB,mBAAmB3qB,iBAAmBvE,KAAKkvB,mBAAmBzqB,yBACnFzE,KAAKw8D,sBAAsBqB,EAAM/vD,QAAS+vD,EAAMvtD,QAASoJ,EAAU2wB,EAAU+tB,EAAUL,GACnF/3D,KAAKi/C,cAAc4e,EAAMvtD,SAASupD,YAClCngD,KAGR1Z,KAAK60D,gBAAgB74C,OAG7B+gD,IAEJ,MAAOrjD,IAEX+6C,EAAWrxD,UAAUu6D,kBAAoB,SAAUH,EAAY5S,GAE3D,IAAK,GADDj3B,MACK1uB,EAAM,EAAGA,EAAMu4D,EAAYv4D,IAChC0uB,EAAc1uB,GAAO2lD,EAAU3lD,GAAK4P,KAExC,OAAO8e,GAAcx0B,OAAS,EAAIw0B,EAAczrB,WAAa,IAGjEusD,EAAWrxD,UAAUo5D,sBAAwB,SAAU1uD,EAAS+pD,EAAQn+C,EAAU2wB,EAAU+tB,EAAUL,GAClG,GAAI74D,GACA4+D,GAAuB,CAC3B,IAAI99D,KAAKi/C,cAAc4Y,GAAQgC,WAG3B,IAFA,GAAIkE,GAAY,EACZC,EAAc,EACXD,EAAYjwD,EAAQ3O,QACvB6+D,GAAgBjG,EAAQgG,GAAa,GAAK/9D,KAAKi/C,cAAc4Y,GAAQrP,kBAAoBuV,EACrF1zB,EAAS0zB,GACR1zB,EAAS0zB,IAAc,EAAI3F,EAAS2F,IACrC/9D,KAAKi/C,cAAc4Y,GAAQjN,UAAUmT,GAAWxtD,WAAavQ,KAAKi/C,cAAc4Y,GAAQgC,aACxF75D,KAAKi/C,cAAc4Y,GAAQgC,aAAc75D,KAAKsE,yBACiDpE,KAA3FF,KAAKm1D,uBAAuBn1D,KAAKi/C,cAAc4Y,GAAQjN,UAAUmT,GAAWn/C,WAChFo/C,GAAe3zB,EAAS0zB,GACpB/9D,KAAKi/C,cAAc4Y,GAAQ3X,gBAAgB6d,GAC/CD,EAAsB99D,KAAKi/C,cAAc4Y,GAAQgC,YAAc,EAAKmE,EAAc,GAEtFD,GAGR,IAAI/9D,KAAKi/C,cAAc4Y,GAAQgC,WAI3B,IAHA,GAAIf,GAAS,EACTmF,EAAa,EACbC,KACGpF,EAAShrD,EAAQ3O,QAAQ,CAK5B,IAAK,GAJDgU,GAASrF,EAAQgrD,GACjBn3B,EAAa5gB,OAAO5N,EAAOwe,cAAc,eAAe1B,aAAe,EAAI,IAC3E9c,EAAOwe,cAAc,eAAe1B,YACpCkuC,EAAS,EACJC,EAA6B,MAAfz8B,EAAsBo2B,EAAQe,GAAU,EAAIV,EAASU,GAAW,EAAGsF,IAA+B,MAAfz8B,EAAqB,EAAI0I,EAASyuB,IAAUsF,IAAe,CACjK,GAAI7tD,IAAY,CACXvQ,MAAKJ,YAAYq+D,KAClBj+D,KAAKJ,YAAYq+D,OAEjBl9C,OAAOjT,EAAQgrD,GAAQnnC,cAAc,QAAQ1B,aAAemuC,GAA8B,MAAfz8B,GACtE3hC,KAAK80D,oBAAoBgE,GAAQsF,IAClCp+D,KAAKq+D,iBAAiBvwD,EAAQgrD,GAASsF,EAAap+D,KAAK80D,oBAAoBgE,IAE7E94D,KAAK80D,oBAAoBgE,GAAQsF,KACjCjrD,EAASnT,KAAK80D,oBAAoBgE,GAAQsF,IAE9C7tD,GAAY,IAGZ4C,EAASrF,EAAQgrD,GACjBqF,KAEe,MAAfx8B,IACAu8B,EAAW/qD,EAAOwe,cAAc,SAAS1B,aAAe9c,EAAOwe,cAAc,WAAW1B,YAE5F,IAAIvV,GAAY1a,KAAKmG,mBAAqBnG,KAAKkvB,mBAAmB/oB,kBAAkBE,gBAChFrG,KAAKkvB,mBAAmB/oB,kBAAkBE,gBAAkB,KAE5DoQ,EAAYnX,OAAOoD,OAAOw7D,GAAYzjD,KAAKC,GAC3C4lB,IAAatgC,KAAK20D,kBAA0B,OAAEmE,EAClD94D,MAAKJ,YAAYq+D,GAAYvkD,IACzBzP,KAAM,SACNmG,WAAYpQ,KAAKw5D,cAAcrmD,EAAOwe,cAAc,SAAS1B,aAC7DjS,SAAUtE,EACVxJ,cAAeiD,EAAOwe,cAAc,WAAW1B,YAC/Cna,SAAUiL,OAAO5N,EAAOwe,cAAc,wBAAwB1B,aAAe,EAE7Epb,MAAOspD,EAAS,GAAK,EAAKp9C,OAAO5N,EAAOwe,cAAc,QAAQ1B,cAAiB8nC,EAAQe,IAA0B,MAAfn3B,EAAsB,EAAI,GAC5HvjB,SAAU6/C,EACV3tD,QAASunD,EACTl2B,WAAY5gB,OAAO4gB,GACnBpxB,UAAWA,GAAavQ,KAAKi/C,cAAc4Y,GAAQjN,UAAUkO,GAAQvoD,UAErEkpD,iBAAkBtmD,EAAOwe,cAAc,sBAAwBxe,EAAOwe,cAAc,sBAAsB1B,gBAAc/vB,GACxHmiC,gBAAiBlvB,EAAOwe,cAAc,SAAS1B,YAC/CrR,UAAWzL,EAAO0b,aAAa,aAC/ByR,WAAYA,EACZ9pB,WAAYtX,GAAOuX,UAAWA,GAAavX,EAAGuX,GAAa,EAAGvX,EAAG+K,KAAOkJ,EAAO0b,aAAa,aAAc3vB,IAGzGc,KAAKkY,cAAc+lD,KACpBj+D,KAAKkY,cAAc+lD,OAEvBj+D,KAAKkY,cAAc+lD,GAAYvkD,GAAY1Z,KAAKJ,YAAYq+D,GAAYvkD,GACxEukD,IAEJnF,QAIJ,IAAIgF,GAAuB,EACvB99D,KAAKJ,YAAYk+D,GAAqBpkD,EAAW,GAAGpJ,QAAUunD,MAE7D,IAAI73D,KAAKi/C,cAAc4Y,GAAQc,SAAW,EAAG,CAG9C,IAFA,GAAIoF,GAAY,EACZC,EAAc,EACXD,EAAY/9D,KAAKi/C,cAAc4Y,GAAQe,aAC1CoF,GAAgBjG,EAAQgG,GAAa,GAAK/9D,KAAKi/C,cAAc4Y,GAAQrP,kBAAoBuV,EACrF1zB,EAAS0zB,GACR1zB,EAAS0zB,IAAc,EAAI3F,EAAS2F,IACzCA,GAEA/9D,MAAKi/C,cAAc4Y,GAAQe,cAAiB54D,KAAKi/C,cAAc4Y,GAAQrP,gBAAkB,EACzFwV,GAAe3zB,EAASrqC,KAAKi/C,cAAc4Y,GAAQe,YAAc,GAC7D54D,KAAKi/C,cAAc4Y,GAAQ3X,gBAAgBlgD,KAAKi/C,cAAc4Y,GAAQe,YAAc,GAAK,EAG7FoF,GAAe3zB,EAASrqC,KAAKi/C,cAAc4Y,GAAQe,YAAc,GAC7D54D,KAAKi/C,cAAc4Y,GAAQ3X,gBAAgBlgD,KAAKi/C,cAAc4Y,GAAQe,YAAc,GAE5F54D,KAAKJ,YAAYo+D,EAAc,GAAGtkD,EAAW,GAAGpJ,QAAUunD,IAItEpD,EAAWrxD,UAAUi7D,iBAAmB,SAAUC,EAAanD,EAAaoD,GAGxE,IAAK,GADDC,GAAeF,EACVx3C,EAFQ/F,OAAOu9C,EAAY3sC,cAAc,QAAQ1B,aAE9B,EAAGnJ,GAAOq0C,EAAar0C,IAAO,CACtD,GAAI23C,GAAgBz+D,KAAK00D,YAAY8J,EAAa7sC,cAAc,sBAAsB1B,YACtF,KAAIwuC,EAKA,KAJAF,GAAgBz3C,GAAO23C,EACvBD,EAAeC,IAS3BhK,EAAWrxD,UAAUm0D,kBAAoB,WACrC,GAAIr4D,EACJ,IAAIc,KAAKgE,YAAchE,KAAKqhC,WAAWliC,OAAS,EAAG,CAO/C,IAAK,GAND4B,GAAWf,KAAKJ,YAAYT,OAC5Bu/D,KACAC,KACAC,KACAC,GAAW,EACXC,EAAoB9+D,KAAKqhC,WAAW,GAAG43B,eAAettD,YAAY,KAC7DozD,EAAO/+D,KAAK40D,SAAUmK,EAAOh+D,EAAUg+D,IAAQ,CACpD,GAAIh/B,GAAc//B,KAAKJ,YAAYm/D,GAAM,GACrCC,EAAeh/D,KAAKqhC,WAAWtB,EAAYzvB,SAC3CiS,EAAay8C,EAAeA,EAAax9B,gBAAkB,EAC/D,IAAmB,KAAfjf,EAAmB,CACfu8C,GAAqB,IACrBv8C,EAAaviB,KAAKi/D,gBAAgB18C,EAAYwd,EAAai/B,GAE/D,IAAInqD,GAAQ0N,EAAW1T,MAAM,WAAW1P,MACT,KAA3B4gC,EAAY4B,YAAoB3hC,KAAKqhC,WAAW,GAAGmnB,gBAAkB,EAEjEmW,EADAlE,EAAcz6D,KAAKk/D,eAAe38C,EAAYwd,GAAa,GAAM,IAEjE4+B,EAAelE,GAAa/6D,KAAKqgC,GAGjC4+B,EAAelE,IAAgB16B,GAG9B2+B,EAAY7pD,GACjB6pD,EAAY7pD,GAAO0N,IAAewd,GAGlC2+B,EAAY7pD,IAAU3V,KAASA,EAAGqjB,IAAewd,GAAc7gC,GAGnE2/D,GACAD,EAAal/D,KAAKqgC,GAEG,cAArBA,EAAYp4B,OACZk3D,GAAW,GAMnB,IAAK,GAHD1P,GAAiB7vD,OAAOC,KAAKo/D,GAAgBx/D,OAAS,GAAKa,KAAKqhC,WAAW,GAAGmnB,gBAAkB,EAChG2W,EAAS7/D,OAAOC,KAAKm/D,GAAa/iD,IAAI,SAAUvc,GAAQ,MAAO2hB,QAAO3hB,KAAUyI,OAChFu3D,KACK7B,EAAO4B,EAAOhgE,OAAS,EAAGo+D,GAAQ,EAAGA,IAAQ,CAIlD,IAAK,GAHD8B,MACAC,EAAgBZ,EAAYS,EAAO5B,IACnCgC,EAAUjgE,OAAOC,KAAK+/D,GACjBE,EAAO,EAAGA,EAAOD,EAAQpgE,OAAQqgE,IAGlCH,EAFA5E,EAAuB,IAAT8C,EAAa,SAC3Bv9D,KAAKk/D,eAAeK,EAAQC,GAAOF,EAAcC,EAAQC,IAAO,GAAIrQ,GAAgB,IAEpFkQ,EAAe5E,GAAa/6D,KAAK4/D,EAAcC,EAAQC,IAAO,IAG9DH,EAAe5E,IAAgB6E,EAAcC,EAAQC,KAAQ,EAKrE,KAAK,GAFDC,GAAQngE,OAAOC,KAAK8/D,GAEfK,EAAO,EAAGA,EAAOD,EAAMtgE,OAAQugE,IACpCL,EAAeI,EAAMC,IAAS1/D,KAAK2/D,eAAeN,EAAeI,EAAMC,IAG3E,IAAIN,EAAgBD,EAAO5B,EAAO,IAC9B,IAASmC,EAAO,EAAGA,EAAOD,EAAMtgE,OAAQugE,IAAQ,CAG5C,IAAK,GAFDE,MACAC,EAAWR,EAAeI,EAAMC,IAC3BI,EAAO,EAAGA,EAAOD,EAAS1gE,OAAQ2gE,IAAQ,CAC/C,GAAIx+B,GAAUthC,KAAKqhC,WAAWw+B,EAASC,GAAMxvD,SACzC2qD,EAAQ35B,EAAQE,eACpBo+B,GAAUlgE,KAAKmgE,EAASC,IACpBhB,GAAqB,IACrB7D,EAAQj7D,KAAKi/D,gBAAgBhE,EAAO4E,EAASC,GAAOx+B,GAExD,IAAIy+B,IAAoB,CACxB,IAAI5Q,GAEIwP,EADAlE,EAAcz6D,KAAKk/D,eAAejE,EAAO4E,EAASC,GAAO3Q,GAAgB,IAC5C,CAC7BwP,EAAelE,GAAez6D,KAAK2/D,eAAehB,EAAelE,GACjE,IAAIuF,GAAgB/E,EAAMtvD,YAAY,QAAUsvD,EAAM/1D,QAAQ,gBAC1D+6D,EAAehF,EAAMpsD,MAAM,MAAM1P,OAAS,IAAMmiC,EAAQknB,gBACxD0X,GAA0B5+B,EAAQspB,UAAUtpB,EAAQknB,gBAAkB,GAAGj4C,UACzE4vD,EAAqB7+B,EAAQxzB,QAAQ3O,OAAUmiC,EAAQknB,gBAAkB,CAC7E,IAAIwX,GAAiBC,GAAgBC,GAA0BC,EAAoB,CAC/EJ,GAAoB,CACpB,KAAK,GAAI1qD,GAAO,EAAGA,EAAOspD,EAAelE,GAAat7D,OAAQkW,IAAQ,CAClEuqD,EAAUlgE,KAAKi/D,EAAelE,GAAaplD,GAC3C,IAAI+qD,GAAenF,EAAMv5B,UAAU,EAAGu5B,EAAM/1D,QAAQ,iBAAmB,KAAOy5D,EAAelE,GAAaplD,GAAMjF,UAC5GgvD,GAAgBD,EAAO5B,EAAO,IAAI6C,KAClCR,EAAYA,EAAUxyD,OAAOgyD,EAAgBD,EAAO5B,EAAO,IAAI6C,UAKvER,GAAYA,EAAUxyD,OAAOuxD,EAAelE,KAInDsF,GACDX,EAAgBD,EAAO5B,EAAO,IAAItC,KAElC2E,EAAYA,EAAUxyD,OAAOgyD,EAAgBD,EAAO5B,EAAO,IAAItC,KAGvEoE,EAAeI,EAAMC,IAASE,MAGjC,IAAIzQ,EACL,IAASuQ,EAAO,EAAGA,EAAOD,EAAMtgE,OAAQugE,IAAQ,CAG5C,IAAK,GAFDG,GAAWR,EAAeI,EAAMC,IAChCE,KACKE,EAAO,EAAGA,EAAOD,EAAS1gE,OAAQ2gE,IAAQ,CAC/CF,EAAUlgE,KAAKmgE,EAASC,GACpB7E,GAAQj7D,KAAKqhC,WAAWw+B,EAASC,GAAMxvD,SAASkxB,eAChDs9B,IAAqB,IACrB7D,EAAQj7D,KAAKi/D,gBAAgBhE,EAAO4E,EAASC,GAAO9/D,KAAKqhC,WAAWw+B,EAASC,GAAMxvD,UAEvF,IAAImqD,GAAcz6D,KAAKk/D,eAAejE,EAAO4E,EAASC,IAAO,GAAM,EAC/DnB,GAAelE,KACfkE,EAAelE,GAAez6D,KAAK2/D,eAAehB,EAAelE,IACjEmF,EAAYA,EAAUxyD,OAAOuxD,EAAelE,KAGpD4E,EAAeI,EAAMC,IAASE,EAGtCR,EAAgBD,EAAO5B,IAAS8B,EAEpC,GAAIgB,GAAS,EACTvG,EAAS,CACb+E,IAAW,EACXD,EAAe5+D,KAAK2/D,eAAef,EACnC,KAASG,EAAO/+D,KAAK40D,SAAUmK,EAAOh+D,EAAUg+D,IAAQ,CACpD,GAAIjhD,GAAO+gD,EAAWD,EAAeQ,EAAgBD,EAAO,IAAY,OACpEx8B,EAAUk8B,EAAYwB,EAASvG,EAAUuG,CACzCviD,GAAK6kB,KACL3iC,KAAKJ,YAAYm/D,IAASjhD,EAAK6kB,IAC/B3iC,KAAKJ,YAAYm/D,GAAM,GAAG3gD,SAAW2gD,EACrC/+D,KAAKO,aAAa8/D,GAAQ,GAAKrgE,KAAKJ,YAAYm/D,GAAM,IAE1DsB,IACuC,cAAnCrgE,KAAKJ,YAAYm/D,GAAM,GAAGp3D,OAC1Bk3D,GAAW,EACX/E,EAASuG,MAMzB5L,EAAWrxD,UAAUi0D,qBAAuB,WACxC,GAAIr3D,KAAKgE,WACL,IAAK,GAAIlE,GAAI,EAAGA,EAAIE,KAAKkvB,mBAAmBnqB,QAAQ5F,OAAQW,IAAK,CAI7D,IAAK,GAHDwgE,MACA50D,EAAQ,EACR60D,KACKxgE,EAAI,EAAGA,EAAIC,KAAKJ,YAAYT,OAAQY,IAAK,CAC9C,GAAI+b,GAAS9b,KAAKJ,YAAYG,GAC1B0J,MAAM,GACNlK,MAAO,GACPihE,KACAniE,EAAQ,CACZkiE,GAAW70D,MACX40D,EAAU50D,KACV,IAAI+0D,GAAI,CACR,KAAKA,EAAIA,EAAGA,EAAI3kD,EAAO3c,OAAQshE,IAAK,CAChC,GAA4B,GAAxB3kD,EAAO2kD,GAAG9+B,YACP,cAD0B7lB,EAAO2kD,GAAGrwD,WAAWvB,MAAM,KAAK,KACtB,GAApBiN,EAAO2kD,GAAG5rD,MAC7BlR,oBAAkB68D,EAAK1kD,EAAO2kD,GAAGvwD,gBAC7BswD,EAAK1kD,EAAO2kD,GAAGvwD,kBAAsBswD,EAAKC,GAC9CD,EAAK1kD,EAAO2kD,GAAGvwD,eAAe4L,EAAO2kD,GAAGziD,UAAYlC,EAAO2kD,OAE1D,IAAInhE,OAAOC,KAAKihE,GAAMrhE,OAAS,EAAG,CACnCohE,EAAW70D,GAAO60D,EAAW70D,GAAOvM,OAASd,GAASyd,EAAO2kD,GAC7Dh3D,EAAMnK,OAAOC,KAAKihE,GAElB/2D,EAAMzJ,KAAK0gE,kBAAkBj3D,EAAKzJ,KAAKo1D,WAAWt5C,EAAO2kD,GAAGp+B,kBACxDriC,KAAKo1D,WAAWt5C,EAAO2kD,GAAG7hD,YAC9Bjb,oBAAkB28D,EAAU50D,IAAU40D,EAAU50D,MAAc40D,EAAU50D,EACxE,KAAK,GAAIi1D,GAAI,EAAGA,EAAIl3D,EAAItK,OAAQwhE,IAE5B,IAAK,GADDC,GAAWthE,OAAOC,KAAKihE,EAAK/2D,EAAIk3D,KAAKxhE,OAChC0hE,EAAI,EAAGA,EAAID,EAAUC,IAC1BxiE,EAAmC,GAA3BiiE,EAAU50D,GAAOvM,OAAc,EAAI,EAC3CmhE,EAAU50D,GAAO40D,EAAU50D,GAAOvM,OAASd,GACvCmiE,EAAK/2D,EAAIk3D,IAAIrhE,OAAOC,KAAKihE,EAAK/2D,EAAIk3D,KAAKE,SAIzB,IAArB/kD,EAAO2kD,GAAG5rD,OAAgBvV,OAAOC,KAAKihE,GAAMrhE,QAAU,GACrB,cAAtC2c,EAAO2kD,GAAGrwD,WAAWvB,MAAM,KAAK,KAChC0xD,EAAW70D,GAAO60D,EAAW70D,GAAOvM,OAASd,GAASyd,EAAO2kD,GAEjE,KAAwB,GAApB3kD,EAAO2kD,GAAG5rD,OAA4C,IAA7BvV,OAAOC,KAAKihE,GAAMrhE,QAEvC,cADJ2c,EAAO2kD,GAAGrwD,WAAWvB,MAAM,KAAK,KACXlL,oBAAkBmY,EAAO2kD,EAAI,MAAgC,IAAzB3kD,EAAO2kD,EAAI,GAAG5rD,MAAc,CACrF,GAAIgZ,GAASvuB,OAAOC,KAAKihE,EAAK1kD,EAAO2kD,GAAGvwD,gBAAgB/Q,OACpD2hE,EAASxhE,OAAOC,KAAKihE,EAAK1kD,EAAO2kD,GAAGvwD,eACxC,IAAI2d,EAAS,EACT,IAAK,GAAIkzC,GAAM,EAAGA,EAAMlzC,EAAQkzC,IAC5B1iE,EAAoC,GAA5BkiE,EAAW70D,GAAOvM,OAAc,EAAI,EAC5CohE,EAAW70D,GAAO60D,EAAW70D,GAAOvM,OAASd,GACzCmiE,EAAK1kD,EAAO2kD,GAAGvwD,eAAe4wD,EAAOC,QAI7CR,GAAW70D,GAAO60D,EAAW70D,GAAOvM,OAASd,GAASyd,EAAO2kD,GAGrE,GAAInhE,OAAOC,KAAKghE,EAAW70D,IAAQvM,OAAS,EAAG,CAC3Cd,EAAmC,GAA3BiiE,EAAU50D,GAAOvM,OAAc,EAAI,CAC3C,IAAI6hE,GAAUT,EAAW70D,GAAOvM,MAChC,IAAI6hE,EAAU,EACV,IAAK,GAAIC,GAAO,EAAGA,EAAOD,EAASC,IAC/B5iE,EAAmC,GAA3BiiE,EAAU50D,GAAOvM,OAAc,EAAI,EAC3CmhE,EAAU50D,GAAO40D,EAAU50D,GAAOvM,OAASd,GACvCkiE,EAAW70D,GAAOu1D,OAI1BX,GAAU50D,GAAO40D,EAAU50D,GAAOvM,OAASd,GACvCkiE,EAAW70D,GAAO,IAAM60D,EAAW70D,GAAO,EAElD80D,MACAD,EAAW70D,OAGnB,GAAIpM,OAAOC,KAAKihE,GAAMrhE,OAAS,EAAG,CAC9BohE,EAAW70D,GAAO60D,EAAW70D,GAAOvM,OAASd,GAASyd,EAAO2kD,GAC7DlhE,EAAOD,OAAOC,KAAKihE,EAEnB,IAAIzvD,GAAQ/Q,KAAKo1D,WAAWt5C,EAAO2kD,GAAGp+B,kBAAoBriC,KAAKo1D,WAAWt5C,EAAO2kD,GAAG7hD,UACpFnV,GAAMzJ,KAAK0gE,kBAAkBj3D,EAAKsH,GAClCpN,oBAAkB28D,EAAU50D,IAAU40D,EAAU50D,MAAc40D,EAAU50D,EACxE,KAAK,GAAI1D,GAAM,EAAGA,EAAMzI,EAAKJ,OAAQ6I,IAEjC,IAAK,GADDk5D,GAAO5hE,OAAOC,KAAKihE,EAAKjhE,EAAKyI,KAAO7I,OAC/B0hE,EAAI,EAAGA,EAAIK,EAAML,IACtBxiE,EAAmC,GAA3BiiE,EAAU50D,GAAOvM,OAAc,EAAI,EAC3CmhE,EAAU50D,GAAO40D,EAAU50D,GAAOvM,OAASd,GACvCmiE,EAAK/2D,EAAIzB,IAAM1I,OAAOC,KAAKihE,EAAKjhE,EAAKyI,KAAO64D,IAI5D,IAAK,GAAIM,GAAI,EAAGA,EAAIb,EAAU50D,GAAOvM,OAAQgiE,IACzCnhE,KAAKJ,YAAY8L,GAAOy1D,GAAKb,EAAU50D,GAAOy1D,EAElD,KAAK,GAAIC,GAAIrhE,EAAGqhE,EAAIphE,KAAKJ,YAAYT,OAAQiiE,IAAK,CAC9C,GAAIC,GAAWl1D,YAAWnM,KAAKJ,YAAYwhE,EAAI,GAAI,MAAM,GACrDE,EAAWn1D,YAAWnM,KAAKJ,YAAYwhE,GAAI,MAAM,EACrD,IAAI9hE,OAAOC,KAAK8hE,GAAUliE,SAAWG,OAAOC,KAAK+hE,GAAUniE,QAAUG,OAAOC,KAAK8hE,GAAUliE,OAAS,EAAG,CACnG,IAAK,GAAIoiE,GAAI,EAAGA,EAAIvhE,KAAKJ,YAAYG,GAAGZ,OAAQoiE,IACxCjiE,OAAOC,KAAK8hE,GAAUliE,OAAS,GAAKmiE,EAASC,GAAGvjD,UAC7CqjD,EAASE,GAAGvjD,WACfhe,KAAKJ,YAAYwhE,EAAI,GAAGG,GAAKF,EAASC,EAASC,GAAGvjD,UAG1D,QAGRtS,IACA80D,KAEJ,IAAK,GAAI5N,GAAM,EAAGA,EAAM5yD,KAAKJ,YAAYT,OAAQyzD,IAE7C,IAAK,GADD92C,GAAS9b,KAAKJ,YAAYgzD,GACrB7yD,EAAI,EAAGA,EAAI+b,EAAO3c,OAAQY,IAC/B+b,EAAO/b,GAAGie,SAAWje,IAMzC00D,EAAWrxD,UAAU67D,gBAAkB,SAAU18C,EAAYwd,EAAai/B,GACtE,GAAIwC,GAAiBj/C,EAAWrd,QAAQ66B,EAAY3vB,WAAWlI,WAAa,iBAAmB,EAG3Fu5D,GAFJl/C,EAAaA,EAAWmf,UAAU,EAAGnf,EAAWrd,QAAQ66B,EAAY3vB,WAAWlI,aAC3E63B,EAAY3vB,WAAWlI,YACG2G,MAAM,MAAM1P,QAAU6/D,EAAaxW,eAEjE,OADAjmC,IAA4Bi/C,GAAkBC,EAAiB,KAAOzC,EAAav0B,YAAe,IAGtGgqB,EAAWrxD,UAAUu8D,eAAiB,SAAUvoD,GAC5C,GAAIA,EAAQjY,OAAS,GAA+B,IAA1BiY,EAAQ,GAAGuqB,WAAkB,CACnD,GAAI5wB,GAAS/Q,KAAKo1D,WAAWh+C,EAAQ,GAAGwH,YAAc5e,KAAKo1D,WAAWh+C,EAAQ,GAAGirB,gBACnE,eAAVtxB,OAAmC7Q,KAAV6Q,EACdqG,EAAQvP,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEoI,cAAgBnI,EAAEmI,cAAiB,EACjFnI,EAAEmI,cAAgBpI,EAAEoI,eAAkB,EAAI,IAEjC,eAAVa,GACMqG,EAAQvP,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEoI,cAAgBnI,EAAEmI,cAAiB,EACjFnI,EAAEmI,cAAgBpI,EAAEoI,eAAkB,EAAI,IAMxD,MAAOkH,IAEXq9C,EAAWrxD,UAAUs9D,kBAAoB,SAAUnhE,EAAMwR,GAOrD,MANc,cAAVA,OAAmC7Q,KAAV6Q,EACzBxR,EAAKsI,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAIC,EAAK,EAAMA,EAAID,GAAM,EAAI,IAElD,eAAViJ,GACLxR,EAAKsI,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAIC,EAAK,EAAMA,EAAID,GAAM,EAAI,IAE9DvI,GAEXk1D,EAAWrxD,UAAUuyD,gBAAkB,WACnC,GAAI31D,KAAKgE,WACL,IAAK,GAAI+9B,GAAO,EAAGA,EAAO/hC,KAAK+G,aAAa5H,OAAQ4iC,IAChD/hC,KAAKo1D,WAAWp1D,KAAK+G,aAAag7B,GAAM58B,MAAQnF,KAAK+G,aAAag7B,GAAMhxB,OAKpF0jD,EAAWrxD,UAAU87D,eAAiB,SAAUwC,EAAgB5jD,EAAMqxC,EAAgB6Q,GAClF,GAAI2B,GAAe,EACnB,IAAIxS,IAAmB6Q,EAAe,CAIlC,IAAK,GAHD3E,GAAQr7D,KAAKqhC,WAAWvjB,EAAKxN,SAC7BsxD,KACAC,KACK/hE,EAAI,EAAGA,EAAI4hE,EAAeviE,OAAQW,IACb,MAAtB4hE,EAAe5hE,IAAoC,MAAtB4hE,EAAe5hE,KAC5C8hE,EAAOliE,KAAKI,GACZ+hE,EAAW/hE,GAAK4hE,EAAe5hE,GAAK4hE,EAAe5hE,GACnDA,IAKA6hE,GAFJtG,EAAM7S,iBAAoBkZ,EAAe7yD,MAAM,MAAM1P,OAAS,EAC1DyiE,EAAOA,EAAOziE,OAAS,IAAM,EACduiE,EAAehgC,UAAU,EAAGkgC,EAAOA,EAAOziE,OAAS,IAAM0iE,EAAWD,EAAOA,EAAOziE,OAAS,IACtGk8D,EAAM5wB,YAGK,UAIfq3B,EAAeJ,EAAe/1D,YAAY,MAAQ+1D,EAAe/1D,YAAY,MAC7E+1D,EAAe/1D,YAAY,MAAQ+1D,EAAe/1D,YAAY,QACnC,EAAI+1D,EAAehgC,UAAU,EAAGogC,GAAgB,aAGlF,CACD,GAAIA,GAAeJ,EAAe/1D,YAAY,MAAQ+1D,EAAe/1D,YAAY,MAC7E+1D,EAAe/1D,YAAY,MAAQ+1D,EAAe/1D,YAAY,KAClEg2D,GAAeG,GAAgB,EAAIJ,EAAehgC,UAAU,EAAGogC,GAAgB,SAEnF,MAAOH,IAEXlN,EAAWrxD,UAAUq0D,sBAAwB,WAIzC,IAHA,GAAIsK,MACA9jD,EAASje,KAAKkB,YAAc,EAC5B8gE,EAAkB1iE,OAAOC,KAAKS,KAAKs2D,aAAan3D,OAC7C8e,GAAU,GAAG,CAChB8jD,EAAe9jD,KAEf,KADA,GAAIwV,GAASzzB,KAAKJ,YAAYqe,GAAQ9e,OAAS,EACxCs0B,EAAS,GAAG,CACfsuC,EAAe9jD,GAAQwV,GAAU,CACjC,IAAIwuC,GAAcjiE,KAAKJ,YAAYqe,GAAQwV,EAAS,GAEhDyuC,EAAeliE,KAAKJ,YAAYqe,EAAS,IAAMje,KAAKkB,YAAc+c,EAAS,EAAKje,KAAKJ,YAAYqe,EAAS,GAAGwV,OAAUvzB,GACvHiiE,EAAWniE,KAAKJ,YAAYqe,GAAQwV,GACpC2uC,GAAU,EACVC,GAAU,EACVC,EAAatiE,KAAKi/C,cAAckjB,EAAS7xD,SACzCiyD,EAAWD,EAAW1J,aAAgD,MAAjC0J,EAAWrJ,eAAe,GAAa,EAAI,EAkBpF,IAjBIiJ,GAAeD,IAAyC,IAAxBE,EAASxgC,aAAwC,IAApBwgC,EAASttD,MACrEotD,EAAY7xD,aAAe+xD,EAAS/xD,WACpC6xD,EAAYzrD,UAAUC,YAAc0rD,EAAS3rD,UAAUC,aAC5B,IAAxB0rD,EAASxgC,WACL4gC,GAAgC,QAArBN,EAAYt6D,KAIvBw6D,EAASpkD,QAAU,EAHnBokD,EAASpkD,QAAWkkD,EAAYlkD,QAAU,EAAKikD,EAAkB,EAAKC,EAAYlkD,QAAU,GAOhGokD,EAASpkD,QAAUkkD,EAAYlkD,QAAU,EACzCokD,EAAS7xD,QAAU2xD,EAAY3xD,SAEnC8xD,GAAU,GAEc,IAAxBD,EAASxgC,WAAkB,CAC3B,GAAI4gC,EACAJ,EAASx6D,KAAO,MAGhBw6D,EAASjyD,cAAgB,QACzBiyD,EAAS3rD,UAAUC,UAAY0rD,EAAS3rD,UAAUC,UAClD0rD,EAAS3rD,UAAU2rD,EAAS3rD,UAAUC,UAAUvO,YAAc,MAE7D,CACD,GAAIuO,GAAY,aACZyrD,IAAeF,EAAkB,IACjCvrD,EAAuC,IAA3ByrD,EAAYvgC,WAAoB,eAAiBugC,EAAY9xD,WACrE8xD,EAAY1rD,UAAUC,WAE9B0rD,EAASx6D,KAAO,YAChBw6D,EAASjyD,cAAgB,cACzBiyD,EAAS3rD,UAAUC,UAAYA,EAC/B0rD,EAAS3rD,UAAUC,EAAUvO,YAAc,EAE/Ci6D,EAASrsD,UAAW,OAEK,IAApBqsD,EAASttD,QACdstD,EAASx6D,KAAO,MAEhBw6D,EAASjyD,cAAgB,QACzBiyD,EAASrsD,UAAW,EACpBqsD,EAAS3rD,UAAUC,UAAY0rD,EAAS3rD,UAAUC,UAClD0rD,EAAS3rD,UAAU2rD,EAAS3rD,UAAUC,UAAUvO,YAAc,EAE9Dg6D,GAC6B,IAAxBC,EAASxgC,YAA+C,IAA3BugC,EAAYvgC,YAAqBugC,EAAY9xD,aAAe+xD,EAAS/xD,YACnG2xD,EAAe9jD,GAAQwV,GAAUsuC,EAAe9jD,EAAS,GAAM8jD,EAAe9jD,EAAS,GAAGwV,GAAU,EAAK,EAE1F,IAAXxV,GAAyC,IAAxBkkD,EAASxgC,YAAoBwgC,EAASttD,OAAS,GAAgC,IAA3BqtD,EAAYvgC,aAA2C,IAAvBugC,EAAYrtD,OACjHstD,EAASjkD,QAAUikD,EAAS5xD,UAAY,EAAKwxD,EAAe9jD,EAAS,GAAGwV,GAAU,EAElFyuC,EAAYhkD,QAAWgkD,EAAY3xD,YAAoC,IAAvB2xD,EAAYrtD,MAAgBktD,EAAe9jD,EAAS,GAAGwV,GAAUyuC,EAAYhkD,SAGjG,IAAxBikD,EAASxgC,WACTwgC,EAASjkD,QAAU,EAGnBikD,EAASjkD,SAAW,EAG5BmkD,GAAU,GAELF,EAAS5xD,YAAiC,IAApB4xD,EAASttD,OAA2C,IAA3BqtD,EAAYvgC,YAChEogC,EAAe9jD,GAAQwV,GAAUsuC,EAAe9jD,EAAS,GAAM8jD,EAAe9jD,EAAS,GAAGwV,GAAU,EAAK,EACzG0uC,EAASjkD,SAAW,EACpBmkD,GAAU,IAGVF,EAASjkD,QAAqB,IAAXD,EAAe8jD,EAAe9jD,GAAQwV,IAAW,EAEpEyuC,EAAYhkD,QAAYgkD,EAAYrtD,OAAS,IAAMqtD,EAAY3xD,WAAuC,IAAxB4xD,EAASxgC,YAA+C,IAA3BugC,EAAYvgC,WAAqBogC,EAAe9jD,EAAS,GAAGwV,GAAU,GAIrL0uC,EAASjkD,QAAWikD,EAASttD,OAAS,GAA0B,IAArB7U,KAAKkB,YAAqB6gE,EAAe9jD,GAAQwV,IAAW,EAEtG2uC,IACDD,EAASpkD,QAAU,GAElBskD,IACDN,EAAe9jD,GAAQwV,GAAU,GAErCA,IAEJxV,MAGRw2C,EAAWrxD,UAAUo0D,YAAc,SAAUE,EAAQtnB,GACjD,GAAIlvC,GAAclB,KAAK40D,SACnB4N,EAAYxiE,KAAKJ,YAAYT,OAC7BsjE,EAAkB,CACtB,IAA+B,SAA3BziE,KAAKmxD,WAAWx2C,OAAmB,CACnC,GAAIpb,GAAOD,OAAOC,KAAKS,KAAKw2D,oBAC5Bt1D,GAAc6f,OAAOxhB,EAAK,IAC1BijE,EAAYzhD,OAAOxhB,EAAKA,EAAKJ,OAAS,IAAM,EAC5CsjE,EAAkBziE,KAAKw2D,oBAAoBt1D,GAAa,GAAGoP,QAG/D,IAAK,GADDsmD,MACKnjC,EAAS,EAAGA,EAASikC,EAAOv4D,OAAQs0B,IACzCmjC,EAAc71C,OAAO22C,EAAOjkC,GAAQ5E,aAAa,iBAAmB6oC,EAAOjkC,EAE/E,KAAK,GAAIxV,GAAS/c,EAAa+c,EAASukD,EAAWvkD,IAG/C,IAAK,GAFDlZ,GAAU/E,KAAKJ,YAAYqe,GAC3BusB,EAAazlC,EAAQ,GAAGuL,QACnBmjB,EAAS,EAAGA,EAASzzB,KAAKJ,YAAY,GAAGT,OAAQs0B,IAAU,CAChE,GAAIivC,GAAa1iE,KAAKJ,YAAYI,KAAK40D,SAAW,GAAGnhC,GAAQnjB,QAGzDqyD,GAFQ59D,EAAQ,GAAG+Q,UAAY/Q,EAAQ,GAAG+Q,UACtB,cAApB/Q,EAAQ,GAAG4C,MAAwB5C,EAAQ,GAAG4C,KAChC3H,KAAKJ,YAAYI,KAAK40D,SAAW,GAAGnhC,IAClDre,EAAoC,IAA1BrQ,EAAQ,GAAG48B,WAAmB58B,EAAQ,GAAGqL,WAAWlI,WAC5DlI,KAAKi/C,cAAc0jB,EAAYryD,UAAYtQ,KAAKi/C,cAAc0jB,EAAYryD,SAAS8E,QACjFpV,KAAKi/C,cAAc0jB,EAAYryD,SAAS8E,QAAQuc,cAAc,SAAS1B,YACvElrB,EAAQ,GAAGqL,UACnB,IAAwB,WAApBrL,EAAQ,GAAG4C,KACX5C,EAAQ0uB,IACJxpB,KAAM,QACNmG,WAAYpQ,KAAKw5D,cAAcpkD,GAC/BlF,cAAe,GACf7R,MAAO,EACP2f,SAAUyV,EACVrV,SAAUH,OAGb,CACD,GAAI2kD,OAAa,GACb1yD,MAAgB,GAChB7R,EAAQ,IACRosC,EAAczqC,KAAKw5D,cAAcpkD,GACjCykD,GAAa,CAEbA,GADA75D,KAAKqhC,WAAWmJ,GACHxqC,KAAKqhC,WAAWmJ,GAAYqvB,WAG5B75D,KAAKkvB,mBAAmB3qB,iBAAmBvE,KAAKkvB,mBAAmB1qB,mBAEpFo+D,EAAahM,GAAepsB,EAAai4B,GAAmBryB,EAAYsyB,GAExExyD,EAAiB2pD,EACVl2D,oBAAkBi/D,IAAgBj/D,oBAAkBi/D,EAAWjxC,cAAc,aACzB,GAAnDixC,EAAWjxC,cAAc,YAAY1B,YAFf,GAG9B5xB,EAASw7D,EACFl2D,oBAAkBi/D,IAAgBj/D,oBAAkBi/D,EAAWjxC,cAAc,UAC5B,KAAhDixC,EAAWjxC,cAAc,SAAS1B,YAFpB,IAGtB/f,EAAgB2pD,IAAel2D,oBAAkBtF,GAC7C2B,KAAKiQ,kBAAkB8Q,OAAO1iB,GAAQosC,EAAgC,KAAlBv6B,EAAuBA,EAAgB7R,GAC3F6R,CACJ,IAAI2yD,IAAW7iE,KAAKi/C,cAAcyjB,IAAc1iE,KAAKi/C,cAAcyjB,GAAY/J,SAAW,IACrF34D,KAAKqhC,WAAWmJ,IAAcxqC,KAAKqhC,WAAWmJ,GAAYmuB,SAAW,CAC1E5zD,GAAQ0uB,IACJxpB,KAAM,QACNmG,WAAYq6B,EACZv6B,cAAeA,EACfwyD,WAAYA,EACZl4B,WAAYA,EACZjpC,cAAevB,KAAKi/C,cAAcyjB,GAAc1iE,KAAKi/C,cAAcyjB,GAAYvI,kBAAoB,GACnG74D,WAAYtB,KAAKqhC,WAAWmJ,GAAcxqC,KAAKqhC,WAAWmJ,GAAY2vB,kBAAoB,GAC1F97D,MAAQsF,oBAAkBtF,GAAyB,KAAhB0iB,OAAO1iB,GAC1C2f,SAAUyV,EACVrV,SAAUH,EACVoI,MAAOw8C,GAGf7iE,KAAKO,aAAa0d,EAASje,KAAKkB,aAAauyB,GAAU1uB,EAAQ0uB,KAK3EghC,EAAWrxD,UAAU6M,kBAAoB,SAAU5R,EAAOoJ,EAAWyI,GACjE,GAAIF,GAAiBE,CACrB,IAAIlQ,KAAKQ,aAAaiH,KAAe9D,oBAAkBtF,GAAQ,CAC3D,GAAIwqB,GAAe7oB,KAAKQ,aAAaiH,GAAWwE,WAC5CjM,KAAKQ,aAAaiH,GAAWwE,WAAajM,KAAKQ,aAAaiH,GAC5Dq7D,EAAY32D,YAAW0c,EAAa,MAAM,EAQ9C,UAPOi6C,GAAU39D,MACZ29D,EAAUh6C,0BAA4Bg6C,EAAUh6C,yBAA2B,SACrEg6C,GAAUh6C,0BAEhBg6C,EAAU/5C,0BAA4B+5C,EAAU/5C,yBAA2B,SACrE+5C,GAAU/5C,yBAEjB+5C,EAAUn7D,KACVqI,EAAiBhQ,KAAK4D,UAAUm/D,WAAW,GAAI96D,MAAK5J,EAAM6J,YAAa46D,OAEtE,CAED,SADOA,GAAUn7D,KACZm7D,WAAuB9iE,KAAKmD,YAAY6lB,KAAK85C,EAAUj4D,QAAU,CAClE,GACIoe,GADU65C,EAAUj4D,OAAOgJ,MAAM7T,KAAKkD,aAChB,EAC1B4/D,GAAU55C,aAA4C,IAA9BD,EAAY/jB,QAAQ,KAEhD8K,EAAiBhQ,KAAK4D,UAAUygB,aAAahmB,EAAOykE,IAG5D,MAAO9yD,IAGXykD,EAAWrxD,UAAU0zD,eAAiB,WAIlC,IAAK,GAFDh6C,GADAkmD,EAAQ,SAERtgE,KACKzD,EAAK,EAAGC,EAAKc,KAAK0C,OAAQzD,EAAKC,EAAGC,OAAQF,IAAM,CACrD,GAAI+M,GAAQ9M,EAAGD,EACfyD,GAAOA,EAAOvD,QAAW6M,EAAMkyC,kBAAoBl+C,KAAKuN,UAAUvB,EAAM7G,MAAMutD,IAAM1mD,EAAM7G,KAE9F,GAAIzC,EAAOvD,OAAS,EAAG,CACnB,GAAIa,KAAKmvD,eAAgB,CAErB,IAAK,GADDx2C,IAAU,EACL7Y,EAAI,EAAGO,EAAML,KAAK8E,KAAK3F,OAAQW,EAAIO,EAAKP,IAC7C,GAAwC,eAApCE,KAAK8E,KAAKhF,GAAGqF,KAAKyO,cAAgC,CAClDovD,EAAQ,MACRlmD,EAAShd,EACT6Y,GAAU,CACV,OAGR,IAAKA,EACD,IAAK,GAAI7Y,GAAI,EAAGO,EAAML,KAAK+E,QAAQ5F,OAAQW,EAAIO,EAAKP,IAChD,GAA2C,eAAvCE,KAAK+E,QAAQjF,GAAGqF,KAAKyO,cAAgC,CACrDovD,EAAQ,SACRlmD,EAAShd,EACT6Y,GAAU,CACV,YAOZmE,GAAmB,SADnBkmD,EAAQhjE,KAAKY,WACcZ,KAAK8E,KAAK3F,OAAS,EAAIa,KAAK+E,QAAQ5F,OAAS,CAE5E,QAAS8jE,YAAaD,EAAOE,aAAcpmD,EAAQqmD,UAAWzgE,GAG9D,OAASugE,YAAaD,EAAOE,cAAe,EAAGC,eAIvD1O,EAAWrxD,UAAU4zD,kBAAoB,SAAUH,EAAa5sD,EAAMytD,EAAQ0L,EAASxqD,GACnF,GAAIyqD,MACAC,KACA7jD,KACA0/C,KACAoE,KACAN,EAAcpM,EAAYoM,YAC1BC,EAAerM,EAAYqM,aAC3BxgE,EAASm0D,EAAYsM,SACzB,IAAIF,IAAgBh5D,GAAQvH,EAAOvD,OAAS,EAAG,CAG3C,IAAK,GAFD+gD,MACAsjB,KACKzjE,EAAI,EAAGmO,EAAMwpD,EAAOv4D,OAAQY,EAAImO,EAAKnO,IAAK,CAM/C,IALA,GAAI+iC,GAAO40B,EAAO33D,GACd+N,KAAa8sB,MAAMC,KAAKiI,EAAKhH,iBAAiB,WAC9CjnB,EAAQ,GACR4uD,EAAS,GACT3jE,EAAI,EACDA,EAAIgO,EAAQ3O,QACf0V,EAAQA,GAAmB,KAAVA,EAAe,KAAO,IAAM/G,EAAQhO,GAAG6xB,cAAc,SAAS1B,YAC3EnwB,IAAMojE,GAAiC,IAAjBA,EACtBO,EAAS5uD,EAEJ/U,IAAOojE,EAAe,IAC3BO,EAAS5uD,GAEb/U,GAEAogD,GAAgBujB,GAChBvjB,EAAgBujB,GAAQvjB,EAAgBujB,GAAQtkE,QAAU0V,GAG1DqrC,EAAgBujB,IAAW5uD,GAC3B2uD,EAAaA,EAAarkE,QAAUskE,GAExCtE,EAAOtqD,IAAWnJ,MAAO3L,EAAG+iC,KAAMA,GAClCygC,EAAQA,EAAQpkE,QAAU0V,EAE9B,GAAI0uD,EAAQpkE,OAAS,GACbqkE,EAAarkE,OAAS,EACtB,GAAqB,IAAjB+jE,GACA,IAAK,GAAIjkE,GAAK,EAAGwZ,EAAW/V,EAAQzD,EAAKwZ,EAAStZ,OAAQF,IAEtD,IAAK,GADDmiB,GAAS3I,EAASxZ,GACbC,EAAK,EAAGwkE,EAAiBF,EAActkE,EAAKwkE,EAAevkE,OAAQD,IAExE,IADIuK,EAAMi6D,EAAexkE,MACbkiB,EACR,IAAK,GAAI7X,GAAK,EAAGQ,EAAKm2C,EAAgBz2C,GAAMF,EAAKQ,EAAG5K,OAAQoK,IAAM,CAC1DsL,EAAQ9K,EAAGR,EACfkW,GAAaA,EAAatgB,QAAUggE,EAAOtqD,GAAOnJ,MAClD23D,EAAcA,EAAclkE,QAAUggE,EAAOtqD,GAAOiuB,UAOpE,KAAK,GAAIl3B,GAAK,EAAG+3D,EAAiBH,EAAc53D,EAAK+3D,EAAexkE,OAAQyM,IAExE,IAAK,GADDnC,GAAMk6D,EAAe/3D,GAChBE,EAAK,EAAG83D,EAAWlhE,EAAQoJ,EAAK83D,EAASzkE,OAAQ2M,IAEtD,IAAK,GADDkX,GAAS4gD,EAAS93D,GACbiL,EAAK,EAAGyN,EAAK07B,EAAgBz2C,GAAMsN,EAAKyN,EAAGrlB,OAAQ4X,KACpDlC,EAAQ2P,EAAGzN,IACOlI,MAAM,MACdq0D,KAAkBlgD,IAC5BvD,EAAaA,EAAatgB,QAAUggE,EAAOtqD,GAAOnJ,MAClD23D,EAAcA,EAAclkE,QAAUggE,EAAOtqD,GAAOiuB,KAQhF,IAAIsgC,EAAQjkE,OAAS,EAAG,CAKpB,IAAK,GAJD0kE,MACAC,KACA97D,EAAM,EACN+7D,EAAO,EACFhkE,EAAI,EAAGM,EAAM+iE,EAAQjkE,OAAQY,EAAIM,EAAKN,IACvCiI,EAAO4Q,EAAO,GAEd5Q,EAAM,EACD67D,IAFLE,KAGIF,EAAWE,OAEfF,EAAWE,GAAM/7D,GAAOjI,EACxBiI,MAGK67D,EAAWE,KACZF,EAAWE,OAEfF,EAAWE,GAAM/7D,GAAOjI,EACxBiI,KAEJ87D,EAAcA,EAAc3kE,QAAU4hB,OAAOqiD,EAAQrjE,GAAG8uB,aAAa,eAEzE,IAAoB,WAAhBo0C,GACA,GAAIY,EAAW1kE,OAAS,GAAK0kE,EAAW,GAAG1kE,SAAWsgB,EAAatgB,OAC/D,IAAK,GAAIW,GAAI,EAAGO,EAAMof,EAAatgB,OAAQW,EAAIO,EAAKP,IAEhD,IADIC,EAAI,EACDA,EAAI8jE,EAAW1kE,QAAQ,CAEtB6kE,EAAeF,EADfp4D,EAAS3L,EAAI6Y,EAAQ9Y,GACeoI,YACpCmzD,EAAQ+H,EAAQriD,OAAO8iD,EAAW9jE,GAAG0f,EAAa3f,OAChD+xB,aAAa,cAAemyC,EAAa97D,YAC/Co7D,EAAe53D,GAAS2vD,EACxBt7D,SAMZ,IAAI8jE,EAAW1kE,SAAWsgB,EAAatgB,OACnC,IAAK,GAAIW,GAAI,EAAGO,EAAMof,EAAatgB,OAAQW,EAAIO,EAAKP,IAEhD,IADIC,EAAI,EACDA,EAAI8jE,EAAWpkD,EAAa3f,IAAIX,QAAQ,CAC3C,GAAIuM,GAAS5L,EAAI8Y,EAAQ7Y,EACrBikE,EAAeF,EAAcp4D,GAAOxD,WACpCmzD,EAAQ+H,EAAQriD,OAAO8iD,EAAWpkD,EAAa3f,IAAIC,IACvDs7D,GAAMxpC,aAAa,cAAemyC,EAAa97D,YAC/Co7D,EAAeA,EAAenkE,QAAUk8D,EACxCt7D,KAMpB,OAASk3D,oBAAqBoM,EAAenM,mBAAoBoM,GAGjE,OAASrM,oBAAqBS,EAAQR,mBAAoBkM,IAIlE3O,EAAWrxD,UAAU6gE,eAAiB,SAAUziC,EAAiBzB,EAAa8gB,EAAU52C,GASpF,IARA,GAAIk1D,MACA3kD,EAAaulB,EAAY3vB,WAAWlI,WACpC0zD,EAAyB,QAAT3xD,EAAiBjK,KAAKqhC,WAAarhC,KAAKi/C,cACxDilB,EAAYtI,EAAc77B,EAAYzvB,SAEtCsoD,EAA6B,IADhBgD,EAAc,GAAG3C,eAAe/zD,QAAQ,KACpB,EAAI,EACrC2yD,EAAS,EACToF,EAAmE,MAA9CrB,EAAc,GAAG3C,eAAepY,GAClDgX,EAAS+D,EAAcz8D,SAEtBwE,oBAAkBi4D,EAAc/D,GAAQe,cAAgBgD,EAAc/D,GAAQe,YAAcA,KAC5FuG,EAAOA,EAAOhgE,QAAUy8D,EAAc/D,GAAQr2B,iBAElDq2B,GAIJ,KAAK,GAFDsM,GAAc3iC,EAAgB3yB,MAAM,MACpCu1D,KACKtL,EAAS,EAAGA,GAAUjY,EAAUiY,IACrC,IAAKmE,GAAsBj9D,KAAKovD,WAAa0J,IAAWjY,EAAU,CAI9D,IAAK,GAHDwjB,GAAcF,EAAYrL,GAAQjqD,MAAM,MACxCy1D,EAAaD,EAAYn/D,QAAQsV,GACjC+pD,KACKhH,EAAO,EAAGA,GAAQ+G,EAAY/G,IACnCgH,EAAW7kE,KAAK2kE,EAAY9G,GAEhC6G,GAAUA,EAAUjlE,QAAUolE,EAAWplE,OAAS,EAAIolE,EAAW9pD,KAAK,MAAQ0pD,EAAYrL,OAG1FsL,GAAUA,EAAUjlE,QAAUglE,EAAYrL,EAGlDt3B,GAAkB4iC,EAAU3pD,KAAK,KAGjC,KAAK,GAFD+pD,MACAjwD,KACKtV,EAAK,EAAGwlE,EAAWtF,EAAQlgE,EAAKwlE,EAAStlE,OAAQF,IAAM,CAC5D,GAAIG,GAAOqlE,EAASxlE,EACpB,IAAsC,IAAlCG,EAAK8F,QAAQs8B,KACbgjC,EAAU9kE,KAAKN,GACXY,KAAKovD,UAGL,IAASrtB,GADL2iC,EADatlE,EAAKyP,MAAM,MAAMgyC,GACHhyC,MAAM,OACP3J,QAAQsV,GAAaunB,EAAO2iC,EAAcvlE,OAAQ4iC,IAC5ExtB,EAAUmwD,EAAc3iC,IAAS2iC,EAAc3iC,GAK/D,GAAI/hC,KAAKovD,SAAU,CAGf,IAAK,GAFD3tB,GAAWyiC,EAAU1iC,gBAAgB3yB,MAAM,MAC3C81D,KACK5iC,EAAO,EAAGA,EAAON,EAAStiC,OAAQ4iC,IACnCA,IAAS8e,IACT8jB,EAAU5iC,GAAQN,EAASM,GAInC,KAAK,GADD2iC,GAAgBplE,OAAOC,KAAKgV,GACvBwtB,EAAO,EAAGA,EAAO2iC,EAAcvlE,OAAQ4iC,IAC5C4iC,EAAU9jB,GAAY6jB,EAAc3iC,GACpCyiC,EAAU9kE,KAAKilE,EAAUlqD,KAAK,OAItC,IAAK,GADDmqD,MACK1lE,EAAK,EAAG2lE,EAAcL,EAAWtlE,EAAK2lE,EAAY1lE,OAAQD,IAAM,CAIrE,IAAK,GAFDG,GADQwlE,EAAY3lE,GACL2P,MAAM,MACrB0R,EAAM,GACDtb,EAAM,EAAGA,GAAO47C,EAAU57C,IAAO,CACtC,GACI6I,GADQzO,EAAO4F,GACC4J,MAAM,KAC1B0R,GAAMA,GAAe,KAARA,EAAa,KAAO,IAAMzS,EAAQA,EAAQ3O,OAAS,GAEpEylE,EAAUrkD,GAAOA,EAErB,MAAOqkD,IAEXnQ,EAAWrxD,UAAU0hE,kBAAoB,SAAU51C,GAC/ClvB,KAAKkvB,mBAAqBA,EAC1BlvB,KAAK+F,eAAiBmpB,EAAmBnpB,eAAiB/F,KAAKqvD,mBAAmBngC,EAAmBnpB,mBAErG/F,KAAKoH,iBAAiB8nB,IAE1BulC,EAAWrxD,UAAU2hE,iBAAmB,SAAU71C,EAAoB81C,GAClEhlE,KAAKkvB,mBAAqBA,EAC1BlvB,KAAKyF,wBAA0BypB,EAAmBzpB,wBAA0BypB,EAAmBzpB,2BAC/FzF,KAAK01D,gBACL11D,KAAK81D,kBACL91D,KAAK+1D,6BAA6B/1D,KAAKyF,yBACnCzF,KAAKmN,WAAW63D,EAAa7/D,MAC7BnF,KAAKoH,iBAAiB8nB,GAGtB2/B,GAASC,YAAY5/B,EAAoBlvB,MAAM,MAAME,IAAW,IAGxEu0D,EAAWrxD,UAAUwW,OAAS,SAAUsV,GACpClvB,KAAKkvB,mBAAqBA,EAC1BlvB,KAAK+G,aAAemoB,EAAmBnoB,aAAemoB,EAAmBnoB,gBACzE/G,KAAK01D,gBACL11D,KAAK21D,kBACL31D,KAAK81D,kBACD91D,KAAKk2D,YAAY/2D,OAAS,GAAKa,KAAKi2D,OACpCj2D,KAAKixD,eAAejxD,KAAKi2D,OAAQj2D,KAAK2wD,QAAS3wD,KAAKmxD,YAGpDnxD,KAAKoH,iBAAiB8nB,IAG9BulC,EAAWrxD,UAAU0yD,gBAAkB,SAAU1uC,GAE7C,IADA,GAAItnB,GAAI,EACDA,EAAIE,KAAKw1D,mBAAmBr2D,QAAQ,CACvC,GAAIsI,GAAYzH,KAAKw1D,mBAAmB11D,GAAGiO,GACvCk3D,EAAWjlE,KAAKw1D,mBAAmB11D,GAAGuzD,GAG1C,IAAIrzD,KAAK0G,eAAee,GAAY,CAChC,GAAIrB,GAAapG,KAAKgE,WAAahE,KAAKo1D,WAAW3tD,GAAazH,KAAKo1D,WAAW3tD,GAAa,YAAc,MAC3GzH,MAAK0G,eAAee,GAAW+F,YAAa,EAC5CxN,KAAK0G,eAAee,GAAWiG,eAAgB,EAE/C1N,KAAK0G,eAAee,GAAWI,KAAOzB,EACtCpG,KAAKw1D,mBAAmB11D,GAAG+H,KAAOzB,EAC9BghB,IACApnB,KAAK0G,eAAee,GAAWgG,UAC/BzN,KAAK0G,eAAee,GAAWy9D,iBAevC,GAZIllE,KAAKmN,WAAW1F,IAAczH,KAAK0G,eAAee,IAAczH,KAAKu1D,cAAcrwD,QAAQuC,IAAc,GACzGzH,KAAK0G,eAAee,GAAW+F,YAAa,EAC5CxN,KAAKw1D,mBAAmB11D,GAAG0N,YAAa,GAGpCxN,KAAKmN,WAAW83D,IAAajlE,KAAK0G,eAAeu+D,IAAajlE,KAAKu1D,cAAcrwD,QAAQ+/D,IAAa,EACtGjlE,KAAKw1D,mBAAmB11D,GAAG0N,YAAa,EAGxCxN,KAAKw1D,mBAAmB11D,GAAG0N,YAAa,EAG5CxN,KAAK0G,eAAee,IAAczH,KAAK0G,eAAee,GAAWy2C,kBACjE,IAAK,GAAIj/C,GAAK,EAAGC,EAAKc,KAAKyF,wBAAyBxG,EAAKC,EAAGC,OAAQF,IAAM,CACtE,GAAI+M,GAAQ9M,EAAGD,EACf,IAAIwI,IAAcuE,EAAM7G,KAAM,CAC1B,GAAIggE,GAAan5D,EAAMoC,QACnBk4B,EAAet6B,EAAMs6B,YACzBtmC,MAAKw1D,mBAAmB11D,GAAGsO,QAAU+2D,EACrCnlE,KAAKw1D,mBAAmB11D,GAAGwmC,aAAeA,EAC1CtmC,KAAKw1D,mBAAmB11D,GAAGslE,gBAAmBD,EAAWvxD,cAAc1O,QAAQ,YAAc,MACzFhF,GAAY8L,EAAMwoD,oBACtBx0D,KAAK0G,eAAee,GAAW2G,QAAU+2D,EACzCnlE,KAAK0G,eAAee,GAAW6+B,aAAeA,EAC9CtmC,KAAK0G,eAAee,GAAW29D,gBAAkBplE,KAAKw1D,mBAAmB11D,GAAGslE,iBAIxFtlE,IAEJE,KAAKuN,UAAYvN,KAAK0G,eACtB1G,KAAK41D,cAAgB51D,KAAKw1D,oBAE9Bf,EAAWrxD,UAAUiiE,oBAAsB,SAAUlgE,EAAMmgE,GACvD,IAAK,GAAIrmE,GAAK,EAAGC,EAAKc,KAAK41D,cAAe32D,EAAKC,EAAGC,OAAQF,IAAM,CAC5D,GAAIG,GAAOF,EAAGD,EACd,IAAIG,EAAK2O,KAAO5I,EAAM,CAClB/F,EAAKoO,aAAa83D,CAClB,UAIZ7Q,EAAWrxD,UAAUyJ,mBAAqB,SAAUxH,GAChDrF,KAAKQ,eAEL,KADA,GAAIH,GAAMgF,EAAQlG,OACXkB,KACHL,KAAKQ,aAAa6E,EAAQhF,GAAK8E,MAAQE,EAAQhF,IAGvDo0D,EAAWrxD,UAAUwD,aAAe,SAAUsoB,GAC1C,GAAItE,IACA8lC,QAASxhC,EAAmBwhC,QAC5BL,KAAMnhC,EAAmBmhC,KACzBzsB,IAAK1U,EAAmB0U,IACxBgtB,KAAM1hC,EAAmB2hC,iBAAiB3oD,WAC1CyoD,QAAS,uBAEb3wD,MAAKulE,YAAY36C,EAAM5qB,KAAKwlE,kBAAkB55C,KAAK5rB,OAASkvB,mBAAoBA,EAAoBvU,OAAQ,uBAEhH85C,EAAWrxD,UAAUmiE,YAAc,SAAU36C,EAAMsmC,EAAeC,GAC9D,GAAIC,GAAmBpxD,KAAKqxD,kBAAkBzmC,EAAKgZ,IAAKhZ,EAAKgmC,MAEzDU,EAAc,oJACd1mC,EAAK+lC,QAAU,8DAAgE/lC,EAAK8lC,QAEpF,6BAA+B9lC,EAAKylC,KAAO,mFAAqFzlC,EAAK8lC,QAErI,gCAAkCU,EAAiBR,KAAO,8EAC9D5wD,MAAKuxD,WAAW,OAAQH,EAAiBxtB,IAAK0tB,EAAaJ,EAAeC,IAE9EsD,EAAWrxD,UAAUsyD,cAAgB,WACjC11D,KAAK8E,KAAO9E,KAAKkvB,mBAAmBpqB,KAAO9E,KAAKkvB,mBAAmBpqB,QACnE9E,KAAK+E,QAAU/E,KAAKkvB,mBAAmBnqB,QAAU/E,KAAKkvB,mBAAmBnqB,WACzE/E,KAAKgF,QAAUhF,KAAKkvB,mBAAmBlqB,QAAUhF,KAAKkvB,mBAAmBlqB,WACzEhF,KAAK0C,OAAS1C,KAAKkvB,mBAAmBxsB,OAAS1C,KAAKkvB,mBAAmBxsB,SAIvE,KADA,GAFIyK,GAAahB,YAAWnM,KAAK8E,KAAM,MAAM,GAEzCkD,GADJmF,EAAaA,EAAWC,OAAOpN,KAAK+E,QAAS/E,KAAK0C,OAAQ1C,KAAKgF,UAC1C7F,OACd6I,KACHhI,KAAKmN,WAAWA,EAAWnF,GAAK7C,MAAQgI,EAAWnF,GACR,eAAvCmF,EAAWnF,GAAK7C,KAAKyO,cACrB5T,KAAKmvD,gBAAiB,EAGtBnvD,KAAKu1D,cAAc71D,KAAKyN,EAAWnF,GAAK7C,KAGhD,KAAKnF,KAAKmvD,gBAAkBnvD,KAAK0C,OAAOvD,OAAS,EAAG,CAChD,GAAI0oD,IAAiB1iD,KAAM,aAAciF,QAAS,WAC3B,SAAnBpK,KAAKY,UACLZ,KAAK8E,KAAKpF,KAAKmoD,GAGf7nD,KAAK+E,QAAQrF,KAAKmoD,GAEtB7nD,KAAKmvD,gBAAiB,IAG9BsF,EAAWrxD,UAAUqiE,iBAAmB,SAAUh+D,EAAW0G,GACzD,GAAIxG,EACJ,QAAQwG,GACJ,IAAK,IACDxG,EAAO,KACP,MACJ,KAAK,IACDA,EAAO,OACP,MACJ,KAAK,IACDA,EAAO,KACP,MACJ,KAAK,IACDA,EAAO,KACP,MACJ,KAAK,IACDA,EAAO,KACP,MACJ,KAAK,IACDA,EAAO,eACP,MACJ,KAAK,MACDA,EAAO,iBACP,MACJ,SACIA,MAAOzH,GAQf,MAAIyH,QAIA,IAGR8sD,EAAWrxD,UAAUo2D,cAAgB,SAAUr0D,GAE3C,IAAK,GADD81D,GAAQ91D,EACHlG,EAAK,EAAGC,EAAKc,KAAKyF,wBAAyBxG,EAAKC,EAAGC,OAAQF,IAAM,CACtE,GAAIG,GAAOF,EAAGD,EAId,IAAIkG,KAHa/F,EAAKgP,QACOwF,cAAc1O,QAAQ,YAAc,EAAI,cAAgB9F,EAAKo1D,oBAAsB,KAClF,IAAMp1D,EAAK+F,KAAO,IACvB,CACrB81D,EAAQ77D,EAAK+F,IACb,QAGR,MAAO81D,IAEXxG,EAAWrxD,UAAU4yD,kBAAoB,SAAU0P,GAC/C,GAAIv4D,GAAahB,YAAWnM,KAAK8E,KAAM,MAAM,EAC7CqI,GAAaA,EAAWC,OAAOpN,KAAK+E,QACpC,KAAK,GAAI9F,GAAK,EAAG60D,EAAgB4R,EAAazmE,EAAK60D,EAAc30D,OAAQF,IAAM,CAC3E,GAAIwO,GAASqmD,EAAc70D,EAC3B,IAAoB,YAAhBwO,EAAO9F,KAAoB,CAC3B,GAAImG,GAAU9N,KAAKuN,UAAUE,EAAOtI,MAAM2I,QACtC63D,EAAkB73D,GAAWxO,OAAOC,KAAKuO,GAAS3O,OAAS,CAC/Da,MAAKuN,UAAUE,EAAOtI,MAAM+/D,aAAez3D,EAAOwE,MAAM2oB,OACxD,IAAIgrC,GAAmBz5D,YAAWsB,EAAOwE,MAAO,MAAM,EACtD,IAAI0zD,EAEA,IADA,GAAI7lE,GAAI,EACDA,EAAI8lE,EAAiBzmE,QAAQ,CAGhC,IAAK,GAFD0mE,MAEK3mE,EAAK,EAAG4mE,EADjBD,EAAc7lE,KAAK+lE,cAAcH,EAAiB9lE,GAAIgO,EAAS+3D,GACjB3mE,EAAK4mE,EAAc3mE,OAAQD,IAAM,CAC3E,GAAI4jC,GAAOgjC,EAAc5mE,GACrBwM,EAAQvN,EAAUgC,QAAQ2iC,EAAMr1B,EAAOwE,QAC5B,IAAXvG,GACA+B,EAAOwE,MAAM7M,OAAOsG,EAAO,GAGnC5L,IAIR,IAAK,GADDkmE,MACKz8D,EAAK,EAAGQ,EAAK0D,EAAOwE,MAAO1I,EAAKQ,EAAG5K,OAAQoK,IAAM,CACtD,GAAI08D,GAAkBl8D,EAAGR,EAEzBy8D,GAAatmE,KAAKumE,GACdN,EACA3lE,KAAKuN,UAAUE,EAAOtI,MAAMsI,OAAO/N,KAAKoO,EAAQm4D,GAAiB77D,SAGjEpK,KAAKuN,UAAUE,EAAOtI,MAAMsI,OAAO/N,KAAKumE,GAGhDjmE,KAAKiH,cAAcwG,EAAOtI,MAAQ6gE,EAClChmE,KAAKuN,UAAUE,EAAOtI,MAAMuI,eAAgB,MAE3C,KAAK1N,KAAK0E,kBAAoB1E,KAAK+R,oBAC2B,KAA9D,OAAQ,QAAS,SAAU,SAAS7M,QAAQuI,EAAO9F,MACpD,IAAK,GAAIiE,GAAK,EAAGwD,EAAejC,EAAYvB,EAAKwD,EAAajQ,OAAQyM,IAElE,GADWwD,EAAaxD,GACfzG,OAASsI,EAAOtI,KAAM,CAC3B,GAAI8B,GAAgBjH,KAAKiH,cAAcwG,EAAOtI,KAC1C8B,IAA8C,gBAArBA,GAAc,IAAmBA,EAAc,GAAGU,OAAS8F,EAAO9F,KAC3FV,EAAcA,EAAc9H,QAAUsO,EAGtCzN,KAAKiH,cAAcwG,EAAOtI,OAASsI,GAEvCzN,KAAKuN,UAAUE,EAAOtI,MAAMuI,eAAgB,CAC5C,UAMpB+mD,EAAWrxD,UAAU2iE,cAAgB,SAAU5gE,EAAM2I,EAASmE,GAC1D,GAAInE,EAAQ3I,GAAMulB,QAAUvlB,IAAS2I,EAAQ3I,GAAMulB,OAAQ,CACvD,GAAIw7C,GAAap4D,EAAQ3I,GAAMulB,MAC/BzY,GAAMvS,KAAKwmE,GACXlmE,KAAK+lE,cAAcG,EAAYp4D,EAASmE,GAE5C,MAAOA,IAEXwiD,EAAWrxD,UAAUisD,mBAAqB,SAAUtpD,GAChD,GAAIogE,MACAh5D,EAAahB,YAAWnM,KAAK8E,KAAM,MAAM,EAC7CqI,GAAaA,EAAWC,OAAOpN,KAAK+E,QACpC,KAAK,GAAI9F,GAAK,EAAGozD,EAAmBtsD,EAAgB9G,EAAKozD,EAAiBlzD,OAAQF,IAE9E,IAAK,GADDG,GAAOizD,EAAiBpzD,GACnBC,EAAK,EAAGwT,EAAevF,EAAYjO,EAAKwT,EAAavT,OAAQD,IAAM,CACxE,GAAI8M,GAAQ0G,EAAaxT,EACzB,IAAIE,EAAK+F,OAAS6G,EAAM7G,KAAM,CAC1BghE,EAAazmE,KAAKN,EAClB,QAIZ,MAAO+mE,IA8BX1R,EAAWrxD,UAAUi7C,oBAAsB,SAAUthB,EAAYqpC,GAW7D,IAAK,GAVD1wD,GAAS1V,KAAKi/C,cAAcliB,EAAW2lC,aACvC1iE,KAAKi/C,cAAcliB,EAAW2lC,YAAYlhC,iBACoB,KAA9DxhC,KAAKi/C,cAAcliB,EAAW2lC,YAAYlhC,gBAC1CxhC,KAAKi/C,cAAcliB,EAAW2lC,YAAYlhC,gBAAgB3yB,MAAM,SAChE4G,EAAMzV,KAAKqhC,WAAWtE,EAAWyN,aACjCxqC,KAAKqhC,WAAWtE,EAAWyN,YAAYhJ,iBACoB,KAA3DxhC,KAAKqhC,WAAWtE,EAAWyN,YAAYhJ,gBACvCxhC,KAAKqhC,WAAWtE,EAAWyN,YAAYhJ,gBAAgB3yB,MAAM,SAC7DghD,EAAc,GACdF,EAAW,GACN7vD,EAAI,EAAGA,EAAI4V,EAAOvW,OAAQW,IAC/B+vD,GAAeA,EAAY1wD,OAAS,EAAK0wD,EAAc,IAAO,KAAOn6C,EAAO5V,GAAG+O,MAAM,MAAM1P,OAAS,EAChGuW,EAAO5V,GAAG+O,MAAM,MAAM6G,EAAO5V,GAAG+O,MAAM,MAAM1P,OAAS,GAAKuW,EAAO5V,GAEzE,KAASA,EAAI,EAAGA,EAAI2V,EAAItW,OAAQW,IAC5B6vD,GAAYA,EAASxwD,OAAS,EAAKwwD,EAAW,IAAO,KAAOl6C,EAAI3V,GAAG+O,MAAM,MAAM1P,OAAS,EACpFsW,EAAI3V,GAAG+O,MAAM,MAAM4G,EAAI3V,GAAG+O,MAAM,MAAM1P,OAAS,GAAKsW,EAAI3V,GAEhE,IAAIwyD,GAAa,wBAA0B8T,EAAU,YAAcvW,EAAY1wD,OAAS,EAAI0wD,EAAc,KACrGA,EAAY1wD,OAAS,GAAKwwD,EAASxwD,OAAS,EAAI,IAAM,KAAOwwD,EAASxwD,OAAS,EAAIwwD,EAAW,IAAM,gBACrG3vD,KAAKkvB,mBAAmBmhC,KAAO,GACnCiC,GAAaA,EAAW5jD,QAAQ,KAAM,QACtC,IAAI23D,GAAOrmE,KAAKsmE,WAAWtmE,KAAKkvB,mBAAoBojC,GAChDlB,EAAmBpxD,KAAKqxD,kBAAkBrxD,KAAKkvB,mBAAmB0U,IAAK5jC,KAAKkvB,mBAAmB2hC,iBACnG7wD,MAAKuxD,WAAW,OAAQH,EAAiBxtB,IAAKyiC,EAAMrmE,KAAKumE,oBAAoB36C,KAAK5rB,OAASkvB,mBAAoBlvB,KAAKkvB,mBAAoBvU,OAAQ,kBAEpJ85C,EAAWrxD,UAAUmjE,oBAAsB,SAAUtQ,GACjD,GAAIvD,MAAS93B,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,QAC5CyiB,EAAW,EACf,IAAImU,EAAIvzD,OAAS,EAAG,CAGhB,IAFA,GAAIsL,MACA3K,EAAI,EACDA,EAAI4yD,EAAIvzD,QAAQ,CAGnB,IAFA,GAAIqnE,MAAW5rC,MAAMC,KAAK63B,EAAI5yD,GAAGsiB,UAC7BriB,EAAI,EACDA,EAAIymE,EAAMrnE,QACbsL,EAAK/K,KAAK,IAAM8mE,EAAMzmE,GAAG0mE,QAAU,MAAkBD,EAAMzmE,GAAGkwB,YAAc,KAC5ElwB,GAEJD,KAIJ,IAFA,GAAIzB,GAAQoM,EAAK,GACbg2D,EAAI,EACDA,EAAIh2D,EAAKtL,QACRG,OAAOC,KAAKipB,KAAKC,MAAM,KAAOhe,EAAKg2D,GAAK,MAAM,IAAI,KAAOnhE,OAAOC,KAAKipB,KAAKC,MAAM,KAAOpqB,EAAQ,MAAM,IAAI,IAK7GkgD,GAAY,IAAM9zC,EAAKg2D,GACvBA,MALIliB,GAAyB,KAAbA,EAAkB,KAAO9zC,EAAKg2D,GAAK,OAASh2D,EAAKg2D,GAC7DA,IAMRliB,IAAY,SAKZ,KAFA,GAAImoB,MAAW9rC,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,gBAC9Ch8B,EAAI,EACDA,EAAI4mE,EAAMvnE,QACbo/C,GAAYmoB,EAAM5mE,GAAGmwB,YACrBnwB,GAGRE,MAAKu+C,SAAWA,GAGpBkW,EAAWrxD,UAAUujE,iBAAmB,SAAUz3C,EAAoBznB,EAAWm/D,EAAYC,EAAgBC,GAEzG,GAEI3W,GAFAgP,EAASn/D,KAAKuN,UAAU9F,GAAW03D,OACnCsE,EAASzjE,KAAKuN,UAAU9F,GAAWm/D,UAavC,OAVIzW,GADA2W,EACc,gBAAkB3H,EAAOsE,GAAQ11D,GAAK,MAChDoxD,EAAOyH,EAAa,GAAG74D,GAAK,MAAS64D,EAAanD,GAAY,EAAI,QAAU,oBAGlEh8D,EAAY,kBAAoB03D,EAAO,GAAGpxD,GAAK,MAAQoxD,EAAOyH,EAAa,GAAG74D,GAAK,qBAErG/N,KAAKuN,UAAU9F,GAAWm/D,WAAaA,EAClCC,GACD7mE,KAAK+mE,WAAW73C,EAAoBznB,GAAW,EAAO0oD,EAAa2W,GAEhE3W,GAGXsE,EAAWrxD,UAAU2jE,WAAa,SAAU73C,EAAoBznB,EAAWu/D,EAAiBC,EAAmBH,GAG3G,GACIhW,GADAoW,EAAU,kHAEVjU,EAAejzD,KAAKuN,UAAU9F,GAAWwrD,aACzCr0C,GAAaq0C,EAAexrD,EAAYA,EAAY,cAAciH,QAAQ,MAAO,QAOjFoiD,GANCkW,EAMU,YAAcpoD,EAAY,gBAAkBsoD,EAAU,eAAiBh4C,EAAmBmhC,KAAO,IALjG,aAAe4W,IACDhU,EAAer0C,EAAY,KAAOA,EAAY,YAAcA,EAAY,gBAAkB,KAC/GsoD,EAAU,eAAiBh4C,EAAmBmhC,KAAO,GAK7D,IAAIgW,GAAOrmE,KAAKsmE,WAAWp3C,EAAoB4hC,GAC3CM,EAAmBpxD,KAAKqxD,kBAAkBniC,EAAmB0U,IAAK1U,EAAmB2hC,iBACpFiW,KACD9mE,KAAKuN,UAAU9F,GAAWR,iBAC1BjH,KAAKuN,UAAU9F,GAAWya,gBAC1BliB,KAAKuN,UAAU9F,GAAW0/D,iBAE1BnnE,KAAKuN,UAAU9F,GAAWqG,WAC1B9N,KAAKuN,UAAU9F,GAAW2/D,oBAG9BpnE,KAAKuxD,WAAW,OAAQH,EAAiBxtB,IAAKyiC,EAAMrmE,KAAKqnE,gBAAgBz7C,KAAK5rB,OAASkvB,mBAAoBA,EAAoBznB,UAAWA,EAAW6/D,iBAAkBR,EAAiBnsD,OAAQ,kBAEpM85C,EAAWrxD,UAAUmkE,gBAAkB,SAAUr4C,EAAoBs4C,EAAc//D,GAG/E,GAIIqpD,GAAW,YAAc0W,EAAa94D,QAAQ,MAAO,SAAW,yIAA2CwgB,EAAmBmhC,KAAO,IACrIgW,EAAOrmE,KAAKsmE,WAAWp3C,EAAoB4hC,GAC3CM,EAAmBpxD,KAAKqxD,kBAAkBniC,EAAmB0U,IAAK1U,EAAmB2hC,iBAEzF7wD,MAAKuxD,WAAW,OAAQH,EAAiBxtB,IAAKyiC,EAAMrmE,KAAKqnE,gBAAgBz7C,KAAK5rB,OAASkvB,mBAAoBA,EAAoBznB,UAAWA,EAAWkT,OAAQ,uBAEjK85C,EAAWrxD,UAAUqkE,oBAAsB,SAAUv4C,EAAoBs4C,GACrExnE,KAAKs1D,mBAEL,IACIxE,GAAW,YAAc0W,EAAa94D,QAAQ,MAAO,SAAW,wIACrCwgB,EAAmBmhC,KAAO,IACrDe,EAAmBpxD,KAAKqxD,kBAAkBniC,EAAmB0U,IAAK1U,EAAmB2hC,kBACrFwV,EAAOrmE,KAAKsmE,WAAWp3C,EAAoB4hC,EAE/C9wD,MAAKuxD,WAAW,OAAQH,EAAiBxtB,IAAKyiC,EAAMrmE,KAAKqnE,gBAAgBz7C,KAAK5rB,OAASkvB,mBAAoBA,EAAoBvU,OAAQ,2BAG3I85C,EAAWrxD,UAAUskE,iBAAmB,SAAUx4C,EAAoBznB,EAAWkgE,EAAcC,EAAcZ,EAAiBJ,GAG1H,GAFA5mE,KAAKuN,UAAU9F,GAAW0/D,iBAC1BnnE,KAAKuN,UAAU9F,GAAW2/D,mBACL,KAAjBO,EAAJ,CAGI,GACI/oD,GAAYnX,EAAUiH,QAAQ,MAAO,SACrCoiD,EAAW,+CAAiDkW,EAAkBpoD,EAAY,gBAC1F,KAAOgoD,EAAa,EAAI5mE,KAAK2mE,iBAAiBz3C,EAAoBznB,EAAWm/D,GAAY,GACrFhoD,EAAY,KAAOA,EAAY,aAAe,MAClD,aAAeA,EAAY,mCAAqC+oD,EAAe,kPAG5CC,EAAe,+HAAiC14C,EAAmBmhC,KAAO,IAC7GgW,EAAOrmE,KAAKsmE,WAAWp3C,EAAoB4hC,GAC3CM,EAAmBpxD,KAAKqxD,kBAAkBniC,EAAmB0U,IAAK1U,EAAmB2hC,iBAEzF7wD,MAAKuxD,WAAW,OAAQH,EAAiBxtB,IAAKyiC,EAAMrmE,KAAKqnE,gBAAgBz7C,KAAK5rB,OAASkvB,mBAAoBA,EAAoBznB,UAAWA,EAAWkT,OAAQ,yBAMrK85C,EAAWrxD,UAAUikE,gBAAkB,SAAUpR,EAAQtF,EAASQ,GAK9D,IAAK,GAFDl8C,GAFA5V,KAAYu7B,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,6BAC/Cr0B,EAAY0pD,EAAW1pD,UAEvBR,KACKhI,EAAK,EAAGmd,EAAW/c,EAAQJ,EAAKmd,EAASjd,OAAQF,IAAM,CAC5D,GAAI+M,GAAQoQ,EAASnd,GAEjBkU,EAASnH,EAAM2lB,cAAc,UAC7BgQ,EAAaxuB,EAAOwe,cAAc,eAAe1B,YACjDw6B,EAAet3C,EAAOwe,cAAc,SAAS1B,YAC7C7lB,EAAU+I,EAAOwe,cAAc,WAAW1B,YAC1C43C,GAAaC,iBAAkBrgE,GAE/BsgE,EAAe50D,EAAOwe,cAAc,sBAAwBxe,EAAOwe,cAAc,sBAAsB1B,YAAc,EACzH,IAAqB,KAAjB83C,GAAsC,MAAfpmC,EACvB16B,GAEI+gE,cAAch8D,EAAM2lB,cAAc,yBAAuF,MAA5D3lB,EAAM2lB,cAAc,wBAAwB1B,YACzGziB,YAAY,EACZO,GAAI08C,EACJiI,IAAKjI,EACLtlD,KAAMiF,EACNA,QAASA,EACT69D,eAAgBJ,GAEM,iBAAtB1W,EAAWx2C,QAAmD,sBAAtBw2C,EAAWx2C,QAEnD3a,KAAKuN,UAAU9F,GAAWqG,QAAQ28C,IAAkBtlD,KAAMslD,EAAcrgD,QAASA,EAASsgB,WAAQxqB,GAAWgoE,cAAc,EAAO16D,YAAY,GAC9IxN,KAAKuN,UAAU9F,GAAWR,cAAcvH,KAAKuH,GAC7CjH,KAAKuN,UAAU9F,GAAWya,aAAaxiB,KAAKuH,IAEjB,uBAAtBkqD,EAAWx2C,QAEhB3a,KAAKuN,UAAU9F,GAAW2/D,gBAAgB3c,IAAkBtlD,KAAMslD,EAAcrgD,QAASA,EAASsgB,WAAQxqB,GAAWgoE,cAAc,EAAO16D,YAAY,GACtJxN,KAAKuN,UAAU9F,GAAW0/D,cAAcznE,KAAKuH,GAC7CA,EAAckhE,UAAW,GAGzBnoE,KAAKs1D,iBAAiB51D,KAAKuH,OAG9B,IAAqB,KAAjB8gE,GAAsC,MAAfpmC,EAC5B,GAAIomC,IAAiB9yD,GAA4B,MAAf0sB,EAC9B16B,GAEI+gE,cAAch8D,EAAM2lB,cAAc,yBAAuF,MAA5D3lB,EAAM2lB,cAAc,wBAAwB1B,YACzGliB,GAAI08C,EACJtlD,KAAMiF,EACNoD,YAAY,EACZpD,QAASA,EACT69D,eAAgBJ,EAChBnV,IAAKjI,GAEiB,iBAAtB0G,EAAWx2C,QAAmD,sBAAtBw2C,EAAWx2C,QACnD3a,KAAKuN,UAAU9F,GAAWR,cAAcvH,KAAKuH,GAC7CjH,KAAKuN,UAAU9F,GAAWya,aAAaxiB,KAAKuH,GAE5CjH,KAAKuN,UAAU9F,GAAWqG,QAAQ28C,IAAkBtlD,KAAMslD,EAAcrgD,QAASA,EAASsgB,WAAQxqB,GAAWgoE,cAAc,EAAO16D,YAAY,IAEnH,uBAAtB2jD,EAAWx2C,QAChB1T,EAAckhE,UAAW,EACzBnoE,KAAKuN,UAAU9F,GAAW0/D,cAAcznE,KAAKuH,GAE7CjH,KAAKuN,UAAU9F,GAAW2/D,gBAAgB3c,IAAkBtlD,KAAMslD,EAAcrgD,QAASA,EAASsgB,WAAQxqB,GAAWgoE,cAAc,EAAO16D,YAAY,IAGtJxN,KAAKs1D,iBAAiB51D,KAAKuH,OAG9B,CACD,GAA0B,iBAAtBkqD,EAAWx2C,QAA6B3a,KAAKuN,UAAU9F,GAAWqG,QAAQ28C,GAC1E,QAGJ,IAAI2d,KAAcjX,EAAWmW,kBAAmBtnE,KAAKuN,UAAU9F,GAAWqG,QAAQi6D,GAAcv6D,UAChGvG,IAEI+gE,cAAch8D,EAAM2lB,cAAc,yBAAuF,MAA5D3lB,EAAM2lB,cAAc,wBAAwB1B,YACzGg4C,eAAgBJ,EAChBr6D,YAAY,EACZO,GAAI08C,EACJ4I,IAAK0U,EACL5iE,KAAMiF,EACNA,QAASA,EACTsoD,IAAKjI,GAEiB,iBAAtB0G,EAAWx2C,QAAmD,sBAAtBw2C,EAAWx2C,QACnD3a,KAAKuN,UAAU9F,GAAW4gE,aAAc,EACxCroE,KAAKuN,UAAU9F,GAAWR,cAAcvH,KAAKuH,GAC7CjH,KAAKuN,UAAU9F,GAAWya,aAAaxiB,KAAKuH,GAE5CjH,KAAKuN,UAAU9F,GAAWqG,QAAQ28C,IAAkBtlD,KAAMslD,EAAcrgD,QAASA,EAASsgB,OAAQq9C,EAAcG,cAAc,EAAO16D,WAAY46D,IAEtH,uBAAtBjX,EAAWx2C,QAChB3a,KAAKuN,UAAU9F,GAAW0/D,cAAcznE,KAAKuH,GAC7CA,EAAckhE,UAAW,EAEzBnoE,KAAKuN,UAAU9F,GAAW2/D,gBAAgB3c,IAAkBtlD,KAAMslD,EAAcrgD,QAASA,EAASsgB,OAAQq9C,EAAcG,cAAc,EAAO16D,YAAY,IAGzJxN,KAAKs1D,iBAAiB51D,KAAKuH,OAIf,MAAf06B,IACL1sB,EAAYw1C,KAYxBgK,EAAWrxD,UAAUoiE,kBAAoB,SAAUvP,EAAQtF,EAASQ,GAIhE,IAAK,GAHDmX,MACAC,KAEKtpE,EAAK,EAAGupE,KADD5tC,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,QACf78B,EAAKupE,EAASrpE,OAAQF,IAAM,CAC5D,GAAI+M,GAAQw8D,EAASvpE,GACjBwpE,KAAsB7tC,MAAMC,KAAK7uB,EAAM8vB,iBAAiB,eAAe38B,OAAS,CACpFopE,GAAkB7oE,MACd2zD,IAAKrnD,EAAM2lB,cAAc,yBAAyB1B,YAClDliB,GAAI/B,EAAM2lB,cAAc,yBAAyB1B,YACjD9qB,KAAM6G,EAAM2lB,cAAc,qBAAqB1B,YAC/C7lB,QAAS4B,EAAM2lB,cAAc,qBAAqB1B,YAClDyiC,IAAK1mD,EAAM2lB,cAAc,yBAAyB1B,YAClDgjC,aAAcwV,EACdxzD,UAAYwzD,EAAmBz8D,EAAM8vB,iBAAiB,cAAc,GAAG7L,gBAAc/vB,GAErFyH,KAAM,WAGd2gE,GACI1pD,UAAW2pD,EACXG,iBAAkBzS,EAClB3C,aAEJtzD,KAAKuvD,aAAe+Y,CACpB,IAAI19C,IACA8lC,QAASS,EAAWjiC,mBAAmBwhC,QACvCL,KAAMc,EAAWjiC,mBAAmBmhC,KACpCzsB,IAAKutB,EAAWjiC,mBAAmB0U,IACnCgtB,KAAMO,EAAWjiC,mBAAmB2hC,iBAAiB3oD,WACrDyoD,QAAS,sBAEb3wD,MAAKulE,YAAY36C,EAAM5qB,KAAK2oE,sBAAsB/8C,KAAK5rB,MAAOmxD,IAElEsD,EAAWrxD,UAAU2yD,6BAA+B,SAAU3B,GAC1D,GAAIA,EAAYj1D,OAAS,EAAzB,CACI,GAAIypE,GAAoB5oE,KAAK41D,cAEzBiT,GACAb,aAAa,EACbx6D,YAAY,EACZO,GAAI,4BACJ5I,KAAM,4BACNiF,QAAS,qBACT0+D,eAAgB,wBAA+BvoC,EAC/CmyB,IAAK,4BAEL/qD,KAAM,SAENihE,GAAkBzpE,OAAS,GAA+C,eAA1CypE,EAAkB,GAAG76D,GAAG6F,eACxDg1D,EAAkBxjE,OAAO,EAAG,EAAGyjE,EAEnC,KAAK,GAAI5pE,GAAK,EAAGq1D,EAAgBF,EAAan1D,EAAKq1D,EAAcn1D,OAAQF,IAAM,CAC3E,GAAI+M,GAAQsoD,EAAcr1D,EAC1B,KAAKe,KAAKuN,UAAUvB,EAAM7G,MAAO,CAC7B,GAAIggE,GAAan5D,EAAMoC,QAGnBmU,GAFc4iD,EAAWvxD,cAAc1O,QAAQ,YAAc,EAAI,cACjE8G,EAAMwoD,oBAAsB,KACF,IAAMxoD,EAAM7G,KAAO,IAC7CiF,EAAWpK,KAAKmN,WAAWnB,EAAM7G,OAASnF,KAAKmN,WAAWnB,EAAM7G,MAAMiF,QACtEpK,KAAKmN,WAAWnB,EAAM7G,MAAMiF,QAAU4B,EAAM7G,KAC5CmhC,EAAet6B,EAAMs6B,aACrBre,GACA+/C,aAAa,EACbx6D,YAAY,EACZO,GAAI/B,EAAM7G,KACVkuD,IAAK,4BACLluD,KAAM6G,EAAM7G,KACZiF,QAASA,EACT0+D,eAAgB,kBAAyB3D,EAAWvxD,cAAc1O,QAAQ,YAAc,EACpF,sBAAwB,yBAA2B,IAAMq7B,EAC7DmyB,IAAKnwC,EACLnU,QAAS+2D,EACT7+B,aAAcA,EACdn4B,kBAAejO,GACfyH,KAAM,kBACN8F,UACAG,cACA/F,KAAM,YACNq9D,gBACAj+D,iBACAib,gBACAilD,iBACAr5D,WACAs5D,mBACAiB,aAAa,EACb36D,eAAe,EACfwwC,mBAAmB,EACnB3H,UAAY4uB,EAAWvxD,cAAc1O,QAAQ,YAAc,EAAI,UAAY,YAC3EkgE,gBAAkBD,EAAWvxD,cAAc1O,QAAQ,YAAc,MAAIhF,GAAY8L,EAAMwoD,oBAE3FoU,GAAkBlpE,KAAKuoB,GACvBjoB,KAAKuN,UAAU0a,EAAUla,IAAMka,MAQ/CwsC,EAAWrxD,UAAUulE,sBAAwB,SAAU1S,EAAQtF,EAASQ,GAIpE,IAAK,GAHDoX,MACAlpE,KAAYu7B,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,QAC/C1mB,KACKnW,EAAK,EAAG8pE,EAAW1pE,EAAQJ,EAAK8pE,EAAS5pE,OAAQF,IAAM,CAC5D,GAAI+M,GAAQ+8D,EAAS9pE,GACjB+pE,EAAgBh9D,EAAM2lB,cAAc,yBAAyB1B,YAC7Dg5C,EAAmBj9D,EAAM2lB,cAAc,qBAAqB1B,WAC5D+4C,GAAcp1D,cAAc1O,QAAQ,aAAe,EACnDkQ,GACI4yD,aAAa,EACbx6D,YAAY,EACZO,GAAIi7D,EACJ7jE,KAAM6jE,EACN5+D,QAAS6+D,EAETH,eAAgD,eAAhCE,EAAcp1D,cAAiC,0BAAiC2sB,EAAW,uBAA8BA,EACzImyB,IAAKsW,EAELrhE,KAAM,UAGLhE,oBAAkBtE,EAAO,GAAGsyB,cAAc,uBAC/C42C,EAAkB7oE,MACdsoE,aAAa,EACbx6D,YAAY,EACZO,GAAK/N,KAAKkvD,WAAa8Z,EAAgB,SAAWA,EAClD7jE,KAAM6jE,EACN5+D,QAAS6+D,EACTH,eAAgB,uBAA8BvoC,EAC9CmyB,IAAKsW,EACLE,iBAAkBl9D,EAAM2lB,cAAc,qBAAqB1B,YAE3DtoB,KAAM,WAIlB4gE,EAAkBnjE,OAAO,EAAG,EAAGgQ,GAC/BpV,KAAK41D,cAAgB2S,CAIrB,IAAI39C,IACA8lC,QAASS,EAAWjiC,mBAAmBwhC,QACvCL,KAAMc,EAAWjiC,mBAAmBmhC,KACpCzsB,IAAKutB,EAAWjiC,mBAAmB0U,IACnCgtB,KAAMO,EAAWjiC,mBAAmB2hC,iBAAiB3oD,WACrDyoD,QAAS,gBAEb3wD,MAAKulE,YAAY36C,EAAM5qB,KAAKmpE,qBAAqBv9C,KAAK5rB,MAAOmxD,IAEjEsD,EAAWrxD,UAAU+lE,qBAAuB,SAAUlT,EAAQtF,EAASQ,GACnE,GAAIhkD,GAAahB,YAAWnM,KAAK8E,KAAM,MAAM,EAC7CqI,GAAaA,EAAWC,OAAOpN,KAAK+E,QAAS/E,KAAKgF,QAGlD,KAAK,GAFDokE,GAAoBppE,KAAK41D,cACzByT,KACKpqE,EAAK,EAAGqqE,EAAen8D,EAAYlO,EAAKqqE,EAAanqE,OAAQF,IAAM,CACpE+M,EAAQs9D,EAAarqE,EACzBoqE,GAAc3pE,KAAKsM,EAAM7G,MAI7B,IAAK,GAFDokE,MAEKrqE,EAAK,EAAGsqE,KADD5uC,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,QACf58B,EAAKsqE,EAASrqE,OAAQD,IAAM,CAC5D,GAAI8M,GAAQw9D,EAAStqE,EACfqqE,GAAkBrkE,QAAQ8G,EAAM2lB,cAAc,cAAc1B,YAAYphB,MAAM,KAAK,KAAO,IAC5Fu6D,EAAkB1pE,MACdsoE,aAAa,EACbx6D,YAAY,EACZ6lD,IAAKrnD,EAAM2lB,cAAc,cAAc1B,YAAYphB,MAAM,KAAK,GAE9Dd,GAAI/B,EAAM2lB,cAAc,sBAAsB1B,YAAc,IAAMjkB,EAAM2lB,cAAc,cAAc1B,YAAYphB,MAAM,KAAK,GAC3H1J,KAAM6G,EAAM2lB,cAAc,sBAAsB1B,YAChD64C,eAAgB,qCAChB1+D,QAAS4B,EAAM2lB,cAAc,sBAAsB1B,YAGnDtoB,KAAM,WAEV4hE,EAAkB7pE,KAAKsM,EAAM2lB,cAAc,cAAc1B,YAAYphB,MAAM,KAAK,IAEpF,IAAId,GAAK,IAAM/B,EAAM2lB,cAAc,YAAY1B,YAAY6pB,OAAS,IAChE2vB,GACAzB,aAAa,EACb0B,aAAa,EACbl8D,WAAa67D,EAAcnkE,QAAQ,IAAM8G,EAAM2lB,cAAc,YAAY1B,YAAc,MAAQ,EAE/FojC,IAAKrnD,EAAM2lB,cAAc,sBAAsB1B,YAAc,IAAMjkB,EAAM2lB,cAAc,cAAc1B,YAAYphB,MAAM,KAAK,GAC5Hd,GAAIA,EACJ5I,KAAM6G,EAAM2lB,cAAc,eAAe1B,YACzC7lB,QAAS4B,EAAM2lB,cAAc,eAAe1B,YAC5C64C,eAAgB,sBAA6BvoC,EAC7CmyB,IAAK1mD,EAAM2lB,cAAc,cAAc1B,YAEvCtoB,KAAM,SACN8F,UACAG,cAEAs3D,gBACAj+D,iBACAib,gBACAilD,iBACAr5D,WACAs5D,mBACAiB,aAAa,EACb36D,eAAe,EAEnB07D,GAAkB1pE,KAAK+pE,GACvBzpE,KAAKuN,UAAUQ,GAAM07D,EAUzBtY,EAAWvyC,UAAY5e,KAAK41D,cAC5BzE,EAAWuX,iBAAmB1oE,KAAKuvD,aAAamZ,iBAChD1oE,KAAK2pE,sBAAsBxY,IAE/BsD,EAAWrxD,UAAUumE,sBAAwB,SAAUxY,GAMnD,IAAK,GALDpyD,GAAOoyD,EAAWuX,iBAClBU,EAAoBjY,EAAWvyC,UAC/BzR,EAAahB,YAAWnM,KAAK8E,KAAM,MAAM,GAEzCukE,KACKpqE,EAAK,EAAG2qE,EAFjBz8D,EAAaA,EAAWC,OAAOpN,KAAK+E,QAAS/E,KAAKgF,SAEN/F,EAAK2qE,EAAazqE,OAAQF,IAAM,CACxE,GAAI+M,GAAQ49D,EAAa3qE,EACzBoqE,GAAc3pE,KAAKsM,EAAM7G,MAG7B,IAAK,GAAIjG,GAAK,EAAG2qE,KADDjvC,MAAMC,KAAK97B,EAAK+8B,iBAAiB,QACb58B,EAAK2qE,EAAS1qE,OAAQD,IAAM,CAC5D,GACI8pE,IADAh9D,EAAQ69D,EAAS3qE,IACKyyB,cAAc,yBAAyB1B,YAC7DmS,EAAgBp2B,EAAM2lB,cAAc,yBAAyB1B,YAC7Dw4C,KAAsB7tC,MAAMC,KAAK7uB,EAAM8vB,iBAAiB,eAAe38B,OAAS,EAChF8V,MAAY,EAChB,IAAIwzD,EAAkB,CAClB,GAAIqB,GAAmB99D,EAAM8vB,iBAAiB,cAAc,GAAG7L,YAAYvhB,QAAQ,cAAe,IAAIG,MAAM,IAC5GoG,GAAY60D,EAAiBA,EAAiB3qE,OAAS,GAAG26C,WAG1D7kC,OAAY/U,EAKhB,KAAK,GAFD6pE,GAAwB/9D,EAAM2lB,cAAc,4BAAgC3lB,EAAM2lB,cAAc,wCAA2C,GAC3IwhC,KACK5pD,EAAK,EAAGygE,EAAsBZ,EAAmB7/D,EAAKygE,EAAoB7qE,OAAQoK,KACnFnK,EAAO4qE,EAAoBzgE,IACtBmpD,MAAQsW,GACb7V,EAAWzzD,KAAKN,EAGxB,IAAI+zD,EAAWh0D,OAAS,IAAM6pE,IAAkB5mC,GAAiBpiC,KAAKkvD,YAAa,CAC/E,GAAI+V,GAAW+D,GAAiBhpE,KAAKkvD,WAAa,SAAW,GAC7D,IAA4B,KAAxB6a,EAA4B,CAG5B,IAAK,GAFDE,GAAajB,GAAiBhpE,KAAKkvD,WAAa,SAAW,IAAM,IAAM6a,EACvEG,KACKngE,EAAK,EAAGogE,EAAsBf,EAAmBr/D,EAAKogE,EAAoBhrE,OAAQ4K,IAAM,CAC7F,GAAI3K,GAAO+qE,EAAoBpgE,EAC3B3K,GAAKszD,MAAQuX,GAAc7qE,EAAKi0D,MAAQ4R,GACxCiF,EAAiBxqE,KAAKN,GAG9B,GAAgC,IAA5B8qE,EAAiB/qE,OAAc,CAC/B,GAAIirE,IACApC,aAAa,EACbx6D,YAAY,EACZ6lD,IAAK2V,GAAiBhpE,KAAKkvD,WAAa,SAAW,IACnDnhD,GAAIk8D,EACJ9kE,KAAM4kE,EACNjB,eAAgB,oBAA2BvoC,EAC3CmyB,IAAKuX,EACL7/D,QAAS2/D,EAETpiE,KAAM,SAEVyhE,GAAkB1pE,KAAK0qE,GAE3BnF,EAAWgF,EAEf,GAAIR,IAEAzB,aAAch8D,EAAM2lB,cAAc,qBAAgF,MAAxD3lB,EAAM2lB,cAAc,oBAAoB1B,aAAgF,MAAxDjkB,EAAM2lB,cAAc,oBAAoB1B,YAElKziB,WAAa67D,EAAcnkE,QAAQk9B,IAAkB,EACrDixB,IAAK4R,EACLl3D,GAAIq0B,EACJj9B,KAAM6G,EAAM2lB,cAAc,qBAAqB1B,YAE/C64C,gBAAiB98D,EAAM2lB,cAAc,oBAAgF,MAAxD3lB,EAAM2lB,cAAc,oBAAoB1B,aAAgF,MAAxDjkB,EAAM2lB,cAAc,oBAAoB1B,YAAuB,sBAAwB,sBAAwB,uBAAyB,IAAMsQ,EAC3Q0yB,aAAcwV,EACdxzD,UAAWA,EACXy9C,IAAKtwB,EACLh4B,QAAS4B,EAAM2lB,cAAc,qBAAqB1B,YAElDtoB,KAAM,SACN8F,UACAG,cACA/F,KAAO7H,KAAKgE,WAAahE,KAAKo1D,WAAWhzB,GAAiBpiC,KAAKo1D,WAAWhzB,GAAiB,YAAc,OACzG8iC,gBACAj+D,iBACAib,gBACAilD,iBACAr5D,WACAs5D,mBACAjI,UACAyH,WAAY,EAEZyB,cAAcr8D,EAAM2lB,cAAc,sBAAgF,MAAxD3lB,EAAM2lB,cAAc,oBAAoB1B,aAAgF,MAAxDjkB,EAAM2lB,cAAc,oBAAoB1B,aAClKviB,eAAe,EAEnB07D,GAAkB1pE,KAAK+pE,GACvBzpE,KAAKuN,UAAU60B,GAAiBqnC,GAGxC,GAAI7+C,IACA8lC,QAASS,EAAWjiC,mBAAmBwhC,QACvCL,KAAMc,EAAWjiC,mBAAmBmhC,KACpCzsB,IAAKutB,EAAWjiC,mBAAmB0U,IACnCgtB,KAAMO,EAAWjiC,mBAAmB2hC,iBAAiB3oD,WACrDyoD,QAAS,kBAEb3wD,MAAKulE,YAAY36C,EAAM5qB,KAAKqqE,kBAAkBz+C,KAAK5rB,MAAOmxD,IAE9DsD,EAAWrxD,UAAUinE,kBAAoB,SAAUpU,EAAQtF,EAASQ,GAChE,GAAImZ,MACAlB,EAAoBppE,KAAK41D,aAC7B0U,KAEA,KAAK,GAAIrrE,GAAK,EAAGsrE,KADD3vC,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,QACf78B,EAAKsrE,EAASprE,OAAQF,IAAM,CAC5D,GAAI+M,GAAQu+D,EAAStrE,EAErB,IAAoE,IAAhE2N,SAASZ,EAAM2lB,cAAc,cAAc1B,YAAa,KAAwF,eAA3EjkB,EAAM2lB,cAAc,yBAAyB1B,YAAYrc,cAAgC,CAC9J,GAAIo1D,GAAgBh9D,EAAM2lB,cAAc,yBAAyB1B,YAC7DxZ,EAAYzK,EAAM2lB,cAAc,qBAAqB1B,YACrDu6C,EAAex+D,EAAM2lB,cAAc,iBAAiB1B,YACpDw6C,GACAzC,aAAa,EACb0C,WAAW,EACXl9D,WAAYxN,KAAKuN,UAAUy7D,GAAex7D,WAC1C6lD,IAAK2V,EACLj7D,GAAI0I,EACJtR,KAAMqlE,EACN9X,IAAKj8C,EAELqyD,eAAgB,qCAAuCl8D,SAASZ,EAAM2lB,cAAc,gBAAgB1B,YAAa,IAAM,SAAgBsQ,EACvIn2B,QAASogE,EAET7iE,KAAM,SAEV2iE,GAAc5qE,KAAK+qE,GACfzqE,KAAKuN,UAAUy7D,IAAkBhpE,KAAKuN,UAAUy7D,GAAeF,iBACkB,IAAjF9oE,KAAKuN,UAAUy7D,GAAeF,eAAe5jE,QAAQ,wBACrDlF,KAAKuN,UAAUy7D,GAAe7J,OAAOz/D,KAAK+qE,GAC1CzqE,KAAKuN,UAAUy7D,GAAeX,aAAc,GAG5CroE,KAAKuN,UAAUy7D,GAAeX,aAAc,GAIxDroE,KAAK41D,cAAgBwT,EAAoBA,EAAkBh8D,OAAOk9D,EAClE,IAAI1/C,IACA8lC,QAASS,EAAWjiC,mBAAmBwhC,QACvCL,KAAMc,EAAWjiC,mBAAmBmhC,KACpCzsB,IAAKutB,EAAWjiC,mBAAmB0U,IACnCgtB,KAAMO,EAAWjiC,mBAAmB2hC,iBAAiB3oD,WACrDyoD,QAAS,oBAEb3wD,MAAKulE,YAAY36C,EAAM5qB,KAAK2qE,oBAAoB/+C,KAAK5rB,MAAOmxD,IAEhEsD,EAAWrxD,UAAUunE,oBAAsB,SAAU1U,EAAQtF,EAASQ,GAMlE,IAAK,GAHD/mD,GAFAg/D,EAAoBppE,KAAK41D,cACzB2T,KAGAF,KACKpqE,EAAK,EAAG2rE,EAFAz+D,YAAWnM,KAAK0C,OAAQ,MAAM,GAEHzD,EAAK2rE,EAAazrE,OAAQF,IAAM,CACpE+M,EAAQ4+D,EAAa3rE,EACzBoqE,GAAc3pE,KAAKsM,EAAM7G,MAE7B,GAAoB,UAAhBnF,KAAK42B,OAAoB,CACzB,GAAIhM,IACA8lC,QAASS,EAAWjiC,mBAAmBwhC,QACvCL,KAAMc,EAAWjiC,mBAAmBmhC,KACpCzsB,IAAKutB,EAAWjiC,mBAAmB0U,IACnCgtB,KAAMO,EAAWjiC,mBAAmB2hC,iBAAiB3oD,WACrDyoD,QAAS,yBAEb3wD,MAAKulE,YAAY36C,EAAM5qB,KAAK6qE,kBAAkBj/C,KAAK5rB,MAAOmxD,GAG9D,IAAK,GAAIjyD,GAAK,EAAG4rE,KADDlwC,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,QACf58B,EAAK4rE,EAAS3rE,OAAQD,IAAM,CAC5D,GAAI8M,GAAQ8+D,EAAS5rE,GAEjB6rE,EAAiBpnE,oBAAkBqI,EAAM2lB,cAAc,sBAAwB,GAAK3lB,EAAM2lB,cAAc,qBAAqB1B,YAC7Hwa,EAAcz+B,EAAM2lB,cAAc,uBAAuB1B,YACzDqW,EAAet6B,EAAM2lB,cAAc,yBACnC3lB,EAAM2lB,cAAc,yBAAyB1B,YAAc,MAC3D9hB,EAAgBnC,EAAM2lB,cAAc,sBACpC3lB,EAAM2lB,cAAc,sBAAsB1B,YAAc,GAC5D,MAAMs5C,EAAkBrkE,QAAQ6lE,IAAmB,GAAI,CACnD,GAAoB,UAAhB/qE,KAAK42B,OAAoB,CAEzB,IAAK,GADDigC,MACKttD,EAAK,EAAGQ,EAAK/J,KAAKuvD,aAAayb,eAAgBzhE,EAAKQ,EAAG5K,OAAQoK,IAAM,CAC1E,GAAInK,GAAO2K,EAAGR,EACVnK,GAAKuyB,cAAc,qBAAqB1B,cAAgB86C,GACxDlU,EAAYn3D,KAAKN,GAGzBgL,EAAUysD,EAAY13D,OAAS,EAAI03D,EAAY,GAAGllC,cAAc,wBAAwB1B,YAAc86C,MAGtG3gE,GAAU2gE,CAES,MAAnBA,IACA3B,EAAkB1pE,MACdsoE,aAAa,EACb0C,WAAW,EACXl9D,YAAY,EACZ6lD,IAAK,aACLtlD,GAAIg9D,EACJ5lE,KAAMiF,EACN0+D,eAAgB,iCAAwCvoC,EACxDmyB,IAAKqY,EACL3gE,QAASA,EACT+D,cAAenO,KAAKylE,iBAAiBsF,EAAgB58D,GACrDxG,KAAM,WAEV4hE,EAAkB7pE,KAAKqrE,IAG/B,GAAItB,IACAzB,aAAa,EACbx6D,WAAa67D,EAAcnkE,QAAQulC,IAAgB,EACnD4oB,IAAwB,KAAnB0X,EAAwB,aAAeA,EAC5Ch9D,GAAI08B,EACJtlC,KAAM6G,EAAM2lB,cAAc,mBAAmB1B,YAC7C64C,eAAgB,kBAAyBvoC,EACzCmyB,IAAKjoB,EACLrgC,QAAS4B,EAAM2lB,cAAc,mBAAmB1B,YAChD9hB,cAAenO,KAAKylE,iBAAiBh7B,EAAat8B,GAClDxG,KAAM,SACN8F,UAEAy3D,gBACAj+D,iBACAib,gBACAilD,iBACAr5D,WACAs5D,mBACA9gC,aAAcA,EAElB8iC,GAAkB1pE,KAAK+pE,GACvBzpE,KAAKuN,UAAUk9B,GAAeg/B,EACzBJ,EAAcnkE,QAAQulC,IAAgB,GACvC4+B,EAAcjkE,OAAOikE,EAAcnkE,QAAQulC,GAAc,GAGjEzqC,KAAKq1D,mBAAqBgU,GAW9B5U,EAAWrxD,UAAUynE,kBAAoB,SAAU5U,EAAQtF,EAASQ,GAC5DxtD,oBAAkB3D,KAAKuvD,gBACvBvvD,KAAKuvD,iBAETvvD,KAAKuvD,aAAayb,kBAAoBpwC,MAAMC,KAAKo7B,EAAOn6B,iBAAiB,SAyE7E24B,EAAWrxD,UAAUmuD,WAAa,SAAU5pD,EAAMi8B,EAAK7kC,EAAMksE,EAAS9Z,GACvD,GAAI+Z,SACX7hC,MAAM,EACN8hC,YAAa,WACbvnC,IAAKA,EACL7kC,KAAMA,EACNu1B,SAAU,MACV3sB,KAAMA,EACNyjE,UAAW,SAAUxgD,EAAM+lC,GACvB,GAEIsF,IAFS,GAAIoV,YAEGC,gBAAgB1gD,EAAM,WAC1CqgD,GAAQhV,EAAQtF,EAASQ,IAE7Boa,UAAW,SAAU/rC,GACjB,MAAOA,MAGVgsC,QAET/W,EAAWrxD,UAAUkjE,WAAa,SAAUp3C,EAAoBshC,GAC5D,GAEIY,GAAmBpxD,KAAKqxD,kBAAkBniC,EAAmB0U,IAAK1U,EAAmB2hC,iBAgBzF,OAfI7wD,MAAKkvD,WAGI,2VACLsB,EAAQ,sEAHC,GAKT,6BAA+BthC,EAAmBwhC,QAAU,mLAIvD,wKACLF,EAAQ,iEAAmEthC,EAAmBwhC,QAE9F,gCAAkCU,EAAiBR,KAAO,mFAItE6D,EAAWrxD,UAAUiuD,kBAAoB,SAAUD,EAAkBx6B,GACjE,GAAI60C,IAAmB7nC,IAAK,GAAIgtB,KAAM,OACtC,IAAyB,KAArBQ,EACA,IAAK,GAAInyD,GAAK,EAAGC,EAAKkyD,EAAiBviD,MAAM,KAAM5P,EAAKC,EAAGC,OAAQF,IAAM,CACrE,GAAIypB,GAAMxpB,EAAGD,EACTypB,GAAI9U,cAAc1O,QAAQ,UAAY,GAAmC,IAA9BumE,EAAe7nC,IAAIzkC,OAC9DssE,EAAe7nC,IAAMlb,EAEhBA,EAAI9U,cAAc1O,QAAQ,WAAa,EAC5CumE,EAAe7a,KAAOloC,EAAIha,QAAQ,KAAM,IAAIG,MAAM,KAAK,GAEjDlL,oBAAkBizB,KACxB60C,EAAe7a,KAAOh6B,EAAO1uB,YAIzC,MAAOujE,IAEXhX,EAAWrxD,UAAUsoE,YAAc,SAAUx8C,GAEzC,MADA2/B,IAASC,YAAY5/B,EAAoBlvB,MAAM,MAAME,IAAW,GACzDF,KAAK8wD,UAET2D,KC1kGP3tB,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGj/B,GAI7B,OAHAg/B,EAAgBznC,OAAO2nC,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAGj/B,GAAKi/B,EAAEE,UAAYn/B,IACvE,SAAUi/B,EAAGj/B,GAAK,IAAK,GAAIq/B,KAAKr/B,GAAOA,EAAEsI,eAAe+2B,KAAIJ,EAAEI,GAAKr/B,EAAEq/B,MACpDJ,EAAGj/B,GAE5B,OAAO,UAAUi/B,EAAGj/B,GAEhB,QAASs/B,KAAOrnC,KAAKsnC,YAAcN,EADnCD,EAAcC,EAAGj/B,GAEjBi/B,EAAE5jC,UAAkB,OAAN2E,EAAazI,OAAOioC,OAAOx/B,IAAMs/B,EAAGjkC,UAAY2E,EAAE3E,UAAW,GAAIikC,QAGnFG,GAA0C,SAAUC,EAAY5a,EAAQpjB,EAAKi+B,GAC7E,GAA2HV,GAAvHW,EAAIC,UAAUzoC,OAAQ0oC,EAAIF,EAAI,EAAI9a,EAAkB,OAAT6a,EAAgBA,EAAOpoC,OAAOwoC,yBAAyBjb,EAAQpjB,GAAOi+B,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASP,EAAY5a,EAAQpjB,EAAKi+B,OACpH,KAAK,GAAI5nC,GAAI2nC,EAAWtoC,OAAS,EAAGW,GAAK,EAAGA,KAASknC,EAAIS,EAAW3nC,MAAI+nC,GAAKF,EAAI,EAAIX,EAAEa,GAAKF,EAAI,EAAIX,EAAEna,EAAQpjB,EAAKo+B,GAAKb,EAAEna,EAAQpjB,KAASo+B,EAChJ,OAAOF,GAAI,GAAKE,GAAKvoC,OAAO2oC,eAAepb,EAAQpjB,EAAKo+B,GAAIA,GA6B5D8jC,GAAqC,SAAUxjC,GAE/C,QAASwjC,KACL,MAAkB,QAAXxjC,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KAoB/D,MAtBA8mC,IAAU6kC,EAAqBxjC,GAI/BX,IACIY,YAAS,IACVujC,EAAoBvoE,UAAW,qBAAkB,IACpDokC,IACIY,YAAS,IACVujC,EAAoBvoE,UAAW,mBAAgB,IAClDokC,IACIY,YAAS,IACVujC,EAAoBvoE,UAAW,qBAAkB,IACpDokC,IACIY,YAAS,IACVujC,EAAoBvoE,UAAW,wBAAqB,IACvDokC,IACIY,WAAS,SACVujC,EAAoBvoE,UAAW,kBAAe,IACjDokC,IACIY,YAAS,IACVujC,EAAoBvoE,UAAW,uBAAoB,IAC/CuoE,GACTtjC,iBAKEujC,GAAkC,SAAUzjC,GAE5C,QAASyjC,KACL,MAAkB,QAAXzjC,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KA0B/D,MA5BA8mC,IAAU8kC,EAAkBzjC,GAI5BX,IACIY,YAAS,IACVwjC,EAAiBxoE,UAAW,kBAAe,IAC9CokC,IACIY,YAAS,IACVwjC,EAAiBxoE,UAAW,mBAAgB,IAC/CokC,IACIY,YAAS,IACVwjC,EAAiBxoE,UAAW,oBAAiB,IAChDokC,IACIY,YAAS,IACVwjC,EAAiBxoE,UAAW,0BAAuB,IACtDokC,IACIY,WAAS,WACVwjC,EAAiBxoE,UAAW,WAAQ,IACvCokC,IACIY,YAAS,IACVwjC,EAAiBxoE,UAAW,0BAAuB,IACtDokC,IACIY,YAAS,IACVwjC,EAAiBxoE,UAAW,wBAAqB,IACpDokC,IACIY,YAAS,IACVwjC,EAAiBxoE,UAAW,8BAA2B,IACnDwoE,GACTvjC,iBAKEwjC,GAAqC,SAAU1jC,GAE/C,QAAS0jC,KACL,MAAkB,QAAX1jC,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KAiB/D,MAnBA8mC,IAAU+kC,EAAqB1jC,GAI/BX,IACIY,cACDyjC,EAAoBzoE,UAAW,cAAW,IAC7CokC,IACIY,cACDyjC,EAAoBzoE,UAAW,YAAS,IAC3CokC,IACIY,WAAS,cACVyjC,EAAoBzoE,UAAW,iBAAc,IAChDokC,IACIY,cACDyjC,EAAoBzoE,UAAW,aAAU,IAC5CokC,IACIY,cACDyjC,EAAoBzoE,UAAW,aAAU,IACrCyoE,GACTxjC,iBAKEyjC,GAAmC,SAAU3jC,GAE7C,QAAS2jC,KACL,MAAkB,QAAX3jC,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KA0B/D,MA5BA8mC,IAAUglC,EAAmB3jC,GAI7BX,IACIY,YAAS,IACV0jC,EAAkB1oE,UAAW,oBAAiB,IACjDokC,IACIY,YAAS,IACV0jC,EAAkB1oE,UAAW,6BAA0B,IAC1DokC,IACIY,YAAS,IACV0jC,EAAkB1oE,UAAW,gCAA6B,IAC7DokC,IACIY,YAAS,IACV0jC,EAAkB1oE,UAAW,6BAA0B,IAC1DokC,IACIY,YAAS,IACV0jC,EAAkB1oE,UAAW,+BAA4B,IAC5DokC,IACIyB,gBAAe4iC,KAChBC,EAAkB1oE,UAAW,0BAAuB,IACvDokC,IACIY,cACD0jC,EAAkB1oE,UAAW,iBAAc,IAC9CokC,IACIY,WAAS,KACV0jC,EAAkB1oE,UAAW,eAAY,IACrC0oE,GACTzjC,iBAKE0jC,GAA+B,SAAU5jC,GAEzC,QAAS4jC,KACL,MAAkB,QAAX5jC,GAAmBA,EAAO78B,MAAMtL,KAAM4nC,YAAc5nC,KAQ/D,MAVA8mC,IAAUilC,EAAe5jC,GAIzBX,IACIY,WAAS,UACV2jC,EAAc3oE,UAAW,WAAQ,IACpCokC,IACIY,WAAS,UACV2jC,EAAc3oE,UAAW,cAAW,IAChC2oE,GACT1jC,iBAYE2jC,GAA2B,SAAU7jC,GAOrC,QAAS6jC,GAAUC,EAASxgD,GACxB,GAAIygD,GAAU/jC,EAAOtN,KAAK76B,KAAMisE,EAASxgD,IAAYzrB,IAiDrD,OA/CAksE,GAAQxyB,oBAAsB,EAE9BwyB,EAAQvyB,sBAAwB,EAEhCuyB,EAAQnyB,qBAAuB,IAE/BmyB,EAAQC,gBAERD,EAAQE,kBAERF,EAAQl6C,uBAERk6C,EAAQG,qBAERH,EAAQ/2C,aAAc,EACtB+2C,EAAQI,kBACRJ,EAAQK,yBACRL,EAAQM,gBAAiB,EACzBN,EAAQO,aAAc,EACtBP,EAAQQ,WAAY,EACpBR,EAAQnoE,cACRmoE,EAAQS,gBACRT,EAAQU,yBAA0B,EAElCV,EAAQt3C,sBAERs3C,EAAQr3C,sBAERq3C,EAAQryC,mBAAsBC,QAAQ,EAAOG,WAAY,EAAGC,SAAU,GAEtEgyC,EAAQ92C,cAER82C,EAAQrzB,iBACJC,SAAU,EAAGQ,WAAY,EAAGF,gBAAiB,EAC7CK,kBAAmB,EAAGnuB,IAAK,EAAGC,KAAM,EAAGshD,iBAAmBp0B,UAAW,GAAI/+B,SAAU,IAGvFwyD,EAAQzyC,gBAERyyC,EAAQY,YAAc,EAEtBZ,EAAQa,SAAW,EAEnBb,EAAQc,YAAa,EACrBd,EAAQe,SAAU,EAClBf,EAAQgB,aAAeC,YAAU/pE,UAAU8tB,QAC3Cg7C,EAAQvrC,UAAYurC,EACbA,EAxDXplC,GAAUklC,EAAW7jC,GA0DrBilC,EAAcpB,EAMdA,EAAU5oE,UAAUiqE,gBAAkB,WAClC,GACIC,GADAC,IA4CJ,OA1CAD,IAAkB,EAClBC,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,aACjCnT,KAAKwtE,4BACLD,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,0BAErCnT,KAAKytE,wBACLH,GAAkB,EAClBC,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,sBAErCnT,KAAKq8B,uBACLixC,GAAkB,EAClBC,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,qBAMrCnT,KAAKgjD,aAAehjD,KAAKm8C,QAAQh9C,OAAS,IAC1CmuE,GAAkB,EAClBC,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,aAErCnT,KAAKg1C,gBACLs4B,GAAkB,EAClBC,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,eAErCnT,KAAK62B,kBACL02C,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,gBAErCnT,KAAK82B,gBACLy2C,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,cAErCnT,KAAK81B,sBACLy3C,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,kBAErCnT,KAAKw0B,cACDx0B,KAAKw0B,aAAa2C,mBAClBm2C,GAAkB,GAGtBA,GACAC,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,WAElCo6D,GAMXvB,EAAU5oE,UAAUsqE,UAAY,WACxB1tE,KAAKkvB,oBAA+D,SAAzClvB,KAAKkvB,mBAAmBy+C,cACnD3tE,KAAKs0B,SAAW,OAChBt0B,KAAKu0B,iBAAmB,GAAIkgC,MAG5Bz0D,KAAKs0B,SAAW,QAChBt0B,KAAKqvB,aAAe,GAAI/uB,IAE5BN,KAAK4tE,iBACL5tE,KAAKq0B,WAAaw5C,UAAQC,SAC1B9tE,KAAK+tE,gBACL/tE,KAAKguE,eAAiB,GAAIr7B,IAAoB3yC,MAC9CA,KAAKi2C,kBAAoB,GAAID,IAAiBh2C,MAC9CA,KAAK4D,UAAY,GAAIC,wBAAqB7D,KAAK42B,QAC/C52B,KAAKiuE,eACD1N,WAAY,cACZ2N,MAAO,QACP7vE,MAAO,QACP8vE,QAAS,WACT14D,IAAK,MACLC,OAAQ,SACR04D,SAAU,WACVC,OAAQ,SACRC,cAAe,gBACfC,iBAAkB,mBAClBC,gBAAiB,kBACjBC,iBAAkB,mBAClBhhE,OAAQ,SACRihE,SAAU,WACV7mE,KAAM,OACN7C,QAAS,UACTF,KAAM,OACNC,QAAS,UACTrC,OAAQ,SACRgsB,MAAO,QACP0Q,OAAQ,SACRuvC,OAAQ,SACRC,gBAAiB,mBACjBC,sBAAuB,0BACvBpnE,UAAW,uBACXqnE,MAAO,QACPC,eAAgB,mBAChBC,SAAU,wDACVC,eAAgB,oCAChBC,WAAY,0EACZC,MAAO,QACPC,QAAS,UACTC,GAAI,KACJC,OAAQ,SACRC,KAAM,OACNj8C,OAAQ,SACRk8C,UAAW,aACXphE,QAAS,UACTqhE,SAAU,aACVC,YAAa,gBACbC,WAAY,eACZC,YAAa,gBACbC,UAAW,wBACXC,WAAY,sEACZC,YAAa,8EACbC,UAAW,aACXnlE,OAAQ,sBACRolE,KAAM,OACNC,MAAO,QACPC,aAAc,kCACdC,UAAW,wBACXC,YAAa,QACbC,GAAI,KACJ7hC,IAAK,MACL8hC,cAAe,iBAEfp9D,OAAQ,SACRq9D,MAAO,QACP5xE,KAAM,OACN6xE,WAAY,cACZC,WAAY,aACZC,OAAQ,SACRC,gBAAiB,qBACjBC,MAAO,QACPC,eAAgB,oBAChBC,iBAAkB,qCAClBC,gBAAiB,oCACjBC,iBAAkB,2BAClBC,OAAQ,SACRC,cAAe,iBACfC,UAAW,cACXC,iBAAkB,sBAClBC,SAAU,YACVC,gBAAiB,oBACjBC,SAAU,WACVC,gBAAiB,mBACjBC,YAAa,eACbC,qBAAsB,2BACtBC,SAAU,YACVC,kBAAmB,wBACnBC,QAAS,UACTC,WAAY,cACZC,IAAK,MACLC,IAAK,MACLC,MAAO,QACPC,cAAe,iBACfC,QAAS,UACTC,IAAK,MACLC,IAAK,MACLC,UAAW,aACXC,cAAe,iBACfC,cAAe,iBACfC,IAAK,MACLC,MAAO,QACPC,YAAa,eACbC,gBAAiB,mBACjBC,qBAAsB,iBACtBC,wBAAyB,oBACzBC,8BAA+B,2BAC/BC,2BAA4B,wBAC5BC,eAAgB,kBAChBC,2BAA4B,uBAC5BC,uBAAwB,mBACxBC,wBAAyB,oBACzBC,WAAY,UAEZC,UAAW,aACXC,UAAW,aACXC,qBAAsB,yBACtBnoE,MAAO,QACPsH,UAAW,gBACX8gE,YAAa,SACbC,mBAAoB,uBACpBrpE,UAAW,eACXC,SAAU,cACVqpE,kBAAmB,wBACnBC,WAAY,eACZC,cAAe,kBACfC,QAAS,OACTC,mBAAoB,yCACpBC,QAAS,UACTC,cAAe,iBACfC,MAAO,QACPC,SAAU,WACVC,OAAQ,SACRC,KAAM,OACNC,MAAO,QACPC,QAAS,UACTC,QAAS,UACThpC,KAAM,gBACNipC,IAAK,sBACLptB,KAAM,OACNqtB,OAAQ,yBACRC,OAAQ,0BACRC,aAAc,0BACdC,OAAQ,SACRC,UAAW,aACXC,YAAa,eACbC,WAAY,gBACZC,IAAK,MACLC,MAAO,QACPC,IAAK,MACLC,IAAK,MACLC,KAAM,OACNC,IAAK,MACLzkB,SAAU,YACV1sD,cAAe,kBACfoxE,mBAAoB,yBACpBC,sBAAuB,4BACvBC,yBAA0B,+BAC1BnxE,gBAAiB,oBACjBoxE,qBAAsB,2BACtBC,wBAAyB,8BACzBC,2BAA4B,iCAC5BtoE,UAAW,iBACXynB,KAAM,aACN8gD,kBAAmB,yBACnB32B,MAAO,QACP42B,UAAW,oCACXC,WAAY,cACZC,cAAe,2CACfC,YAAa,qBACbC,IAAK,MACLC,KAAM,OACNC,KAAM,OACNC,QAAS,UACTC,MAAO,QACPC,GAAI,KACJC,YAAa,qBACbC,WAAY,gBACZC,iBAAkB,kCAClBC,gBAAiB,sBACjBC,IAAK,MACLC,KAAM,OACN52E,UAAW,YACX62E,gBAAiB,eACjBC,qBAAsB,uEACtB1hE,UAAW,YACX2hE,aAAc,gBACdC,UAAW,YACXC,WAAY,aACZC,OAAQ,SACRC,SAAU,WACVC,WAAY,aACZC,WAAY,cACZ/2D,WAAY,kBACZg3D,eAAgB,kBAChBjsD,KAAM,OACNyhC,MAAO,QACPyqB,SAAU,WACVC,KAAM,OACNC,MAAO,QACPC,cAAe,iBACfltC,aAAc,oBACd/I,WAAY,aACZ2E,aAAc,gBACduxC,gBAAiB,aACjBC,aAAc,6BACdC,kBAAmB,mBACnBC,aAAc,8EACdC,QAAS,UACTC,SAAU,WACVC,OAAQ,SACRC,QAAS,UACTC,UAAW,YACXC,SAAU,WACVC,MAAO,UACPC,aAAc,0LAGdC,WAAY,aACZC,YAAa,eACbC,WAAY,kDACZvuE,QAAS,gBACTwuE,KAAM,OACNC,cAAe,iBACfC,mBAAoB,gBACpBC,cAAe,mBAEnB/4E,KAAK8D,UAAY,GAAIk1E,QAAKh5E,KAAKoyB,gBAAiBpyB,KAAKiuE,cAAejuE,KAAK42B,QACzE52B,KAAKk2C,oBACLl2C,KAAKi5E,YAAa,EAClBj5E,KAAKm3C,qBAGT60B,EAAU5oE,UAAU81E,oBAAsB,SAAUtuD,GAChDA,EAAKa,QAAQmQ,UAAUI,IAAI,uBAE/BgwC,EAAU5oE,UAAU2qE,cAAgB,WAC5B/tE,KAAKm5E,aACLn5E,KAAKglD,QAAU,GAAIR,YACf33B,OAAQ,qBACRusD,gBAAgB,EAChBhuD,UAAWprB,KAAKorB,UAChBiuD,aAAcr5E,KAAKs5E,WAAW1tD,KAAK5rB,MACnC0rB,WAAY1rB,KAAKk5E,sBAErBl5E,KAAKglD,QAAQz4B,kBAAmB,EAChCvsB,KAAKglD,QAAQx4B,SAASxsB,KAAKyrB,UAEtBzrB,KAAKglD,SACVhlD,KAAKglD,QAAQ3xB,WAIrB24C,EAAU5oE,UAAU8yC,kBAAoB,WACpC,GAAIl2C,KAAKw0B,aAAa2C,iBAAkB,CAOpC,IAAK,GANDoiD,MACAC,KACAC,KACAC,KACAC,KACAC,KACK36E,EAAK,EAAGC,EAAKc,KAAKw0B,aAAa2C,iBAAkBl4B,EAAKC,EAAGC,OAAQF,IAAM,CAC5E,GAAIG,GAAOF,EAAGD,EACM,iBAATG,KAA+D,IAA1CY,KAAK65E,kBAAkB30E,QAAQ9F,IACC,IAAxDA,EAAK8I,WAAW0L,cAAc1O,QAAQ,aACtC00E,IACMxwD,KAAMppB,KAAK8D,UAAUmF,YAAY,OAAQ8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,YAC/Dqb,KAAMppB,KAAK8D,UAAUmF,YAAY,iBAAkB8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,sBACzEqb,KAAMppB,KAAK8D,UAAUmF,YAAY,SAAU8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,cACjEqb,KAAMppB,KAAK8D,UAAUmF,YAAY,WAAY8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,gBACnEqb,KAAMppB,KAAK8D,UAAUmF,YAAY,OAAQ8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,YAC/Dqb,KAAMppB,KAAK8D,UAAUmF,YAAY,OAAQ8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,YAC/Dqb,KAAMppB,KAAK8D,UAAUmF,YAAY,OAAQ8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,YAC/Dqb,KAAMppB,KAAK8D,UAAUmF,YAAY,cAAe8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,oBAGlB,IAArD3O,EAAK8I,WAAW0L,cAAc1O,QAAQ,UAC3Cu0E,EAAY/5E,KAAKM,KAAK85E,kBAAkB16E,IAGxCm6E,EAAa75E,KAAKM,KAAK85E,kBAAkB16E,IAGxB,gBAATA,IACZo6E,EAAY95E,KAAKN,GAGzB,GAAIw6E,EAAez6E,OAAS,EAAG,CAC3B,GAAI46E,GAAiB/5E,KAAK85E,kBAAkB,YAC5CC,GAAe9nE,MAAQ2nE,EACvBF,EAASh6E,KAAKq6E,GAElB,GAAIN,EAAYt6E,OAAS,EAAG,CACxB,GAAI66E,GAAmBh6E,KAAK85E,kBAAkB,SAC9CE,GAAiB/nE,MAAQwnE,EACzBE,EAASj6E,KAAKs6E,GAElBh6E,KAAKw0B,aAAa2C,oBAClBgQ,MAAM/jC,UAAU1D,KAAK4L,MAAMtL,KAAKw0B,aAAa2C,iBAAkBuiD,GAC/DvyC,MAAM/jC,UAAU1D,KAAK4L,MAAMtL,KAAKw0B,aAAa2C,iBAAkBoiD,GAC/DpyC,MAAM/jC,UAAU1D,KAAK4L,MAAMtL,KAAKw0B,aAAa2C,iBAAkBwiD,GAC/DxyC,MAAM/jC,UAAU1D,KAAK4L,MAAMtL,KAAKw0B,aAAa2C,iBAAkBqiD,KAGvExN,EAAU5oE,UAAUy2E,gBAAkB,WAClC,OAAQ,eAAgB,SACpB,WAAY,aAAc,eAAgB,aAAc,iBAAkB,kBAC1E,YAAa,oBAErB7N,EAAU5oE,UAAU02E,kBAAoB,SAAU16E,GAC9C,GAAI66E,EACJ,QAAQ76E,GACJ,IAAK,YACD66E,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,aAAc4jB,OAAQ,+CACvD9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,aAE1B,MACJ,KAAK,kBACDksE,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,mBAAoB4jB,OAAQ,qBAC7D9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,mBAE1B,MACJ,KAAK,eACDksE,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,gBAAiB4jB,OAAQ,qBAC1D9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,qBAAsBkvC,QAASi9B,oBAA2B35C,EAEpF,MACJ,KAAK,SACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,UAAW4jB,OAAQ,qBACpD9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,aAAckvC,QAASk9B,sBAA6B55C,EAE9E,MACJ,KAAK,aACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,OAAQ8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,OAC/DkvC,QAASm9B,0BAA4B75C,EAEzC,MACJ,KAAK,eACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,SAAU8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,SACjEkvC,QAASo9B,4BAA8B95C,EAE3C,MACJ,KAAK,aACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,OAAQ8E,GAAI/N,KAAKyrB,QAAQ1d,GAAK,OAC/DkvC,QAASq9B,0BAA4B/5C,EAEzC,MACJ,KAAK,SACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,UAAW4jB,OAAQ,mCACpD9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,UAAWkvC,QAASs9B,sBAA6Bh6C,EAE3E,MACJ,KAAK,WACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,YAAa4jB,OAAQ,mCACtD9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,YAAakvC,QAASu9B,wBAA+Bj6C,EAE/E,MACJ,KAAK,iBACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,aAAc4jB,OAAQ,4BACvD9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,WAAYkvC,QAASw9B,oBAAqBl6C,EAEpE,MACJ,KAAK,kBACD05C,GACI7wD,KAAMppB,KAAK8D,UAAUmF,YAAY,cAAe4jB,OAAQ,4BACxD9e,GAAI/N,KAAKyrB,QAAQ1d,GAAK,YAAakvC,QAASy9B,qBAAsBn6C,GAQ9E,MAJAvgC,MAAK2sE,aAAavtE,IACdgqB,KAAM6wD,EAAS7wD,KAAMrb,GAAIksE,EAASlsE,GAClC8e,OAAQotD,EAASptD,OAAQowB,QAASg9B,EAASh9B,SAExCj9C,KAAK2sE,aAAavtE,IAG7B4sE,EAAU5oE,UAAUwqE,eAAiB,WACjC5tE,KAAKktE,aAAeC,YAAU/pE,UAAU8tB,QACxClxB,KAAKm1B,aAAc,EACnBn1B,KAAKuyB,eAAgB3yB,iBAAmB,GACxCI,KAAK64C,iBACDC,SAAU,EAAGQ,WAAY,EAAGF,gBAAiB,EAC7CK,kBAAmB,EAAGnuB,IAAK,EAAGC,KAAM,EAAGshD,iBAAmBp0B,UAAW,GAAI/+B,SAAU,IAEvF1Z,KAAKg5B,cAAgBh5B,KAAKw0B,aAAawE,cAAgBh5B,KAAKw0B,aAAawE,cAAcpN,KAAK5rB,UAAQE,GACpGF,KAAKk5B,eAAiBl5B,KAAKw0B,aAAa0E,eAAiBl5B,KAAKw0B,aAAa0E,eAAetN,KAAK5rB,UAAQE,GACvGF,KAAK44B,SAAW54B,KAAKw0B,aAAaoE,SAAW54B,KAAKw0B,aAAaoE,SAAShN,KAAK5rB,UAAQE,GACrFF,KAAK84B,WAAa94B,KAAKw0B,aAAasE,WAAa94B,KAAKw0B,aAAasE,WAAWlN,KAAK5rB,UAAQE,GAC3FF,KAAKo5B,uBAAyBp5B,KAAKw0B,aAAa4E,uBAC5Cp5B,KAAKw0B,aAAa4E,uBAAuBxN,KAAK5rB,UAAQE,GAC1DF,KAAKs5B,iBAAmBt5B,KAAKw0B,aAAa8E,iBAAmBt5B,KAAKw0B,aAAa8E,iBAAiB1N,KAAK5rB,UAAQE,GAC7GF,KAAKm5B,yBAA2Bn5B,KAAKw0B,aAAa2E,yBAC9Cn5B,KAAKw0B,aAAa2E,yBAAyBvN,KAAK5rB,UAAQE,GAC5DF,KAAKq5B,mBAAqBr5B,KAAKw0B,aAAa6E,mBACxCr5B,KAAKw0B,aAAa6E,mBAAmBzN,KAAK5rB,UAAQE,GACtDF,KAAKw4B,gBAAkBx4B,KAAKw0B,aAAagE,gBAAkBx4B,KAAKw0B,aAAagE,gBAAgB5M,KAAK5rB,UAAQE,GAC1GF,KAAKy4B,WAAaz4B,KAAKw0B,aAAaiE,WAAaz4B,KAAKw0B,aAAaiE,WAAW7M,KAAK5rB,UAAQE,GAC3FF,KAAK04B,WAAa14B,KAAKw0B,aAAakE,WAAa14B,KAAKw0B,aAAakE,WAAW9M,KAAK5rB,UAAQE,GAC3FF,KAAK26E,oBAAsB36E,KAAKw0B,aAAaomD,aAAe56E,KAAKw0B,aAAaomD,iBAAe16E,GAC7FF,KAAK25B,SAAW35B,KAAKw0B,aAAa4D,aAAep4B,KAAKw0B,aAAa4D,iBAAel4B,GAClFF,KAAKs4B,eAAiBt4B,KAAKw0B,aAAa8D,eAAiBt4B,KAAKw0B,aAAa8D,mBAAiBp4B,GAC5FF,KAAKg4B,YAAch4B,KAAKw0B,aAAawD,YAAch4B,KAAKw0B,aAAawD,gBAAc93B,GACnFF,KAAKk4B,cAAgBl4B,KAAKw0B,aAAa0D,cAAgBl4B,KAAKw0B,aAAa0D,kBAAgBh4B,GACzFF,KAAK66E,mBAAqB76E,KAAKg/C,cAAcoI,cAAgBpnD,KAAKg/C,cAAcoI,kBAAgBlnD,GAChGF,KAAK86E,YAAc96E,KAAKg/C,cAAcqI,OAASrnD,KAAKg/C,cAAcqI,WAASnnD,GAC3EF,KAAK+6E,UAAY/6E,KAAKg/C,cAAcsI,KAAOtnD,KAAKg/C,cAAcsI,SAAOpnD,GACrEF,KAAKg7E,aAAeh7E,KAAKg/C,cAAcuI,QAAUvnD,KAAKg/C,cAAcuI,YAAUrnD,GAC9EF,KAAKi7E,qBAAuBj7E,KAAKg/C,cAAcwI,gBAAkBxnD,KAAKg/C,cAAcwI,oBAAkBtnD,GACtGF,KAAK03B,iBAAmB13B,KAAKw0B,aAAakD,iBAAmB13B,KAAKw0B,aAAakD,qBAAmBx3B,GAClGF,KAAK23B,gBAAkB33B,KAAKw0B,aAAamD,gBAAkB33B,KAAKw0B,aAAamD,oBAAkBz3B,GAC3D,OAAhCF,KAAKw0B,aAAagD,WAClBx3B,KAAKuyB,eAAgBiC,cAAgBgD,UAAWx3B,KAAKq0B,WAAa,GAAK,MAAQ,GAEnFr0B,KAAKyrB,QAAQgB,MAAMoB,OAAS,OACxB7tB,KAAK81B,uBACL91B,KAAKk7E,oBAAmB,GACpBl7E,KAAK62B,kBACLu2C,EAAY1vC,OAAOE,GAEnB59B,KAAK82B,gBACLs2C,EAAY1vC,OAAOgO,GAEnB1rC,KAAKq7C,aAAaC,cAClB8xB,EAAY1vC,OAAOmgB,KAG3B79C,KAAK4sE,wBAA0B5sE,KAAKw0B,aAAa0C,gBACa,QAA1Dl3B,KAAKw0B,aAAa6C,kBAAkBiS,mBACS,SAA7CtpC,KAAKw0B,aAAa6C,kBAAkBgS,MAAgE,aAA7CrpC,KAAKw0B,aAAa6C,kBAAkB1vB,KAC/D,UAA5B3H,KAAK8iD,cAActmB,OACnBx8B,KAAKm7E,YAAc,GAAIx8B,KAE3B3+C,KAAKq7B,YAAcr7B,KAAKq7B,YAAcr7B,KAAKq7B,YAA2C,SAA5Br7B,KAAK8iD,cAActmB,KACzEx8B,KAAK8iD,cAAcC,QAAU/iD,KAAK8iD,cAActmB,MAKxDwvC,EAAU5oE,UAAU83E,mBAAqB,SAAU9zD,GAC/C,GAAIpnB,KAAK81B,qBAAsB,CAC3B,GAAIujB,GAAY,EACZX,EAAY,CACZ14C,MAAKkvB,mBAAmBxsB,OAAOvD,OAAS,GAAuB,UAAlBa,KAAKs0B,WACR,QAAtCt0B,KAAKkvB,mBAAmBtuB,UACxB83C,EAAY14C,KAAKkvB,mBAAmBxsB,OAAOvD,OAG3Ck6C,EAAYr5C,KAAKkvB,mBAAmBxsB,OAAOvD,OAGnD,IAAIi8E,GAAiBp7E,KAAK8kC,mBACtB1gB,OAAMg3D,KACNA,EAAiBp7E,KAAKyrB,QAAQ8T,cAElCv/B,KAAKyG,cACDyZ,kBAAmBkH,EAAS,EAAIpnB,KAAKyG,aAAayZ,kBAClDJ,eAAgBsH,EAAS,EAAIpnB,KAAKyG,aAAaqZ,eAC/CK,WAAYrX,KAAKC,MAAMD,KAAK07B,MAAOxkC,KAAKq7E,mBACpCr7E,KAAKw0B,aAAa8P,aAAe,GAAK+U,GAC1Ct5B,QAASjX,KAAKC,KAAKD,KAAK07B,MAAM,EAAmBxkC,KAAKw0B,aAAagD,WAAakhB,MAS5FszB,EAAU5oE,UAAUunB,OAAS,WACzB,GAAIuhD,GAAUlsE,IACdA,MAAKs7E,eAAiBt7E,KAAKu7E,eAAev7E,KAAKy6B,cAC3Cz6B,KAAKw7E,gBACLC,iBAAgB5uD,OAAQ7sB,KAAKyrB,QAAS0hB,SAAUntC,KAAKw7E,iBAAmBx7E,KAAKosB,eAG7EqvD,iBAAgB5uD,OAAQ7sB,KAAKyrB,SAAWzrB,KAAKosB,cAEjD,IAAIsvD,IACAxsD,mBAAoBlvB,KAAKkvB,mBACzBiS,UAAWzG,iBAAax6B,GAAYF,KACpC+D,cAEJ/D,MAAK45B,QjBtyBK,OiBsyBgB8hD,EAAU,SAAUh4C,GACtChJ,eACAgJ,EAAaxU,mBAAmB5rB,WAAa4oE,EAAQh9C,mBAAmB5rB,YAE5E4oE,EAAQh9C,mBAAqBwU,EAAaxU,mBAC1Cg9C,EAAQnoE,WAAa2/B,EAAa3/B,WAClCmoE,EAAQyP,cACRzP,EAAQ15C,OjBhsBU,uBiBisBlB05C,EAAQ15C,OjB3sBK,mBiB4sBT05C,EAAQ73C,YACR63C,EAAQj2B,kBAAkBtrB,SAE9BuhD,EAAQ15C,OjB3rBK,qBiB6rBbkI,cACA16B,KAAK47E,kBAQb5P,EAAU5oE,UAAU+zC,kBAAoB,WACpCn3C,KAAK21B,GjB3tBY,eiB2tBW31B,KAAK67E,aAAc77E,MAC/CA,KAAK21B,GAAGmmD,EAAkB97E,KAAK6qD,gBAAiB7qD,MAChDA,KAAK21B,GAAG4F,EAAqBv7B,KAAK+7E,eAAgB/7E,OAOtDgsE,EAAU5oE,UAAUm3C,qBAAuB,WACvCv6C,KAAKw6C,IjBruBY,eiBquBYx6C,KAAK67E,cAClC77E,KAAKw6C,IAAIshC,EAAkB97E,KAAK6qD,iBAChC7qD,KAAKw6C,IAAIjf,EAAqBv7B,KAAK+7E,iBAMvC/P,EAAU5oE,UAAUs+C,eAAiB,WACjC,GAAIs6B,IAAa,qBAAsB,cAAe,eAAgB,gBACtE,OAAOh8E,MAAKi8E,aAAaD,IAO7BhQ,EAAU5oE,UAAU84E,gBAAkB,SAAUC,GAC5C,GAAIC,GAAY5zD,KAAKC,MAAM0zD,EAC3Bn8E,MAAKuyB,eACDiC,aAAc4nD,EAAU5nD,aACxB50B,YAAaw8E,EAAUx8E,YACvBo/C,cAAeo9B,EAAUp9B,gBAC1B,GACHh/C,KAAKkvB,mBAAqBktD,EAAUltD,oBAOxC88C,EAAU5oE,UAAUgvB,cAAgB,WAChC,MAAO,aAQX45C,EAAU5oE,UAAUw1E,KAAO,SAAUyD,GACjCr8E,KAAKg1B,KAAK4jD,KAAKyD,IAiBnBrQ,EAAU5oE,UAAUk5E,kBAAoB,SAAUC,EAASC,GACvD,IAAK,GAAIv9E,GAAK,EAAGC,EAAKI,OAAOC,KAAKg9E,GAAUt9E,EAAKC,EAAGC,OAAQF,IAExD,OADWC,EAAGD,IAEV,IAAK,qBACL,IAAK,oBACL,IAAK,oBACL,IAAK,eACD,GAAIs9E,EAAQrtD,oBAAyE,IAAnD5vB,OAAOC,KAAKg9E,EAAQrtD,oBAAoB/vB,QACnEo9E,EAAQrtD,mBAAmB1pB,cAAe,CAC7C,GAAIA,GAAgB2G,YAAWnM,KAAKkvB,mBAAmB1pB,cAAe,MAAM,GACxEzG,EAAOZ,EAAUW,cAAckB,KAAKy8E,eACpCn5E,EAAa6I,YAAWnM,KAAK08E,aAAc,MAAM,EACrDp5E,GAAWA,WAAavE,GACgC,IAApDw9E,EAAQrtD,mBAAmB1pB,cAAcrG,QACzCo9E,EAAQrtD,mBAAmB1pB,cAAcrG,OAAS,KAClDmE,EAAWkC,cACP+2E,EAAQrtD,mBAAmB1pB,cAAcrG,OAAS,EAAIqG,KAC1DxF,KAAKuyB,eAAgBrD,mBAAoB5rB,IAAc,IAG/DtD,KAAKwyB,OjBpzBA,kBiBqzBL,MACJ,KAAK,cACL,IAAK,gBACL,IAAK,SACL,IAAK,QACDxyB,KAAKwyB,OAAOspD,KACZ,MACJ,KAAK,eACD97E,KAAKu5B,iBAAmBgjD,EAAQ/nD,aAChCx0B,KAAK05B,aAAawE,qBAClBl+B,KAAK4sE,wBAA0B5sE,KAAKw0B,aAAa0C,gBACa,QAA1Dl3B,KAAKw0B,aAAa6C,kBAAkBiS,mBACS,SAA7CtpC,KAAKw0B,aAAa6C,kBAAkBgS,MAAgE,aAA7CrpC,KAAKw0B,aAAa6C,kBAAkB1vB,IAC/F,MACJ,KAAK,gBACD3H,KAAKm7E,YAAYp8B,UAAU/+C,KAAMA,KAAKg/C,cACtC,MACJ,KAAK,SACL,IAAK,eACL,IAAK,YACGh/C,KAAKglD,SACLhlD,KAAKglD,QAAQ3xB,UAEjB8U,EAAO/kC,UAAU8tB,QAAQ2J,KAAK76B,MAC9BA,KAAK27E,aACL,MACJ,KAAK,qBACD37E,KAAKoB,mBAAqBm7E,EAAQn7E,mBAClCpB,KAAKiyB,kBACL,MACJ,KAAK,kBACGjyB,KAAKyrB,QAAQkG,cAAc,oBAC3B3xB,KAAKyrB,QAAQkG,cAAc,mBAAmB2B,SAElDtzB,KAAK6qD,iBACL,MACJ,KAAK,sBACD7qD,KAAK28E,gBAAgBhyD,QACrB,MACJ,KAAK,cACD3qB,KAAK+tE,eACL,MACJ,KAAK,UACG/tE,KAAK48E,eACL58E,KAAK48E,cAAcC,mBAMvC7Q,EAAU5oE,UAAUm4E,eAAiB,SAAUpuC,GAC3C,GAAIA,EACA,IACI,GAAInhB,SAAS8P,iBAAiBqR,GAAUhuC,OACpC,MAAO29E,WAAQ9wD,SAAS2F,cAAcwb,GAAUjhB,UAAU4tB,QAGlE,MAAOg1B,GACH,MAAOgO,WAAQ3vC,KAK3B6+B,EAAU5oE,UAAU03B,gBAAkB,WAClC,MAAO96B,MAAKs7E,gBAOhBtP,EAAU5oE,UAAUynD,gBAAkB,WACT,UAArB7qD,KAAKq7B,aAEDr7B,KAAKy6B,cAAgBC,cACrBqiD,sBAAoB/8E,KAAKyrB,QAAQ1d,GAAK,gBAAiB,gBAG3D/N,KAAKm7E,cACLn7E,KAAKm7E,YAAY9rD,aAAervB,KAAKqvB,aACrCrvB,KAAKm7E,YAAYp8B,UAAU/+C,KAAMA,KAAKg/C,eAClCh/C,KAAKorB,WAAaprB,KAAKm/C,OACvBrK,YAAU90C,KAAKm/C,MAAM1zB,ShBt+BT,WgBy+BhBzrB,KAAKg1C,eAAiBh1C,KAAKm0B,mBAC3Bn0B,KAAKwyB,OAAOC,EAAiBzyB,MACzBA,KAAKg9E,sBAAwBh9E,KAAKmyB,yBAClCnyB,KAAKg9E,qBAAqBC,iBAAmB9wE,YAAWnM,KAAKkvB,mBAAoB,MAAM,KAG3FlvB,KAAK81B,uBACL91B,KAAKk9E,oBAAsB,GAAInmC,IAAc/2C,OAEjB,UAA5BA,KAAK8iD,cAActmB,MACfx8B,KAAKkgC,oBACLlgC,KAAKygC,qBAAsBzgC,KAAKkgC,kBAAkBi9C,0BACvCn9E,KAAKkgC,kBAAkBk9C,cAClCp9E,KAAKijC,wBAAyBjjC,KAAKkgC,kBAAkBm9C,6BAC1Cr9E,KAAKkgC,kBAAkBk9C,cAClCp9E,KAAK8gC,uBAAwB9gC,KAAKkgC,kBAAkBo9C,0BACzCt9E,KAAKkgC,kBAAkBk9C,cAClCp9E,KAAK6gC,yBAA0B7gC,KAAKkgC,kBAAkBq9C,4BAC3Cv9E,KAAKkgC,kBAAkBk9C,cAClCp9E,KAAKw9E,2BAELx9E,KAAKm8B,mBAAqBn8B,KAAKq7C,aAAaC,gBAC5Ct7C,KAAKy9E,mBAAqB,GAAI5/B,IAAa79C,OAE/CA,KAAK05B,aAAe,GAAInG,GAAOvzB,MAC/BA,KAAK05B,aAAa/O,UAEb3qB,KAAKg1B,MACV1B,SAAOtzB,KAAKg1B,KAAKvJ,SAErBzrB,KAAK45B,QjBn/BU,aiBo/BX55B,KAAKwtE,4BACLxtE,KAAK4pC,gBAAgB5pC,KAAKJ,aAE1BI,KAAKgjD,aAC2B,SAA5BhjD,KAAK8iD,cAActmB,MAAmBx8B,KAAKm/C,OAASn/C,KAAKg1B,OAChC,UAArBh1B,KAAKq7B,aACLr7B,KAAKg1B,KAAKvJ,QAAQgB,MAAME,QAAU,GAClC3sB,KAAKm/C,MAAM1zB,QAAQgB,MAAME,QAAU,SAGnC3sB,KAAKg1B,KAAKvJ,QAAQgB,MAAME,QAAU,OAClC3sB,KAAKm/C,MAAM1zB,QAAQgB,MAAME,QAAU,KAI3C3sB,KAAK48E,gBACD58E,KAAKg1C,eAAiBh1C,KAAKyrB,QAAQkG,cAAc,IAAM3xB,KAAKyrB,QAAQ1d,GAAK,qBACzE/N,KAAKyrB,QAAQkG,cAAc,IAAM3xB,KAAKyrB,QAAQ1d,GAAK,mBAAmB0e,MAAME,QAAU,QAEtF3sB,KAAK48E,eAA+C,QAA9B58E,KAAK48E,cAAcjiE,QAAkD,SAA9B3a,KAAK48E,cAAcjiE,QAC/C,WAA9B3a,KAAK48E,cAAcjiE,OACtB3a,KAAKgtE,YAAa,EAGlBhtE,KAAK48E,cAAcjiE,OAAS,KAUxCqxD,EAAU5oE,UAAU6uB,iBAAmB,SAAUyrD,GAC7C1kC,cAAYh5C,KAAKyrB,QACjB,IAAI8tB,GAAQv5C,KAGR29E,EAAWr+E,OAAOC,KAAKg6C,EAAM4yB,cAAchtE,OAAS,EACpDy+E,EAAat+E,OAAOC,KAAKg6C,EAAM6yB,gBAAgBjtE,OAAS,EACxD0+E,EAAcv+E,OAAOC,KAAKg6C,EAAMvnB,qBAAqB7yB,OAAS,EAC9D2+E,EAAex+E,OAAOC,KAAKg6C,EAAM8yB,mBAAmBltE,OAAS,CAEjE,IADAo6C,EAAM2hC,oBAAmB,GACF,UAAnB3hC,EAAMjlB,UAAwBilB,EAAMzjB,uBAAyB6nD,GAAYC,GAAcC,GAAeC,GAClGH,IACApkC,EAAMhnB,eAAgBrD,oBAAsB/oB,mBAAqBG,WAAY,OAAU,GACvFizC,EAAMlqB,aAAazV,OAAO2/B,EAAM4yB,cAChC5yB,EAAM4yB,iBAEN0R,IACAtkC,EAAMlqB,aAAajV,cAAcm/B,EAAMvnB,qBACvCunB,EAAMvnB,wBAEN8rD,IACAvkC,EAAMlqB,aAAahV,gBAAgBk/B,EAAM8yB,mBACzC9yB,EAAM8yB,sBAENuR,IACArkC,EAAMlqB,aAAatV,SAASw/B,EAAM6yB,eAAgB7yB,EAAMrqB,oBACxDqqB,EAAM6yB,mBAEV7yB,EAAMhnB,eAAgB3yB,YAAa25C,EAAMlqB,aAAazvB,cAAe,OAGrE,IAAuB,SAAnB25C,EAAMjlB,SAAqB,CAEvB/wB,GACA8lC,KAAM,GACN3iC,eAAgB6yC,EAAMhlB,iBAAiBhnB,UACvCioD,mBAAoBjc,EAAMhlB,iBAAiBqhC,cAC3CnvD,aAAc8yC,EAAM9yC,aACpBrF,mBAAoBm4C,EAAMn4C,mBAC1BuF,eAAiB4yC,EAAMpd,mBAAqBod,EAAM8B,aAAaC,aAC/Dx3C,UAAWy1C,EAAMz1C,UAEjBg6E,IAAgBH,GAChBpkC,EAAMhlB,iBAAiB7tB,eAAiB6yC,EAAMhlB,iBAAiBhnB,UAC/DgsC,EAAMhlB,iBAAiBihC,mBAAqBjc,EAAMhlB,iBAAiBqhC,cAC/DkoB,GACAvkC,EAAMhlB,iBAAiBwwC,iBAAiBxrB,EAAMrqB,mBAAoBqqB,EAAM8yB,mBACxE9yB,EAAM8yB,uBAGN9yB,EAAMhlB,iBAAiB3a,OAAO2/B,EAAMrqB,oBACpCqqB,EAAM4yB,kBAIV5yB,EAAMhlB,iBAAiBlxB,aAAak2C,EAAMrqB,mBAAoB3rB,GAElEg2C,EAAMhnB,eAAgB3yB,YAAa25C,EAAMhlB,iBAAiB30B,cAAe,OAExE,CAED,GAAI2D,IACA8lC,KAAM,GACN3iC,eAAgB6yC,EAAMlqB,aAAa9hB,UACnC9G,aAAc8yC,EAAM9yC,aACpBrF,mBAAoBm4C,EAAMn4C,mBAC1BuF,eAAiB4yC,EAAMpd,mBAAqBod,EAAM8B,aAAaC,aAC/Dx3C,UAAWy1C,EAAMz1C,UACjBC,WAAYw1C,EAAMx1C,WAEtBw1C,GAAMlqB,aAAahsB,aAAak2C,EAAMrqB,mBAAoB3rB,EAAkBg2C,EAAM91C,iBAAiBmoB,KAAK2tB,IACxGA,EAAMhnB,eAAgB3yB,YAAa25C,EAAMlqB,aAAazvB,cAAe,GAG7E,GAAIk7C,IACA5rB,mBAAoBqqB,EAAMrqB,mBAC1BtvB,YAAa86B,aAAa6e,EAAMlqB,aAAazvB,YAAc25C,EAAM35C,YAErE25C,GAAM3f,QjBxnCe,kBiBwnCiBkhB,EAAW,SAAUpX,GACvD6V,EAAMrqB,mBAAqBwU,EAAaxU,mBACjB,SAAnBqqB,EAAMjlB,UACNilB,EAAMhlB,iBAAiB30B,YAAc8jC,EAAa9jC,YAClD25C,EAAMhnB,eAAgB3yB,YAAa25C,EAAMhlB,iBAAiB30B,cAAe,KAGzE25C,EAAMlqB,aAAazvB,YAAc8jC,EAAa9jC,YAC9C25C,EAAMhnB,eAAgB3yB,YAAa25C,EAAMlqB,aAAazvB,cAAe,IAEzE25C,EAAMrmB,YAAY7D,aAAkC,SAAnBkqB,EAAMjlB,SAAsBilB,EAAMhlB,iBAAmBglB,EAAMlqB,aAC5FkqB,EAAMrmB,YAAYhE,mBAAqBqqB,EAAMrqB,mBAC7CqqB,EAAMsR,qBAadmhB,EAAU5oE,UAAU65B,YAAc,SAAU8gD,EAAuBC,EAAkBC,EAAUC,GACvFl+E,KAAK81B,qBACL91B,KAAKm+E,kBAAkB10C,cAAc,SAGrCzpC,KAAKg1B,KAAKiI,YAAY8gD,EAAuBC,EAAkBC,EAAUC,IAYjFlS,EAAU5oE,UAAU85B,UAAY,SAAU6gD,EAAuBC,EAAkBC,EAAUC,GACrFl+E,KAAK81B,qBACL91B,KAAKm+E,kBAAkB10C,cAAc,OAGrCzpC,KAAKg1B,KAAKkI,UAAU6gD,EAAuBC,EAAkBC,EAAUC,IAW/ElS,EAAU5oE,UAAU45B,UAAY,SAAUohD,EAAqBJ,EAAkBK,EAAQH,GACjFl+E,KAAK81B,qBACL91B,KAAKs+E,gBAAgB1uC,cAGrB5vC,KAAKg1B,KAAKgI,UAAUohD,EAAqBJ,EAAkBK,EAAQH,IAW3ElS,EAAU5oE,UAAUm7E,YAAc,SAAU52E,EAAMkiC,EAAU20C,EAAa5wD,EAAOC,GACxE7tB,KAAKm/C,OAASn/C,KAAKm/C,MAAMyG,cACzB5lD,KAAKm/C,MAAMs/B,aAAa3J,OAAOntE,EAAMkiC,EAAU20C,EAAa,KAAM5wD,EAAOC,IAMjFm+C,EAAU5oE,UAAUs7E,WAAa,WACzB1+E,KAAKm/C,OACLn/C,KAAKm/C,MAAMw/B,SAKnB3S,EAAU5oE,UAAUiW,QAAU,SAAUwT,EAAQ+xD,GAC5C,GAAIlkE,GAAa1a,KAAKkvB,mBAAmBnpB,eAAe,IAAM/F,KAAKkvB,mBAAmBnpB,eAAe,GAAG2U,UACpG1a,KAAKkvB,mBAAmBnpB,eAAe,GAAG2U,UAAY,KACtDjT,EAAY,GACZwC,EAAO,GACP0Q,EAAS,EAWb,IAVIikE,GACAn3E,EAAYm3E,EAAen3E,UAC3BwC,EAAO20E,EAAe9gE,KAAK7T,KAC3B0Q,EAASikE,EAAeruE,UAAY,KAAO,SAG3C9I,EAAYolB,EAAOhC,cAAcgE,aAAa,aAC9C5kB,EAAO4iB,EAAOhC,cAAc+Q,UAAUC,ShB5+B1B,gBgB4+BqD,MAAQ,SACzElhB,EAASkS,EAAO+O,UAAUC,SAASK,GAAgB,KAAO,QAExC,UAAlBl8B,KAAKs0B,SAAsB,CAC3B,GAAIyL,GAAc6+C,EAAiBA,EAAe9gE,KAC9C9d,KAAKqvB,aAAazvB,YAAYmhB,OAAO8L,EAAOhC,cAAcgE,aAAa,WAAW9N,OAAO8L,EAAOhC,cAAcgE,aAAa,mBAC3HrU,EAAaulB,EAAYvpB,UAAUC,UACnC5H,MAAM7O,KAAKqvB,aAAalpB,kBAAkBE,iBAAiBoU,KAAKC,GAChEgwC,GAAa,CACjB,IAAsD,IAAlD1qD,KAAKkvB,mBAAmBnpB,eAAe5G,OAEvCa,KAAKuyB,eAAgBrD,oBAAsBnpB,iBAAmBZ,KAAMsC,EAAWwK,OAAQuI,GAAaE,UAAWA,OAAkB,OAEhI,CACD,IAAK,GAAI6rB,GAAO,EAAGA,EAAOvmC,KAAKkvB,mBAAmBnpB,eAAe5G,OAAQonC,IAAQ,CAC7E,GAAIv6B,GAAQhM,KAAKkvB,mBAAmBnpB,eAAewgC,EAGnD,IAFA/rB,EAAaA,EAAW3L,MAAM6L,GAAWD,KAAKzO,EAAM0O,UAAY1O,EAAM0O,UAAYA,GAClFA,EAAY1O,EAAM0O,UAAY1O,EAAM0O,UAAY1O,EAAM0O,UAAYA,EAC9D1O,EAAM7G,OAASsC,EAAnB,CACIijD,GAAa,CACb,IAAIC,GAAW3+C,EAAMiG,MAAM/M,QAAQsV,EAC/BmwC,IAAY,EACZ3+C,EAAMiG,MAAM7M,OAAOulD,EAAU,GAG7B3+C,EAAMiG,MAAMvS,KAAK8a,IAOxBkwC,GACD1qD,KAAKkvB,mBAAmBnpB,eAAerG,MAAOyF,KAAMsC,EAAWwK,OAAQuI,GAAaE,UAAWA,IAGvGs+B,cAAYh5C,KAAKyrB,QACjB,IAAI8tB,GAAQv5C,KAERsZ,GACA7R,UAAWA,EAAW+S,WAAYA,EAAYE,UAAWA,EACzDzQ,KAAMA,EACN0Q,OAAQA,EACRolB,YAAaA,EAEjBwZ,GAAM3f,QjBjuCC,SiBkuCHgxB,UAAWtxC,EACX6nB,UAAWzG,iBAAax6B,GAAYq5C,IAEpCA,EAAMzjB,sBACNyjB,EAAMlqB,aAAatpB,eAAiBwzC,EAAMrqB,mBAAmBnpB,eAC7DwzC,EAAMlqB,aAAahW,QAAQC,IAG3BigC,EAAMlqB,aAAajoB,iBAAiBmyC,EAAMrqB,oBAE9CqqB,EAAMhnB,eAAgB3yB,YAAa25C,EAAMlqB,aAAazvB,cAAe,GACrE25C,EAAMsR,sBAIN7qD,MAAK6+E,YAAYp3E,EAAWwC,EAAM0Q,EAAQD,EAAWmS,EAAQ+xD,IAIrE5S,EAAU5oE,UAAUy7E,YAAc,SAAUp3E,EAAWwC,EAAM0Q,EAAQD,EAAWmS,EAAQ+xD,GACpF,GAAI7+C,GAAc6+C,EAAiBA,EAAe9gE,KAC9C9d,KAAKu0B,iBAAiB30B,YAAYmhB,OAAO8L,EAAOhC,cAAcgE,aAAa,WAAW9N,OAAO8L,EAAOhC,cAAcgE,aAAa,mBAC/HyS,EAAmB,QAATr3B,EAAiBjK,KAAKu0B,iBAAiB8M,WAAWtB,EAAYzvB,SACxEtQ,KAAKu0B,iBAAiB0qB,cAAclf,EAAYzvB,SAChDs6C,GACA3gD,KAAMA,EACN0Q,OAAQA,EACRlT,UAAWA,EACXiT,UAAWA,EACXF,WAAY8mB,EAAQE,gBACpBzB,YAAaA,GAGb8gB,EAAWvf,EAAQspB,UAAUjvC,IAAI,SAAUvc,GAAQ,MAAOA,GAAKwf,YAAc1Z,QAAQ66B,EAAYnhB,UAAU1W,WAC/G,IAAI0iD,GAAkC,SAArBA,EAAUjwC,OAAmB,CAC1C3a,KAAKu0B,iBAAiBmgC,YAAY30B,EAAY3vB,YAAckxB,EAAQxzB,QAAQ+yC,EAG5E,KAAK,GAFDxhD,GAASurD,EAAUpwC,WAAW3L,MAAM,MACpCsE,EAAS,GACJlO,EAAM,EAAGA,GAAO47C,EAAU57C,IAAO,CACtC,GACI6I,IADA9B,EAAQ3M,EAAO4F,IACC4J,MAAM,KAC1BsE,GAASA,GAAqB,KAAXA,EAAgB,KAAO,IAAMrF,EAAQA,EAAQ3O,OAAS,GAE7EyrD,EAAUpwC,WAAarH,CAEvB,KAAK,GADD2rE,MACK7/E,EAAK,EAAGC,EAAKc,KAAKkvB,mBAAmBnpB,eAAgB9G,EAAKC,EAAGC,OAAQF,IAAM,CAChF,GAAI+M,GAAQ9M,EAAGD,EACX+M,GAAM7G,OAASylD,EAAUnjD,WACzBq3E,EAAUp/E,KAAKsM,GAGvB,GAAI8yE,EAAU3/E,OAAS,EACf2/E,EAAU,GAAGpkE,YACbvH,EAASA,EAAOzE,QAAQ,MAAOowE,EAAU,GAAGpkE,aAGjC,IADHvc,EAAUgC,QAAQgT,EAAQ2rE,EAAU,GAAG7sE,QAE/C6sE,EAAU,GAAG7sE,MAAMvS,KAAKyT,OAG3B,CACD,GAAI4rE,IAAkB55E,KAAMylD,EAAUnjD,UAAWwK,OAAQkB,GAASuH,UAAW,KACxE1a,MAAKkvB,mBAAmBnpB,eAIzB/F,KAAKkvB,mBAAmBnpB,eAAerG,KAAKq/E,GAH5C/+E,KAAKkvB,mBAAmBnpB,gBAAkBg5E,GAMlD/+E,KAAKu0B,iBAAiBuwC,kBAAkB9kE,KAAKkvB,wBAE5C,OACMlvB,MAAKu0B,iBAAiBmgC,YAAY30B,EAAY3vB,WAGrD,KAAK,GAFDw0D,GAAY5kE,KAAKu0B,iBAAiB0vC,eAAerZ,EAAUpwC,WAAYulB,EAAa8gB,EAAU52C,GAEzFV,EAAK,EAAGC,EADNlK,OAAOC,KAAKqlE,GACSr7D,EAAKC,EAAOrK,OAAQoK,IAGhD,IAAK,GADDy1E,GAAWpa,EADLp7D,EAAOD,IAERzJ,EAAI,EAAGO,EAAML,KAAKkvB,mBAAmBnpB,eAAe5G,OAAQW,EAAIO,EAAKP,IAAK,CAE3EqT,EAAS6rE,GADTF,EAAY9+E,KAAKkvB,mBAAmBnpB,eAAejG,IAEzC4a,YACVvH,EAAS6rE,EAAStwE,QAAQ,MAAOowE,EAAUpkE,WAG/C,KAAK,GADDzI,MACKgtE,EAAU,EAAGA,EAAUH,EAAU7sE,MAAM9S,OAAQ8/E,IACH,IAA7CH,EAAU7sE,MAAMgtE,GAAS/5E,QAAQiO,KACjClB,EAAMA,EAAM9S,QAAU2/E,EAAU7sE,MAAMgtE,GAG9CH,GAAU7sE,MAAQA,EAI1B,IAAK,GADDlM,MACKgE,EAAK,EAAG6B,EAAK5L,KAAKkvB,mBAAmBnpB,eAAgBgE,EAAK6B,EAAGzM,OAAQ4K,KACtE1K,EAASuM,EAAG7B,IACLkI,MAAM9S,OAAS,GACtB4G,EAAerG,KAAKL,EAG5BW,MAAKuyB,eAAgBrD,oBAAsBnpB,eAAgBA,KAAoB,GAC/E/F,KAAKu0B,iBAAiBuwC,kBAAkB9kE,KAAKkvB,oBAEjDlvB,KAAKuyB,eAAgB3yB,YAAaI,KAAKu0B,iBAAiB30B,cAAe,GACvEI,KAAK6qD,mBAETmhB,EAAU5oE,UAAU24E,eAAiB,WAqBjC,GApByB,UAArB/7E,KAAKq7B,aAEDr7B,KAAKy6B,cAAgBC,cACrBqiD,sBAAoB/8E,KAAKyrB,QAAQ1d,GAAK,gBAAiB,gBAG/D/N,KAAKwsE,gBAAiB,EAClBxsE,KAAKg1C,cACL+D,cAAY/4C,KAAKg9E,qBAAqBkC,yBAEjCl/E,KAAKk/E,yBACVnmC,cAAY/4C,KAAKk/E,yBAEhBl/E,KAAKo7B,YAKNp7B,KAAKo7B,aAAc,GAJnB2d,cAAY/4C,KAAKyrB,SACjBzrB,KAAK45B,QjBl3CM,ciBu3CX55B,KAAKg1B,KAAM,CACX,GAAI5Z,GAA2B,UAAlBpb,KAAKs0B,SAAuBt0B,KAAKqvB,aAAervB,KAAKu0B,gBAClE,IAAIv0B,KAAK81B,sBAAwB1a,EAAQ,CACjCpb,KAAKyrB,QAAQkG,cAAc,uBAC1B3xB,KAAKyrB,QAAQkG,cAAc,qBAA8BA,cAAc,qBACxE3xB,KAAKm/E,WAAa/yD,gBAAc,OAASY,UhB99B/B,mBgB+9BVhtB,KAAKyrB,QAAQkG,cAAc,qBAA8BtF,YAAYrsB,KAAKm/E,aAE1En/E,KAAKyrB,QAAQkG,cAAc,sBAC1B3xB,KAAKyrB,QAAQkG,cAAc,oBAA6BA,cAAc,oBACvE3xB,KAAKk2B,iBAAmB9J,gBAAc,OAASY,UhBn+BrC,mBgBo+BVhtB,KAAKyrB,QAAQkG,cAAc,oBAA6BtF,YAAYrsB,KAAKk2B,mBAGzEl2B,KAAKk2B,iBACDl2B,KAAKyrB,QAAQkG,cAAc,oBAA6BA,cAAc,kBAE9E,IAAI0oB,GAAer6C,KAAKyrB,QAAQkG,cAAc,qBAA8BA,cAAc,YACtF2oB,EAAWt6C,KAAKw0B,aAAagD,UAAYpc,EAAOra,SAAW,GAAMs5C,EAAaD,YAC9EE,GAAUt6C,KAAK+5C,uBACf/5C,KAAK05C,oBAAsBY,EAAUt6C,KAAK+5C,qBAC1CO,EAAUt6C,KAAK+5C,qBAEnB,IAAII,GAAUn6C,KAAKw0B,aAAa8P,YAAclpB,EAAOta,YAC/Cd,KAAKg1B,KAAKjwB,QAAQ,GAAG6oB,KACvBusB,GAASn6C,KAAK+5C,uBACd/5C,KAAK25C,sBAAwBQ,EAASn6C,KAAK+5C,qBAC3CI,EAASn6C,KAAK+5C,sBAElB5jB,oBAAkBn2B,KAAKm/E,YACnBtxD,QAASysB,EAAU,GAAMA,EAAU,IAAO,KAC1C1sB,OAAQusB,EAAS,GAAMA,EAAS,IAAO,OAE3ChkB,oBAAkBn2B,KAAKk2B,kBACnBrI,OAAQ,EAAGD,OAAQusB,EAAS,GAAMA,EAAS,IAAO,MAEtD,IAAIilC,GAAOp/E,KAAKyrB,QAAQkG,cAAc,qBAClC4U,EAAOvmC,KAAKyrB,QAAQkG,cAAc,oBAClCoE,EAAO/1B,KAAKyrB,QAAQkG,cAAc,oBAClC0tD,EAAaD,EAAKvnC,UAAY73C,KAAK+5C,qBACnCqlC,EAAKztD,cAAc,IAAMqT,GAAWvY,MAAM2J,UAAUvnB,MAAM,KAAK,GAAGirC,SAC9DslC,EAAKvnC,UAAY73C,KAAK05C,oBAAuB15C,KAAK64C,gBAAgBO,gBAAkBgmC,EAAKvnC,WAAc,MAC3G+B,EAAcwlC,EAAK/oD,WAAar2B,KAAK+5C,qBACpCqlC,EAAKztD,cAAc,IAAMqT,GAAWvY,MAAM2J,UAAUvnB,MAAM,KAAK,GAAGirC,OAAS,IAC5E,eAAmBslC,EAAK/oD,WAAar2B,KAAK25C,sBACtC35C,KAAK64C,gBAAgBY,kBAAoB2lC,EAAK/oD,YAAe,KACrEF,qBAAkBoQ,EAAK5U,cAAc,aACjCyE,UAAW,iBAA2BipD,IAE1ClpD,oBAAkBipD,EAAKztD,cAAc,aACjCyE,UAAWwjB,EAAaylC,IAE5BlpD,oBAAkBJ,EAAKpE,cAAc,aACjCyE,UAAWwjB,EAAa,EAAI,QAGhC55C,KAAKm0B,iBACLn0B,KAAKyrB,QAAQgB,MAAMqZ,SAAW,QAC9B9lC,KAAKg1B,KAAKvJ,QAAQgB,MAAMqZ,SAAW,UAGnC9lC,KAAKyrB,QAAQgB,MAAMqZ,SAAW,QAC9B9lC,KAAKg1B,KAAKvJ,QAAQgB,MAAMqZ,SAAW,SAO3C,GAJA9lC,KAAKs/E,eACLt/E,KAAKkhC,aACLlhC,KAAKqqD,eAAgB,EAEjBrqD,KAAKy6B,cAAgBC,aAAY,CACjC,GAAI6kD,GAAYjgF,OAAOC,KAAKS,KAAK60B,mBACjC,IAAI0qD,EAAUpgF,OAAS,EAAG,CACtB,IAAK,GAAIF,GAAK,EAAGugF,EAAcD,EAAWtgF,EAAKugF,EAAYrgF,OAAQF,IAAM,CACrE,GAAI6e,GAAO0hE,EAAYvgF,GAEnBwgF,KACA/gD,EAAQ1+B,KAAK60B,mBAAmB/W,GAChCE,EAAW+C,OAAO2d,EAAM7P,aAAa,kBACrCzQ,EAAW2C,OAAO2d,EAAM7P,aAAa,UACrC0b,EAAYvqC,KAAKJ,YAAYwe,GAAUJ,EAC3CyhE,GAAex1E,KAAOsgC,EAAUtgC,KACJ,WAAxBw1E,EAAex1E,MAA6C,QAAxBw1E,EAAex1E,MACnDw1E,EAAeh4E,UAAY8iC,EAAU/zB,UAAUvM,KAC/Cw1E,EAAevvE,cAAgBq6B,EAAUr6B,gBAGzCuvE,EAAeh4E,UAAY8iC,EAAUn6B,WACrCqvE,EAAevvE,cAAgBq6B,EAAUr6B,cACzCuvE,EAAephF,MAAQksC,EAAUlsC,OAGrCs8B,YAAUC,MAAMC,KAAK76B,KAAK86B,kBAAkB2kD,EAAgBz/E,KAAM,eAAgBA,KAAKyrB,QAAQ1d,GAAK,kBAAmB2wB,GAE3HghD,uBAAqB1/E,KAAKyrB,QAAQ1d,GAAK,gBAAiB,eAAgB/N,SAIpFgsE,EAAU5oE,UAAUk2E,WAAa,SAAU1uD,GACvC,GAAI5M,GAAW+C,OAAO6J,EAAKiC,OAAOgC,aAAa,kBAC3CzQ,EAAW2C,OAAO6J,EAAKiC,OAAOgC,aAAa,UAC3C/Q,EAAO9d,KAAKJ,YAAYwe,GAAUJ,EACtChe,MAAKglD,QAAQz3B,QAAU,EACvB,IAAIpf,GACA/D,EACAu1E,GAAW,CACf,IAAI7hE,GAA0B,SAAlB9d,KAAKs0B,SACTt0B,KAAKu0B,iBAAiBhnB,UAAUuQ,EAAK1N,cAErCjC,GADInC,EAAQhM,KAAKu0B,iBAAiBhnB,UAAUuQ,EAAK1N,aAC3B8tC,kBAAoBlyC,EAAMrE,KAAOqE,EAAMmC,cAC7D/D,EAAU4B,EAAM5B,QAChBu1E,GAAW,OAIf,IAAI7hE,GAAQ9d,KAAKqvB,aAAa9hB,UAAUuQ,EAAK1N,YAAa,CACtD,GAAIpE,GAAQhM,KAAKqvB,aAAa9hB,UAAUuQ,EAAK1N,WAC7CjC,GAAgBnC,EAAMmC,cACtB/D,EAAU4B,EAAM5B,QAChBu1E,GAAW,EAGf7hE,GAAQ6hE,EACR3/E,KAAKglD,QAAQz3B,QAAU,sDACnBvtB,KAAK8D,UAAUmF,YAAY,OAAS,kCACpCjJ,KAAK4/E,WAAWxhE,EAAU,GAC1B,qCACApe,KAAK8D,UAAUmF,YAAY,UAAY,kCACvCjJ,KAAK6/E,WAAW,EAAG7hE,EAAUI,GAAY,aAAmC,KAApBN,EAAK1N,WAAqB,6BAC/D,SAAlBpQ,KAAKs0B,SAAsB,GACvBt0B,KAAK8D,UAAUmF,YAAYkF,GAAiB,IAAMnO,KAAK8D,UAAUmF,YAAY,MAAQ,KAC1FmB,EAAU,mCACgB,MAAvB0T,EAAK5N,eAAgD,KAAvB4N,EAAK5N,cAClClQ,KAAK8D,UAAUmF,YAAY,WAAa6U,EAAK5N,eAAkB,aAAgB,IAGvF0a,EAAKwU,QAAS,GAGtB4sC,EAAU5oE,UAAUw8E,WAAa,SAAUxhE,EAAUJ,GAIjD,IAHA,GAAIF,GAAO9d,KAAKJ,YAAYwe,GAAUJ,GAClCnJ,EAAQiJ,EAAKjJ,MACbirE,EAAwB,cAAdhiE,EAAKnW,KAAuB3H,KAAK8D,UAAUmF,YAAY,cAAgB6U,EAAK5N,cACnF2E,EAAQ,OAAoB3U,KAAf4d,EAAKpS,OACrB0S,QAEmBle,MADnB4d,EAAO9d,KAAKJ,YAAYwe,GAAUJ,IACzBtS,OACDmJ,EAAQiJ,EAAKjJ,QACbirE,EAAUA,EAAU,MAAQhiE,EAAK5N,cACjC2E,GAAgB,EAI5B,OAAOirE,GAAQjxE,MAAM,OAAOyuC,UAAU7iC,KAAK,QAE/CuxD,EAAU5oE,UAAUy8E,WAAa,SAAUzhE,EAAUJ,EAAU+hE,GAI3D,IAHA,GAAIjiE,GAAO9d,KAAKJ,YAAY,GAAGoe,GAC3B/T,EAAO6T,EAAK7T,KACZ+1E,EAAwB,cAAdliE,EAAKnW,KAAuB3H,KAAK8D,UAAUmF,YAAY,cAAgB6U,EAAK5N,cAC1E,UAATjG,GAAoB81E,EAAQ3hE,GAC/BA,IACIpe,KAAKJ,YAAYwe,KAEjBnU,GADA6T,EAAO9d,KAAKJ,YAAYwe,GAAUJ,IACtB/T,KACM,QAAd6T,EAAKnW,MAAgC,cAAdmW,EAAKnW,MAAiC,UAATsC,IACpD+1E,EAAUA,EAAU,MAAQliE,EAAK5N,eAI7C,OAAO8vE,IAEXhU,EAAU5oE,UAAUu4E,YAAc,WAC1B37E,KAAKorB,UACL0pB,YAAU90C,KAAKyrB,SAAUw0D,GAGzBxpC,eAAaz2C,KAAKyrB,SAAUw0D,GAE5BjgF,KAAKq0B,WACLygB,YAAU90C,KAAKyrB,SAAUy0D,GAGzBzpC,eAAaz2C,KAAKyrB,SAAUy0D,IAGpClU,EAAU5oE,UAAU+8E,mBAAqB,SAAU3gD,GAC/B,IAAZA,EAAE4gD,MACFpgF,KAAKy7B,gBAAkB+D,EAAE3S,OAER,IAAZ2S,EAAE4gD,QACPpgF,KAAKy7B,gBAAkB+D,EAAE3S,QAE7B7sB,KAAKy7B,gBAAkB+D,EAAE3S,QAE7Bm/C,EAAU5oE,UAAUi9E,iBAAmB,SAAU7gD,GAI7C,GAHgB,IAAZA,EAAE4gD,QACFpgF,KAAKy7B,gBAAkB+D,EAAE3S,QAEzB7sB,KAAK4sE,wBAAyB,CAC9B5sE,KAAKysE,aAAc,EACnBzsE,KAAK0sE,WAAY,CACjB,IAAI4T,GAAWtgF,KAAKugF,SAAS/gD,EAAE3S,OAAQ,KACvC7sB,MAAKi0C,eAAeqsC,EAAU9gD,EAAGze,OAAOu/D,EAASzxD,aAAa,kBAAmB9N,OAAOu/D,EAASzxD,aAAa,WAC9G7uB,KAAKwgF,wBAAsBtgF,KAGnC8rE,EAAU5oE,UAAUq9E,iBAAmB,SAAUjhD,GAC7C,GAAIx/B,KAAK4sE,0BACLptC,EAAEuV,iBACE/0C,KAAKysE,aAAejtC,EAAE3S,QAAQ,CAC9B,GAAI+P,GAAM4C,EAAE3S,OACRhC,EAAgB7qB,KAAKugF,SAAS3jD,EAAK,KACnC58B,MAAKwgF,qBAAuBxgF,KAAKwgF,sBAAwB31D,GACzDA,EAAc+Q,UAAUC,SAAS2C,IACjCx+B,KAAKwgF,oBAAoB5kD,UAAUtI,OhB1oCtB,YgB2oCbtzB,KAAKwgF,oBAAoB5kD,UAAUtI,OAAOkL,GAC1Cx+B,KAAKwgF,oBAAsB31D,IAG3B7qB,KAAKwgF,oBAAsB31D,EAC3BA,EAAc+Q,UAAUI,IhBhpCX,YgBipCbnR,EAAc+Q,UAAUI,IAAIwC,IAEhCx+B,KAAK05B,aAAaC,aAI9BqyC,EAAU5oE,UAAUs9E,eAAiB,SAAUlhD,GACvCx/B,KAAK4sE,0BACL5sE,KAAKysE,aAAc,EACnBzsE,KAAK0sE,WAAY,IAGzBV,EAAU5oE,UAAUm9E,SAAW,SAAU1zD,EAAQ45C,GAC7C,KAAO55C,EAAO45C,UAAYA,GAClB55C,EAAOhC,eACPgC,EAASA,EAAOhC,aAMxB,OAAOgC,IAEXm/C,EAAU5oE,UAAU06C,kBAAoB,SAAUte,GAC9B,IAAZA,EAAE4gD,MACFpgF,KAAKy7B,gBAAkB+D,EAAE3S,OAER,IAAZ2S,EAAE4gD,QACPpgF,KAAKy7B,gBAAkB+D,EAAE3S,OAE7B,IAAIA,GAAS2S,EAAE3S,MACf,KAAKA,EAAO+O,UAAUC,SAAS,iBAC3BhP,EAAO+O,UAAUC,SAAS,oBAC1BhP,EAAO+O,UAAUC,SAAS,iBAC1BhP,EAAO+O,UAAUC,SAAS,cAC1BhP,EAAO+O,UAAUC,SAAS,2BAC1BhP,EAAO+O,UAAUC,SAAS,iBAC1BhP,EAAO+O,UAAUC,SAAS,gBAC1BhP,EAAO+O,UAAUC,SAAS,kBAAoB77B,KAAKoB,oBAAwC,UAAlBpB,KAAKs0B,SAAsB,CACpG,GAAIsI,GAAM,IAaV,IAZI/P,EAAO+O,UAAUC,SAAS,iBAAmBhP,EAAO+O,UAAUC,SAAS,iBACpEhP,EAAO+O,UAAUC,SAAS,aAC7Be,EAAM/P,EAEDA,EAAO+O,UAAUC,SAAS,2BAA6BhP,EAAO+O,UAAUC,SAAS,oBACtFhP,EAAO+O,UAAUC,SAAS,gBAAkBhP,EAAO+O,UAAUC,SAAS,gBACtEe,EAAM/P,EAAOhC,cAERgC,EAAO+O,UAAUC,SAAS,kBAC/Be,EAAM/P,EAAOhC,cAAcA,eAE/B7qB,KAAK2gF,YAAY9zD,EAAQ2S,GACpB5C,EAAI/R,cAAcA,cAAcA,cAAcA,cAAc+Q,UAAUC,SAAS,oBACvC,WAAtC77B,KAAKkvB,mBAAmBtuB,WAA4Bg8B,EAAI/R,cAAc+Q,UAAUC,SAAS,UACtD,QAAtC77B,KAAKkvB,mBAAmBtuB,YAAyBg8B,EAAIhB,UAAUC,SAAS,iBACxEe,EAAIhB,UAAUC,SAAS,WAAY,CAEnC,GAAI7d,GAAW+C,OAAO6b,EAAI/N,aAAa,kBACnCzQ,EAAW2C,OAAO6b,EAAI/N,aAAa,SACG,SAAtC7uB,KAAKkvB,mBAAmBtuB,YAAwBZ,KAAKkvB,mBAAmBxsB,OAAOvD,OAAS,GAAKa,KAAKkvB,mBAAmBhrB,uBACrHka,EAAyD,UAA9Cpe,KAAKJ,YAAYwe,GAAUJ,GAAUrW,KAAmByW,EAAYA,EAAW,EAE/C,WAAtCpe,KAAKkvB,mBAAmBtuB,YAA2BZ,KAAKkvB,mBAAmBxsB,OAAOvD,OAAS,GAAKa,KAAKkvB,mBAAmBhrB,yBAC7H8Z,EAAY+C,OAAO6b,EAAI/N,aAAa,kBAAoB9N,OAAO6b,EAAI/N,aAAa,iBAAmB,EACnGzQ,EAAWpe,KAAKqvB,aAAanX,cAAc/Y,OAAS,GAExDa,KAAKuyB,eACDrD,oBACI/oB,mBACII,YAAcwa,OAAO6b,EAAI/N,aAAa,kBAClC9N,OAAO6b,EAAI/N,aAAa,iBAAmB,EAC/CzoB,UAAmE,eAAxDpG,KAAKkvB,mBAAmB/oB,kBAAkBC,UAA6B,YAAc,aAChGE,WAAYtG,KAAKJ,YAAYwe,GAAUJ,GAAUxH,UAAUC,UAC3DpQ,gBAAiBrG,KAAKkvB,mBAAmB/oB,kBAAkBE,gBACvDrG,KAAKkvB,mBAAmB/oB,kBAAkBE,gBAAkB,QAGzE,GAEH2yC,cAAYh5C,KAAKyrB,QACjB,IAAI8tB,GAAQv5C,IAGZ,IADAu5C,EAAMlqB,aAAajuB,oBAAqB,EACpCm4C,EAAMzjB,qBAAsB,CAC5B,GAAIyjB,EAAMrqB,mBAAmBjrB,cAAe,CACxC,IAAK,GAAIhF,GAAK,EAAGC,EAAKI,OAAOC,KAAKg6C,EAAMlqB,aAAa9hB,WAAYtO,EAAKC,EAAGC,OAAQF,IAAM,CACnF,GAAIwK,GAAMvK,EAAGD,EACbs6C,GAAMlqB,aAAa9hB,UAAU9D,GAAK5B,KAAO,YAE7C0xC,EAAMhnB,eAAgBrD,oBAAsBnoB,mBAAsB,GAEtEwyC,EAAMlqB,aAAa3tB,SAAW63C,EAAMlqB,aAAahuB,iBAAiBC,WAClEi4C,EAAMlqB,aAAa1tB,SAAW43C,EAAMlqB,aAAahuB,iBAAiBE,cAClEg4C,EAAMlqB,aAAaxW,oBACnB0gC,EAAMlqB,aAAa1V,mBAGnB4/B,GAAMlqB,aAAajoB,iBAAiBmyC,EAAMrqB,mBAE9CqqB,GAAMhnB,eAAgB3yB,YAAa25C,EAAMlqB,aAAazvB,cAAe,GACrE25C,EAAMsR,uBAIT,CAAA,IAAIh+B,EAAO+O,UAAUC,SAASK,KAAiBrP,EAAO+O,UAAUC,SAASE,GAK1E,WADA/7B,MAAK2gF,YAAY9zD,EAAQ2S,EAHzBx/B,MAAKqZ,QAAQwT,KAOrBm/C,EAAU5oE,UAAUw9E,kBAAoB,SAAUC,GAC9C,IAAK,GAAI5hF,GAAK,EAAG6hF,EAAgBD,EAAa5hF,EAAK6hF,EAAc3hF,OAAQF,IAAM,CAC3E,GAAIyW,GAASorE,EAAc7hF,EAC3B,IAAIyW,EAAO3Q,SAAW2Q,EAAO3Q,QAAQ5F,OAAS,EAC1Ca,KAAK4gF,kBAAkBlrE,EAAO3Q,aAE7B,CAED,GAAI0R,GAA6B,oBAAjBf,EAAO1J,MAA8B,GAChD0J,EAAOspB,iBAAmBtpB,EAAOspB,iBAAiBlhB,KAAKtH,UAAUC,UAAY,GAC9EmX,EAAQ5tB,KAAK05B,aAAamM,cAA+B,oBAAjBnwB,EAAO1J,MAA8B0J,EAAO1J,MACpFyK,EAAWsK,OAAwB,SAAjBrL,EAAOkY,MAAmBlY,EAAOowB,SAAWpwB,EAAOkY,OACzE5tB,MAAKy5B,aAAa/5B,MACdu3B,gBAAiBvhB,EAAOuhB,gBACxBF,cAAerhB,EAAOqhB,cACtBzwB,WAAYmQ,EACZmX,MAAOA,IAEX5tB,KAAK8sE,YAAc9sE,KAAK8sE,YAAc/rD,OAAO6M,MAMzDo+C,EAAU5oE,UAAU29E,eAAiB,SAAUF,GAC3C,GAAI7gF,KAAKyrB,QAAQyT,YAAcl/B,KAAK8sE,YAAa,CAC7C,IAAK,GAAI7tE,GAAK,EAAG+hF,EAAgBH,EAAa5hF,EAAK+hF,EAAc7hF,OAAQF,IAAM,CAC3E,GAAIyW,GAASsrE,EAAc/hF,EAC3B,IAAIyW,EAAO3Q,SAAW2Q,EAAO3Q,QAAQ5F,OAAS,EAC1Ca,KAAK+gF,eAAerrE,EAAO3Q,aAE1B,CAED,GAAI0R,GAA6B,oBAAjBf,EAAO1J,MAA8B,GAChD0J,EAAOspB,iBAAmBtpB,EAAOspB,iBAAiBlhB,KAAKtH,UAAUC,UAAY,EAClFf,GAAOuhB,gBAAkBj3B,KAAKy5B,aAAaz5B,KAAK+sE,UAAU91C,gBAC1DvhB,EAAOqhB,cAAgB/2B,KAAKy5B,aAAaz5B,KAAK+sE,UAAUh2C,aACxD,IAAIkqD,GAAYjhF,KAAK05B,aAAamM,cAA+B,oBAAjBnwB,EAAO1J,MAA8B0J,EAAO1J,MACxFyK,EAAWsK,OAAO/gB,KAAKy5B,aAAaz5B,KAAK+sE,UAAUn/C,OAClC,UAAjBlY,EAAOkY,MACPlY,EAAOkY,MAAQqzD,EAGfvrE,EAAOowB,SAAWm7C,EAEtBjhF,KAAK+sE,WACDr3D,EAAOuhB,kBACPj3B,KAAKw0B,aAAayC,iBAAkB,GAEpCvhB,EAAOqhB,gBACP/2B,KAAKw0B,aAAauC,eAAgB,IAI1C/2B,KAAKw0B,aAAayC,iBAClBV,OAAKmH,OAAOK,WAEZ/9B,KAAKw0B,aAAauC,eAClBR,OAAKmH,OAAOM,YAMxBguC,EAAU5oE,UAAUk7B,gBAAkB,SAAUuiD,GAC5C,IAAK,GAAI5hF,GAAK,EAAGiiF,EAAgBL,EAAa5hF,EAAKiiF,EAAc/hF,OAAQF,IAAM,CAC3E,GAAIyW,GAASwrE,EAAcjiF,EAC3ByW,GAAOuhB,gBAAkBj3B,KAAKw0B,aAAayC,gBAC3CvhB,EAAOqhB,cAAgB/2B,KAAKw0B,aAAauC,cACzC/2B,KAAK+sE,WACDr3D,EAAO3Q,SAAW2Q,EAAO3Q,QAAQ5F,OAAS,GAC1Ca,KAAKs+B,gBAAgB5oB,EAAO3Q,WAKxCinE,EAAU5oE,UAAU+iC,yBAA2B,SAAU06C,GACrD7gF,KAAKy5B,gBACLz5B,KAAK8sE,YAAc,EACnB9sE,KAAK4gF,kBAAkBC,EACvB,IAAI1hD,GAAgBn/B,KAAKy5B,aAAa,GAAG7L,MACrCktB,GACA/1C,QAAS/E,KAAKy5B,aACdvK,mBAAoBlvB,KAAKkvB,mBAE7BlvB,MAAK45B,QjBxwDoB,sBiBwwDgBkhB,GACrC3b,IAAkBn/B,KAAKy5B,aAAa,GAAG7L,OAAS5tB,KAAKyrB,QAAQyT,YAAcl/B,KAAK8sE,cAChF9sE,KAAKm/B,cAAgBn/B,KAAKy5B,aAAa,GAAG7L,OAE9C5tB,KAAK+sE,SAAW,EAChB/sE,KAAK+gF,eAAeF,IAGxB7U,EAAU5oE,UAAU+9E,sBAAwB,SAAUp8E,EAAS6oB,GAC3D,IAAK,GAAI3uB,GAAK,EAAG6iB,EAAY/c,EAAS9F,EAAK6iB,EAAU3iB,OAAQF,IAAM,CAC/D,GAAIyW,GAASoM,EAAU7iB,EACF,qBAAjByW,EAAO1J,MACH0J,EAAO3Q,QACP/E,KAAKmhF,sBAAsBzrE,EAAO3Q,QAAS6oB,GAGtB,SAAjBlY,EAAOkY,MACPlY,EAAOkY,MAAQA,EAGflY,EAAOowB,SAAWlY,EAK1BlY,EAAOkY,MAAS5tB,KAAKm/B,cAA+Bn/B,KAAKm/B,cAApBzpB,EAAOkY,QAKxDo+C,EAAU5oE,UAAU0hC,kBAAoB,WACpC,GAAIjX,EAeJ,OAdIzJ,OAAMpkB,KAAK6tB,QACP7tB,KAAK6tB,OAAO3lB,WAAWhD,QAAQ,MAAQ,EACvC2oB,EAAUwW,WAAWrkC,KAAK6tB,OAAO3lB,YAAc,IAAOlI,KAAKyrB,QAAQ8T,aAE9Dv/B,KAAK6tB,OAAO3lB,WAAWhD,QAAQ,OAAS,IAC7C2oB,EAAS9M,OAAO/gB,KAAK6tB,OAAO3lB,WAAW2G,MAAM,MAAM,KAIvDgf,EAAS9M,OAAO/gB,KAAK6tB,QAErBA,EAAS7tB,KAAKw0B,aAAagD,YAC3B3J,EAAS7tB,KAAKw0B,aAAagD,WAExB3J,GAGXm+C,EAAU5oE,UAAUi4E,iBAAmB,WACnC,GAAIztD,EAkBJ,OAjBIxJ,OAAMpkB,KAAK4tB,QACP5tB,KAAK4tB,MAAM1lB,WAAWhD,QAAQ,MAAQ,EACtC0oB,EAASyW,WAAWrkC,KAAK4tB,MAAM1lB,YAAc,IAAOlI,KAAKyrB,QAAQyT,YAE5Dl/B,KAAK4tB,MAAM1lB,WAAWhD,QAAQ,OAAS,IAC5C0oB,EAAQ7M,OAAO/gB,KAAK4tB,MAAM1lB,WAAW2G,MAAM,MAAM,KAEjDuV,MAAMwJ,KACNA,EAAQ5tB,KAAKyrB,QAAQyT,cAIzBtR,EAAQ7M,OAAO/gB,KAAK4tB,OAEpBA,EAAQ,MACRA,EAAQ,KAELA,GAGXo+C,EAAU5oE,UAAU6/C,qBAAuB,WACvC,GAAIr1B,EAeJ,OAdIxJ,OAAMpkB,KAAKg1B,KAAKpH,QACZ5tB,KAAKg1B,KAAKpH,MAAM1lB,WAAWhD,QAAQ,MAAQ,EAC3C0oB,EAASyW,WAAWrkC,KAAKg1B,KAAKpH,MAAM1lB,YAAc,IAAOlI,KAAKyrB,QAAQyT,YAEjEl/B,KAAKg1B,KAAKpH,MAAM1lB,WAAWhD,QAAQ,OAAS,IACjD0oB,EAAQ7M,OAAO/gB,KAAKg1B,KAAKpH,MAAM1lB,WAAW2G,MAAM,MAAM,KAEtDuV,MAAMwJ,KACNA,EAAQ5tB,KAAKyrB,QAAQyT,cAIzBtR,EAAQ7M,OAAO/gB,KAAKg1B,KAAKpH,OAEtBA,GAGXo+C,EAAU5oE,UAAUg+E,eAAiB,WAEjC3hD,aAAaz/B,KAAK0/B,YAClB1/B,KAAK0/B,WAAaC,WAAW3/B,KAAKqhF,cAAcz1D,KAAK5rB,MAAO,MAMhEgsE,EAAU5oE,UAAU8tB,QAAU,WACtBwJ,aACA16B,KAAKqhF,gBAGLrhF,KAAKktE,gBAIblB,EAAU5oE,UAAUi+E,cAAgB,WAChC,GAAIrhF,KAAKyrB,SAAWzrB,KAAKyrB,QAAQmQ,UAAUC,SAAS,iBAC7B,SAAlB77B,KAAKs0B,SAAuBt0B,KAAKu0B,kBAAoBv0B,KAAKu0B,iBAAiB30B,YACxEI,KAAKqvB,cAAgBrvB,KAAKqvB,aAAazvB,aAAc,CACzD,GAAII,KAAKg1B,KAAM,CACX,GAAIob,GAA+B,SAAlBpwC,KAAKs0B,UAAuBt0B,KAAKu0B,iBAAiB30B,YAAYT,OAAS,EACpFa,KAAKu0B,iBAAiB30B,YAAY,GAAGT,OAAUa,KAAKkvB,mBAAmBxsB,OAAOvD,OAAS,GACvFa,KAAKqvB,aAAazvB,YAAYT,OAAS,EAAIa,KAAKqvB,aAAazvB,YAAY,GAAGT,OAAS,EACrFolC,EAAWvkC,KAAK05B,aAAa+K,eAAe2L,EAChDpwC,MAAKg1B,KAAKpH,MAAQ5tB,KAAK05B,aAAalE,qBACpCx1B,KAAK05B,aAAajE,qBAAoB,GACtCz1B,KAAKmhF,sBAAsBnhF,KAAKg1B,KAAKjwB,QAASw/B,GAC9CvkC,KAAK+sE,SAAW,EACX/sE,KAAKm0B,iBACNn0B,KAAK+gF,eAAe/gF,KAAKg1B,KAAKjwB,SAET,UAArB/E,KAAKq7B,aAEDr7B,KAAKy6B,cAAgBC,cACrBqiD,sBAAoB/8E,KAAKyrB,QAAQ1d,GAAK,gBAAiB,gBAG/D/N,KAAKg1B,KAAKK,iBACNr1B,KAAKm0B,iBAAmBn0B,KAAKo0B,mBAAqBp0B,KAAKyrB,QAAQkG,cAAc,oBAC7E3xB,KAAKo0B,kBAAkBkB,kBAG3Bt1B,KAAKgjD,aAAehjD,KAAK48E,gBACzB58E,KAAK48E,cAAczgC,QAAQvuB,MAAQ5tB,KAAKg1B,KAAQh1B,KAAKijD,uBAAyB,EAAMjjD,KAAKq7E,mBAAqB,GAE9Gr7E,KAAKm/C,QACLn/C,KAAKm/C,MAAMvxB,MAAS5tB,KAAKgjD,aAAehjD,KAAKg1B,KAAQh1B,KAAKijD,uBAAuB/6C,WAC7ElI,KAAKq7E,mBAAmBnzE,cAIxC8jE,EAAU5oE,UAAUu9E,YAAc,SAAU9zD,EAAQ2S,GAChD,GAAI0sC,GAAUlsE,KACV48B,EAAM,IAoBV,IAnBI/P,EAAO+O,UAAUC,SAAS,iBAAmBhP,EAAO+O,UAAUC,SAAS,aACvEe,EAAM/P,EAEDA,EAAO+O,UAAUC,SAAS,2BAA6BhP,EAAO+O,UAAUC,SAAS,gBACtFhP,EAAO+O,UAAUC,SAAS,mBAC1Be,EAAM/P,EAAOhC,cAERgC,EAAO+O,UAAUC,SAAS,gBAC/Be,EAAM/P,EAAOhC,cAAcA,cAEtBgC,EAAO+O,UAAUC,ShB/+CV,iBgBg/CRhP,EAAO+O,UAAUC,ShBl/CP,iBgBm/CV77B,KAAKwsE,gBAAiB,EAGtBxsE,KAAKwsE,gBAAiB,GAI1B5vC,EAAK,CACL,GAAIja,GAAa5B,OAAO6b,EAAI/N,aAAa,kBACrC0mB,EAAax0B,OAAO6b,EAAI/N,aAAa,UACrC+mB,EAAY70B,OAAO6b,EAAI/N,aAAa,iBAEpCgnB,GACAzW,QAAQ,EACR0W,aAAa,EACb/V,YAAanD,EACb79B,KAAMiB,KAAKJ,YAAY21C,GAAY5yB,GAEvC3iB,MAAK45B,QjBr7DU,gBiBq7DoBic,EAAY,SAAUnS,GACjDwoC,EAAQ13C,aAAa0C,kBAC+B,SAAhDg1C,EAAQ13C,aAAa6C,kBAAkBgS,KAAmBzM,EAAIhB,UAAUC,ShB3gDpE,agB4gD4C,QAAhDqwC,EAAQ13C,aAAa6C,kBAAkBgS,MAOvC6iC,EAAQj4B,eAAerX,EAAK4C,EAAG7c,EAAY4yB,IAN3C22B,EAAQj4B,eAAerX,EAAK4C,EAAG7c,EAAY4yB,GACtC7R,EAAatE,QACd8sC,EAAQn2B,qBAAqBvW,EAAG5C,EAAKja,EAAYA,GAAcizB,EAAY,EAAKA,EAAY,EAAK,GAAIL,IAMzD,aAAhD22B,EAAQ13C,aAAa6C,kBAAkB1vB,MACU,QAAhDukE,EAAQ13C,aAAa6C,kBAAkBgS,MAAkE,SAAhD6iC,EAAQ13C,aAAa6C,kBAAkBgS,MACjG6iC,EAAQoV,kBAAkB,EAAG/rC,EAAY/V,IAG7C0sC,EAAQqV,WAAa79C,EAAaoS,aAClCo2B,EAAQtyC,QjB/8DL,aiBg9DCmG,YAAanD,EACb79B,KAAMmtE,EAAQtsE,YAAY21C,GAAY5yB,SAO1DqpD,EAAU5oE,UAAU6wC,eAAiB,SAAUrX,EAAK4C,EAAGxhB,EAAUI,IACvDohB,EAAEgiD,UAAahiD,EAAEiiD,UAAyD,WAA7CzhF,KAAKw0B,aAAa6C,kBAAkB1vB,OAClB,SAA7C3H,KAAKw0B,aAAa6C,kBAAkBgS,KAChCzM,EAAIhB,UAAUC,ShB3wDP,sBgB4wDJjB,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiB,yCAA+DyC,QAAQ,SAAU3B,GACzHA,EAAIhB,UAAUtI,OhB3jDH,kCgB+jDZsH,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiB,8BAA4DyC,QAAQ,SAAU3B,GACtHA,EAAIhB,UAAUtI,OhB5iDL,YgB6iDTsJ,EAAIhB,UAAUtI,OAAOkL,KAIqB,SAA7Cx+B,KAAKw0B,aAAa6C,kBAAkBgS,OACrCzM,EAAIhB,UAAUC,ShBpjDN,gBgBqjDLjB,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiB,IAAM0C,IAAuBD,QAAQ,SAAU3B,GACnF7b,OAAO6b,EAAI/N,aAAa,YAAczQ,IACtCwe,EAAIhB,UAAUtI,OhBrjDT,YgBsjDLsJ,EAAIhB,UAAUtI,OAAOkL,SAK1B5D,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiB,+BAAkCyC,QAAQ,SAAU3B,GAC5FA,EAAIhB,UAAUtI,OhBhlDH,kCgBulD/B04C,EAAU5oE,UAAUk+E,kBAAoB,SAAUtjE,EAAUI,EAAUohB,GAClE,GAAIzC,GAAa/8B,KAAKqvB,aAAazvB,YAAYwe,GAAUJ,EACzD,KAAKwhB,EAAEiiD,UAAYjiD,EAAEgiD,UAAYzkD,GAAcA,EAAWjvB,SAAWivB,EAAWjvB,QAAQ3O,OAAS,EAAG,CAChG,GAAIg8D,GAAcp+B,EAAWloB,MACzB6sE,EAAStjE,CACb,IACIsjE,IACA3kD,EAAa/8B,KAAKqvB,aAAazvB,YAAY8hF,GAAQ1jE,SAC9C+e,GAAco+B,EAAcp+B,EAAWloB,MAChD,IAAIiY,GAAQ9sB,IACRA,MAAKq0B,WACLr0B,KAAK65B,mBACDC,QAAQ,EACRG,WAAY7b,EAAW0O,EAAM4M,aAAax4B,YAC1Cg5B,SAAUwnD,GAAU,EAAI50D,EAAM4M,aAAax4B,cAI/C4rB,EAAMkI,KAAK+E,gBAAgBC,kBAAkB5b,EACzC0O,EAAM4M,aAAax4B,YAAawgF,GAAU,EAAI50D,EAAM4M,aAAax4B,gBAKjF8qE,EAAU5oE,UAAU2yC,qBAAuB,SAAUvW,EAAG3S,EAAQ80D,EAAUC,EAAQC,GAC9E,IAAKh1D,EAAO+O,UAAUC,ShBh0DN,kBgBi0DkC,SAA7C77B,KAAKw0B,aAAa6C,kBAAkBgS,MAAkBxc,EAAO+O,UAAUC,ShBn0DzD,oBgBm0D8F,CAC7G,GAAIimD,GAAWtiD,EAAEiiD,OACbzhF,MAAKq0B,YAA2D,aAA7Cr0B,KAAKw0B,aAAa6C,kBAAkB1vB,OACvD3H,KAAKg1B,KAAK+E,gBAAgBgoD,UAAUviD,GAChCx/B,KAAKwsE,gBACLxsE,KAAKyrB,QAAQkG,cAAc,gBAAsBiK,UAAUI,IhBhmDrD,iBgBimDN8lD,GAAW,IAGX9hF,KAAKyrB,QAAQkG,cAAc,gBAAsBiK,UAAUtI,OhBpmDrD,iBgBqmDNwuD,GAAW,GAQnB,KAAK,GALDE,MACAr6E,EAAO3H,KAAKw0B,aAAa6C,kBAAkB1vB,KAC3Cs6E,EAAap1D,EAAO+O,UAAUC,ShB5mDb,YgB6mDjBqmD,KACAC,KACKvjD,EAAO+iD,EAAU/iD,GAAQgjD,EAAQhjD,IACtCsjD,EAAgBxiF,KAAKk/B,EAAK12B,WAEzB45E,IAAqB,WAATn6E,EAgBbs6E,GAAa,MAfVrnD,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiB,cAAgCyC,QAAQ,SAAU3B,GAC1FA,EAAIhB,UAAUtI,OhBpnDD,YgBqnDbsJ,EAAIhB,UAAUtI,OAAOkL,IAC+C,IAAhE0jD,EAAgBh9E,QAAQ03B,EAAI/N,aAAa,oBACzCozD,GAAa,EAEjB,IAAIjkE,GAAW+C,OAAO6b,EAAI/N,aAAa,iBACvCszD,GAAYnkE,GAAYA,IAG5BkkE,EAAkB5iF,OAAOC,KAAK4iF,GAAahjF,OAAS,EAAIG,OAAOC,KAAK4iF,GAAat6E,KAAK,SAAUC,EAAGC,GAC/F,MAAOD,GAAIC,IACVm6E,GAKI,aAATv6E,GAAuB63B,EAAEgiD,UACzBxhF,KAAKssE,eAAgD,IAA/BtsE,KAAKssE,eAAentE,OAAe+iF,EAAkBliF,KAAKssE,eAC5EvrD,OAAO/gB,KAAKssE,eAAe,KAAOqV,EAClCA,EAAW5gE,OAAO/gB,KAAKssE,eAAe,IAGtCsV,EAASA,EAAS7gE,OAAO/gB,KAAKssE,eAAetsE,KAAKssE,eAAentE,OAAS,IACtE4hB,OAAO/gB,KAAKssE,eAAetsE,KAAKssE,eAAentE,OAAS,IAAMyiF,GAItE5hF,KAAKssE,iBAET,IAAI8V,KACA5iD,GAAEiiD,SAAwD,SAA7CzhF,KAAKw0B,aAAa6C,kBAAkBgS,MAA4B,aAAT1hC,IAAwBklB,EAAO+O,UAAUC,ShBt3DrG,oBgBu3DLjB,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiB,4CAAyDyC,QAAQ,SAAU3B,GACnHwlD,EAAkB1iF,KAAKk9B,EAAI/N,aAAa,WAIhD,KADA,GAAItU,GAAQonE,EACLpnE,GAASqnE,GACZI,EAAiBtiF,KAAK,mBAAqB6a,EAAQ,MAAqD,SAA7Cva,KAAKw0B,aAAa6C,kBAAkBgS,KAC3F,WAAaw4C,EAAW,KAAO,KACnCtnE,GAEJ,KAAK0nE,EAAY,CACbJ,EAAWh1D,EAAO+O,UAAUC,SAAS,gBAAkBgmD,EAAY7hF,KAAK05B,aAAax4B,YAAc,CACnG,IAAImhF,GAAqBx1D,EAAO+O,UAAUC,ShB/pDzB,egBgqDdjB,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiBkmD,EAAiB95E,aAAaq2B,QAAQ,SAAU3B,GACpF7b,OAAO6b,EAAI/N,aAAa,WAAagzD,IACjCQ,GAAsBP,IAAuE,IAA1DM,EAAkBl9E,QAAQ03B,EAAI/N,aAAa,WAC9E+N,EAAIhB,UAAUtI,OhBnqDT,YgBoqDLsJ,EAAIhB,UAAUtI,OAAOkL,KAGrB5B,EAAIhB,UAAUI,IhBvqDT,YgBwqDLY,EAAIhB,UAAUI,IAAIwC,OAKlCx+B,KAAK05B,aAAaC,aAG1BqyC,EAAU5oE,UAAUk/E,oBAAsB,WACtC,GAAIltC,GAAUp1C,IACdo1C,GAAQm3B,4BACL3xC,MAAMC,KAAK76B,KAAKyrB,QAAQqQ,iBAAiB,IAAM0C,IAAuBD,QAAQ,SAAU3B,GACvFwY,EAAQm3B,sBAAsB7sE,MAAO0e,SAAUwe,EAAI/N,aAAa,SAAU7Q,SAAU4e,EAAI/N,aAAa,sBAG7Gm9C,EAAU5oE,UAAUm/E,sBAAwB,WACxC,GAAIntC,GAAUp1C,QACX46B,MAAMC,KAAK76B,KAAKusE,uBAAuBhuC,QAAQ,SAAUn/B,GACxD,GAAIoxD,GAAQ,mBAAqBpxD,EAAK4e,SAAW,aAAe5e,EAAKgf,SAAW,IAChFg3B,GAAQ3pB,QAAQkG,cAAc6+B,GAAO50B,UAAUI,IhB3rD1B,YgB4rDrBoZ,EAAQ3pB,QAAQkG,cAAc6+B,GAAO50B,UAAUI,IAAIwC,MAI3DwtC,EAAU5oE,UAAUo/E,gBAAkB,WAClC,GAAItW,GAAUlsE,IACdA,MAAKo7B,aAAc,EACnBp7B,KAAK05B,aAAe,GAAInG,GAAOvzB,MAC3BA,KAAKg1B,MAAQh1B,KAAKg1B,KAAKvJ,SAAWzrB,KAAKyrB,QAAQkG,cAAc,YAE7D3xB,KAAKg1B,KAAKzC,eACNxtB,QAAS/E,KAAK05B,aAAa/C,oBAC3BrzB,WAAYtD,KAAK05B,aAAahD,mBAC/B,GAEH12B,KAAKg1B,KAAKxC,OAAO,0BACjBxyB,KAAKg1B,KAAKK,mBAGNr1B,KAAKyrB,QAAQkG,cAAc,YAC3B2B,SAAOtzB,KAAKyrB,QAAQkG,cAAc,YAEtC3xB,KAAK05B,aAAahE,SAAS11B,MAAM,GAEjCA,KAAKg1B,KAAKgkB,YAAc,aACxBh5C,KAAKg1B,KAAK+jB,YAAc,aAExB/4C,KAAKyrB,QAAQY,YAAYD,gBAAc,OAASre,GAAI/N,KAAKyrB,QAAQ1d,GAAK,WACtE/N,KAAKg1B,KAAKzI,kBAAmB,EAC7BvsB,KAAKg1B,KAAKxI,SAAS,IAAMxsB,KAAKyrB,QAAQ1d,GAAK,SAE3C/N,KAAKg1B,KAAKwlB,IAAI,aAAcx6C,KAAKg1B,KAAKxL,WACtCxpB,KAAKg1B,KAAKW,GAAG,aAAc,WACvBu2C,EAAQl3C,KAAKytD,aAAaC,WAC1BxW,EAAQl3C,KAAKytD,aAAaE,YAC1BzW,EAAQl3C,KAAKvJ,QAAQkG,cAAc,qBAAqBlF,MAAMm2D,UAAY,WAKtF5W,EAAU5oE,UAAUy/E,WAAa,WAC7B,GAAI3W,GAAUlsE,IACdA,MAAK45B,QjB9rEiB,oBiB8rEkB1K,mBAAoBlvB,KAAKkvB,oBAAsB,SAAUwU,GAC7FwoC,EAAQh9C,mBAAqBwU,EAAaxU,mBAC1Cg9C,EAAQgP,oBAAmB,EAE3B,IAAI33E,IACA8lC,KAAM,GACN3iC,mBAAgBxG,GAChBuG,aAAcylE,EAAQzlE,aACtBrF,mBAAoB8qE,EAAQ9qE,mBAC5BuF,eAAiBulE,EAAQ/vC,mBAAqB+vC,EAAQ7wB,aAAaC,aACnEx3C,UAAWooE,EAAQpoE,UACnBC,WAAYmoE,EAAQnoE,WAExB,IAAyB,UAArBmoE,EAAQ53C,SAAsB,CAC9B,GAAI43C,EAAQh9C,mBAAmB1pB,eAAiB0mE,EAAQh9C,mBAAmB1pB,cAAcrG,OAAS,EAAG,CACjG,GAAI2jF,GAAU5W,EAAQ78C,aAAatwB,IACnCmtE,GAAQuQ,cAAiBvQ,EAAQuQ,cAAgBvQ,EAAQuQ,cAAgBt+E,EAAUW,cAAcgkF,GACjG5W,EAAQ35C,eAAgBrD,oBAAsB5rB,iBAAoB,GAClE4oE,EAAQwQ,aAAexQ,EAAQwQ,aAAexQ,EAAQwQ,aAAevwE,YAAW+/D,EAAQh9C,mBAAoB,MAAM,GAClHg9C,EAAQ35C,eAAgBrD,oBAAsB5rB,WAAYw/E,KAAa,GAE3E5W,EAAQ78C,aAAahsB,aAAa6oE,EAAQh9C,mBAAoB3rB,EAAkB2oE,EAAQzoE,iBAAiBmoB,KAAKsgD,IAC9GA,EAAQ35C,eAAgB3yB,YAAassE,EAAQ78C,aAAazvB,cAAe,OAExB,SAA5CssE,EAAQh9C,mBAAmBy+C,cAAgD,SAArBzB,EAAQ53C,WACnE/wB,EAAiBiyD,uBAAqBt1D,GACtCgsE,EAAQ33C,iBAAiBlxB,aAAa6oE,EAAQh9C,mBAAoB3rB,GAClE2oE,EAAQ35C,eAAgB3yB,YAAassE,EAAQ33C,iBAAiB30B,cAAe,GAEjF,IAAImjF,GAAQ7W,CACZA,GAAQtyC,QjB1tES,mBiB0tEyBh6B,YAAassE,EAAQtsE,aAAe,SAAU8jC,GAC7D,SAAnBq/C,EAAMzuD,UACNyuD,EAAMxuD,iBAAiB30B,YAAc86B,aAAawxC,EAAQ33C,iBAAiB30B,YAAc8jC,EAAa9jC,YACtGmjF,EAAMnjF,YAAcmjF,EAAMxuD,iBAAiB30B,cAG3CmjF,EAAM1zD,aAAazvB,YAAc86B,aAAawxC,EAAQ78C,aAAazvB,YAAc8jC,EAAa9jC,YAC9FmjF,EAAMnjF,YAAcmjF,EAAM1zD,aAAazvB,aAE3CmjF,EAAMvwD,OAAOspD,MACbiH,EAAM3nD,aAAc,OAKhC4wC,EAAU5oE,UAAUy4E,aAAe,WACT,SAAlB77E,KAAKs0B,WACLt0B,KAAKkvB,mBAAmBjrB,eAAgB,GAEZ,UAA5BjE,KAAK8iD,cAActmB,MACnBx8B,KAAKwiF,kBAETxpC,cAAYh5C,KAAKyrB,QACjB,IAAI8tB,GAAQv5C,IAGRu5C,GAAMrqB,qBAAuBqqB,EAAMrqB,mBAAmB5rB,YAAci2C,EAAMrqB,mBAAmB0U,KACzF2V,EAAMrqB,mBAAmB5rB,qBAAsBsB,eAC/C+6B,WAAW4Z,EAAMypC,QAAQp3D,KAAK2tB,GAAQ,KAEA,KAAhCv5C,KAAKkvB,mBAAmB0U,KAAgC,SAAlB5jC,KAAKs0B,UACjDilB,EAAMrqB,mBAAmB5rB,WAAWnE,OAAS,GACtB,UAAnBo6C,EAAMjlB,WACNilB,EAAMlqB,aAAatwB,KAAOw6C,EAAMrqB,mBAAmB5rB,YAEvDi2C,EAAMspC,cAGN9pC,cAAYQ,EAAM9tB,SAItBstB,cAAYQ,EAAM9tB,UAK1BugD,EAAU5oE,UAAUK,iBAAmB,SAAUw/E,GAC7C,GAAIr4D,GAAOq4D,CAEX,OADAjjF,MAAK45B,QjBzrEkB,oBiByrEgBhP,GAChCA,GAOXohD,EAAU5oE,UAAU8/E,kBAAoB,SAAUt4D,GAC9C5qB,KAAK45B,QAAQupD,YAAU,OAAQv4D,GAAOA,IAE1CohD,EAAU5oE,UAAU4/E,QAAU,WAC1BhjF,KAAKkvB,mBAAmB5rB,WAAW8/E,aAAa,GAAIz4E,UAAS04E,KAAKrjF,KAAKojF,aAAax3D,KAAK5rB,QAE7FgsE,EAAU5oE,UAAUggF,aAAe,SAAU5jD,GACpCx/B,KAAKyrB,QAAQkG,cAAc,oBAC5BqnB,cAAYh5C,KAAKyrB,QAErB,IAAI8tB,GAAQv5C,IAEZu5C,GAAMlqB,aAAatwB,KAAOygC,EAAE8jD,OAC5B/pC,EAAMspC,cAIV7W,EAAU5oE,UAAUwmC,gBAAkB,SAAUhqC,GAC5C,GAAIA,EAAa,CAEb,IAAK,GADDoe,MACKhW,EAAMpI,EAAYT,OAAQW,EAAI,EAAGA,EAAIkI,EAAKlI,QACxBI,KAAnBN,EAAYE,QAA0CI,KAAtBN,EAAYE,GAAG,IAC/Cke,EAASte,KAAKI,EAGtB,KAASA,EAAI,EAAGA,EAAIF,EAAYT,OAAQW,IACpC,IAAK,GAAIC,GAAI,EAAIH,EAAYE,IAAMC,EAAIH,EAAYE,GAAGX,OAASY,IAC3D,GAA+B,UAA3BH,EAAYE,GAAGC,GAAGkK,KAAkB,CACpCrK,EAAYE,GAAGC,GAAG0sB,UAAQvsB,GAC1BN,EAAYE,GAAGC,GAAGquB,aAAWluB,EAE7B,KAAK,GADDqjF,GAAWvjF,KAAKkvB,mBAAmBs0D,0BAC9B/iB,EAAI,EAAGA,EAAI8iB,EAASpkF,OAAQshE,MACK,IAAjC8iB,EAAS9iB,GAAGgjB,kBAA6B9/E,oBAAkB4/E,EAAS9iB,GAAGgjB,mBACvC,KAAjC7jF,EAAYE,GAAGC,GAAGuB,YACsB,KAApC1B,EAAYE,GAAGC,GAAGwB,gBAClBvB,KAAK0jF,eAAe9jF,EAAYE,GAAGC,GAAG1B,MAAOklF,EAAS9iB,GAAGkjB,WAAYJ,EAAS9iB,GAAG5tD,OAAQ0wE,EAAS9iB,GAAG3tD,UAI/FywE,EAAS9iB,GAAGrrD,SAAWxV,EAAYE,GAAGC,GAAGqQ,aAAemzE,EAAS9iB,GAAGrrD,aAC7ClV,KAAxBqjF,EAAS9iB,GAAGrrD,SAAiD,KAAxBmuE,EAAS9iB,GAAGrrD,aAA0ClV,KAAtBqjF,EAAS9iB,GAAG+P,OAC5D,KAAtB+S,EAAS9iB,GAAG+P,UAAoB+S,EAAS9iB,GAAG+P,OAC3C5wE,EAAYE,GAAG,GAAG0W,UAAUC,UACxBvR,QAAQq+E,EAAS9iB,GAAG+P,QAAW,GAAO5wE,EAAYE,GAAGC,GACzDuB,WAAW4D,QAAQq+E,EAAS9iB,GAAG+P,QAAU,GACzC5wE,EAAYE,GAAGC,GAAGwB,cACd2D,QAAQq+E,EAAS9iB,GAAG+P,QAAU,KAC/B+S,EAAS9iB,GAAGh0C,OAAS82D,EAAS9iB,GAAGh0C,MAAMqe,kBACvCy4C,EAAS9iB,GAAGh0C,MAAMqe,gBAAkB9qC,KAAK8xC,4BACpC8xC,MAAML,EAAS9iB,GAAGh0C,MAAMqe,gBAAgB+4C,OAAO,IAAMN,EAAS9iB,GAAGh0C,MAAMqe,gBACxE9qC,KAAK8xC,4BAA4BgyC,gBAAgBP,EAAS9iB,GAAGh0C,MAAMqe,kBAEvEy4C,EAAS9iB,GAAGh0C,OAAS82D,EAAS9iB,GAAGh0C,MAAMue,QACvCu4C,EAAS9iB,GAAGh0C,MAAMue,MAAQhrC,KAAK8xC,4BAC1B8xC,MAAML,EAAS9iB,GAAGh0C,MAAMue,MAAM64C,OAAO,IAAMN,EAAS9iB,GAAGh0C,MAAMue,MAC9DhrC,KAAK8xC,4BAA4BgyC,gBAAgBP,EAAS9iB,GAAGh0C,MAAMue,QAE3EprC,EAAYE,GAAGC,GAAG0sB,MAAQ82D,EAAS9iB,GAAGh0C,MACtC7sB,EAAYE,GAAGC,GAAGquB,SAAW,SAAWpuB,KAAKyrB,QAAQ1d,GAAK0yD,IAStF,IAAK,GADD51D,GAAS7K,KAAKkvB,mBAAmBs0D,0BAC5B/iB,EAAI,EAAGA,EAAI51D,EAAO1L,OAAQshE,IAAK,CACpC,GAAIsjB,GAAS/jF,KAAKgkF,iBAAiBp4D,KAAK5rB,QACpCikF,EAAM,UAAYp5E,EAAO41D,GAAGh0C,MAAMue,MAAQ,gCAAkCngC,EAAO41D,GAAGh0C,MAAMqe,gBAC5F,yBAA2BjgC,EAAO41D,GAAGh0C,MAAM0e,SAAW,2BAA6BtgC,EAAO41D,GAAGh0C,MAAMye,WACnG,cACJ64C,GAAMG,WAAW,UAAYlkF,KAAKyrB,QAAQ1d,GAAK0yD,EAAI,IAAMwjB,EAAM,IAAK,MAIhFjY,EAAU5oE,UAAU4gF,iBAAmB,WACnC,GAAIv3D,GAAQT,SAASI,cAAc,QAGnC,OAFAK,GAAMJ,YAAYL,SAASm4D,eAAe,KAC1Cn4D,SAASo4D,KAAK/3D,YAAYI,GACnBA,EAAMs3D,OAEjB/X,EAAU5oE,UAAUo6E,uBAAyB,WACzC,GAAIx9E,KAAKJ,YAAa,CAGlB,IAAK,GAFDA,GAAcI,KAAKJ,YACnBoe,KACKhW,EAAMpI,EAAYT,OAAQW,EAAI,EAAGA,EAAIkI,EAAKlI,QACxBI,KAAnBN,EAAYE,QAA0CI,KAAtBN,EAAYE,GAAG,IAC/Cke,EAASte,KAAKI,EAGtB,IAAIE,KAAKkgC,kBAAkBmkD,oBAAoBllF,OAAS,EACpD,IAASW,EAAI,EAAGA,EAAIF,EAAYT,OAAQW,IACpC,IAASC,EAAI,EAAIH,EAAYE,IAAMC,EAAIH,EAAYE,GAAGX,OAASY,IAC3D,GAA+B,UAA3BH,EAAYE,GAAGC,GAAGkK,KAAkB,CACpCrK,EAAYE,GAAGC,GAAG2gC,iBAAkB,CAEpC,KAAK,GADDtgC,GAAaJ,KAAKkgC,kBAAkBmkD,oBAC/B5jB,EAAI,EAAGA,EAAIrgE,EAAWjB,OAAQshE,IACnC,GAAIzgE,KAAK0jF,eAAe9jF,EAAYE,GAAGC,GAAG1B,MAAO+B,EAAWqgE,GAAGkjB,WAAYvjF,EAAWqgE,GAAG5tD,OAAQzS,EAAWqgE,GAAG3tD,QAAS,CACpH,GAAIwxE,GAA8C,QAAtCtkF,KAAKkvB,mBAAmBtuB,UAChCd,EAAuB,UAAlBE,KAAKs0B,SACVt0B,KAAKqvB,aAAanX,cAAc/Y,OAAS,EAAIa,KAAKu0B,iBAAiBrc,cAAc/Y,OAAS,EAC1FolF,EAA8C,QAAtCvkF,KAAKkvB,mBAAmBtuB,UAAsB,EAAIb,IACxDK,EAAWqgE,GAAGrrD,SAAqD,IAA1CpV,KAAKkvB,mBAAmBxsB,OAAOvD,QACzDS,EAAY0kF,GAAMC,GAAM/tE,WACpB5W,EAAY0kF,GAAMC,GAAMn0E,aAAehQ,EAAWqgE,GAAGrrD,YACxDhV,EAAWqgE,GAAG+P,OAAW5wE,EAAYoe,EAAS5d,EAAWqgE,GAAG+P,MAAM3hE,MAAM,KAAK1P,OAAS,KACpFS,EAAYoe,EAAS5d,EAAWqgE,GAAG+P,MAAM3hE,MAAM,KAAK1P,OAAS,IAAIY,IACjEH,EAAYoe,EAAS5d,EAAWqgE,GAAG+P,MAAM3hE,MAAM,KAAK1P,OAAS,IAAIY,GAAGyW,WACpE5W,EAAYoe,EAAS5d,EAAWqgE,GAAG+P,MAAM3hE,MAAM,KAAK1P,OAAS,IAAIY,GAC7DyW,UAAUpW,EAAWqgE,GAAG+P,QAAY5wE,EAAYE,GAAG,GACvD0W,UAAUC,UAAUvR,QAAQ9E,EAAWqgE,GAAG+P,QAAU,KACxD5wE,EAAYE,GAAGC,GAAG2gC,iBAAkB,IAQhE,GAAK/8B,oBAAkB3D,KAAKkgC,kBAAkB55B,YAkC1C,MAjCA,KAASxG,EAAI,EAAGA,EAAIF,EAAYT,OAAQW,IACpC,IAAK,GAAIC,GAAI,EAAIH,EAAYE,IAAMC,EAAIH,EAAYE,GAAGX,OAASY,IAC3D,GAA+B,UAA3BH,EAAYE,GAAGC,GAAGkK,KAAkB,CAEpC,GAAIumE,GAAQxwE,KAAKkgC,kBAAkB55B,WAC/Bg+E,EAA8C,QAAtCtkF,KAAKkvB,mBAAmBtuB,UAChCd,EAAuB,UAAlBE,KAAKs0B,SACVt0B,KAAKqvB,aAAanX,cAAc/Y,OAAS,EAAIa,KAAKu0B,iBAAiBrc,cAAc/Y,OAAS,EAC1FolF,EAA8C,QAAtCvkF,KAAKkvB,mBAAmBtuB,UAAsB,EAAIb,CAC9D,IAAKH,EAAYoe,EAASwyD,EAAM3hE,MAAM,KAAK1P,OAAS,KAChDS,EAAYoe,EAASwyD,EAAM3hE,MAAM,KAAK1P,OAAS,IAAIY,IACnDH,EAAYoe,EAASwyD,EAAM3hE,MAAM,KAAK1P,OAAS,IAAIY,GAC/CyW,WAAa5W,EAAYoe,EAASwyD,EAAM3hE,MAAM,KAAK1P,OAAS,IAAIY,GACpEyW,UAAUg6D,GAAS,CACnB,IAAK,GAAIvxE,GAAK,EAAGglB,EAAajG,EAAU/e,EAAKglB,EAAW9kB,OAAQF,IAAM,CAClE,GAAIyM,GAAQuY,EAAWhlB,EACnBW,GAAY8L,GAAO3L,IACY,WAA/BH,EAAY8L,GAAO3L,GAAGkK,MACrBrK,EAAY8L,GAAO3L,GAAGyW,UAAUC,UAAUvR,QAAQsrE,IAAU,IAC7D5wE,EAAY8L,GAAO3L,GAAG2gC,iBAAkB,GAGhD9gC,EAAYE,GAAGC,GAAG2gC,iBAAkB,MAE/B9gC,GAAYE,GAAG,GAAG0W,UAAUC,UAAUvR,QAAQsrE,IAAU,IAC7D5wE,EAAYE,GAAG,GAAG4gC,iBAAkB,EACpC9gC,EAAYE,GAAGC,GAAG2gC,iBAAkB,MAWhEsrC,EAAU5oE,UAAUsgF,eAAiB,SAAUx8D,EAAWy8D,EAAYa,EAAmBC,GACrF,OAAQd,GACJ,IAAK,WACD,MAAOz8D,GAAYs9D,CACvB,KAAK,oBACD,MAAOt9D,IAAas9D,CACxB,KAAK,cACD,MAAOt9D,GAAYs9D,CACvB,KAAK,uBACD,MAAOt9D,IAAas9D,CACxB,KAAK,SACD,MAAOt9D,KAAcs9D,CACzB,KAAK,YACD,MAAOt9D,KAAcs9D,CACzB,KAAK,UACD,MAAQA,GAAoBC,GAAqBv9D,GAAas9D,GAAqBt9D,GAAau9D,GAC3FD,EAAoBC,GAAqBv9D,GAAas9D,GAAqBt9D,GAAau9D,CACjG,KAAK,aACD,QAAUD,EAAoBC,GAAqBv9D,GAAas9D,GAAqBt9D,GAAau9D,GAC7FD,EAAoBC,GAAqBv9D,GAAas9D,GAAqBt9D,GAAau9D,EACjG,SACI,OAAO,IAGnBzY,EAAU5oE,UAAU89B,WAAa,WACG,UAA5BlhC,KAAK8iD,cAActmB,OACnBqK,eAAa7K,IAAIh8B,KAAKyrB,QAASzrB,KAAKq0B,WAAa,WAAa,QAASr0B,KAAK89C,kBAAmB99C,MAC/F6mC,eAAa7K,IAAIh8B,KAAKyrB,QAAS,YAAazrB,KAAKqgF,iBAAkBrgF,MACnE6mC,eAAa7K,IAAIh8B,KAAKyrB,QAAQkG,cAAc,iBAAwB,YAAa3xB,KAAKygF,iBAAkBzgF,MACxG6mC,eAAa7K,IAAIh8B,KAAKyrB,QAAS,UAAWzrB,KAAK0gF,eAAgB1gF,MAC/D6mC,eAAa7K,IAAIh8B,KAAKyrB,QAASzrB,KAAKq0B,WAAa,WAAa,cAAer0B,KAAKmgF,mBAAoBngF,OAE1Gy8B,OAAOioD,iBAAiB,SAAU1kF,KAAKohF,eAAex1D,KAAK5rB,OAAO,IAEtEgsE,EAAU5oE,UAAUk8E,aAAe,WACC,UAA5Bt/E,KAAK8iD,cAActmB,OACnBqK,eAAavT,OAAOtzB,KAAKyrB,QAASzrB,KAAKq0B,WAAa,WAAa,QAASr0B,KAAK89C,mBAC/EjX,eAAavT,OAAOtzB,KAAKyrB,QAAS,YAAazrB,KAAKqgF,kBAChDrgF,KAAKyrB,QAAQkG,cAAc,kBAC3BkV,eAAavT,OAAOtzB,KAAKyrB,QAAQkG,cAAc,iBAAwB,YAAa3xB,KAAKygF,kBAE7F55C,eAAavT,OAAOtzB,KAAKyrB,QAAS,UAAWzrB,KAAK0gF,gBAClD75C,eAAavT,OAAOtzB,KAAKyrB,QAASzrB,KAAKq0B,WAAa,WAAa,cAAer0B,KAAKmgF,qBAEzF1jD,OAAOkoD,oBAAoB,SAAU3kF,KAAKohF,eAAex1D,KAAK5rB,OAAO,IAMzEgsE,EAAU5oE,UAAUiwB,QAAU,WAC1BrzB,KAAKu6C,uBACDv6C,KAAKm0B,iBAAmBn0B,KAAKo0B,mBAC7Bp0B,KAAKo0B,kBAAkBf,UAEvBrzB,KAAKgjD,aAAehjD,KAAK48E,eACzB58E,KAAK48E,cAAcvpD,UAEnBrzB,KAAK81B,sBAAwB91B,KAAKk9E,qBAClCl9E,KAAKk9E,oBAAoB7pD,UAEzBrzB,KAAKwtE,4BAA8BxtE,KAAK8xC,6BACxC9xC,KAAK8xC,4BAA4Bze,UAEjCrzB,KAAKytE,uBAAyBztE,KAAK4kF,wBACnC5kF,KAAK4kF,uBAAuBvxD,UAE5BrzB,KAAKq0B,YAAcr0B,KAAKi2C,mBACxBj2C,KAAKi2C,kBAAkB5iB,UAEvBrzB,KAAKguE,gBACLhuE,KAAKguE,eAAe36C,UAEpBrzB,KAAKglD,SACLhlD,KAAKglD,QAAQ3xB,UAEbrzB,KAAKm/C,OACLn/C,KAAKm/C,MAAM9rB,UAEfrzB,KAAKs/E,eACL7oC,eAAaz2C,KAAKyrB,SAAUo5D,GAC5BpuC,eAAaz2C,KAAKyrB,SAAUw0D,GAC5BxpC,eAAaz2C,KAAKyrB,SAAUy0D,GAC5BlgF,KAAKyrB,QAAQS,UAAY,GACzBic,EAAO/kC,UAAUiwB,QAAQwH,KAAK76B,MAElC,IAAIotE,EA0PJ,OAzPA5lC,KACIY,WAAS,QACV4jC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,oBAAiB,IACzCokC,IACI0B,aAAYC,IACb6iC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACI0B,aAAYqlB,KACbyd,EAAU5oE,UAAW,oBAAiB,IACzCokC,IACI0B,aAAYyiC,KACbK,EAAU5oE,UAAW,0BAAuB,IAC/CokC,IACI0B,aAAY4iC,KACbE,EAAU5oE,UAAW,wBAAqB,IAC7CokC,IACI0B,aAAYF,IACbgjC,EAAU5oE,UAAW,yBAAsB,IAC9CokC,IACI0B,aAAY0iC,KACbI,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACI0B,aAAY6iC,KACbC,EAAU5oE,UAAW,oBAAiB,IACzCokC,IACIY,cACD4jC,EAAU5oE,UAAW,kBAAe,IACvCokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,sBAAmB,IAC3CokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,kBAAe,IACvCokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,kBAAe,IACvCokC,IACIY,gBACD4jC,EAAU5oE,UAAW,cAAW,IACnCokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,uBAAoB,IAC5CokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,2BAAwB,IAChDokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,yBAAsB,IAC9CokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,iCAA8B,IACtDokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,4BAAyB,IACjDokC,IACIY,WAAS,SACV4jC,EAAU5oE,UAAW,aAAU,IAClCokC,IACIY,WAAS,SACV4jC,EAAU5oE,UAAW,YAAS,IACjCokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,uBAAoB,IAC5CokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,2BAAwB,IAChDokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,wBAAqB,IAC7CokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,qBAAkB,IAC1CokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,6BAA0B,IAClDokC,IACIY,WAAS,MACV4jC,EAAU5oE,UAAW,iCAA8B,IACtDokC,IACIY,WAAS,MACV4jC,EAAU5oE,UAAW,4BAAyB,IACjDokC,IACIY,YAAS,IACV4jC,EAAU5oE,UAAW,iCAA8B,IACtDokC,IACIY,cACD4jC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIY,cACD4jC,EAAU5oE,UAAW,sBAAmB,IAC3CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,oBAAiB,IACzCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,qBAAkB,IAC1CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,eAAY,IACpCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,iBAAc,IACtCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,6BAA0B,IAClDokC,IACIgC,WACDwiC,EAAU5oE,UAAW,uBAAoB,IAC5CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,+BAA4B,IACpDokC,IACIgC,WACDwiC,EAAU5oE,UAAW,yBAAsB,IAC9CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,sBAAmB,IAC3CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,iBAAc,IACtCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,iBAAc,IACtCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,0BAAuB,IAC/CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,eAAY,IACpCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,qBAAkB,IAC1CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,kBAAe,IACvCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,oBAAiB,IACzCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,yBAAsB,IAC9CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,kBAAe,IACvCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,gBAAa,IACrCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,2BAAwB,IAChDokC,IACIgC,WACDwiC,EAAU5oE,UAAW,uBAAoB,IAC5CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,sBAAmB,IAC3CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,sBAAmB,IAC3CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,iBAAc,IACtCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,kBAAe,IACvCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,iBAAc,IACtCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,gBAAa,IACrCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,oBAAiB,IACzCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,WAAQ,IAChCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,uBAAoB,IAC5CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,sBAAmB,IAC3CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,qBAAkB,IAC1CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,gBAAa,IACrCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,cAAW,IACnCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,gBAAa,IACrCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,4BAAyB,IACjDokC,IACIgC,WACDwiC,EAAU5oE,UAAW,gBAAa,IACrCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,wBAAqB,IAC7CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,yBAAsB,IAC9CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,oBAAiB,IACzCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,YAAS,IACjCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,mBAAgB,IACxCokC,IACIgC,WACDwiC,EAAU5oE,UAAW,yBAAsB,IAC9CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,wBAAqB,IAC7CokC,IACIgC,WACDwiC,EAAU5oE,UAAW,yBAAsB,IAC9C4oE,EAAYoB,EAAc5lC,IACtBs9C,yBACD9Y,IAELmB,aCrwFE4X,GAA2C,WAI3C,QAASA,GAA0Br6D,GAC/B1qB,KAAK4yC,YACDoyC,OAAQ,UACRC,OAAQ,UACRtW,OAAQ,SACR77B,MAAO,SAEX9yC,KAAK0qB,OAASA,EACd1qB,KAAK0qB,OAAOe,QAAQ+nB,UAA6C,IAAlCxzC,KAAK0qB,OAAOe,QAAQ+nB,SAAkB,EAAIxzC,KAAK0qB,OAAOe,QAAQ+nB,SAC7FxzC,KAAKguE,eAAiB,GAAIt6B,kBAAe1zC,KAAK0qB,OAAOe,SACjDkoB,UAAW3zC,KAAK4zC,iBAAiBhoB,KAAK5rB,MACtC4yC,WAAY5yC,KAAK4yC,WACjBiB,UAAW,YAkEnB,MA/DAkxC,GAA0B3hF,UAAUwwC,iBAAmB,SAAUpU,GAC7D,OAAQA,EAAE7kB,QACN,IAAK,SACD3a,KAAKklF,cAAc1lD,EACnB,MACJ,KAAK,SACDx/B,KAAKmlF,YAAY3lD,EACjB,MACJ,KAAK,SACDx/B,KAAKolF,cAAc5lD,EACnB,MACJ,KAAK,QACDx/B,KAAKqlF,uBAAuB7lD,KAIxCulD,EAA0B3hF,UAAUiiF,uBAAyB,SAAU7lD,GACnE,GAAI3S,GAAS2S,EAAE3S,MACf,IAAIA,GAAUwnB,UAAQxnB,EAAQ,oBAC1BwnB,UAAQxnB,EAAQ,aAGhB,MAFAA,GAAO8E,cAAc,oBAAgC1D,YACrDuR,GAAEuV,kBAIVgwC,EAA0B3hF,UAAU+hF,YAAc,SAAU3lD,GACxD,GAAI3S,GAAS2S,EAAE3S,MACf,IAAIA,GAAUwnB,UAAQxnB,EAAQ,qBACzBwnB,UAAQxnB,EAAQ,eAAgCwnB,UAAQxnB,EAAQ,kBAGjE,MAFAA,GAAO8E,cAAc,WAAsB1D,YAC3CuR,GAAEuV,kBAIVgwC,EAA0B3hF,UAAU8hF,cAAgB,SAAU1lD,GAC1D,GAAI3S,GAAS2S,EAAE3S,MACf,IAAIA,GAAUwnB,UAAQxnB,EAAQ,qBAAkCwnB,UAAQxnB,EAAQ,aAG5E,MAFAA,GAAO8E,cAAc,iBAA+B1D,YACpDuR,GAAEuV,kBAIVgwC,EAA0B3hF,UAAUgiF,cAAgB,SAAU5lD,GAC1D,GAAI3S,GAAS2S,EAAE3S,MACf,IAAIA,GAAUwnB,UAAQxnB,EAAQ,mBAG1B,MAFAA,GAAO8E,cAAc,aAAwB1D,YAC7CuR,GAAEuV,kBASVgwC,EAA0B3hF,UAAUiwB,QAAU,WACtCrzB,KAAKguE,gBACLhuE,KAAKguE,eAAe36C,WAMrB0xD,KChFPO,GAA2B,WAK3B,QAASA,GAAU56D,GACf1qB,KAAK0qB,OAASA,EA4hBlB,MAnhBA46D,GAAUliF,UAAUmiF,cAAgB,SAAU36D,GAC1C,IAAMA,EAAKiC,OAAO+O,UAAUC,SlB2DH,kBkB1DnBjR,EAAKiC,OAAO+O,UAAUC,SlBgEV,YkBhEuC,CACjD77B,KAAK0qB,OAAO86D,aAAatqC,aACzBl7C,KAAK0qB,OAAO86D,aAAatqC,YAAYxsB,OAEzC,IAAI7B,GAASjC,EAAKiC,OACdplB,MAAY,GACZg+E,MAAoB,GACpBC,MAAe,EACf74D,GAAO9e,IACPtG,EAAYolB,EAAO9e,GACnB03E,KAAuB7qD,MAAMC,KAAKhO,EAAOiP,iBAAiB,iBAG1Dr0B,EAAYolB,EAAOhC,cAAc9c,GACjC03E,KAAuB7qD,MAAMC,KAAKhO,EAAOhC,cAAciR,iBAAiB,gBAGxE4pD,EAD6B,IAA7BD,EAAkBtmF,MAOtB,IAAIwmF,GAAU3lF,KAAK4lF,kBAAkBn+E,EACrC,IAAK9D,oBAAkBgiF,GAWlB,CACGE,GAAe1gF,KAAMsC,EAAWsJ,MAAO20E,EAAe,YAAc,aAExE1lF,MAAK0qB,OAAOwE,mBAAmBnoB,aAAarH,KAAKmmF,OAdpB,CAC7B,IAAK,GAAI/lF,GAAI,EAAGA,EAAIE,KAAK0qB,OAAOwE,mBAAmBnoB,aAAa5H,OAAQW,IACpE,GAAIE,KAAK0qB,OAAOwE,mBAAmBnoB,aAAajH,GAAGqF,OAASsC,EAAW,CACnEzH,KAAK0qB,OAAOwE,mBAAmBnoB,aAAa3B,OAAOtF,EAAG,EACtD,OAGR,GAAI+lF,IAAe1gF,KAAMsC,EAAWsJ,MAAO20E,EAAe,YAAc,aAExE1lF,MAAK0qB,OAAOwE,mBAAmBnoB,aAAarH,KAAKmmF,GAOrD7lF,KAAK0qB,OAAO0qB,QAAQ+2B,aAChBnsE,KAAK0qB,OAAOwE,mBAAmBnoB,aAAa/G,KAAK0qB,OAAOwE,mBAAmBnoB,aAAa5H,OAAS,GACrGumF,EAAejvC,eAAa5pB,GlBcR,akBd2CioB,YAAUjoB,GlBcrD,ekBQ5By4D,EAAUliF,UAAU0iF,gBAAkB,SAAUl7D,GAC5C,GAAIiC,GAASjC,EAAKiC,OACdplB,EAAYolB,EAAOhC,cAAc9c,GACjC6gB,EAAe/B,EAAOhC,cAAcoF,YACpC9e,GAAY,EACZu0D,KACAqgB,IACJ,IAA6B,SAAzB/lF,KAAK0qB,OAAO4J,SACZyxD,EAAW/lF,KAAKgmF,YAAYv+E,EAAW0J,OAEtC,CAEDnR,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWmG,WAAoE,cAAvD5N,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWI,KACpG7H,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWmG,WAAW/F,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEsI,WAAarI,EAAEqI,WAAc,EAClHrI,EAAEqI,WAAatI,EAAEsI,YAAe,EAAI,IACa,eAAvDpQ,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWI,KACzC7H,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWmG,WAAW/F,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEsI,WAAarI,EAAEqI,WAAc,EAClHrI,EAAEqI,WAAatI,EAAEsI,YAAe,EAAI,IAC1CpQ,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWmG,UAEtD,IAAI0G,GAAYtU,KAAKimF,oBAAoBx+E,EACpC9D,qBAAkB2Q,KACnBnD,EAA+B,YAAnBmD,EAAU3M,KACtB+9D,EAAcpxD,EAAUrC,MAAQqC,EAAUrC,UAE9C8zE,EACI/lF,KAAKulE,YAAYp0D,EAAWnR,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWmG,WAAY83D,EAAaj+D,GAEvGzH,KAAK0qB,OAAO86D,aAAatqC,aACzBl7C,KAAK0qB,OAAO86D,aAAatqC,YAAYxsB,OAEzC,IAAIw3D,EACJA,GACIA,EADqC,mBAA3BlmF,KAAK0qB,OAAOy7D,WACRnmF,KAAK0qB,OAAOe,QAAwBO,SAASC,eAAejsB,KAAK0qB,OAAOu6C,SAAW,YACrGjlE,KAAK0qB,OAAO86D,aAAaY,mBAAmBL,EAAUt+E,EAAWmnB,EAAcs3D,IAEnFZ,EAAUliF,UAAU4iF,YAAc,SAAUv+E,EAAW0J,GACnD,GAAI40E,MACArgB,IACJ1lE,MAAK0qB,OAAO86D,aAAaa,iBAAkB,CAC3C,IAAIC,MACAj3D,EAAervB,KAAK0qB,OAAO2E,aAC3B/a,EAAYtU,KAAKimF,oBAAoBx+E,EACsB,KAA3D4nB,EAAa9hB,UAAU9F,GAAWR,cAAc9H,OAC3Ca,KAAK0qB,OAAO0qB,QAAQmxC,2BAGhBjyE,GAAaA,EAAUsyD,WAAa,GAAKv3C,EAAa9hB,UAAU9F,GAAW03D,OAAOhgE,OAAS,EAChGkwB,EAAas3C,iBAAiB3mE,KAAK0qB,OAAOwE,mBAAoBznB,EAAW6M,EAAUsyD,aAGnFv3C,EAAa9hB,UAAU9F,GAAWm/D,WAAa,EAC/Cv3C,EAAa03C,WAAW/mE,KAAK0qB,OAAOwE,mBAAoBznB,IAPxD4nB,EAAa03C,WAAW/mE,KAAK0qB,OAAOwE,mBAAoBznB,GAAW,IAWvE4nB,EAAa9hB,UAAU9F,GAAW2/D,mBAClC/3C,EAAa9hB,UAAU9F,GAAW0/D,iBAEtC,IAAIkB,GAAch5C,EAAa9hB,UAAU9F,GAAW4gE,WACpD0d,GAAW12D,EAAa9hB,UAAU9F,GAAWR,cACxCtD,oBAAkB2Q,KACnBnD,GAAYmD,EAAU3M,MAA0B,YAAnB2M,EAAU3M,KACvC+9D,EAAcpxD,EAAUrC,MAAQqC,EAAUrC,SAK9C,KAAK,GAHDu0E,MACAC,KACAC,EAAer3D,EAAa9hB,UAAU9F,GAAWqG,QAC5C7O,EAAK,EAAG60D,EAAgB4R,EAAazmE,EAAK60D,EAAc30D,OAAQF,IAAM,CAC3E,GAAIG,GAAO00D,EAAc70D,EACzBunF,GAAcpnF,GAAQA,EACtBqnF,EAAiBrnF,GAAQA,EACrBsnF,EAAatnF,KACbqnF,EAAmBzmF,KAAK+lE,cAAct+D,EAAWrI,EAAMqnF,IAM/D,MAHAV,GAAW/lF,KAAK2mF,qBAAqBl/E,EAAWs+E,EAAUU,EAAkBH,EAAiBje,GAC7F0d,EAAW/lF,KAAK4mF,gBAAgBz1E,EAAWhT,EAAUW,cAAcinF,GAAWS,EAAe/+E,EAAW4gE,GACxG0d,EAAW/lF,KAAK6mF,mBAAmBd,EAAU12D,EAAa9hB,UAAU9F,GAAWI,OAUnFy9E,EAAUliF,UAAUyjF,mBAAqB,SAAUd,EAAUh1E,GAUzD,MATIg1E,GAAS5mF,OAAS,IAElB4mF,EAAqB,cAAVh1E,EACNg1E,EAASl+E,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEsC,QAAUrC,EAAEqC,QAAW,EAC5DrC,EAAEqC,QAAUtC,EAAEsC,SAAY,EAAI,IAAoB,eAAV2G,EAC7Cg1E,EAASl+E,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEsC,QAAUrC,EAAEqC,QAAW,EAC5DrC,EAAEqC,QAAUtC,EAAEsC,SAAY,EAAI,IAAU27E,GAG/CA,GASXT,EAAUliF,UAAUwiF,kBAAoB,SAAUn+E,GAC9C,GAAIq/E,GAAc9mF,KAAK0qB,OAAOwE,mBAAmBnoB,YACjD,OAAO,IAAInC,gBAAc6F,KAAMq8E,IAAep8E,cAAa,GAAIC,UAAQC,MAAM,OAAQ,QAASnD,IAAY,IAS9G69E,EAAUliF,UAAU6iF,oBAAsB,SAAUx+E,GAChD,GAAIuT,GAAgBhb,KAAK0qB,OAAOwE,mBAAmBhgB,eAC/Cw2D,EAAc,GAAI9gE,gBAAc6F,KAAMuQ,IAAiBtQ,cAAa,GAAIC,UAAQC,MAAM,OAAQ,QAASnD,GAC3G,IAAIi+D,GAAeA,EAAYvmE,OAAS,EACpC,MAAOumE,GAAYA,EAAYvmE,OAAS,IAWhDmmF,EAAUliF,UAAUkZ,eAAiB,SAAU7U,EAAWpI,GACtD,MAAO,IAAIuF,gBAAc6F,KAAMpL,IAAUqL,cAAa,GAAIC,UAAQC,MAAM,OAAQ,QAASnD,IAAY,IASzG69E,EAAUliF,UAAU2jF,oBAAsB,SAAUt/E,GAChD,GAAIu/E,GAAgBhnF,KAAK0qB,OAAOwE,mBAAmB5pB,cACnD,OAAO,IAAIV,gBAAc6F,KAAMu8E,IAAiBt8E,cAAa,GAAIC,UAAQC,MAAM,OAAQ,QAASnD,IAAY,IAEhH69E,EAAUliF,UAAU6jF,aAAe,SAAUC,EAASn5E,EAAI2c,GAGtD,IAAK,GADD2oC,GACKp0D,EAAK,EAAGkoF,EAFND,EAAQ7nF,OAAOiE,WAEMrE,EAAKkoF,EAAOhoF,OAAQF,IAAM,CACtD,GAAImoF,GAAKD,EAAOloF,EAChB,IAAImoF,EAAGr5E,KAAOA,EAAI,CACdslD,EAAM+zB,EAAG/zB,GACT,QAOR,MAJIA,KACA3oC,EAAOhrB,KAAK2zD,GACZrzD,KAAKinF,aAAaC,EAAS7zB,EAAK3oC,IAE7BA,GAEX46D,EAAUliF,UAAUikF,YAAc,SAAUH,EAASn5E,EAAIqU,GAGrD,IAAK,GADDklE,GACKroF,EAAK,EAAGsoF,EAFNL,EAAQ7nF,OAAOiE,WAEMrE,EAAKsoF,EAAOpoF,OAAQF,IAAM,CACtD,GAAImoF,GAAKG,EAAOtoF,EAChB,IAAImoF,EAAG/zB,MAAQtlD,EAAI,CACfu5E,EAAMF,EAAGr5E,EACT,QAOR,MAJIu5E,KACAllE,EAAS1iB,KAAK4nF,GACdtnF,KAAKinF,aAAaC,EAASI,EAAKllE,IAE7BA,GAOXkjE,EAAUliF,UAAUokF,gBAAkB,SAAU58D,EAAMs8D,EAASO,EAAmBpf,GAC9E,GAAIof,EAAmB,CAInB,IAAK,GAHDC,MACAC,KAEK1oF,EAAK,EAAG2oF,KADHhtD,MAAMC,KAAKqsD,EAAQz7D,QAAQqQ,iBAAiB,OAC1B78B,EAAK2oF,EAAOzoF,OAAQF,IAAM,CACtD,GAAIwsB,GAAUm8D,EAAO3oF,EAChBwsB,GAAQkG,cAAc,gBAAgB1B,YAAYrc,cAAe1O,QAAQ0lB,EAAKvsB,MAAMuV,gBAAkB,EACvG8zE,EAAWhoF,KAAK+rB,GAGhBk8D,EAAcjoF,KAAK+rB,GAO3B,GAJAy7D,EAAQW,YAAYH,GACpBjxC,cAAYixC,ElBjRE,akBkRdR,EAAQY,aAAaH,GACrB7yC,WAAS6yC,ElBnRK,akBoRVD,EAAWvoF,OAAS,GAAKwoF,EAAcxoF,OAAS,EAChD,IAAK,GAAID,GAAK,EAAG6oF,EAAeL,EAAYxoF,EAAK6oF,EAAa5oF,OAAQD,IAAM,CACxE,GACI6O,GADcg6E,EAAa7oF,GACV2vB,aAAa,YAC9Bm5D,EAAYhoF,KAAKinF,aAAaC,EAASn5E,MACvCk6E,EAAWjoF,KAAKqnF,YAAYH,EAASn5E,MACrCm6E,IACJ,IAAIF,EAAU7oF,OAAS,EACnB,IAAK,GAAIoK,GAAK,EAAG4+E,EAAkBR,EAAep+E,EAAK4+E,EAAgBhpF,OAAQoK,IAAM,CAC7E69E,EAAKe,EAAgB5+E,IAC0C,IAA/DpL,EAAUgC,QAAQinF,EAAGv4D,aAAa,YAAam5D,IAC/CE,EAAOxoF,KAAK0nF,GAIxB,GAAIa,EAAS9oF,OAAS,EAClB,IAAK,GAAI4K,GAAK,EAAGq+E,EAAkBT,EAAe59E,EAAKq+E,EAAgBjpF,OAAQ4K,IAAM,CACjF,GAAIq9E,GAAKgB,EAAgBr+E,IACyC,IAA9D5L,EAAUgC,QAAQinF,EAAGv4D,aAAa,YAAao5D,IAC/CC,EAAOxoF,KAAK0nF,GAIxBF,EAAQW,YAAYK,GACpBzxC,cAAYyxC,ElB5SN,akB+S2E,OAAlFttD,MAAMC,KAAKqsD,EAAQz7D,QAAQqQ,iBAAiB,iBAA2B38B,OAC1E+nF,EAAQmB,cAGRnB,EAAQphF,cAAU5F,OAAWA,IAAW,OAK5C,IADAF,KAAK0qB,OAAO49D,mBACiB,SAAzBtoF,KAAK0qB,OAAO4J,UAAwB+zC,EAGnC,CACD,GAAIqf,MACAa,EAAc,CAClBA,GAAc,CACd,KAAK,GAAI38E,GAAK,EAAGE,EAAK9L,KAAK0qB,OAAO89D,iBAAkB58E,EAAKE,EAAG3M,OAAQyM,IAAM,CACtE,GAAIxM,GAAO0M,EAAGF,EACVxM,GAAK+F,KAAKyO,cAAc1O,QAAQ0lB,EAAKvsB,MAAMuV,gBAAkB,IAC7D5T,KAAK0qB,OAAO49D,gBAAgB5oF,KAAKN,GAC7BmpF,GAAevoF,KAAK0qB,OAAO0qB,QAAQqzC,4BACnCf,EAAWhoF,KAAKN,GAEpBmpF,OAGRA,EACkBvoF,KAAK0qB,OAAO0qB,QAAQqzC,4BAClCzoF,KAAK0qB,OAAOg+D,mBAAmBtsD,UAAamsD,EAAcvoF,KAAK0qB,OAAO0qB,QAAQqzC,2BAC1EzoF,KAAK0qB,OAAO0qB,QAAQtxC,UAAUmF,YAAY,sBAC9CjJ,KAAK0qB,OAAO86D,aAAatqC,YAAYrtB,OAAU7tB,KAAK0qB,OAAO86D,aAAamD,qBAAuB,QAAU,QACzG3oF,KAAK0qB,OAAOk+D,gBAAiB,IAG7B5oF,KAAK0qB,OAAOg+D,mBAAmBtsD,UAAY,GAC3Cp8B,KAAK0qB,OAAO86D,aAAatqC,YAAYrtB,OAAU7tB,KAAK0qB,OAAO86D,aAAamD,qBAAuB,QAAU,QACzG3oF,KAAK0qB,OAAOk+D,gBAAiB,GAEjC5oF,KAAK0qB,OAAOk+D,eAAkBL,EAAcvoF,KAAK0qB,OAAO0qB,QAAQqzC,2BAChEzoF,KAAK0qB,OAAOg+D,mBAAmB79D,cAAc4B,MAAME,QAAU3sB,KAAK0qB,OAAOk+D,eAAiB,QAAU,OACpG1B,EAAQ7nF,QAAWiE,WAAYokF,EAAY35E,GAAI,KAAMqb,KAAM,OAAQshD,UAAW,aAAczF,SAAU,OACtGiiB,EAAQ2B,eA/BR7oF,MAAK8oF,qBAAqBl+D,EAAMs8D,EAAS7e,IAmCrDid,EAAUliF,UAAU0lF,qBAAuB,SAAUl+D,EAAMs8D,EAAS7e,GAChE,GAAI0d,MAEAt+E,EADezH,KAAK0qB,OAAO86D,aAAatqC,YAAYzvB,QAC3BoD,aAAa,iBAC1C,IAAiC,KAA7BjE,EAAKvsB,MAAMuV,cAAsB,CACjC5T,KAAK0qB,OAAO86D,aAAaa,iBAAkB,EAC3CrmF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW0/D,gBAQ9C,KAAK,GANDmf,MACAE,KACAC,KACAC,EAAe1mF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWqG,QAE7D43D,KACKzmE,EAAK,EAAGiU,EAFH5T,OAAOC,KAAKmnF,GAEYznF,EAAKiU,EAAU/T,OAAQF,IAErDynF,EADAtnF,EAAO8T,EAAUjU,IACEuO,aACbk5E,EAAatnF,GAAMsrB,QAAUg8D,EAAaA,EAAatnF,GAAMsrB,QAAQld,YACvEk4D,EAAYhmE,KAAKN,GAI7B,KAAK,GAAIF,GAAK,EAAG6pF,EAAgBrjB,EAAaxmE,EAAK6pF,EAAc5pF,OAAQD,IAAM,CAC3E,GAAIE,GAAO2pF,EAAc7pF,EACzBsnF,GAAcpnF,GAAQA,EACtBqnF,EAAiBrnF,GAAQA,EACrBsnF,EAAatnF,KACbqnF,EAAmBzmF,KAAK+lE,cAAct+D,EAAWrI,EAAMqnF,IAG3DuC,EAAahpF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWR,aAC/D8+E,GAAW/lF,KAAK2mF,qBAAqBl/E,EAAWuhF,EAAYvC,EAAkBH,EAAiBje,GAC/F0d,EAAW/lF,KAAK4mF,iBAAgB,EAAMzoF,EAAUW,cAAcinF,GAAWS,EAAe/+E,EAAW4gE,GAAa,OAE/G,CACDroE,KAAK0qB,OAAO86D,aAAaa,iBAAkB,CAC3C,IAAI2C,GAAahpF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW0/D,aAC/D4e,GAAW5nF,EAAUW,cAAckqF,GACnCjD,EAAW/lF,KAAKipF,uBAAsB,EAAMlD,EAAUt+E,GAE1Dy/E,EAAQ7nF,QAAWiE,WAAYyiF,EAAUh4E,GAAI,KAAMqb,KAAM,OAAQshD,UAAW,aAAczF,SAAU,OACpGiiB,EAAQ2B,YAEZvD,EAAUliF,UAAUmiE,YAAc,SAAUp0D,EAAWrD,EAAS43D,EAAaj+D,GACzEzH,KAAK0qB,OAAO89D,oBACZxoF,KAAK0qB,OAAO49D,mBACZtoF,KAAK0qB,OAAOw+D,uBACZlpF,KAAK0qB,OAAOy+D,qBACZ,IAAI95D,GAAervB,KAAK0qB,OAAO2E,YAC/BrvB,MAAK0qB,OAAO0+D,YAAc/5D,EAAa7uB,aAAaiH,KAC7C,OAAQ,WAAY,QAASvC,QAAQmqB,EAAa7uB,aAAaiH,GAAWE,OAAS,CAI1F,KAAK,GAHDuJ,MACAq3E,EAAc,EACdj0E,KACKrV,EAAK,EAAGoqF,EAAgB3jB,EAAazmE,EAAKoqF,EAAclqF,OAAQF,IAAM,CAC3E,GAAIG,GAAOiqF,EAAcpqF,EACzBqV,GAAUlV,GAAQA,EAEtB,IAAK,GAAIF,GAAK,EAAGwU,EAAY5F,EAAS5O,EAAKwU,EAAUvU,OAAQD,IAAM,CAC/D,GAAIiU,GAASO,EAAUxU,GACnBsb,EAAaxa,KAAK0qB,OAAO0+D,YAAcj2E,EAAOjD,cAAgBiD,EAAO/C,WAAWlI,WAChFwgB,GACA3a,GAAIoF,EAAO/C,WAAWlI,WACtB/C,KAAMqV,EACNhN,YAAY2D,OAEcjR,KAA1BoU,EAAUkG,KACVkO,EAAIlb,aAAa2D,GAEjBo3E,GAAevoF,KAAK0qB,OAAO0qB,QAAQqzC,4BACnCv3E,EAAKxR,KAAKgpB,GAETA,EAAIlb,aACLxN,KAAK0qB,OAAOy+D,mBAAmBZ,EAAc,GAAK/tE,GAEtDxa,KAAK0qB,OAAO89D,iBAAiB9oF,KAAKgpB,GAClC1oB,KAAK0qB,OAAO49D,gBAAgB5oF,KAAKgpB,GACjC1oB,KAAK0qB,OAAOw+D,oBAAoB/1E,EAAO/C,YAAcm4E,EAAc,EACnEA,IAGJ,MADAvoF,MAAK0qB,OAAOk+D,eAAmBL,EAAc,EAAKvoF,KAAK0qB,OAAO0qB,QAAQqzC,2BAC/Dv3E,GAGXo0E,EAAUliF,UAAUwjF,gBAAkB,SAAUz1E,EAAWrD,EAASwG,EAAW7M,EAAW4gE,EAAaihB,GACnG,GACI/7E,GADevN,KAAK0qB,OAAO2E,aACF9hB,UAAU9F,EACvCzH,MAAK0qB,OAAO89D,oBACZxoF,KAAK0qB,OAAO49D,mBACZtoF,KAAK0qB,OAAOw+D,sBAGZ,KAAK,GAFDh4E,MACAq3E,EAAc,EACTtpF,EAAK,EAAG6U,EAAYhG,EAAS7O,EAAK6U,EAAU3U,OAAQF,IAAM,CAC/D,GAAIkU,GAASW,EAAU7U,GACnBypB,EAAMvV,EACNqH,EAAarH,EAAOpF,GAAG7F,UACtBohF,KACD5gE,EAAIlb,YAAa2D,OAESjR,KAA1BoU,EAAUkG,KACVkO,EAAIlb,aAAa2D,IAEhBm4E,GAAkBn2E,EAAO60D,aAC1BhoE,KAAKupF,sBAAsBh8E,EAAUtG,cAAeQ,EAAW0L,EAAOpF,GAAI2a,EAAIlb,YAElFD,EAAUO,QAAQ0M,GAAYhN,WAAakb,EAAIlb,WAC3CD,EAAU65D,iBAAmB75D,EAAU65D,gBAAgB5sD,KACvDjN,EAAU65D,gBAAgB5sD,GAAYhN,WAAakb,EAAIlb,YAEvD+6E,GAAevoF,KAAK0qB,OAAO0qB,QAAQqzC,4BAA8BpgB,GACjEn3D,EAAKxR,KAAKgpB,GAEd1oB,KAAK0qB,OAAO89D,iBAAiB9oF,KAAKgpB,GAClC1oB,KAAK0qB,OAAO49D,gBAAgB5oF,KAAKgpB,GACjC1oB,KAAK0qB,OAAOw+D,oBAAoB1uE,GAAc+tE,EAAc,EAC5DA,IAGJ,MADAvoF,MAAK0qB,OAAOk+D,iBAAiBvgB,GAAgBkgB,EAAc,EAAKvoF,KAAK0qB,OAAO0qB,QAAQqzC,2BAC7EpgB,EAAcn3D,EAAOpD,GAGhCw3E,EAAUliF,UAAU6lF,sBAAwB,SAAU93E,EAAWrD,EAASrG,GAEtE,IAAK,GADD9F,GAAW3B,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWqG,QACpD7O,EAAK,EAAGuqF,EAAY17E,EAAS7O,EAAKuqF,EAAUrqF,OAAQF,IAAM,CAC/D,GAAIkU,GAASq2E,EAAUvqF,GACnBub,EAAarH,EAAOpF,GAAG7F,UACvBvG,GAAS6Y,KACTrH,EAAO3F,WAAa7L,EAAS6Y,GAAYhN,YAE7CxN,KAAK0qB,OAAO49D,gBAAgB5oF,KAAKyT,GAErC,MAAOrF,IAEXw3E,EAAUliF,UAAUmmF,sBAAwB,SAAUz7E,EAASrG,EAAWq7B,EAAM2mD,GAG5E,IAAK,GAFD9nF,GAAW3B,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWqG,QACzD47E,EAAW1pF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW2/D,gBACpDnoE,EAAK,EAAG0qF,EAAY77E,EAAS7O,EAAK0qF,EAAUxqF,OAAQF,IAAM,CAC/D,GAAIkU,GAASw2E,EAAU1qF,EACnBkU,GAAOkgD,KAAOlgD,EAAOkgD,IAAInrD,aAAe46B,IACxCnhC,EAASwR,EAAOpF,IAAIP,WAAai8E,EAC7BC,GAAYA,EAASv2E,EAAOpF,MAC5B27E,EAASv2E,EAAOpF,IAAIP,WAAai8E,GAEjCt2E,EAAO60D,aACPhoE,KAAKupF,sBAAsBz7E,EAASrG,EAAW0L,EAAOpF,GAAI07E,MAK1EnE,EAAUliF,UAAU2iE,cAAgB,SAAUt+D,EAAWrI,EAAMkV,GAC3D,GAAIxG,GAAU9N,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWqG,OAC5D,IAAIA,EAAQ1O,GAAMsrB,QAAUtrB,IAAS0O,EAAQ1O,GAAMsrB,OAAQ,CACvD,GAAIw7C,GAAap4D,EAAQ1O,GAAMsrB,MAC/BpW,GAAU4xD,GAAcA,EACxBlmE,KAAK+lE,cAAct+D,EAAWy+D,EAAY5xD,GAE9C,MAAOA,IAGXgxE,EAAUliF,UAAUujF,qBAAuB,SAAUl/E,EAAWqG,EAASwG,EAAWyxE,EAAU1d,GAI1F,IAAK,GAHDxC,MACA6gB,EAAe1mF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWqG,QAExD7O,EAAK,EAAG2qF,EADGt1E,EAAYhV,OAAOC,KAAK+U,MACMrV,EAAK2qF,EAAgBzqF,OAAQF,IAAM,CACjF,GACIqhF,GAAWoG,EADJkD,EAAgB3qF,IACOyrB,WACjBxqB,KAAbogF,IAAwE,IAA9CniF,EAAUgC,QAAQmgF,EAAUza,IACtDA,EAAYnmE,KAAK4gF,GAGzB,IAAK,GAAIphF,GAAK,EAAG2qF,EAAY/7E,EAAS5O,EAAK2qF,EAAU1qF,OAAQD,IAAM,CAC/D,GAAIiU,GAAS02E,EAAU3qF,EACnByE,qBAAkBwP,EAAOkgD,OAAwD,IAAhDl1D,EAAUgC,QAAQgT,EAAOkgD,IAAKwS,IAC/DkgB,EAASrmF,KAAKyT,GACVxP,oBAAkBwP,EAAOkgD,OAAuD,IAA/Cl1D,EAAUgC,QAAQgT,EAAOpF,GAAI83D,GAC9D6gB,EAAavzE,EAAOpF,IAAIm6D,cAAe,EAEjCvkE,oBAAkBwP,EAAOkgD,OAAwD,IAAhDl1D,EAAUgC,QAAQgT,EAAOkgD,IAAKwS,GAKrE6gB,EAAavzE,EAAOpF,IAAIm6D,cAAe,GAJvCwe,EAAavzE,EAAOpF,IAAIm6D,cAAe,EACvCwe,EAAavzE,EAAOkgD,KAAK6U,cAAe,IAO5Cwe,EAAavzE,EAAOpF,IAAIm6D,cAAe,EAG/C,MAAO6d,IAEJT,KCpiBPwE,GAAmC,WAKnC,QAASA,GAAkBp/D,GACvB1qB,KAAK0qB,OAASA,EAiHlB,MAvGAo/D,GAAkB1mF,UAAU2mF,gBAAkB,SAAUn/D,EAAMnjB,GAC1D,GAAIuiF,GAAe,GACfC,GAAc,EACdp9D,EAASwnB,UAAQzpB,EAAKiC,OAAQ,gBAC9Bq9D,GAAmB,CAOvB,IANAlqF,KAAK0qB,OAAOmsB,iBAAiBC,WAAalsB,EAAKa,QAAUb,EAAKa,QAAQZ,kBAAgB3qB,GAClF2sB,IACAm9D,EnB0GgB,WmB1GDn9D,EAAO+O,UAAU,GAC5B,OnB2Ge,cmB3GN/O,EAAO+O,UAAU,GAA+B,UnB6G3C,amB7GuD/O,EAAO+O,UAAU,GACtF,SnB8Ge,cmB9GJ/O,EAAO+O,UAAU,GAA+B,UAAY,IAElD,SAAzB57B,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAI61D,GAAmBnqF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,IACtDzH,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWy2C,kBAC9Cl+C,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWirD,IAAMjrD,CACxD,IAAImjB,EAAKwU,QAA2B,KAAjB4qD,EAEf,MADAC,IAAc,CAGb,IAAKjqF,KAAK0qB,OAAOmsB,iBAAiBC,YACkC,SAApE92C,KAAK0qB,OAAOmsB,iBAAiBC,WAAWjoB,aAAa,aAChC,YAAjBm7D,GAA+C,WAAjBA,IAClChqF,KAAK0qB,OAAOmsB,iBAAiBC,YAC2C,UAApE92C,KAAK0qB,OAAOmsB,iBAAiBC,WAAWjoB,aAAa,YAClDs7D,EAAgBv2E,cAAc1O,QAAQ,gBAAkB,IACtC,YAAjB8kF,GAA+C,SAAjBA,GAA4C,YAAjBA,IACjEhqF,KAAK0qB,OAAOmsB,iBAAiBC,YAC2C,UAApE92C,KAAK0qB,OAAOmsB,iBAAiBC,WAAWjoB,aAAa,aACQ,IAA1Ds7D,EAAgBv2E,cAAc1O,QAAQ,gBACtClF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,IACnCzH,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWiiE,cAC5B,YAAjBsgB,GAA+C,WAAjBA,IACtChqF,KAAK0qB,OAAOmsB,iBAAiBC,YAC2C,UAApE92C,KAAK0qB,OAAOmsB,iBAAiBC,WAAWjoB,aAAa,aACQ,IAA1Ds7D,EAAgBv2E,cAAc1O,QAAQ,gBAA0C,WAAjB8kF,EAA6B,CACpG,GAAIxpD,GAAQxgC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAC1Cg9C,EAAcjmD,KAAK0qB,OAAO5mB,UAAUmF,YAAY,uBAGpD,OAFAjJ,MAAK0qB,OAAOyzB,YAAYC,kBAAkB5d,EAAOylB,GACjDgkC,GAAc,OAKlB,IAAKr/D,EAAKwU,QAA2B,KAAjB4qD,GACfhqF,KAAK0qB,OAAOmsB,iBAAiBC,YAAkF,SAApE92C,KAAK0qB,OAAOmsB,iBAAiBC,WAAWjoB,aAAa,aAC1E,YAAjBm7D,GAA+C,WAAjBA,GAC5BA,EAAa9kF,QAAQlF,KAAK0qB,OAAOwE,mBAAmBtuB,YAAc,GAE1E,MADAqpF,IAAc,CAItB,IAAqB,KAAjBD,EAAqB,CACrB,GAA6B,SAAzBhqF,KAAK0qB,OAAO4J,YACR61D,EAAmBnqF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,IACtDzH,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWy2C,kBAC9Cl+C,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWirD,IAAMjrD,GACnCmM,cAAc1O,QAAQ,gBAAkB,IACvC,YAAjB8kF,GAA+C,SAAjBA,GAA4C,YAAjBA,IACzDhqF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,IAChCzH,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWiiE,aAAgC,YAAjBsgB,IACN,IAA1DG,EAAgBv2E,cAAc1O,QAAQ,gBAA0C,WAAjB8kF,GAA4B,CAC5F,GAAIxpD,GAAQxgC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAC1Cg9C,EAAcjmD,KAAK0qB,OAAO5mB,UAAUmF,YAAY,uBAGpD,OAFAjJ,MAAK0qB,OAAOyzB,YAAYC,kBAAkB5d,EAAOylB,GACjDgkC,GAAc,EAItB,GAA6B,UAAzBjqF,KAAK0qB,OAAO4J,UAAwBt0B,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,IACP,oBAAhEzH,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW0G,eAAwD,WAAjB67E,EAA2B,CAChH,GAAIxpD,GAAQxgC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAC1Cg9C,EAAcjmD,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAGpD,OAFAjJ,MAAK0qB,OAAOyzB,YAAYC,kBAAkB5d,EAAOylB,GACjDgkC,GAAc,EAGlBC,EAAkBlqF,KAAKoqF,kBAAkBx/D,EAAKiC,OAAQm9D,OAEjDhqF,MAAK0qB,OAAO2E,aAAa9hB,UAAU9F,KACxCzH,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW+F,YAAa,EAC9B,SAAzBxN,KAAK0qB,OAAO4J,UACZt0B,KAAK0qB,OAAO2E,aAAag2C,oBAAoB59D,GAIrD,OADAzH,MAAK0qB,OAAOmsB,iBAAiB5kB,iBAAiBxqB,EAAWuiF,EAAcE,GAChED,GAEXH,EAAkB1mF,UAAUgnF,kBAAoB,SAAUv9D,EAAQm9D,GAC9D,GAAIE,IAAmB,EACnBG,EAAYh2C,UAAQxnB,EAAQ,iBAChC,KAAKlpB,oBAAkB0mF,GAAY,CAC/BA,EAAYA,EAAU14D,cAAc,kBAGpC,KAAK,GAFD24D,GAAYtqF,KAAK0qB,OAAOe,QAAQkG,cAAc,MAAQq4D,GACtDO,KAAkB3vD,MAAMC,KAAKyvD,EAAUxuD,iBAAiB,oBACnDh8B,EAAI,EAAGshE,EAAImpB,EAAaprF,OAAQW,EAAIshE,EAAGthE,IAC5C,GAAIyqF,EAAazqF,GAAGiO,KAAOs8E,EAAUt8E,GAAI,CACrCm8E,EAAkBpqF,CAClB,QAIZ,MAAOoqF,IAEJJ,KCxHPU,GAAkC,WAKlC,QAASA,GAAiB9/D,GACtB1qB,KAAK0qB,OAASA,EA+JlB,MApJA8/D,GAAiBpnF,UAAU6uB,iBAAmB,SAAUxqB,EAAWuiF,EAAcE,GAC7E,GAAIn4D,EACJ,IAAI/xB,KAAKo1C,SAAWp1C,KAAK82C,YAA0D,SAA5C92C,KAAK82C,WAAWjoB,aAAa,WAChE,OAAQm7D,GACJ,IAAK,GACDhqF,KAAKo1C,QAAQ7iB,eAAgBrD,oBAAsBxsB,aAAgB,EACnE,MACJ,KAAK,OACD1C,KAAKo1C,QAAQ7iB,eAAgBrD,oBAAsBtuB,UAAW,SAAW,EACzE,MACJ,KAAK,UACDZ,KAAKo1C,QAAQ7iB,eAAgBrD,oBAAsBtuB,UAAW,YAAc,OAOxD,qBAD5BmxB,GADAA,EAAiB/xB,KAAKyqF,sBAAsBhjF,EAAUS,cACHlI,KAAK0qF,YAAYjjF,EAAUS,aAC3DP,MAA+C,KAAjBqiF,IAC7CA,EAAe,SAavB,IAV6B,SAAzBhqF,KAAK0qB,OAAO4J,WAEZvC,GADAA,EAAiB/xB,KAAKyqF,sBAAsBhjF,EAAUS,cACHlI,KAAK0qF,YAAYjjF,EAAUS,YACzB,IAAjDlI,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,QACtCa,KAAKyqF,sBAAsB,cAEH,oBAAxB14D,EAAepqB,MAA+C,KAAjBqiF,IAC7CA,EAAe,WAGnBhqF,KAAKo1C,QAAS,CACd,GAAI0F,IACA6vC,aAAgB54D,EAAgB7C,mBAAsBlvB,KAAK0qB,OAAOwE,mBAAoB07D,YAAeZ,EAEzGhqF,MAAKo1C,QAAQxb,QrB/CG,iBqB+C4BkhB,GAEhD,GAAI/oB,EACA,OAAQi4D,GACJ,IAAK,WACoB,IAArBE,EACIlqF,KAAK0qB,OAAOwE,mBAAmBlqB,QAAQI,OAAO8kF,EAAiB,EAAGn4D,GAClE/xB,KAAK0qB,OAAOwE,mBAAmBlqB,QAAQtF,KAAKqyB,EAChD,MACJ,KAAK,QACoB,IAArBm4D,EACIlqF,KAAK0qB,OAAOwE,mBAAmBpqB,KAAKM,OAAO8kF,EAAiB,EAAGn4D,GAC/D/xB,KAAK0qB,OAAOwE,mBAAmBpqB,KAAKpF,KAAKqyB,EAC7C,MACJ,KAAK,WACoB,IAArBm4D,EACIlqF,KAAK0qB,OAAOwE,mBAAmBnqB,QAAQK,OAAO8kF,EAAiB,EAAGn4D,GAClE/xB,KAAK0qB,OAAOwE,mBAAmBnqB,QAAQrF,KAAKqyB,EAChD,MACJ,KAAK,SAID,IAHqB,IAArBm4D,EACIlqF,KAAK0qB,OAAOwE,mBAAmBxsB,OAAO0C,OAAO8kF,EAAiB,EAAGn4D,GACjE/xB,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOhD,KAAKqyB,GAClB,SAAzB/xB,KAAK0qB,OAAO4J,WAAwBt0B,KAAK0qB,OAAO2E,aAAa8/B,eAAgB,CAC7E,GAAItH,IACA1iD,KAAM,aAAciF,QAAS,WAAYE,cAAWpK,GAAWqK,aAAUrK,KAEhB,QAA7CF,KAAK0qB,OAAOwE,mBAAmBtuB,UAC3CZ,KAAK0qB,OAAOwE,mBAAmBpqB,KAAO9E,KAAK0qB,OAAOwE,mBAAmBnqB,SAC/DrF,KAAKmoD,MAanC2iC,EAAiBpnF,UAAUqnF,sBAAwB,SAAUhjF,GASzD,IAAK,GARDsqB,GACAroB,GAAe,EAKfrK,GAJOW,KAAK0qB,OAAOwE,mBAAmBpqB,KAC5B9E,KAAK0qB,OAAOwE,mBAAmBnqB,QAChC/E,KAAK0qB,OAAOwE,mBAAmBxsB,OAC9B1C,KAAK0qB,OAAOwE,mBAAmBlqB,SAEzCgH,EAAQhM,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GACtCO,EAAM,EAAGkG,EAAM7O,EAAOF,OAAQ6I,EAAMkG,EAAKlG,IAC9C,IAAK0B,GAAgBrK,EAAO2I,GACxB,IAAK,GAAIlI,GAAI,EAAGshE,EAAI/hE,EAAO2I,GAAK7I,OAAQW,EAAIshE,EAAGthE,IAC3C,GAAIT,EAAO2I,GAAKlI,GAAGqF,OAASsC,GAAuC,SAAzBzH,KAAK0qB,OAAO4J,UACZ,eAAtCj1B,EAAO2I,GAAKlI,GAAGqF,KAAKyO,eAAkCvU,EAAO2I,GAAKlI,GAAGqF,KAAKyO,gBAAkBnM,EAAY,CAMxG,GALAsqB,EAAiB1yB,EAAO2I,GAAKlI,GAAGmM,WAC5B5M,EAAO2I,GAAKlI,GAAGmM,WAAa5M,EAAO2I,GAAKlI,GAC5CiyB,EAAepqB,KAAQqE,GAAwB,WAAfA,EAAMrE,KAAqBoqB,EAAepqB,KACtE,QACJtI,EAAO2I,GAAK5C,OAAOtF,EAAG,GACO,SAAzBE,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAIjF,GAAervB,KAAK0qB,OAAO2E,YAC3BA,IAAgBA,EAAa9hB,UAAU9F,KACvC4nB,EAAa9hB,UAAU9F,GAAW2/D,mBAClC/3C,EAAa9hB,UAAU9F,GAAWqG,WAClCuhB,EAAa9hB,UAAU9F,GAAWR,iBAClCooB,EAAa9hB,UAAU9F,GAAW0/D,kBAG1Cz9D,GAAe,CACf,OAKhB,MAAOqoB,IASXy4D,EAAiBpnF,UAAUsnF,YAAc,SAAUjjF,GAC/C,GAAI0C,EACJ,IAA6B,SAAzBnK,KAAK0qB,OAAO4J,SAEZnqB,GACIhF,KAAMsC,EACN2C,SAHA4B,EAAQhM,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,IAG5B2C,QACfk2B,WAAYt0B,EAAM09D,YAClBxrB,kBAAmBlyC,EAAMkyC,kBACzBv2C,SAA+BzH,KAAxB8L,EAAMmC,cAA6C,WAAfnC,EAAMrE,KAAoB,MACjE,QAAUqE,EAAMmC,mBAGvB,CACD,GAAInC,GAAQhM,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,EAC/C0C,IACIhF,KAAMsC,EACN2C,QAAS4B,EAAM5B,QACfzC,SAA+BzH,KAAxB8L,EAAMmC,cAA6C,WAAfnC,EAAMrE,KAAoB,MACjE,QAAUqE,EAAMmC,cACpB9D,gBAAiB2B,EAAM3B,gBACvBC,UAAW0B,EAAM1B,UACjBC,SAAUyB,EAAMzB,UAGxB,MAAOJ,IAEJqgF,KCnKPK,GAA6B,WAK7B,QAASA,GAAYngE,GACjB1qB,KAAK0qB,OAASA,EAsDlB,MA9CAmgE,GAAYznF,UAAUg7C,kBAAoB,SAAU5d,EAAOylB,EAAap5B,GACpE,GAAIsxB,GAAc/xB,gBAAc,OAC5Bre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,eAC3Bj4C,UrB2GoB,wBqBzGxBhtB,MAAK0qB,OAAOe,QAAQY,YAAY8xB,EAChC,IAAIzxB,GAASG,EAAS9L,OAAO8L,EAAOJ,MAAMC,QAAU,EAAgC,mBAA3B1sB,KAAK0qB,OAAOy7D,YACtC,UAA3BnmF,KAAK0qB,OAAO2H,YAA0BryB,KAAK0qB,OAAO0qB,QAClDp1C,KAAK0qB,OAAO0qB,QAAQ01C,eAAeC,gBAAgBr+D,OAAS,EAAI,OACpE1sB,MAAKgrF,WAAa,GAAI79D,WAClBC,mBAAqBC,OAAQ,QAC7BC,eAAe,EACfxR,OAAQ0kB,EACRjT,QAAS04B,EACTx4B,SAAS,EACTC,SAAS,EACTC,eAAe,EACfvC,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ,OACRnB,OAAQA,EACRhT,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UAEQC,MAAOjuB,KAAKirF,iBAAiBr/D,KAAK5rB,MAClCmuB,aAAeC,SrBiFN,WqBjFqCb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAAOolB,WAAW,KAGnHE,eAAe,EACf1B,OAAQb,SAAS0vB,KACjBhtB,MAAO1uB,KAAKkrF,kBAAkBt/D,KAAK5rB,QAEvCA,KAAKgrF,WAAWz+D,kBAAmB,EACnCvsB,KAAKgrF,WAAWx+D,SAAS2xB,IAE7B0sC,EAAYznF,UAAU6nF,iBAAmB,WACrCjrF,KAAKgrF,WAAWt8D,SAEpBm8D,EAAYznF,UAAU8nF,kBAAoB,WAClClrF,KAAKgrF,aAAehrF,KAAKgrF,WAAW53D,aACpCpzB,KAAKgrF,WAAW33D,UAEhBrH,SAASC,eAAejsB,KAAK0qB,OAAOu6C,SAAW,iBAC/C3xC,SAAOtH,SAASC,eAAejsB,KAAK0qB,OAAOu6C,SAAW,kBAGvD4lB,KCrDPM,GAA8B,WAK9B,QAASA,GAAazgE,GAClB1qB,KAAK0qB,OAASA,EA46BlB,MAp6BAygE,GAAa/nF,UAAUgjF,mBAAqB,SAAUL,EAAUt+E,EAAWmnB,EAAc/B,GACrF,GAAIu+D,GAAeh/D,gBAAc,OAC7Bre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,kBAC3Bj4C,UAAWq+D,2BAAiE,SAAzBrrF,KAAK0qB,OAAO4J,SAAsB,uBAAyB,IAC9GrH,OAAS66C,iBAAkBrgE,EAAW6jF,aAAc18D,GACpDgS,OAAQ,uBAER2qD,EAAgBvrF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW2C,QAC9DsiC,EAAiB1sC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAAY,KACzD2lB,EAAe,KAAY5uB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,KACvEjJ,MAAKwrF,aAAexrF,KAAKyrF,gBAAgBhkF,GACzCzH,KAAKqmF,iBAAkB,EACvBrmF,KAAK2oF,qBAAuB3oF,KAAK0N,cAAcjG,GAC/CzH,KAAK0qB,OAAOe,QAAQY,YAAY++D,GAChCprF,KAAKk7C,YAAc,GAAI/tB,WACnBC,mBAAqBC,OAASrtB,KAAK2oF,qBAAuB,OAAS,QACnEr7D,eAAe,EACfxR,OAAS9b,KAAK2oF,qBAAuBj8C,EAAiB6+C,EACtDh+D,QAAUvtB,KAAK2oF,qBAAuB,GAAK3oF,KAAK0rF,eAAe3F,EAAUn3D,EAAcnnB,GACvFgmB,QAAoC,UAA3BztB,KAAK0qB,OAAO2H,cAAgCryB,KAAK0qB,OAAO2J,WACjE3G,SAAS,EACTC,gBAAe3tB,KAAK2oF,qBACpBv9D,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ7tB,KAAK0qB,OAAOk+D,eAAkB5oF,KAAK2oF,qBAAuB,QAAU,QACvE3oF,KAAK2oF,qBAAuB,QAAU,QAC3CjvE,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UAEQG,aACIC,StBqEK,WsBrE0Bb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAAOolB,WAAW,KAIhGF,aACIC,SAAU,yBAA2BpuB,KAAK2oF,qBAAuB,GAAK,cACtE1rC,QAAS,8BAA+B7xB,UAAWprB,KAAK0qB,OAAOU,UAC/DmC,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAAgB0iF,UAAW3rF,KAAKwrF,gBAI/Ev9D,MAAOjuB,KAAK4rF,kBAAkBhgE,KAAK5rB,MACnCmuB,aAAeC,StB2DF,esB3DqCb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAGrGslB,eAAe,EACf1B,OAAQA,EACR6B,MAAO1uB,KAAK6rF,mBAAmBjgE,KAAK5rB,QAExCA,KAAKk7C,YAAY3uB,kBAAmB,EACpCvsB,KAAKk7C,YAAY1uB,SAAS4+D,GAEtBprF,KAAK2oF,sBACL3oF,KAAK8rF,cAAc/F,EAAUn3D,EAAcnnB,GAC3CqtC,YAAU90C,KAAKk7C,YAAYzvB,SAAU,kBACrCzrB,KAAK+rF,mBAAmBn9D,IAGxB5uB,KAAK+rF,mBAAmBn9D,GAE5BuH,oBAAkBn2B,KAAKk7C,YAAYzvB,SAAWkwB,WAAc,YACxD37C,KAAK2oF,sBACL3oF,KAAKk7C,YAAYzvB,QAAQkG,cAAc,wBAAwBijB,SAOvEu2C,EAAa/nF,UAAUsoF,eAAiB,SAAU3F,EAAUn3D,EAAcnnB,GACtE,GAAIqlB,GAAQ9sB,KACRgsF,EAAoB5/D,gBAAc,OAClCre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,YAC3Bj4C,UtBF2B,2BsBEiBhtB,KAAK2oF,qBAAuB,iBAAmB,MAE3FsD,EAAe7/D,gBAAc,UAC7Bre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,YAC3Bj4C,UAAW,0BAEXk/D,EAAgB9/D,gBAAc,OAC9Bre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,aAAch4C,OAASk/D,SAAY,MAC9Dn/D,UtB4K6B,4BsB1K7Bu+D,EAAgBvrF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW2C,QAC9DgiF,EAAehgE,gBAAc,SAAWa,OAAStlB,KAAQ,UACzD0kF,EAAgBrsF,KAAK0qB,OAAOk+D,eAC1B5oF,KAAK0qB,OAAO89D,iBAAiBrpF,OAASa,KAAK0qB,OAAO0qB,QAAQqzC,2BACxDzoF,KAAK0qB,OAAO0qB,QAAQtxC,UAAUmF,YAAY,sBAAyB,GACvEqjF,EAAelgE,gBAAc,OAC7Bre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,YAC3Bh4C,OAASk/D,SAAY,KAAM3rD,MAAS6rD,GACpCr/D,UtBF4B,0BsBIhChtB,MAAK0qB,OAAOg+D,mBAAqBt8D,gBAAc,SAAWY,UtBFlC,mBsBGxBhtB,KAAK0qB,OAAOg+D,mBAAmBtsD,UAAYiwD,EAC3CC,EAAa7/D,MAAME,QAAU3sB,KAAK0qB,OAAOk+D,eAAiB,QAAU,OACpE0D,EAAajgE,YAAYrsB,KAAK0qB,OAAOg+D,oBACrCwD,EAAc7/D,YAAY+/D,GAC1BF,EAAc7/D,YAAY4/D,EAC1B,IAAIM,GAAmBngE,gBAAc,OACjCre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,UAAWh4C,OAASk/D,SAAY,MAC3Dn/D,UtB4J0B,yBsB1J1Bw/D,EAAqBpgE,gBAAc,OAASY,UtB4J1B,iBsB3JlBy/D,EAAergE,gBAAc,OAASY,UAAW0/D,wCACjDC,EAAoBvgE,gBAAc,OAASY,UtBhCd,8BsBiC7B4/D,EAAYxgE,gBAAc,OAC1BY,UAAW6/D,4BACX3gE,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAEpB,UAAzBjJ,KAAK0qB,OAAO4J,WAAuBt0B,KAAK0qB,OAAO0qB,QAAQmxC,4BACtDvmF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW4gE,aAC9CroE,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWiiE,YAI/CuiB,EAAax/D,MAAME,QAAU,OAH7B3sB,KAAK8sF,mBAAmBb,EAAcxkF,GAK1C8kF,EAAiBlgE,YAAYmgE,GAC7BR,EAAkB3/D,YAAY6/D,GAC9BF,EAAkB3/D,YAAYkgE,GAC9BP,EAAkB3/D,YAAYugE,GAC9B5sF,KAAKosF,aAAe,GAAI96D,kBACpBC,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAAY,KAAYsiF,EAAgB,IACvFngE,UAAWprB,KAAK0qB,OAAOU,UACvBgD,StBkIqB,kBsBjIrB2+D,iBAAiB,EACjBj8D,OAAQ,SAAU0O,GACd,GAA8B,SAA1B1S,EAAMpC,OAAO4J,SACbxH,EAAMkgE,mBAAmBxtD,EAAGotD,EAAWh+D,OAEtC,CACD9B,EAAMpC,OAAOyI,UAAUq0D,gBAAgBhoD,EAAG1S,EAAMmgE,gBAAgB,EAChE,IAAIzH,GAAe14D,EAAMouB,YAAYzvB,OAEf,QADNmP,MAAMC,KAAK/N,EAAMmgE,eAAexhE,QAAQqQ,iBAAiB,OAC9D38B,QACP2tB,EAAMogE,gBAAgBpF,cAAch7D,EAAMogE,gBAAgBzhE,QAAQkG,cAAc,QAChF6zD,EAAa7zD,cAAc,aAA2BE,aAAa,WAAY,YAC/E4kB,eAAam2C,GtBvJX,esB0JF9/D,EAAMogE,gBAAgBrF,aAAa/6D,EAAMogE,gBAAgBzhE,QAAQkG,cAAc,QAC/E6zD,EAAa7zD,cAAc,aAA2Bw7D,gBAAgB,YACtEr4C,YAAU83C,GtB5JR,csB8JN9/D,EAAMi/D,mBAAmBn9D,OAIrC5uB,KAAKosF,aAAa7/D,kBAAmB,EACrCvsB,KAAKosF,aAAa5/D,SAAS4/D,EAC3B,IACIrtF,KAAUgP,GAAI,MAAO5I,KAAM,MAAOqI,YAAY,EAAMy6D,gBADvCH,iBAAkBrgE,IA2BnC,OAzBAzH,MAAKktF,gBAAkB,GAAIE,aACvB/tF,QAAUiE,WAAYvE,EAAMgP,GAAI,KAAMqb,KAAM,OAAQshD,UAAW,cAC/D2iB,cAAc,EACdC,SAAU,OACVliE,UAAWprB,KAAK0qB,OAAOU,UACvBmiE,YAAavtF,KAAKwtF,UAAU5hE,KAAK5rB,MAAM,GACvCytF,SAAUztF,KAAKwtF,UAAU5hE,KAAK5rB,MAAM,KAExCA,KAAKktF,gBAAgB3gE,kBAAmB,EACxCvsB,KAAKktF,gBAAgB1gE,SAASggE,GAC9BC,EAAapgE,YAAYsgE,GACzBX,EAAkB3/D,YAAYogE,GAC9BzsF,KAAKitF,eAAiB,GAAIG,aACtB/tF,QAAUiE,WAAYyiF,EAAUh4E,GAAI,KAAMqb,KAAM,OAAQshD,UAAW,aAAczF,SAAU,OAC3FooB,cAAc,EACdjiE,UAAWprB,KAAK0qB,OAAOU,UACvBsiE,aAAc1tF,KAAK2tF,iBAAiB/hE,KAAK5rB,MACzCutF,YAAavtF,KAAKwtF,UAAU5hE,KAAK5rB,MAAM,GACvCytF,SAAUztF,KAAKwtF,UAAU5hE,KAAK5rB,MAAM,GACpC4tF,cAAe5tF,KAAK6tF,iBAAiBjiE,KAAK5rB,MAC1CstF,SAAU,SAEdttF,KAAKitF,eAAe1gE,kBAAmB,EACvCvsB,KAAKitF,eAAezgE,SAASmgE,GAC7BX,EAAkB3/D,YAAYigE,GACvBN,GAEXb,EAAa/nF,UAAU0pF,mBAAqB,SAAUb,EAAcxkF,GAMhE,IAAK,GALDqlB,GAAQ9sB,KACRqvB,EAAervB,KAAK0qB,OAAO2E,aAC3B8vC,EAAS9vC,EAAa9hB,UAAU9F,GAAW03D,OAC3CyH,EAAav3C,EAAa9hB,UAAU9F,GAAWm/D,WAC/C30D,KACKnS,EAAI,EAAGO,EAAM8+D,EAAOhgE,OAAQW,EAAIO,EAAKP,IAC1CmS,EAAMvS,MAAOqO,GAAIoxD,EAAOr/D,GAAGiO,GAAIqb,KAAM+1C,EAAOr/D,GAAGqF,MAEnDnF,MAAK8tF,SAAW,GAAIC,mBAChB3/D,SAAU,eACVnc,MAAOA,EAAOgrC,QAAS,0BACvB0uC,SAAW/kB,IAAezH,EAAOhgE,OACjCusB,WAAY,SAAUd,GAClB,GAAI3Y,MAAW2oB,MAAMC,KAAKjQ,EAAKa,QAAQqQ,iBAAiB,OAEpD8qC,EADe95C,EAAMpC,OAAO2E,aACF9hB,UAAU9F,GAAWm/D,UACnDnwB,eAAYxkC,EtB8JF,asB7JV,KAAK,GAAInS,GAAI,EAAGO,EAAM4R,EAAM9S,OAAQW,EAAIO,EAAKP,IACrCA,EAAI8mE,GACJ9xB,YAAU7iC,EAAMnS,ItB2Jd,esBvJd+rB,OAAQ,SAAUjB,GAId,IAAK,GADDojE,GAFAvmF,EAAYqlB,EAAMouB,YAAYzvB,QAAQoD,aAAa,kBACnDQ,EAAevC,EAAMpC,OAAO2E,aAEvBvvB,EAAI,EAAGO,EAAM4R,EAAM9S,OAAQW,EAAIO,EAAKP,IACrCmS,EAAMnS,GAAGiO,KAAO6c,EAAKxrB,KAAK2O,KAC1BigF,EAAgBluF,EAGxBuvB,GAAas3C,iBAAiB75C,EAAMpC,OAAOwE,mBAAoBznB,EAAWumF,EAAgB,GAAG,GAAO,IAExGt/D,MAAO,WACH,GAAIW,GAAevC,EAAMpC,OAAO2E,aAC5B8vC,EAAS9vC,EAAa9hB,UAAU9F,GAAW03D,MAC9B9vC,GAAa9hB,UAAU9F,GAAWm/D,aAChCzH,EAAOhgE,QACtB2tB,EAAMghE,SAASnC,UAAW,EAC1B7+D,EAAMghE,SAASjF,YAGf/7D,EAAMghE,SAASnC,UAAW,KAItC3rF,KAAK8tF,SAASthE,SAASy/D,IAE3Bd,EAAa/nF,UAAU4pF,mBAAqB,SAAUxtD,EAAGotD,EAAWh+D,GAChE,GAAI+B,GAAgB3wB,IACpBy/B,cAAaz/B,KAAK0/B,YAClB1/B,KAAK0/B,WAAaC,WAAW,WACzB,GAAItQ,GAAesB,EAAcjG,OAAO2E,aACpCm2D,EAAe70D,EAAcuqB,YAAYzvB,QACzChkB,EAAY+9E,EAAa32D,aAAa,kBACtCo/D,EAAYt9D,EAAcjG,OAAO0qB,QAAQqzC,2BACzC93D,EAAcjG,OAAO0qB,QAAQqzC,2BAA6B,GAC9D,IAAKp5D,EAAa9hB,UAAU9F,GAAW4gE,YAiBnC13C,EAAcjG,OAAOyI,UAAUq0D,gBAAgBhoD,EAAG7O,EAAcs8D,gBAAgB,GAAO,OAjBvC,CAOhD,GANIt8D,EAAcm9D,UAAwB,KAAZtuD,EAAEnhC,MAC5BsyB,EAAcm9D,SAASnC,UAAW,EAGlCh7D,EAAcm9D,SAASnC,UAAW,EAEjCh7D,EAAcjG,OAAO0qB,QAAQmxC,2BAG7B,CACD,GAAI3f,GAAav3C,EAAa9hB,UAAU9F,GAAWm/D,WAAav3C,EAAa9hB,UAAU9F,GAAWm/D,WAAa,CAC/Gv3C,GAAaq4C,iBAAiB/2C,EAAcjG,OAAOwE,mBAAoBznB,EAAW+3B,EAAEnhC,MAAMuV,cAAeq6E,GAAW,EAAOrnB,OAJ3Hv3C,GAAaq4C,iBAAiB/2C,EAAcjG,OAAOwE,mBAAoBznB,EAAW+3B,EAAEnhC,MAAMuV,cAAeq6E,GAAW,EAMxHt9D,GAAcjG,OAAOyI,UAAUq0D,gBAAgBhoD,EAAG7O,EAAcs8D,gBAAgB,GAAO,GAWrE,OANNryD,MAAMC,KAAKlK,EAAcs8D,eAAexhE,QAAQqQ,iBAAiB,OAMtE38B,QACPwxB,EAAcu8D,gBAAgBpF,cAAcn3D,EAAcu8D,gBAAgBzhE,QAAQkG,cAAc,QAChG6zD,EAAa7zD,cAAc,aAA2BE,aAAa,WAAY,YAC/E4kB,eAAam2C,GtBxRH,esB2RVj8D,EAAcu8D,gBAAgBrF,aAAal3D,EAAcu8D,gBAAgBzhE,QAAQkG,cAAc,QAC/F6zD,EAAa7zD,cAAc,aAA2Bw7D,gBAAgB,YACtEr4C,YAAU83C,GtB7RA,csB+Rdj8D,EAAco7D,mBAAmBn9D,IAClC,MAIPu8D,EAAa/nF,UAAUoqF,UAAY,SAAUU,EAAatjE,GACtD,GAAIujE,IAAevjE,EAAKkY,KACxB,IAAIlY,EAAK0R,MAAMzP,OAAO+O,UAAUC,SAAS,cAAmC,UAAnBjR,EAAK0R,MAAM7yB,IAAiB,CACjF,GAAI8K,GAAY25E,EAAcluF,KAAKktF,gBAAkBltF,KAAKitF,cAEzB,UADZ14E,EAAU65E,QAAQxjE,EAAKkY,MACzB4nC,UACfn2D,EAAU85E,WAAWF,GAGrB55E,EAAU+5E,SAASH,KAI/BhD,EAAa/nF,UAAUyqF,iBAAmB,SAAUjjE,GAChD,GAA6B,SAAzB5qB,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAIjF,GAAervB,KAAK0qB,OAAO2E,aAC3B5nB,EAAYmjB,EAAKkY,KAAKjU,aAAa,kBACnCthB,EAAY8hB,EAAa9hB,UAAU9F,GACnCi+D,IACJ,IAAIn4D,GAAaA,EAAUtG,cAAc9H,OAAS,IAAMa,KAAKqmF,kBACxD94E,EAAUO,QAAQ8c,EAAK2jE,SAASxgF,IAAIm6D,aAAc,CAEnD,IAAK,GADDsmB,MACKvvF,EAAK,EAAGC,EAAKqO,EAAUtG,cAAehI,EAAKC,EAAGC,OAAQF,IAAM,CACjE,GAAIG,GAAOF,EAAGD,EACVG,GAAKi0D,MAAQzoC,EAAK2jE,SAASxgF,GAAG7F,YAC9BsmF,EAAW9uF,KAAKN,GAGE,IAAtBovF,EAAWrvF,SACXoO,EAAU2U,gBACVmN,EAAak4C,gBAAgBvnE,KAAK0qB,OAAOwE,mBAAoBtE,EAAK2jE,SAASxgF,GAAG7F,WAAYT,GAC1F+mF,EAAajhF,EAAU2U,aACvB3U,EAAU2U,gBAEd,IAAI6jE,GAAW5nF,EAAUW,cAAc0vF,GACnCC,EAAczuF,KAAKitF,eAAe5tF,OAAOiE,WACzC6N,GAAY,CACXxN,qBAAkB3D,KAAKwrF,gBACxBr6E,EAAuC,YAA3BnR,KAAKwrF,aAAa7jF,KAC9B+9D,EAAc1lE,KAAKwrF,aAAav5E,MAAQjS,KAAKwrF,aAAav5E,UAE9D8zE,EAAW/lF,KAAK0uF,gBAAgBv9E,EAAW40E,EAAUrgB,EAAaj+D,EAAWmjB,EAAK2jE,SAElF,KAAK,GAAIhlF,GAAK,EAAGolF,EADjB5I,EAAW/lF,KAAK0qB,OAAOyI,UAAU0zD,mBAAmBd,EAAU12D,EAAa9hB,UAAU9F,GAAWI,MACxD0B,EAAKolF,EAAWxvF,OAAQoK,IAAM,CAClE,GAAIu5B,GAAO6rD,EAAWplF,EACtBklF,GAAY/uF,KAAKojC,GAErBv1B,EAAUO,QAAQ8c,EAAK2jE,SAASxgF,IAAIm6D,cAAe,EACnDloE,KAAKitF,eAAe2B,SAAS7I,EAAUn7D,EAAKkY,SAKxDqoD,EAAa/nF,UAAUsrF,gBAAkB,SAAUv9E,EAAWrD,EAAS43D,EAAaj+D,EAAWonF,GAK3F,IAAK,GAJDtG,GAAcjpF,OAAOC,KAAKS,KAAK0qB,OAAOw+D,qBAAqB/pF,OAC3DoO,EAAYvN,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAC/CyJ,KACA49E,EAAmB,EACd7vF,EAAK,EAAGiU,EAAYpF,EAAS7O,EAAKiU,EAAU/T,OAAQF,IAAM,CAC/D,GAAIkU,GAASD,EAAUjU,GACnBypB,EAAMvV,EACNqH,EAAarH,EAAOpF,GAAG7F,UAC3BqF,GAAUO,QAAQ0M,GAAY0tD,cAAe,EAC7C/0D,EAAO3F,WAAuC,SAAzBqhF,EAAWnkB,UAC5BokB,GAAoB9uF,KAAK0qB,OAAO0qB,QAAQqzC,4BACxCv3E,EAAKxR,KAAKgpB,GAEd1oB,KAAK0qB,OAAO89D,iBAAiB9oF,KAAKgpB,GAClC1oB,KAAK0qB,OAAO49D,gBAAgB5oF,KAAKgpB,GACjC1oB,KAAK0qB,OAAOw+D,oBAAoB1uE,GAAc+tE,EAC9CA,IACAuG,IAGJ,MADA9uF,MAAK0qB,OAAOk+D,gBAAiB,EACtB13E,GAEXi6E,EAAa/nF,UAAU0oF,cAAgB,SAAU/F,EAAUn3D,EAAcnnB,GACrE,GAAIsnF,GAAU3iE,gBAAc,OACxBY,UAAW,wBAEfhtB,MAAKk7C,YAAY3tB,QAAUwhE,EAC3B/uF,KAAKk7C,YAAY2tC,UAejB,KAAK,GAdDmG,IAAS,QAAS,QAAS,UAAW,WACtCC,EAAO,gCACP97E,EAAS7T,OAAOC,KAAKS,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWqG,SAAS,GAC5EyoC,EAAYv2C,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAWE,KAC1Dm7D,EAAY9iE,KAAK0qB,OAAOyI,UAAU4zD,oBAAoBt/E,GACtDwK,IAEI6J,QACIsN,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UACxCg0C,QAAUj9C,KAAKwrF,cAAgBwD,EAAM9pF,QAAQlF,KAAKwrF,aAAa7jF,MAAQ,EtBzLnD,yBsByLwF,IAEhH4lB,QAASvtB,KAAK0rF,eAAe3F,EAAUn3D,EAAcnnB,KAGpDxI,EAAK,EAAGiwF,EAAUF,EAAO/vF,EAAKiwF,EAAQ/vF,OAAQF,IAAM,CACzD,GAAI0I,GAAOunF,EAAQjwF,EACnB,IAAe,UAAT0I,GAAqB3H,KAAK0qB,OAAOwE,mBAAmBnd,kBAC5C,UAATpK,GAAoB3H,KAAK0qB,OAAOwE,mBAAmBxqB,iBAAmB,CACvE,GAAIiJ,GAAuB,UAAThG,GAAqB,EAASkM,MAAMo7E,IAClD,EAASp7E,MAAMo7E,GAAM,GAAG9vF,SAAW,EAASA,QAAyB,WAAdo3C,EAA0B,SACvE,UAAT5uC,GAAqD,iBAAhC,GAAIM,MAAKkL,GAAQjL,aACjC46D,GAAaA,EAAUn7D,MAAU3H,KAAKwrF,cAA2C,SAA3BxrF,KAAKwrF,aAAa7jF,MAAqB,OAASA,EAC5GvI,GACA0c,QACIsN,KAAsB,WAAfzb,EAA0B3N,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC/DjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY0E,EAAWiG,eACjDqpC,QAAUj9C,KAAKwrF,cAAgBxrF,KAAKwrF,aAAa7jF,OAASgG,EtB1M1C,yBsB0MwF,IAG5G4f,QAASvtB,KAAKmvF,mBAAmB1nF,EAAYzH,KAAKwrF,cAAgBxrF,KAAKwrF,aAAa7jF,OAASgG,EAAa3N,KAAKwrF,iBAAetrF,GAAYyN,EAAWiG,eAEzJ3B,GAAMvS,KAAKN,IAGnB,GAAIgwF,GAAiBpvF,KAAKwrF,cAAiB,QAAS,OAAQ,UAAUtmF,QAAQlF,KAAKwrF,aAAa7jF,OAAS,EACrG,EAA+B,UAA3B3H,KAAKwrF,aAAa7jF,KACrB3H,KAAK0qB,OAAOwE,mBAAmBnd,kBAAoB/R,KAAK0qB,OAAOwE,mBAAmBxqB,iBAAoB,EAAI,EAAI,EAAI,CACvH1E,MAAKqvF,OAAS,GAAIC,QACdC,iBAAkB,OAClBt9E,MAAOA,EACP4b,OAAQ,OACR2hE,aAAcJ,EACdhkE,UAAWprB,KAAK0qB,OAAOU,YAE3BprB,KAAKqvF,OAAO9iE,kBAAmB,EAC/BvsB,KAAKqvF,OAAO7iE,SAASuiE,GACjBK,EAAgB,GAEhBt6C,YAAU90C,KAAKk7C,YAAYzvB,QAAQkG,cAAc,0BAAmD,IAAlBy9D,GAAuBpvF,KAAK0qB,OAAOwE,mBAAmBnd,iBAAmB,iBAAmB,oBAAqB,mBAI3Mo5E,EAAa/nF,UAAU+rF,mBAAqB,SAAU1nF,EAAW+jF,EAAc7jF,GAmB3E,IAAK,GAlBDrE,MACAmsF,KACAC,KACAp8B,EAAWtzD,KAAK0qB,OAAOwE,mBAAmBxsB,OAC1CitF,EAAiB,gBACjBC,EAAqB,EACrBC,EAAqB,EACrB5jB,GACAuE,OAAQ,SAAU,gBAAiB,YAAa,mBAAoB,WAChE,kBAAmB,WAAY,kBAAmB,cAClD,uBAAwB,WAAY,oBAAqB,UAAW,cACxE5xE,MAAO,SAAU,gBAAiB,SAAU,kBAAmB,QAAS,iBACpE,UAAW,cACfP,OAAQ,SAAU,gBAAiB,cAAe,uBAAwB,WACtE,oBAAqB,UAAW,eAEpCyxF,GAAoB,UAAW,cAC/BC,EAA+B,UAATpoF,EAAmBskE,EAAQuE,MAAiB,SAAT7oE,EAAkBskE,EAAQrtE,KAAOqtE,EAAQ5tE,MAC7FY,EAAK,EAAG+wF,EAAuBD,EAAoB9wF,EAAK+wF,EAAqB7wF,OAAQF,IAAM,CAChG,GAAIwU,GAAWu8E,EAAqB/wF,EACpC0wF,GAAmBnE,GAAgB/3E,IAAa+3E,EAAa54E,UACzDm9E,EAAmB7qF,QAAQsmF,EAAa54E,YAAc,EAClD44E,EAAa54E,UAAYm9E,EAAmB,GAAKJ,EACzDrsF,EAAW5D,MAAOrB,MAAOoV,EAAU2V,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAYwK,KAG/E,IADA,GAAIzL,GAAMsrD,EAASn0D,OACZ6I,KACHynF,EAAaQ,SAAU5xF,MAAOi1D,EAAStrD,GAAK7C,KAAMikB,KAAOkqC,EAAStrD,GAAKoC,QAAUkpD,EAAStrD,GAAKoC,QAAUkpD,EAAStrD,GAAK7C,OACvHyqF,EAAqBpE,GAAsC,UAAtBA,EAAa7jF,MAC9C6jF,EAAap2E,UAAYk+C,EAAStrD,GAAK7C,MACvCqmF,EAAa54E,YAAc+8E,EAAiB3nF,EAAM4nF,CAE1D,IAA6B,SAAzB5vF,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAIjF,GAAervB,KAAK0qB,OAAO2E,aAC3B8vC,EAAS9vC,EAAa9hB,UAAU9F,GAAW03D,MAC/C,IAAIn/D,KAAK0qB,OAAO2E,aAAa9hB,UAAU9F,GAAW4gE,YAC9CqnB,EAAahwF,MAAOrB,MAAOoJ,EAAW2hB,KAAMiG,EAAa9hB,UAAU9F,GAAWtC,OAC9E0qF,EAAqB,EACjBrE,GAAgBA,EAAarmF,OAASsC,GAAa+jF,EAAa7jF,KAAKiM,gBAAkBjM,IACvF+nF,EAAaA,EAAavwF,OAAS,GAAc,UAAIohC,EAAW,8BAIpE,KAAK,GAAIzgC,GAAI,EAAGO,EAAM8+D,EAAOhgE,OAAQW,EAAIO,EAAKP,IAAK,CAC/C+vF,EAAsBrE,GAClBA,EAAav4D,gBAAkBksC,EAAOr/D,GAAGiO,GAAKjO,EAAI+vF,EACtDH,EAAahwF,MAAOrB,MAAO8gE,EAAOr/D,GAAGiO,GAAIqb,KAAM+1C,EAAOr/D,GAAGqF,MACzD,KAAK,GAAIjG,GAAK,EAAGqK,EAAKvJ,KAAK0qB,OAAOwE,mBAAmBhgB,eAAgBhQ,EAAKqK,EAAGpK,OAAQD,IAAM,CACvF,GAAI8M,GAAQzC,EAAGrK,EACf,IAAI8M,EAAM7G,OAASsC,GAAauE,EAAMinB,gBAAkBksC,EAAOr/D,GAAGiO,IAAM/B,EAAMrE,KAAKiM,gBAAkBjM,EAAM,CACvG+nF,EAAaA,EAAavwF,OAAS,GAAc,UAAIohC,EAAW,wBAChE,UAMpB,GAAIjR,GAAUlD,gBAAc,OACxBY,UAAWkjE,4BAA0C,OAAQ,UAAWhrF,QAAQyC,IAAS,EAAI,QAAUA,GAAQ,UAC/GoG,GAAI/N,KAAK0qB,OAAOu6C,SAAW,IAAMt9D,EAAO,sBACxCslB,OACIsC,YAAa5nB,EAAMmgE,iBAAkBrgE,EAAW0oF,gBAAiBR,EACjES,qBAAgD,SAAzBpwF,KAAK0qB,OAAO4J,UAC/Bo7D,EAAavwF,OAAS,EAAIuwF,EAAaG,GAAoBxxF,MAAM6J,WAAa,GAClFmoF,eAAiBrwF,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,OAAS,EAC5Da,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOktF,GAAoBzqF,KAAO,GACrEmrF,cAAgB9E,GAAgBmE,IAAmBnE,EAAa54E,WAC5D44E,EAAa34E,OAAS24E,EAAa34E,OAAO3K,WAAkB,GAChEqoF,cAAgB/E,GAAgBmE,IAAmBnE,EAAa54E,WAC5D44E,EAAa14E,OAAS04E,EAAa14E,OAAO5K,WAAkB,MAGpEsoF,EAAiBpkE,gBAAc,OAC/BY,UtBxSuB,oBsBySvBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAYtB,EAAO,iBAEpD8oF,EAAwBrkE,gBAAc,OACtCY,UAAW0jE,wBACwC,IAA9CZ,EAAiB5qF,QAAQyqF,GtBzfhB,YsByf4D,IAC1EzjE,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAE7C0nF,EAAevkE,gBAAc,OAASY,UtB5SjB,oBsB6SrB4C,EAAoBxD,gBAAc,OAASY,UtB3SZ,8BsB4S/B4jE,EAAkBxkE,gBAAc,OAChCY,UAAW,2BACmB,SAAzBhtB,KAAK0qB,OAAO4J,SAAsB,GtBhgBzB,esBkgBdzE,EAAoBzD,gBAAc,OAClCY,UAAW,8BAAuC,QAAS,OAAQ,UAAW9nB,QAAQyC,IAAS,EtBngBjF,YsBmgByG,MAEvHmoB,EAAoB1D,gBAAc,OAASY,UAAW,+BACtD6jE,EAAoBzkE,gBAAc,OAASY,UtBlTZ,8BsBmT/B8jE,EAAkB1kE,gBAAc,OAASre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,IAAMt9D,EAAO,0BACjF4oB,EAAiBnE,gBAAc,OAASre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,IAAMt9D,EAAO,4BAChF6oB,EAAiBpE,gBAAc,OAASre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,IAAMt9D,EAAO,8BAChF2oB,EAAYlE,gBAAc,OAASY,UtBpTT,yBsBqT1B+jE,EAAY3kE,gBAAc,OAC1BY,UAAWgkE,0BACwC,IAA9ClB,EAAiB5qF,QAAQyqF,GtB7gBhB,YsB6gB4D,MAE1Ej/D,EAActE,gBAAc,SAC5Bre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,IAAMt9D,EAAO,kBAAmBslB,OAAStlB,KAAQ,UAE5EspF,EAAc7kE,gBAAc,SAC5Bre,GAAI/N,KAAK0qB,OAAOu6C,SAAW,IAAMt9D,EAAO,kBAAmBslB,OAAStlB,KAAQ,SAoBhF,OAlBA2oB,GAAUjE,YAAYqE,GACtBqgE,EAAU1kE,YAAY4kE,GACtBL,EAAgBvkE,YAAYykE,GAC5BF,EAAgBvkE,YAAYskE,EAAap6B,WAAU,IACnD1mC,EAAkBxD,YAAYkE,GAC9BV,EAAkBxD,YAAYskE,GAC9B7gE,EAAkBzD,YAAYmE,GAC9BZ,EAAkBvD,YAAYukE,GAC9BhhE,EAAkBvD,YAAYwD,GAC9BD,EAAkBvD,YAAYyD,GAC9B+gE,EAAkBxkE,YAAYiE,GAC9BugE,EAAkBxkE,YAAYokE,GAC9BI,EAAkBxkE,YAAY0kE,GAE9B/wF,KAAKkxF,eAAe1F,EAAcsE,EAAkBv/D,EAAgBC,EAAgBE,EAAaugE,EAAaxB,EAAcnsF,EAAYssF,EAAoBD,EAAgBhoF,EAAMmpF,EAAiBpB,EAAcG,GACjNvgE,EAAQjD,YAAYmkE,GACpBlhE,EAAQjD,YAAYuD,GACpBN,EAAQjD,YAAYwkE,GACbvhE,GAEX67D,EAAa/nF,UAAU8tF,eAAiB,SAAU58E,EAAW68E,EAAWC,EAAYC,EAAY/gE,EAAWygE,EAAWO,EAAaC,EAAa1tB,EAAY2tB,EAAQ7pF,EAAMmpF,EAAiBW,EAAaC,GACpM,GAAI/gE,GAAgB3wB,IACpB,IAA6B,SAAzBA,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAI23D,GAAe,GAAIp7D,iBACnBvtB,WAAYmuF,EAAarmE,UAAWprB,KAAK0qB,OAAOU,UAChD/rB,QAAUhB,MAAO,QAAS+qB,KAAM,OAAQ6zB,QAAS,aACjDvxC,MAAOgmF,EACPtjE,StBpViB,kBsBoVkBR,MAAO,OAC1CkD,OAAQ,SAAUlG,GACd,GAAIa,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,mBAC1DlqB,EAAYgkB,EAAQoD,aAAa,kBACjClnB,EAAO8jB,EAAQoD,aAAa,YAChC,KAAKlrB,oBAAkB8nB,GAAvB,CACIkF,EAAcghE,kBAAkBlmE,EAAS9jB,EAAM2oB,EAAWygE,GAC1Da,wBAAsBnmE,GAAW2kE,qBAAsBxlE,EAAKvsB,OAE5D,KAAK,GADDwzF,GACK5yF,EAAK,EAAGC,EAAKyxB,EAAcjG,OAAOwE,mBAAmBhgB,eAAgBjQ,EAAKC,EAAGC,OAAQF,IAAM,CAChG,GAAI+M,GAAQ9M,EAAGD,EACf,IAAI+M,EAAM7G,OAASsC,GAAauE,EAAMinB,gBAAkBrI,EAAKvsB,MAAO,CAChEwzF,EAAc7lF,CACd,QAGR,GAAI6lF,EAAa,CACA,UAATlqF,GAAoBkqF,EAAYz8E,SAAmC,KAAxBy8E,EAAYz8E,UACvDwb,EAAevyB,MAAQwzF,EAAYz8E,QAAUy8E,EAAYz8E,QAAUk8E,EAAY,GAAGjzF,OAIlFwzF,EAAYj/E,UACZk/E,EAAczzF,MAAQwzF,EAAYj/E,UAAYi/E,EAAYj/E,UAAY,gBAGtEk/E,EAAczzF,MAAQ,eAE1B,IAAIgzB,OAAY,GACZ0gE,MAAY,EACH,WAATpqF,GACA0pB,EAAYf,EAAU0hE,cAAc,GACpCD,EAAYhB,EAAUiB,cAAc,GAChC3gE,IACAA,EAAUhzB,MAAQwzF,EAAYh/E,OAASjG,SAASilF,EAAYh/E,OAAQ,QAAM3S,IAE1E6xF,IACAA,EAAU1zF,MAAQwzF,EAAY/+E,OAASlG,SAASilF,EAAY/+E,OAAQ,QAAM5S,MAI9EmxB,EAAYf,EAAU0hE,cAAc,GACpCD,EAAYhB,EAAUiB,cAAc,GAChC3gE,IACAA,EAAUhzB,MAAQwzF,EAAYh/E,OAASg/E,EAAYh/E,OAAS,IAE5Dk/E,IACAA,EAAU1zF,MAAQwzF,EAAY/+E,OAAS++E,EAAY/+E,OAAS,KAIxE6d,EAAcghE,kBAAkBlmE,EAAS9jB,EAAM2oB,EAAWygE,MAOtE9E,GAAa1/D,kBAAmB,EAChC0/D,EAAaz/D,SAASskE,GAE1B,GAAIlgE,GAAiB,GAAIC,iBACrBvtB,WAAYguF,EAAalmE,UAAWprB,KAAK0qB,OAAOU,UAChD/rB,QAAUhB,MAAO,QAAS+qB,KAAM,QAAU1d,MAAOm4D,EACjDz1C,StBtZqB,kBsBsZcR,MAAO,OAC1CkD,OAAQ,SAAUlG,GACd,GAAIa,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBACzDhuB,qBAAkB8nB,KACnBkF,EAAcghE,kBAAkBlmE,EAAS9jB,EAAM2oB,EAAWygE,GAC1Da,wBAAsBnmE,GAAW4kE,eAAgBzlE,EAAKvsB,WAOlEuyB,GAAerE,kBAAmB,EAClCqE,EAAepE,SAAS4kE,EACxB,IAAIU,GAAgB,GAAIjhE,iBACpBvtB,WAAYiuF,EAAanmE,UAAWprB,KAAK0qB,OAAOU,UAChD/rB,QAAUhB,MAAO,QAAS+qB,KAAM,QAAU/qB,MAAOmzF,EACjDpjE,StBnauB,oBsBmacR,MAAO,OAC5CkD,OAAQ,SAAUlG,GACd,GAAIa,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBAC9D,KAAKhuB,oBAAkB8nB,GAAvB,CACIkF,EAAcghE,kBAAkBlmE,EAAS9jB,EAAM2oB,EAAWygE,EAE1D,KAAK,GAAI9xF,GAAK,EAAGgzF,GtBzbD,qBAUE,wBsB+aoChzF,EAAKgzF,EAAkB9yF,OAAQF,IAAM,CACvF,GAAI+tB,GAAYilE,EAAkBhzF,EAC9BkyF,GAAUjsF,QAAQ0lB,EAAKvsB,QAAU,EACjCo4C,eAAahrB,EAAQkG,cAAc,IAAM3E,ItB1oB3C,asB6oBE8nB,YAAUrpB,EAAQkG,cAAc,IAAM3E,ItB7oBxC,asBgpBN4kE,wBAAsBnmE,GAAW0kE,gBAAiBvlE,EAAKvsB,WASnE,IAFAyzF,EAAcvlE,kBAAmB,EACjCulE,EAActlE,SAAS6kE,GACV,SAAT1pF,EAAiB,CACjB,GAAIuqF,GAAc,GAAIC,mBAClB5gE,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAC/CmiB,UAAWprB,KAAK0qB,OAAOU,UACvBvgB,OAAQ,wBACRkiF,iBAAiB,EACjB1uF,MAAQiW,GAAak9E,IAAWl9E,EAAU1B,UACP,gBAAtB0B,UAAiC,GAAIrM,MAAKqM,EAAUzB,QAAUyB,EAAUzB,OAAU,KAC/Fie,OAAQ,SAAU0O,GACd,GAAI/T,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBACzDhuB,qBAAkB8nB,IACnBmmE,wBAAsBnmE,GAAW6kE,cAAe9wD,EAAEnhC,MAAOkyF,cAAe6B,EAAY/zF,SAM5FuvB,MAAO,SAEPwkE,EAAc,GAAID,mBAClB5gE,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAC/CmiB,UAAWprB,KAAK0qB,OAAOU,UACvBvgB,OAAQ,wBACRkiF,iBAAiB,EACjB1uF,MAAQiW,GAAak9E,IAAWl9E,EAAU1B,UACP,gBAAtB0B,UAAiC,GAAIrM,MAAKqM,EAAUxB,QAAUwB,EAAUxB,OAAU,KAC/Fge,OAAQ,SAAU0O,GACd,GAAI/T,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBACzDhuB,qBAAkB8nB,IACnBmmE,wBAAsBnmE,GAAW6kE,cAAe4B,EAAY7zF,MAAOkyF,cAAe/wD,EAAEnhC,SAM5FuvB,MAAO,QAEXskE,GAAY3lE,kBAAmB,EAC/B2lE,EAAY1lE,SAAS8D,GACrB8hE,EAAY7lE,kBAAmB,EAC/B6lE,EAAY5lE,SAASukE,OAEpB,IAAa,UAATppF,EAAkB,CACvB,GAAI0qF,GAAc,GAAIC,mBAClB/gE,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAC/CmiB,UAAWprB,KAAK0qB,OAAOU,UACvB2hE,iBAAiB,EACjBliF,OAAQ,SACRxM,MAAQiW,GAAak9E,IAAWl9E,EAAU1B,UAAYhG,SAAS0H,EAAUzB,OAAQ,QAAM3S,GACvF4wB,OAAQ,SAAU0O,GACd,GAAI/T,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBACzDhuB,qBAAkB8nB,IACnBmmE,wBAAsBnmE,GAClB6kE,cAAgB9wD,EAAEnhC,MAAQmhC,EAAEnhC,MAAM6J,WAAa,IAC/CqoF,cAAgBgC,EAAYl0F,MAAQk0F,EAAYl0F,MAAM6J,WAAa,OAM5E0lB,MAAO,SAEV2kE,EAAc,GAAID,mBAClB/gE,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAC/CmiB,UAAWprB,KAAK0qB,OAAOU,UACvB2hE,iBAAiB,EACjBliF,OAAQ,SACRxM,MAAQiW,GAAak9E,IAAWl9E,EAAU1B,UAAYhG,SAAS0H,EAAUxB,OAAQ,QAAM5S,GACvF4wB,OAAQ,SAAU0O,GACd,GAAI/T,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBACzDhuB,qBAAkB8nB,IACnBmmE,wBAAsBnmE,GAClB6kE,cAAgB+B,EAAYh0F,MAAQg0F,EAAYh0F,MAAM6J,WAAa,IACnEqoF,cAAgB/wD,EAAEnhC,MAAQmhC,EAAEnhC,MAAM6J,WAAa,OAMxD0lB,MAAO,QAEdykE,GAAY9lE,kBAAmB,EAC/B8lE,EAAY7lE,SAAS8D,GACrBiiE,EAAYhmE,kBAAmB,EAC/BgmE,EAAY/lE,SAASukE,OAEpB,CACD,GAAIyB,GAAc,GAAIlhE,kBAClBC,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAC/CmiB,UAAWprB,KAAK0qB,OAAOU,UACvB2hE,iBAAiB,EACjB1uF,MAAQiW,GAAak9E,IAAWl9E,EAAU1B,UAAY0B,EAAUzB,OAAS,GACzEie,OAAQ,SAAU0O,GACd,GAAI/T,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBACzDhuB,qBAAkB8nB,IACnBmmE,wBAAsBnmE,GAAW6kE,cAAe9wD,EAAEnhC,MAAOkyF,cAAekC,EAAYp0F,SAKzFuvB,MAAO,SAEV6kE,EAAc,GAAInhE,kBAClBC,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAC/CmiB,UAAWprB,KAAK0qB,OAAOU,UACvB2hE,iBAAiB,EACjB1uF,MAAQiW,GAAak9E,IAAWl9E,EAAU1B,UAAY0B,EAAUxB,OAAS,GACzEge,OAAQ,SAAU0O,GACd,GAAI/T,GAAUkF,EAAcuqB,YAAYzvB,QAAQkG,cAAc,kBACzDhuB,qBAAkB8nB,IACnBmmE,wBAAsBnmE,GAAW6kE,cAAekC,EAAYn0F,MAAOkyF,cAAe/wD,EAAEnhC,SAKzFuvB,MAAO,QAEd4kE,GAAYjmE,kBAAmB,EAC/BimE,EAAYhmE,SAAS8D,GACrBmiE,EAAYlmE,kBAAmB,EAC/BkmE,EAAYjmE,SAASukE,KAI7B5F,EAAa/nF,UAAUuuF,kBAAoB,SAAUlmE,EAAS9jB,EAAM2oB,EAAWygE,GAC3E,GAAIl+E,GACAC,CACJ,IAAa,SAATnL,EAAiB,CACjB,GAAI0pB,GAAYf,EAAU0hE,cAAc,GACpCD,EAAYhB,EAAUiB,cAAc,EACxCn/E,GAAUlP,oBAAkB0tB,EAAUhzB,OAAsC,GAA7BgzB,EAAUhzB,MAAM6J,WAC/D4K,EAAUnP,oBAAkBouF,EAAU1zF,OAAsC,GAA7B0zF,EAAU1zF,MAAM6J,eAE9D,CACD,GAAImpB,GAAYf,EAAU0hE,cAAc,GACpCD,EAAYhB,EAAUiB,cAAc,EACxCn/E,GAASwe,EAAUhzB,MACnByU,EAASi/E,EAAU1zF,MAEvBuzF,wBAAsBnmE,GAAW6kE,cAAez9E,EAAQ09E,cAAez9E,KAE3Eq4E,EAAa/nF,UAAUuqF,iBAAmB,SAAUnuD,GAC5CA,EAAEsD,KAAKlH,UAAUC,StBvyBH,esBwyBd2D,EAAEJ,QAAS,IAUnB+rD,EAAa/nF,UAAU2oF,mBAAqB,SAAUn9D,GAClD,GAAI42D,GAAexlF,KAAKk7C,YAAYzvB,OACpCmmE,yBAAsBpM,GAAgBkN,KAAQ,OAAQC,gBAAiB,QACvE,IAAIzhF,MAAU0pB,MAAMC,KAAK76B,KAAKitF,eAAexhE,QAAQqQ,iBAAiB,OAClEr0B,EAAY+9E,EAAa32D,aAAa,kBACtC+jE,EAAiB5yF,KAAK6yF,kBAAkBprF,GACxCqrF,EAAe9yF,KAAK+yF,gBAAgBtrF,GACpCurF,EAAYhzF,KAAKktF,gBAAgBzhE,QAAQkG,cAAc,MAAMA,cAAc,eAC3EzgB,GAAK/R,OAAS,EACV2zF,EAAe,GACXF,EAAiB,GACjBn8C,eAAau8C,GtBjtBH,WsBktBVl+C,YAAUk+C,GtBhtBD,WsBktBe,IAAnBJ,IACLn8C,eAAau8C,GtBntBJ,UsBotBTl+C,YAAUk+C,GtBttBA,YsBwtBdhzF,KAAKk7C,YAAYltB,QAAQ,GAAGG,YAAYw9D,UAAW,EACnDnG,EAAa7zD,cAAc,aAA2Bw7D,gBAAgB,aAEjEyF,EAAiB,GAAsB,IAAjBE,IAC3Br8C,eAAau8C,ItB5tBC,UAED,WsB2tBThzF,KAAK+yF,gBAAgBtrF,KAAeqrF,IACpC9yF,KAAKk7C,YAAYltB,QAAQ,GAAGG,YAAYw9D,UAAW,EACnDnG,EAAa7zD,cAAc,aAA2BE,aAAa,WAAY,eAKvF7xB,KAAKk7C,YAAYltB,QAAQ,GAAGG,YAAYw9D,UAAW,EACnDnG,EAAa7zD,cAAc,aAA2BE,aAAa,WAAY,cAGvFs5D,EAAa/nF,UAAU2vF,gBAAkB,SAAUtrF,GAC/C,GAAI4nB,GAAervB,KAAK0qB,OAAO2E,aAE3B4jE,IACJ,IAA6B,SAAzBjzF,KAAK0qB,OAAO4J,UAAuBjF,IAClCA,EAAa9hB,UAAU9F,GAAW4gE,YAEnC,MADWroE,MAAKitF,eAAeiG,qBACf/zF,MAGhB,KAAK,GAAIF,GAAK,EAAGC,EAAKc,KAAK0qB,OAAO49D,gBAAiBrpF,EAAKC,EAAGC,OAAQF,IAAM,CACrE,GAAIG,GAAOF,EAAGD,EACVG,GAAKoO,YACLylF,EAAYvzF,KAAKN,GAGzB,MAAO6zF,GAAY9zF,QAG3BgsF,EAAa/nF,UAAUyvF,kBAAoB,SAAUprF,GACjD,GAAI0rF,MACAC,KACA/jE,EAAervB,KAAK0qB,OAAO2E,YAC/B,IAA6B,SAAzBrvB,KAAK0qB,OAAO4J,UAAuBjF,IAAiBA,EAAa9hB,UAAU9F,GAAW4gE,YAEtF,MADA+qB,GAAWpzF,KAAKitF,eAAeiG,qBACvBlzF,KAAKitF,eAAe5tF,OAAOiE,WAAWnE,OAC1Ci0F,EAASj0F,MAMb,KAAK,GAAIF,GAAK,EAAGC,EAAKc,KAAK0qB,OAAO49D,gBAAiBrpF,EAAKC,EAAGC,OAAQF,IAAM,CACrE,GAAIG,GAAOF,EAAGD,EACTG,GAAKoO,YACN2lF,EAAczzF,KAAKN,GAG3B,MAAO+zF,GAAch0F,QAG7BgsF,EAAa/nF,UAAUsK,cAAgB,SAAUjG,GAE7C,IAAK,GADD4rF,IAAgB,EACXp0F,EAAK,EAAGC,EAAKc,KAAK0qB,OAAOwE,mBAAmBlqB,QAAS/F,EAAKC,EAAGC,OAAQF,IAE1E,GADYC,EAAGD,GACLkG,OAASsC,EAAW,CAC1B4rF,GAAgB,CAChB,OAGR,QAAKA,IAAkBrzF,KAAK0qB,OAAOwE,mBAAmBnd,mBAAoB/R,KAAK0qB,OAAOwE,mBAAmBxqB,mBAO7GymF,EAAa/nF,UAAUqoF,gBAAkB,SAAUhkF,GAC/C,GAAI6M,GAAYtU,KAAK0qB,OAAOyI,UAAU8yD,oBAAoBx+E,EAC1D,IAAI6M,KAAiB,QAAS,OAAQ,UAAUpP,QAAQoP,EAAU3M,OAAS,GACvE3H,KAAK0qB,OAAOwE,mBAAmBnd,kBACX,UAAnBuC,EAAU3M,MAAoB3H,KAAK0qB,OAAOwE,mBAAmBxqB,mBAC5D,UAAW,WAAWQ,QAAQoP,EAAU3M,OAAS,GACnD,MAAO2M,IAQf62E,EAAa/nF,UAAUwoF,kBAAoB,WACnC5rF,KAAK2oF,sBACD3oF,KAAKqvF,SAAWrvF,KAAKqvF,OAAOj8D,aAC5BpzB,KAAKqvF,OAAOh8D,UAGhBrzB,KAAK8tF,WAAa9tF,KAAK8tF,SAAS16D,aAChCpzB,KAAK8tF,SAASz6D,UAEdrH,SAASC,eAAejsB,KAAK0qB,OAAOu6C,SAAW,oBAC/C3xC,SAAOtH,SAASC,eAAejsB,KAAK0qB,OAAOu6C,SAAW,oBAE1DjlE,KAAKk7C,YAAYxsB,SAErBy8D,EAAa/nF,UAAUyoF,mBAAqB,WACpC7rF,KAAKk7C,cAAgBl7C,KAAKk7C,YAAY9nB,aACtCpzB,KAAKk7C,YAAY7nB,UAEjBrH,SAASC,eAAejsB,KAAK0qB,OAAOu6C,SAAW,oBAC/C3xC,SAAOtH,SAASC,eAAejsB,KAAK0qB,OAAOu6C,SAAW,qBAGvDkmB,KCr7BPmI,GAA6B,WAM7B,QAASA,GAAYl+C,GA6BjB,MA3BAp1C,MAAKwoF,oBAELxoF,KAAKmpF,sBAELnpF,KAAKkpF,uBAELlpF,KAAKsoF,mBAELtoF,KAAK4oF,gBAAiB,EAEtB5oF,KAAKopF,aAAc,EACnBppF,KAAKyrB,QAAU2pB,EAAQ3pB,QACvBzrB,KAAKmmF,WAAa/wC,EAAQ+wC,WAC1BnmF,KAAKkvB,mBAAqBkmB,EAAQlmB,mBAClClvB,KAAKqvB,aAAe+lB,EAAQm+C,YAC5BvzF,KAAKorB,UAAYgqB,EAAQhqB,UACzBprB,KAAKq0B,WAAa+gB,EAAQ/gB,WAC1Br0B,KAAKqyB,WAAa+iB,EAAQ/iB,WAC1BryB,KAAKilE,SAAW7vB,EAAQrnC,GACxB/N,KAAK8D,UAAYsxC,EAAQtxC,UACzB9D,KAAKs0B,SAAW8gB,EAAQ9gB,SACxBt0B,KAAKwzF,kBAAoB,GAAI1J,IAAkB9pF,MAC/CA,KAAK62C,iBAAmB,GAAI2zC,IAAiBxqF,MAC7CA,KAAKmzB,UAAY,GAAImyD,IAAUtlF,MAC/BA,KAAKwlF,aAAe,GAAI2F,IAAanrF,MACrCA,KAAKm+C,YAAc,GAAI0sC,IAAY7qF,MACnCA,KAAKguE,eAAiB,GAAI+W,IAA0B/kF,MAC7CA,KAYX,MALAszF,GAAYlwF,UAAUiwB,QAAU,WACxBrzB,KAAKguE,gBACLhuE,KAAKguE,eAAe36C,WAGrBigE,KC/CPG,GAAgC,WAEhC,QAASA,GAAe/oE,GACpB1qB,KAAK0qB,OAASA,EAmflB,MA5eA+oE,GAAerwF,UAAUunB,OAAS,WAC9B,GAAI+oE,GAAoBtnE,gBAAc,OAClCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,WAC7Bif,UAAW2mE,6BAAoD,SAAzB3zF,KAAK0qB,OAAO4J,SxBD9B,0BwBC6E,IACjGsM,OAAQ,SAAW5gC,KAAK0qB,OAAOe,QAAQgB,MAAMmB,OAE7C5tB,MAAK0qB,OAAO2J,WACZygB,YAAU4+C,GAAoBxT,GAG9BzpC,eAAai9C,GAAoBxT,GAEjClgF,KAAK0qB,OAAOU,UACZ0pB,YAAU4+C,GAAoBzT,GAG9BxpC,eAAai9C,GAAoBzT,GAEjCjgF,KAAK0qB,OAAO0D,UACZ0mB,YAAU4+C,GAAoB1zF,KAAK0qB,OAAO0D,UAE9CpuB,KAAK6qB,cAAgBuB,gBAAc,OAASY,UxBjBvB,2BwBkBrBhtB,KAAK0qB,OAAOe,QAAQY,YAAYqnE,GAC5B1zF,KAAK0qB,OAAO2J,aACZq/D,EAAkBvG,gBAAgB,SAClCntF,KAAK6qB,cAAgBuB,gBAAc,OAASY,UxB6HlB,yBwB5H1BhtB,KAAK4zF,qBAAqBF,IAEC,UAA3B1zF,KAAK0qB,OAAO2H,YACZryB,KAAK6zF,sBAAsBH,GAC3B1zF,KAAK8zF,kBAAkB9zF,KAAK0qB,OAAOe,QAAQkG,cAAc,yBACzD3xB,KAAK+zF,gBAAgB/zF,KAAK0qB,OAAOe,QAAQkG,cAAc,0BAGvD3xB,KAAKg0F,mBAAmBN,IAGhCD,EAAerwF,UAAU4wF,mBAAqB,SAAUN,GACpD,IAAK1zF,KAAK0qB,OAAO2J,WAAY,CACzB,GAAI4/D,GAAe7nE,gBAAc,OAC7BY,UxBhBoB,uBwBkBpB9U,EAAgBkU,gBAAc,OAC9BY,UxBjB4B,kBwBkB5Bd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,oBAEjDgrF,GAAa5nE,YAAYnU,GACzB+7E,EAAa5nE,YAAYrsB,KAAKk0F,0BAC9Bp/C,YAAU4+C,GxBxCe,YwByCzBA,EAAkBrnE,YAAY4nE,GAC9BP,EAAkBrnE,YAAYrsB,KAAK6qB,eACnCiqB,YAAU4+C,GxB3Ce,YwB4CrB1zF,KAAK0qB,OAAOyH,yBACZuhE,EAAkBrnE,YAAYrsB,KAAKm0F,4BACnCn0F,KAAKo0F,8BAIjBX,EAAerwF,UAAUgxF,yBAA2B,WAC5Cp0F,KAAK0qB,OAAOyH,yBACZnyB,KAAKq0F,oBAAsB,GAAIC,aAC3B9jB,MAAOxwE,KAAK0qB,OAAO5mB,UAAUmF,YAAY,qBACzCsrF,SAAS,EACTnpE,UAAWprB,KAAK0qB,OAAOU,UACvB0F,OAAQ9wB,KAAKw0F,cAAc5oE,KAAK5rB,QAEpCA,KAAKq0F,oBAAoB9nE,kBAAmB,EAC5CvsB,KAAKq0F,oBAAoB7nE,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBACjE/N,KAAKy0F,uBAAyB,GAAIC,WAC9BtmE,SAAUumE,2CAAqF,UAA3B30F,KAAK0qB,OAAO2H,qBAC5C,IACpC9E,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC3CmiB,UAAWprB,KAAK0qB,OAAOU,UACvBiD,WAAW,IAEfruB,KAAKy0F,uBAAuBloE,kBAAmB,EAC/CvsB,KAAKy0F,uBAAuBjoE,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBACpE/N,KAAKy0F,uBAAuBhpE,QAAQmpE,QAAqC,UAA3B50F,KAAK0qB,OAAO2H,WAAyBryB,KAAK60F,iBAAiBjpE,KAAK5rB,MAC1GA,KAAK80F,mBAAmBlpE,KAAK5rB,OAErCA,KAAK+0F,wBAA0B,GAAIL,WAC/BtmE,SAAU4mE,sCAAsF,UAA3Bh1F,KAAK0qB,OAAO2H,qBAC7C,IACpC9E,QAASvtB,KAAK0qB,OAAOyH,uBAAyBnyB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC5EjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SACtCmiB,UAAWprB,KAAK0qB,OAAOU,UAAWiD,WAAYruB,KAAK0qB,OAAOyH,yBAE9DnyB,KAAK+0F,wBAAwBxoE,kBAAmB,EAChDvsB,KAAK+0F,wBAAwBvoE,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBACrE/N,KAAK+0F,wBAAwBtpE,QAAQmpE,QAAqC,UAA3B50F,KAAK0qB,OAAO2H,WAAyBryB,KAAKi1F,kBAAkBrpE,KAAK5rB,MAC5GA,KAAKk1F,iBAAiBtpE,KAAK5rB,OAEnCyzF,EAAerwF,UAAU+wF,yBAA2B,WAChD,GAAIgB,GAAe/oE,gBAAc,OAC7BY,UxBsVe,mBwBpVnB,IAAIhtB,KAAK0qB,OAAOyH,uBAAwB,CACpC,GAAIijE,GAAiBhpE,gBAAc,OAC/BY,UxB0Va,sBwBxVbqnE,EAAsBjoE,gBAAc,SACpCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBAEjCqnF,GAAe/oE,YAAYgoE,GAC3Bc,EAAa9oE,YAAY+oE,GAE7B,GAAIC,GAAejpE,gBAAc,OAC7BY,UxB+Ue,mBwB7UnB,IAAIhtB,KAAK0qB,OAAOyH,uBAAwB,CACpC,GAAImjE,GAAqBlpE,gBAAc,UACnCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBAEjCsnF,GAAahpE,YAAYipE,GAE7B,GAAIC,GAAqBnpE,gBAAc,UACnCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBAIjC,OAFAsnF,GAAahpE,YAAYkpE,GACzBJ,EAAa9oE,YAAYgpE,GAClBF,GAEX1B,EAAerwF,UAAUoxF,cAAgB,SAAU5pE,GAC3CA,EAAK2pE,UACLv0F,KAAK0qB,OAAOuyD,iBAAmB9wE,YAAWnM,KAAK0qB,OAAOwE,mBAAoB,MAAM,GAChFlvB,KAAK0qB,OAAO8qE,gBAAkBrpF,YAAWnM,KAAK0qB,OAAO+qE,eAAgB,MAAM,IAE/Ez1F,KAAK0qB,OAAOyH,wBAA0BnyB,KAAK0qB,OAAOyH,uBACnB,UAA3BnyB,KAAK0qB,OAAO2H,YACZryB,KAAKy0F,uBAAuBliE,eAAgBo5D,UAAW3rF,KAAK0qB,OAAOyH,yBACnEnyB,KAAK+0F,wBAAwBxiE,eAAgBo5D,UAAW3rF,KAAK0qB,OAAOyH,0BAGhEnyB,KAAK0qB,OAAOyH,wBACZnyB,KAAKy0F,uBAAuBhpE,QAAQgB,MAAME,QAAU,GACpD3sB,KAAK+0F,wBAAwBxiE,eAAgBhF,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YACxFjJ,KAAK+0F,wBAAwB1mE,WAAY,IAGzCruB,KAAKy0F,uBAAuBhpE,QAAQgB,MAAME,QAAU,OACpD3sB,KAAK+0F,wBAAwBxiE,eAAgBhF,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WACxFjJ,KAAK+0F,wBAAwB1mE,WAAY,GAGjDruB,KAAKi1F,qBAETxB,EAAerwF,UAAUyxF,iBAAmB,WACxC70F,KAAK0qB,OAAOuH,kBAAiB,EAC7B,IAAIvH,GAAS1qB,KAAK0qB,MAElBA,GAAOiyD,gBAAgBhyD,SACvBD,EAAOuyD,iBAAmB9wE,YAAWue,EAAOwE,mBAAoB,MAAM,GACtExE,EAAO8qE,gBAAkBrpF,YAAWue,EAAO+qE,eAAgB,MAAM,IAGrEhC,EAAerwF,UAAU6xF,kBAAoB,WAMzC,GAJAj1F,KAAK0qB,OACD6H,eACArD,mBAAoBlvB,KAAK0qB,OAAOuyD,iBAAiBhxE,aAClD,GAC0B,SAAzBjM,KAAK0qB,OAAO4J,SAAqB,CACjCt0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAAYpB,YAAWnM,KAAK0qB,OAAO8qE,gBAAiB,MAAM,EACvF,KAAK,GAAIv2F,GAAK,EAAGC,EAAKI,OAAOC,KAAKS,KAAK0qB,OAAO8qE,iBAAkBv2F,EAAKC,EAAGC,OAAQF,IAAM,CAClF,GAAImiB,GAASliB,EAAGD,GACZG,EAAOY,KAAK0qB,OAAO8qE,gBAAgBp0E,EACvCphB,MAAK0qB,OAAO6J,iBAAiB8wC,oBAAoBjmE,EAAK2O,GAAI3O,EAAKoO,iBAInExN,MAAK0qB,OAAO2E,aAAa9hB,UAAYpB,YAAWnM,KAAK0qB,OAAO8qE,gBAAiB,MAAM,EAEvFx1F,MAAK0qB,OAAOuH,kBAAiB,GAAO,IAExCwhE,EAAerwF,UAAUywF,sBAAwB,SAAUH,GACvD,GAAIgC,GAAkBtpE,gBAAc,OAChCY,UAAW2oE,6CACX1oE,OACIk/D,SAAY,IACZ3rD,MAAOxgC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aACzC2sF,gBAAiB,QACjBtK,aAActrF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAIxD,IADAjJ,KAAK0qB,OAAOe,QAAQY,YAAYqpE,GAC5B11F,KAAK0qB,OAAO2J,WAAY,CACxB,GAAIqY,GAAiB,0HACyD1sC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAC5G,eACA+kB,IACIC,MAAOjuB,KAAK61F,oBAAoBjqE,KAAK5rB,MACrCmuB,aACIC,SAAU0nE,mCACV74C,QAAS1c,EAAW,cACpBlS,WAAW,KAGfJ,MAAOjuB,KAAK+1F,oBAAoBnqE,KAAK5rB,MACrCmuB,aACIC,SAAU4nE,mDAEV/4C,QAAS1c,EAAW,cAA0BnV,UAAWprB,KAAK0qB,OAAOU,UACrEiD,WAAW,IAGvBruB,MAAK+qF,gBAAkB,GAAI59D,WACvBC,mBAAqBC,OAAQrtB,KAAK0qB,OAAOU,UAAY,aAAe,aACpEtP,OAAQ4wB,EACRnf,QAASvtB,KAAK6qB,cACd4C,SAAS,EACTE,eAAe,EACfD,SAAS,EACTJ,eAAe,EACfiB,eAAe,EACfnD,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ,OACRnU,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,QAASA,EACTnB,OAAQb,SAAS0vB,KACjBhtB,MAAO1uB,KAAKi2F,oBAAoBrqE,KAAK5rB,QAEzCA,KAAK+qF,gBAAgBx+D,kBAAmB,EACxCvsB,KAAK+qF,gBAAgBv+D,SAASknE,GAE9Bv9D,oBAAkBu9D,EAAkB/hE,cAAc,IAAM+hE,EAAkB3lF,GAAK,oBAC3E67C,QAAW,KAEf,IAAI9f,GAAS4pD,EAAkB/hE,cAAc,oBAC7CmjB,aAAUhL,GxBzMe,uBwB0MzB2M,eAAa3M,EAAOnY,cAAc,4BxBpEf,UwBqEnB8kB,eAAa3M,EAAOnY,cAAc,sBxBrEf,UwBsEnB3xB,KAAK+qF,gBAAgBt/D,QAAQkG,cAAc,2BAAqBijE,QAC5D50F,KAAK0qB,OAAOyH,uBAAyBnyB,KAAK80F,mBAAmBlpE,KAAK5rB,MAAQA,KAAKk1F,iBAAiBtpE,KAAK5rB,UAExG,CACD,GAAImtC,GAAWntC,KAAKm0F,2BAA2B+B,UAC3CxpD,EAAiB,wDACe1sC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAAe,cACrFjJ,MAAK+qF,gBAAkB,GAAI59D,WACvBC,mBAAqBC,OAAQ,QAC7BvR,OAAQ4wB,EACRnf,QAASvtB,KAAK6qB,cACd4C,SAAS,EACTE,eAAe,EACfD,SAAS,EACTJ,eAAe,EACflC,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO5tB,KAAK0qB,OAAOe,QAAQgB,MAAMmB,MACjClU,UAAYoU,EAAG,SAAUC,EAAG/tB,KAAK0qB,OAAOe,QAAQ0qE,WAChD/oD,eAAgBD,EAChB5e,eAAe,EACf1B,OAASlpB,oBAAkB3D,KAAK0qB,OAAOmC,QAC+Bb,SAAS0vB,KADG,gBAAxB17C,MAAK0qB,OAAOmC,OAClEb,SAAS2F,cAAc3xB,KAAK0qB,OAAOmC,QAAU7sB,KAAK0qB,OAAOmC,OAC7D6B,MAAO1uB,KAAKi2F,oBAAoBrqE,KAAK5rB,QAEzCA,KAAK+qF,gBAAgBx+D,kBAAmB,EACxCvsB,KAAK+qF,gBAAgBv+D,SAASknE,GAG9B1zF,KAAKo0F,2BACLj+D,oBAAkBu9D,EAAkB/hE,cAAc,IAAM+hE,EAAkB3lF,GAAK,WAAa6f,MAAS,SACrG8lE,EAAkB/hE,cAAc,mBAA8BtF,YAAYrsB,KAAKk0F,4BAOvFT,EAAerwF,UAAU6uB,iBAAmB,SAAUmkE,GAElD,IAAK,GADDnsF,IAAQ,UAAW,UAAW,OAAQ,UACjChL,EAAK,EAAG2qF,EAAkBwM,EAAen3F,EAAK2qF,EAAgBzqF,OAAQF,IAAM,CACjF,GACIwI,GADQmiF,EAAgB3qF,GAExB+qF,EAAe//E,EAAKjK,KAAKq2F,gBAAgB7G,aAC7CxvF,MAAK0qB,OAAOwI,YAAY2jB,iBAAiBzB,QAA0C,cAAhCp1C,KAAK0qB,OAAO0H,gBAC3DpyB,KAAK0qB,OAAU1qB,KAAK0qB,OAAO4H,gBAC3BtyB,KAAK0qB,OAAO4H,gBAAkBtyB,KAAK0qB,OACvC1qB,KAAK0qB,OAAOwI,YAAY2jB,iBAAiB5kB,iBAAiBxqB,EAAWuiF,GAAe,GAExFhqF,KAAK0qB,OAAOiyD,gBAAgBhyD,SACvB3qB,KAAK0qB,OAAOyH,uBAIbnyB,KAAK0qB,OAAOgI,uBAHZ1yB,KAAK0qB,OAAOuH,kBAAiB,IAMrCwhE,EAAerwF,UAAU0xF,mBAAqB,WAC1C90F,KAAK0qB,OAAOuH,mBACZjyB,KAAK0qB,OAAOogE,eAAeC,gBAAgBz8D,QAE/CmlE,EAAerwF,UAAUwwF,qBAAuB,SAAUF,GACtD,GAAIyB,GAAe/oE,gBAAc,OAC7BY,UxB1QyB,uBwB4Q7B0mE,GAAkBrnE,YAAYrsB,KAAK6qB,cACnC,IAAI5Y,KAEI6J,QAAUsN,KAAQppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YACpDskB,QAASvtB,KAAKs2F,gBAAgB,aAG9Bx6E,QAAUsN,KAAQppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YACpDskB,QAASvtB,KAAKs2F,gBAAgB,aAG9Bx6E,QAAUsN,KAAQppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SACpDskB,QAASvtB,KAAKs2F,gBAAgB,UAG9Bx6E,QAAUsN,KAAQppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WACpDskB,QAASvtB,KAAKs2F,gBAAgB,YAG9Bx6E,QAAUsN,KAAQppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,0BACpDskB,QAAS,+BAGZvtB,MAAK0qB,OAAO2R,sBACbpqB,EAAM+J,MAEVhc,KAAKq2F,gBAAkB,GAAI/G,QACvBC,iBAAkB,OAClBt9E,MAAOA,EACP4b,OAAQ,OACRzC,UAAWprB,KAAK0qB,OAAOU,UACvBuO,SAAU35B,KAAKu2F,UAAU3qE,KAAK5rB,QAEH,UAA3BA,KAAK0qB,OAAO2H,YACZ8iE,EAAa9oE,YAAYrsB,KAAKw2F,mBAC9B1hD,YAAU4+C,GxBnUe,YwBoUzB1zF,KAAKq2F,gBAAgB9pE,kBAAmB,EACxCvsB,KAAKq2F,gBAAgB7pE,SAASxsB,KAAK6qB,eACnC7qB,KAAK6qB,cAAcwB,YAAY8oE,KAG/Bn1F,KAAKq2F,gBAAgB9pE,kBAAmB,EACxCvsB,KAAKq2F,gBAAgB7pE,SAASxsB,KAAK6qB,iBAG3C4oE,EAAerwF,UAAUmzF,UAAY,SAAU/2D,GAC3C,GAAIi3D,GAAepiD,UAAQr0C,KAAK6qB,cAAe,4BAC3C4rE,IAAgBA,EAAa9kE,cAAc,uBACnB,IAApB6N,EAAE4vD,eACFt6C,YAAU2hD,EAAa9kE,cAAc,4BxB/V3B,awBgWV8kB,eAAaggD,EAAa9kE,cAAc,sBxBhW9B,ewBmWV8kB,eAAaggD,EAAa9kE,cAAc,4BxBnW9B,awBoWVmjB,YAAU2hD,EAAa9kE,cAAc,sBxBpW3B,ewBuWM,IAApB6N,EAAE4vD,eACFpvF,KAAKq2F,gBAAgBpkF,MAAM,GAAGsb,QAAU,GACxCvtB,KAAKq2F,gBAAgBxN,WACrB7oF,KAAK0qB,OAAO8H,OzBjQS,4ByBoQrBxyB,KAAK0qB,OAAOiyD,gBAAgBhyD,UAGpC8oE,EAAerwF,UAAU8wF,uBAAyB,WAC9C,GAAIwC,GAAmBtqE,gBAAc,OACjCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAC7Bkf,OACIk/D,SAAY,IACZyJ,gBAAiB,QACjBtK,aAActrF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,sBAGpD0tF,EAAiB,GAAIjC,WACrBtmE,SAAUwoE,+BACVrpE,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBAC3CmiB,UAAWprB,KAAK0qB,OAAOU,WAQ3B,OANAurE,GAAepqE,kBAAmB,EAClCoqE,EAAenqE,SAASkqE,GACpB12F,KAAK0qB,OAAO4S,uBACZmZ,eAAaigD,GxBjYC,awBmYlBC,EAAelrE,QAAQmpE,QAAU50F,KAAK+1F,oBAAoBnqE,KAAK5rB,MACxD02F,GAEXjD,EAAerwF,UAAUozF,gBAAkB,WACvC,GAAIK,GAAkBzqE,gBAAc,OAChCY,UAAW8pE,gCAEXC,EAAkB3qE,gBAAc,UAChCsqE,EAAmBtqE,gBAAc,UACjCuqE,EAAiB,GAAIjC,WACrBtmE,SAAU4nE,mDAEV/4C,QAAS1c,EAAW,cACpBnV,UAAWprB,KAAK0qB,OAAOU,YAEvB7d,EAAY,GAAImnF,WAChBtmE,SAAU0nE,mCACV74C,QAAS1c,EAAW,cACpBnV,UAAWprB,KAAK0qB,OAAOU,WAU3B,OARA7d,GAAUgf,kBAAmB,EAC7Bhf,EAAUif,SAASuqE,GACnBJ,EAAepqE,kBAAmB,EAClCoqE,EAAenqE,SAASkqE,GACxBG,EAAgBxqE,YAAY0qE,GAC5BF,EAAgBxqE,YAAYqqE,GAC5BC,EAAelrE,QAAQmpE,QAAU50F,KAAK+1F,oBAAoBnqE,KAAK5rB,MAC/DuN,EAAUke,QAAQmpE,QAAU50F,KAAK61F,oBAAoBjqE,KAAK5rB,MACnD62F,GAEXpD,EAAerwF,UAAUkzF,gBAAkB,SAAUrsF,GACjD,GAAI+sF,GAAc5qE,gBAAc,OAC5BY,UAAWiqE,gBAA6BhtF,IAExCitF,EAAc9qE,gBAAc,OAASY,UAAWmqE,oBAAsCltF,IACtFmtF,EAAahrE,gBAAc,QAC3BY,UxBjXmB,qBwBkXnBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAIjD,OAFA+tF,GAAY3qE,YAAY6qE,GACxBF,EAAY3qE,YAAY+qE,GACjBJ,GAEXvD,EAAerwF,UAAU2yF,oBAAsB,SAAUz5D,GAChDt8B,KAAK0qB,OAAO2J,YACTr0B,KAAK0qB,OAAOogE,eAAeC,kBAC3B/qF,KAAK0qB,OAAOogE,eAAeC,gBAAgBz8D,OAC3CwmB,YAAU90C,KAAK0qB,OAAOe,QAAQkG,cAAc,yBxBhbnC,WwBmbjB3xB,KAAK0qB,OAAO8H,OzB5Ua,4ByB8U7BihE,EAAerwF,UAAUyyF,oBAAsB,SAAUv5D,GACrD,GAAI+6D,GAAcr3F,KAAKq2F,gBAAgB7G,YACvCxvF,MAAK0qB,OAAO4sE,eAAe3sE,OAAO0sE,IAEtC5D,EAAerwF,UAAUm0F,gBAAkB,WACnCv3F,KAAK0qB,OAAOyH,yBACRnyB,KAAK0qB,OAAO2J,YACZr0B,KAAK0qB,OAAOiyD,gBAAgBhyD,SAEhC3qB,KAAK0qB,OAAOuyD,iBAAmB9wE,YAAWnM,KAAK0qB,OAAOwE,mBAAoB,MAAM,GAChFlvB,KAAK0qB,OAAO8qE,gBAAkBrpF,YAAWnM,KAAK0qB,OAAO+qE,eAAgB,MAAM,IAE/E3gD,YAAU90C,KAAK0qB,OAAOe,QAAQkG,cAAc,yBxBjc3B,UwBkcjB3xB,KAAK0qB,OAAOogE,eAAeC,gBAAgByM,OAC3Cx3F,KAAK0qB,OAAOogE,eAAeC,gBAAgBt/D,QAAQgB,MAAMnB,IACrD1e,SAAS5M,KAAK0qB,OAAOogE,eAAeC,gBAAgBt/D,QAAQgB,MAAMnB,IAAK,IAAM,EACzE,MAAQtrB,KAAK0qB,OAAOogE,eAAeC,gBAAgBt/D,QAAQgB,MAAMnB,KAE7EmoE,EAAerwF,UAAU8xF,iBAAmB,WACpCl1F,KAAK0qB,OAAOyH,yBACZnyB,KAAK0qB,OAAOwE,mBACR/iB,YAAWnM,KAAK0qB,OAAOuyD,iBAAiBhxE,WAAY,MAAM,GAC9DjM,KAAK0qB,OAAO4H,gBAAgBjD,aAAervB,KAAK0qB,OAAO2E,aACvDrvB,KAAK0qB,OAAO4H,gBAAgBiC,iBAAmBv0B,KAAK0qB,OAAO6J,iBAC3Dv0B,KAAK0qB,OAAO4H,gBACRC,eACArD,mBAAoBlvB,KAAK0qB,OAAOuyD,iBAAiBhxE,aAClD,GACC3M,OAAOC,KAAKS,KAAK0qB,OAAO8qE,iBAAiBr2F,OAAS,IACzB,SAAzBa,KAAK0qB,OAAO4J,SAAsBt0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAC3DpB,YAAWnM,KAAK0qB,OAAO8qE,gBAAiB,MAAM,GAC9Cx1F,KAAK0qB,OAAO2E,aAAa9hB,UAAYpB,YAAWnM,KAAK0qB,OAAO8qE,gBAAiB,MAAM,IAE3Fx1F,KAAK0qB,OAAO4H,gBAAgBE,OAAOC,EAAiBzyB,MACpDA,KAAK0qB,OAAO4H,gBAAgBE,OAAO+I,EAAqBv7B,OAE5DA,KAAK0qB,OAAOogE,eAAeC,gBAAgBz8D,QAE/CmlE,EAAerwF,UAAU6yF,oBAAsB,WACtCjqE,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,qBAClD0oC,eAAaz2C,KAAK0qB,OAAOe,QAAQkG,cAAc,yBxB7dlC,WwBgerB8hE,EAAerwF,UAAUqqF,SAAW,SAAUjuD,GAC7BA,EAAE3S,MACf,IAAkB,KAAd2S,EAAEi4D,SAAkBj4D,EAAE3S,OAGtB,MAFA2S,GAAE3S,OAAOoB,YACTuR,GAAEuV,kBAIV0+C,EAAerwF,UAAU2wF,gBAAkB,SAAUtoE,GACjDob,eAAa7K,IAAIvQ,EAAS,UAAWzrB,KAAKytF,SAAUztF,MACpD6mC,eAAa7K,IAAIvQ,EAAS,QAASzrB,KAAKu3F,gBAAiBv3F,OAE7DyzF,EAAerwF,UAAU0wF,kBAAoB,SAAUroE,GACnDob,eAAavT,OAAO7H,EAAS,UAAWzrB,KAAKytF,UAC7C5mD,eAAavT,OAAO7H,EAAS,QAASzrB,KAAKu3F,kBAExC9D,KCrfPiE,GAAkC,WAElC,QAASA,GAAiBhtE,GACtB1qB,KAAKo2F,iBACLp2F,KAAK0qB,OAASA,EACd1qB,KAAK0kF,mBAitBT,MA1sBAgT,GAAiBt0F,UAAUunB,OAAS,SAAU1gB,GAG1C,GAFAjK,KAAK6qB,cAAgB7qB,KAAK0qB,OAAOogE,eAAejgE,cAChD7qB,KAAK23F,cAAgB,OAChB33F,KAAK0qB,OAAO2J,WAgCbr0B,KAAK43F,iBAAiB3tF,OAhCG,CACzB,GAAI4tF,GAAazrE,gBAAc,OAC3BY,UAAW8qE,kBAAwD,SAAzB93F,KAAK0qB,OAAO4J,SzBMlC,qByBNqF,MAEzGyjE,EAAa3rE,gBAAc,OAC3BY,UzBWgB,iByBVhBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAE7CwjF,EAAergE,gBAAc,OAASY,UAAWgrE,+BACrDh4F,MAAKi4F,gBAAkB7rE,gBAAc,OACjCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,YAC7Bif,UAAWiqE,iBAAuD,SAAzBj3F,KAAK0qB,OAAO4J,SzBClC,yByBDoF,KAE3G,IAAI4jE,GAAsB9rE,gBAAc,OAASY,UAAW,0BAO5D,IANAkrE,EAAoB7rE,YAAY0rE,GAChCF,EAAWxrE,YAAY6rE,GACvBl4F,KAAKm4F,mBAAmBD,GACxBzL,EAAapgE,YAAYrsB,KAAKi4F,iBAC9BJ,EAAWxrE,YAAYogE,GACvBzsF,KAAK6qB,cAAcwB,YAAYwrE,GACA,UAA3B73F,KAAK0qB,OAAO2H,WAAwB,CACpC,GAAI+lE,GAAYhsE,gBAAc,OAASY,UzByIlB,iByBxIjBqrE,EAAajsE,gBAAc,OAC3BY,UzByIoB,iByBxIpBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAEjDjJ,MAAK6qB,cAAcwB,YAAY+rE,GAC/Bp4F,KAAK6qB,cAAcwB,YAAYgsE,GAEnCr4F,KAAKs4F,mBAMbZ,EAAiBt0F,UAAU+0F,mBAAqB,SAAUI,GAEtD,IAAK,GAAIt5F,GAAK,EAAGu5F,GADF,OAAQ,SAAU,WACKv5F,EAAKu5F,EAAUr5F,OAAQF,IAAM,CAC/D,GAAIuyF,GAASgH,EAAUv5F,GACnBw5F,EAAcrsE,gBAAc,QAC5Ba,OACIk/D,SAAY,IACZyJ,gBAAiB,QACjBtK,aAAc,QAAUkG,EACxBkH,YAAalH,GAEjBxkE,UAAWuT,EAAW,WAAkBixD,EAAO59E,cAAgB,KAC1D5T,KAAK23F,gBAAkBnG,EAAS,aAAe,KAExD+G,GAAclsE,YAAYosE,GAC1Bz4F,KAAK24F,qBAAqBF,GAC1Bz4F,KAAK44F,mBAAmBH,KAGhCf,EAAiBt0F,UAAUk1F,eAAiB,WACxCt4F,KAAK63F,WAAa,GAAIzK,aAElB/tF,QAAUiE,WAAYtD,KAAKulE,cAAex3D,GAAI,KAAMqb,KAAM,UAAWshD,UAAW,aAAczF,SAAU,MAAOhoB,QAAS,kBACxH47C,YAAa74F,KAAK84F,gBAAgBltE,KAAK5rB,MACvCouB,SzB7CuB,oByB8CvBi/D,cAAc,EACd0L,kBAAkB,EAClB3yF,UAAW,OACX4yF,WAAW,EACXC,cAAc,EACd7tE,UAAWprB,KAAK0qB,OAAOU,UACvB8tE,cAAel5F,KAAKm5F,UAAUvtE,KAAK5rB,MACnCo5F,aAAcp5F,KAAKq5F,SAASztE,KAAK5rB,MACjCs5F,SAAUt5F,KAAKu5F,eAAe3tE,KAAK5rB,MACnC4tF,cAAe5tF,KAAKw5F,eAAe5tE,KAAK5rB,MACxCy5F,cAAez5F,KAAKw5F,eAAe5tE,KAAK5rB,QAE5CA,KAAKi4F,gBAAgB/rE,UAAY,GACjClsB,KAAK63F,WAAWtrE,kBAAmB,EACnCvsB,KAAK63F,WAAWrrE,SAASxsB,KAAKi4F,kBAElCP,EAAiBt0F,UAAUo2F,eAAiB,SAAU5uE,GAClD,GAA6B,SAAzB5qB,KAAK0qB,OAAO4J,SACZ,GAAI1J,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,iBACpC/G,EAAKkY,KAAKnR,cAAc,gBAAgB3E,UAAU9nB,QAAQ,qBAAuB,EAAI,CAClF49B,EAAOlY,EAAKkY,KAAKnR,cAAc,eACnC8kB,gBAAa3T,GAAO,oBACpBgS,YAAUhS,GAAO,6BAEhB,IAAIlY,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,iBACzC/G,EAAKkY,KAAKnR,cAAc,gBAAgB3E,UAAU9nB,QAAQ,0BAA4B,EAAI,CAC3F,GAAI49B,GAAOlY,EAAKkY,KAAKnR,cAAc,eACnC8kB,gBAAa3T,GAAO,yBACpBgS,YAAUhS,GAAO,sBAI7B40D,EAAiBt0F,UAAUm2F,eAAiB,SAAU3uE,GAClD,GAAI8uE,IAAY,CAGZA,GADyB,SAAzB15F,KAAK0qB,OAAO4J,UACAt0B,KAAK25F,mBAAmB/uE,EAKxC,IAAIgvE,GAAgBhvE,EAAKkY,KAAKnR,cAAc,kBAC5C,IAAI/G,EAAKkY,KAAKnR,cAAc,iBAAmBioE,EAAe,CAC1D,GAAIC,GAAgBjvE,EAAKkY,KAAKnR,cAAc,eAC5CioE,GAAcr2D,aAAas2D,EAAejvE,EAAKkY,KAAKnR,cAAc,iBAEtE,GAAI+nE,IAAc15F,KAAK0qB,OAAO2J,WAAY,CACtCqlE,GAAY,CACZ,IAAII,GAAc1tE,gBAAc,QAC5Ba,OACIk/D,SAAY,KACZ3rD,MAAOxgC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QACzC2sF,gBAAiB,SAErBh1D,OAAQ,sBACR5T,UAAWuT,EAAW,WAEtB3V,GAAKkY,KAAKnR,cAAc,yBACvB/G,EAAKkY,KAAKnR,cAAc,oBAAsBioE,GAC/CA,EAAcr2D,aAAau2D,EAAalvE,EAAKkY,KAAKnR,cAAc,wBAGpE/G,EAAKkY,KAAKnR,cAAc,aACxBmjB,YAAUlqB,EAAKkY,KAAKnR,cAAc,iBzB2Cf,oByBxC3B+lE,EAAiBt0F,UAAUu2F,mBAAqB,SAAU/uE,GACtD,GAAI8uE,IAAY,CA8BhB,OA7B6B,SAAzB15F,KAAK0qB,OAAO4J,UAER1J,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,gIACrC/G,EAAKkY,KAAKnR,cAAc,uBAAuBlF,MAAME,QAAU,QAE/D/B,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,iBACpC/G,EAAKkY,KAAKnR,cAAc,gBAAgB3E,UAAU9nB,QAAQ,oBAAsB,IAC7ElF,KAAK0qB,OAAO2J,WACZzJ,EAAKkY,KAAKnR,cAAc,uBAAuBlF,MAAME,QAAU,OAG/D/B,EAAKkY,KAAKnR,cAAc,uBAAuBlF,MAAMkvB,WAAa,UAGtE/wB,EAAKkY,OAASlY,EAAKkY,KAAKnR,cAAc,kEACtC/G,EAAKkY,KAAKnR,cAAc,wFACxB/G,EAAKkY,KAAKnR,cAAc,kDACpB/G,EAAKkY,KAAKnR,cAAc,oBACxB/G,EAAKkY,KAAKnR,cAAc,gBAAgBlF,MAAME,QAAU,OACxD+sE,GAAY,GAGZA,GAAY,IAKpBA,GAAY,EAETA,GAEXhC,EAAiBt0F,UAAUw0F,iBAAmB,SAAU3tF,GACpD,GAAI8gF,GAAkB3+D,gBAAc,OAChCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,qBAC7Bif,UAAW+sE,iCAAuE,SAAzB/5F,KAAK0qB,OAAO4J,SAAsB,uBAAyB,KAExHt0B,MAAK6qB,cAAcwB,YAAY0+D,GAC/B/qF,KAAKg6F,YAAc,GAAI7sE,WACnBC,mBAAqBC,OAAQ,QAC7BC,eAAe,EACfxR,OAAQ9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,uBAC1CskB,QAASvtB,KAAK0rF,eAAe1rF,KAAKulE,YAAYt7D,IAC9CwjB,SAAS,EACTC,SAAS,EACTC,eAAe,EACfvC,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ,QACRnU,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UACQC,MAAOjuB,KAAKi6F,gBAAgBruE,KAAK5rB,MACjCmuB,aACIC,SzB9ES,eyB8E0Bb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAGlFglB,MAAOjuB,KAAKk6F,WAAWtuE,KAAK5rB,MAC5BmuB,aACIC,SzBrFK,WyBqF0Bb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OAC1EolB,WAAW,KAGvBE,eAAe,EACf1B,OAAQ7sB,KAAK6qB,cAAcA,cAC3B6D,MAAO1uB,KAAKm6F,YAAYvuE,KAAK5rB,QAEjCA,KAAKg6F,YAAYztE,kBAAmB,EACpCvsB,KAAKg6F,YAAYxtE,SAASu+D,IAG9B2M,EAAiBt0F,UAAU+2F,YAAc,WACjCnuE,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBACjDulB,SAAOtH,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,wBAGhE2pF,EAAiBt0F,UAAUsoF,eAAiB,SAAU3F,GAClD,GAAIiG,GAAoB5/D,gBAAc,OAClCre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,YAC7Bif,UzBrI2B,4ByBuI3Bk/D,EAAgB9/D,gBAAc,OAC9Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAAckf,OAASk/D,SAAY,MAChEn/D,UzB6C6B,4ByB3C7Bo/D,EAAehgE,gBAAc,SAAWa,OAAStlB,KAAQ,SAC7DukF,GAAc7/D,YAAY+/D,EAC1B,IAAIO,GAAoBvgE,gBAAc,OAClCY,UAAW0/D,8BAAkE,SAAzB1sF,KAAK0qB,OAAO4J,SAAsB,yBAA2B,KAErH03D,GAAkB3/D,YAAY6/D,GAC9BlsF,KAAKosF,aAAe,GAAI96D,kBACpBy7D,iBAAiB,EACjBx7D,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC/CmiB,UAAWprB,KAAK0qB,OAAOU,UACvBgD,SzBmCqB,kByBlCrB0C,OAAQ9wB,KAAKo6F,WAAWxuE,KAAK5rB,QAEjCA,KAAKosF,aAAa7/D,kBAAmB,EACrCvsB,KAAKosF,aAAa5/D,SAAS4/D,EAC3B,IAAIQ,GAAYxgE,gBAAc,OAC1BY,UAAW6/D,4BACX3gE,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAmBjD,OAjBA+iF,GAAkB3/D,YAAYugE,GAC9BZ,EAAkB3/D,YAAYsgE,GAC9B3sF,KAAK63F,WAAa,GAAIzK,aAElB/tF,QAAUiE,WAAYyiF,EAAUh4E,GAAI,KAAMqb,KAAM,UAAWshD,UAAW,aAAczF,SAAU,MAAOhoB,QAAS,kBAC9GowC,cAAc,EACd2L,WAAW,EACXC,cAAc,EACd7yF,UAAoC,SAAzBpG,KAAK0qB,OAAO4J,SAAsB,OAAS,YACtDlJ,UAAWprB,KAAK0qB,OAAOU,UACvBytE,YAAa74F,KAAKq6F,QAAQzuE,KAAK5rB,MAC/Bs5F,SAAUt5F,KAAKu5F,eAAe3tE,KAAK5rB,MACnC4tF,cAAe5tF,KAAKw5F,eAAe5tE,KAAK5rB,MACxCy5F,cAAez5F,KAAKw5F,eAAe5tE,KAAK5rB,QAE5CA,KAAK63F,WAAWtrE,kBAAmB,EACnCvsB,KAAK63F,WAAWrrE,SAASmgE,GAClBX,GAEX0L,EAAiBt0F,UAAUg3F,WAAa,SAAU56D,GAC9Cx/B,KAAK0qB,OAAOwI,YAAYC,UAAUq0D,gBAAgBhoD,EAAGx/B,KAAK63F,YAAY,EACtE,IAAIjL,GAAY5sF,KAAKg6F,YAAYvuE,QAAQkG,cAAc,oBACnD2oE,KAAY1/D,MAAMC,KAAK76B,KAAK63F,WAAWpsE,QAAQqQ,iBAAiB,OAEhEy+D,KAAkB3/D,MAAMC,KAAK76B,KAAK63F,WAAWpsE,QAAQqQ,iBAAiB,gBACtEw+D,GAAOn7F,SAAWo7F,EAAap7F,OAC/Bs3C,eAAam2C,GzB5QC,ayB+Qd93C,YAAU83C,GzB/QI,cyBkRtB8K,EAAiBt0F,UAAU+1F,UAAY,SAAUvuE,GAC7C,GAAIA,EAAK0R,MAAMzP,OAAO+O,UAAUC,SzBvMhB,UyBuM0C,CACtD77B,KAAK0qB,OAAOuuD,YAAa,EACzBnkC,YAAUlqB,EAAK4vE,YAAY7oE,cAAc,iBzBnIpB,kByBoIrB,IAAI5yB,OAAO,GAOPkL,GzBrKY,SAEG,YAIA,YyBgKnB,KANIlL,EADyB,SAAzBiB,KAAK0qB,OAAO4J,SACLt0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUqd,EAAK4vE,YAAY3rE,aAAa,aAGrE7uB,KAAK0qB,OAAO2E,aAAa9hB,UAAUqd,EAAK4vE,YAAY3rE,aAAa,eAGzC,oBAAvB9vB,EAAKoP,cACb,IAAK,GAAIlP,GAAK,EAAGw7F,EAASxwF,EAAMhL,EAAKw7F,EAAOt7F,OAAQF,IAAM,CACtD,GAAIi4F,GAAcuD,EAAOx7F,EACzB61C,aAAU90C,KAAK6qB,cAAc8G,cAAc,IAAMulE,IzBjJ1C,mByBoJf,GAAIwD,GAAW9vE,EAAK+vE,UAChBD,IAC4B,WADiB,mBAAhC16F,KAAK0qB,OAAO0H,iBACzBpyB,KAAK0qB,OAAO2H,cACZqoE,EAASjuE,MAAMC,QAAU1sB,KAAK0qB,OAAOogE,eAAeC,gBAAgBr+D,OAAS,GAAGxkB,gBAIpF0iB,GAAKwU,QAAS,GAGtBs4D,EAAiBt0F,UAAUi2F,SAAW,SAAUzuE,GAC5CA,EAAKwU,QAAS,EACdp/B,KAAK0qB,OAAOuuD,YAAa,CAEzB,KAAK,GAAIh6E,GAAK,EAAG27F,GzB1LG,SAEG,YAIA,ayBoLS37F,EAAK27F,EAAOz7F,OAAQF,IAAM,CACtD,GAAI47F,GAAcD,EAAO37F,EACzBw3C,gBAAaz2C,KAAK6qB,cAAc8G,cAAc,IAAMkpE,IzBpKrC,mByBsKnBpkD,eAAa7rB,EAAK4vE,YAAY7oE,cAAc,iBzBpKnB,mByBqKrB3xB,KAAK0qB,OAAOwI,YAAYsyD,aAAatqC,aACrCl7C,KAAK0qB,OAAOwI,YAAYsyD,aAAatqC,YAAYxsB,OAErD,IAAIjnB,GAAYmjB,EAAKkwE,gBAAgB/sF,GAAG7F,UACxC,IAAKlI,KAAK+6F,cAAcnwE,EAAMnjB,GAA9B,CAGA,GACIuzF,GADOh7F,KAAK0qB,OAAO+qE,eACChuF,EACxBzH,MAAK0qB,OAAOwI,YAAY2jB,iBAAiBzB,QAA0C,cAAhCp1C,KAAK0qB,OAAO0H,gBAAkCpyB,KAAK0qB,OACjG1qB,KAAK0qB,OAAO4H,gBAAkBtyB,KAAK0qB,OAAO4H,gBAAkBtyB,KAAK0qB,OAClE1qB,KAAK0qB,OAAOwI,YAAYsgE,kBAAkBzJ,gBAAgBn/D,EAAMnjB,KAC5DzH,KAAK0qB,OAAOyH,wBACZ6oE,EAAaxtF,YAAa,EAC1BxN,KAAKiyB,oBAGLjyB,KAAK0qB,OAAOuH,mBAEDjyB,KAAK0qB,OAEXiyD,gBAAgBhyD,YAIjC+sE,EAAiBt0F,UAAU23F,cAAgB,SAAUnwE,EAAMqwE,GACvD,GAAIC,IAAY,CAChB,IAAuC,SAAnCtwE,EAAKkwE,gBAAgBpwB,UAAsB,CAC3C,GAAI79C,GAAS7sB,KAAKm7F,UAAUF,GACxB3Q,EAAYj2C,UAAQxnB,EAAQ,gBAC5BuuE,EAAmB/mD,UAAQzpB,EAAKiC,OAAQ,eAC5C,IAAIA,GAAUy9D,IAAc8Q,EAAkB,CAK1C,IAAK,GAJD7Q,MAAkB3vD,MAAMC,KAAKyvD,EAAUxuD,iBAAiB,oBACxDu/D,EAAahnD,UAAQzpB,EAAKiC,OAAQ,kBAClCyuE,MAAiB,GACjBC,GAAgB,EACXz7F,EAAI,EAAGshE,EAAImpB,EAAaprF,OAAQW,EAAIshE,EAAGthE,IAI5C,GAHIyqF,EAAazqF,GAAGiO,KAAO8e,EAAO9e,KAC9ButF,EAAiBx7F,GAEjBu7F,EAAY,CACZ,GAAIG,GAAkBH,EAAW1pE,cAAc,kBAC3C44D,GAAazqF,GAAGiO,KAAOytF,EAAgBztF,KACvCwtF,EAAez7F,GAI3B,GAAIw7F,IAAmBC,GAAiBD,IAAoB/Q,EAAaprF,OAAS,IAAwB,IAAlBo8F,EAAsB,CAC1G,GAAI1wE,GAAgBmB,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,WACrE0oC,kBAAe7b,MAAMC,KAAKhQ,EAAciR,iBAAiB,sBzBxR1C,gByByRfo/D,GAAY,IAIxB,MAAOA,IAEXxD,EAAiBt0F,UAAU+3F,UAAY,SAAU1zF,GAI7C,IAAK,GADDknB,GAFA8sE,EAAiBzvE,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,YAClEw8E,KAAkB3vD,MAAMC,KAAK4gE,EAAe3/D,iBAAiB,oBAExDh8B,EAAI,EAAGshE,EAAImpB,EAAaprF,OAAQW,EAAIshE,EAAGthE,IAC5C,GAAIyqF,EAAazqF,GAAGiO,KAAOtG,EAAW,CAClCknB,EAAgB47D,EAAazqF,EAC7B,OAGR,MAAO6uB,IAEX+oE,EAAiBt0F,UAAU01F,gBAAkB,SAAUluE,GACnD,GAAIkY,GAAOuR,UAAQzpB,EAAKkY,KAAM,kBAC9B,KAAKn/B,oBAAkBm/B,GAAO,CAC1B,GAAIskD,GAAK/yC,UAAQvR,EAAM,MACnB/0B,EAAKq5E,EAAGv4D,aAAa,WACrB7uB,MAAK0qB,OAAOwI,YAAYsyD,aAAatqC,aACrCl7C,KAAK0qB,OAAOwI,YAAYsyD,aAAatqC,YAAYxsB,OAErD,IACIssE,GADOh7F,KAAK0qB,OAAO+qE,eACC1nF,EACxB,IAAoB,UAAhB6c,EAAKjQ,OAAoB,CACzBm6B,YAAUhS,EAAKnR,cAAc,iBzBpNd,mByBqNf3xB,KAAK07F,oBAAoBtU,EAAIx8D,EAAKjQ,OAClC,IAAI0/E,GAAUr6F,KAAK0qB,OAAOwI,YAAY2jB,iBAAiB6zC,YAAY38E,EACnE,IAA0B,WAAtBitF,EAAarzF,MAA4C,oBAAtBqzF,EAAarzF,MAChDqzF,EAAa5sF,SAAW4sF,EAAa5sF,QAAQlJ,QAAQ,YAAc,GAC1C,SAAzBlF,KAAK0qB,OAAO4J,UAEZ,GADAt0B,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOhD,KAAK26F,GACd,SAAzBr6F,KAAK0qB,OAAO4J,UAAuBt0B,KAAK0qB,OAAO6J,mBAAsBv0B,KAAK0qB,wBAAyBykC,eAAgB,CACnH,GAAItH,IACA1iD,KAAM,aAAciF,QAAS,WAAYE,cAAWpK,GAAWqK,aAAUrK,KAEhB,QAA7CF,KAAK0qB,OAAOwE,mBAAmBtuB,UAC3CZ,KAAK0qB,OAAOwE,mBAAmBpqB,KAAO9E,KAAK0qB,OAAOwE,mBAAmBnqB,SAC/DrF,KAAKmoD,QAInB7nD,MAAK0qB,OAAOwE,mBAAmBpqB,KAAKpF,KAAK26F,OAI7C5jD,gBAAa3T,EAAKnR,cAAc,iBzBzOjB,mByB0Of3xB,KAAK07F,oBAAoBtU,EAAIx8D,EAAKjQ,QAClC3a,KAAK0qB,OAAOwI,YAAY2jB,iBAAiB4zC,sBAAsB18E,GAClC,SAAzB/N,KAAK0qB,OAAO4J,UAAwE,IAAjDt0B,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,QACzEa,KAAK0qB,OAAOwI,YAAY2jB,iBAAiB4zC,sBAAsB,aAGlEzqF,MAAK0qB,OAAOyH,wBAIb6oE,EAAaxtF,WAA6B,UAAhBod,EAAKjQ,OACF,SAAzB3a,KAAK0qB,OAAO4J,UACZt0B,KAAK0qB,OAAO6J,iBAAiB8wC,oBAAoBt3D,EAAoB,UAAhB6c,EAAKjQ,QAE9D3a,KAAKiyB,oBAPLjyB,KAAK0qB,OAAOuH,kBAAiB,EASjC,IAAI0pE,GAAW37F,KAAK0qB,MACpBiV,YAAW,WACPg8D,EAAShf,gBAAgBhyD,aAIrC+sE,EAAiBt0F,UAAUs4F,oBAAsB,SAAUtU,EAAIqC,GAC3D,GAAIrC,GAAMA,EAAGz1D,cAAc,MACvB,IAAK,GAAI1yB,GAAK,EAAGC,KAAQ07B,MAAMC,KAAKusD,EAAGtrD,iBAAiB,OAAQ78B,EAAKC,EAAGC,OAAQF,IAAM,CAClF,GAAIwsB,GAAUvsB,EAAGD,EACH,WAAVwqF,EACA30C,YAAUrpB,EAAQkG,cAAc,iBzBrQrB,mByBwQX8kB,eAAahrB,EAAQkG,cAAc,iBzBxQxB,qByB6Q3B+lE,EAAiBt0F,UAAU6uB,iBAAmB,WACN,mBAAhCjyB,KAAK0qB,OAAO0H,iBAAmE,UAA3BpyB,KAAK0qB,OAAO2H,YACnC,SAAzBryB,KAAK0qB,OAAO4J,SACZt0B,KAAK0qB,OAAO4H,gBAAgBiC,iBAAmBv0B,KAAK0qB,OAAO6J,iBAG3Dv0B,KAAK0qB,OAAO4H,gBAAgBjD,aAAervB,KAAK0qB,OAAO2E,aAG3DrvB,KAAK0qB,OAAO4H,gBAAgBC,eAAgBrD,mBAAoBlvB,KAAK0qB,OAAOwE,mBAAmBjjB,aAAc,GAC7GjM,KAAK0qB,OAAO4H,gBAAgBE,OAAOC,EAAiBzyB,OAGpDA,KAAK0qB,OAAOgI,wBAGpBglE,EAAiBt0F,UAAUi3F,QAAU,SAAUzvE,GAC3C,GACIowE,GADYh7F,KAAK0qB,OAAO+qE,eACC7qE,EAAK7rB,KAAK,GAAGgP,GAAG7F,WAC7C,IAAoB,UAAhB0iB,EAAKjQ,OACL3a,KAAKo2F,cAAc12F,KAAKs7F,EAAajtF,GAAG7F,gBAIxC,KADA,GAAIqS,GAAQva,KAAKo2F,cAAcj3F,OACxBob,KACH,GAAIva,KAAKo2F,cAAc77E,KAAWygF,EAAajtF,GAAG7F,WAAY,CAC1DlI,KAAKo2F,cAAchxF,OAAOmV,EAAO,EACjC,SAKhBm9E,EAAiBt0F,UAAUw4F,gBAAkB,WACzC,GAAI57F,KAAK63F,WAAY,CACjB,GAAI9R,GAAW/lF,KAAK67F,gBACpB77F,MAAK63F,WAAWx4F,QACZiE,WAAYyiF,EAAUh4E,GAAI,KAAMqb,KAAM,UAAWshD,UAAW,aAAczF,SAAU,MAAOhoB,QAAS,kBAExGj9C,KAAK63F,WAAWhP,aAGxB6O,EAAiBt0F,UAAUy4F,eAAiB,WACxC,GAAI9V,GAAW/lF,KAAKulE,cAChBu2B,EAAgB97F,KAAK63F,WAAWiE,aAEpC,OADA97F,MAAK+7F,oBAAoBhW,EAAU+V,GAC5B97F,KAAKg8F,aAAajW,EAAU/lF,KAAK23F,gBAE5CD,EAAiBt0F,UAAUmiE,YAAc,SAAUt7D,GAC/C,GAAIlL,KACJ,IAA6B,SAAzBiB,KAAK0qB,OAAO4J,SACZv1B,EAAOiB,KAAK4mF,gBAAgB38E,OAE3B,CAGD,IAAK,GAFD1K,GAAOD,OAAOC,KAAKS,KAAK0qB,OAAO+qE,gBAC/BloF,KACKtO,EAAK,EAAGuK,EAASjK,EAAMN,EAAKuK,EAAOrK,OAAQF,IAAM,CACtD,GAAIwK,GAAMD,EAAOvK,GACbkU,EAASnT,KAAK0qB,OAAO+qE,eAAehsF,EACxC8D,GAAU9D,IAASsE,GAAIoF,EAAOpF,GAAI3D,QAAS+I,EAAO/I,QAASoD,WAAY2F,EAAO3F,YAElF,GAAIxN,KAAK0qB,OAAO2J,WAAY,CAMxB,IAJA,GAEI4nE,IAFUj8F,KAAK0qB,OAAOwE,mBAAmBlqB,QAAShF,KAAK0qB,OAAOwE,mBAAmBnqB,QAAS/E,KAAK0qB,OAAOwE,mBAAmBpqB,KACzH9E,KAAK0qB,OAAOwE,mBAAmBxsB,QACNuH,GACzBjC,EAAMzI,EAAKJ,OACR6I,KACHuF,EAAUhO,EAAKyI,IAAMwF,YAAa,CAEtC,KAAK,GAAItO,GAAK,EAAGg9F,EAAoBD,EAAiB/8F,EAAKg9F,EAAkB/8F,OAAQD,IAEjFqO,EADW2uF,EAAkBh9F,GACdiG,MAAMqI,YAAa,EAI1C,IAAK,GADD0D,GAAO3D,EACFhE,EAAK,EAAGsC,EAAStM,EAAMgK,EAAKsC,EAAO1M,OAAQoK,IAAM,CACtD,GACImf,GAAMxX,EADNiC,EAAStH,EAAOtC,GAEpBxK,GAAKW,KAAKgpB,IAGlB,MAAO3pB,IAEX24F,EAAiBt0F,UAAUwjF,gBAAkB,SAAU38E,GACnD,GAAIlL,MACA62D,EAAgB51D,KAAK0qB,OAAO6J,iBAAiBqhC,aACjD,IAAI51D,KAAK0qB,OAAO2J,WAQZ,IANA,GAII4nE,IAHAj8F,KAAK0qB,OAAOwE,mBAAmBlqB,QAAShF,KAAK0qB,OAAOwE,mBAAmBnqB,QACvE/E,KAAK0qB,OAAOwE,mBAAmBpqB,KAAM9E,KAAK0qB,OAAOwE,mBAAmBxsB,QAE3CuH,GACzBnK,EAAI,EACDA,EAAI81D,EAAcz2D,QAAQ,CAC7B,GAAIC,GAAOw2D,EAAc91D,GAErBL,MAAY,EAEhB,IAAa,IAATwK,GACA,GAA8B,eAA1B7K,EAAK2O,GAAG6F,gBACyC,IAAhDxU,EAAK2O,GAAG6F,cAAc1O,QAAQ,eAC1B9F,EAAK0pE,iBAAmE,IAAjD1pE,EAAK0pE,eAAe5jE,QAAQ,iBAA0B,EAClFzF,GACIsO,GAAI3O,EAAK2O,GAAI3D,QAAShL,EAAKgL,QAAS49D,YAAa5oE,EAAK4oE,YACtDrgE,KAAMvI,EAAKuI,KAAMwG,cAAe/O,EAAK+O,cACrCX,WAAYpO,EAAKoO,WAAY6lD,IAAKj0D,EAAKi0D,IAAKyV,eAAgB1pE,EAAK0pE,iBAE3Dt7D,YAAa,EACnB/N,EAAUqpE,iBAAwE,IAAtDrpE,EAAUqpE,eAAe5jE,QAAQ,kBAC7DzF,EAAUqpE,eAAiBrpE,EAAUqpE,eAAep6D,QAAQ,mBAAoB,0BAChFjP,EAAU4zD,QAAMnzD,GAEpB,KAAK,GAAIjB,GAAK,EAAGk9F,EAAoBF,EAAiBh9F,EAAKk9F,EAAkBh9F,OAAQF,IAAM,CACvF,GAAI+M,GAAQmwF,EAAkBl9F,EAC9B,IAAIQ,EAAUsO,KAAO/B,EAAM7G,KAAM,CAC7B1F,EAAU+N,YAAa,CACvB,QAGRzO,EAAKW,KAAKD,QAId,IAAsD,IAAhDL,EAAK2O,GAAG6F,cAAc1O,QAAQ,iBAC9B9F,EAAK0pE,iBAAmE,IAAjD1pE,EAAK0pE,eAAe5jE,QAAQ,iBAAyB,EAC9EzF,GACIsO,GAAI3O,EAAK2O,GAAI3D,QAAShL,EAAKgL,QAAS49D,YAAa5oE,EAAK4oE,YACtDrgE,KAAMvI,EAAKuI,KAAMwG,cAAe/O,EAAK+O,cACrCX,WAAYpO,EAAKoO,WAAY6lD,IAAKj0D,EAAKi0D,IAAKyV,eAAgB1pE,EAAK0pE,iBAE3Dt7D,YAAa,CACvB,KAAK,GAAItO,GAAK,EAAGk9F,EAAoBH,EAAiB/8F,EAAKk9F,EAAkBj9F,OAAQD,IAAM,CACvF,GAAIm9F,GAASD,EAAkBl9F,EAC/B,IAAIO,EAAUsO,KAAOsuF,EAAOl3F,KAAM,CAC9B1F,EAAU+N,YAAa,CACvB,QAGRzO,EAAKW,KAAKD,GAGlBK,QAIJf,GAAOZ,EAAUW,cAAckB,KAAK0qB,OAAO6J,iBAAiBqhC,cAEhE,OAAO72D,IAEX24F,EAAiBt0F,UAAU24F,oBAAsB,SAAUh9F,EAAM+8F,GAC7D,GAAIA,EAAc38F,OAAS,EAEvB,IAAK,GADDW,GAAI,EACCb,EAAK,EAAGkoF,EAASpoF,EAAME,EAAKkoF,EAAOhoF,OAAQF,IAAM,CACtD,GAAI+M,GAAQm7E,EAAOloF,EACnB,IAAI68F,EAAc52F,QAAQ8G,EAAM+B,KAAO,IACnCjO,IACAkM,EAAMm8D,UAAW,EACjBn8D,EAAM88D,eAAkB98D,EAAM88D,gBAC1B98D,EAAM88D,eAAe5gE,WAAWhD,QAAQ,qBAAuB,EAC/D8G,EAAM88D,eAAe5gE,WAAWwG,QAAQ,mBAAoB,yBAC5D1C,EAAM88D,eACNhpE,IAAOg8F,EAAqB,QAC5B,QAMpBpE,EAAiBt0F,UAAUmiF,cAAgB,SAAU36D,GACjD,GAAIiC,GAASjC,EAAKiC,OACd2kE,EAAS3kE,EAAOgC,aAAa,YACjC,KAAgD,IAA5ChC,EAAOG,UAAU9nB,QAAQ,cAAsB,CAC/C,OAAQssF,GACJ,IAAK,OACDxxF,KAAK23F,cAAgB,OACrB7iD,YAAUjoB,GAAS,cACnB4pB,eAAaz2C,KAAK6qB,cAAc8G,cAAc,mBAAoB,cAClE8kB,eAAaz2C,KAAK6qB,cAAc8G,cAAc,oBAAqB,aACnE,MACJ,KAAK,SACD3xB,KAAK23F,cAAgB,SACrB7iD,YAAUjoB,GAAS,cACnB4pB,eAAaz2C,KAAK6qB,cAAc8G,cAAc,iBAAkB,cAChE8kB,eAAaz2C,KAAK6qB,cAAc8G,cAAc,oBAAqB,aACnE,MACJ,KAAK,UACD3xB,KAAK23F,cAAgB,UACrB7iD,YAAUjoB,GAAS,cACnB4pB,eAAaz2C,KAAK6qB,cAAc8G,cAAc,mBAAoB,cAClE8kB,eAAaz2C,KAAK6qB,cAAc8G,cAAc,iBAAkB,cAGxE3xB,KAAK47F,oBAGblE,EAAiBt0F,UAAU44F,aAAe,SAAUjW,EAAU3/E,GAC1D,GAA6B,SAAzBpG,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAIlf,OAAU,GACVknF,MAAa,EACbt8F,MAAK0qB,OAAOwE,mBAAmBzpB,wBAAwBtG,OAAS,GAC/B,8BAAjC4mF,EAAS,GAAGh4E,GAAG6F,eACf0oF,EAAavW,EAAS,GACtB3wE,EAAU2wE,EAAS,GACnBA,EAAS3gF,OAAO,EAAG,KAGnBgQ,EAAU2wE,EAAS,GACnBA,EAAS3gF,OAAO,EAAG,IAGvB2gF,EAAyB,WAAd3/E,EACN2/E,EAASl+E,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEsC,QAAUrC,EAAEqC,QAAW,EAAMrC,EAAEqC,QAAUtC,EAAEsC,SAAY,EAAI,IACxF,YAAdhE,EACK2/E,EAASl+E,KAAK,SAAUC,EAAGC,GAAK,MAAQD,GAAEsC,QAAUrC,EAAEqC,QAAW,EAAMrC,EAAEqC,QAAUtC,EAAEsC,SAAY,EAAI,IACtG27E,EAEJuW,EACAvW,EAAS3gF,OAAO,EAAG,EAAGk3F,EAAYlnF,GAGlC2wE,EAAS3gF,OAAO,EAAG,EAAGgQ,OAI1BpV,MAAK63F,WAAWzxF,UAA4B,WAAdA,EAAyB,YAA6B,YAAdA,EAA0B,aAAe,MAEnH,OAAO2/E,IAEX2R,EAAiBt0F,UAAU82F,WAAa,SAAU16D,GAC9Cx/B,KAAK0qB,OAAOogE,eAAe74D,iBAAiBjyB,KAAKo2F,eACjDp2F,KAAKi6F,mBAETvC,EAAiBt0F,UAAU62F,gBAAkB,WACzCj6F,KAAKo2F,iBACLp2F,KAAKg6F,YAAY1rE,QAErBopE,EAAiBt0F,UAAUqqF,SAAW,SAAUjuD,GAC/BA,EAAE3S,MACf,IAAkB,KAAd2S,EAAEi4D,SAAkBj4D,EAAE3S,OAGtB,MAFA2S,GAAE3S,OAAOoB,YACTuR,GAAEuV,kBAIV2iD,EAAiBt0F,UAAUw1F,mBAAqB,SAAUntE,GACtDob,eAAa7K,IAAIvQ,EAAS,UAAWzrB,KAAKytF,SAAUztF,MACpD6mC,eAAa7K,IAAIvQ,EAAS,QAASzrB,KAAKulF,cAAevlF,OAE3D03F,EAAiBt0F,UAAUu1F,qBAAuB,SAAUltE,GACxDob,eAAavT,OAAO7H,EAAS,UAAWzrB,KAAKytF,UAC7C5mD,eAAavT,OAAO7H,EAAS,QAASzrB,KAAKulF,gBAK/CmS,EAAiBt0F,UAAUshF,iBAAmB,WAC1C1kF,KAAK0qB,OAAOiL,G1B3lBQ,mB0B2lBkB31B,KAAK47F,gBAAiB57F,OAKhE03F,EAAiBt0F,UAAUuhF,oBAAsB,WACzC3kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAO8vB,I1BpmBQ,mB0BomBmBx6C,KAAK47F,kBAOhDlE,EAAiBt0F,UAAUiwB,QAAU,WACjCrzB,KAAK2kF,uBAEF+S,KC5tBP6E,GAAmC,WAEnC,QAASA,GAAkB7xE,GACvB1qB,KAAK0qB,OAASA,EA0GlB,MAnGA6xE,GAAkBn5F,UAAUunB,OAAS,WACjC,IAAK3qB,KAAK0qB,OAAO2J,WAAY,CACzB,GAAImoE,GAAYpwE,gBAAc,OAC1BY,UAAWyvE,iBAAuD,SAAzBz8F,KAAK0qB,OAAO4J,S1BwClC,oB0BxCoF,KAE3Gt0B,MAAK08F,cAAgBtwE,gBAAc,OAASY,U1BwCrB,uB0BvCvBhtB,KAAK28F,eAAiBvwE,gBAAc,OAASY,U1ByCrB,wB0BxCxBhtB,KAAK0qB,OAAOogE,eAAejgE,cAAcwB,YAAYmwE,GACrDA,EAAUnwE,YAAYrsB,KAAK08F,eAC3BF,EAAUnwE,YAAYrsB,KAAK28F,gBAC3B38F,KAAKw8F,UAAYA,EACjBx8F,KAAK48F,kBAET58F,KAAK0qB,OAAOiyD,gBAAgBhyD,UAEhC4xE,EAAkBn5F,UAAUw5F,gBAAkB,WAE1C,IAAK,GADDC,IAAe,UAAW,OAAQ,UAAW,UACxC70F,EAAM,EAAGkG,EAAM2uF,EAAY19F,OAAQ6I,EAAMkG,EAAKlG,IAAO,CAC1D,GAAIiC,GAAOmiB,gBAAc,OACrBY,UAAWiqE,gBAA6B4F,EAAY70F,KAEpD80F,EAAmB1wE,gBAAc,OACjCY,UAAW+vE,mBAEXC,EAAY5wE,gBAAc,OAC1BY,U1BwBe,gB0BvBfd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY4zF,EAAY70F,KAE7D80F,GAAiBzwE,YAAYrsB,KAAKi9F,cAAcJ,EAAY70F,KAC5D80F,EAAiBzwE,YAAY2wE,EAC7B,IAAI9F,GAAc9qE,gBAAc,OAASY,UAAWmqE,oBAAsC0F,EAAY70F,KAClGk1F,MAAe,EAEfA,GADqB,SAArBL,EAAY70F,GACGhI,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAEvB,YAArB4zF,EAAY70F,GACFhI,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAEvB,WAArB4zF,EAAY70F,GACFhI,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAGlCjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBAErD,IAAImuF,GAAahrE,gBAAc,QAC3BY,U1BQe,qB0BPfd,UAAWgxE,GAEC,IAAIC,aAAUjG,KAC9BjtF,GAAKoiB,YAAYywE,GACjB7yF,EAAKoiB,YAAY6qE,GACjBjtF,EAAKoiB,YAAY+qE,GACbpvF,GAAO,EACPhI,KAAK08F,cAAcrwE,YAAYpiB,GAG/BjK,KAAK28F,eAAetwE,YAAYpiB,GAEpCjK,KAAKo9F,YAAYlG,GACjBl3F,KAAKq9F,UAAUnG,KAGvBqF,EAAkBn5F,UAAU65F,cAAgB,SAAUhzF,GAClD,GAAI+sF,GAAc5qE,gBAAc,QAC5Ba,OAASk/D,SAAY,KAAMyJ,gBAAiB,SAC5C5oE,UAAW+vE,wBAEXlC,EAAczuE,gBAAc,QAC5Ba,OACIk/D,SAAY,KAAMyJ,gBAAiB,SAEvC5oE,UAAWuT,EAAW,WAAkCt2B,GAG5D,OADA+sF,GAAY3qE,YAAYwuE,GACjB7D,GAEXuF,EAAkBn5F,UAAUi6F,UAAY,SAAU5xE,GAC9Cob,eAAa7K,IAAIvQ,EAAS,YAAazrB,KAAKs9F,oBAAqBt9F,MACjE6mC,eAAa7K,IAAIvQ,EAAS,aAAczrB,KAAKs9F,oBAAqBt9F,OAEtEu8F,EAAkBn5F,UAAUg6F,YAAc,SAAU3xE,GAChDob,eAAavT,OAAO7H,EAAS,YAAazrB,KAAKs9F,qBAC/Cz2D,eAAavT,OAAO7H,EAAS,aAAczrB,KAAKs9F,sBAEpDf,EAAkBn5F,UAAUk6F,oBAAsB,SAAU99D,GACxD,GAAI3U,GAAgB7qB,KAAK0qB,OAAOogE,eAAejgE,aAC/C,IAAI7qB,KAAK0qB,OAAOuuD,YAAcz5C,EAAE3S,OAAO+O,UAAUC,S1BnCzB,mB0BmCwE,cAAX2D,EAAE73B,KAAsB,CACzG8uC,iBAAe7b,MAAMC,KAAKhQ,EAAciR,iBAAiB,sB1BRlC,gB0BSvB2a,iBAAe7b,MAAMC,KAAKhQ,EAAciR,iBAAiB,2B1BTlC,e0BUvB,IAAIrQ,MAAamP,MAAMC,KAAK2E,EAAE3S,OAAOiP,iBAAiB,kBAClDrQ,GAAQtsB,OAAS,GACjB21C,YAAUrpB,EAAQA,EAAQtsB,OAAS,GAAGwyB,cAAc,2B1BZjC,oB0BeP,eAAX6N,EAAE73B,OACP8uC,iBAAe7b,MAAMC,KAAKhQ,EAAciR,iBAAiB,sB1BhBlC,gB0BiBvB2a,iBAAe7b,MAAMC,KAAKhQ,EAAciR,iBAAiB,2B1BjBlC,kB0BoBxBygE,KCrGPgB,GAA6B,WAE7B,QAASA,GAAY7yE,GACjB1qB,KAAK0qB,OAASA,EACd1qB,KAAKw9F,WAAa,GAAI/yE,GAAczqB,KAAK0qB,QACzC1qB,KAAK0qB,OAAO+yE,kBAAoBz9F,KAChCA,KAAK0kF,mBACD1kF,KAAK0qB,iBAAkBgzE,MACvB19F,KAAK29F,UAAY,GAAIC,IAAkB59F,KAAK0qB,SAumCpD,MAnmCA6yE,GAAYn6F,UAAUy6F,kBAAoB,SAAUjzE,GAChD,GAEIiwE,GAFA7uF,EAAQG,YAAWye,EAAK5e,MAAO,MAAM,GACrC/B,EAAO2gB,EAAK3gB,KAEZ6zF,GAAY,EACZC,EAA6C,UAAzB/9F,KAAK0qB,OAAO4J,WAAuD,kBAA/Bt0B,KAAK0qB,OAAO0H,iBACpEpyB,KAAK0qB,OAAO4H,gBACZtyB,KAAK0qB,OAAO4H,gBAAgByrE,iBAAmB/9F,KAAK0qB,OAAOqzE,iBAW/D,KAVmD,QAA7C/9F,KAAK0qB,OAAOwE,mBAAmBtuB,WAAqC,SAAdgqB,EAAK3gB,MACf,WAA7CjK,KAAK0qB,OAAOwE,mBAAmBtuB,WAAwC,YAAdgqB,EAAK3gB,OAAwB8zF,GAAoB/9F,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,OAAS,IAC1J2+F,EAAW9xF,EAAM7M,OACjB6M,EAAMtM,MACFyF,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAAWmB,QAASpK,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC9FgB,KAAM2gB,EAAK3gB,QAGnBjK,KAAK6qB,cAAgD,cAAhC7qB,KAAK0qB,OAAO0H,gBAAkCpyB,KAAK0qB,OAAOe,QAC3EO,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,YACjB,mBAAhC/N,KAAK0qB,OAAO0H,gBAAsC,CAElD,GADApyB,KAAK6qB,cAAgBmB,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAClE/N,KAAK6qB,cAAc8G,cAAc,iBAAmC1nB,GAapE,MAZImtF,GAAap3F,KAAK6qB,cAAc8G,cAAc,iBAAmC1nB,GAChF0nB,cAAc,sBACE,KAAjB3lB,EAAM7M,OACNs3C,eAAa2gD,G3BnCP,a2BsCNtiD,YAAUsiD,G3BtCJ,a2BwCVyD,EACI76F,KAAK6qB,cAAc8G,cAAc,iBAAmC1nB,GAAM0nB,cAAc,uBAOhG3xB,MAAK6qB,cAAgB7qB,KAAK0qB,OAAOe,QACjCovE,EAAc76F,KAAK6qB,cAAc8G,cAAc,YAAc1nB,EAEjE,IAAI4wF,EACA,GAAoC,cAAhC76F,KAAK0qB,OAAO0H,iBAAoD,IAAjBpmB,EAAM7M,QACrD,IAAK,GAAIF,GAAK,EAAGC,EAAKc,KAAK6qB,cAAciR,iBAAiB,YAAc7xB,GAAOhL,EAAKC,EAAGC,OAAQF,IAE3F,KADIwsB,EAAUvsB,EAAGD,IACJ28B,UAAUC,S3BmeZ,wB2Bne6C,CACpD,GAAIu7D,GAAahrE,gBAAc,QAC3BY,U3BHG,qB2BIHd,UAAYlsB,KAAK0qB,OAAOszE,oBAAoBjF,iBAA4B,SAAT9uF,EAAkBjK,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBACtG,YAATgB,EAAqBjK,KAAK0qB,OAAO5mB,UAAUmF,YAAY,oBAC1C,WAATgB,EAAoBjK,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBAClDjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,oBAAsB,IAExEwiB,GAAQY,YAAY+qE,QAI3B,CACD,IAAK,GAAIt3F,GAAI,EAAGO,EAAM2L,EAAM7M,OAAQW,EAAIO,EAAKP,IACzC,IAAK,GAAIyJ,GAAK,EAAGQ,EAAsC,mBAAhC/J,KAAK0qB,OAAO0H,iBAAwCyoE,GAAe76F,KAAK6qB,cAAciR,iBAAiB,YAAc7xB,GAAQV,EAAKQ,EAAG5K,OAAQoK,IAAM,CAEtKkiB,EADIA,EAAU1hB,EAAGR,EAEjB,IAAI4lD,GAA2C,SAAzBnvD,KAAK0qB,OAAO4J,WAAwD,eAAhCtoB,EAAMlM,GAAGqF,KAAKyO,eAA2C,WAAT3J,GACtGg0F,EAAiD,SAAzBj+F,KAAK0qB,OAAO4J,UAAgC,WAATrqB,CAC/D,KAAKwhB,EAAQmQ,UAAUC,S3BgdhB,wB2BhdiD,CACpD,GAAIqiE,GAAgB9xE,gBAAc,OAC9BY,U3BpBQ,iB2BoB2C,IAANltB,EAAU,eAAiB,IACxEmtB,OAASkxE,WAAYl0F,EAAO,IAAM+B,EAAMlM,GAAGqF,QAE3CwpB,EAAgBvC,gBAAc,OAC9Bre,GAAI/B,EAAMlM,GAAGqF,KAAM6nB,UAAWoxE,kBAA+BpyF,EAAMlM,GAAGqF,KAAKuJ,QAAQ,cAAe,IAClGue,OACIoxE,WAAYryF,EAAMlM,GAAGqF,KAAMgnF,SAAY,IAAKmS,QAAYx+F,IAAMg+F,GAAY3uC,IAAmB8uC,EAAwB,OAAS,QAC9HrI,gBAAiB,QAAStK,aAAct/E,EAAMlM,GAAGsK,QAAU4B,EAAMlM,GAAGsK,QAAU4B,EAAMlM,GAAGqF,KACvFoqB,YAAuC,SAAzBvvB,KAAK0qB,OAAO4J,SAAsB2pE,EAAuB,uBAAyB9uC,EAAiB,iBAAmBnjD,EAAMlM,GAAG6H,KAAOqE,EAAMlM,GAAG6H,KAC7J6nB,eAAgBxjB,EAAMlM,GAAGsK,QAAU4B,EAAMlM,GAAGsK,QAAU4B,EAAMlM,GAAGqF,KAC/DsqB,iBAAkBzjB,EAAMlM,GAAGwK,UAC3BolB,gBAAiB1jB,EAAMlM,GAAGyK,YAG9Bg0F,EAAuBnyE,gBAAc,QACrCa,OAASk/D,SAAY,KAAMyJ,gBAAiB,SAC5C5oE,U3BdE,qB2BgBFwxE,EAA2BpyE,gBAAc,QACzCa,OAASk/D,SAAY,KAAMyJ,gBAAiB,SAC5C5oE,UAAWyxE,0BAEXC,EAAc1+F,KAAK2+F,qBAAqBhwE,GACxC+C,EAAiB1xB,KAAK4+F,iBAAiB5yF,EAAOlM,EAAGmK,EAAM6zF,EAC3DnvE,GAActC,YAAYqF,GACrBy9B,GAAmBnjD,EAAMlM,GAAGwgC,YAAet0B,EAAMlM,GAAGo+C,qBACR,KAAxC,UAAW,UAAUh5C,QAAQ+E,IAAgB6zF,IAAah+F,GAChC,SAAzBE,KAAK0qB,OAAO4J,WAAyD,cAAhCt0B,KAAK0qB,OAAO0H,iBAC/CpyB,KAAK0qB,OAAOoL,sBAA0D,mBAAhC91B,KAAK0qB,OAAO0H,qBAClBlyB,KAAhCF,KAAK0qB,OAAO4H,iBACZtyB,KAAK0qB,OAAO4H,gBAAgBwD,uBAChC91B,KAAK6+F,iBAAiBlwE,EAAe3iB,EAAMlM,GAAGqF,MAErC,WAAT8E,GAAqB6zF,IAAah+F,GAClCE,KAAK8+F,mBAAmBnwE,EAAe3iB,EAAMlM,GAAGqF,MAEvC,WAAT8E,GACAjK,KAAK++F,cAAc/yF,EAAOlM,EAAG6uB,GAGrC,IAAIqwE,GAAgB5yE,gBAAc,QAC9Ba,OAASk/D,SAAY,KAAMyJ,gBAAiB,SAC5C5oE,UAAWuT,EAAW,aAEU,eAAhCvgC,KAAK0qB,OAAO0H,kBACRpyB,KAAK0qB,OAAOszE,oBAAoBiB,eAChCxoD,eAAauoD,G3B1HvB,a2B6HUlqD,YAAUkqD,G3B7HpB,c2BgIErwE,EAActC,YAAY2yE,GAC1Bd,EAAc7xE,YAAYkyE,GAC1BL,EAAc7xE,YAAYsC,GAC1BuvE,EAAc7xE,YAAYmyE,GAC1B/yE,EAAQY,YAAY6xE,EACpB,IAAIgB,GAAc,GAAIxK,WAAStpE,UAAWprB,KAAK0qB,OAAOU,WACtD8zE,GAAY3yE,kBAAmB,EAC/B2yE,EAAY1yE,SAASmC,GACrB3uB,KAAKo9F,YAAYc,EAAep+F,IAAMg+F,EAAW,SAAW7zF,EAAMklD,GAClEnvD,KAAKq9F,UAAUa,EAAep+F,IAAMg+F,EAAW,SAAW7zF,EAAMklD,IAC3B,cAAhCnvD,KAAK0qB,OAAO0H,kBAAoCpyB,KAAK0qB,OAAO2J,YAC7B,mBAAhCr0B,KAAK0qB,OAAO0H,kBACZpyB,KAAKm/F,gBAAgD,cAAhCn/F,KAAK0qB,OAAO0H,gBAAkCV,EAAiBgtE,IAKpG,GAAa,WAATz0F,EAiCA,IAAK,GADD3C,GAAStH,KACJ4L,EAAK,EAAGE,EAAK9L,KAAK6qB,cAAciR,iBAAiB,YAAc7xB,GAAO2B,EAAKE,EAAG3M,OAAQyM,IAAM,CACjG,GAAI6f,GAAU3f,EAAGF,IAjCP,SAAU6f,GACpB,GAAIA,EAAQmQ,UAAUC,S3BuYf,wB2BvYgD,CACnD,GAAIujE,GAAYpzF,EAAM2P,IAAI,SAAUvc,GAAQ,OAASgqB,KAAMhqB,EAAKgL,QAAUhL,EAAKgL,QAAUhL,EAAK+F,KAAM9G,MAAOe,EAAK+F,QAC5Gm7E,EAAWh5E,EAAOojB,MACtB,IAAIpjB,EAAO+3F,uBAAyB5zE,EAAQkG,cAAc,qCACtDrqB,EAAO+3F,sBAAsB/7F,WAAa87F,EAC1C93F,EAAO+3F,sBAAsBhhG,MAASiiF,EAASthC,cAAcU,gBACnB0/C,EAAU,GAAG/gG,MAAnDiiF,EAASnF,YAAYv7B,mBAExB,CACD,GAAI0/C,GAASlzE,gBAAc,OAASY,U3BoYxB,oC2BnYZvB,GAAQY,YAAYizE,GACpBh4F,EAAO+3F,sBAAwB,GAAIxuE,iBAC/BvtB,WAAY87F,EACZh0E,UAAW9jB,EAAOojB,OAAOU,UACzB/sB,MAAQiiF,EAASthC,cAAcU,gBACW0/C,EAAU,GAAG/gG,MAAnDiiF,EAASnF,YAAYv7B,eACzBhyB,MAAO,IACPvuB,QAAUhB,MAAO,QAAS+qB,KAAM,QAChCgF,S3B6XI,+B2B5XJ0C,OAAQ,SAAUlG,GACVA,EAAK4U,GAAgB,OAAX5U,EAAK4U,IACf8gD,EAASthC,cAAc3gD,MAAQusB,EAAKvsB,UAIhDiJ,EAAO+3F,sBAAsB9yE,kBAAmB,EAChDjlB,EAAO+3F,sBAAsB7yE,SAAS8yE,MAOtC7zE,MAS5B8xE,EAAYn6F,UAAUw7F,iBAAmB,SAAU5yF,EAAOlM,EAAGmK,EAAM6zF,GAC/D,GACIyB,GACAC,CACS,aAATv1F,IACAu1F,EAAYx/F,KAAKy/F,iBAAiBzzF,EAAMlM,GAAGqF,MAE/C,IAAIkqB,OAO0CnvB,MAL1CmvB,EADyB,SAAzBrvB,KAAK0qB,OAAO4J,SACGt0B,KAAK0qB,OAAO6J,iBAGZv0B,KAAK0qB,OAAO2E,cAEd9hB,UAAUvB,EAAMlM,GAAGqF,YAEZjF,MADpBq/F,EAAclwE,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMgJ,gBAC6B,WAA/CkhB,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMwC,MAAoE,YAA/C0nB,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMwC,MAChF,YAA/C0nB,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMwC,SAGjBzH,KAAhBq/F,IACLA,MAAsEr/F,KAAxDmvB,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMgJ,cAChDkhB,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMgJ,cAAgB,OAJ1DoxF,EAAc,QAOtB,IAAIn2E,GAAOpd,EAAMlM,GAAGsK,QAAU4B,EAAMlM,GAAGsK,QAAU4B,EAAMlM,GAAGqF,IAiB1D,OAhBainB,iBAAc,QACvBa,OACIuT,MAAgB,YAATv2B,EAA+C,SAAzBjK,KAAK0qB,OAAO4J,UAAsE,oBAA/CjF,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMwC,KAClGyhB,EAAQA,EAAO,KAAOo2E,EAAY,IAAiC,SAAzBx/F,KAAK0qB,OAAO4J,SACtDlL,EAAWppB,KAAK0qB,OAAOwE,mBAAmBwwE,6BAAwC,WAATz1F,GAAqC,oBAAhBs1F,EACvFv/F,KAAK0qB,OAAO5mB,UAAUmF,YAAYs2F,GAAe,OAAmBn2E,EAA3EA,EACJ+iE,SAAY,KAAMyJ,gBAAiB,QAAS+J,cAAiB,gBAC7DpwE,YAAauuE,IAAah+F,EAAI,GAAKy/F,GAEvCvyE,UAAW4yE,cAC0B,cAAhC5/F,KAAK0qB,OAAO0H,iBAAoCpyB,KAAK0qB,OAAOszE,oBAAoBjF,iBAAsC,GAAnB,kBACxG7sE,UAAoB,YAATjiB,EAA+C,SAAzBjK,KAAK0qB,OAAO4J,UAAsE,oBAA/CjF,EAAa9hB,UAAUvB,EAAMlM,GAAGqF,MAAMwC,KACtGyhB,EAAQA,EAAO,KAAOo2E,EAAY,IAAiC,SAAzBx/F,KAAK0qB,OAAO4J,SACtDlL,EAASppB,KAAK0qB,OAAOwE,mBAAmBwwE,6BAAwC,WAATz1F,GAAqC,oBAAhBs1F,EACrFv/F,KAAK0qB,OAAO5mB,UAAUmF,YAAYs2F,GAAe,OAAmBn2E,EAA3EA,KAIZm0E,EAAYn6F,UAAU27F,cAAgB,SAAU/yF,EAAOlM,EAAG6uB,GACtD,GAAIU,GAOAwwE,GALAxwE,EADyB,SAAzBrvB,KAAK0qB,OAAO4J,SACGt0B,KAAK0qB,OAAO6J,iBAGZv0B,KAAK0qB,OAAO2E,cAEE9hB,UAAUvB,EAAMlM,GAAGqF,KAChB,qBAAhC06F,EAAc1xF,eACS,WAAvB0xF,EAAcl4F,MACd3H,KAAK8/F,kBAAkBnxE,EAAe3iB,EAAMlM,GAAGqF,OAGvDo4F,EAAYn6F,UAAU08F,kBAAoB,SAAUZ,EAAaz3F,GAC7D,GAAIgxF,GAAcrsE,gBAAc,QAC5Ba,OAASk/D,SAAY,KAAMyJ,gBAAiB,SAC5C5oE,UAAWuT,EAAW,oBAW1B,OAToC,cAAhCvgC,KAAK0qB,OAAO0H,kBACRpyB,KAAK0qB,OAAOszE,oBAAoB+B,kBAChCtpD,eAAagiD,G3B9PH,a2BiQV3jD,YAAU2jD,G3BjQA,c2BoQlByG,EAAY7yE,YAAYosE,GACjBA,GAEX8E,EAAYn6F,UAAU48F,iBAAmB,SAAUp1E,GAC/C5qB,KAAKw9F,WAAW7yE,OAAOC,EAAM5qB,KAAK6qB,eAClC7qB,KAAK0qB,OAAO+yE,kBAAoBz9F,MAEpCu9F,EAAYn6F,UAAU+7F,gBAAkB,SAAUtyE,GAC9C7sB,KAAKigG,UAAY,GAAIC,aAAUrzE,GAC3BszE,OAAO,EACPC,gBAAgB,EAChBC,kBAAkB,EAClBC,OAAQtgG,KAAKugG,gBAAgB30E,KAAK5rB,MAClCm5F,UAAWn5F,KAAKwgG,YAAY50E,KAAK5rB,MACjCuvE,KAAMvvE,KAAKygG,WAAW70E,KAAK5rB,MAC3Bq5F,SAAUr5F,KAAK0gG,WAAW90E,KAAK5rB,MAC/B2gG,MAAwC,cAAhC3gG,KAAK0qB,OAAO0H,iBAAoCpyB,KAAK0qB,OAAOszE,oBAAoBjF,iBAAkD,GAA/B,qBAGnHwE,EAAYn6F,UAAUu7F,qBAAuB,SAAUO,GACnD,GAAIR,GAActyE,gBAAc,QAC5Ba,OAASk/D,SAAY,KAAMyJ,gBAAiB,WAE5CkE,EAAc1tE,gBAAc,QAC5Ba,OACIk/D,SAAY,KAAMyJ,gBAAiB,SAEvC5oE,UAAWuT,EAAW,WAI1B,OAFAm+D,GAAYryE,YAAYytE,GACxBoF,EAAY7yE,YAAYqyE,GACjBA,GAEXnB,EAAYn6F,UAAUy7F,iBAAmB,SAAUK,EAAaz3F,GAC5D,GAAIm5F,GACAnI,EACAppE,CAOJ,IALIA,EADyB,SAAzBrvB,KAAK0qB,OAAO4J,SACGt0B,KAAK0qB,OAAO6J,iBAGZv0B,KAAK0qB,OAAO2E,aAE1BrvB,KAAK0qB,OAAOyH,uBAGZ,CACDyuE,EAAY,EACZ,KAAK,GAAI9gG,GAAI,EAAGA,EAAIE,KAAK0qB,OAAOwE,mBAAmBnoB,aAAa5H,OAAQW,IAChEE,KAAK0qB,OAAOwE,mBAAmBnoB,aAAajH,GAAGqF,OAASsC,IACxDm5F,EAAqE,eAAzD5gG,KAAK0qB,OAAOwE,mBAAmBnoB,aAAajH,GAAGiR,M3BpP/C,Y2BoPiG,QANrH6vF,GAAuD,eAA3CvxE,EAAa9hB,UAAU9F,GAAWI,K3B9O1B,Y2B8O2E,EAqCnG,OA1BI4wF,GAD2C,SAA3CppE,EAAa9hB,UAAU9F,GAAWI,KACpBukB,gBAAc,QACxBa,OAASk/D,SAAY,KAAMyJ,gBAAiB,SAC5C5oE,UAAWuT,IAIDnU,gBAAc,QACxBa,OAASk/D,SAAY,KAAMyJ,gBAAiB,SAC5C5oE,UAAWuT,EAAW,WAA6BqgE,IAGvD5gG,KAAK0qB,OAAOwE,mBAAmBjrB,cAC/BwyC,eAAagiD,G3BvUC,a2B0Ud3jD,YAAU2jD,G3B1UI,a2B4UkB,cAAhCz4F,KAAK0qB,OAAO0H,kBACRpyB,KAAK0qB,OAAOszE,oBAAoB6C,aAChCpqD,eAAagiD,G3B9UH,a2BiVV3jD,YAAU2jD,G3BjVA,c2BoVlByG,EAAY7yE,YAAYosE,GACjBA,GAEX8E,EAAYn6F,UAAU07F,mBAAqB,SAAUI,EAAaz3F,GAC9D,GAAIq5F,GACAzxE,CAOJ,IALIA,EADyB,SAAzBrvB,KAAK0qB,OAAO4J,SACGt0B,KAAK0qB,OAAO6J,iBAGZv0B,KAAK0qB,OAAO2E,aAE1BrvB,KAAK0qB,OAAOyH,uBAIZ,CACD2uE,E3B/Rc,a2BgSd,KAAK,GAAIhhG,GAAI,EAAGA,EAAIE,KAAK0qB,OAAOwE,mBAAmBhgB,eAAe/P,OAAQW,IAClEE,KAAK0qB,OAAOwE,mBAAmBhgB,eAAepP,GAAGqF,OAASsC,IAC1Dq5F,E3BhSQ,qB2ByRhBA,GAAkE,IAApDzxE,EAAa9hB,UAAU9F,GAAWgG,OAAOtO,OAClDkwB,EAAa9hB,UAAU9F,GAAWiG,c3B1RvB,gBAFF,cAEE,e2BoSpB,IAAI+qF,GAAcrsE,gBAAc,QAC5Ba,OACIk/D,SAAY,KAAMyJ,gBAAiB,SAEvC5oE,UAAW+zE,wBAAiDD,GAWhE,OAToC,cAAhC9gG,KAAK0qB,OAAO0H,kBACRpyB,KAAK0qB,OAAOszE,oBAAoBgD,eAChCvqD,eAAagiD,G3BpXH,a2BuXV3jD,YAAU2jD,G3BvXA,c2B0XlByG,EAAY7yE,YAAYosE,GACjBA,GAGX8E,EAAYn6F,UAAUq8F,iBAAmB,SAAUh4F,GAC/C,GAAI4nB,GAUAmwE,EAHAyB,GALA5xE,EADyB,SAAzBrvB,KAAK0qB,OAAO4J,SACGt0B,KAAK0qB,OAAO6J,iBAGZv0B,KAAK0qB,OAAO2E,cAEA9hB,UAAU9F,GAAWgG,OAAOtO,OACvDwO,EAAa0hB,EAAa9hB,UAAU9F,GAAWkG,WAC/CuzF,EAAS7xE,EAAa9hB,UAAU9F,GAAWmG,WAAWzO,OAEtD6zF,EAAY3jE,EAAa9hB,UAAU9F,GAAWgG,OAAO,EACzD,IAA6B,SAAzBzN,KAAK0qB,OAAO4J,SACZkrE,EAAYx/F,KAAKmhG,qBAAqB9xE,EAAc5nB,EAAWurF,EAAWiO,OAEzE,IAAmB,YAAftzF,EACe,IAAhBszF,EACAzB,EAAYxM,EAEPiO,EAAc,IAEfzB,EADAyB,IAAgBC,EACJlhG,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OAGlCjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,sBAIrD,IAAmB,YAAf0E,GACL,GAAoB,IAAhBszF,EAGQzB,EAFO,IAAX0B,EACIlO,IAAc3jE,EAAa9hB,UAAU9F,GAAWmG,WAAW,GAAGwC,WAClD4iF,EAGA3jE,EAAa9hB,UAAU9F,GAAWmG,WAAW,GAAGwC,WAIpDpQ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,qBAGjD,IAAIg4F,EAAc,EAAG,CACtB,GAAIlhG,OAAI,GACJqhG,EAAW9hG,OAAOC,KAAK8vB,EAAa9hB,UAAU9F,GAAWqG,SACzDuzF,EAAgBhyE,EAAa9hB,UAAU9F,GAAWgG,MACtD,IAAIwzF,IAAiBG,EAASjiG,OAAS,EACnCmiG,EAAM,IAAKvhG,EAAI,EAAGA,EAAIqhG,EAASjiG,OAAQY,IAAK,CACxC,GAAIipB,GAAOo4E,EAASrhG,EAEpB,KAAW,IADHshG,EAAcn8F,QAAQ8jB,GAChB,CACVw2E,EAAY4B,EAASrhG,EACrB,MAAMuhG,QAKd9B,GAAYx/F,KAAK0qB,OAAO5mB,UAAUmF,YAAY,sBAKtDu2F,GAAYx/F,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAElD,OAAOu2F,IAEXjC,EAAYn6F,UAAU+9F,qBAAuB,SAAU9xE,EAAc5nB,EAAWurF,EAAWiO,GACvF,GAAIzB,GACA95B,EAAcr2C,EAAa9hB,UAAU9F,GAAWy9D,YACpD,IAAIQ,EAAYvmE,OAAS,EAAG,CACxB,GAAIwC,GAAW0tB,EAAa9hB,UAAU9F,GAAWqG,QAC7C47E,EAAWr6D,EAAa9hB,UAAU9F,GAAW2/D,gBAC7Cm6B,IACJ,IAAIlyE,EAAa9hB,UAAU9F,GAAW0/D,cAAchoE,OAAS,EAAG,CAC5D,IAAK,GAAIF,GAAK,EAAG60D,EAAgB4R,EAAazmE,EAAK60D,EAAc30D,OAAQF,IAEjEyqF,EADAtqF,EAAO00D,EAAc70D,IACNuO,aACTk8E,EAAStqF,GAAMsrB,QAAUg/D,EAASA,EAAStqF,GAAMsrB,QAAQld,YAC3D+zF,EAAmB7hG,KAAKN,GAIpC4zF,GAA0C,IAA9BuO,EAAmBpiG,OAAeuqF,EAAS6X,EAAmB,IAAIn3F,QAAU4oF,MAEvF,IAAI3jE,EAAa9hB,UAAU9F,GAAWR,cAAc9H,OAAS,EAAG,CACjE,IAAK,GAAID,GAAK,EAAG6pF,EAAgBrjB,EAAaxmE,EAAK6pF,EAAc5pF,OAAQD,IAAM,CAC3E,GAAIE,GAAO2pF,EAAc7pF,EACrByC,GAASvC,GAAMoO,aACT7L,EAASvC,GAAMsrB,QAAU/oB,EAASA,EAASvC,GAAMsrB,QAAQld,YAC3D+zF,EAAmB7hG,KAAKN,IAIpC4zF,EAA0C,IAA9BuO,EAAmBpiG,OAAewC,EAAS4/F,EAAmB,IAAIn3F,QAAU4oF,EAE5FiO,EAA4C,IAA9BM,EAAmBpiG,OAAe8hG,EAAcM,EAAmBpiG,OAYrF,MAVoB,KAAhB8hG,EACAzB,EAAanwE,EAAa9hB,UAAU9F,GAAWwN,UAC3Coa,EAAa9hB,UAAU9F,GAAWwN,UAAYjV,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OAE/D,IAAhBg4F,EACLzB,EAAYxM,EAEPiO,EAAc,IACnBzB,EAAYx/F,KAAK0qB,OAAO5mB,UAAUmF,YAAY,kBAE3Cu2F,GAEXjC,EAAYn6F,UAAUm9F,gBAAkB,SAAU31E,GAC9C,GAAIa,GAAU4oB,UAAQzpB,EAAKa,QAAS,mBAChC+1E,EAAep1E,gBAAc,OAC7Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAC7Bif,U3BlbkB,wB2BoblB0E,EAAiBtF,gBAAc,QAC/BY,U3B3VoB,iB2B4VpBd,UAAWT,EAAQwE,aAIvB,OAFAuxE,GAAan1E,YAAYqF,GACzB1F,SAAS0vB,KAAKrvB,YAAYm1E,GACnBA,GAEXjE,EAAYn6F,UAAUo9F,YAAc,SAAUhhE,GAC1Cx/B,KAAK0qB,OAAOuuD,YAAa,CACzB,IAAI5pD,EAEAA,GADyB,SAAzBrvB,KAAK0qB,OAAO4J,SACGt0B,KAAK0qB,OAAO6J,iBAGZv0B,KAAK0qB,OAAO2E,YAE/B,IAAI5D,GAAU4oB,UAAQ7U,EAAE/T,QAAS,mBAC7B1sB,EAAOswB,EAAa9hB,UAAUke,EAAQoD,aAAa,aACnD5kB,G3B7YgB,SAEG,YAIA,a2BwYnBywF,EAAW1uE,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAEhE,IADA+mC,YAAUrpB,G3BrXe,mB2BsXrBivE,GAC4B,WADiB,mBAAhC16F,KAAK0qB,OAAO0H,iBACzBpyB,KAAK0qB,OAAO2H,YAAyB,CACrC,GAAIovE,GAAiBzhG,KAAK0qB,MAC1BgwE,GAASjuE,MAAMC,QAAU+0E,EAAe3W,eAAeC,gBAAgBr+D,OAAS,GAAGxkB,WAEvF,GAAInJ,GAA+B,oBAAvBA,EAAKoP,cACb,IAAK,GAAIlP,GAAK,EAAGw7F,EAASxwF,EAAMhL,EAAKw7F,EAAOt7F,OAAQF,IAAM,CACtD,GAAIi4F,GAAcuD,EAAOx7F,EACzB61C,aAAU90C,KAAK6qB,cAAc8G,cAAc,IAAMulE,I3BhYtC,mB2BmYfx8D,cACA8E,EAAEkiE,WAAWliE,EAAEs6D,cAGvByD,EAAYn6F,UAAUq9F,WAAa,SAAUjhE,GACzCx/B,KAAKigG,UAAU1tE,eAAgBovE,UAAYr2E,KAAOs2E,oBAAMpiE,EAAElD,MAAMulE,gBAAkBh0B,UAAQC,SAAY,IAAM,OAchHyvB,EAAYn6F,UAAUs9F,WAAa,SAAU91E,GACzC5qB,KAAK0qB,OAAOuuD,YAAa,EACrBruD,EAAKiC,OAAO+O,YAAchR,EAAKiC,OAAO+O,UAAUC,S3Bd7B,yB2BcgEjR,EAAKiC,OAAO+O,UAAUC,S3BN7E,mC2BO5BjR,EAAKiC,OAAS7sB,KAAK0qB,OAAOe,QAAQkG,cAAc,uBAEpD,IAAIlG,GAAU4oB,UAAQzpB,EAAKa,QAAS,kBACpCgrB,kBAAe7b,MAAMC,KAAK76B,KAAK6qB,cAAciR,iBAAiB,oB3B1ZrC,mB2B2ZzB2a,iBAAe7b,MAAMC,KAAK76B,KAAK6qB,cAAciR,iBAAiB,sB3B7dnC,e2B+d3B,KAAK,GAAI78B,GAAK,EAAG27F,G3BvbG,SAEG,YAIA,a2BibS37F,EAAK27F,EAAOz7F,OAAQF,IAAM,CACtD,GAAIi4F,GAAc0D,EAAO37F,EACzBw3C,gBAAaz2C,KAAK6qB,cAAc8G,cAAc,IAAMulE,I3BjarC,mB2Bmafl3F,KAAK0qB,OAAOwI,YAAYsyD,aAAatqC,aACrCl7C,KAAK0qB,OAAOwI,YAAYsyD,aAAatqC,YAAYxsB,QAEjD1C,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eACjDulB,SAAOtH,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAE5Die,SAAS0vB,KAAKjvB,MAAMq1E,OAAS,OACxB9hG,KAAK+hG,gBAAgBn3E,EAAKiC,OAAQpB,KAGvCzrB,KAAK0qB,OAAOwI,YAAY2jB,iBAAiBzB,QAA0C,cAAhCp1C,KAAK0qB,OAAO0H,gBAAkCpyB,KAAK0qB,OACjG1qB,KAAK0qB,OAAO4H,gBAAkBtyB,KAAK0qB,OAAO4H,gBAAkBtyB,KAAK0qB,OAClE1qB,KAAK0qB,OAAOwI,YAAYsgE,kBAAkBzJ,gBAAgBn/D,EAAMa,EAAQ1d,MACxE/N,KAAKiyB,mBACSjyB,KAEN0qB,OAAOiyD,gBAAgBhyD,YAIvC4yE,EAAYn6F,UAAU2+F,gBAAkB,SAAU1G,EAAYxuE,GAC1D,GAAIy9D,GAAYj2C,UAAQxnB,EAAQ,gBAE5BquE,GAAY,CAChB,IAAI5Q,IAFmBj2C,UAAQgnD,EAAY,gBAEP,CAKhC,IAAK,GAJD9Q,MAAkB3vD,MAAMC,KAAKyvD,EAAUxuD,iBAAiB,oBACxDkmE,EAAkB3tD,UAAQgnD,EAAY,kBACtCC,MAAiB,GACjBpR,GAAmB,EACdpqF,EAAI,EAAGshE,EAAImpB,EAAaprF,OAAQW,EAAIshE,EAAGthE,IAI5C,GAHIyqF,EAAazqF,GAAGiO,KAAO8e,EAAO9e,KAC9ButF,EAAiBx7F,GAEjBkiG,EAAiB,CACjB,GAAIxG,GAAkBwG,EAAgBrwE,cAAc,kBAChD44D,GAAazqF,GAAGiO,KAAOytF,EAAgBztF,KACvCm8E,EAAkBpqF,IAI1Bw7F,IAAmBpR,GAAoBoR,IAAoB/Q,EAAaprF,OAAS,IAA2B,IAArB+qF,KACvFzzC,iBAAe7b,MAAMC,KAAK76B,KAAK6qB,cAAciR,iBAAiB,sB3B5gB3C,gB2B6gBnBo/D,GAAY,GAGpB,MAAOA,IAEXqC,EAAYn6F,UAAUmiF,cAAgB,SAAU36D,GAC5C,IAAMA,EAAKiC,OAAO+O,UAAUC,S3B/hBH,kB2BgiBnBjR,EAAKiC,OAAO+O,UAAUC,S3B1hBV,c2B2hBT77B,KAAK0qB,iBAAkBgzE,KAAkB19F,KAAK0qB,OAAOszE,oBAAoB6C,eAC1E7gG,KAAK0qB,OAAOwE,mBAAmBjrB,gBACJ,SAAzBjE,KAAK0qB,OAAO4J,YAAyD,mBAAhCt0B,KAAK0qB,OAAO0H,qBACflyB,KAAhCF,KAAK0qB,OAAO4H,iBACZtyB,KAAK0qB,OAAO4H,gBAAgBwD,sBACK,cAAhC91B,KAAK0qB,OAAO0H,iBAAmCpyB,KAAK0qB,OAAOoL,uBAAyB,EACnD,cAAhC91B,KAAK0qB,OAAO0H,iBAAmCpyB,KAAK0qB,OAAOtpB,oBAC5B,mBAAhCpB,KAAK0qB,OAAO0H,qBAAwElyB,KAAhCF,KAAK0qB,OAAO4H,iBAC7DtyB,KAAK0qB,OAAO4H,gBAAgBlxB,sBAC5BpB,KAAK0qB,OAAOtpB,oBAAsBpB,KAAK0qB,OAAO4H,gBAAgBlxB,sBAC1DwpB,EAAKiC,OAAO+O,UAAUC,SAAS,kBAC0C,SAArEjR,EAAKiC,OAAOhC,cAAcgE,aAAa,YAAYhgB,MAAM,KAAK,IAC9D7O,KAAK0qB,OAAO6H,eAAgBrD,oBAAsB/oB,mBAAqBG,WAAY,OAAU,GAIV,SAAnFskB,EAAKiC,OAAOhC,cAAcA,cAAcgE,aAAa,YAAYhgB,MAAM,KAAK,IAC5E7O,KAAK0qB,OAAO6H,eAAgBrD,oBAAsB/oB,mBAAqBG,WAAY,OAAU,IAK7GtG,KAAK0qB,OAAOwI,YAAYC,UAAUoyD,cAAc36D,GAC3C5qB,KAAK0qB,OAAOyH,wBAAyD,kBAA/BnyB,KAAK0qB,OAAO0H,iBACnDpyB,KAAKiyB,kBAAiB,EAE1B,IAAIgwE,GAAUjiG,IAEViiG,GAAQv3E,iBAAkBgzE,KAC1BuE,EAAQtE,UAAUhzE,WAMlC4yE,EAAYn6F,UAAU6uB,iBAAmB,SAAUyrD,GAC1C19E,KAAK0qB,OAAOyH,wBAA0D,cAAhCnyB,KAAK0qB,OAAO0H,gBAIf,mBAAhCpyB,KAAK0qB,OAAO0H,iBAAmE,UAA3BpyB,KAAK0qB,OAAO2H,YACnC,SAAzBryB,KAAK0qB,OAAO4J,SACZt0B,KAAK0qB,OAAO4H,gBAAgBiC,iBAAmBv0B,KAAK0qB,OAAO6J,iBAG3Dv0B,KAAK0qB,OAAO4H,gBAAgBjD,aAAervB,KAAK0qB,OAAO2E,aAE3DrvB,KAAK0qB,OAAO4H,gBAAgBE,OAAOC,EAAiBzyB,MACpDA,KAAK0qB,OACD4H,gBAAgBC,eAAgBrD,mBAAoBlvB,KAAK0qB,OAAOwE,mBAAmBjjB,aAAc,IAGrGjM,KAAK0qB,OAAOgI,uBAfhB1yB,KAAK0qB,OAAOuH,iBAAiByrD,IAmBrC6f,EAAYn6F,UAAU0iF,gBAAkB,SAAUl7D,GAC9C5qB,KAAK0qB,OAAOwI,YAAYC,UAAU2yD,gBAAgBl7D,EAClD,IAAIiC,GAASjC,EAAKiC,MAClB7sB,MAAKyH,UAAYolB,EAAOhC,cAAc9c,GACtC/N,KAAKk7C,YAAcl7C,KAAK0qB,OAAOwI,YAAYsyD,aAAatqC,YACxDl7C,KAAKitF,eAAiBjtF,KAAK0qB,OAAOwI,YAAYsyD,aAAayH,eAC3DjtF,KAAK0qB,OAAOwI,YAAYsyD,aAAayH,eAAe4L,YAAc74F,KAAKwzF,kBAAkB5nE,KAAK5rB,MAC9FA,KAAK0qB,OAAOwI,YAAYsyD,aAAa0H,gBAAgB2L,YAAc74F,KAAKwzF,kBAAkB5nE,KAAK5rB,MAC/FA,KAAKkiG,oBAET3E,EAAYn6F,UAAU8+F,iBAAmB,WACjCliG,KAAK0qB,OAAOwI,YAAYsyD,aAAamD,sBAAwB3oF,KAAK0qB,OAAOwI,YAAYsyD,aAAa6J,QAClGrvF,KAAK0L,MAAQ1L,KAAK0qB,OAAOwI,YAAYsyD,aAAa6J,OAAOG,aACzDxvF,KAAKmiG,2BACLniG,KAAKk7C,YAAYltB,QAAUhuB,KAAKmuB,cAChCnuB,KAAKk7C,YAAY2tC,WACjB7oF,KAAK0qB,OAAOwI,YAAYsyD,aAAa6J,OAAO11D,SAAW35B,KAAKu2F,UAAU3qE,KAAK5rB,QAG3EA,KAAK0L,MAAQ,EACb1L,KAAKmiG,6BAGb5E,EAAYn6F,UAAU+qB,YAAc,WAChC,QAEQA,aACIC,S3BxkBS,W2BwkBsBb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAAOolB,WAAW,GAEhGJ,MAAuB,IAAfjuB,KAAK0L,MAAc1L,KAAKoiG,kBAAkBx2E,KAAK5rB,KAAMA,KAAKyH,WAAazH,KAAKqiG,mBAAmBz2E,KAAK5rB,QAG5GmuB,aACIC,SAAU,yBAA2BpuB,KAAK0qB,OAAOwI,YAAYsyD,aAAamD,qBAAuB,GAAK,cACtG1rC,QAAS,8BAA+B7xB,UAAWprB,KAAK0qB,OAAOU,UAC/DmC,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAAgB0iF,UAAW3rF,KAAK0qB,OAAOwI,YAAYsyD,aAAagG,cAE/Gv9D,MAAOjuB,KAAKsiG,YAAY12E,KAAK5rB,QAG7BiuB,MAAOjuB,KAAK0qB,OAAOwI,YAAYsyD,aAAaoG,kBAAkBhgE,KAAK5rB,MACnEmuB,aAAeC,S3BplBE,e2BolBiCb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAIzGs0F,EAAYn6F,UAAUmzF,UAAY,SAAU/2D,GACxCx/B,KAAK0L,MAAQ8zB,EAAE4vD,cACfpvF,KAAKmiG,2BACL1rD,iBAAe7b,MAAMC,KAAK76B,KAAKk7C,YAAYzvB,QAAQqQ,iBAAiB,oBAAqB,kBACrF0D,EAAE4vD,cAAgB,GAElBt6C,YAAU90C,KAAKk7C,YAAYzvB,QAAQkG,cAAc,0BAAqD,IAApB6N,EAAE4vD,eAAuBpvF,KAAK0qB,OAAOwE,mBAAmBnd,iBAAmB,iBAAmB,oBAAqB,kBAEjL,IAApBytB,EAAE4vD,cACFpvF,KAAK0qB,OAAOwI,YAAYsyD,aAAauG,sBAGrC/rF,KAAKk7C,YAAYltB,QAAQ,GAAGG,YAAYw9D,UAAW,EACnD3rF,KAAKk7C,YAAYzvB,QAAQkG,cAAc,aAA2Bw7D,gBAAgB,cAG1FoQ,EAAYn6F,UAAU++F,yBAA2B,WAC7CniG,KAAKk7C,YAAYltB,QAAUhuB,KAAKmuB,cAChCnuB,KAAKk7C,YAAY2tC,YAErB0U,EAAYn6F,UAAUi/F,mBAAqB,SAAUz3E,GACjD,GAkBI4gE,GAlBA74D,EAAgB3yB,KAAKk7C,YAAYzvB,QAAQkG,cAAc,mBACvDlqB,EAAYkrB,EAAc9D,aAAa,kBACvCpY,EAAYkc,EAAc9D,aAAa,sBACvClhB,EAAaglB,EAAc9D,aAAa,aACxCzZ,EAAUud,EAAc9D,aAAa,gBACrCpb,EAAWkf,EAAc9D,aAAa,iBACtCzb,EAAWuf,EAAc9D,aAAa,eACtCvb,EAAWqf,EAAc9D,aAAa,eACtClnB,EAAwB,UAAfgG,EAA0B,QAA0B,SAAfA,EAAyB,OACvD,WAAfA,EAA2B,SAAW,QACvCqM,GACA7U,KAAMsC,EACNE,KAAMA,EACNyN,QAASA,EACTxC,UAAWa,EACXZ,OAAuB,SAAflF,EAAwB,GAAI1F,MAAKmL,GAAYA,EACrDN,OAAuB,SAAfnF,EAAwB,GAAI1F,MAAKqL,GAAYA,EAGzD,IAA6B,SAAzBtT,KAAK0qB,OAAO4J,SAAqB,CACjCta,EAAWiZ,cAAgBxc,EAC3BzW,KAAKuiG,yBAAyB96F,EAAWgP,EAAW9O,EAEpD,KAAK,GAAI1I,GAAK,EAAGoqF,EADCrpF,KAAK0qB,OAAOwE,mBAAmBhgB,eACHjQ,EAAKoqF,EAAclqF,OAAQF,IAAM,CAC3E,GAAIG,GAAOiqF,EAAcpqF,EACrBG,GAAK+F,OAASsC,GAAarI,EAAK6zB,gBAAkBxc,IAClD+0E,EAAepsF,QAKvBosF,GAAexrF,KAAK0qB,OAAOwI,YAAYC,UAAU8yD,oBAAoBx+E,EAEzE,IAAKm6F,oBAAMxuF,IAA0B,KAAbA,IAClB,UAAW,cAAclO,QAAQuO,IAAa,IAAMmuF,oBAAMtuF,IAA0B,KAAbA,GAAmB,CAC5F,GAAIkvF,GAAsB76F,EAAKiM,eAAkBguF,oBAAMxuF,IAA0B,KAAbA,EAAmB,kBAAoB,mBACvGqvF,EAAe9vE,EAAchB,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,IAAMy0F,EAGpF,OAFA1tD,aAAU2tD,G3BxYG,qB2ByYbA,GAAa7tD,QAGb42C,IAEAA,EAAeA,EAAav/E,WACxBu/E,EAAav/E,WAAau/E,GACjB7jF,KAAOA,EACpB6jF,EAAap2E,QAAUA,EACvBo2E,EAAa54E,UAAYa,EACzB+3E,EAAa34E,OAAwB,SAAflF,EAAwB,GAAI1F,MAAKmL,GAAYA,EACnEo4E,EAAa14E,OAAwB,SAAfnF,EAAwB,GAAI1F,MAAKqL,GAAYA,EACtC,SAAzBtT,KAAK0qB,OAAO4J,WACZk3D,EAAav4D,cAAgBxc,IAIjCzW,KAAK0qB,OAAOwE,mBAAmBhgB,eAAexP,KAAKsa,GAE1C,UAATrS,IACA3H,KAAK0qB,OAAO0hD,eAAiBpsE,KAAK0qB,OAAOwI,YAAYC,UAAU8yD,oBAAoBx+E,IAEvFzH,KAAKk7C,YAAYxsB,QACjB1uB,KAAK0iG,wBAAwBj7F,GAAW,GACxCzH,KAAKiyB,kBAAiB,IAE1BsrE,EAAYn6F,UAAUk/F,YAAc,SAAU9iE,GAC1C,GAAI7M,GAAgB3yB,KAAKk7C,YAAYzvB,QACjChkB,EAAYkrB,EAAc9D,aAAa,kBACvC8zE,EAAahwE,EAAchB,cAAc,kBAE7C,IADA3xB,KAAKk7C,YAAYxsB,QACY,SAAzB1uB,KAAK0qB,OAAO4J,UAAuBquE,EAAY,CAC/C,GAAIlsF,GAAYksF,EAAW9zE,aAAa,qBACxC7uB,MAAKuiG,yBAAyB96F,EAAWgP,OAGzCzW,MAAKuiG,yBAAyB96F,EAElC,IAAI+jF,GAAexrF,KAAK0qB,OAAOwI,YAAYC,UAAU8yD,oBAAoBx+E,EACzEzH,MAAK0iG,wBAAwBj7F,IAAW+jF,GACxCxrF,KAAKiyB,kBAAiB,IAE1BsrE,EAAYn6F,UAAUw/F,aAAe,SAAUh4E,GAC3C,GAAIiC,GAASjC,EAAKiC,OACdplB,EAAYolB,EAAOhC,cAAc9c,EACgB,UAAjD8e,EAAOhC,cAAcgE,aAAa,YAClC7uB,KAAK0qB,OAAO6H,eAAgBrD,oBAAsBxsB,aAAgB,GACrC,SAAzB1C,KAAK0qB,OAAO4J,UACZt0B,KAAK0qB,OAAOwI,YAAY2jB,iBAAiB4zC,sBAAsB,gBAInEzqF,KAAK0qB,OAAOwI,YAAY2jB,iBAAiB4zC,sBAAsBhjF,GAClC,SAAzBzH,KAAK0qB,OAAO4J,UAAwE,IAAjDt0B,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,QACzEa,KAAK0qB,OAAOwI,YAAY2jB,iBAAiB4zC,sBAAsB,eAGnC,mBAAhCzqF,KAAK0qB,OAAO0H,iBACZpyB,KAAK0qB,OAAOiyD,gBAAgBhyD,SAEhC3qB,KAAKiyB,oBAETsrE,EAAYn6F,UAAUowF,kBAAoB,SAAU5oE,GAChD,GAAIiC,GAASwnB,UAAQzpB,EAAKkY,KAAM,MAC5Br7B,EAAYolB,EAAOgC,aAAa,iBACpC,IAAwC,QAApChC,EAAOgC,aAAa,YACpB7uB,KAAKitF,eAAe4L,YAAc,KACd,UAAhBjuE,EAAKjQ,OACL3a,KAAKitF,eAAeqB,WAGpBtuF,KAAKitF,eAAeoB,aAEK,SAAzBruF,KAAK0qB,OAAO4J,UAAuBt0B,KAAK0qB,OAAO6J,mBAC9Cv0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAAU9F,GAAW4gE,aACnDroE,KAAK6iG,iBAAiB7iG,KAAKitF,eAAeiG,qBAAsBzrF,EAAWmjB,EAAKjQ,QAEpF3a,KAAK8iG,gBAAgBl4E,EAAKjQ,QAC1B3a,KAAKitF,eAAe4L,YAAc74F,KAAKwzF,kBAAkB5nE,KAAK5rB,UAE7D,CACD,GAA6B,SAAzBA,KAAK0qB,OAAO4J,UAAuBt0B,KAAK0qB,OAAO6J,mBAC9Cv0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAAU9F,GAAW4gE,YAAa,CAEhE,GAAIyqB,GAAe9yF,KAAKitF,eAAeiG,oBAGvClzF,MAAK6iG,iBAAiB/P,EAAcrrF,EAAWmjB,EAAKjQ,QAExD,GAAI1V,GAAMjF,KAAK0qB,OAAOwI,YAAYg2D,oBAAoBr8D,EAAOgC,aAAa,YACtD,WAAhBjE,EAAKjQ,OACD3a,KAAK0qB,OAAOwI,YAAYs1D,iBAAiBvjF,KACzCjF,KAAK0qB,OAAOwI,YAAYs1D,iBAAiBvjF,GAAKuI,YAAa,GAI3DxN,KAAK0qB,OAAOwI,YAAYs1D,iBAAiBvjF,KACzCjF,KAAK0qB,OAAOwI,YAAYs1D,iBAAiBvjF,GAAKuI,YAAa,GAIvExN,KAAK0qB,OAAOwI,YAAYsyD,aAAauG,sBAEzCwR,EAAYn6F,UAAU0/F,gBAAkB,SAAUrZ,GAE9C,IAAK,GADDsZ,MACK9jG,EAAK,EAAGC,EAAKc,KAAK0qB,OAAOwI,YAAYo1D,gBAAiBrpF,EAAKC,EAAGC,OAAQF,KACvEG,EAAOF,EAAGD,IACTuO,WAAuB,UAAVi8E,EAClBsZ,EAAc3jG,EAAK2O,IAAM3O,EAAK2O,EAElC,KAAK,GAAIxE,GAAK,EAAGQ,EAAK/J,KAAK0qB,OAAOwI,YAAYs1D,iBAAkBj/E,EAAKQ,EAAG5K,OAAQoK,IAAM,CAClF,GAAInK,GAAO2K,EAAGR,OACiBrJ,KAA3B6iG,EAAc3jG,EAAK2O,MACnB3O,EAAKoO,WAAuB,UAAVi8E,KAI9B8T,EAAYn6F,UAAUy/F,iBAAmB,SAAU/P,EAAcrrF,EAAWgiF,GACxE,GAAIl8E,GAAYvN,KAAK0qB,OAAOwI,YAAY7D,aAAa9hB,UAAU9F,GAC3Du7F,EAAiBz1F,EAAUO,QAC3Bq5D,EAAgB55D,EAAU65D,eAC9B,IAAI75D,EAAU45D,cAAchoE,OAAS,EAAG,CAEpC,IAAK,GAAIF,GAAK,EAAGiU,EADbpF,EAAUxO,OAAOC,KAAK4nE,GACYloE,EAAKiU,EAAU/T,OAAQF,IAErDkoE,EADAh0D,EAASD,EAAUjU,MAEnBkoE,EAAch0D,GAAQ3F,YAAa,GAEnCw1F,EAAe7vF,KACf6vF,EAAe7vF,GAAQ3F,YAAa,EAChCxN,KAAKitF,eAAexhE,QAAQkG,cAAc,gBAAkBxe,EAAS,QACjEsY,EAAUzrB,KAAKitF,eAAexhE,QAAQkG,cAAc,gBAAkBxe,EAAS,SACnEsY,EAAQkG,cAAc,OAClC3xB,KAAK0qB,OAAOwI,YAAYC,UAAUo2D,sBAAsBh8E,EAAUtG,cAAeQ,EAAW0L,GAAQ,GAKpH,KAAK,GAAIjU,GAAK,EAAG+jG,EAAiBnQ,EAAc5zF,EAAK+jG,EAAe9jG,OAAQD,IAAM,CAE9E,GAAI8jG,EADAlgE,EAAOmgE,EAAe/jG,KAElBc,KAAKitF,eAAexhE,QAAQkG,cAAc,gBAAkBmR,EAAO,MAAO,CAC1E,GAAIrX,GAAUzrB,KAAKitF,eAAexhE,QAAQkG,cAAc,gBAAkBmR,EAAO,KAC7ErX,KAAYA,EAAQkG,cAAc,QAClCqxE,EAAelgE,GAAMt1B,YAAa,EAClCxN,KAAK0qB,OAAOwI,YAAYC,UAAUo2D,sBAAsBh8E,EAAUtG,cAAeQ,EAAWq7B,GAAM,IAI1GqkC,EAAcrkC,KACdqkC,EAAcrkC,GAAMt1B,YAAa,QAIxC,CAED,IAAK,GADDM,GAAUxO,OAAOC,KAAKyjG,GACjBz5F,EAAK,EAAGmK,EAAY5F,EAASvE,EAAKmK,EAAUvU,OAAQoK,IAAM,CAC/D,GAAI4J,GAASO,EAAUnK,EACnBy5F,GAAe7vF,GAAQ3F,aACvBw1F,EAAe7vF,GAAQ3F,YAAa,GAG5C,IAAK,GAAIzD,GAAK,EAAGm5F,EAAiBpQ,EAAc/oF,EAAKm5F,EAAe/jG,OAAQ4K,IAAM,CAC9E,GAAI+4B,GAAOogE,EAAen5F,EACtBi5F,GAAelgE,KACfkgE,EAAelgE,GAAMt1B,YAAa,EAClCxN,KAAK0qB,OAAOwI,YAAYC,UAAUo2D,sBAAsBh8E,EAAUtG,cAAeQ,EAAWq7B,GAAM,OAKlHy6D,EAAYn6F,UAAUg/F,kBAAoB,SAAU36F,EAAWmjB,GAC3D,GAAIu4E,IAAkB,EAClBnpF,GAAe/H,SAAW9M,KAAMsC,EAAWE,KAAM,WACjD0nB,EAAervB,KAAK0qB,OAAO6J,gBAC/B,IAA6B,SAAzBv0B,KAAK0qB,OAAO4J,UAAuBjF,IAClCA,EAAa9hB,UAAU9F,GAAW4gE,YAAa,CAChD,GAAI1mE,GAAW0tB,EAAa9hB,UAAU9F,GAAWqG,QAC7C47E,EAAWr6D,EAAa9hB,UAAU9F,GAAW2/D,eAKjD,IAJAptD,EAAW/H,MAAQjS,KAAKitF,eAAeiG,qBACvCl5E,EAAW4sD,WAAav3C,EAAa9hB,UAAU9F,GAAWm/D,WAC1Du8B,EAAmBnpF,EAAW/H,MAAM9S,SAChCa,KAAKitF,eAAe5tF,OAAOiE,WAAWnE,OACtCkwB,EAAa9hB,UAAU9F,GAAW0/D,cAAchoE,OAAS,IAAMgkG,EAAiB,CAChF,GAAIC,GAAc9jG,OAAOC,KAAKoC,GAAUxC,MAExCgkG,GAAkBC,IADA9jG,OAAOC,KAAKmqF,GAAUvqF,QACSikG,IAAgBppF,EAAW/H,MAAM9S,OAGtF,IAAK,GAAIF,GAAK,EAAGokG,EADCrpF,EAAW/H,MACiBhT,EAAKokG,EAAclkG,OAAQF,IAAM,CAC3E,GAAI6jC,GAAOugE,EAAcpkG,EACrB0C,GAASmhC,KACTnhC,EAASmhC,GAAMt1B,YAAa,GAE5Bk8E,EAAS5mD,KACT4mD,EAAS5mD,GAAMt1B,YAAa,QAInC,CACD,IAAK,GAAItO,GAAK,EAAGqK,EAAKvJ,KAAK0qB,OAAOwI,YAAYo1D,gBAAiBppF,EAAKqK,EAAGpK,OAAQD,IAAM,CACjF,GAAIE,GAAOmK,EAAGrK,EACVE,GAAKoO,aACDxN,KAAK0qB,OAAOwI,YAAYk2D,YACxBpvE,EAAW/H,MAAMvS,KAAKN,EAAK+F,MAG3B6U,EAAW/H,MAAMvS,KAAKN,EAAK2O,KAIvCo1F,EAAmBnpF,EAAW/H,MAAM9S,SAAWa,KAAK0qB,OAAOwI,YAAYs1D,iBAAiBrpF,OAO5F,GAJ6B,SAAzBa,KAAK0qB,OAAO4J,UACZt0B,KAAKuiG,yBAAyB96F,GAEfzH,KAAK0qB,OAAOwI,YAAYC,UAAU8yD,oBAAoBx+E,GACvD,CACd,IAAK,GAAI3H,GAAI,EAAGA,EAAIE,KAAK0qB,OAAOwE,mBAAmBhgB,eAAe/P,OAAQW,IACtE,GAAIE,KAAK0qB,OAAOwE,mBAAmBhgB,eAAepP,GAAGqF,OAASsC,EAAW,CACrEzH,KAAK0qB,OAAOwE,mBAAmBhgB,eAAe9J,OAAOtF,EAAG,EACxD,OAGRE,KAAK0qB,OAAOwE,mBAAmBhgB,eAAexP,KAAKsa,OAGnDha,MAAK0qB,OAAOwE,mBAAmBhgB,eAAexP,KAAKsa,EAEvDha,MAAKk7C,YAAYxsB,QACjB1uB,KAAK0iG,wBAAwBj7F,EAAW07F,GACnCA,GACDnjG,KAAKuiG,yBAAyB96F,GAElCzH,KAAK0qB,OAAO0hD,eAAiBpyD,EAC7Bha,KAAKiyB,kBAAiB,EACtB,IAAIgwE,GAAUjiG,IAEViiG,GAAQv3E,iBAAkBgzE,KAC1BuE,EAAQtE,UAAUhzE,UAI1B4yE,EAAYn6F,UAAUs/F,wBAA0B,SAAUj7F,EAAWm2E,GAGjE,IAAK,GADD0lB,GACKrkG,EAAK,EAAGskG,KAFK3oE,MAAMC,KAAK76B,KAAK6qB,cAAciR,iBAAiB,oBAErB78B,EAAKskG,EAAepkG,OAAQF,IAAM,CAC9E,GAAIG,GAAOmkG,EAAetkG,EAC1B,IAAIG,EAAKyvB,aAAa,cAAgBpnB,EAAW,CAC7C67F,EAAiBlkG,EAAKuyB,cAAc,gBACpC,QAGJisD,GACAnnC,eAAa6sD,G3B97BC,e2B+7BdxuD,YAAUwuD,G3B77BM,mB2Bg8BhB7sD,eAAa6sD,G3Bh8BG,iB2Bi8BhBxuD,YAAUwuD,G3Bn8BI,iB2Bs8BtB/F,EAAYn6F,UAAUm/F,yBAA2B,SAAU96F,EAAWwrB,EAAetrB,GAEjF,IAAK,GADDuH,GAAiBlP,KAAK0qB,OAAOwE,mBAAmBhgB,eAC3ClH,EAAM,EAAGkG,EAAMgB,EAAe/P,OAAQ6I,EAAMkG,EAAKlG,IACtD,GAA6B,SAAzBhI,KAAK0qB,OAAO4J,UAAuBrB,EAAe,CAClD,IAAKtrB,GAAQuH,EAAelH,GAAK7C,OAASsC,GACtCyH,EAAelH,GAAKirB,gBAAkBA,EAAe,CACrD/jB,EAAe9J,OAAO4C,EAAK,EAC3B,OAEKL,GACDuH,EAAelH,GAAKL,OAASA,GAC7BuH,EAAelH,GAAK7C,OAASsC,IAC7ByH,EAAe9J,OAAO4C,EAAK,GAC3BkG,IACAlG,SAKR,IAAIkH,EAAelH,GAAK7C,OAASsC,EAAW,CAExC,GADAyH,EAAe9J,OAAO4C,EAAK,GACE,SAAzBhI,KAAK0qB,OAAO4J,SACZ,KAEJpmB,KACAlG,MAKhBu1F,EAAYn6F,UAAUk6F,oBAAsB,SAAU99D,GAClD,GAAIx/B,KAAK0qB,OAAOuuD,WAAY,CACxBxiC,iBAAe7b,MAAMC,KAAK76B,KAAK6qB,cAAciR,iBAAiB,2B3B59BvC,gB2B69BvB2a,iBAAe7b,MAAMC,KAAK76B,KAAK6qB,cAAciR,iBAAiB,sB3B79BvC,e2B89BvB,IAAIrQ,GAAU4oB,UAAQ7U,EAAE3S,OAAQ,iBAChCioB,aAAUrpB,EAAQkG,cAAc,sB3B/9BT,kB2Bk+B/B4rE,EAAYn6F,UAAUi6F,UAAY,SAAU5xE,EAASxhB,EAAMklD,GACvDtoB,eAAa7K,IAAIvQ,EAAS,YAAazrB,KAAKs9F,oBAAqBt9F,MAC5DmvD,KAC4C,KAAxC,UAAW,UAAUjqD,QAAQ+E,IAAwE,OAAxDwhB,EAAQkG,cAAc,oBACpEkV,eAAa7K,IAAIvQ,EAAQkG,cAAc,mBAA+B,QAAS3xB,KAAKulF,cAAevlF,MAE1F,WAATiK,GAA8E,OAAzDwhB,EAAQkG,cAAc,kBAC3CkV,eAAa7K,IAAIvQ,EAAQkG,cAAc,iBAAgC,QAAS3xB,KAAK8lF,gBAAiB9lF,MAE7F,WAATiK,GAA+E,OAA1DwhB,EAAQkG,cAAc,qBAC3CkV,eAAa7K,IAAIvQ,EAAQkG,cAAc,oBAAiC,QAAS3xB,KAAKggG,iBAAkBhgG,OAGhH6mC,eAAa7K,IAAIvQ,EAAQkG,cAAc,aAAyB,QAAS3xB,KAAK4iG,aAAc5iG,OAEhGu9F,EAAYn6F,UAAUg6F,YAAc,SAAU3xE,EAASxhB,EAAMklD,GACzDtoB,eAAavT,OAAO7H,EAAS,YAAazrB,KAAKs9F,qBAC1CnuC,KAC4C,KAAxC,UAAW,UAAUjqD,QAAQ+E,IAAwE,OAAxDwhB,EAAQkG,cAAc,oBACpEkV,eAAavT,OAAO7H,EAAQkG,cAAc,mBAA+B,QAAS3xB,KAAKulF,eAE9E,WAATt7E,GAA8E,OAAzDwhB,EAAQkG,cAAc,kBAC3CkV,eAAavT,OAAO7H,EAAQkG,cAAc,iBAAgC,QAAS3xB,KAAK8lF,iBAE/E,WAAT77E,GAA+E,OAA1DwhB,EAAQkG,cAAc,qBAC3CkV,eAAavT,OAAO7H,EAAQkG,cAAc,oBAAiC,QAAS3xB,KAAKggG,mBAGjGn5D,eAAavT,OAAO7H,EAAQkG,cAAc,aAAyB,QAAS3xB,KAAK4iG,eAKrFrF,EAAYn6F,UAAUshF,iBAAmB,WACrC1kF,KAAKwjG,UACDl8C,KAAMtnD,KAAK69F,mBAEX79F,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAOiL,G5Bn/BW,sB4Bm/BkB31B,KAAKwjG,SAASl8C,KAAMtnD,OAKjEu9F,EAAYn6F,UAAUuhF,oBAAsB,WACpC3kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAO8vB,I5B5/BW,sB4B4/BmBx6C,KAAKwjG,SAASl8C,OAO5Di2C,EAAYn6F,UAAUiwB,QAAU,WAC5BrzB,KAAKw9F,WAAWnqE,UAChBrzB,KAAK2kF,uBAEF4Y,KCtnCPK,GAAmC,WAEnC,QAASA,GAAkBlzE,GACvB1qB,KAAK0qB,OAASA,EAyClB,MAlCAkzE,GAAkBx6F,UAAUunB,OAAS,WACjC3qB,KAAKk/F,YAAc,GAAI3B,IAAYv9F,KAAK0qB,QACxC1qB,KAAKyjG,sBAET7F,EAAkBx6F,UAAUqgG,mBAAqB,WAC7C,GAIIpkG,IAJOW,KAAK0qB,OAAOwE,mBAAmBpqB,KAC5B9E,KAAK0qB,OAAOwE,mBAAmBnqB,QAChC/E,KAAK0qB,OAAOwE,mBAAmBxsB,OAC9B1C,KAAK0qB,OAAOwE,mBAAmBlqB,SAEzC6lB,EAAgB7qB,KAAK0qB,OAAOogE,eAAejgE,aAC3CA,GAAc8G,cAAc,2BAC5B9G,EAAc8G,cAAc,yBAAyCA,cAAc,mBAA8BzF,UAAY,IAE7HrB,EAAc8G,cAAc,wBAC5B9G,EAAc8G,cAAc,sBAAsCA,cAAc,mBAA8BzF,UAAY,IAE1HrB,EAAc8G,cAAc,2BAC5B9G,EAAc8G,cAAc,yBAAyCA,cAAc,mBAA8BzF,UAAY,IAE7HrB,EAAc8G,cAAc,0BAC5B9G,EAAc8G,cAAc,wBAAwCA,cAAc,mBAA8BzF,UAAY,GAGhI,KAAK,GADDjiB,IAAQ,OAAQ,UAAW,SAAU,WAChCjC,EAAM,EAAGkG,EAAM7O,EAAOF,OAAQ6I,EAAMkG,EAAKlG,IAC9C,GAAI3I,EAAO2I,GAAM,CACb,GAAI4iB,IACA5e,MAAO3M,EAAO2I,GACdiC,KAAMA,EAAKjC,GAAKE,WAEpBlI,MAAK0qB,OAAO8H,O7BuEG,sB6BvE8B5H,KAIlDgzE,KC3CPrqE,GAAwB,WAExB,QAASA,GAAO7I,GACZ1qB,KAAK0qB,OAASA,EACd1qB,KAAK0qB,OAAOogE,eAAiB,GAAI2I,IAAezzF,KAAK0qB,QACrD1qB,KAAK0qB,OAAO4sE,eAAiB,GAAII,IAAiB13F,KAAK0qB,QACvD1qB,KAAK0qB,OAAOg5E,gBAAkB,GAAInH,IAAkBv8F,KAAK0qB,QACzD1qB,KAAK0qB,OAAOiyD,gBAAkB,GAAIihB,IAAkB59F,KAAK0qB,QAc7D,MAPA6I,GAAOnwB,UAAUunB,OAAS,WACtB3qB,KAAK0qB,OAAOogE,eAAengE,SACtB3qB,KAAK0qB,OAAO2J,YACbr0B,KAAK0qB,OAAO4sE,eAAe3sE,SAE/B3qB,KAAK0qB,OAAOg5E,gBAAgB/4E,UAEzB4I,KC7BPuT,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGj/B,GAI7B,OAHAg/B,EAAgBznC,OAAO2nC,iBAChBC,uBAA2BC,QAAS,SAAUH,EAAGj/B,GAAKi/B,EAAEE,UAAYn/B,IACvE,SAAUi/B,EAAGj/B,GAAK,IAAK,GAAIq/B,KAAKr/B,GAAOA,EAAEsI,eAAe+2B,KAAIJ,EAAEI,GAAKr/B,EAAEq/B,MACpDJ,EAAGj/B,GAE5B,OAAO,UAAUi/B,EAAGj/B,GAEhB,QAASs/B,KAAOrnC,KAAKsnC,YAAcN,EADnCD,EAAcC,EAAGj/B,GAEjBi/B,EAAE5jC,UAAkB,OAAN2E,EAAazI,OAAOioC,OAAOx/B,IAAMs/B,EAAGjkC,UAAY2E,EAAE3E,UAAW,GAAIikC,QAGnFG,GAA0C,SAAUC,EAAY5a,EAAQpjB,EAAKi+B,GAC7E,GAA2HV,GAAvHW,EAAIC,UAAUzoC,OAAQ0oC,EAAIF,EAAI,EAAI9a,EAAkB,OAAT6a,EAAgBA,EAAOpoC,OAAOwoC,yBAAyBjb,EAAQpjB,GAAOi+B,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASP,EAAY5a,EAAQpjB,EAAKi+B,OACpH,KAAK,GAAI5nC,GAAI2nC,EAAWtoC,OAAS,EAAGW,GAAK,EAAGA,KAASknC,EAAIS,EAAW3nC,MAAI+nC,GAAKF,EAAI,EAAIX,EAAEa,GAAKF,EAAI,EAAIX,EAAEna,EAAQpjB,EAAKo+B,GAAKb,EAAEna,EAAQpjB,KAASo+B,EAChJ,OAAOF,GAAI,GAAKE,GAAKvoC,OAAO2oC,eAAepb,EAAQpjB,EAAKo+B,GAAIA,GA0B5D61D,GAAgC,SAAUv1D,GAO1C,QAASu1D,GAAezxB,EAASxgD,GAC7B,GAAIqB,GAAQqb,EAAOtN,KAAK76B,KAAMisE,EAASxgD,IAAYzrB,IAUnD,OATA8sB,GAAM62E,kBAAmB,EAEzB72E,EAAMq/C,gBAENr/C,EAAMs/C,kBAENt/C,EAAMkF,uBAENlF,EAAMu/C,qBACCv/C,EAgwBX,MAjxBAga,IAAU42D,EAAgBv1D,GAwB1Bu1D,EAAet6F,UAAUiqE,gBAAkB,WACvC,GAAIE,KAIJ,OAHIvtE,MAAKq8B,sBACLkxC,EAAQ7tE,MAAOkrB,MAAO5qB,MAAOmT,OAAQ,oBAElCo6D,GAMXmwB,EAAet6F,UAAUsqE,UAAY,WAC7B1tE,KAAKkvB,oBAA+D,SAAzClvB,KAAKkvB,mBAAmBy+C,cACnD3tE,KAAKu0B,iBAAmB,GAAIkgC,IAC5Bz0D,KAAKs0B,SAAW,SAGhBt0B,KAAKqvB,aAAe,GAAI/uB,GACxBN,KAAKs0B,SAAW,SAEpBt0B,KAAKq0B,WAAaw5C,UAAQC,SAC1B9tE,KAAK4D,UAAY,GAAIC,wBAAqB7D,KAAK42B,QAC/C52B,KAAK05B,aAAe,GAAInG,IAAOvzB,MAC/BA,KAAKiuE,eACD21B,gBAAiB,mBACjBr2F,UAAW,aACXs2F,iBAAkB,mBAClBC,cAAe,mBACfC,cAAe,gBACfC,cAAe,kBACfC,UAAW,iBACXC,oBAAqB,eACrBC,aAAc,kCACdnoE,IAAK,MACLuzC,KAAM,OACN9hE,OAAQ,SACRihE,SAAU,WACV7mE,KAAM,OACNyrB,OAAQ,SACRtuB,QAAS,UACTF,KAAM,OACNC,QAAS,UACTrC,OAAQ,SACRksE,gBAAiB,mBACjBC,sBAAuB,0BACvBpnE,UAAW,uBACXqnE,MAAO,QACPC,eAAgB,mBAChBC,SAAU,wDACVC,eAAgB,oCAChBC,WAAY,0EACZI,OAAQ,SACR5gD,MAAO,QACP0Q,OAAQ,SACRuvC,OAAQ,SACRQ,MAAO,QACPC,QAAS,UACTC,GAAI,KACJG,UAAW,aACXphE,QAAS,UACT0hE,WAAY,sEACZC,YAAa,8EACbC,UAAW,aACXnlE,OAAQ,sBACRolE,KAAM,OACNC,MAAO,QACPC,aAAc,kCACdC,UAAW,wBACXC,YAAa,QACbC,GAAI,KACJG,WAAY,cACZC,WAAY,aACZjiC,IAAK,MACL8hC,cAAe,iBAEfW,OAAQ,SACRC,cAAe,iBACfC,UAAW,cACXC,iBAAkB,sBAClBC,SAAU,YACVC,gBAAiB,oBACjBC,SAAU,WACVC,gBAAiB,mBACjBC,YAAa,eACbC,qBAAsB,2BACtBC,SAAU,YACVC,kBAAmB,wBACnBC,QAAS,UACTC,WAAY,cACZpB,OAAQ,SACRC,gBAAiB,qBACjBC,MAAO,QACPC,eAAgB,oBAChB39D,OAAQ,SACRq9D,MAAO,QACP5xE,KAAM,OACNP,MAAO,QACP0yE,iBAAkB,qCAClBC,gBAAiB,oCACjBC,iBAAkB,2BAClBe,IAAK,MACLC,IAAK,MACLC,MAAO,QACPC,cAAe,iBACfC,QAAS,UACTC,IAAK,MACLC,IAAK,MACLI,IAAK,MACLC,MAAO,QACPC,YAAa,eACbC,gBAAiB,mBACjBN,UAAW,aACXC,cAAe,iBACfC,cAAe,iBACfS,eAAgB,kBAChBC,2BAA4B,uBAC5BC,uBAAwB,mBACxBC,wBAAyB,oBACzBP,qBAAsB,iBACtBC,wBAAyB,oBACzBC,8BAA+B,2BAC/BC,2BAA4B,wBAC5BK,WAAY,UACZa,MAAO,QACPC,SAAU,WACVC,OAAQ,SACRC,KAAM,OACNC,MAAO,QACPC,QAAS,UACTC,QAAS,UAETnpE,MAAO,QACPqoE,mBAAoB,uBACpBE,WAAY,eACZC,cAAe,kBACfF,kBAAmB,wBACnBtpE,UAAW,eACXC,SAAU,cACVwpE,QAAS,OACTC,mBAAoB,yCACpBowB,kBAAmB,sBACnBttB,KAAM,OACN52E,UAAW,YACX62E,gBAAiB,eACjBC,qBAAsB,uEACtBr1C,WAAY,aACZo2C,kBAAmB,mBACnBzxC,aAAc,gBACduxC,gBAAiB,aACjBG,aAAc,8EACdF,aAAc,6BACdM,QAAS,UACTC,UAAW,YACXC,SAAU,WACVJ,SAAU,WACVD,QAAS,UACTE,OAAQ,SACRI,MAAO,UACPC,aAAc,0LAGdC,WAAY,aACZC,YAAa,eACbtuE,QAAS,gBACTwuE,KAAM,QAEV54E,KAAK8D,UAAY,GAAIk1E,QAAKh5E,KAAKoyB,gBAAiBpyB,KAAKiuE,cAAejuE,KAAK42B,QACzE52B,KAAKi5E,YAAa,EAClBj5E,KAAKqkG,eACLrkG,KAAKq9F,aAGTK,EAAet6F,UAAUkhG,sBAAwB,SAAU1uC,EAAeroD,GAClEvN,KAAKsyB,iBACLtyB,KAAKsyB,gBAAgB4oD,oBAAmB,EAE5C,IAAIz0E,GAAezG,KAAKsyB,gBAAkBtyB,KAAKsyB,gBAAgB7rB,iBAAevG,GAC1EyG,GAAiB3G,KAAKsyB,kBACrBtyB,KAAKsyB,gBAAgB6J,mBAAqBn8B,KAAKsyB,gBAAgB+oB,aAAaC,cAC7El6C,EAAqBpB,KAAKsyB,gBAAkBtyB,KAAKsyB,gBAAgBlxB,uBAAqBlB,EAuB1F,OArBsB,SAAlBF,KAAKs0B,UAED+U,KAAM,GACN3iC,eAAgB6G,OAAwBrN,GACxCs1D,mBAAoBI,OAAgC11D,GACpDuG,aAAcA,EACdrF,mBAAoBA,EACpBuF,eAAgBA,EAChB7C,UAAW9D,KAAK8D,YAKhBulC,KAAM,GACN3iC,mBAAgBxG,GAChBuG,aAAcA,EACdrF,mBAAoBA,EACpBuF,eAAgBA,EAChB7C,UAAW9D,KAAK8D,YAU5B45F,EAAet6F,UAAUunB,OAAS,WAC9B,GAAImC,GAAQ9sB,IACZA,MAAK45B,Q/BlRK,Q+BkRkB1K,mBAAoBlvB,KAAKkvB,oBAAsB,SAAUwU,GAC7EhJ,eACAgJ,EAAaxU,mBAAmB5rB,WAAawpB,EAAMoC,mBAAmB5rB,YAE1EwpB,EAAMoC,mBAAqBwU,EAAaxU,mBACxC4lB,YAAUhoB,EAAMrB,SAAUo5D,GACtB/3D,EAAM1B,UACN0pB,YAAUhoB,EAAMrB,SAAUw0D,GAG1BxpC,eAAa3pB,EAAMrB,SAAUw0D,GAE7BnzD,EAAMuH,WACNygB,YAAUhoB,EAAMrB,SAAUy0D,GAG1BzpC,eAAa3pB,EAAMrB,SAAUy0D,GAE7BpzD,EAAMsB,UACN0mB,YAAUhoB,EAAMrB,SAAUqB,EAAMsB,UAEpCtB,EAAM0F,O/BpMO,qB+BsMbkI,cACA16B,KAAK47E,kBAOb8hB,EAAet6F,UAAUi6F,UAAY,WACjCr9F,KAAK21B,G/B/MY,e+B+MW31B,KAAK67E,aAAc77E,MAC/CA,KAAK21B,GAAGmmD,EAAkB97E,KAAKukG,gBAAiBvkG,OAMpD09F,EAAet6F,UAAUg6F,YAAc,WAC/Bp9F,KAAKsyB,iBAAmBtyB,KAAKsyB,gBAAgBc,cAGjDpzB,KAAKw6C,I/B1NY,e+B0NYx6C,KAAK67E,cAClC77E,KAAKw6C,IAAIshC,EAAkB97E,KAAKukG,mBAMpC7G,EAAet6F,UAAUs+C,eAAiB,WACtC,GAAIs6B,IAAa,qBACjB,OAAOh8E,MAAKi8E,aAAaD,IAO7B0hB,EAAet6F,UAAUgvB,cAAgB,WACrC,MAAO,kBAMXsrE,EAAet6F,UAAUk5E,kBAAoB,SAAUC,EAASC,GAE5D,IAAK,GADDgoB,IAAiB,EACZvlG,EAAK,EAAGC,EAAKI,OAAOC,KAAKg9E,GAAUt9E,EAAKC,EAAGC,OAAQF,IAAM,CAE9D,OADWC,EAAGD,IAEV,IAAK,SACDe,KAAKkxB,SACL,MACJ,KAAK,YACGlxB,KAAKorB,UACL0pB,YAAU90C,KAAKyrB,SAAUw0D,GAGzBxpC,eAAaz2C,KAAKyrB,SAAUw0D,GAEhCukB,GAAiB,EAGrBA,GACAxkG,KAAKukG,oBAKjB7G,EAAet6F,UAAUy/E,WAAa,WAClC,GAAI/1D,GAAQ9sB,IACZA,MAAK45B,Q/B5WiB,oB+B4WkB1K,mBAAoBlvB,KAAKkvB,oBAAsB,SAAUwU,GAK7F,GAJA5W,EAAMoC,mBAAqBwU,EAAaxU,mBACpCwL,eACA5N,EAAMoC,mBAAmB5rB,WAAawpB,EAAMuC,aAAatwB,MAEtC,UAAnB+tB,EAAMwH,SAAsB,CAC5B,GAAIxH,EAAMoC,mBAAmB1pB,eAAiBsnB,EAAMoC,mBAAmB1pB,cAAcrG,OAAS,EAAG,CAC7F,GAAIslG,OAAe,EAEfA,GADA/pE,aACe5N,EAAMuC,aAAatwB,KAGnB+tB,EAAMoC,mBAAmB5rB,WAE5CwpB,EAAM2vD,cAAiB3vD,EAAM2vD,cAAgB3vD,EAAM2vD,cAAgBt+E,EAAUW,cAAc2lG,GAC3F33E,EAAMyF,eAAgBrD,oBAAsB5rB,iBAAoB,GAChEwpB,EAAM4vD,aAAe5vD,EAAM4vD,aAAe5vD,EAAM4vD,aAAevwE,YAAW2gB,EAAMoC,mBAAoB,MAAM,GAC1GpC,EAAMyF,eAAgBrD,oBAAsB5rB,WAAYmhG,KAAkB,GAE9E33E,EAAMuC,aAAahsB,aAAaypB,EAAMoC,mBAAoBpC,EAAMw3E,wBAAyBx3E,EAAMrpB,iBAAiBmoB,KAAKkB,IACrHA,EAAM2oE,eAAiB3oE,EAAMuC,aAAa9hB,SAC1C,IAAIutC,IACA26C,eAAgB3oE,EAAM2oE,eACtB71F,YAAaktB,EAAMuC,aAAazvB,aAEhC8kG,EAAU53E,CACdA,GAAM8M,Q/BpYO,kB+BoYyBkhB,EAAW,SAAUpX,GACvDghE,EAAQjP,eAAiB/xD,EAAa+xD,eACtCiP,EAAQr1E,aAAazvB,YAAc86B,aAAa5N,EAAMuC,aAAazvB,YAAc8jC,EAAa9jC,YAC9F8kG,EAAQlyE,OAAOspD,MACf4oB,EAAQ9qE,Q/BpXL,mB+BuXN,IAAuB,SAAnB9M,EAAMwH,SAAqB,CAChCxH,EAAMyH,iBAAiBlxB,aAAaypB,EAAMoC,mBAAoBpC,EAAMw3E,yBACpEx3E,EAAM2oE,eAAiB3oE,EAAMyH,iBAAiBhnB,SAC9C,IAAIutC,IACA26C,eAAgB3oE,EAAM2oE,eACtB71F,YAAaktB,EAAMyH,iBAAiB30B,aAEpC+kG,EAAU73E,CACdA,GAAM8M,Q/BnZO,kB+BmZyBkhB,EAAW,SAAUpX,GACvDihE,EAAQlP,eAAiB/xD,EAAa+xD,eACtCkP,EAAQpwE,iBAAiB30B,YAAc86B,aAAa5N,EAAMuC,aAAazvB,YAAc8jC,EAAa9jC,YAClG+kG,EAAQnyE,OAAOspD,MACf6oB,EAAQ/qE,Q/BnYL,mB+B0YnB8jE,EAAet6F,UAAUy4E,aAAe,WACpC77E,KAAKy1F,kBACDz1F,KAAKkvB,qBAAuBlvB,KAAKkvB,mBAAmB5rB,YAActD,KAAKkvB,mBAAmB0U,KACrD,KAAhC5jC,KAAKkvB,mBAAmB0U,KAAgC,SAAlB5jC,KAAKs0B,UAC5Ct0B,KAAKkvB,mBAAmB5rB,WAAWnE,OAAS,GACtB,UAAlBa,KAAKs0B,WACLt0B,KAAKqvB,aAAatwB,KAAOiB,KAAKkvB,mBAAmB5rB,YAErDtD,KAAK6iF,cAEA7iF,KAAKkvB,mBAAmB5rB,qBAAsBsB,gBACnD+6B,WAAW3/B,KAAKgjF,QAAQp3D,KAAK5rB,MAAO,MAIxCA,KAAKwyB,OAAOspD,MACZ97E,KAAK45B,Q/B1ZM,e+B6ZnB8jE,EAAet6F,UAAUK,iBAAmB,SAAUw/E,GAClD,GAAIr4D,GAAOq4D,CAEX,OADAjjF,MAAK45B,Q/BjWkB,oB+BiWgBhP,GAChCA,GAEX8yE,EAAet6F,UAAU4/E,QAAU,WAC/BhjF,KAAKkvB,mBAAmB5rB,WAAW8/E,aAAa,GAAIz4E,UAAS04E,KAAKrjF,KAAKojF,aAAax3D,KAAK5rB,QAE7F09F,EAAet6F,UAAUggF,aAAe,SAAU5jD,GAC9Cx/B,KAAKqvB,aAAatwB,KAAOygC,EAAE8jD,OAC3BtjF,KAAK6iF,cAET6a,EAAet6F,UAAUmhG,gBAAkB,WACvCvkG,KAAKyrB,QAAQS,UAAY,GACD,UAApBlsB,KAAKqyB,YAA0BryB,KAAK8qF,eAAeC,kBAAoB/qF,KAAK8qF,eAAeC,gBAAgB33D,cAC3GpzB,KAAK8qF,eAAeC,gBAAgB13D,UACpCC,SAAOtH,SAASC,eAAejsB,KAAKyrB,QAAQ1d,GAAK,cAErD/N,KAAK05B,aAAa/O,SAClB3qB,KAAKk/E,wBAA8C,UAApBl/E,KAAKqyB,WAChCryB,KAAK8qF,eAAeC,gBAAgBt/D,QAAUzrB,KAAKyrB,QAAQkG,cAAc,6BACzE3xB,KAAKw7E,gBACLC,iBAAgB5uD,OAAQ7sB,KAAKk/E,wBAAyB/xC,SAAUntC,KAAKw7E,iBAAmBx7E,KAAKosB,eAG7FqvD,iBAAgB5uD,OAAQ7sB,KAAKk/E,yBAA2Bl/E,KAAKosB,cAEjE,IAAIxB,EACJA,IACI2oE,YAA+B,SAAlBvzF,KAAKs0B,SAAsBt0B,KAAKu0B,iBAAmBv0B,KAAKqvB,aACrEH,mBAAoBlvB,KAAKkvB,mBACzBnhB,GAAI/N,KAAKyrB,QAAQ1d,GACjB0d,QAASO,SAASC,eAAejsB,KAAKyrB,QAAQ1d,GAAK,YACnDo4E,WAAYnmF,KAAKoyB,gBACjBhH,UAAWprB,KAAKorB,UAChBiJ,WAAYr0B,KAAKq0B,WACjBhC,WAAYryB,KAAKqyB,WACjBvuB,UAAW9D,KAAK8D,UAChBwwB,SAAUt0B,KAAKs0B,UAEnBt0B,KAAKkzB,YAAc,GAAIogE,IAAY1oE,GACnC5qB,KAAKkzB,YAAYkiB,QAAUp1C,KACvBA,KAAKmyB,yBACLnyB,KAAKi9E,iBAAmB9wE,YAAWnM,KAAKkvB,mBAAoB,MAAM,GAClElvB,KAAKw1F,gBAAkBrpF,YAAWnM,KAAKy1F,eAAgB,MAAM,KAGrEiI,EAAet6F,UAAUwhG,gBAAkB,SAAU11E,GAEjD,GADAlvB,KAAK6kG,UAAU31E,GACXlvB,KAAKqkG,YAAYllG,OAAS,EAG1B,IAFA,GAAI+O,GAAMlO,KAAKqkG,YAAYllG,OACvBkwB,EAAiC,SAAlBrvB,KAAKs0B,SAAsBt0B,KAAKu0B,iBAAmBv0B,KAAKqvB,aACpEnhB,KACH,GAAIlO,KAAKqkG,YAAYn2F,GACjB,IAAK,GAAIjP,GAAK,EAAGC,EAAKc,KAAKqkG,YAAYn2F,GAAMjP,EAAKC,EAAGC,OAAQF,IAAM,CAC/D,GAAIypB,GAAMxpB,EAAGD,EACTypB,IACI2G,EAAa9hB,UAAUmb,EAAIvjB,QACvBujB,EAAIte,QACJilB,EAAa9hB,UAAUmb,EAAIvjB,MAAMiF,QAAUse,EAAIte,QAG/CilB,EAAa9hB,UAAUmb,EAAIvjB,MAAMiF,QAAUse,EAAIvjB,QAY/Eu4F,EAAet6F,UAAUyhG,UAAY,SAAU31E,GAE3ClvB,KAAKqkG,aAAen1E,EAAmBpqB,KAAMoqB,EAAmBnqB,QAASmqB,EAAmBxsB,OAAQwsB,EAAmBlqB,UAS3H04F,EAAet6F,UAAU6uB,iBAAmB,SAAU6yE,EAAmBC,GACjE/kG,KAAKsyB,iBACL0mB,cAAYh5C,KAAKsyB,gBAAgB7G,SAErCutB,cAAYh5C,KAAKk/E,wBACjB,IAAI3lC,GAAQv5C,KAERglG,GAAsB,CAC1B,IAAIrhG,oBAAkBohG,GAAkB,CACpC,GAAIt+F,GAAe8yC,EAAMjnB,gBAAkBinB,EAAMjnB,gBAAgB7rB,iBAAevG,GAC5E49E,EAAex+E,OAAOC,KAAKg6C,EAAM8yB,mBAAmBltE,OAAS,EAC7Dw+E,MAAW,EACf,IAAuB,UAAnBpkC,EAAMjlB,SAAsB,CAC5B,GAAI/wB,GAAmBg2C,EAAM+qD,uBAC7B/gG,GAAiBmD,eAAiB6yC,EAAMk8C,cACxC,IAAItpB,GAAe5yB,EAAMjnB,gBAAkBinB,EAAMjnB,gBAAgB65C,aAAe5yB,EAAM4yB,YAClF5yB,GAAMjnB,kBACNinB,EAAMjnB,gBAAgB65C,iBAE1B5yB,EAAM4yB,eACN,IAAI0R,GAAcv+E,OAAOC,KAAKg6C,EAAMvnB,qBAAqB7yB,OAAS,CAClEw+E,GAAWr+E,OAAOC,KAAK4sE,GAAchtE,OAAS,CAC9C,IAAIy+E,GAAat+E,OAAOC,KAAKg6C,EAAM6yB,gBAAgBjtE,OAAS,CACxDsH,KAAiBk3E,GAAYC,GAAcC,GAAeC,IACtDH,IACApkC,EAAMjnB,gBAAgBC,eAAgBrD,oBAAsB/oB,mBAAqBG,WAAY,OAAU,GACvGizC,EAAMlqB,aAAazV,OAAOuyD,IAE1ByR,IACArkC,EAAMlqB,aAAatV,SAASw/B,EAAM6yB,eAAgB7yB,EAAMrqB,oBACxDqqB,EAAM6yB,mBAENyR,IACAtkC,EAAMlqB,aAAajV,cAAcm/B,EAAMvnB,qBACvCunB,EAAMvnB,wBAEN8rD,IACAvkC,EAAMlqB,aAAahV,gBAAgBk/B,EAAM8yB,mBACzC9yB,EAAM8yB,uBAKV9yB,EAAMlqB,aAAahsB,aAAak2C,EAAMrqB,mBAAoB3rB,EAAkBg2C,EAAM91C,iBAAiBmoB,KAAK2tB,QAI5GyrD,GAAsBzrD,EAAM0rD,qBAAqBtnB,EAAUG,EAAcknB,EAE7EzrD,GAAMqrD,gBAAgBrrD,EAAMrqB,wBAG5BqqB,GAAMojC,gBAAgBhyD,SACtB4uB,EAAMoqD,kBAAmB,CAE7B,IAAI7oD,IACA5rB,mBAAoBqqB,EAAMrqB,mBAC1BumE,eAAmC,UAAnBl8C,EAAMjlB,SAAuBilB,EAAMlqB,aAAa9hB,UAAYgsC,EAAMhlB,iBAAiBhnB,UACnG3N,YAAgC,UAAnB25C,EAAMjlB,SAAuBilB,EAAMlqB,aAAazvB,YAAc25C,EAAMhlB,iBAAiB30B,YAEtG25C,GAAM3f,Q/BlkBe,kB+BkkBiBkhB,EAAW,SAAUpX,GACvD6V,EAAMrqB,mBAAqBwU,EAAaxU,mBACxCqqB,EAAMrmB,YAAYhE,mBAAqBqqB,EAAMrqB,mBAC7CqqB,EAAMk8C,eAAiB/xD,EAAa+xD,eACb,SAAnBl8C,EAAMjlB,UACNilB,EAAMhlB,iBAAiB30B,YAAc86B,aAAa6e,EAAMhlB,iBAAiB30B,YAAc8jC,EAAa9jC,YACpG25C,EAAMrmB,YAAY7D,aAAekqB,EAAMhlB,mBAGvCglB,EAAMlqB,aAAazvB,YAAc86B,aAAa6e,EAAMlqB,aAAazvB,YAAc8jC,EAAa9jC,YAC5F25C,EAAMrmB,YAAY7D,aAAekqB,EAAMlqB,cAEtCy1E,IAAqBvrD,EAAM+9C,eAAeO,YAAet+C,EAAMllB,YAChEklB,EAAM/mB,O/BpeM,uB+BseZ+mB,EAAMoqD,kBACFpqD,EAAMpnB,yBACNonB,EAAM0jC,iBAAmB9wE,YAAWotC,EAAMrqB,mBAAoB,MAAM,GACpEqqB,EAAMi8C,gBAAkBrpF,YAAWotC,EAAMk8C,eAAgB,MAAM,IAEnEl8C,EAAM2rD,WAAW3rD,EAAMjnB,kBAEG,UAArBinB,EAAMlnB,YAA0BknB,EAAMpnB,yBAC3ConB,EAAMjnB,gBAAgBjD,aAAekqB,EAAMlqB,aAE3CkqB,EAAMjnB,gBAAgBC,eAClBrD,mBAAoBqqB,EAAMrqB,mBAAmBjjB,aAC9C,GACHstC,EAAMjnB,gBAAgBE,OAAOC,EAAiB8mB,GAC9CR,cAAYQ,EAAM2lC,0BAEtB3lC,EAAMoqD,kBAAmB,GACpBpqD,EAAMjnB,iBAAmB0yE,EAC1BjsD,cAAYQ,EAAM2lC,yBAGlB3lC,EAAMjnB,gBAAgB4sD,wBAA0B3lC,EAAM2lC,2BAMlEwe,EAAet6F,UAAU6hG,qBAAuB,SAAUtnB,EAAUG,EAAcknB,GAC9E,GAAIzhG,GAAmBvD,KAAKskG,sBAAsBtkG,KAAKu0B,iBAAiBqhC,cAAe51D,KAAKu0B,iBAAiBhnB,UAsB7G,OArBAhK,GAAiBmD,eAAiB1G,KAAKy1F,eACvC9X,EAAWr+E,OAAOC,KAAKS,KAAKmsE,cAAchtE,OAAS,EAC/C2+E,GAAgBH,GAChB39E,KAAKu0B,iBAAiB7tB,eAAiB1G,KAAKy1F,eAC5Cz1F,KAAKu0B,iBAAiBihC,mBAAqBx1D,KAAKu0B,iBAAiBqhC,cAC7DkoB,GACA99E,KAAKu0B,iBAAiBwwC,iBAAiB/kE,KAAKkvB,mBAAoBlvB,KAAKqsE,mBACrErsE,KAAKqsE,qBACL24B,GAAsBhlG,KAAKu0B,iBAAiBpnB,WAAWnN,KAAKqsE,kBAAkBlnE,MAC1EnF,KAAKsyB,iBAAmBtyB,KAAKq0B,YAC7B0kB,cAAY/4C,KAAKsyB,gBAAgB7G,WAIrCzrB,KAAKu0B,iBAAiB3a,OAAO5Z,KAAKkvB,oBAClClvB,KAAKmsE,kBAITnsE,KAAKu0B,iBAAiBlxB,aAAarD,KAAKkvB,mBAAoB3rB,GAEzDyhG,GAOXtH,EAAet6F,UAAUo1C,OAAS,SAAUpD,GACxC,GAAI1a,kBAA0Bx6B,KAAZk1C,EAAuB,CAErC,GAAI+vD,GAAU/vD,EAAQgwD,EAEtBhwD,GADoBviB,cAAY,IAAMsyE,EAASn5B,IAI/C52B,IACAp1C,KAAKy8E,cAAgBrnC,EAAQqnC,cAC7Bz8E,KAAKuyB,eAAgBrD,mBAAoBkmB,EAAQlmB,qBAAsB,GACvElvB,KAAKqvB,aAAe+lB,EAAQ/lB,aAC5BrvB,KAAKu0B,iBAAmB6gB,EAAQ7gB,iBAChCv0B,KAAKs0B,SAAW8gB,EAAQ9gB,SACxBt0B,KAAKy1F,eAAmC,SAAlBz1F,KAAKs0B,SAAsB8gB,EAAQ7gB,iBAAiBhnB,UAAY6nC,EAAQ/lB,aAAa9hB,UACnF,UAApBvN,KAAKqyB,aACLryB,KAAKsyB,gBAAkB8iB,GAE3Bp1C,KAAK4kG,gBAAgBxvD,EAAQlmB,oBAC7BlvB,KAAKkzB,YAAY7D,aAAiC,SAAlBrvB,KAAKs0B,SAAsBt0B,KAAKu0B,iBAAmBv0B,KAAKqvB,aACxFrvB,KAAKkzB,YAAYhE,mBAAqBlvB,KAAKkvB,mBAC3ClvB,KAAKkzB,YAAYkiB,QAAUp1C,KACvBA,KAAKs3F,eAAeO,aAAe73F,KAAKq0B,YACxCr0B,KAAKwyB,O/BtjBO,uB+BwjBhBxyB,KAAK28E,gBAAgBhyD,SACG,UAApB3qB,KAAKqyB,YAA0BryB,KAAKmyB,yBACpCnyB,KAAKi9E,iBAAmB9wE,YAAWnM,KAAKkvB,mBAAoB,MAAM,GAClElvB,KAAKw1F,gBAAkBrpF,YAAWnM,KAAKy1F,eAAgB,MAAM,MASzEiI,EAAet6F,UAAU8hG,WAAa,SAAU9vD,GAC5C,GAAI1a,kBAA0Bx6B,KAAZk1C,EAAuB,CAErC,GAAI+vD,GAAU/vD,EAAQgwD,EAEtBhwD,GADoBviB,cAAY,IAAMsyE,EAASn5B,IAInD,GAAI52B,EAAS,CACTA,EAAQqnC,cAAgBz8E,KAAKy8E,cAC7BrnC,EAAQ7iB,eAAgBrD,mBAAoBlvB,KAAKkvB,qBAAsB,GACvEkmB,EAAQ/lB,aAAervB,KAAKqvB,aAC5B+lB,EAAQ7gB,iBAAmBv0B,KAAKu0B,iBAChC6gB,EAAQ9gB,SAAWt0B,KAAKs0B,SACxB8gB,EAAQx1C,YAAgC,SAAlBI,KAAKs0B,SAAsBt0B,KAAKu0B,iBAAiB30B,YAAcI,KAAKqvB,aAAazvB,WACvG,IAAIk7C,IACA5rB,mBAAoBkmB,EAAQlmB,mBAC5BtvB,YAAaw1C,EAAQx1C,YAEzBw1C,GAAQxb,Q/B1mBY,qB+B0mBuBkhB,GAC3C1F,EAAQyzC,aAOhB6U,EAAet6F,UAAUsvB,qBAAuB,WAC5C,GAAI5F,GAAQ9sB,KACR86C,GACA5rB,mBAAoBlvB,KAAKkvB,mBACzBumE,eAAkC,SAAlBz1F,KAAKs0B,SAAsBt0B,KAAKu0B,iBAAiBhnB,UAAYvN,KAAKqvB,aAAa9hB,UAC/F3N,YAA+B,SAAlBI,KAAKs0B,SAAsBt0B,KAAKu0B,iBAAiB30B,YAAcI,KAAKqvB,aAAazvB,YAElGI,MAAK45B,Q/BjtBgB,kB+BitBgBkhB,EAAW,SAAUpX,GACtD5W,EAAMoC,mBAAqBwU,EAAaxU,mBACxCpC,EAAM2oE,eAAiB/xD,EAAa+xD,eACb,SAAnB3oE,EAAMwH,SACNxH,EAAMyH,iBAAiB30B,YAAc86B,aAAa5N,EAAMyH,iBAAiB30B,YAAc8jC,EAAa9jC,YAGpGktB,EAAMuC,aAAazvB,YAAc86B,aAAa5N,EAAMuC,aAAazvB,YAAc8jC,EAAa9jC,eASxG89F,EAAet6F,UAAUiwB,QAAU,WAC/BrzB,KAAKo9F,cACDp9F,KAAKs3F,gBACLt3F,KAAKs3F,eAAejkE,UAEpBrzB,KAAKy9F,mBACLz9F,KAAKy9F,kBAAkBpqE,UAEvBrzB,KAAKmyB,wBAA0BnyB,KAAK8qF,gBACpC9qF,KAAK8qF,eAAeuJ,sBAAwBr0F,KAAK8qF,eAAeuJ,oBAAoBjhE,aACpFpzB,KAAK8qF,eAAeuJ,oBAAoBhhE,UAE5C8U,EAAO/kC,UAAUiwB,QAAQwH,KAAK76B,MAC9BA,KAAKyrB,QAAQS,UAAY,GACzBuqB,eAAaz2C,KAAKyrB,SAAUo5D,GAC5BpuC,eAAaz2C,KAAKyrB,SAAUw0D,GAC5BxpC,eAAaz2C,KAAKyrB,SAAUy0D,GACJ,UAApBlgF,KAAKqyB,aACDryB,KAAK8qF,eAAeC,kBAAoB/qF,KAAK8qF,eAAeC,gBAAgB33D,aAC5EpzB,KAAK8qF,eAAeC,gBAAgB13D,UAEpCrH,SAASC,eAAejsB,KAAKyrB,QAAQ1d,GAAK,aAC1CulB,SAAOtH,SAASC,eAAejsB,KAAKyrB,QAAQ1d,GAAK,eAI7Dy5B,IACI0B,aAAYF,IACb00D,EAAet6F,UAAW,yBAAsB,IACnDokC,IACIY,WAAS,UACVs1D,EAAet6F,UAAW,iBAAc,IAC3CokC,IACIY,cACDs1D,EAAet6F,UAAW,aAAU,IACvCokC,IACIY,WAAS,KACVs1D,EAAet6F,UAAW,eAAY,IACzCokC,IACIY,YAAS,IACVs1D,EAAet6F,UAAW,2BAAwB,IACrDokC,IACIY,YAAS,IACVs1D,EAAet6F,UAAW,uBAAoB,IACjDokC,IACIY,YAAS,IACVs1D,EAAet6F,UAAW,6BAA0B,IACvDokC,IACIY,WAAS,MACVs1D,EAAet6F,UAAW,iCAA8B,IAC3DokC,IACIY,YAAS,IACVs1D,EAAet6F,UAAW,iCAA8B,IAC3DokC,IACIY,cACDs1D,EAAet6F,UAAW,sBAAmB,IAChDokC,IACIgC,WACDk0D,EAAet6F,UAAW,WAAQ,IACrCokC,IACIgC,WACDk0D,EAAet6F,UAAW,uBAAoB,IACjDokC,IACIgC,WACDk0D,EAAet6F,UAAW,sBAAmB,IAChDokC,IACIgC,WACDk0D,EAAet6F,UAAW,qBAAkB,IAC/CokC,IACIgC,WACDk0D,EAAet6F,UAAW,wBAAqB,IAClDokC,IACIgC,WACDk0D,EAAet6F,UAAW,gBAAa,IAC1CokC,IACIgC,WACDk0D,EAAet6F,UAAW,cAAW,IACxCokC,IACIgC,WACDk0D,EAAet6F,UAAW,gBAAa,IAC1Cs6F,EAAiBl2D,IACbs9C,yBACD4Y,IAELvwB,aCryBEk4B,GAAO,gBACPC,GAAO,kBAGP12B,GAAiC,WAEjC,QAASA,GAAgBlkD,GAErB1qB,KAAKulG,WAAY,EACjBvlG,KAAK0qB,OAASA,EACd1qB,KAAKwlG,eAAiB,KACtBxlG,KAAK0qB,OAAO4S,sBAAwBt9B,KACpCA,KAAK2kF,sBACL3kF,KAAK0kF,mBACL1kF,KAAKilE,SAAWjlE,KAAK0qB,OAAOe,QAAQ1d,GACpC/N,KAAKylG,OAAS,KACdzlG,KAAK0lG,SAAW,KAChB1lG,KAAKknF,QAAU,KACflnF,KAAK2lG,UAAY,KACjB3lG,KAAKs2C,QAAU,KACft2C,KAAK4lG,UAAY,KACjB5lG,KAAK6lG,cAAe,EACpB7lG,KAAK8lG,YAAc,KACnB9lG,KAAK+lG,UAAY,KACjB/lG,KAAKgmG,QAAS,EACdhmG,KAAKimG,iBAAmB,KACxBjmG,KAAKkmG,aAAe,KA85CxB,MAx5CAt3B,GAAgBxrE,UAAUgvB,cAAgB,WACtC,MAAO,mBAEXw8C,EAAgBxrE,UAAUwwC,iBAAmB,SAAUpU,GACnD,GAAIsD,GAAOtD,EAAEtU,cAAcyG,cAAc,wBACzC,IAAImR,EACA,OAAQtD,EAAE7kB,QACN,IAAK,YAC4B,UAAzB3a,KAAK0qB,OAAO4J,UACZt0B,KAAKmmG,YAAYrjE,EAAK4S,gBAE1B,MACJ,KAAK,QACD,GAAI1pC,GAAQ82B,EAAKjU,aAAa,cAC1BlnB,EAAOm7B,EAAKjU,aAAa,aACzBu3E,EAAYpmG,KAAKylG,OAAOh6E,QAAQkG,cAAc,IAAM3xB,KAAKilE,SAAW,YAC3C,WAAzBjlE,KAAK0qB,OAAO4J,SACY,KAApB8xE,EAAU/nG,MAEN+nG,EAAU/nG,MADVsJ,IAAS29F,GACSxiE,EAAKjU,aAAa,YAGlB,IAAMlnB,EAAO,IAAMqE,EAAQ,KAGxB,KAApBo6F,EAAU/nG,QAEX+nG,EAAU/nG,MADVsJ,IAAS29F,GACSc,EAAU/nG,MAAQykC,EAAKjU,aAAa,YAGpCu3E,EAAU/nG,MAAQ,IAAMsJ,EAAO,IAAMqE,EAAQ,OAKnEhM,KAAK0qB,OAAO6J,kBAAoBv0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUvB,IACvEhM,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUvB,GAAOkyC,oBAC9ClyC,EAAQhM,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUvB,GAAO0mD,KAElC,KAApB0zC,EAAU/nG,MACV+nG,EAAU/nG,MAAQ2N,EAEO,KAApBo6F,EAAU/nG,QACf+nG,EAAU/nG,MAAQ+nG,EAAU/nG,MAAQ2N,MAY5D4iE,EAAgBxrE,UAAUijG,kBAAoB,SAAU7mE,GACpD,GAAIsD,GAAOtD,EAAElD,MAAMzP,OAAOhC,eACtB2U,EAAElD,MAAMzP,OAAO+O,UAAUC,SAASyqE,IAClC9mE,EAAElD,MAAMzP,OAAO+O,UAAUC,S/BkRd,W+BjRX2D,EAAElD,MAAMzP,OAAO+O,UAAUC,S/BmRZ,c+BlRb77B,KAAKmmG,YAAYrjE,EAAKjY,gBAG9B+jD,EAAgBxrE,UAAUmjG,aAAe,WACjCvmG,KAAKknF,SAAWlnF,KAAKknF,QAAQz7D,QAAQkG,cAAc,QACnD8kB,cAAYz2C,KAAKknF,QAAQz7D,QAAQqQ,iBAAiB,MAAO,YACzD97B,KAAKmmG,YAAYnmG,KAAKknF,QAAQz7D,QAAQkG,cAAc,SAQ5Di9C,EAAgBxrE,UAAU+iG,YAAc,SAAUrjE,GAC9C,GAA6B,UAAzB9iC,KAAK0qB,OAAO4J,UAA2F,OAAnEtI,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,oBACjFniC,EAAKnR,cAAc,gBAAgBiK,UAAUC,SAAS0E,IACrDuC,EAAKnR,cAAc,gBAAgBiK,UAAUC,S/BiQjC,a+BhQZiH,EAAKnR,cAAc,gBAAgBiK,UAAUC,S/B8PnC,W+B9P+E,OAAjBiH,EAAK2jC,SAK7E,GAAqB,OAAjB3jC,EAAK2jC,UAAqB3jC,EAAKnR,cAAc,gBAAgBiK,UAAUC,S/ByPjE,W+BxPe,SAAzB77B,KAAK0qB,OAAO4J,UAAuBwO,EAAKjU,aAAa,eAAiBy2E,IAAQxiE,EAAKlH,UAAUC,SAAS,aAAe,CACtH77B,KAAKgmG,QAAS,CACd,IAAIv+F,GAAYq7B,EAAKjU,aAAa,cAC9BzkB,EAAU04B,EAAKjU,aAAa,eAIhC,IAHA7uB,KAAKimG,iBAAmBx+F,EACxBzH,KAAK0lG,SAASrnG,MAAQ+L,EACtBpK,KAAK0lG,SAAS7c,WACe,SAAzB7oF,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAIqN,GAAamB,EAAKjU,aAAa,mBAC/Bu2C,EAAkBtiC,EAAKjU,aAAa,kBACpCs2C,EAAariC,EAAKjU,aAAa,gBAC/ByX,EAAexD,EAAKjU,aAAa,qBACjC23E,EAAe1jE,EAAKjU,aAAa,qBAGjC4pD,GAFA9lD,EAAgB3yB,KAAKylG,OAAOh6E,SAEDkG,cAAc,IAAM3xB,KAAKilE,SAAW,mBAC/D6S,EAAejlD,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,yBAA0B3zC,iBACvGm1E,EAAiB5zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,mBAAoBp0C,gBACnG61E,EAAgB7zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,sBAAuBp0C,gBACrG81E,EAAa9zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,cAAep0C,eAE9F4nD,GAAWvsD,UAAYlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WACzD+iB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,aAAa5mE,MAAQ8mE,EAClEshC,EAAeG,UAAW,EAC1BH,EAAepoG,MAAQsjC,EACvB8kE,EAAe5d,WACI,cAAflnD,IACA+kE,EAAcroG,MAAQ+mE,GAEL,KAAjB9+B,IACAqgE,EAAWtoG,MAAQioC,EACnBqgE,EAAW9d,YAEf/Q,EAAaz5E,MAAQmoG,EACrB1uB,EAAa+Q,eAGb/zC,aAAUhS,EAAKnR,cAAc,iB/BqNpB,Y+BpNT8kB,eAAa3T,EAAKnR,cAAc,iB/BkNzB,U+BjNPmR,EAAKnR,cAAc,aAAuBE,aAAa,QAAS7xB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAClG+iB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,aAAa5mE,MAAQykC,EAAKjU,aAAa,gBAGvF,IAAqB,OAAjBiU,EAAK2jC,UAAqB3jC,EAAKnR,cAAc,gBAAgBiK,UAAUC,S/B+M/D,a+B9Ma,SAAzB77B,KAAK0qB,OAAO4J,WAAwBwO,EAAKlH,UAAUC,SAAS,aAAe,CAI5E,GAHA77B,KAAKgmG,QAAS,EACdhmG,KAAK0lG,SAASrnG,MAAQ,GACtB2B,KAAK0lG,SAAS7c,WACe,SAAzB7oF,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAI3B,GAAgB3yB,KAAKylG,OAAOh6E,QAE5Bi7E,EAAgB7zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,sBAAuBp0C,gBACrG81E,EAAa9zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,cAAep0C,gBAC1FinD,EAAejlD,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,yBAA0B3zC,iBACvGm1E,EAAiB5zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,mBAAoBp0C,iBACnG4nD,EAAa9lD,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,oBAExD/4C,UAAYlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cACzDy9F,EAAch7F,MAAQ,EACtBg7F,EAAc7d,WACd8d,EAAWj7F,MAAQ,EACnBi7F,EAAW9d,WACX/Q,EAAaz5E,MAAQ,GACrBy5E,EAAa+Q,WACb4d,EAAe/6F,MAAQ,EACvB+6F,EAAeG,UAAW,EAC1BH,EAAe5d,eAGf/zC,aAAUhS,EAAKnR,cAAc,iB/BmLtB,U+BlLP8kB,eAAa3T,EAAKnR,cAAc,iB/BoLvB,Y+BnLTmR,EAAKnR,cAAc,WAAqBE,aAAa,QAAS7xB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QAEpG+iB,UAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,aAAa5mE,MAAQ,QA9ElE2B,MAAKs2C,QAAQ5nB,QACb1uB,KAAK6mG,QAAU/jE,EAAKnR,cAAc,gBAClC3xB,KAAK8qB,mBAmFb8jD,EAAgBxrE,UAAU0nB,gBAAkB,WACxC,GAAI7lB,GAAMjF,KAAK6mG,QAAQ17E,uBACnBnrB,MAAK0qB,OAAOU,UACZprB,KAAKs2C,QAAQjrB,KAAKpmB,EAAIqmB,IAAM,GAAIrmB,EAAIsmB,KAAO,KAG3CvrB,KAAKs2C,QAAQjrB,KAAKpmB,EAAIqmB,IAAM,GAAIrmB,EAAIsmB,KAAO,MAQnDqjD,EAAgBxrE,UAAU0jG,kBAAoB,SAAUt1E,GACpD,GAAiC,OAA7BA,EAAK/F,QAAQwE,YAAsB,CACnC,GAAIjkB,GAAQqoC,UAAQr0C,KAAK6mG,QAAS,gBAAgBh4E,aAAa,eAC/DwlB,WAAQr0C,KAAK6mG,QAAS,gBAAgBh1E,aAAa,YAAaL,EAAK/F,QAAQ1d,IAC7E/N,KAAK6mG,QAAQ52E,YAAcjkB,EAAQ,KAAOwlB,EAAK/F,QAAQ1d,GAAGc,MAAM7O,KAAK0qB,OAAOe,QAAQ1d,GAAK,KAAK,GAAK,IACnG+mC,YAAU90C,KAAK6mG,QAAQh8E,cAAcA,gBAAiB,eAAgB,YACtE7qB,KAAK6mG,QAAQh8E,cAAcA,cAAcgH,aAAa,WAAY,MAClE7xB,KAAK6mG,QAAQh8E,cAAcA,cAAc+pB,UAOjDg6B,EAAgBxrE,UAAU2jG,WAAa,WACnC,GAAIC,KACEj5F,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAQqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC7E8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,SAAUqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAC/E8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAAkBqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBACvF8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAQqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC7E8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAQqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC7E8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAQqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC7E8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,WAAYqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aACjF8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAAgBqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBACrF8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAAcqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eACnF8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAAoBqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,qBACzF8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAAkBqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBAEzFuiB,GACA4C,SAAUpuB,KAAKilE,SAAW,iBAC1BhzD,MAAO+0F,EACP57E,UAAWprB,KAAK0qB,OAAOU,UACvBM,WAAY1rB,KAAK2rB,eAAeC,KAAK5rB,MACrC6rB,OAAQ7rB,KAAK8mG,kBAAkBl7E,KAAK5rB,OAEpCmsB,EAAcC,gBAAc,MAC5Bre,GAAI/N,KAAKilE,SAAW,eAExBjlE,MAAK0qB,OAAOe,QAAQY,YAAYF,GAChCnsB,KAAKs2C,QAAU,GAAIhqB,eAAKd,GACxBxrB,KAAKs2C,QAAQ/pB,kBAAmB,EAChCvsB,KAAKs2C,QAAQ9pB,SAASL,IAO1ByiD,EAAgBxrE,UAAU6jG,aAAe,WACrC,GAAIC,GAAalnG,KACbmnG,GAAU,CAEd,IADA1wD,eAAazqB,SAASC,eAAejsB,KAAKilE,SAAW,e/B6GpC,iB+B5GkB,SAA/BiiC,EAAWx8E,OAAO4J,SAAqB,CACnCtoB,EAAQk7F,EAAWxB,SAASrnG,KAC5B6oG,GAAWx8E,OAAO6J,iBAAiBhnB,UAAUvB,IACgB,oBAA7Dk7F,EAAWx8E,OAAO6J,iBAAiBhnB,UAAUvB,GAAOrE,OACpDw/F,GAAU,OAId7nG,QAAOC,KAAK2nG,EAAWx8E,OAAO2E,aAAa9hB,WAAWgxB,QAAQ,SAAU90B,EAAKiC,GACrEw7F,EAAWxB,SAASrnG,OAAS6oG,EAAWxB,SAASrnG,QAAUoL,GACK,oBAAhEy9F,EAAWx8E,OAAO2E,aAAa9hB,UAAU9D,GAAK0E,gBAC9Cg5F,GAAU,IAItB,IAAIA,EAEA,WADAD,GAAWx8E,OAAOwI,YAAYirB,YAAYC,kBAAkB8oD,EAAWx8E,OAAO5mB,UAAUmF,YAAY,SAAUi+F,EAAWx8E,OAAO5mB,UAAUmF,YAAY,cAG1JjJ,MAAK4lG,UACDz5F,YAAWnM,KAAK0qB,OAAOwE,mBAAmBzpB,wBAAyB,MAAM,GAC7EzF,KAAKwlG,eAAiBr5F,YAAWnM,KAAK0qB,OAAOwE,mBAAoB,MAAM,EACvE,IAAIrqB,GAAS7E,KAAK0qB,OAAOwE,mBACrBk3E,EAAYp6E,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,YAC7D,IAA4B,OAAxBjlE,KAAK0lG,SAASrnG,OAA0C,KAAxB2B,KAAK0lG,SAASrnG,OAAoC,KAApB+nG,EAAU/nG,MAAc,CACtF,GAAI2N,OAAQ,EACZ,IAA6B,SAAzBhM,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAI3B,GAAgB3yB,KAAK0qB,OAAO2J,WAAar0B,KAAK0qB,OAAOogE,eAAeuL,gBAAgB5qE,QAAUzrB,KAAKylG,OAAOh6E,QAC1Gg7E,EAAiB5zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,mBAAoBp0C,gBACnGinD,EAAejlD,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,yBAA0B3zC,iBACvGo1E,EAAgB7zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,sBAAuBp0C,gBACrG81E,EAAa9zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,cAAep0C,eAU9F,IATA7kB,GACI7G,KAAMnF,KAAK0lG,SAASrnG,MACpB+P,QAASg4F,EAAU/nG,MACnBioC,aAAoC,WAArBqgE,EAAWtoG,MAAqBy5E,EAAaz5E,MAAQsoG,EAAWtoG,OAEtD,cAAzBooG,EAAepoG,QACf2N,EAAMwoD,oBAAsBkyC,EAAcroG,OAE9C2B,KAAK6lG,cAAe,EACf7lG,KAAKgmG,OAQL,CACD,IAASlmG,EAAI,EAAGA,EAAI+E,EAAOY,wBAAwBtG,OAAQW,IACvD,GAAI+E,EAAOY,wBAAwB3F,GAAGqF,OAASnF,KAAKimG,kBAAoBjmG,KAAKgmG,OAAQ,CACpD,cAAzBS,EAAepoG,QACfwG,EAAOY,wBAAwB3F,GAAG00D,oBAAsBxoD,EAAMwoD,qBAElEx0D,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUvN,KAAKimG,kBAAkB77F,QAAUpK,KAAK0lG,SAASrnG,MACtFwG,EAAOY,wBAAwB3F,GAAGwmC,aAAet6B,EAAMs6B,aACvDzhC,EAAOY,wBAAwB3F,GAAGsO,QAAUpC,EAAMoC,QAClDpC,EAAQnH,EAAOY,wBAAwB3F,GACvCE,KAAK6lG,cAAe,CACpB,OAKR,IAAK,GADDA,IAAe,EACV5mG,EAAK,EAAG+K,GAFCnF,EAAOC,KAAMD,EAAOE,QAASF,EAAOnC,OAAQmC,EAAOG,SAEzB/F,EAAK+K,EAAa7K,OAAQF,IAAM,CAExE,IAAK,GAAIC,GAAK,EAAGkd,EADJpS,EAAa/K,GACUC,EAAKkd,EAASjd,OAAQD,IAAM,CAC5D,GAAIE,GAAOgd,EAASld,EACpB,IAAIE,EAAK8+C,mBAA+C,OAA1Bl+C,KAAKimG,kBAC/B7mG,EAAK+F,OAASnF,KAAKimG,kBAAoBjmG,KAAKgmG,OAAQ,CACpD5mG,EAAKgL,QAAUpK,KAAK0lG,SAASrnG,MAC7B2B,KAAK6lG,cAAe,EACpBA,GAAe,CACf,QAGR,GAAIA,EACA,WApCR,KAAS/lG,EAAI,EAAGA,EAAI+E,EAAOY,wBAAwBtG,OAAQW,IACvD,GAAI+E,EAAOY,wBAAwB3F,GAAGqF,OAAS6G,EAAM7G,KAEjD,WADAnF,MAAKonG,oBAAoBF,EAAWx8E,OAAO5mB,UAAUmF,YAAY,SAAUi+F,EAAWx8E,OAAO5mB,UAAUmF,YAAY,eAsC1HjJ,MAAK6lG,cACNhhG,EAAOY,wBAAwB/F,KAAKsM,GAExChM,KAAK0qB,OAAO2hD,kBAAoBrgE,MAE/B,CACDA,GACI7G,KAAMnF,KAAK0lG,SAASrnG,MACpBsJ,KAAM,kBAEV,IAAI0/F,IACAliG,KAAMnF,KAAK0lG,SAASrnG,MACpB+P,QAASg4F,EAAU/nG,MAGvB,IADA2B,KAAK6lG,cAAe,EACf7lG,KAAKgmG,QAcN,IAASlmG,EAAI,EAAGA,EAAI+E,EAAOnC,OAAOvD,OAAQW,IACtC,GAAI+E,EAAOnC,OAAO5C,GAAG6H,OAAS29F,IAAkC,OAA1BtlG,KAAKimG,kBACvCphG,EAAOnC,OAAO5C,GAAGqF,OAASnF,KAAKimG,kBAAoBjmG,KAAKgmG,OACxD,IAASjmG,EAAI,EAAGA,EAAI8E,EAAOY,wBAAwBtG,OAAQY,IACnD8E,EAAOY,wBAAwB1F,GAAGoF,OAASnF,KAAKimG,mBAChDphG,EAAOnC,OAAO5C,GAAGsK,QAAUpK,KAAK0lG,SAASrnG,MACzCwG,EAAOY,wBAAwB1F,GAAGqO,QAAUg4F,EAAU/nG,MACtD2B,KAAK0qB,OAAO2E,aAAa9hB,UAAUvN,KAAKimG,kBAAkB77F,QAAUpK,KAAK0lG,SAASrnG,MAClF2B,KAAK6lG,cAAe,OArBpC,KAAK,GAAI/lG,GAAI,EAAGA,EAAI+E,EAAOnC,OAAOvD,OAAQW,IACtC,GAAI+E,EAAOnC,OAAO5C,GAAG6H,OAAS29F,IAAQzgG,EAAOnC,OAAO5C,GAAGqF,OAAS6G,EAAM7G,KAAM,CACxE,IAAK,GAAIpF,GAAI,EAAGA,EAAI8E,EAAOY,wBAAwBtG,OAAQY,IACvD,GAAI8E,EAAOY,wBAAwB1F,GAAGoF,OAAS6G,EAAM7G,KAEjD,WADAnF,MAAKonG,oBAAoBF,EAAWx8E,OAAO5mB,UAAUmF,YAAY,SAAUi+F,EAAWx8E,OAAO5mB,UAAUmF,YAAY,eAI3HjJ,MAAK6lG,cAAe,EAmB5B7lG,KAAK6lG,eACLhhG,EAAOnC,OAAOhD,KAAKsM,GACnBnH,EAAOY,wBAAwB/F,KAAK2nG,IAExCrnG,KAAK0qB,OAAO2hD,kBAAoBg7B,EAEpCrnG,KAAKsnG,WAAWziG,EAAQmH,EAAM7G,UAGF,QAAxBnF,KAAK0lG,SAASrnG,OAA0C,KAAxB2B,KAAK0lG,SAASrnG,OAC9Cy2C,YAAU9oB,SAASC,eAAejsB,KAAKilE,SAAW,e/B3BzC,iB+B4BTj5C,SAASC,eAAejsB,KAAKilE,SAAW,cAAcrwB,SAGtD50C,KAAK0qB,OAAOwI,YAAYirB,YAAYC,kBAAkBp+C,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,oBAKhJ2lE,EAAgBxrE,UAAUkkG,WAAa,SAAUziG,EAAQmH,GACrDhM,KAAKulG,WAAY,EACjBvlG,KAAKgM,MAAQA,EACbhM,KAAK0qB,OAAO6H,eAAgBrD,mBAAoBrqB,IAAU,GACtB,mBAAhC7E,KAAK0qB,OAAO0H,iBAAwCpyB,KAAK0qB,OAAOyH,yBAChEnyB,KAAK0qB,OAAOi5E,kBAAmB,EAEnC,KACI3jG,KAAK0qB,OAAOuH,kBAAiB,EAC7B,IAAIgwE,GAAUjiG,IAEdiiG,GAAQ+D,QAAS,EACb/D,EAAQwD,OACRxD,EAAQwD,OAAO/2E,SAGfuzE,EAAQyD,SAASrnG,MAAQ,GACzB4jG,EAAQ6D,YAAc,KACtB7D,EAAQ8D,UAAY,KACpB9D,EAAQv3E,OACJogE,eAAejgE,cAAc8G,cAAc,IAAM41E,GAAelpG,MAAQ,GAC5E4jG,EAAQv3E,OACJogE,eAAejgE,cAAc8G,cAAc,IAAMswE,EAAQh9B,SAAW,aAAa5mE,MAAQ,IAIrG,MAAOmgD,GACHx+C,KAAKwnG,cAIb54B,EAAgBxrE,UAAUokG,UAAY,WAC9BxnG,KAAK0qB,OAAO2E,aAAa9hB,UAAUvN,KAAKgM,cACjChM,MAAK0qB,OAAO2E,aAAa9hB,UAAUvN,KAAKgM,OAEnDhM,KAAK0qB,OAAOwI,YAAYirB,YAAYC,kBAAkBp+C,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBACpIjJ,KAAK0qB,OAAO6H,eAAgBrD,mBAAoBlvB,KAAKwlG,iBAAkB,GACvExlG,KAAK0qB,OAAO2hD,qBACZrsE,KAAK0qB,OAAOuH,kBAAiB,GAC7BjyB,KAAKulG,WAAY,GAOrB32B,EAAgBxrE,UAAUqkG,iBAAmB,SAAU/8E,GACnD,GAAIrrB,KACJ,IAA6B,SAAzBW,KAAK0qB,OAAO4J,SAEZ,IAAK,GAAIr1B,GAAK,EAAGC,EADjBG,EAASlB,EAAUW,cAAc4rB,EAAO6J,iBAAiBqhC,eAC3B32D,EAAKC,EAAGC,OAAQF,IAAM,CAChD,GAAIG,GAAOF,EAAGD,EACVG,GAAK0pE,iBACJ1pE,EAAK0pE,eAAe5jE,QAAQ,wBAA0B,GACnD9F,EAAK0pE,eAAe5jE,QAAQ,oBAAsB,GACtD9F,EAAK4oE,aAAc,EAEd5oE,EAAK0pE,gBACT1pE,EAAK0pE,eAAe5jE,QAAQ,uBAAyB,IACtD9F,EAAK4oE,aAAc,OAK3B1oE,QAAOC,KAAKmrB,EAAO2E,aAAa9hB,WAAWgxB,QAAQ,SAAU90B,GACzD,GAAI9B,GAAO,IAGPA,GAF4C,WAA5C+iB,EAAO2E,aAAa9hB,UAAU9D,GAAK9B,MAAiE,YAA5C+iB,EAAO2E,aAAa9hB,UAAU9D,GAAK9B,MAC/C,YAA5C+iB,EAAO2E,aAAa9hB,UAAU9D,GAAK9B,KAne3C,YAueoEzH,KAArDwqB,EAAO2E,aAAa9hB,UAAU9D,GAAK0E,cACtCuc,EAAO2E,aAAa9hB,UAAU9D,GAAK0E,cApejD,MAseM9O,EAAOK,MACHgM,MAAOgf,EAAO2E,aAAa9hB,UAAU9D,GAAKiC,MAC1CvG,KAAMulB,EAAO2E,aAAa9hB,UAAU9D,GAAKW,QAAU,KAAOzC,EAAO,IACjEA,KAAMA,EACN+/F,KAAMpB,EAAa,IAAM/lE,EACzBnyB,QAASsc,EAAO2E,aAAa9hB,UAAU9D,GAAK2E,QAC5CpC,MAAOvC,EACPW,QAASsgB,EAAO2E,aAAa9hB,UAAU9D,GAAKW,QAAUsgB,EAAO2E,aAAa9hB,UAAU9D,GAAKW,QAAUX,KAI/G,OAAOpK,IAOXuvE,EAAgBxrE,UAAUuoB,eAAiB,SAAUf,GACjDA,EAAKa,QAAQgB,MAAMC,QAAU1sB,KAAKylG,OAAO/4E,OAAS,GAAGxkB,WACrD0iB,EAAKa,QAAQgB,MAAME,QAAU,UAOjCiiD,EAAgBxrE,UAAUukG,aAAe,SAAU/8E,GAC/CA,EAAKwU,QAAS,CACd,IAAIgnE,GAAYpmG,KAAKylG,OAAOh6E,QAAQkG,cAAc,IAAM3xB,KAAKilE,SAAW,YACxExuB,gBAAa2vD,GAAY,eACzB3vD,eAAa7rB,EAAK4vE,YAAY7oE,cAAc,iB/BvXnB,kB+BwXzB,IAAI3lB,GAAQ4e,EAAK4vE,YAAY3rE,aAAa,aAC1C,IAA6B,SAAzB7uB,KAAK0qB,OAAO4J,SAKZ,GAJIt0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUvB,IACvChM,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUvB,GAAOkyC,oBAC9ClyC,EAAQhM,KAAK0qB,OAAO6J,iBAAiBhnB,UAAUvB,GAAO0mD,KAEtD9nC,EAAKiC,OAAO9e,KAAO/N,KAAKilE,SAAW,aAAmC,KAApBmhC,EAAU/nG,MAC5D+nG,EAAU/nG,MAAQ2N,EAClBo6F,EAAUxxD,YAET,IAAIhqB,EAAKiC,OAAO9e,KAAQ/N,KAAKilE,SAAW,aAAoC,KAApBmhC,EAAU/nG,MAAc,CACjF,GAAIupG,OAAc,GACdC,EAAezB,EAAU/nG,MACzBypG,EAAY1B,EAAU2B,eACtBC,EAAgBH,EAAanmE,UAAUomE,EAAWD,EAAa1oG,OAEnEyoG,IADIK,EAAiBJ,EAAanmE,UAAU,EAAGomE,IAChB97F,EAC/Bo6F,EAAU/nG,MAAQ4pG,EAAiBj8F,EAAQg8F,EAC3C5B,EAAUxxD,QACVwxD,EAAU8B,kBAAkBN,EAAYzoG,OAAQyoG,EAAYzoG,YAG5DyrB,GAAKwU,QAAS,MAGjB,CACD,GAAIz3B,GAAOijB,EAAK4vE,YAAY3rE,aAAa,YACzC,IAAIjE,EAAKiC,OAAO9e,KAAO/N,KAAKilE,SAAW,aAAmC,KAApBmhC,EAAU/nG,MAExD+nG,EAAU/nG,MADVsJ,IAAS29F,GACS16E,EAAKkwE,gBAAgB/sF,GAAG7F,WAGxB,IAAMP,EAAO,IAAMqE,EAAQ,KAEjDo6F,EAAUxxD,YAET,IAAIhqB,EAAKiC,OAAO9e,KAAQ/N,KAAKilE,SAAW,aAAoC,KAApBmhC,EAAU/nG,MAAc,CACjF,GAAIupG,OAAc,GACdE,EAAY1B,EAAU2B,eAEtBE,GADAJ,EAAezB,EAAU/nG,OACKqjC,UAAU,EAAGomE,GAC3CE,EAAgBH,EAAanmE,UAAUomE,EAAWD,EAAa1oG,OAC/DwI,KAAS29F,IACTsC,EAAcK,EAAiBr9E,EAAKkwE,gBAAgB/sF,GAAG7F,WACvDk+F,EAAU/nG,MAAQ4pG,EAAiBr9E,EAAKkwE,gBAAgB/sF,GAAG7F,WAAa8/F,IAGxEJ,EAAcK,EAAiB,IAAMtgG,EAAO,IAAMqE,EAAQ,KAC1Do6F,EAAU/nG,MAAQ4pG,EAAiB,IAAMtgG,EAAO,IAAMqE,EAAQ,KAAYg8F,GAE9E5B,EAAUxxD,QACVwxD,EAAU8B,kBAAkBN,EAAYzoG,OAAQyoG,EAAYzoG,YAG5DyrB,GAAKwU,QAAS,IAQ1BwvC,EAAgBxrE,UAAU+kG,aAAe,WACrC,GAAIr7E,GAAQ9sB,IAC6D,QAArEgsB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,qBAC7C3xC,SAAOtH,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,qBAExDjlE,KAAK0qB,OAAOe,QAAQY,YAAYD,gBAAc,OAC1Cre,GAAI/N,KAAKilE,SAAW,mBACpBj4C,UAAWo7E,4BAAiD,SAAzBpoG,KAAK0qB,OAAO4J,S/BzT9B,yB+ByT0E,MAE/F,IAAI+zE,KAEIp6E,MAAOjuB,KAAKinG,aAAar7E,KAAK5rB,MAC9BmuB,aACIZ,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAC3ColB,WAAW,KAIfJ,MAAOjuB,KAAKsoG,YAAY18E,KAAK5rB,MAC7BmuB,aACIZ,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAIvD,IAA6B,SAAzBjJ,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAIi0E,IACAt6E,MAAOjuB,KAAKumG,aAAa36E,KAAK5rB,MAC9BmuB,aACIC,SAAU,mBACVb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAGnDo/F,GAAYjjG,OAAO,EAAG,EAAGmjG,GAE7BvoG,KAAKylG,OAAS,GAAIt4E,WACdG,eAAe,EACf5T,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,QAASq6E,EACT35E,MAAO1uB,KAAKwoG,YAAY58E,KAAK5rB,MAC7B0rB,WAAY1rB,KAAK0rB,WAAWE,KAAK5rB,MACjCqrB,KAAM,WACEyB,EAAM24E,OAAOh6E,QAAQkG,cAAc,IAAM7E,EAAMm4C,SAAW,eAC1Dn4C,EAAM24E,OAAOh6E,QAAQkG,cAAc,IAAM7E,EAAMm4C,SAAW,cAAcrwB,SAGhFxnB,mBAAqBC,OAAQ,QAC7BO,MAAO,MACPH,SAAS,EACTc,eAAe,EACfnD,UAAWprB,KAAK0qB,OAAOU,UACvBuC,eAAe,EACf7R,OAAQ9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,yBAC1C4jB,OAAQb,SAAS0vB,OAErB17C,KAAKylG,OAAOl5E,kBAAmB,EAC/BvsB,KAAKylG,OAAOj5E,SAAS,IAAMxsB,KAAKilE,SAAW,qBAE/C2J,EAAgBxrE,UAAUklG,YAAc,WACpCtoG,KAAKylG,OAAO/2E,QACZ1uB,KAAKgmG,QAAS,GAElBp3B,EAAgBxrE,UAAUsoB,WAAa,SAAUd,GAE7C5qB,KAAKylG,OAAOh6E,QAAQkG,cAAc,iBAC9BE,aAAa,QAAS7xB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,2BAEhE2lE,EAAgBxrE,UAAUolG,YAAc,SAAU59E,GACV,mBAAhC5qB,KAAK0qB,OAAO0H,kBACZpyB,KAAK0qB,OAAOiyD,gBAAgBhyD,SACG,UAA3B3qB,KAAK0qB,OAAO2H,aACZyiB,YAAU90C,KAAK0qB,OAAOe,QAAQkG,cAAc,yB/B5oBnC,U+B6oBT3xB,KAAK0qB,OAAOogE,eAAeC,gBAAgByM,SAGnDx3F,KAAKknF,QAAQ7zD,UACbrzB,KAAKylG,OAAOpyE,UACZrzB,KAAK4lG,UAAY,KACjBtyE,SAAOtH,SAASC,eAAejsB,KAAKilE,SAAW,qBAC/C3xC,SAAOtH,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,oBAOxD2J,EAAgBxrE,UAAUqlG,qBAAuB,WAC7C,GAAIC,GAAWt8E,gBAAc,OACzBre,GAAI/N,KAAKilE,SAAW,WACpBj4C,WAAqC,SAAzBhtB,KAAK0qB,OAAO4J,SAAsBq0E,yBAA8B,I/B9W9D,2B+BgXdC,EAAmBx8E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,gBAAiBj4C,UAAW,0BAC1F67E,EAAcz8E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,gBAAiBj4C,UAAW,yBACzF,IAAoC,mBAAhChtB,KAAK0qB,OAAO0H,iBACsD,OADdpyB,KAAK0qB,OACzDogE,eAAejgE,cAAc8G,cAAc,IAAMm3E,IAAyB9oG,KAAK0qB,OAAO2J,WAAY,CAClG,GAAI00E,GAAY38E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,YAAaj4C,U/BhW5D,kB+BiWZ07E,GAASr8E,YAAY08E,EACrB,IAAIC,GAAY58E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,YAAaj4C,U/BhWzD,uB+BiWXi8E,EAAS78E,gBAAc,UACvBre,GAAI/N,KAAKilE,SAAW,SAAU/4C,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OAC3E+jB,U/BzWQ,uB+B2WRk8E,EAAY98E,gBAAc,UAC1Bre,GAAI/N,KAAKilE,SAAW,YAAa/4C,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC9E+jB,U/B/WW,yB+BiXfg8E,GAAU38E,YAAY68E,GACtBF,EAAU38E,YAAY48E,GACtBP,EAASr8E,YAAY28E,OAEpB,CACD,IAAKhpG,KAAK0qB,OAAO2J,YAAuC,SAAzBr0B,KAAK0qB,OAAO4J,SAAqB,CACxD60E,EAAe/8E,gBAAc,OAC7BY,U/BpViB,2B+BoVuBjf,GAAI/N,KAAKilE,SAAW,kBAC5D/4C,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAEjD4/F,GAAYx8E,YAAY88E,GAE5B,GAAIC,GAAWh9E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,WAAYj4C,U/B7ZxD,2B+B8ZV04E,EAAWt5E,gBAAc,SACzBre,GAAI/N,KAAKilE,SAAW,aACpBh4C,OAAStlB,KAAQ,QACjBqlB,UAAWu6E,GAEf6B,GAAS/8E,YAAYq5E,GACK,SAAzB1lG,KAAK0qB,OAAO4J,UAAwBt0B,KAAK0qB,OAAO2J,WAAiDq0E,EAASr8E,YAAY+8E,GAAzDP,EAAYx8E,YAAY+8E,EACtF,IAAIC,GAAUj9E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,kBAAmBj4C,U/BvY7D,0B+BwYf,KAAKhtB,KAAK0qB,OAAO2J,WAAY,CACzB,GAAIokD,GAAarsD,gBAAc,OAC3BY,U/BtWqB,0B+BuWrBd,UAAqC,SAAzBlsB,KAAK0qB,OAAO4J,SAAsBt0B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAC5EjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAE1C,IAA6B,SAAzBjJ,KAAK0qB,OAAO4J,SAAqB,CACjC,GAAIg1E,GAAmBl9E,gBAAc,OAASY,UAAWu8E,mCACzDD,GAAiBj9E,YAAYosD,EAC7B,IAAIggB,GAAcrsE,gBAAc,QAC5Ba,OACIk/D,SAAY,IACZyJ,gBAAiB,QACjBtK,aAActrF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAEpD+jB,UAAWuT,EAAW,WAE1B+oE,GAAiBj9E,YAAYosE,GACf,GAAIj0C,YACdj3B,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAC3CyQ,SAAW1Z,KAAK0qB,OAAOU,UAAY,cAAgB,aACnDyB,OAAQ,UACR28E,SAAUxpG,KAAK0qB,OAAOU,WAAa,IACnCwC,MAAO,MAEHpB,SAAS88E,GACjBD,EAAQh9E,YAAYi9E,OAGpBZ,GAASr8E,YAAYosD,GAG7B,GAAIgU,GAAergE,gBAAc,OAASY,UAAWy8E,8BAIrD,IAHAJ,EAAQh9E,YAAYogE,GACpBA,EAAapgE,YAAYD,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,OAAQj4C,U/B5alE,sB+B6agB,SAAzBhtB,KAAK0qB,OAAO4J,UAAwBt0B,KAAK0qB,OAAO2J,WAAqDq0E,EAASr8E,YAAYg9E,GAA7DT,EAAiBv8E,YAAYg9E,IACtFrpG,KAAK0qB,OAAO2J,WAAY,CACzB,GAAI80E,GAAe/8E,gBAAc,OAC7BY,U/BtYmB,wB+BuYnBd,UAAqC,SAAzBlsB,KAAK0qB,OAAO4J,SAAsBt0B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBAC5EjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAEhB,UAAzBjJ,KAAK0qB,OAAO4J,SAAsBu0E,EAAYx8E,YAAY88E,GAAgBT,EAASr8E,YAAY88E,GAEpG,GAAIO,GAAUt9E,gBAAc,YACxBre,GAAI/N,KAAKilE,SAAW,YACpBj4C,UAAW87E,EACX77E,OACIsE,YAAevxB,KAAK0qB,OAAO2J,WAAar0B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,kBAC5C,SAAzBjJ,KAAK0qB,OAAO4J,SAAsBt0B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBACjEjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAIlD,IAD0B,SAAzBjJ,KAAK0qB,OAAO4J,UAAwBt0B,KAAK0qB,OAAO2J,WAAgDq0E,EAASr8E,YAAYq9E,GAAxDb,EAAYx8E,YAAYq9E,GAClF1pG,KAAK0qB,OAAO2J,WAAY,CACxB,GAAI20E,GAAY58E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,YAAaj4C,U/Brb7D,uB+BsbP28E,EAAQv9E,gBAAc,UACtBre,GAAI/N,KAAKilE,SAAW,QAAS/4C,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC1E+jB,U/B5bG,qB+B8bPg8E,GAAU38E,YAAYs9E,GACtBjB,EAASr8E,YAAY28E,GAEzB,GAA6B,SAAzBhpG,KAAK0qB,OAAO4J,SAAqB,CACjC,IAAKt0B,KAAK0qB,OAAO2J,WAAY,CACzB,GAAIu1E,GAAkBx9E,gBAAc,OAChCY,U/B5Za,sB+B6Zbd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAEjD4/F,GAAYx8E,YAAYu9E,GAE5B,GAAInD,GAAiBr6E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,kBAAmBj4C,U/BrejE,+B+BuelB,IADChtB,KAAK0qB,OAAO2J,WAAaq0E,EAASr8E,YAAYo6E,GAAkBoC,EAAYx8E,YAAYo6E,IACpFzmG,KAAK0qB,OAAO2J,WAAY,CACzB,GAAIw1E,GAAiBz9E,gBAAc,OAC/BY,U/BzagB,yB+B0ahBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,sBAEjD4/F,GAAYx8E,YAAYw9E,GAE5B,GAAInD,GAAgBt6E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,qBAAsBj4C,U/BlfhE,kC+BofrB,IADChtB,KAAK0qB,OAAO2J,WAAaq0E,EAASr8E,YAAYq6E,GAAiBmC,EAAYx8E,YAAYq6E,IACnF1mG,KAAK0qB,OAAO2J,WAAY,CACzB,GAAIy1E,GAAc19E,gBAAc,OAC5BY,U/Bhba,sB+Bibbd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAEjD4/F,GAAYx8E,YAAYy9E,GAE5B,GAAInD,GAAav6E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,aAAcj4C,U/BzfxD,+B+B0fjBhtB,MAAK0qB,OAAO2J,WAAaq0E,EAASr8E,YAAYs6E,GAAckC,EAAYx8E,YAAYs6E,EACrF,IAAIoD,GAAkB39E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,oBAAqBj4C,U/B/f7D,kC+BggBrBg9E,EAAkB59E,gBAAc,SAChCre,GAAI/N,KAAKilE,SAAW,wBACpBh4C,OAAStlB,KAAQ,QACjBqlB,U/BvgBW,yB+B4gBf,IAHA+8E,EAAgB19E,YAAY29E,GAC5BnB,EAAYx8E,YAAY09E,GACvB/pG,KAAK0qB,OAAO2J,WAAaq0E,EAASr8E,YAAY09E,GAAmBlB,EAAYx8E,YAAY09E,GACtD,mBAAhC/pG,KAAK0qB,OAAO0H,iBACsD,OADdpyB,KAAK0qB,OACzDogE,eAAejgE,cAAc8G,cAAc,IAAMm3E,IAAyB9oG,KAAK0qB,OAAO2J,WAAY,CAC9Fs1E,EAAQjB,EAAS/2E,cAAc,qBACnC+2E,GAASr8E,YAAYs9E,OAGrBjB,GAASr8E,YAAYu8E,GACrBF,EAASr8E,YAAYw8E,IAIjC,MAAOH,IAOX95B,EAAgBxrE,UAAUwwF,qBAAuB,WACzC5nE,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAC7CjlE,KAAK8lG,YAAc95E,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,aAAa5mE,MAC7E2B,KAAK+lG,UAAY/lG,KAAK0lG,SAASrnG,OAEnC2B,KAAKiqG,mBAAmBjqG,KAAK0qB,OAAOogE,eAAeuL,kBAMvDznB,EAAgBxrE,UAAU8mG,uBAAyB,WAQ/C,IAAK,GAPDv3E,GAAiB3yB,KAAK0qB,OAAO2J,WAC7Br0B,KAAK0qB,OAAOogE,eAAejgE,cAAgB7qB,KAAKylG,OAAOh6E,QACvD0+E,KACAC,KACAC,KAEAC,GAAoB,WAAY,WAAY,UAAW,UAClDrrG,EAAK,EAAGsrG,GAFK,UAAW,aAEmBtrG,EAAKsrG,EAAiBprG,OAAQF,IAAM,CACpF,GAAI0I,GAAO4iG,EAAiBtrG,EAC5BkrG,GAAMzqG,MAAOrB,MAAOsJ,EAAMyhB,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAYtB,KAEtE,IAAK,GAAIzI,GAAK,EAAGsrG,EAAqBF,EAAkBprG,EAAKsrG,EAAmBrrG,OAAQD,IAAM,CAC1F,GAAI2L,GAAS2/F,EAAmBtrG,EAChCkrG,GAAM1qG,MAAOrB,MAAOwM,EAAQue,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY4B,KAGxE,IAAK,GAAItB,GAAK,EAAGQ,EADJ5L,EAAUW,cAAckB,KAAK0qB,OAAO6J,iBAAiBqhC,eACpCrsD,EAAKQ,EAAG5K,OAAQoK,IAAM,CAChD,GAAInK,GAAO2K,EAAGR,EACVnK,GAAK0pE,iBACJ1pE,EAAK0pE,eAAe5jE,QAAQ,wBAA0B,GACnD9F,EAAK0pE,eAAe5jE,QAAQ,wBAA0B,IAC1DmlG,EAAU3qG,MAAOrB,MAAOe,EAAK2O,GAAIqb,KAAMhqB,EAAKgL,UAGpD,GAAIqgG,GAAgB,GAAI55E,iBACpBvtB,WAAY6mG,EAAO/+E,UAAWprB,KAAK0qB,OAAOU,UAC1C/rB,QAAUhB,MAAO,QAAS+qB,KAAM,QAAU1d,MAAO,EACjD0iB,S/BzjBsB,mB+ByjBcR,MAAO,OAC3CkD,OAAQ,SAAUlG,GACd8/E,EAAiB15E,QAAyB,cAAfpG,EAAKvsB,MAChCqsG,EAAiB7hB,aAGzB4hB,GAAcl+E,kBAAmB,EACjCk+E,EAAcj+E,SAASmG,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,mBACzE,IAAIylC,GAAmB,GAAI75E,iBACvBvtB,WAAY+mG,EAAWj/E,UAAWprB,KAAK0qB,OAAOU,UAC9CgG,gBAAgB,EAAMJ,SAAS,EAC/BG,qBAAsBnxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAAa,IAAMohG,EAAU,GAAGjhF,KAAKlhB,WAC7F7I,QAAUhB,MAAO,QAAS+qB,KAAM,QAAU1d,MAAO,EACjD0iB,S/BtkBsB,mB+BskBcR,MAAO,QAE/C88E,GAAiBn+E,kBAAmB,EACpCm+E,EAAiBl+E,SAASmG,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,sBAC5E,IAAI0lC,GAAkB,GAAI95E,iBACtBvtB,WAAY8mG,EAAOh/E,UAAWprB,KAAK0qB,OAAOU,UAC1C/rB,QAAUhB,MAAO,QAAS+qB,KAAM,QAAU1d,MAAO,EACjD0iB,S/B7kBsB,mB+B6kBcR,MAAO,OAC3CkD,OAAQ,SAAUlG,GACdggF,EAAkB55E,QAAyB,WAAfpG,EAAKvsB,MACjCusG,EAAkB/hB,aAG1B8hB,GAAgBp+E,kBAAmB,EACnCo+E,EAAgBn+E,SAASmG,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,cAC3E,IAAI2lC,GAAoB,GAAIt5E,kBACxBC,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAC/C+nB,SAAS,GAEb45E,GAAkBr+E,kBAAmB,EACrCq+E,EAAkBp+E,SAAS,IAAMxsB,KAAKilE,SAAW,0BAMrD2J,EAAgBxrE,UAAUsoF,eAAiB,WACvC,GAAI5+D,GAAQ9sB,IACiB,UAAzBA,KAAK0qB,OAAO4J,SACZt0B,KAAKknF,QAAU,GAAIkG,aAEf/tF,QAAUiE,WAAYtD,KAAKynG,iBAAiBznG,KAAK0qB,QAAS3c,GAAI,KAAMqb,KAAM,UAAW67C,SAAU,MAAOhoB,QAAS,kBAC/G87C,kBAAkB,EAClB3tE,UAAWprB,KAAK0qB,OAAOU,UACvB8tE,cAAel5F,KAAKm5F,UAAUvtE,KAAK5rB,MACnC6qG,aAAc,SAAUrrE,GAChBA,EAAElD,MAAMzP,QAAU2S,EAAElD,MAAMzP,OAAO+O,UAAUC,SAASitE,IACpDryD,eAAajX,EAAEm7D,Y/BrwBZ,mB+BswBH7lD,YAAUtV,EAAElD,MAAMzP,QAAS,iBAG3BioB,YAAUtV,EAAEm7D,Y/BzwBT,mB+B0wBHlkD,eAAajX,EAAElD,MAAMzP,QAAS,eAC9B2S,EAAEsrE,cAAgB,YAClBh2D,YAAUtV,EAAEm7D,WAAWhpE,cAAc,IAAM4O,IAAY,qBACvDkW,eAAajX,EAAEm7D,WAAWhpE,cAAc,IAAM4O,IAAY,iBAGlEgtD,YAAavtF,KAAKqmG,kBAAkBz6E,KAAK5rB,MACzC+qG,aAAc,SAAUngF,GAChBA,EAAKkY,KAAKjU,aAAa,eAAiBy2E,GACxCx4E,EAAMq5E,YAAYv7E,EAAKkY,OAGvB2T,eAAa7rB,EAAKkY,MAAO,YACzBlY,EAAKwU,QAAS,IAGtBg6D,aAAcp5F,KAAK2nG,aAAa/7E,KAAK5rB,MACrCs5F,SAAUt5F,KAAKgrG,aAAap/E,KAAK5rB,MACjC4tF,cAAe5tF,KAAKw5F,eAAe5tE,KAAK5rB,MACxCy5F,cAAez5F,KAAKw5F,eAAe5tE,KAAK5rB,MACxCoG,UAAW,SAIfpG,KAAKknF,QAAU,GAAIkG,aACf/tF,QAAUiE,WAAYtD,KAAKynG,iBAAiBznG,KAAK0qB,QAAS3c,GAAI,UAAWqb,KAAM,OAAQ6zB,QAAS,QAChG87C,kBAAkB,EAClB3tE,UAAWprB,KAAK0qB,OAAOU,UACvB6/E,eAAgBjrG,KAAKirG,eAAer/E,KAAK5rB,MACzCk5F,cAAel5F,KAAKm5F,UAAUvtE,KAAK5rB,MACnCutF,YAAavtF,KAAKqmG,kBAAkBz6E,KAAK5rB,MACzCo5F,aAAcp5F,KAAK2nG,aAAa/7E,KAAK5rB,MACrCs5F,SAAUt5F,KAAKgrG,aAAap/E,KAAK5rB,MACjCoG,UAAW,cAGnBpG,KAAKknF,QAAQ36D,kBAAmB,EAChCvsB,KAAKknF,QAAQ16D,SAAS,IAAMxsB,KAAKilE,SAAW,SAEhD2J,EAAgBxrE,UAAUo2F,eAAiB,SAAU5uE,GACjD,GAAIA,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,iBACrC/G,EAAKkY,KAAKnR,cAAc,iCACvB/G,EAAKkY,KAAKnR,cAAc,gBAAgB3E,UAAU9nB,QAAQ,qBAAuB,EAAI,CAClF49B,EAAOlY,EAAKkY,KAAKnR,cAAc,eACnC8kB,gBAAa3T,GAAO,oBACpBgS,YAAUhS,GAAO,6BAEhB,IAAIlY,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,iBAC1C/G,EAAKkY,KAAKnR,cAAc,uBACvB/G,EAAKkY,KAAKnR,cAAc,gBAAgB3E,UAAU9nB,QAAQ,0BAA4B,EAAI,CAC3F,GAAI49B,GAAOlY,EAAKkY,KAAKnR,cAAc,eACnC8kB,gBAAa3T,GAAO,yBACpBgS,YAAUhS,GAAO,wBAEhB,CAID,IAAK,GAHD2rD,GAAczuF,KAAKknF,QAAQ7nF,OAAOiE,WAElCkrF,KACKvvF,EAAK,EAAGisG,EAFGzc,EAE8BxvF,EAAKisG,EAAgB/rG,OAAQF,IAAM,CACjF,GAAIG,GAAO8rG,EAAgBjsG,EACvBG,GAAKi0D,MAAQzoC,EAAK2jE,SAASxgF,GAAG7F,YAC9BsmF,EAAW9uF,KAAKN,GAGxB,GAA0B,IAAtBovF,EAAWrvF,OAgBX,MAfAa,MAAK0qB,OAAO6J,iBAAiB+gC,oBAC7Bt1D,KAAK0qB,OAAO6J,iBAAiBkzC,oBAAoBznE,KAAK0qB,OAAOwE,mBAAoBtE,EAAK2jE,SAASxgF,GAAG7F,YAClGsmF,EAAaxuF,KAAK0qB,OAAO6J,iBAAiB+gC,iBAC1Ct1D,KAAK0qB,OAAO6J,iBAAiB+gC,mBAC7B,KAAK,GAAIp2D,GAAK,EAAGisG,EAAe3c,EAAYtvF,EAAKisG,EAAahsG,OAAQD,KAC9D4jC,EAAOqoE,EAAajsG,IACnBm0D,IAAMzoC,EAAK2jE,SAASxgF,GAAG7F,WAC5B46B,EAAKklC,aAAc,EACnBllC,EAAKgmC,eAAiB,kBACtBhmC,EAAK14B,QAA4B,KAAjB04B,EAAK14B,QAAiBpK,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAW65B,EAAK14B,QACxFqkF,EAAY/uF,KAAKojC,EAErB9iC,MAAKknF,QAAQ0H,SAASJ,EAAY5jE,EAAKkY,QAOnD8rC,EAAgBxrE,UAAU6nG,eAAiB,SAAUrgF,GACjDA,EAAKwU,QAAS,GAElBwvC,EAAgBxrE,UAAU+1F,UAAY,SAAUvuE,GAC5C,GAAIwgF,IAAS,EACT1Q,EAAW9vE,EAAK+vE,UAChBD,KAAuC,SAAzB16F,KAAK0qB,OAAO4J,WACzBomE,EAAS/oE,cAAc,gEACpB+oE,EAAS/oE,cAAc,mEACvB+oE,EAAS/oE,cAAc,0CAAuE,UAAzB3xB,KAAK0qB,OAAO4J,UACrF1J,EAAK0R,MAAMzP,OAAO+O,UAAUC,S/B56BhB,a+B66BZuvE,GAAS,GAETA,GACAt2D,YAAUlqB,EAAK4vE,YAAY7oE,cAAc,iB/B12BpB,mB+B22BrBmjB,YAAU4lD,G/B3uBC,gB+B4uBXA,EAASjuE,MAAMC,QAAU1sB,KAAKylG,OAAO/4E,OAAS,GAAGxkB,WACjDwyF,EAASjuE,MAAME,QAAU,UAGzB/B,EAAKwU,QAAS,GAQtBwvC,EAAgBxrE,UAAU4nG,aAAe,SAAUpgF,GAC/C,GAA6B,SAAzB5qB,KAAK0qB,OAAO4J,SAAqB,CAC7B1J,EAAKkY,KAAKnR,cAAc,qBACxB/G,EAAKkY,KAAKnR,cAAc,gBAAgBlF,MAAME,QAAU,OAExD3gB,GAAQ4e,EAAK2jE,QACjB3jE,GAAKkY,KAAKjR,aAAa,aAAc7lB,EAAM+B,IAC3C6c,EAAKkY,KAAKjR,aAAa,eAAgB7lB,EAAM5B,QAC7C,IAAIwvF,GAAgBhvE,EAAKkY,KAAKnR,cAAc,kBAC5C,IAAI/G,EAAK2jE,UAAY3jE,EAAK2jE,SAAS5mF,OAAS29F,IACxC1L,GAAiBhvE,EAAKkY,KAAKnR,cAAc,8BAA+B,CACxE/G,EAAKkY,KAAKjR,aAAa,YAAa7lB,EAAMrE,MAC1CijB,EAAKkY,KAAKjR,aAAa,kBAAmB7lB,EAAMuqC,WAChD3rB,EAAKkY,KAAKjR,aAAa,iBAAkB7lB,EAAMo5D,gBAAkBp5D,EAAMo5D,gBAAkB,IACzFx6C,EAAKkY,KAAKjR,aAAa,eAAgB7lB,EAAMoC,QAC7C,IAAIk8F,IAAoB,WAAY,WAAY,WAC5ChkE,MAAe,EACnBA,GAAgBt6B,EAAMs6B,aAAegkE,EAAiBplG,QAAQ8G,EAAMs6B,eAAiB,EACjFt6B,EAAMs6B,aAAe,SAAW,GACpC1b,EAAKkY,KAAKjR,aAAa,oBAAqByU,GAC5C1b,EAAKkY,KAAKjR,aAAa,oBAAuC,WAAjByU,EAA4Bt6B,EAAMs6B,aAAe,IAUlG,GAAItmC,KAAK0qB,OAAO2J,WAAY,CACxB,GAAIg3E,GAAkBzgF,EAAKkY,KAAKnR,cAAc,kBAC9C,IAAI/G,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,iBAAmB05E,EAAiB,CACzE,GAAIxR,GAAgBjvE,EAAKkY,KAAKnR,cAAc,eAC5C05E,GAAgB9nE,aAAas2D,EAAejvE,EAAKkY,KAAKnR,cAAc,iBAEpE/G,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,qEACrC/G,EAAKkY,KAAKnR,cAAc,uBAAuBlF,MAAME,QAAU,QAE/D/B,EAAKkY,MAAQlY,EAAKkY,KAAKnR,cAAc,sBACrC/G,EAAKkY,KAAKnR,cAAc,gBAAgBlF,MAAME,QAAU,aAI/D,CACD,GAAI3gB,GAAQ4e,EAAK2jE,SAASviF,KAC1B4e,GAAKkY,KAAKjR,aAAa,aAAc7lB,GACrC4e,EAAKkY,KAAKjR,aAAa,eAAgBjH,EAAK2jE,SAASnkF,SACrDwgB,EAAKkY,KAAKjR,aAAa,YAAajH,EAAK2jE,SAAS5mF,KAClD,IAAImyF,GAAc1tE,gBAAc,QAC5Ba,OAASk/D,SAAY,KAAMyJ,gBAAiB,QAASp1D,MAASxgC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAChG+jB,UAAWuT,EAAW,WAE1B+qE,YAASxR,GAAclvE,EAAKkY,KAAKnR,cAAc,oBAC/CgJ,UAAQ/P,EAAKkY,KAAKnR,cAAc,IAAM20E,IAAc17E,EAAKkY,KAAKnR,cAAc,oBACrB,WAAnD3xB,KAAK0qB,OAAO2E,aAAa9hB,UAAUvB,GAAOrE,MAC1C3H,KAAK0qB,OAAO2E,aAAa9hB,UAAUvB,GAAOmC,gBAAkBm3F,GAC5D7uD,eAAa7rB,EAAKkY,KAAKnR,cAAc,IAAM20E,IAAc/lE,GAGzD3V,EAAKkY,KAAKnR,cAAc,IAAM20E,GAAYz0E,aAAa,QAAS7xB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAElGjJ,KAAK0qB,OAAO2E,aAAa9hB,UAAUvB,GAAOmC,gBAAkBm3F,KAC5D16E,EAAKkY,KAAKnR,cAAc,IAAM20E,GAAYz0E,aAAa,QAAS7xB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAClG6rC,YAAUlqB,EAAKkY,KAAKnR,cAAc,IAAM20E,I/BptBjC,U+BqtBP7vD,eAAa7rB,EAAKkY,KAAKnR,cAAc,IAAM20E,IAAcA,MASrE13B,EAAgBxrE,UAAUmoG,oBAAsB,SAAU9hG,GAGtD,IAAK,GAFD4/F,GAAUj9E,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,kBAAmBj4C,U/BvxBzD,2B+BwxBfrlB,GAllCF,MAJE,QACF,MACA,MACA,MAEU,gBACN,UACF,cACC,kBACH,YA6kCiF09F,IAC1EvlG,EAAI,EAAGA,EAAI6H,EAAKxI,OAAQW,IAAK,CAClC,GAAI0rG,GAAQp/E,gBAAc,SACtBre,GAAI/N,KAAKilE,SAAW,QAAUt9D,EAAK7H,GACnCmtB,OAAStlB,KAAQ,QAAS8jG,YAAahiG,GACvCujB,U/Bn0BO,sB+Bq0BXq8E,GAAQh9E,YAAYm/E,GAExB,MAAOnC,IAOXz6B,EAAgBxrE,UAAUsoG,iBAAmB,SAAUhhF,GACnD,GAAIoC,GAAQ9sB,KACRjB,IAUJ,OATAO,QAAOC,KAAKmrB,EAAO2E,aAAa9hB,WAAWgxB,QAAQ,SAAU90B,EAAKiC,GAC9D3M,EAAKW,MACDoc,OAAQ,aAAegR,EAAMm4C,SAAW,IAAMv5D,EAAQ,wDAClDjC,EAAM,iBAAmBqjB,EAAMpC,OAAO2E,aAAa9hB,UAAU9D,GAAKW,QAAU,cAC5E0iB,EAAMpC,OAAO2E,aAAa9hB,UAAU9D,GAAK9B,KAAO,KACpD4lB,QAAS7C,EAAO2E,aAAa9hB,UAAU9D,GAAK0E,gBAAkBm3F,IACR,WAAlDx4E,EAAMpC,OAAO2E,aAAa9hB,UAAU9D,GAAK9B,KAAoB,GAAKmlB,EAAMy+E,oBAAoB9hG,GAAKysF,cAGtGn3F,GAOX6vE,EAAgBxrE,UAAU6mG,mBAAqB,SAAU5a,GACrDA,EAAOp9E,MAAM,GAAGsb,QAAUvtB,KAAKyoG,uBAAuBvS,UACtD7G,EAAOxG,WACsB,SAAzB7oF,KAAK0qB,OAAO4J,UAAuBt0B,KAAK0qB,OAAO2J,YAC/Cr0B,KAAKkqG,wBAET,IAAIhB,GAAY,GAAIxU,WAAStmE,SAAUu9E,EAAUt9E,WAAW,GAM5D,IALA66E,EAAU38E,kBAAmB,EAC7B28E,EAAU18E,SAAS,IAAMxsB,KAAKilE,SAAW,aACrCikC,EAAUz9E,UACVy9E,EAAUz9E,QAAQmpE,QAAU50F,KAAK4rG,eAAehgF,KAAK5rB,OAGa,OADlEA,KAAK0qB,OACLogE,eAAejgE,cAAc8G,cAAc,IAAMm3E,IAAyB9oG,KAAK0qB,OAAO2J,WAAY,CAClG,GAAIs1E,GAAQ,GAAIjV,WAAStmE,SAAUu9E,EAAW,aAAyBt9E,WAAW,GAClFs7E,GAAMp9E,kBAAmB,EACzBo9E,EAAMn9E,SAAS,IAAMxsB,KAAKilE,SAAW,SACrCjlE,KAAK0lG,SAAW,GAAIp0E,kBAChBC,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAEnDjJ,KAAK0lG,SAASn5E,kBAAmB,EACjCvsB,KAAK0lG,SAASl5E,SAAS,IAAMxsB,KAAKilE,SAAW,cACpB,OAArBjlE,KAAK8lG,aAC6E,OADrD9lG,KAAK0qB,OAClCogE,eAAejgE,cAAc8G,cAAc,IAAM3xB,KAAKilE,SAAW,eACtDjlE,KAAK0qB,OACZogE,eAAejgE,cAAc8G,cAAc,IAAM3xB,KAAKilE,SAAW,aAChE5mE,MAAQ2B,KAAK8lG,aAEC,OAAnB9lG,KAAK+lG,WAC+D,OADzC/lG,KAAK0qB,OAChCogE,eAAejgE,cAAc8G,cAAc,IAAM41E,KACjDvnG,KAAK0qB,OACDogE,eAAejgE,cAAc8G,cAAc,IAAM41E,GAAelpG,MAAQ2B,KAAK+lG,UACjF/lG,KAAK0lG,SAASrnG,MAAQ2B,KAAK+lG,WAE3B4D,EAAMl+E,UACNk+E,EAAMl+E,QAAQmpE,QAAU50F,KAAKinG,aAAar7E,KAAK5rB,WAGlD,IAAIA,KAAK0qB,OAAO2J,WAAY,CAC7B,GAAI40E,GAAS,GAAIvU,WAAStmE,SAAUu9E,EAAUt9E,WAAW,GAGzD,IAFA46E,EAAO18E,kBAAmB,EAC1B08E,EAAOz8E,SAAS,IAAMxsB,KAAKilE,SAAW,UACT,SAAzBjlE,KAAK0qB,OAAO4J,SACZt0B,KAAKknF,QAAU,GAAIkG,aAEf/tF,QAAUiE,WAAYtD,KAAKynG,iBAAiBznG,KAAK0qB,QAAS3c,GAAI,KAAMqb,KAAM,UAAW67C,SAAU,MAAOhoB,QAAS,kBAC/GowC,cAAc,EACd2L,WAAW,EACX5yF,UAAW,OACXglB,UAAWprB,KAAK0qB,OAAOU,UACvBkuE,SAAUt5F,KAAKgrG,aAAap/E,KAAK5rB,MACjC4tF,cAAe5tF,KAAKw5F,eAAe5tE,KAAK5rB,MACxCy5F,cAAez5F,KAAKw5F,eAAe5tE,KAAK5rB,QAE5CA,KAAKknF,QAAQ36D,kBAAmB,EAChCvsB,KAAKknF,QAAQ16D,SAAS,IAAMxsB,KAAKilE,SAAW,iBAE3C,CACD,GAAI4mC,GAAY,GAAIC,cAChB75F,MAAOjS,KAAK0rG,iBAAiB1rG,KAAK0qB,QAClCU,UAAWprB,KAAK0qB,OAAOU,UACvB2gF,UAAW/rG,KAAKgsG,gBAAgBpgF,KAAK5rB,OAEzC6rG,GAAUt/E,kBAAmB,EAC7Bs/E,EAAUr/E,SAAS,IAAMxsB,KAAKilE,SAAW,aACzC3lE,OAAOC,KAAKS,KAAK0qB,OAAO2E,aAAa9hB,WAAWgxB,QAAQv+B,KAAKisG,WAAWrgF,KAAK5rB,OAE7EipG,EAAOx9E,UACPw9E,EAAOx9E,QAAQmpE,QAAU50F,KAAKksG,YAAYtgF,KAAK5rB,SAI3D4uE,EAAgBxrE,UAAU4oG,gBAAkB,SAAUphF,GAClD,GAAIkC,GAAQ9sB,IACqD,KAA7D4qB,EAAKa,QAAQqQ,iBAAiB,oBAAoB38B,QAClDG,OAAOC,KAAKS,KAAK0qB,OAAO2E,aAAa9hB,WAAWgxB,QAAQ,SAAU90B,GAC9D,GACI0iG,GADAxkG,GAjsCV,MAJE,QACF,MACA,MACA,MAEU,gBACN,UACF,cACC,kBACH,YA4rCyF09F,GAEnF,IAAI57F,IAAQmhB,EAAKa,QAAQkG,cAAc,eAAe9C,aAAa,cAC/D,IAAK,GAAI/uB,GAAI,EAAGA,EAAI6H,EAAKxI,OAAQW,KAC7BqsG,EAAc,GAAIC,gBACd57B,MAAO1jD,EAAMpC,OAAO5mB,UAAUmF,YAAYtB,EAAK7H,IAC/CqF,KA/rCd,gBA+rC8BsE,EAChBqnB,OAAQhE,EAAMu/E,SAASzgF,KAAKkB,MAEpBP,kBAAmB,EAC/B4/E,EAAY3/E,SAAS,IAAMM,EAAMm4C,SAAW,QAAUt9D,EAAK7H,OAM/E8uE,EAAgBxrE,UAAUipG,SAAW,SAAUzhF,GAC3C,GAAIjjB,GAAOijB,EAAK0R,MAAMzP,OAAO9e,GAAGc,MAAM7O,KAAK0qB,OAAOe,QAAQ1d,GAAK,SAAS,GACpE/B,EAAQ4e,EAAK0R,MAAMzP,OAAOwnB,QAAQ,iBAClC1iB,cAAc,eAAe9C,aAAa,eAC9CjE,GAAK0R,MAAMzP,OACPwnB,QAAQ,iBAAiB1iB,cAAc,YACvCyK,UAAYpwB,EAAQ,KAAOrE,EAAO,IACtCijB,EAAK0R,MAAMzP,OAAOwnB,QAAQ,iBACtB1iB,cAAc,cAAcE,aAAa,YAAalqB,IAE9DinE,EAAgBxrE,UAAU6oG,WAAa,SAAUxiG,EAAKiC,GAClD,GAAI/D,GAAO,IAIPA,GAHiD,WAAjD3H,KAAK0qB,OAAO2E,aAAa9hB,UAAU9D,GAAK9B,MACS,YAAjD3H,KAAK0qB,OAAO2E,aAAa9hB,UAAU9D,GAAK9B,MACS,YAAjD3H,KAAK0qB,OAAO2E,aAAa9hB,UAAU9D,GAAK9B,KAnuCxC,YAuuCiEzH,KAA1DF,KAAK0qB,OAAO2E,aAAa9hB,UAAU9D,GAAK0E,cAC3CnO,KAAK0qB,OAAO2E,aAAa9hB,UAAU9D,GAAK0E,cApuC9C,KAsuCF,IAAIm+F,GAAW,GAAIhY,aACf9jB,MAAOxwE,KAAK0qB,OAAO2E,aAAa9hB,UAAU9D,GAAKW,QAAU,KAAOzC,EAAO,KAE3E2kG,GAAS//E,kBAAmB,EAC5B+/E,EAAS9/E,SAAS,IAAMxsB,KAAKilE,SAAW,IAAMv5D,GAC9CsgB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,IAAMv5D,GAAOmmB,aAAa,aAAcpoB,GACrFuiB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,IAAMv5D,GAAOmmB,aAAa,YAAalqB,IAMxFinE,EAAgBxrE,UAAUwoG,eAAiB,WACvC5rG,KAAKiqG,mBAAmBjqG,KAAK0qB,OAAOogE,eAAeuL,kBAMvDznB,EAAgBxrE,UAAU8oG,YAAc,WACpC,GAAInG,GAAY,GACZ/5F,EAAQ,KACRrE,EAAO,IACX,IAA6B,UAAzB3H,KAAK0qB,OAAO4J,UAEZ,IAAK,GADDwO,GAAO9W,SAAS8P,iBAAiB,yBAC5Bh8B,EAAI,EAAGA,EAAIgjC,EAAK3jC,OAAQW,IAG7B,GAFAkM,EAAQ82B,EAAKhjC,GAAG+qB,cAAc8G,cAAc,gBAAgB9C,aAAa,eAE7C,KAD5BlnB,EAAOm7B,EAAKhjC,GAAG+qB,cAAc8G,cAAc,gBAAgB9C,aAAa,cAC/D3pB,QAAQogG,IACbS,EAAYA,EAAa,IAAMp+F,EAAO,IAAMqE,EAAQ,SAGpD,KAAK,GAAIjM,GAAI,EAAGA,EAAIC,KAAK0qB,OAAOwE,mBAAmBzpB,wBAAwBtG,OAAQY,IAC/E,GAAIC,KAAK0qB,OAAOwE,mBAAmBzpB,wBAAwB1F,GAAGoF,OAAS6G,EAAO,CAC1E+5F,GAAwB/lG,KAAK0qB,OAAOwE,mBAAmBzpB,wBAAwB1F,GAAGqO,OAClF,YAShB,KAAK,GAFDm+F,GAAQvsG,KAAKknF,QAAQgM,qBACrBnkC,EAAa/uD,KAAK0qB,OAAO6J,iBACpBt1B,EAAK,EAAGutG,EAAUD,EAAOttG,EAAKutG,EAAQrtG,OAAQF,IAAM,CACzD,GAAIG,GAAOotG,EAAQvtG,EACnB8mG,IAAyBh3C,EAAWxhD,UAAUnO,IAC1C2vD,EAAWxhD,UAAUnO,GAAMuI,OAAS29F,GAAOv2C,EAAWxhD,UAAUnO,GAAMszD,IAAMtzD,EAGxFY,KAAK8lG,YAAmC,OAArB9lG,KAAK8lG,YAAwB9lG,KAAK8lG,YAAcC,EAAaA,EAChF/lG,KAAKiqG,mBAAmBjqG,KAAK0qB,OAAOogE,eAAeuL,kBAOvDznB,EAAgBxrE,UAAUm6B,4BAA8B,WAChDv9B,KAAK0qB,OAAO2J,YAA8C,mBAAhCr0B,KAAK0qB,OAAO0H,gBACtCpyB,KAAK4zF,uBAEC5zF,KAAK0qB,OAAO2J,aAClBr0B,KAAKysG,qBACLzsG,KAAKylG,OAAOh6E,QAAQgB,MAAMnB,IAAM1e,SAAS5M,KAAKylG,OAAOh6E,QAAQgB,MAAMnB,IAAK,IAAM,EAAI,MAAQtrB,KAAKylG,OAAOh6E,QAAQgB,MAAMnB,MAO5HsjD,EAAgBxrE,UAAUqpG,mBAAqB,WAC3CzsG,KAAK4lG,UACDz5F,YAAWnM,KAAK0qB,OAAOwE,mBAAmBzpB,wBAAyB,MAAM,GAC7EzF,KAAKmoG,eACLnoG,KAAKylG,OAAOl4E,QAAUvtB,KAAKyoG,uBAC3BzoG,KAAKylG,OAAOv0E,UACZlxB,KAAK0lG,SAAW,GAAIp0E,kBAChBC,YAAavxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAEnDjJ,KAAK0lG,SAASn5E,kBAAmB,EACjCvsB,KAAK0lG,SAASl5E,SAAS,IAAMxsB,KAAKilE,SAAW,cAChB,SAAzBjlE,KAAK0qB,OAAO4J,UAAwBt0B,KAAK0qB,OAAO2J,YAChDr0B,KAAKkqG,yBAETlqG,KAAK0rF,iBACL1rF,KAAK+mG,aACL/mG,KAAK2lG,UAAY,GAAIxI,aAAUn9F,KAAKylG,OAAOh6E,QAAQkG,cAAc,IAAM3xB,KAAKilE,SAAW,cACvFjlE,KAAK0sG,eAAiB,GAAIh5D,kBAAe1zC,KAAK0qB,OAAO4S,sBAAsBmoE,OAAOh6E,SAC9EkoB,UAAW3zC,KAAK4zC,iBAAiBhoB,KAAK5rB,MACtC4yC,YAAc+5D,UAAW,aAAc75D,MAAO,SAC9Ce,UAAW,aASnB+6B,EAAgBxrE,UAAUgkG,oBAAsB,SAAU5mE,EAAOylB,GAC7D,GAAI9H,GAAc/xB,gBAAc,OAC5Bre,GAAI/N,KAAKilE,SAAW,eACpBj4C,U/B7tCoB,wB+B+tCxBhtB,MAAK0qB,OAAOe,QAAQY,YAAY8xB,GAChCn+C,KAAKkmG,aAAe,GAAI/4E,WACpBC,mBAAqBC,OAAQ,QAC7BC,eAAe,EACfK,eAAe,EACfvC,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ,OACRnU,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UAEQC,MAAOjuB,KAAK4sG,eAAehhF,KAAK5rB,MAChCmuB,aACIC,SAAUy+E,qBACVt/E,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAAOolB,WAAW,KAIjEJ,MAAOjuB,KAAKkrF,kBAAkBt/D,KAAK5rB,MACnCmuB,aACIC,S/BrvCS,e+BsvCTb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAAWolB,WAAW,KAI7EvS,OAAQ0kB,EACRjT,QAAS04B,EACTx4B,SAAS,EACTC,SAAS,EACTa,eAAe,EACf1B,OAAQb,SAAS0vB,KACjBhtB,MAAO1uB,KAAKkrF,kBAAkBt/D,KAAK5rB,QAEvCA,KAAKkmG,aAAa35E,kBAAmB,EACrCvsB,KAAKkmG,aAAa15E,SAAS2xB,IAG/BywB,EAAgBxrE,UAAUwpG,eAAiB,WACvC,GAAI/nG,GAAS7E,KAAK0qB,OAAOwE,mBACrBk3E,EAAYp6E,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,YAC7D,IAA6B,SAAzBjlE,KAAK0qB,OAAO4J,UAQZ,IAAK,GAPD3B,GAAgB3yB,KAAKylG,OAAOh6E,QAE5BqsD,EAAejlD,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,yBAA0B3zC,iBACvGq1E,EAAa9zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,cAAep0C,gBAC1F41E,EAAiB5zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,mBAAoBp0C,gBACnG61E,EAAgB7zE,cAAYF,EAAchB,cAAc,IAAM3xB,KAAKilE,SAAW,sBAAuBp0C,gBAEhG9wB,EAAI,EAAGA,EAAI8E,EAAOY,wBAAwBtG,OAAQY,IACvD,GAAI8E,EAAOY,wBAAwB1F,GAAGoF,OAASnF,KAAK0lG,SAASrnG,MAAO,CACnC,cAAzBooG,EAAepoG,QACfwG,EAAOY,wBAAwB1F,GAAGy0D,oBAAsBkyC,EAAcroG,OAE1EwG,EAAOY,wBAAwB1F,GAAGumC,aACR,WAArBqgE,EAAWtoG,MAAqBy5E,EAAaz5E,MAAQsoG,EAAWtoG,MACrEwG,EAAOY,wBAAwB1F,GAAGqO,QAAUg4F,EAAU/nG,MACtD2B,KAAK0qB,OAAO2hD,kBAAoBxnE,EAAOY,wBAAwB1F,EAC/D,YAKR,KAAK,GAAID,GAAI,EAAGA,EAAI+E,EAAOnC,OAAOvD,OAAQW,IACtC,GAAI+E,EAAOnC,OAAO5C,GAAG6H,OAAS29F,IAAQzgG,EAAOnC,OAAO5C,GAAGqF,OAASnF,KAAK0lG,SAASrnG,MAC1E,IAAS0B,EAAI,EAAGA,EAAI8E,EAAOY,wBAAwBtG,OAAQY,IACnD8E,EAAOY,wBAAwB1F,GAAGoF,OAASnF,KAAK0lG,SAASrnG,QACzDwG,EAAOY,wBAAwB1F,GAAGqO,QAAUg4F,EAAU/nG,MACtD2B,KAAK0qB,OAAO2hD,kBAAoBxnE,EAAOY,wBAAwB1F,GAMnFC,MAAKsnG,WAAWziG,EAAQ7E,KAAK0lG,SAASrnG,OACtC2B,KAAKkrF,qBAETtc,EAAgBxrE,UAAU8nF,kBAAoB,WACtCl/D,SAASC,eAAejsB,KAAKilE,SAAW,iBACxC3xC,SAAOtH,SAASC,eAAejsB,KAAKilE,SAAW,gBAAgBp6C,gBAQvE+jD,EAAgBxrE,UAAUshF,iBAAmB,WACrC1kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAOiL,GhCp0Ca,uBgCo0CkB31B,KAAKu9B,4BAA6Bv9B,OAOjF4uE,EAAgBxrE,UAAUuhF,oBAAsB,WACxC3kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAO8vB,IhC/0Ca,uBgC+0CmBx6C,KAAKu9B,8BAOrDqxC,EAAgBxrE,UAAUiwB,QAAU,WAChCrzB,KAAK2kF,uBAEF/V,IC58CX8uB,IAAehgE,OAAOkxC,GAKtB,IAAIk+B,IAA2B,WAE3B,QAASA,GAAUpiF,GACf1qB,KAAK0qB,OAASA,EACd1qB,KAAK0kF,mBA+HT,MAzHAooB,GAAU1pG,UAAUgvB,cAAgB,WAChC,MAAO,aAEX06E,EAAU1pG,UAAU2pG,eAAiB,WACjC/sG,KAAKyrB,QAAUW,gBAAc,OACzBre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAC7B6yB,OAAQ,aAAe5gC,KAAK0qB,OAAOU,UAAY,SAAW,YAAc,mBAAqBprB,KAAK0qB,OAAOe,QAAQgB,MAAMmB,MACnH,kBAER5tB,KAAK0qB,OAAOe,QAAQZ,cAAcgH,aAAa,KAAM,oBACrD7xB,KAAK0qB,OAAOe,QAAQZ,cAAcwB,YAAYrsB,KAAKyrB,SACnDzrB,KAAK0qB,OAAOe,QAAQZ,cAAcwB,YAAYrsB,KAAK0qB,OAAOe,SAC1DzrB,KAAK0qB,OAAOsyD,qBAAuB,GAAI0gB,KACnCxuE,oBACIy+C,aAAc3tE,KAAK0qB,OAAOwE,mBAAmBy+C,aAC7C7oE,QACAC,WACArC,UACAsC,YAEJw2E,gBAAiBx7E,KAAK0qB,OAAO8wD,gBAC7BrpD,uBAAwBnyB,KAAK0qB,OAAOyH,uBACpCE,WAAY,QACZgK,qBAAsBr8B,KAAK0qB,OAAO2R,qBAClC0hE,iBAAkB/9F,KAAK0qB,OAAOqzE,iBAC9B3yE,UAAWprB,KAAK0qB,OAAOU,UACvBwL,OAAQ52B,KAAK0qB,OAAOkM,OACpB/J,OAAQ7sB,KAAK0qB,OAAOe,QAAQZ,cAC5B49D,2BAA4BzoF,KAAK0qB,OAAO+9D,2BACxCukB,kBAAmBhtG,KAAK0qB,OAAOw4D,kBAAkBt3D,KAAK5rB,KAAK0qB,UAE/D1qB,KAAK0qB,OAAOsyD,qBAAqBxwD,SAAS,IAAMxsB,KAAKyrB,QAAQ1d,KAEjE++F,EAAU1pG,UAAU6pG,cAAgB,WAC5BjtG,KAAKyrB,UACLzrB,KAAKyrB,QAAQgB,MAAME,QAAU,QAC7B2+E,WAAStrG,KAAKyrB,SAAUzrB,KAAK0qB,OAAOe,SAChCzrB,KAAK0qB,OAAOyJ,iBAAmBn0B,KAAK0qB,OAAO0J,mBAC3CqL,aAAaz/B,KAAK0/B,YAClB1/B,KAAK0/B,WAAaC,WAAW3/B,KAAKw4C,OAAO5sB,KAAK5rB,SAG9Cm2B,oBAAkBn2B,KAAKyrB,QAAQkG,cAAc,yBACzCpG,KAAM,SAENvrB,KAAK0qB,OAAOU,UACZqrB,eAAaz2C,KAAKyrB,QAAQkG,cAAc,yBAAqC,oBAG7EmjB,YAAU90C,KAAKyrB,QAAQkG,cAAc,yBAAqC,qBAGlFwE,oBAAkBn2B,KAAKyrB,SACnBmC,MAAOs/E,aAAWltG,KAAK0qB,OAAOe,QAAQyT,gBAG9Cl/B,KAAK0qB,OAAOsyD,qBAAqBxkC,OAAOx4C,KAAK0qB,SAEjDoiF,EAAU1pG,UAAUo1C,OAAS,WACzB,GAAI20D,EAOJ,IALIA,EAD4B,UAA5BntG,KAAK0qB,OAAO2Q,YACGr7B,KAAK0qB,OAAOy0B,MAAQn/C,KAAK0qB,OAAOywD,YAAY1xB,gBAAkB0jD,EAG9DntG,KAAK0qB,OAAOsK,KAAOh1B,KAAK0qB,OAAOsK,KAAKvJ,QAAQyT,YAAciuE,EAE3D,CACd,GAAIC,GAAcD,EAAe,IAAM,IAAMA,CAC7Ch3E,qBAAkBn2B,KAAKyrB,QAAQkG,cAAc,yBACzCpG,KAAM2hF,aAAWltG,KAAK0qB,OAAOU,WACxBtiB,KAAKukG,IAAI,EACNrtG,KAAKyrB,QAAQkG,cAAc,wBAAmCuN,aAClE,EACIl/B,KAAKyrB,QAAQkG,cAAc,wBAAmCuN,eAEtEl/B,KAAK0qB,OAAOU,UACZ0pB,YAAU90C,KAAKyrB,QAAQkG,cAAc,yBAAqC,oBAG1E8kB,eAAaz2C,KAAKyrB,QAAQkG,cAAc,yBAAqC,sBAOzFm7E,EAAU1pG,UAAUshF,iBAAmB,WACnC1kF,KAAKwjG,UACDl8C,KAAMtnD,KAAK+sG,eACXv0D,OAAQx4C,KAAKitG,eAEbjtG,KAAK0qB,OAAO0I,cAGhBpzB,KAAK0qB,OAAOiL,GjCAU,mBiCAkB31B,KAAKwjG,SAASl8C,KAAMtnD,MAC5DA,KAAK0qB,OAAOiL,GAAGlD,EAAiBzyB,KAAKwjG,SAAShrD,OAAQx4C,QAK1D8sG,EAAU1pG,UAAUuhF,oBAAsB,WAClC3kF,KAAK0qB,OAAO0I,cAGhBpzB,KAAK0qB,OAAO8vB,IjCVU,mBiCUmBx6C,KAAKwjG,SAASl8C,MACvDtnD,KAAK0qB,OAAO8vB,IAAI/nB,EAAiBzyB,KAAKwjG,SAAShrD,UAOnDs0D,EAAU1pG,UAAUiwB,QAAU,WAC1BrzB,KAAK2kF,sBACD3kF,KAAK0qB,OAAOsyD,sBACZh9E,KAAK0qB,OAAOsyD,qBAAqB3pD,WAMlCy5E,KCtIPQ,GAAwB,WAExB,QAASA,GAAO5iF,GACZ1qB,KAAK0qB,OAASA,EACd1qB,KAAK0qB,OAAO6iF,aAAevtG,KAC3BA,KAAK0kF,mBA+ET,MAzEA4oB,GAAOlqG,UAAUgvB,cAAgB,WAC7B,MAAO,UAEXk7E,EAAOlqG,UAAUoqG,qBAAuB,WACpC,GAAKxtG,KAAK0qB,OAAOwI,YAiBblzB,KAAK0qB,OAAOwI,YAAYzH,QAAUzrB,KAAK0qB,OAAOe,QAC9CzrB,KAAK0qB,OAAOwI,YAAY7D,aAAwC,SAAzBrvB,KAAK0qB,OAAO4J,SAC/Ct0B,KAAK0qB,OAAO6J,iBAAmBv0B,KAAK0qB,OAAO2E,aAC/CrvB,KAAK0qB,OAAOwI,YAAY+xC,SAAWjlE,KAAK0qB,OAAOe,QAAQ1d,GACvD/N,KAAK0qB,OAAOwI,YAAYhE,mBAAqBlvB,KAAK0qB,OAAOwE,mBAAmBjjB,WACxEjM,KAAK0qB,OAAOwE,mBAAmBjjB,WAAajM,KAAK0qB,OAAOwE,mBAC5DlvB,KAAK0qB,OAAOwI,YAAYizD,WAAanmF,KAAK0qB,OAAO0H,gBACjDpyB,KAAK0qB,OAAOwI,YAAY9H,UAAYprB,KAAK0qB,OAAOU,UAChDprB,KAAK0qB,OAAOwI,YAAYmB,WAAaw5C,UAAQC,SAC7C9tE,KAAK0qB,OAAOwI,YAAYb,WAAa,QACrCryB,KAAK0qB,OAAOwI,YAAYpvB,UAAY9D,KAAK0qB,OAAO5mB,UAChD9D,KAAK0qB,OAAOwI,YAAYoB,SAAWt0B,KAAK0qB,OAAO4J,aA5BrB,CAC1B,GAAI1J,IACA2oE,YAAsC,SAAzBvzF,KAAK0qB,OAAO4J,SAAsBt0B,KAAK0qB,OAAO6J,iBAAmBv0B,KAAK0qB,OAAO2E,aAC1FH,mBAAoBlvB,KAAK0qB,OAAOwE,mBAAmBjjB,WAC/CjM,KAAK0qB,OAAOwE,mBAAmBjjB,WAAajM,KAAK0qB,OAAOwE,mBAC5DnhB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GACxB0d,QAASzrB,KAAK0qB,OAAOe,QACrB06D,WAAYnmF,KAAK0qB,OAAO0H,gBACxBhH,UAAWprB,KAAK0qB,OAAOU,UACvBiJ,WAAYw5C,UAAQC,SACpBz7C,WAAY,QACZvuB,UAAW9D,KAAK0qB,OAAO5mB,UACvBwwB,SAAUt0B,KAAK0qB,OAAO4J,SAE1Bt0B,MAAK0qB,OAAOwI,YAAc,GAAIogE,IAAY1oE,GAgB9C5qB,KAAK0qB,OAAOwI,YAAYkiB,QAAUp1C,KAAK0qB,QAK3C4iF,EAAOlqG,UAAUshF,iBAAmB,WAChC1kF,KAAKwjG,UACDl8C,KAAMtnD,KAAKwtG,sBAEXxtG,KAAK0qB,OAAO0I,cAGZpzB,KAAK0qB,OAAO8J,aAAa2C,mBACnBn3B,KAAK0qB,OAAOsqB,eAAoBh1C,KAAK0qB,OAAOyJ,iBAC9Cn0B,KAAK0qB,OAAOiL,GlCsCH,ekCtC0B31B,KAAKwjG,SAASl8C,KAAMtnD,OAG/DA,KAAK0qB,OAAOiL,GAAGlD,EAAiBzyB,KAAKwjG,SAASl8C,KAAMtnD,QAKxDstG,EAAOlqG,UAAUuhF,oBAAsB,WAC/B3kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAO8vB,IAAI/nB,EAAiBzyB,KAAKwjG,SAASl8C,OAOnDgmD,EAAOlqG,UAAUiwB,QAAU,WACvBrzB,KAAK2kF,sBACD3kF,KAAK0qB,OAAOwI,aACZlzB,KAAK0qB,OAAOwI,YAAYG,WAGzBi6E,KCnFPG,GAA4B,WAE5B,QAASA,GAAW/iF,GAChB1qB,KAAK0qB,OAASA,EAkDlB,MA3CA+iF,GAAWrqG,UAAUunB,OAAS,WAC1B3qB,KAAKk/F,YAAc,GAAI3B,IAAYv9F,KAAK0qB,QACxC1qB,KAAKyjG,oBAGL,KAAK,GAFDlZ,MAEKtrF,EAAK,EAAGC,EAAKc,KAAK0qB,OAAOe,QAAQqQ,iBAAiB,iBAA4B78B,EAAKC,EAAGC,OAAQF,IAAM,CACzG,GAAIwsB,GAAUvsB,EAAGD,EACZwsB,GAAQmQ,UAAUC,SlC4gBN,wBkC3gBb0uD,EAAeA,EAAan9E,UAAUwtB,MAAMC,KAAKpP,EAAQqQ,iBAAiB,qBAIlF,IAAK,GADD5e,GAAOqtE,EAAaprF,OACfY,EAAI,EAAGA,EAAImd,EAAMnd,IAAK,CAC3B,GACI2tG,GAAYthF,gBAAc,QAC1BY,UAAW,eACX4T,OAAQ,SAHM,GAGK7gC,EAAkB,MAEzCurG,YAASoC,GAAYnjB,EAAaxqF,MAG1C0tG,EAAWrqG,UAAUqgG,mBAAqB,WAGtC,IAAK,GAFDpkG,IAAUW,KAAK0qB,OAAOwE,mBAAmBpqB,KAAM9E,KAAK0qB,OAAOwE,mBAAmBnqB,QAC9E/E,KAAK0qB,OAAOwE,mBAAmBxsB,OAAQ1C,KAAK0qB,OAAOwE,mBAAmBlqB,SACjE/F,EAAK,EAAGC,EAAKc,KAAK0qB,OAAOe,QAAQqQ,iBAAiB,mEACG78B,EAAKC,EAAGC,OAAQF,IAAM,CAChF,GAAIwsB,GAAUvsB,EAAGD,EACbe,MAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,OAAS,GAAKssB,EAAQmQ,UAAUC,SlC4fvD,0BkC3ffpQ,EAAQS,UAAY,IAI5B,IACK,GAFDjiB,IAAQ,OAAQ,UAAW,SAAU,WAEhCnK,EAAI,EAAGoO,EAAM7O,EAAOF,OAAQW,EAAIoO,EAAKpO,IAC1C,GAAIT,EAAOS,GAAI,CACX,GAAI8qB,IACA5e,MAAO3M,EAAOS,GACdmK,KAAMA,EAAKnK,GAAGoI,WAElBlI,MAAK0qB,OAAO8H,OnC6DG,sBmC7D8B5H,KAIlD6iF,ICrDXzhC,IAAUtuC,OAAO4vE,GAKjB,IAAIK,IAA6B,WAE7B,QAASA,GAAYjjF,GACjB1qB,KAAK0qB,OAASA,EACd1qB,KAAK0qB,OAAO0J,kBAAoBp0B,KAChCA,KAAKk0B,YAAel0B,KAAK0qB,OAAO2J,WAAa,IAAM,IACnDr0B,KAAK0kF,mBACL1kF,KAAK0qB,OAAOiyD,gBAAkB,GAAI8wB,IAAWztG,KAAK0qB,QAClD1qB,KAAK4tG,SAAW,GAAIC,SAAM7tG,KAAK0qB,OAAOe,SAClCqiF,QAAS9tG,KAAK+tG,eAAeniF,KAAK5rB,QAuZ1C,MAhZA2tG,GAAYvqG,UAAUgvB,cAAgB,WAClC,MAAO,YAEXu7E,EAAYvqG,UAAU4qG,aAAe,WACjChuG,KAAKiuG,cAAgB7hF,gBAAc,OAASY,UnC8GpB,mBmC7GxBhtB,KAAK08F,cAAgBtwE,gBAAc,OAASY,UnC2BjB,uBmC1B3BhtB,KAAK28F,eAAiBvwE,gBAAc,OAASY,UnC4BjB,uBmC3B5B,IAAIkhF,GAAe9hF,gBAAc,OAASY,UAAWmhF,6BACjDC,EAAkBhiF,gBAAc,OAChCY,UAAWqhF,gCAEXC,EAAiBliF,gBAAc,OAC/BY,UAAWuhF,+BAEXC,EAAkBpiF,gBAAc,OAChCY,UAAWyhF,+BAEfzuG,MAAK0uG,SAAWtiF,gBAAc,OAASY,UAAW2hF,wBAClD3uG,KAAK4uG,YAAcxiF,gBAAc,OAASY,UAAW6hF,8BACrD7uG,KAAK8uG,WAAa1iF,gBAAc,OAASY,UAAW+hF,4BACpD/uG,KAAKgvG,YAAc5iF,gBAAc,OAASY,UAAWiiF,8BACrDf,EAAa7hF,YAAYrsB,KAAK0uG,UAC9BN,EAAgB/hF,YAAYrsB,KAAK4uG,aACjCN,EAAejiF,YAAYrsB,KAAK8uG,YAChCN,EAAgBniF,YAAYrsB,KAAKgvG,aACjChvG,KAAKkuG,aAAeA,EACpBluG,KAAKouG,gBAAkBA,EACvBpuG,KAAKsuG,eAAiBA,EACtBtuG,KAAKwuG,gBAAkBA,EACvBxuG,KAAK08F,cAAcrwE,YAAYiiF,GAC/BtuG,KAAK08F,cAAcrwE,YAAY6hF,GAC/BluG,KAAK28F,eAAetwE,YAAYmiF,GAChCxuG,KAAK28F,eAAetwE,YAAY+hF,GAChCpuG,KAAKiuG,cAAc5hF,YAAYrsB,KAAK08F,eACpC18F,KAAKiuG,cAAc5hF,YAAYrsB,KAAK28F,gBACpC38F,KAAKiuG,cAAcryE,UAAUI,InC+fA,uBmC7f7B,KAAK,GAAI/8B,GAAK,EAAGiwG,GADClvG,KAAK0uG,SAAU1uG,KAAK4uG,YAAa5uG,KAAK8uG,WAAY9uG,KAAKgvG,aAC7B/vG,EAAKiwG,EAAa/vG,OAAQF,IAAM,CACxE,GAAIwsB,GAAUyjF,EAAajwG,EACvBe,MAAK0qB,OAAOszE,oBAAoBjF,kBAChC,GAAIoE,aAAU1xE,MAElBzrB,KAAKo9F,YAAY3xE,GACjBzrB,KAAKq9F,UAAU5xE,GAEoB,UAAnCzrB,KAAK0qB,OAAOo4B,cAActmB,MAAoE,UAAhDx8B,KAAK0qB,OAAOszE,oBAAoBmR,aAC9EnvG,KAAKovG,mBAAqBpvG,KAAKiuG,cAAc13C,WAAU,GACvDv2D,KAAKovG,mBAAmBxzE,UAAUI,InCueR,wBmCte1Bh8B,KAAKovG,mBAAmBxzE,UAAUtI,OnCkfT,wBmCjfzBtzB,KAAKovG,mBAAmBz9E,cAAc,iBAA2BiK,UAAUI,InCud1D,sBmCtdjBh8B,KAAKovG,mBAAmBz9E,cAAc,oBAA8BiK,UAAUI,InCwd1D,yBmCvdhBh8B,KAAK0qB,OAAOs0B,cAAcU,gBAC1B1/C,KAAKovG,mBAAmBz9E,cAAc,mBAA6BiK,UAAUI,InC0dxD,+BmCvdrBh8B,KAAKovG,mBAAmBz9E,cAAc,mBAA6BiK,UAAUI,InCqd9D,wBmCpdfh8B,KAAKovG,mBAAmBz9E,cAAc,mBAA6BiK,UAAUtI,OnCgDhE,gBmC9CjBtzB,KAAKovG,mBAAmBz9E,cAAc,oBAA8BiK,UAAUI,InCsd1D,0BmCndpBh8B,KAAKovG,uBAAqBlvG,GAES,UAAnCF,KAAK0qB,OAAOo4B,cAActmB,MAAoE,UAAhDx8B,KAAK0qB,OAAOszE,oBAAoBmR,cAC9EnvG,KAAKiuG,kBAAgB/tG,KAG7BytG,EAAYvqG,UAAUisG,gBAAkB,WACpC,IAAIrvG,KAAK0qB,OAAOe,QAAQkG,cAAc,YAAyB3xB,KAAK0qB,OAAOe,QAAQkG,cAAc,mBACzF3xB,KAAK0qB,OAAOyJ,gBAAiB,CAC7B,GAAIn0B,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAElC,IAAK,GAAI1yB,GAAK,EAAGC,EAAKc,KAAK0qB,OAAOe,QAAQqQ,iBAAiB,mBAA+B78B,EAAKC,EAAGC,OAAQF,IAAM,CACxGwsB,EAAUvsB,EAAGD,EACjBq0B,UAAO7H,GAYf,GATIzrB,KAAKovG,qBACDpvG,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,WACjEooB,oBAAkBn2B,KAAKovG,oBAAsBxhF,MAAOs/E,aAAWltG,KAAK0qB,OAAOy0B,MAAMvxB,SACjF5tB,KAAK0qB,OAAOe,QAAQ8X,aAAavjC,KAAKovG,mBAAoBpvG,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,YAG3H/N,KAAKovG,uBAAqBlvG,IAGK,UAAnCF,KAAK0qB,OAAOo4B,cAActmB,MAAoBx8B,KAAKiuG,cAAe,CAC9DjuG,KAAK0qB,OAAO2J,aACZr0B,KAAK08F,cAAcjwE,MAAMqZ,SAAW,QACpC9lC,KAAK8uG,WAAWriF,MAAMqZ,SAAW,SAEjC9lC,KAAK0qB,OAAOyU,gBACZn/B,KAAK08F,cAAcjwE,MAAMqZ,SAAW,OACpC9lC,KAAK8uG,WAAWriF,MAAMqZ,SAAW,QAErC9lC,KAAKgvG,YAAY7hB,gBAAgB,SACjCntF,KAAK4uG,YAAYzhB,gBAAgB,SACjCntF,KAAK0uG,SAASvhB,gBAAgB,SAC9BntF,KAAKgvG,YAAY7hB,gBAAgB,QAQjC,IAN6B,SAAzBntF,KAAK0qB,OAAO4J,SACIh1B,OAAOC,KAAKS,KAAK0qB,OAAO6J,iBAAiBrc,eAAe/Y,OAGxDG,OAAOC,KAAKS,KAAK0qB,OAAO2E,aAAanX,eAAe/Y,OAErD,CACf,GAAImwG,GAActvG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,kBACrFmjB,aAAUw6D,GAAc,SACxBA,EAAYniB,gBAAgB,SAC5Br4C,YAAUw6D,EAAY39E,cAAc,kBAAmB,eACvD29E,EAAY39E,cAAc,gBAAgBtF,YAAYrsB,KAAKkuG,cAC3DoB,EAAY39E,cAAc,gBAAgBA,cAAc,oBAAoBlF,MAAME,QAAU,OAC5F2iF,EAAY39E,cAAc,gBAAgBA,cAAc,oBAAoBlF,MAAME,QAAU,OAEhG3sB,KAAK0qB,OAAOe,QAAQ8X,aAAavjC,KAAKiuG,cAAejuG,KAAK0qB,OAAOe,QAAQkG,cAAc,YACvFwE,oBAAkBn2B,KAAKiuG,eAAiBrgF,MAAOs/E,aAAWltG,KAAK0qB,OAAOu4B,0BACtEjjD,KAAKiuG,cAAcxhF,MAAMqZ,SAAW,QACpC9lC,KAAK0qB,OAAOiyD,gBAAgBhyD,SAC5B3qB,KAAKs1B,iBACL,IAAIi6E,GAAkBvvG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,YAAYvP,SAAS,GAC1GotF,EAAsBtC,aAAWltG,KAAKiuG,cAAc/uE,YAActyB,SAAS2iG,EAAgB9iF,MAAMmB,MAAO,IAC5GuI,qBAAkBn2B,KAAK8uG,YAAclhF,MAAO2hF,EAAgB9iF,MAAMmB,QAClEuI,oBAAkBn2B,KAAK28F,gBAAkB/uE,MAAO4hF,GAChD,IAAIC,GAAoBzvG,KAAK8uG,WAAWvvE,aAAe,CACnDkwE,GAAmBzvG,KAAK4uG,YAAYrvE,eACpCpJ,oBAAkBn2B,KAAKgvG,aAAenhF,OAAQq/E,aAAWuC,KACzDt5E,oBAAkBn2B,KAAK4uG,aAAe/gF,OAAQq/E,aAAWuC,EAAmB,KAEhF,IAAIC,GAAgB1vG,KAAK0qB,OAAOe,QAAQkG,cAAc,oBAAoB4N,YAC1EpJ,qBAAkBn2B,KAAK0uG,UACnB7gF,OAAQ6hF,EAAgB,OAExB1vG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,iBACnE3xB,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,eAAelF,MAAMoB,OACpF6hF,EAAgB,KAOxB,KAAK,GAJDC,MADa/0E,MAAMC,KAAK76B,KAAK0qB,OAAOe,QAAQkG,cAAc,oBAAoBA,cAAc,SAASmK,iBAAiB,OACjGruB,OAAO,SAAUmiG,GACtC,MAAQA,GAAOphB,WAAWrvF,OAAS,IAEnC0wG,EAAYH,EAAgBC,EAAWxwG,OAClCoK,EAAK,EAAGumG,EAAeH,EAAYpmG,EAAKumG,EAAa3wG,OAAQoK,IAAM,CACxE,GAAIkiB,GAAUqkF,EAAavmG,EAC3B4sB,qBAAkB1K,GAAWoC,OAAUgiF,EAAY,MAEnD,KAAK,GAAI9lG,GAAK,EAAGgmG,KADEn1E,MAAMC,KAAKpP,EAAQqQ,iBAAiB,gBACb/xB,EAAKgmG,EAAY5wG,OAAQ4K,IAAM,CACrE,GAAIimG,GAAYD,EAAYhmG,EAC5BosB,qBAAkB65E,GAAaniF,OAAUgiF,EAAY,aAK7D7vG,MAAK0qB,OAAOiyD,gBAAgBhyD,QAE5B3qB,MAAK0qB,OAAOs4B,aAAkD,SAAnChjD,KAAK0qB,OAAOo4B,cAActmB,OACrB,UAA5Bx8B,KAAK0qB,OAAO2Q,YACZr7B,KAAK0qB,OAAOe,QAAQkG,cAAc,yBAAyBlF,MAAME,QAAU,OAG3E3sB,KAAK0qB,OAAOe,QAAQkG,cAAc,yBAAyBlF,MAAME,QAAU,UAS/FghF,EAAYvqG,UAAU67B,UAAY,WAC9B9I,oBAAkBn2B,KAAKiuG,eAAiBrgF,MAAOs/E,aAAWltG,KAAK0qB,OAAOu4B,0BACtEjjD,KAAKiuG,cAAcxhF,MAAMqZ,SAAW,OACpC,IAAIypE,GAAkBvvG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,YAAYvP,SAAS,GAC1G6tF,EAAiB/C,aAAWltG,KAAKiuG,cAAc/uE,YAActyB,SAAS2iG,EAAgB9iF,MAAMmB,MAAO,IAOvG,IANAuI,oBAAkBn2B,KAAK8uG,YAAclhF,MAAO2hF,EAAgB9iF,MAAMmB,QAClEuI,oBAAkBn2B,KAAK28F,gBAAkB/uE,MAAOqiF,IAC5CjwG,KAAK0qB,OAAOsqB,eAAiBh1C,KAAK0qB,OAAOsyD,sBAAwBh9E,KAAK0qB,OAAOsyD,qBAAqBvxD,UAClGgU,aAAaz/B,KAAK0/B,YAClB1/B,KAAK0/B,WAAaC,WAAW3/B,KAAKsqD,UAAU1+B,KAAK5rB,SAEhDA,KAAK0qB,OAAOsK,KAAKvJ,QAAQkG,cAAc,gBAAiB,CACzD,GAAIu+E,GAAiBlwG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,kBACxFmjB,aAAUo7D,GAAiB,SAC3Bp7D,YAAUo7D,EAAev+E,cAAc,kBAAmB,eAC1DwE,oBAAkBn2B,KAAK0uG,UACnB7gF,OAAQ7tB,KAAK0qB,OAAOe,QAAQkG,cAAc,oBAAoB4N,aAAe,OAEjF2wE,EAAev+E,cAAc,gBAAgBtF,YAAYrsB,KAAKkuG,cAC9D/3E,oBAAkB+5E,EAAev+E,cAAc,gBAAgBA,cAAc,qBACzEhF,QAAS,SAEbwJ,oBAAkB+5E,EAAev+E,cAAc,gBAAgBA,cAAc,qBACzEhF,QAAS,QAEb,IAAIwjF,GAAcnwG,KAAK0qB,OAAOe,QAAQkG,cAAc,oBAAoB4N,YACxEpJ,qBAAkBn2B,KAAK0uG,UACnB7gF,OAAQsiF,EAAc,OAEtBnwG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,iBACnE3xB,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,eAAelF,MAAMoB,OACpFsiF,EAAc,KAOtB,KAAK,GAJDR,MADoB/0E,MAAMC,KAAK76B,KAAK0qB,OAAOe,QAAQkG,cAAc,oBAAoBA,cAAc,SAASmK,iBAAiB,OACjGruB,OAAO,SAAUmiG,GAC7C,MAAQA,GAAOphB,WAAWrvF,OAAS,IAEnC0wG,EAAYM,EAAcR,EAAWxwG,OAChCF,EAAK,EAAGmxG,EAAeT,EAAY1wG,EAAKmxG,EAAajxG,OAAQF,IAAM,CACxE,GAAIwsB,GAAU2kF,EAAanxG,EAC3Bk3B,qBAAkB1K,GAAWoC,OAAUgiF,EAAY,MAEnD,KAAK,GAAI3wG,GAAK,EAAGmxG,KADEz1E,MAAMC,KAAKpP,EAAQqQ,iBAAiB,gBACb58B,EAAKmxG,EAAYlxG,OAAQD,IAAM,CACrE,GAAIoxG,GAAiBD,EAAYnxG,EACjCi3B,qBAAkBm6E,GAAkBziF,OAAUgiF,EAAY,WAM1ElC,EAAYvqG,UAAUknD,UAAY,WAC9B,GACI6iD,GADA1hF,EAAUzrB,KAAK0qB,OAAOsyD,qBAAqBvxD,OAQ/C,IALI0hF,EAD4B,UAA5BntG,KAAK0qB,OAAO2Q,YACGr7B,KAAK0qB,OAAOsK,KAAOh1B,KAAK0qB,OAAOsK,KAAKvJ,QAAQyT,YAAciuE,EAG1DntG,KAAK0qB,OAAOy0B,MAAQn/C,KAAK0qB,OAAOywD,YAAY1xB,gBAAkB0jD,EAE/D,CACd,GAAIoD,GAAWpD,EAAe,IAAM,IAAMA,CAC1Ch3E,qBAAkB1K,EAAQkG,cAAc,yBACpCpG,KAAM2hF,aAAWltG,KAAK0qB,OAAOU,WACxBtiB,KAAKukG,IAAI,EACN5hF,EAAQkG,cAAc,wBAAmCuN,aAC7D,EACIzT,EAAQkG,cAAc,wBAAmCuN,iBAO7EyuE,EAAYvqG,UAAUkyB,gBAAkB,WACpC,GAAIi6E,GAAkBvvG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,YAAYvP,SAAS,EAC9G,IAAIpiB,KAAK0uG,SAAS/8E,cAAc,mBAC5B,GAAK3xB,KAAK0qB,OAAO2J,YA2Db,IAAKr0B,KAAK0qB,OAAOyU,cAAe,CAC5B,GAAIE,GAAar/B,KAAK0qB,OAAOsK,KAAKjwB,OAC9Bs6B,IAAcA,EAAWlgC,OAAS,IAClCkgC,EAAW,GAAGzR,MAAQ5tB,KAAKk0B,aAE/Bl0B,KAAK0qB,OAAOqiD,SAAW,EACvB/sE,KAAK0qB,OAAOsK,KAAKw7E,aAAavxE,iBAjET,CACzB,GAAIsrD,MAAkB3vD,MAAMC,KAAK76B,KAAK0uG,SAAS5yE,iBAAiB,mBAC5D20E,EAAalmB,EAAaA,EAAaprF,OAAS,GAChDuxG,EAAmBD,EAAW9+E,cAAc,mBAA8BuN,YAC1EuxE,EAAW9+E,cAAc,iBAAiBuN,YAAc,GACxDyxE,EAAczD,aAAWwD,EAAkB1wG,KAAKk0B,YAAcl0B,KAAKk0B,YAAcw8E,GACjFE,EAAiB5wG,KAAK0qB,OAAOe,QAAQkG,cAAc,mBAAmBA,cAAc,SACpFk/E,EAAkB7wG,KAAK0qB,OAAOe,QAAQkG,cAAc,oBAAoBA,cAAc,SACtFm/E,EAAa9wG,KAAK0qB,OAAOe,QAAQkG,cAAc,oBAAoBA,cAAc,YAAYvP,SAAS,GACtG2uF,EAAWnkG,SAAS+jG,EAAa,KACjCtxE,EAAar/B,KAAK0qB,OAAOsK,KAAKjwB,UAChBs6B,EAAWlgC,OAAS,IAElCkgC,EAAW,GAAGzR,OAASyR,EAAW,GAAGzR,MAAS5tB,KAAKk0B,YAC9C68E,EAAW/wG,KAAKk0B,YAAc68E,EAAW/wG,KAAKk0B,aAGvD,IAAI88E,OAAgB,EAEhBA,GADyB,SAAzBhxG,KAAK0qB,OAAO4J,SACIt0B,KAAK0qB,OAAOgP,aAAawK,kBAAmBlkC,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,OAAS,GACvGa,KAAK0qB,OAAO6J,iBAAiB30B,YAAYT,OAAS,EAClDa,KAAK0qB,OAAO6J,iBAAiB30B,YAAY,GAAGT,OAAS,GAGzCa,KAAK0qB,OAAOgP,aAAawK,kBAAmBlkC,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,OAAS,GACvGa,KAAK0qB,OAAO2E,aAAazvB,YAAYT,OAAS,EAC9Ca,KAAK0qB,OAAO2E,aAAazvB,YAAY,GAAGT,OAAS,EAEzD,KAAK,GAAIy/B,GAAO,EAAGA,EAAOS,EAAWlgC,OAAQy/B,IACzC,GAAa,IAATA,EACA,GAAIS,EAAWT,GAAM75B,QACjB/E,KAAKixG,YAAY5xE,EAAWT,GAAM75B,QAASisG,OAI3C,IADA3xE,EAAWT,GAAMhR,MAAQojF,EACM,SAA3B3xE,EAAWT,GAAMhR,MAAkB,CACnC,GAAInX,GAAY4oB,EAAWT,GAAMI,iBAC7BK,EAAWT,GAAMI,iBAAiBlhB,KAAKtH,UAAUC,UAAY,EACjE4oB,GAAWT,GAAMhR,MAAQ5tB,KAAK0qB,OAAOgP,aAAamM,cAAcpvB,EAAWu6F,OAG3E3xE,GAAWT,GAAMkH,SAAWkrE,CAK5ChxG,MAAK0qB,OAAOqiD,SAAW,EACvB/sE,KAAK0qB,OAAOq2D,eAAe/gF,KAAK0qB,OAAOsK,KAAKjwB,SAC5C/E,KAAK0qB,OAAOsK,KAAKw7E,aAAavxE,YACzBj/B,KAAK0qB,OAAOyU,gBACbowE,EAAgB9iF,MAAMmB,MAAQ+iF,EAC9BG,EAAWrkF,MAAMmB,MAAQ+iF,EACzBC,EAAenkF,MAAMmB,MAAQ+iF,EAC7BE,EAAgBpkF,MAAMmB,MAAQ+iF,EAC9Bx6E,oBAAkBy6E,GAAkBhjF,MAAS+iF,IAC7Cx6E,oBAAkB06E,GAAmBjjF,MAAS+iF,SAelD3wG,MAAK0qB,OAAOsK,KAAKjwB,SAAW/E,KAAK0qB,OAAOsK,KAAKjwB,QAAQ5F,OAAS,IAC9Da,KAAK0qB,OAAOsK,KAAKjwB,QAAQ,GAAG6oB,MAAQ5tB,KAAK0qB,OAAOsK,KAAKjwB,QAAQ,GAAG6oB,MAAQ5tB,KAAKk0B,YACzEl0B,KAAK0qB,OAAOsK,KAAKjwB,QAAQ,GAAG6oB,MAAQ5tB,KAAKk0B,aAEjDl0B,KAAK0qB,OAAOsK,KAAKw7E,aAAavxE,WAE9Bj/B,MAAKiuG,eACLjuG,KAAKi/B,aAGb0uE,EAAYvqG,UAAU6tG,YAAc,SAAUlsG,EAAS6oB,GACnD,IAAK,GAAIgR,GAAO,EAAGA,EAAO75B,EAAQ5F,OAAQy/B,IAClC75B,EAAQ65B,GAAM75B,QACd/E,KAAKixG,YAAYlsG,EAAQ65B,GAAM75B,QAAS6oB,GAGxC7oB,EAAQ65B,GAAMhR,MAAQA,GAIlC+/E,EAAYvqG,UAAUi6F,UAAY,SAAU5xE,GACxCob,eAAa7K,IAAIvQ,EAAS,YAAazrB,KAAKkxG,oBAAqBlxG,MACjE6mC,eAAa7K,IAAIvQ,EAAS,aAAczrB,KAAKkxG,oBAAqBlxG,OAEtE2tG,EAAYvqG,UAAUg6F,YAAc,SAAU3xE,GAC1Cob,eAAavT,OAAO7H,EAAS,YAAazrB,KAAKkxG,qBAC/CrqE,eAAavT,OAAO7H,EAAS,aAAczrB,KAAKkxG,sBAEpDvD,EAAYvqG,UAAU8tG,oBAAsB,SAAU1xE,IAC7Cx/B,KAAK0qB,OAAOuuD,YAAcz5C,EAAE3S,OAAO+O,UAAUC,SnChP7B,gBmCgPyE,cAAX2D,EAAE73B,MACtE,eAAX63B,EAAE73B,QACF8uC,iBAAe7b,MAAMC,KAAK76B,KAAK0qB,OAAOe,QAAQqQ,iBAAiB,sBnCxRxC,gBmCyRvB2a,iBAAe7b,MAAMC,KAAK76B,KAAK0qB,OAAOe,QAAQqQ,iBAAiB,2BnCzRxC,kBmC4R/B6xE,EAAYvqG,UAAU2qG,eAAiB,SAAUvuE,GAC7C,GAAI3S,GAASwnB,UAAQ7U,EAAE2xE,cAActkF,OAAQ,kBAC7C,KAAKlpB,oBAAkBkpB,IAAW7sB,KAAK0qB,OAAO2J,WAAY,CACtD,GAAIpvB,GAAM4nB,EAAO1B,uBAGjB,OAFAnrB,MAAK0qB,OAAOurB,kBAAkBO,aAAe3pB,MAC7C7sB,MAAK0qB,OAAOurB,kBAAkBK,QAAQjrB,KAAKpmB,EAAIqmB,IAAKrmB,EAAIsmB,QAOhEoiF,EAAYvqG,UAAUshF,iBAAmB,WACrC1kF,KAAKwjG,UACDl8C,KAAMtnD,KAAKguG,aACXjqE,IAAK/jC,KAAKqvG,iBAEVrvG,KAAK0qB,OAAO0I,cAGhBpzB,KAAK0qB,OAAOiL,GpC7RU,mBoC6RkB31B,KAAKwjG,SAASl8C,KAAMtnD,MAC5DA,KAAK0qB,OAAOiL,GAAGlD,EAAiBzyB,KAAKwjG,SAASz/D,IAAK/jC,QAKvD2tG,EAAYvqG,UAAUuhF,oBAAsB,WACpC3kF,KAAK0qB,OAAO0I,cAGhBpzB,KAAK0qB,OAAO8vB,IpCvSU,mBoCuSmBx6C,KAAKwjG,SAASz/D,KACvD/jC,KAAK0qB,OAAO8vB,IAAI/nB,EAAiBzyB,KAAKwjG,SAASl8C,QAOnDqmD,EAAYvqG,UAAUiwB,QAAU,WAC5BrzB,KAAK2kF,sBACD3kF,KAAK0qB,OAAO+yE,oBACZz9F,KAAK0qB,OAAO+yE,kBAAkBpqE,UAC1BrzB,KAAK4tG,WAAa5tG,KAAK4tG,SAASx6E,aAChCpzB,KAAK4tG,SAASv6E,YAOnBs6E,KClaPyD,GAAuC,WAEvC,QAASA,GAAsB1mF,GAC3B1qB,KAAK0qB,OAASA,EACd1qB,KAAK0qB,OAAOonB,4BAA8B9xC,KAC1CA,KAAKilE,SAAWjlE,KAAK0qB,OAAOe,QAAQ1d,GACpC/N,KAAKylG,OAAS,KACdzlG,KAAKqxG,kBACLrxG,KAAKsxG,sBACLtxG,KAAKuxG,oBACLvxG,KAAKwxG,oBACLxxG,KAAK+qC,aACL/qC,KAAK8qC,mBACL9qC,KAAKyxG,aAugBT,MAjgBAL,GAAsBhuG,UAAUgvB,cAAgB,WAC5C,MAAO,yBAEXg/E,EAAsBhuG,UAAU+kG,aAAe,WACmC,OAA1En8E,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,0BAC7C3xC,SAAOtH,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,0BAExDjlE,KAAK0qB,OAAOe,QAAQY,YAAYD,gBAAc,OAC1Cre,GAAI/N,KAAKilE,SAAW,0BAExB,IAAI92C,KAEIF,MAAOjuB,KAAK0xG,eAAe9lF,KAAK5rB,MAChCmuB,aACIC,SAAUpuB,KAAK0qB,OAAO2J,uDpCmWL,4BoCjWjB4oB,QAAS1c,EAAW,cACpBhT,QAASvtB,KAAK0qB,OAAO2J,WAAa,GAAKr0B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAI7EglB,MAAOjuB,KAAK60F,iBAAiBjpE,KAAK5rB,MAClCmuB,aACIC,SAAUujF,yCACVpkF,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAI/CglB,MAAOjuB,KAAKi1F,kBAAkBrpE,KAAK5rB,MACnCmuB,aACIC,SAAUujF,0CACVpkF,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAInDjJ,MAAK0qB,OAAO2J,WACZr0B,KAAKylG,OAAS,GAAIt4E,WACdC,mBAAqBC,OAAQ,QAAUI,SAAS,EAAMG,MAAO,OAAQC,OAAQ,OAC7EF,eAAe,EAAOY,eAAe,EAAOnD,UAAWprB,KAAK0qB,OAAOU,UACnE1R,UAAYoU,EAAG,SAAUC,EAAG,UAAYT,eAAe,EAAMU,QAASG,EACtEzC,WAAY1rB,KAAK0rB,WAAWE,KAAK5rB,MACjCouB,SpCsUW,4BoCtUkBtS,OAAQ9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,wBAAyB4jB,OAAQb,SAAS0vB,OAIrH17C,KAAKylG,OAAS,GAAIt4E,WACdG,eAAe,EAAM5T,UAAYoU,EAAG,SAAUC,EAAG/tB,KAAK0qB,OAAOe,QAAQ0qE,WAAanoE,QAASG,EAC3FzC,WAAY1rB,KAAK0rB,WAAWE,KAAK5rB,MACjCouB,SpC+TW,4BoC/TkBX,SAAS,EAAOc,eAAe,EAAMnD,UAAWprB,KAAK0qB,OAAOU,UACzFuC,eAAe,EAAM7R,OAAQ9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,wBAAyB4jB,OAAQ7sB,KAAK0qB,OAAOe,UAGpHzrB,KAAKylG,OAAOl5E,kBAAmB,EAC/BvsB,KAAKylG,OAAOj5E,SAAS,IAAMxsB,KAAKilE,SAAW,0BAG/CmsC,EAAsBhuG,UAAUsoB,WAAa,SAAUd,GACnD5qB,KAAKylG,OAAOh6E,QAAQkG,cAAc,iBAC9BE,aAAa,QAAS7xB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,0BAEhEmoG,EAAsBhuG,UAAUsuG,eAAiB,WAC7C,GAAI7mG,IACA84E,WAAY,WACZ9wE,OAAQ,EACR4wE,kBAAkB,EAClBh3D,OACIqe,gBAAiB,QACjBE,MAAO,QACPE,WAAY,QACZC,SAAU,QAGlBnrC,MAAK0qB,OAAOkP,QrCHe,wBqCGuB/uB,GAClD7K,KAAK4xG,yBACL5xG,KAAKyxG,UAAU/xG,KAAKmL,GACpB7K,KAAK6xG,aAETT,EAAsBhuG,UAAUyxF,iBAAmB,WAC3C70F,KAAK4xG,2BACL5xG,KAAK0qB,OAAO6H,eAAgBrD,oBAAsBs0D,0BAA2BxjF,KAAKyxG,aAAe,GACjGzxG,KAAK0qB,OAAOmgC,kBACZ7qD,KAAKqzB,YAGb+9E,EAAsBhuG,UAAU6xF,kBAAoB,WAChDj1F,KAAKqzB,UACLrzB,KAAKyxG,cAETL,EAAsBhuG,UAAUwuG,uBAAyB,WACrD,IAAK,GAAI9xG,GAAI,EAAGA,EAAIE,KAAKyxG,UAAUtyG,OAAQW,IAAK,CAC5C,GAAkF,KAA9EksB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAGzB,OACU,KAA9E2tB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAGzB,MAIpE,MAH8E,KAA9E2tB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAGzB,MAChE2tB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAG80C,QACpE5oB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAG80C,SACjE,CAEX50C,MAAKyxG,UAAU3xG,GAAG+S,OACdkO,OAAOiL,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAGzB,OAC/E2B,KAAKyxG,UAAU3xG,GAAGgT,OACdiO,OAAOiL,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAGzB,OAEnF,OAAO,GAEX+yG,EAAsBhuG,UAAUyuG,UAAY,WAExC,IAAK,GADDhnG,GAASuhB,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,YAAaj4C,UpC0QrD,iBoCzQPltB,EAAI,EAAGA,EAAIE,KAAKyxG,UAAUtyG,OAAQW,IACvC+K,EAAOwhB,YAAYrsB,KAAK8xG,qBAAqBhyG,GAEjD,IAA8B,IAA1BE,KAAKyxG,UAAUtyG,OAAc,CAC7B,GAAIupG,GAAW1oG,KAAK8xG,uBAChBrmF,EAAUW,gBAAc,KACxBre,GAAI/N,KAAKilE,SAAW,cACpB/4C,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAC7C23B,OAAQ,gBAEZ8nE,GAASr8E,YAAYZ,GACrB5gB,EAAOwhB,YAAYq8E,GAEvB1oG,KAAKylG,OAAOlzE,eAAgBhF,QAAW1iB,IAAU,EACjD,KAAS/K,EAAI,EAAGA,EAAIE,KAAKyxG,UAAUtyG,OAAQW,IACvCE,KAAK+xG,gBAAgBjyG,GACrBE,KAAKgyG,kBAAkBlyG,IAG/BsxG,EAAsBhuG,UAAU0uG,qBAAuB,SAAUhyG,GAC7D,GAAI4oG,GAAWt8E,gBAAc,OACzBre,GAAI/N,KAAKilE,SAAW,WAAanlE,EAAGktB,UpCsPtB,sBoCpPlB,QAAU9sB,KAANJ,EAAiB,CACjB,GAAI+K,GAAS7K,KAAKyxG,UAAU3xG,GACxBmyG,EAAS7lF,gBAAc,UACvBre,GAAI/N,KAAKilE,SAAW,eAAiBnlE,EAAGktB,UpC6QtB,yBoC5QlBC,OAASuT,MAASxgC,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAExDy/F,GAASr8E,YAAY4lF,EACrB,IAAIC,GAAW9lF,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,WAAYj4C,UpC+OxD,uBoC9OVmlF,EAAQ/lF,gBAAc,SAAWre,GAAI/N,KAAKilE,SAAW,UAAWj4C,UpCgPtD,mBoC/OVolF,EAAOhmF,gBAAc,MACrBimF,EAAKjmF,gBAAc,MACnBkmF,EAAalmF,gBAAc,QAC3Bre,GAAI/N,KAAKilE,SAAW,aAAenlE,EAAGktB,UpC8OtB,uBoC7OhBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAEjDopG,GAAGhmF,YAAYimF,GACfF,EAAK/lF,YAAYgmF,GACjBF,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrBimF,EAAKjmF,gBAAc,KACnB,IAAImmF,GAAkBnmF,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,UAAYnlE,IACzE0yG,EAAepmF,gBAAc,SAC7Bre,GAAI/N,KAAKilE,SAAW,eAAiBnlE,EACrCmtB,OAAStlB,KAAQ,OAAQwkF,SAAY,MAEzComB,GAAgBlmF,YAAYmmF,GAC5BH,EAAGhmF,YAAYkmF,GACfH,EAAK/lF,YAAYgmF,GACjBA,EAAKjmF,gBAAc,KACnB,IAAIqmF,GAAoBrmF,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,cAC/DytC,EAAiBtmF,gBAAc,SAC/Bre,GAAI/N,KAAKilE,SAAW,iBAAmBnlE,EACvCmtB,OAAStlB,KAAQ,OAAQwkF,SAAY,MAEzCsmB,GAAkBpmF,YAAYqmF,GAC9BL,EAAGhmF,YAAYomF,GACfL,EAAK/lF,YAAYgmF,GACjBA,EAAKjmF,gBAAc,KACnB,IAAIK,GAAgC,YAAtB5hB,EAAO84E,YAAkD,eAAtB94E,EAAO84E,WAA+B,2BAA6B,GAChH9wE,EAASuZ,gBAAc,SACvBre,GAAI/N,KAAKilE,SAAW,kBAAoBnlE,EACxCmtB,OACItlB,KAAQ,OAAQwkF,SAAY,IAAK9tF,MAAU+lB,oBAAMvZ,EAAOgI,QAAqC,IAA3BhI,EAAOgI,OAAO3K,WAChFqpB,YAAevxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAErD23B,OAAQ5gC,KAAK0qB,OAAO2J,WAAuB,KAAV5H,EAAe,aAAe,cAA0B,KAAVA,EAAe,cAC1F,eACJO,UAAW2lF,EAAY,oBAE3BN,GAAGhmF,YAAYxZ,EACf,IAAI+/F,GAAYxmF,gBAAc,QAC1Bre,GAAI/N,KAAKilE,SAAW,YAAcnlE,EAAGktB,UpCiNtB,sBoChNfd,UAAW,IAAK0U,OAAQnU,GAE5B4lF,GAAGhmF,YAAYumF,EACf,IAAI9/F,GAASsZ,gBAAc,SACvBre,GAAI/N,KAAKilE,SAAW,kBAAoBnlE,EACxCmtB,OACItlB,KAAQ,OAAQwkF,SAAY,IAAK9tF,MAAU+lB,oBAAMvZ,EAAOiI,QAAqC,IAA3BjI,EAAOiI,OAAO5K,WAChFqpB,YAAevxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAErD23B,OAAS5gC,KAAK0qB,OAAO2J,YAAwB,KAAV5H,EAAgB,aAAyB,KAAVA,EAAe,cAAgBA,EACjGO,UAAW2lF,EAAY,oBAE3BN,GAAGhmF,YAAYvZ,GACfs/F,EAAK/lF,YAAYgmF,GACjBF,EAAM9lF,YAAY+lF,GACdpyG,KAAK0qB,OAAO2J,aACZ69E,EAAS7lF,YAAY8lF,GACrBA,EAAQ/lF,gBAAc,SAAWre,GAAI/N,KAAKilE,SAAW,UAAWj4C,UpCmLtD,oBoCjLdolF,EAAOhmF,gBAAc,MACrBimF,EAAKjmF,gBAAc,KACnB,IAAIymF,GAAczmF,gBAAc,QAC5Bre,GAAI/N,KAAKilE,SAAW,cAAgBnlE,EAAGktB,UpCkL7B,iBoCjLVd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAEjDopG,GAAGhmF,YAAYwmF,GACfT,EAAK/lF,YAAYgmF,GACjBF,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrBimF,EAAKjmF,gBAAc,KACnB,IAAI0mF,GAAmB1mF,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,aAC9D8tC,EAAgB3mF,gBAAc,SAC9Bre,GAAI/N,KAAKilE,SAAW,gBAAkBnlE,EAAGmtB,OAAStlB,KAAQ,OAAQwkF,SAAY,MAElF2mB,GAAiBzmF,YAAY0mF,GAC7BV,EAAGhmF,YAAYymF,GACfV,EAAK/lF,YAAYgmF,GACjBA,EAAKjmF,gBAAc,KACnB,IAAI4mF,GAAmB5mF,gBAAc,OAASre,GAAI/N,KAAKilE,SAAW,aAC9DguC,EAAgB7mF,gBAAc,SAC9Bre,GAAI/N,KAAKilE,SAAW,gBAAkBnlE,EAAGmtB,OAAStlB,KAAQ,OAAQwkF,SAAY,MAElF6mB,GAAiB3mF,YAAY4mF,GAC7BZ,EAAGhmF,YAAY2mF,GACfZ,EAAK/lF,YAAYgmF,GACbryG,KAAK0qB,OAAO2J,aACZ89E,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrB+lF,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,OAEzBimF,EAAKjmF,gBAAc,KACnB,IAAI8mF,GAAe9mF,gBAAc,SAC7Bre,GAAI/N,KAAKilE,SAAW,YAAcnlE,EAAGmtB,OAAStlB,KAAQ,QAASwkF,SAAY,KAAOn/D,UpC6JnE,uBoC3JnBqlF,GAAGhmF,YAAY6mF,EACf,IAAIC,GAAe/mF,gBAAc,SAC7Bre,GAAI/N,KAAKilE,SAAW,kBAAoBnlE,EAAGmtB,OAAStlB,KAAQ,QAASwkF,SAAY,KAAOn/D,UpC2JzE,uBoCzJnBqlF,GAAGhmF,YAAY8mF,GACff,EAAK/lF,YAAYgmF,GACjBA,EAAKjmF,gBAAc,KACnB,IAAIgnF,GAAehnF,gBAAc,OAC7Bre,GAAI/N,KAAKilE,SAAW,eAAiBnlE,EAAGktB,UAAW2lF,EAAY,0BAC/DzmF,UAAW,UAEfmmF,GAAGhmF,YAAY+mF,GACfhB,EAAK/lF,YAAYgmF,GACjBF,EAAM9lF,YAAY+lF,GAClBF,EAAS7lF,YAAY8lF,GACrBzJ,EAASr8E,YAAY6lF,GAEzB,MAAOxJ,IAEX0I,EAAsBhuG,UAAU2uG,gBAAkB,SAAUjyG,GACxD,GAAI+K,GAAS7K,KAAKyxG,UAAU3xG,GACxBT,IACJA,GAAOK,MACHgM,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAClD+C,MAAOhM,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAE7C,KAAK,GAAI2pD,GAAM,EAAGA,EAAM5yD,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,OAAQyzD,IAClEvzD,EAAOK,MACHgM,MAAOknD,EAAM,EACbztD,KAAMnF,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOkwD,GAAKxoD,SAAWpK,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOkwD,GAAKztD,KACvG6G,MAAOhM,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOkwD,GAAKztD,MAG1D,IAAI9G,GAAQ+lB,oBAAMvZ,EAAOuK,SAAWpV,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAAe4B,EAAOuK,OAC5FpV,MAAKqxG,eAAevxG,GAAK,GAAI+wB,iBACzBvtB,WAAYjE,EAAQA,QAAU+pB,KAAM,OAAQ/qB,MAAO,SACnDA,MAAOA,EAAOuvB,MAAO5tB,KAAK0qB,OAAO2J,WAAa,OAAS,QACvDg/E,YAAa,QAASC,WAAY,OAClCxiF,OAAQ9wB,KAAKuzG,cAAc3nF,KAAK5rB,KAAMF,KAE1CE,KAAKqxG,eAAevxG,GAAGysB,kBAAmB,EAC1CvsB,KAAKqxG,eAAevxG,GAAG0sB,SAAS,IAAMxsB,KAAKilE,SAAW,eAAiBnlE,EACvE,IAAI6jF,KACEtlF,MAAO,WAAY8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAC3D5K,MAAO,oBAAqB8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,uBACpE5K,MAAO,cAAe8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAC9D5K,MAAO,uBAAwB8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,0BACvE5K,MAAO,SAAU8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YACzD5K,MAAO,YAAa8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAC5D5K,MAAO,UAAW8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAC1D5K,MAAO,aAAc8G,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAEnE5K,GAAQ+lB,oBAAMvZ,EAAO84E,YAAc,WAAa94E,EAAO84E,WACvD3jF,KAAKsxG,mBAAmBxxG,GAAK,GAAI+wB,iBAC7BvtB,WAAYqgF,EAAYtkF,QAAUhB,MAAO,QAAS+qB,KAAM,QACxD/qB,MAAOA,EAAOuvB,MAAO5tB,KAAK0qB,OAAO2J,WAAa,OAAS,QACvDg/E,YAAa,QAASC,WAAY,OAClCxiF,OAAQ9wB,KAAKwzG,gBAAgB5nF,KAAK5rB,KAAMF,KAE5CE,KAAKsxG,mBAAmBxxG,GAAGysB,kBAAmB,EAC9CvsB,KAAKsxG,mBAAmBxxG,GAAG0sB,SAAS,IAAMxsB,KAAKilE,SAAW,iBAAmBnlE,EAC7E,IAAI2zG,KACE/nG,MAAO,EAAGvG,KAAM,UAAauG,MAAO,EAAGvG,KAAM,cAAiBuG,MAAO,EAAGvG,KAAM,WAC9EuG,MAAO,EAAGvG,KAAM,iBAAoBuG,MAAO,EAAGvG,KAAM,UAAauG,MAAO,EAAGvG,KAAM,YACjFuG,MAAO,EAAGvG,KAAM,gBAAmBuG,MAAO,EAAGvG,KAAM,oBAAuBuG,MAAO,EAAGvG,KAAM,WAC1FuG,MAAO,EAAGvG,KAAM,WAEtB9G,GAAQ+lB,oBAAMvZ,EAAO4hB,MAAMye,YAAc,QAAUrgC,EAAO4hB,MAAMye,WAChElrC,KAAKuxG,iBAAiBzxG,GAAK,GAAI+wB,iBAC3BvtB,WAAYmwG,EAAWp0G,QAAU+pB,KAAM,QACvC/qB,MAAOA,EAAOuvB,MAAO5tB,KAAK0qB,OAAO2J,WAAa,OAAS,QACvDi/E,WAAY,QAASD,YAAa,QAClCviF,OAAQ9wB,KAAK0zG,eAAe9nF,KAAK5rB,KAAMF,KAE3CE,KAAKuxG,iBAAiBzxG,GAAGysB,kBAAmB,EAC5CvsB,KAAKuxG,iBAAiBzxG,GAAG0sB,SAAS,IAAMxsB,KAAKilE,SAAW,gBAAkBnlE,EAC1E,IAAIqrC,KACEz/B,MAAO,EAAGvG,KAAM,QAAWuG,MAAO,EAAGvG,KAAM,SAAYuG,MAAO,EAAGvG,KAAM,SAAYuG,MAAO,EAAGvG,KAAM,SACnGuG,MAAO,EAAGvG,KAAM,SAAYuG,MAAO,EAAGvG,KAAM,SAAYuG,MAAO,EAAGvG,KAAM,SAAYuG,MAAO,EAAGvG,KAAM,QAE1G9G,GAAQ+lB,oBAAMvZ,EAAO4hB,MAAM0e,UAAY,OAAStgC,EAAO4hB,MAAM0e,SAC7DnrC,KAAKwxG,iBAAiB1xG,GAAK,GAAI+wB,iBAC3BvtB,WAAY6nC,EAAU9rC,QAAU+pB,KAAM,QAAUiqF,YAAa,QAC7Dh1G,MAAOA,EAAOuvB,MAAO5tB,KAAK0qB,OAAO2J,WAAa,OAAS,QACvDvD,OAAQ9wB,KAAK2zG,eAAe/nF,KAAK5rB,KAAMF,KAE3CE,KAAKwxG,iBAAiB1xG,GAAGysB,kBAAmB,EAC5CvsB,KAAKwxG,iBAAiB1xG,GAAG0sB,SAAS,IAAMxsB,KAAKilE,SAAW,gBAAkBnlE,IAE9EsxG,EAAsBhuG,UAAUowG,gBAAkB,SAAU1zG,EAAG8qB,GAC3D5qB,KAAKyxG,UAAU3xG,GAAG6jF,WAAa/4D,EAAKvsB,MACjB,YAAfusB,EAAKvsB,OAAsC,eAAfusB,EAAKvsB,OACjC2tB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,YAAcnlE,GAAG2sB,MAAME,QAAU,eAC9EX,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,YAAcnlE,GAAG2sB,MAAMmB,MAChE5tB,KAAK0qB,OAAO2J,WAAa,MAAQ,OACrCrI,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAG2sB,MAAME,QAAU,eACpFX,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAG2sB,MAAMmB,MACtE5tB,KAAK0qB,OAAO2J,WAAa,MAAQ,OACrCrI,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAG2sB,MAAMmB,MACtE5tB,KAAK0qB,OAAO2J,WAAa,MAAQ,SAGrCrI,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,YAAcnlE,GAAG2sB,MAAME,QAAU,OAC9EX,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAG2sB,MAAME,QAAU,OACpFX,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,kBAAoBnlE,GAAG2sB,MAAMmB,MACtE5tB,KAAK0qB,OAAO2J,WAAa,OAAS,UAG9C+8E,EAAsBhuG,UAAUswG,eAAiB,SAAU5zG,EAAG8qB,GAC1D5qB,KAAKyxG,UAAU3xG,GAAG2sB,MAAMye,WAAatgB,EAAKvsB,MAAM6J,WAChD8jB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAMye,WAAatgB,EAAKvsB,OAE7F+yG,EAAsBhuG,UAAUuwG,eAAiB,SAAU7zG,EAAG8qB,GAC1D5qB,KAAKyxG,UAAU3xG,GAAG2sB,MAAM0e,SAAWvgB,EAAKvsB,MAAM6J,WAC9C8jB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAM0e,SAAWvgB,EAAKvsB,OAE3F+yG,EAAsBhuG,UAAUmwG,cAAgB,SAAUzzG,EAAG8qB,GACzD5qB,KAAKyxG,UAAU3xG,GAAGsV,QAAUwV,EAAKvsB,MAAM6J,aAAelI,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBACpF/I,GAAY0qB,EAAKvsB,MAAM6J,YAE/BkpG,EAAsBhuG,UAAU4uG,kBAAoB,SAAUlyG,GAC1D,GAAI+K,GAAS7K,KAAKyxG,UAAU3xG,GACxBzB,EAAQ+lB,oBAAMvZ,EAAO4hB,MAAMue,OAAS,QAAUngC,EAAO4hB,MAAMue,MAC3DA,EAAQhrC,KAAK4jF,MAAMvlF,EAAMwlF,OAAO,IAAMxlF,EAAQ2B,KAAK8jF,gBAAgBzlF,EACvE2tB,UAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAMue,MAAQA,EAC/EhrC,KAAK+qC,UAAUjrC,GAAK,GAAI8zG,gBACpBxlF,SpCmCqB,wBoCnCc/vB,MAAO2sC,EAAO3B,KAAM,UACvDvY,OAAQ9wB,KAAK6zG,gBAAgBjoF,KAAK5rB,KAAMF,KAE5CE,KAAK+qC,UAAUjrC,GAAGysB,kBAAmB,EACrCvsB,KAAK+qC,UAAUjrC,GAAG0sB,SAAS,IAAMxsB,KAAKilE,SAAW,YAAcnlE,GAC/Dg1C,YAAU90C,KAAK+qC,UAAUjrC,GAAG2rB,QAAQqoF,mBAAmBniF,cAAc,sBAA4B4O,GACjGliC,EAAQ+lB,oBAAMvZ,EAAO4hB,MAAMqe,iBAAmB,QAAUjgC,EAAO4hB,MAAMqe,gBACrEE,EAAQhrC,KAAK4jF,MAAMvlF,EAAMwlF,OAAO,IAAMxlF,EAAQ2B,KAAK8jF,gBAAgBzlF,GACnE2tB,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAMqe,gBAAkBE,EACzFhf,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAMye,WAAargC,EAAO4hB,MAAMye,WACjGlf,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAM0e,SAAWtgC,EAAO4hB,MAAM0e,SAC/FnrC,KAAK8qC,gBAAgBhrC,GAAK,GAAI8zG,gBAC1BxlF,SpCuBqB,wBoCvBc/vB,MAAO2sC,EAAO3B,KAAM,UACvDvY,OAAQ9wB,KAAK+zG,gBAAgBnoF,KAAK5rB,KAAMF,KAE5CE,KAAK8qC,gBAAgBhrC,GAAGysB,kBAAmB,EAC3CvsB,KAAK8qC,gBAAgBhrC,GAAG0sB,SAAS,IAAMxsB,KAAKilE,SAAW,kBAAoBnlE,GAC3Eg1C,YAAU90C,KAAK8qC,gBAAgBhrC,GAAG2rB,QAAQqoF,mBAAmBniF,cAAc,sBAAuB4O,EAClG,IAAIyzE,GAAY,GAAItf,WAChBz3C,QAAS1c,EAAW,wBACpBnS,SAAUu9E,GAEdqI,GAAUznF,kBAAmB,EAC7BynF,EAAUxnF,SAAS,IAAMxsB,KAAKilE,SAAW,eAAiBnlE,GAC1Dk0G,EAAUvoF,QAAQmpE,QAAU50F,KAAKi0G,kBAAkBroF,KAAK5rB,KAAMF,IAElEsxG,EAAsBhuG,UAAU2wG,gBAAkB,SAAUj0G,EAAG8qB,GAC3D5qB,KAAKyxG,UAAU3xG,GAAG2sB,MAAMqe,gBAAkBlgB,EAAKi9E,aAAaqM,IAC5DloF,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAMqe,gBACnElgB,EAAKi9E,aAAaqM,KAE1B9C,EAAsBhuG,UAAUywG,gBAAkB,SAAU/zG,EAAG8qB,GAC3D5qB,KAAKyxG,UAAU3xG,GAAG2sB,MAAMue,MAAQpgB,EAAKi9E,aAAaqM,IAClDloF,SAAS2F,cAAc,IAAM3xB,KAAKilE,SAAW,eAAiBnlE,GAAG2sB,MAAMue,MACnEpgB,EAAKi9E,aAAaqM,KAE1B9C,EAAsBhuG,UAAU6wG,kBAAoB,SAAUn0G,GAC1DE,KAAKyxG,UAAUrsG,OAAOtF,EAAG,GACzBE,KAAK6xG,aAOTT,EAAsBhuG,UAAUwgF,MAAQ,SAAUuwB,GAE9C,IADA,GAAIrsG,GAAI8E,SAASunG,EAAG,IACG,MAAhBA,EAAEC,OAAO,IACZD,EAAIA,EAAEtwB,OAAO,EAEjB,OAAQ/7E,GAAEI,SAAS,MAAQisG,EAAEvgG,eAAwB,IAAN9L,GAAiB,KAANqsG,GAO9D/C,EAAsBhuG,UAAU2uC,SAAW,SAAUmiE,GACjD,GAAI5wB,GAAS,4CAA4C+wB,KAAKH,EAC9D,OAAO5wB,IACHz7C,EAAGj7B,SAAS02E,EAAO,GAAI,IACvB51C,EAAG9gC,SAAS02E,EAAO,GAAI,IACvBv7E,EAAG6E,SAAS02E,EAAO,GAAI,KACvB,MAOR8tB,EAAsBhuG,UAAU0gF,gBAAkB,SAAUwwB,GACxD,GAAIC,IACAC,UAAa,UAAWC,aAAgB,UAAWC,KAAQ,UAAWC,WAAc,UACpFC,MAAS,UAAWC,MAAS,UAAWC,OAAU,UAAWC,MAAS,UACtEC,eAAkB,UAAWC,KAAQ,UACrCC,WAAc,UAAWC,MAAS,UAAWC,UAAa,UAAWC,UAAa,UAClFC,WAAc,UAAWC,UAAa,UACtCC,MAAS,UAAWC,eAAkB,UAAWC,SAAY,UAAWC,QAAW,UAAWC,KAAQ,UACtGC,SAAY,UAAWC,SAAY,UAAWC,cAAiB,UAAWC,SAAY,UAAWC,UAAa,UAC9GC,UAAa,UAAWC,YAAe,UAAWC,eAAkB,UACpEC,WAAc,UAAWC,WAAc,UAAWC,QAAW,UAAWC,WAAc,UAAWC,aAAgB,UACjHC,cAAiB,UAAWC,cAAiB,UAAWC,cAAiB,UACzEC,WAAc,UAAWC,SAAY,UAAWC,YAAe,UAAWC,QAAW,UAAWC,WAAc,UAC9GC,UAAa,UAAWC,YAAe,UAAWC,YAAe,UAAWC,QAAW,UACvFC,UAAa,UAAWC,WAAc,UAAWC,KAAQ,UAAWC,UAAa,UACjFC,KAAQ,UAAWC,MAAS,UAC5BC,YAAe,UAAWC,SAAY,UAAWC,QAAW,UAAWC,aAAc,UACrFC,OAAU,UAAWC,MAAS,UAC9BC,MAAS,UAAWC,SAAY,UAAWC,cAAiB,UAAWC,UAAa,UAAWC,aAAgB,UAC/GC,UAAa,UAAWC,WAAc,UAAWC,UAAa,UAAWC,qBAAwB,UACjGC,UAAa,UAAWC,WAAc,UAAWC,UAAa,UAAWC,YAAe,UAAWC,cAAiB,UACpHC,aAAgB,UAAWC,eAAkB,UAAWC,eAAkB,UAC1EC,YAAe,UAAWC,KAAQ,UAAWC,UAAa,UAAWC,MAAS,UAC9EC,QAAW,UAAWC,OAAU,UAAWC,iBAAoB,UAAWC,WAAc,UAAWC,aAAgB,UACnHC,aAAgB,UAAWC,eAAkB,UAAWC,gBAAmB,UAC3EC,kBAAqB,UAAWC,gBAAmB,UAAWC,gBAAmB,UAAWC,aAAgB,UAC5GC,UAAa,UAAWC,UAAa,UAAWC,SAAY,UAAWC,YAAe,UAAWC,KAAQ,UACzGC,QAAW,UAAWC,MAAS,UAAWC,UAAa,UAAWC,OAAU,UAAWC,UAAa,UACpGC,OAAU,UACVC,cAAiB,UAAWC,UAAa,UAAWC,cAAiB,UAAWC,cAAiB,UACjGC,WAAc,UACdC,UAAa,UAAWC,KAAQ,UAAWC,KAAQ,UAAWC,KAAQ,UAAWC,WAAc,UAAWC,OAAU,UACpHC,cAAiB,UAAWC,IAAO,UAAWC,UAAa,UAAWC,UAAa,UACnFC,YAAe,UAAWC,OAAU,UAAWC,WAAc,UAAWC,SAAY,UACpFC,SAAY,UAAWC,OAAU,UACjCC,OAAU,UAAWC,QAAW,UAAWC,UAAa,UAAWC,UAAa,UAAWC,KAAQ,UACnGC,YAAe,UACfC,UAAa,UAAWC,IAAO,UAAWC,KAAQ,UAAWC,QAAW,UAAWC,OAAU,UAAWC,UAAa,UACrHC,OAAU,UAAWC,MAAS,UAAWC,MAAS,UAAWC,WAAc,UAAWC,OAAU,UAChGC,YAAe,UAEnB,YAA6C,KAAlC7I,EAAQD,EAAO1gG,eACf2gG,EAAQD,EAAO1gG,eAEnB,WAMXw9F,EAAsBhuG,UAAUi6G,gCAAkC,WAC9Dr9G,KAAKyxG,YACL,KAAK,GAAI3xG,GAAI,EAAGA,EAAIE,KAAK0qB,OAAOwE,mBAAmBs0D,0BAA0BrkF,OAAQW,IACjFE,KAAKyxG,UAAU/xG,KAAKyM,YAAWnM,KAAK0qB,OAAOwE,mBAAmBs0D,0BAA0B1jF,GAAGmM,WAAY,MAAM,GAEjHjM,MAAKmoG,eACLnoG,KAAKylG,OAAOv0E,UACZlxB,KAAK6xG,aAOTT,EAAsBhuG,UAAUiwB,QAAU,WACtC,GAAIrzB,KAAKylG,SAAWzlG,KAAKylG,OAAOryE,YAAhC,CACIpzB,KAAKylG,OAAOn3E,MACZ,KAAK,GAAIxuB,GAAI,EAAGA,EAAIE,KAAKyxG,UAAUtyG,OAAQW,IACnCE,KAAK+qC,UAAUjrC,KAAOE,KAAK+qC,UAAUjrC,GAAGszB,aACxCpzB,KAAK+qC,UAAUjrC,GAAGuzB,UAElBrzB,KAAK8qC,gBAAgBhrC,KAAOE,KAAK8qC,gBAAgBhrC,GAAGszB,aACpDpzB,KAAK8qC,gBAAgBhrC,GAAGuzB,SAGhCrzB,MAAKylG,OAAOpyE,YAMb+9E,ICvhBXplC,IAAUtuC,OAAO4vE,GAKjB,IAAItxD,IAAyB,WACzB,QAASA,GAAQtxB,GACb1qB,KAAKs9G,cAAgB,GACrBt9G,KAAK0qB,OAASA,EACd1qB,KAAK0qB,OAAOkyD,cAAgB58E,KAC5BA,KAAK0kF,mBAs9BT,MA/8BA1oC,GAAQ54C,UAAUgvB,cAAgB,WAC9B,MAAO,WAEX4pB,EAAQ54C,UAAUm6G,cAAgB,WAC9Bv9G,KAAK0qB,OAAOsiD,YAAa,EACzBhtE,KAAKw9G,eAC0E,OAA3ExxF,SAAS2F,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBACtDulB,SAAOtH,SAAS2F,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAEjE,IAAI0d,GAAUW,gBAAc,OACxBre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC7Bif,UrC6ec,mBqC3edhtB,MAAK0qB,OAAOsqB,eAAiBh1C,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAC9F/N,KAAK0qB,OAAOe,QAAQ8X,aAAa9X,EAASzrB,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,oBAEtG/N,KAAK0qB,OAAOyJ,iBACjBn0B,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,0BACjE/N,KAAK0qB,OAAOe,QAAQ8X,aAAa9X,EAASzrB,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,2BAG3G/N,KAAK0qB,OAAOe,QAAQ8X,aAAa9X,EAASzrB,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,UAE/G/N,KAAKm8C,QAAU,GAAIshE,YACfC,QAAS19G,KAAKunC,OAAO3b,KAAK5rB,MAC1BorB,UAAWprB,KAAK0qB,OAAOU,UACvBnZ,MAAOjS,KAAK29G,aAEhB39G,KAAKm8C,QAAQ5vB,kBAAmB,EAChCvsB,KAAKm8C,QAAQ3vB,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBACrD/N,KAAKm8C,QAAQvuB,MAAQ5tB,KAAK0qB,OAAOsK,KAAQh1B,KAAK0qB,OAAOu4B,uBAAyB,EAAMjjD,KAAK0qB,OAAO2wD,mBAAqB,EACjHr7E,KAAK0qB,OAAOy0B,QACZn/C,KAAK0qB,OAAOy0B,MAAMvxB,MAAQ5tB,KAAK0qB,OAAOsK,KAAOh1B,KAAK0qB,OAAOu4B,uBAAuB/6C,WAC5ElI,KAAK0qB,OAAO2wD,mBAAmBnzE,aAG3C8zC,EAAQ54C,UAAUw6G,aAAe,WAC7B,GAAIC,IAAY5oC,cAEhB,OADAj1E,MAAK0qB,OAAOkP,QtCEK,csCFuBikF,GACjCA,GAGX7hE,EAAQ54C,UAAUu6G,SAAW,WAGzB,IAAK,GAFDxhE,GAAUn8C,KAAK0qB,OAAOyxB,QAAQ1uC,OAAO,SAAUqwG,EAAGh+G,EAAGgI,GAAK,MAAOA,GAAE5C,QAAQ44G,KAAOh+G,IAClFmS,KACKhT,EAAK,EAAG8+G,EAAY5hE,EAASl9C,EAAK8+G,EAAU5+G,OAAQF,IAEzD,OADW8+G,EAAU9+G,IAEjB,IAAK,MACDgT,EAAMvS,MACFs+G,WAAYC,gBAAqB19E,EAAU29E,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OAC1FglB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAO+N,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAErE,MACJ,KAAK,OACDkE,EAAMvS,MACFs+G,WAAYI,iBAAsB79E,EAAU29E,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QAC3FglB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAO+N,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,QAErE,MACJ,KAAK,SACDkE,EAAMvS,MACFs+G,WAAYK,mBAAwB99E,EAAU29E,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC7FglB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAO+N,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,UAErE,MACJ,KAAK,SACDkE,EAAMvS,MACFs+G,WAAYM,mBAAwB/9E,EAAU29E,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC7FglB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAO+N,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,UAErE,MACJ,KAAK,SACDkE,EAAMvS,MACFs+G,WAAYO,mBAAwBh+E,EAAU29E,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAC7FglB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAO+N,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,UAErE,MACJ,KAAK,OACDkE,EAAMvS,MACFytC,SAAU,sCAAgDntC,KAAK0qB,OAAOe,QAAQ1d,GAAK,6BACnFkgB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAC7B+N,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,QAEjC,MACJ,KAAK,OACD,GAAIywG,GAA+C,UAAnCx+G,KAAK0qB,OAAOo4B,cAActmB,IAC1CvqB,GAAMvS,MACFs+G,WAAYS,kBAAyBl+E,EAAU29E,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QAC9F8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAQqgB,SAAUowF,ErC6Q7C,aqC7Q4E,GAC9EvwF,MAAOjuB,KAAK0+G,cAAc9yF,KAAK5rB,OAEnC,MACJ,KAAK,QACDiS,EAAMvS,MACFytC,SAAU,WAAantC,KAAK0qB,OAAOe,QAAQ1d,GAAK,oBAChDA,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAEjC,MACJ,KAAK,MAC2B,QAAxB/N,KAAK0qB,OAAO4J,UACZriB,EAAMvS,MACFs+G,WAAYW,SAAqBp+E,EAAUxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,WACxEkgB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAOk+G,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAG3F,MACJ,KAAK,SACDgJ,EAAMvS,MACFytC,SAAU,WAAantC,KAAK0qB,OAAOe,QAAQ1d,GAAK,qBAChDA,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,cAEjC,MACJ,KAAK,WACDkE,EAAMvS,MACFytC,SAAU,WAAantC,KAAK0qB,OAAOe,QAAQ1d,GAAK,uBAChDA,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAEjC,MACJ,KAAK,aACDkE,EAAMvS,MACFytC,SAAU,WAAantC,KAAK0qB,OAAOe,QAAQ1d,GAAK,yBAChDA,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAEjC,MACJ,KAAK,wBACDkE,EAAMvS,MACFs+G,WAAYY,wBAA4Br+E,EAAUxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAC/EkgB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAOk+G,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,sBAEvF,MACJ,KAAK,mBACDgJ,EAAMvS,MACFs+G,WAAYa,0BAA+Bt+E,EAAUxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAClFkgB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAOk+G,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAEvF,MACJ,KAAK,aACDgJ,EAAMvS,MACFytC,SAAU,WAAantC,KAAK0qB,OAAOe,QAAQ1d,GAAK,yBAChDA,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAEjC,MACJ,KAAK,YACDkE,EAAMvS,MACFs+G,WAAYc,uBAA8Bv+E,EAAU29E,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aACnGglB,MAAOjuB,KAAKm+G,YAAYvyF,KAAK5rB,MAAO++G,MAAO,QAAShxG,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,cAEjF/N,KAAK0qB,OAAOe,QAAQkG,cAAc,0BAClC3xB,KAAK0qB,OAAOe,QAAQkG,cAAc,wBAAwBlF,MAAME,QAAU,QAKtF3sB,KAAK0qB,OAAOsqB,gBAAmD,IAAlCmH,EAAQj3C,QAAQ,cAA6H,SAAtGlF,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAAmB0e,MAAME,UAC9J3sB,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAAmB0e,MAAME,QAAU,QAExG,IAAIqyF,IAAgBC,cAAehtG,EAEnC,OADAjS,MAAK0qB,OAAOkP,QtC5GO,gBsC4GuBolF,GACnC/sG,GAGX+pC,EAAQ54C,UAAU87G,aAAe,SAAUt0F,GACvC5qB,KAAKm/G,SAAWv0F,EACZ5qB,KAAK0qB,OAAOsiD,YAAqC,KAAvBhtE,KAAKs9G,cAC/Bt9G,KAAKonG,oBAAoBpnG,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,qBAGvGjJ,KAAKo/G,WAAWx0F,IAGxBoxB,EAAQ54C,UAAUg8G,WAAa,SAAUx0F,GACrC,GAAIkC,GAAQ9sB,IACZ,IAAoB,SAAhBA,KAAK2a,QAAqC,WAAhB3a,KAAK2a,QAAuC,QAAhB3a,KAAK2a,OAAkB,CAC7E,GAAI+gE,IACAzG,WAAYrqD,EAAKy0F,SAAShhH,MAE9B2B,MAAK0qB,OAAOkP,QtCvIA,asCuI2B8hD,EAAU,SAAUh4C,GACvD5W,EAAMwwF,cAAgB55E,EAAauxC,WACnCnoD,EAAMpC,OAAOsiD,YAAa,MAItChxB,EAAQ54C,UAAUk8G,WAAa,SAAU10F,GACrC,GAAI5qB,KAAKs9G,eAAwC,KAAvBt9G,KAAKs9G,eAAwB1yF,EAAKxrB,KAAK2O,KAAQ/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAS,CACvG,GAAIwxG,IACA16G,OAAQ7E,KAAK0qB,OAAOg3B,iBACpBuzB,WAAYj1E,KAAKs9G,cAErBt9G,MAAK0qB,OAAOkP,QtCvJA,asCuJ2B2lF,GACvCv/G,KAAK0qB,OAAOsiD,YAAa,MAGzBhtE,MAAKw/G,WAAW50F,EAAM,WAG9BoxB,EAAQ54C,UAAUq8G,eAAiB,SAAU70F,GACnC5qB,KAAK0/G,YAAc1/G,KAAK0/G,UAAUtsF,aACpCpzB,KAAK2/G,iBAET,IAAIjX,GAAWt8E,gBAAc,OACzBY,UrC+VW,gBqC7VX4yF,EAAWxzF,gBAAc,YACzBY,UrC8VmB,sBqC7VnBd,UAAWlsB,KAAK0qB,OAAO6J,iBAAiBm3C,YAAY1rE,KAAK0qB,OAAOwE,oBAAoB4qB,OACpF7sB,OAAS25E,SAAY,aAEzB8B,GAASr8E,YAAYuzF,GACrB5/G,KAAK0/G,UAAUnyF,QAAUm7E,EACzB1oG,KAAK0/G,UAAUloB,QAEnBx7C,EAAQ54C,UAAUo8G,WAAa,SAAU50F,EAAMjQ,GAC3C3a,KAAKylG,OAAO3pF,OAAS8O,EAAKxrB,KAAK8+G,WAC/B,IAAIxV,GAAWt8E,gBAAc,OACzBY,UrCuSmB,mBqCrSnBwjD,EAAQpkD,gBAAc,OACtBY,UrCgSmB,2BqC/RnBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAE7CuiG,EAAQp/E,gBAAc,SACtBY,UAAW6yF,4BAA8BlN,EACzCzmF,UAAYvR,GAAqB,WAAXA,EAAsB3a,KAAKs9G,cAAgB,GACjErwF,OACIsE,YAAevxB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBACjD5K,MAAUsc,GAAqB,WAAXA,EAAsB3a,KAAKs9G,cAAgB,KAGvE9R,GAAMtD,kBAAkBsD,EAAMv7E,YAAY9wB,OAAQqsG,EAAMv7E,YAAY9wB,QACpEupG,EAASr8E,YAAYmkD,GACrBk4B,EAASr8E,YAAYm/E,GACrBxrG,KAAKylG,OAAOl4E,QAAUm7E,EACtB1oG,KAAKylG,OAAOv0E,UACZlxB,KAAKylG,OAAOjO,QAEhBx7C,EAAQ54C,UAAU08G,aAAe,SAAUl1F,GAEvC,GADA5qB,KAAK0qB,OAAOkP,QtCzLM,esCyLuBhP,IACrC5qB,KAAKs9G,eAAwC,KAAvBt9G,KAAKs9G,cAK3B,WADAt9G,MAAK0qB,OAAOwI,YAAYirB,YAAYC,kBAAkBp+C,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAHpIjJ,MAAKw/G,WAAW50F,EAAM,WAO9BoxB,EAAQ54C,UAAU+6G,YAAc,SAAUvzF,GACtC,OAAQA,EAAKxrB,KAAK2O,IACd,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,OAC/B,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,SAC3B/N,KAAKs/G,WAAW10F,EAChB,MACJ,KAAM5qB,MAAK0qB,OAAOe,QAAQ1d,GAAK,SAQ3B,MAPA/N,MAAK2a,OAAS,cACV3a,KAAKs9G,eAAwC,KAAvBt9G,KAAKs9G,cAC3Bt9G,KAAKonG,oBAAoBpnG,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,kBAGvGjJ,KAAK0qB,OAAOwI,YAAYirB,YAAYC,kBAAkBp+C,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAG5I,KAAMjJ,MAAK0qB,OAAOe,QAAQ1d,GAAK,SAC3B/N,KAAK8/G,aAAal1F,EAClB,MACJ,KAAM5qB,MAAK0qB,OAAOe,QAAQ1d,GAAK,MAC3B/N,KAAK2a,OAAS,MACV3a,KAAK0qB,OAAOsiD,WACZhtE,KAAKonG,oBAAoBpnG,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,qBAGvGjJ,KAAK+/G,iBAET,MACJ,KAAM//G,MAAK0qB,OAAOe,QAAQ1d,GAAK,OAC3B/N,KAAK2a,OAAS,MACd,MACJ,KAAM3a,MAAK0qB,OAAOe,QAAQ1d,GAAK,YACvB/N,KAAK0qB,OAAOsyD,sBAAwBh9E,KAAK0qB,OAAOsyD,qBAAqB8N,gBACrE9qF,KAAK0qB,OAAOsyD,qBAAqB8N,eAAeC,gBAAgByM,MAEpE,MACJ,KAAMx3F,MAAK0qB,OAAOe,QAAQ1d,GAAK,aACvB/N,KAAK0qB,OAAOonB,6BACZ9xC,KAAK0qB,OAAOonB,4BAA4BurE,iCAE5C,MACJ,KAAMr9G,MAAK0qB,OAAOe,QAAQ1d,GAAK,WAC3B/N,KAAKy/G,eAAe70F,EACpB,MACJ,KAAM5qB,MAAK0qB,OAAOe,QAAQ1d,GAAK,mBACvB/N,KAAK0qB,OAAOk6D,wBACZ5kF,KAAK0qB,OAAOk6D,uBAAuBo7B,+BAKnDhkE,EAAQ54C,UAAUo6G,aAAe,WACkD,OAA3ExxF,SAAS2F,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBACtDulB,SAAOtH,SAAS2F,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAEjE/N,KAAK0qB,OAAOe,QAAQY,YAAYD,gBAAc,OAC1Cre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC7Bif,UrCkNoB,+BqChNxBhtB,KAAKylG,OAAS,GAAIt4E,WACdC,mBAAqBC,OAAQ,QAC7BC,eAAe,EACf5T,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UAEQC,MAAOjuB,KAAKigH,WAAWr0F,KAAK5rB,MAC5BmuB,aACIZ,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAC3ColB,WAAW,KAIfJ,MAAOjuB,KAAK4rG,eAAehgF,KAAK5rB,MAChCmuB,aACIZ,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAIvDwkB,SAAS,EACTC,SAAS,EACTC,eAAe,EACfvC,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ,OACRnB,OAAQ,QACR6B,eAAe,EACf1B,OAAQb,SAAS0vB,OAErB17C,KAAKylG,OAAOl5E,kBAAmB,EAC/BvsB,KAAKylG,OAAOj5E,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAExDiuC,EAAQ54C,UAAUu8G,gBAAkB,WAC4C,OAAxE3zF,SAAS2F,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eACtDulB,SAAOtH,SAAS2F,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAEjE/N,KAAK0qB,OAAOe,QAAQY,YAAYD,gBAAc,OAC1Cre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAC7Bif,UrCsNiB,4BqCpNrBhtB,KAAK0/G,UAAY,GAAIvyF,WACjBC,mBAAqBC,OAAQ,QAC7BC,eAAe,EACf5T,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UAEQC,MAAOjuB,KAAKkgH,aAAat0F,KAAK5rB,MAC9BmuB,aACIZ,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QAC3ColB,WAAW,KAIvBvS,OAAQ9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAC1CwkB,SAAS,EACTC,SAAS,EACTC,eAAe,EACfvC,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ,OACRnB,OAAQ,QACR6B,eAAe,EACf1B,OAAQb,SAAS0vB,OAErB17C,KAAK0/G,UAAUnzF,kBAAmB,EAClCvsB,KAAK0/G,UAAUlzF,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAE3DiuC,EAAQ54C,UAAU88G,aAAe,WAC7B,GAAIC,GAAWngH,KAAK0/G,UAAUj0F,QAAQkG,cAAc,uBACpD,KACIwuF,EAASt0F,SACTG,SAASo0F,YAAY,QAEzB,MAAOC,GACH5jF,OAAO0yC,MAAM,0BAIrBnzB,EAAQ54C,UAAU68G,WAAa,WAC3B,GAAIK,GAActgH,KAAKylG,OAAOh6E,QAAQkG,cAAc,4BACpD,IAAI2uF,GAAqC,KAAtBA,EAAYjiH,MAE3B,WADAiiH,GAAY1rE,OAGhB,IAAI2rE,IAAQ,CACZ,IAAKvgH,KAAKylG,OAAO3pF,SAAW9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAC1DjJ,KAAKylG,OAAO3pF,SAAW9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YACzDq3G,EAAYjiH,OAA+B,KAAtBiiH,EAAYjiH,OAehC,GAAI2B,KAAKylG,OAAO3pF,SAAW9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAAaq3G,EAAYjiH,OAA+B,KAAtBiiH,EAAYjiH,MAAc,CAC1H2B,KAAK2a,OAAS,QACd,IAAI6lG,IACAvrC,WAAYj1E,KAAKs9G,cACjB1oC,OAAQ0rC,EAAYjiH,MAExB2B,MAAK0qB,OAAOkP,QtChXE,esCgX2B4mF,GACzCxgH,KAAKs9G,cAAgBgD,EAAYjiH,WAtBc,CAC3B,QAAhB2B,KAAK2a,OACL4lG,GAAQ,EAGRvgH,KAAK2a,OAAS,OAElB3a,KAAKs9G,cAAgBgD,EAAYjiH,KACjC,IAAIkhH,IACA16G,OAAQ7E,KAAK0qB,OAAOg3B,iBACpBuzB,WAAYqrC,EAAYjiH,MAE5B2B,MAAK0qB,OAAOkP,QtC7WA,asC6W2B2lF,GACvCv/G,KAAK0qB,OAAOsiD,YAAa,EAW7BhtE,KAAKygH,mBACLzgH,KAAKylG,OAAOn3E,OACRiyF,GACAvgH,KAAK+/G,mBAGb/jE,EAAQ54C,UAAU28G,gBAAkB,WAChC//G,KAAKs9G,cAAgB,GACrBt9G,KAAKg2E,WAAW33E,MAAQ,GACxB2B,KAAKg2E,WAAW5sD,KAAO,GACvBppB,KAAKg2E,WAAW9kD,UAChBlxB,KAAK0qB,OAAOkP,QtC1XG,asC2Xf55B,KAAK0qB,OAAOsiD,YAAa,GAE7BhxB,EAAQ54C,UAAUwoG,eAAiB,WAC/B5rG,KAAKylG,OAAOn3E,QAEhB0tB,EAAQ54C,UAAUgkG,oBAAsB,SAAU5mE,EAAOylB,GACjDj6B,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBACjDulB,SAAOtH,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAAkB8c,cAE9E,IAAIszB,GAAc/xB,gBAAc,OAC5Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAC7Bif,UrC5UoB,wBqC8UxBhtB,MAAK0qB,OAAOe,QAAQY,YAAY8xB,GAChCn+C,KAAKkmG,aAAe,GAAI/4E,WACpBC,mBAAqBC,OAAQ,QAC7BC,eAAe,EACfK,eAAe,EACfvC,UAAWprB,KAAK0qB,OAAOU,UACvBtP,OAAQ0kB,EACRjT,QAAS04B,EACTx4B,SAAS,EACTC,SAAS,EACTa,eAAe,EACf1B,OAAQb,SAAS0vB,KACjB9tB,MAAO,OACPC,OAAQ,OACRnU,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UAEQG,aACIZ,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,MAAOolB,WAAW,EAC7DD,SrCrWK,YqCuWTH,MAAOjuB,KAAK0gH,cAAc90F,KAAK5rB,QAG/BmuB,aACIZ,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC3CmlB,SrC1WS,gBqC4WbH,MAAOjuB,KAAKi1F,kBAAkBrpE,KAAK5rB,UAI/CA,KAAKkmG,aAAa35E,kBAAmB,EACrCvsB,KAAKkmG,aAAa15E,SAAS2xB,GAC3Bn+C,KAAKkmG,aAAaz6E,QAAQkG,cAAc,iBAAiBzF,UAAYsU,GAEzEwb,EAAQ54C,UAAUs9G,cAAgB,WAC9B,GAAoB,WAAhB1gH,KAAK2a,OAAqB,CAC1B,GAAIgmG,IACA1rC,WAAYj1E,KAAKs9G,cAErBt9G,MAAK0qB,OAAOkP,QtCnbE,esCmb2B+mF,GACzC3gH,KAAKs9G,cAAgB,GACrBt9G,KAAK0qB,OAAOsiD,YAAa,EACzBhtE,KAAK2a,OAAS,GACd3a,KAAKygH,uBAEJ,IAAoB,QAAhBzgH,KAAK2a,QAAqC,SAAhB3a,KAAK2a,QAAqC,WAAhB3a,KAAK2a,QAAuC,QAAhB3a,KAAK2a,OAC1F,GAAI3a,KAAKs9G,eAAwC,KAAvBt9G,KAAKs9G,cAAsB,CACjD,GAAIiC,IACA16G,OAAQ7E,KAAK0qB,OAAOg3B,iBACpBuzB,WAAYj1E,KAAKs9G,cAErBt9G,MAAK0qB,OAAOkP,QtCvcJ,asCuc+B2lF,GACvCv/G,KAAK0qB,OAAOsiD,YAAa,EACL,QAAhBhtE,KAAK2a,OACL3a,KAAK+/G,kBAGL//G,KAAKo/G,WAAWp/G,KAAKm/G,cAIzBn/G,MAAKw/G,YAAapgH,MAAQ8+G,YAAal+G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAGjFjJ,MAAKkmG,aAAa53E,QAEtB0tB,EAAQ54C,UAAU6xF,kBAAoB,WACd,QAAhBj1F,KAAK2a,OACL3a,KAAK+/G,kBAEA//G,KAAKm/G,UAA4B,WAAhBn/G,KAAK2a,QAC3B3a,KAAKo/G,WAAWp/G,KAAKm/G,UAEzBn/G,KAAKkmG,aAAa53E,QAGtB0tB,EAAQ54C,UAAUmkC,OAAS,WACvB,GAAIi3E,GAA+C,UAAnCx+G,KAAK0qB,OAAOo4B,cAActmB,IAC1C,IAAIx8B,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,cAAe,CAC5EyjB,IACIyrB,QAAS2jE,mBAA0BrgF,EACnCtuB,MAAOusG,OAECp1F,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,YAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,SAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,UAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,UAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,YAI7C/N,MAAK6gH,UAAY,GAAIv0F,SACjBra,MAAOuf,EAAMpG,UAAWprB,KAAK0qB,OAAOU,UACpCS,OAAQ7rB,KAAK0+G,cAAc9yF,KAAK5rB,QAEpCA,KAAK6gH,UAAUt0F,kBAAmB,EAClCvsB,KAAK6gH,UAAUr0F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,cAE3D,GAAI/N,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAAgB,CAC7EyjB,IACIyrB,QAAS6jE,YAAwBvgF,EACjCtuB,QAEQmX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OACxCg0C,QAASm9B,0BAA4B75C,EACrCxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,QAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SACxCg0C,QAASo9B,4BAA8B95C,EACvCxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,UAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OACxCg0C,QAASq9B,0BAA4B/5C,EACrCxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,QAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OACxCg0C,QAAS8jE,0BAA4BxgF,EACrCxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,QAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QACxCg0C,QAAS+jE,2BAA6BzgF,EACtCxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,SAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,OACxCg0C,QAASgkE,0BAA4B1gF,EACrCxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,SAI7C/N,MAAKkhH,WAAa,GAAI50F,SAClBra,MAAOuf,EAAMpG,UAAWprB,KAAK0qB,OAAOU,UACpCS,OAAQ7rB,KAAK0+G,cAAc9yF,KAAK5rB,MAAO0rB,WAAY1rB,KAAKmhH,iBAAiBv1F,KAAK5rB,QAElFA,KAAKkhH,WAAW30F,kBAAmB,EACnCvsB,KAAKkhH,WAAW10F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAE5D,GAAI/N,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAAkB,CAC/EyjB,IACIyrB,QAASmkE,eAA2B7gF,EACpCtuB,QAEQmX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,WAC7BkvC,QAASokE,EAAwB,IAAM9gF,IAGvCnX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,sBACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,cAC7BkvC,QAASokE,EAAwB,IAAM9gF,IAGvCnX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,yBACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,cAC7BkvC,QAASokE,EAAwB,IAAM9gF,IAGvCnX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,4BACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAC7BkvC,QAASokE,EAAwB,IAAM9gF,KAIvDvgC,MAAKshH,aAAe,GAAIh1F,SACpBra,MAAOuf,EAAMpG,UAAWprB,KAAK0qB,OAAOU,UACpCS,OAAQ7rB,KAAK0+G,cAAc9yF,KAAK5rB,MAAO0rB,WAAY1rB,KAAKuhH,wBAAwB31F,KAAK5rB,QAEzFA,KAAKshH,aAAa/0F,kBAAmB,EACrCvsB,KAAKshH,aAAa90F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAE9D,GAAI/N,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAAoB,CACjFyjB,IACIyrB,QAASukE,iBAA6BjhF,EACtCtuB,QAEQmX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAC7BkvC,QAASokE,EAAwB,IAAM9gF,IAGvCnX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,wBACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC7BkvC,QAASokE,EAAwB,IAAM9gF,IAGvCnX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,2BACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC7BkvC,QAASokE,EAAwB,IAAM9gF,IAGvCnX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,8BACxC8E,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAC7BkvC,QAASokE,EAAwB,IAAM9gF,KAIvDvgC,MAAKyhH,eAAiB,GAAIn1F,SACtBra,MAAOuf,EAAMpG,UAAWprB,KAAK0qB,OAAOU,UACpCS,OAAQ7rB,KAAK0+G,cAAc9yF,KAAK5rB,MAAO0rB,WAAY1rB,KAAK0hH,0BAA0B91F,KAAK5rB,QAE3FA,KAAKyhH,eAAel1F,kBAAmB,EACvCvsB,KAAKyhH,eAAej1F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAEhE,GAAI/N,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAAoB,CACrF,GAAIyjB,KACIyrB,QAAS0kE,uBAA4BphF,EACrCtuB,QAEQmX,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBACxCg0C,QAAS2kE,8BAAmCrhF,EAC5CxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,yBAG7Bqb,KAAMppB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,wBACxCg0C,QAAS4kE,mCAAwCthF,EACjDxyB,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,+BAI7C/N,MAAK8hH,eAAiB,GAAIx1F,SACtBra,MAAOuf,EAAMpG,UAAWprB,KAAK0qB,OAAOU,UACpCS,OAAQ7rB,KAAK0+G,cAAc9yF,KAAK5rB,QAEpCA,KAAK8hH,eAAev1F,kBAAmB,EACvCvsB,KAAK8hH,eAAet1F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAEhE,GAAI/N,KAAK0qB,OAAOe,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAAgB,CACjF,GAAIwxG,IACA16G,OAAQ7E,KAAK0qB,OAAOg3B,iBACpBuzB,WAAYj1E,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAElDjJ,MAAKs9G,cAAgBt9G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBACvDjJ,KAAK0qB,OAAOkP,QtCjpBA,asCipB2B2lF,EACvC,IAAI1B,GAAU79G,KAAK49G,cACnB59G,MAAKg2E,WAAa,GAAInlD,iBAClBvtB,WAAYu6G,EAAQ5oC,WACpBrnD,MAAO,QACPylF,YAAa,QACb9hF,YAAoC,KAAvBvxB,KAAKs9G,cAAuBt9G,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAAgB,GAC3FmiB,UAAWprB,KAAK0qB,OAAOU,UACvBgD,SrCvLc,oBqCwLdvC,OAAQ7rB,KAAKk/G,aAAatzF,KAAK5rB,MAC/B3B,MAAO2B,KAAKs9G,gBAEhBt9G,KAAKg2E,WAAWzpD,kBAAmB,EACnCvsB,KAAKg2E,WAAWxpD,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAGhEiuC,EAAQ54C,UAAU+9G,iBAAmB,SAAUv2F,GACZ,SAA3B5qB,KAAK0qB,OAAO2Q,aACZzQ,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAOulB,SACjE1I,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,QAAQulB,SAClE1I,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAOulB,WAGjE1I,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,SAASulB,SACnE1I,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,OAAOulB,WAGzE0oB,EAAQ54C,UAAUm+G,wBAA0B,SAAU32F,GAC7CA,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAAoBszG,GAAuBzlF,UAAUC,SAASkmF,IACzHn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAAoBszG,GAAuBzlF,UAAUI,IAAI+lF,GAElHn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAAuBszG,GAAuBzlF,UAAUC,SAASkmF,IAC5Hn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAAuBszG,GAAuBzlF,UAAUI,IAAI+lF,GAErHn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAAuBszG,GAAuBzlF,UAAUC,SAASkmF,IAC5Hn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAAuBszG,GAAuBzlF,UAAUI,IAAI+lF,GAErHn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAA0BszG,GAAuBzlF,UAAUC,SAASkmF,IAC/Hn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAA0BszG,GAAuBzlF,UAAUI,IAAI+lF,GAEzH/hH,KAAK0qB,OAAOwE,mBAAmB9qB,eAAiBpE,KAAK0qB,OAAOwE,mBAAmB7qB,mBAAqBrE,KAAK0qB,OAAOwE,mBAAmB5qB,oBACnIsmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAAuBszG,GAAuBzlF,UAAUtI,OAAOyuF,GAEpH/hH,KAAK0qB,OAAOwE,mBAAmB9qB,gBAAkBpE,KAAK0qB,OAAOwE,mBAAmB7qB,kBAAoBrE,KAAK0qB,OAAOwE,mBAAmB5qB,oBACxIsmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAA0BszG,GAAuBzlF,UAAUtI,OAAOyuF,GAEvH/hH,KAAK0qB,OAAOwE,mBAAmB9qB,eAAiBpE,KAAK0qB,OAAOwE,mBAAmB7qB,kBAAoBrE,KAAK0qB,OAAOwE,mBAAmB5qB,oBACvIsmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,aAAoBszG,GAAuBzlF,UAAUtI,OAAOyuF,GAEhH/hH,KAAK0qB,OAAOwE,mBAAmB9qB,gBAAmBpE,KAAK0qB,OAAOwE,mBAAmB7qB,kBAAqBrE,KAAK0qB,OAAOwE,mBAAmB5qB,sBAC3IsmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAAuBszG,GAAuBzlF,UAAUtI,OAAOyuF,IAGjI/lE,EAAQ54C,UAAUs+G,0BAA4B,SAAU92F,GAC/CA,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAAsBszG,GAAuBzlF,UAAUC,SAASkmF,IAC3Hn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAAsBszG,GAAuBzlF,UAAUI,IAAI+lF,GAEpHn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAAyBszG,GAAuBzlF,UAAUC,SAASkmF,IAC9Hn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAAyBszG,GAAuBzlF,UAAUI,IAAI+lF,GAEvHn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAAyBszG,GAAuBzlF,UAAUC,SAASkmF,IAC9Hn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAAyBszG,GAAuBzlF,UAAUI,IAAI+lF,GAEvHn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,qBAA4BszG,GAAuBzlF,UAAUC,SAASkmF,IACjIn3F,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,qBAA4BszG,GAAuBzlF,UAAUI,IAAI+lF,GAE3H/hH,KAAK0qB,OAAOwE,mBAAmB3qB,iBAAmBvE,KAAK0qB,OAAOwE,mBAAmB1qB,qBAAuBxE,KAAK0qB,OAAOwE,mBAAmBzqB,sBACvImmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAAyBszG,GAAuBzlF,UAAUtI,OAAOyuF,GAEtH/hH,KAAK0qB,OAAOwE,mBAAmB3qB,kBAAoBvE,KAAK0qB,OAAOwE,mBAAmB1qB,oBAAsBxE,KAAK0qB,OAAOwE,mBAAmBzqB,sBAC5ImmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,qBAA4BszG,GAAuBzlF,UAAUtI,OAAOyuF,GAEzH/hH,KAAK0qB,OAAOwE,mBAAmB3qB,iBAAmBvE,KAAK0qB,OAAOwE,mBAAmB1qB,oBAAsBxE,KAAK0qB,OAAOwE,mBAAmBzqB,sBAC3ImmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAAsBszG,GAAuBzlF,UAAUtI,OAAOyuF,GAElH/hH,KAAK0qB,OAAOwE,mBAAmB3qB,kBAAqBvE,KAAK0qB,OAAOwE,mBAAmB1qB,oBAAuBxE,KAAK0qB,OAAOwE,mBAAmBzqB,wBAC/ImmB,EAAKa,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBAAyBszG,GAAuBzlF,UAAUtI,OAAOyuF,IAGnI/lE,EAAQ54C,UAAUq9G,iBAAmB,WACjC,GAAI5C,GAAU79G,KAAK49G,cACnB59G,MAAKg2E,WAAW1yE,WAAau6G,EAAQ5oC,WACV,KAAvBj1E,KAAKs9G,eAAwBt9G,KAAKg2E,WAAW1yE,WAAWnE,OAAS,GACjEa,KAAKg2E,WAAW33E,MAAQ2B,KAAKg2E,WAAW1yE,WAAWtD,KAAKg2E,WAAW1yE,WAAWnE,OAAS,GACvFa,KAAKg2E,WAAW5sD,KAAOppB,KAAKg2E,WAAW1yE,WAAWtD,KAAKg2E,WAAW1yE,WAAWnE,OAAS,GACtFa,KAAKs9G,cAAgBt9G,KAAKg2E,WAAW1yE,WAAWtD,KAAKg2E,WAAW1yE,WAAWnE,OAAS,KAGpFa,KAAKg2E,WAAW33E,MAAQ2B,KAAKs9G,cAC7Bt9G,KAAKg2E,WAAW5sD,KAAOppB,KAAKs9G,eAEhCt9G,KAAKg2E,WAAW9kD,WAEpB8qB,EAAQ54C,UAAUs7G,cAAgB,SAAU9zF,GACxC,OAAQA,EAAKxrB,KAAK2O,IACd,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,OACvB/N,KAAK0qB,OAAOsK,MAAQh1B,KAAK0qB,OAAOy0B,QAChCn/C,KAAK0qB,OAAOsK,KAAKvJ,QAAQgB,MAAME,QAAU,GACzC3sB,KAAK0qB,OAAOy0B,MAAM1zB,QAAQgB,MAAME,QAAU,OAC1C3sB,KAAK0qB,OAAO2Q,YAAc,QACtBr7B,KAAK0qB,OAAOyJ,kBACZn0B,KAAK0qB,OAAOe,QAAQkG,cAAc,yBAAyBlF,MAAME,QAAU,GAC3E3sB,KAAK0qB,OAAOe,QAAQkG,cAAc,yBAAyBlF,MAAME,QAAU,QAE/E3sB,KAAK0qB,OAAO22D,gBAEhB,MACJ,KAAMrhF,MAAK0qB,OAAOe,QAAQ1d,GAAK,UAC/B,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,OAC/B,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,QAC/B,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,QAC/B,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,WAC/B,IAAM/N,MAAK0qB,OAAOe,QAAQ1d,GAAK,SACvB6c,EAAKxrB,MAAQwrB,EAAKxrB,KAAKgqB,OACvBppB,KAAK0qB,OAAOs0B,cAAcwC,YAAY75C,KAAOijB,EAAKxrB,KAAK2O,GAAGc,MAAM,KAAK+b,EAAKxrB,KAAK2O,GAAGc,MAAM,KAAK1P,OAAS,GAClGa,KAAK0qB,OAAOsK,MAAQh1B,KAAK0qB,OAAOy0B,QAChCn/C,KAAK0qB,OAAOsK,KAAKvJ,QAAQgB,MAAME,QAAU,OACzC3sB,KAAK0qB,OAAOy0B,MAAM1zB,QAAQgB,MAAME,QAAU,GAC1C3sB,KAAK0qB,OAAO2Q,YAAc,QACtBr7B,KAAK0qB,OAAOyJ,kBACZn0B,KAAK0qB,OAAOe,QAAQkG,cAAc,yBAAyBlF,MAAME,QAAU,OAC3E3sB,KAAK0qB,OAAOe,QAAQkG,cAAc,yBAAyBlF,MAAME,QAAU,KAIvF,MACJ,KAAM3sB,MAAK0qB,OAAOe,QAAQ1d,GAAK,MACI,SAA3B/N,KAAK0qB,OAAO2Q,YACRr7B,KAAK0qB,OAAO4zD,gBACZt+E,KAAK0qB,OAAO4zD,gBAAgB1uC,cAG5B5vC,KAAK0qB,OAAOsS,YAIhBh9B,KAAK0qB,OAAO6zD,YAAY,MAAO,SAEnC,MACJ,KAAMv+E,MAAK0qB,OAAOe,QAAQ1d,GAAK,QACvB/N,KAAK0qB,OAAOyzD,kBACZn+E,KAAK0qB,OAAOyzD,kBAAkB10C,cAAc,SAG5CzpC,KAAK0qB,OAAOuS,aAEhB,MACJ,KAAMj9B,MAAK0qB,OAAOe,QAAQ1d,GAAK,MACvB/N,KAAK0qB,OAAOyzD,kBACZn+E,KAAK0qB,OAAOyzD,kBAAkB10C,cAAc,OAG5CzpC,KAAK0qB,OAAOwS,WAEhB,MACJ,KAAMl9B,MAAK0qB,OAAOe,QAAQ1d,GAAK,MAC3B/N,KAAK0qB,OAAO6zD,YAAY,MAAO,SAC/B,MACJ,KAAMv+E,MAAK0qB,OAAOe,QAAQ1d,GAAK,OAC3B/N,KAAK0qB,OAAO6zD,YAAY,OAAQ,SAChC,MACJ,KAAMv+E,MAAK0qB,OAAOe,QAAQ1d,GAAK,MAC3B/N,KAAK0qB,OAAO6zD,YAAY,MAAO,SAC/B,MACJ,KAAMv+E,MAAK0qB,OAAOe,QAAQ1d,GAAK,cAC3B/N,KAAK0qB,OAAOwE,mBAAmB9qB,eAAgB,EAC/CpE,KAAK0qB,OAAOwE,mBAAmB5qB,qBAAsB,EACrDtE,KAAK0qB,OAAOwE,mBAAmB7qB,kBAAmB,CAClD,MACJ,KAAMrE,MAAK0qB,OAAOe,QAAQ1d,GAAK,cAC3B/N,KAAK0qB,OAAOwE,mBAAmB9qB,eAAgB,EAC/CpE,KAAK0qB,OAAOwE,mBAAmB5qB,qBAAsB,EACrDtE,KAAK0qB,OAAOwE,mBAAmB7qB,kBAAmB,CAClD,MACJ,KAAMrE,MAAK0qB,OAAOe,QAAQ1d,GAAK,iBAC3B/N,KAAK0qB,OAAOwE,mBAAmB9qB,eAAgB,EAC/CpE,KAAK0qB,OAAOwE,mBAAmB5qB,qBAAsB,EACrDtE,KAAK0qB,OAAOwE,mBAAmB7qB,kBAAmB,CAClD,MACJ,KAAMrE,MAAK0qB,OAAOe,QAAQ1d,GAAK,WAC3B/N,KAAK0qB,OAAOwE,mBAAmB9qB,eAAgB,EAC/CpE,KAAK0qB,OAAOwE,mBAAmB5qB,qBAAsB,EACrDtE,KAAK0qB,OAAOwE,mBAAmB7qB,kBAAmB,CAClD,MACJ,KAAMrE,MAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC3B/N,KAAK0qB,OAAOwE,mBAAmB3qB,iBAAkB,EACjDvE,KAAK0qB,OAAOwE,mBAAmBzqB,uBAAwB,EACvDzE,KAAK0qB,OAAOwE,mBAAmB1qB,oBAAqB,CACpD,MACJ,KAAMxE,MAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC3B/N,KAAK0qB,OAAOwE,mBAAmB3qB,iBAAkB,EACjDvE,KAAK0qB,OAAOwE,mBAAmBzqB,uBAAwB,EACvDzE,KAAK0qB,OAAOwE,mBAAmB1qB,oBAAqB,CACpD,MACJ,KAAMxE,MAAK0qB,OAAOe,QAAQ1d,GAAK,mBAC3B/N,KAAK0qB,OAAOwE,mBAAmB3qB,iBAAkB,EACjDvE,KAAK0qB,OAAOwE,mBAAmBzqB,uBAAwB,EACvDzE,KAAK0qB,OAAOwE,mBAAmB1qB,oBAAqB,CACpD,MACJ,KAAMxE,MAAK0qB,OAAOe,QAAQ1d,GAAK,aAC3B/N,KAAK0qB,OAAOwE,mBAAmB3qB,iBAAkB,EACjDvE,KAAK0qB,OAAOwE,mBAAmBzqB,uBAAwB,EACvDzE,KAAK0qB,OAAOwE,mBAAmB1qB,oBAAqB,CACpD,MACJ,KAAMxE,MAAK0qB,OAAOe,QAAQ1d,GAAK,uBACvB/N,KAAK0qB,OAAOk6D,wBACZ5kF,KAAK0qB,OAAOk6D,uBAAuBo7B,4BAEvC,MACJ,KAAMhgH,MAAK0qB,OAAOe,QAAQ1d,GAAK,4BACvB/N,KAAK0qB,OAAOonB,6BACZ9xC,KAAK0qB,OAAOonB,4BAA4BurE,oCAQxDrhE,EAAQ54C,UAAUshF,iBAAmB,WAC7B1kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAOiL,GtCnzBK,esCmzBkB31B,KAAKu9G,cAAev9G,OAO3Dg8C,EAAQ54C,UAAUy5E,eAAiB,WAC/B78E,KAAKu9G,iBAKTvhE,EAAQ54C,UAAUuhF,oBAAsB,WAChC3kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAO8vB,ItCp0BK,esCo0BmBx6C,KAAKu9G,gBAO7CvhE,EAAQ54C,UAAUiwB,QAAU,WACxBrzB,KAAK2kF,sBACD3kF,KAAKkmG,eAAiBlmG,KAAKkmG,aAAa9yE,aACxCpzB,KAAKkmG,aAAa7yE,UAElBrzB,KAAKylG,SAAWzlG,KAAKylG,OAAOryE,aAC5BpzB,KAAKylG,OAAOpyE,UAEZrzB,KAAK0/G,YAAc1/G,KAAK0/G,UAAUtsF,aAClCpzB,KAAK0/G,UAAUrsF,UAEfrzB,KAAK6gH,YAAc7gH,KAAK6gH,UAAUztF,aAClCpzB,KAAK6gH,UAAUxtF,UAEfrzB,KAAKkhH,aAAelhH,KAAKkhH,WAAW9tF,aACpCpzB,KAAKkhH,WAAW7tF,UAEhBrzB,KAAKshH,eAAiBthH,KAAKshH,aAAaluF,aACxCpzB,KAAKshH,aAAajuF,UAElBrzB,KAAKyhH,iBAAmBzhH,KAAKyhH,eAAeruF,aAC5CpzB,KAAKyhH,eAAepuF,UAEpBrzB,KAAK8hH,iBAAmB9hH,KAAK8hH,eAAe1uF,aAC5CpzB,KAAK8hH,eAAezuF,UAEpBrzB,KAAKg2E,aAAeh2E,KAAKg2E,WAAW5iD,aACpCpzB,KAAKg2E,WAAW3iD,UAEhBrzB,KAAKm8C,UAAYn8C,KAAKm8C,QAAQ/oB,aAC9BpzB,KAAKm8C,QAAQ9oB,WAGd2oB,ICj+BXgwB,IAAUtuC,OAAO4vE,GAIjB,IAAI0U,IAAkC,WAClC,QAASA,GAAiBt3F,GACtB1qB,KAAK0qB,OAASA,EACd1qB,KAAK0qB,OAAOk6D,uBAAyB5kF,KACrCA,KAAK2kF,sBACL3kF,KAAK0kF,mBA2VT,MArVAs9B,GAAiB5+G,UAAUgvB,cAAgB,WACvC,MAAO,oBAMX4vF,EAAiB5+G,UAAU48G,2BAA6B,WACpD,GAAIlzF,GAAQ9sB,KACR+sB,EAAcX,gBAAc,OAC5Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC7Bif,UtCwiBmB,yBsCtiBvBhtB,MAAK0qB,OAAOe,QAAQY,YAAYU,GAChC/sB,KAAKylG,OAAS,GAAIt4E,WACdC,mBAAqBC,OAAQ,QAC7BC,eAAe,EACfxR,OAAQ9b,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAC1CskB,QAASvtB,KAAKiiH,mBACdx0F,SAAS,EACTC,SAAS,EACTC,eAAe,EACfvC,UAAWprB,KAAK0qB,OAAOU,UACvBwC,MAAO,OACPC,OAAQ,OACRnU,UAAYoU,EAAG,SAAUC,EAAG,UAC5BC,UAEQC,MAAOjuB,KAAKkiH,iBAAiBt2F,KAAK5rB,MAClCmuB,aAAeC,StC4EN,WsC5EqCb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUolB,WAAW,KAG9GJ,MAAO,WAAcnB,EAAM24E,OAAOn3E,QAClCH,aAAeC,StC0EF,esC1EqCb,QAASvtB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAGrGslB,eAAe,EACf1B,OAAQ7sB,KAAK0qB,OAAOe,QACpB+C,aAAc,WAAc1B,EAAM2B,gBAClCC,MAAO1uB,KAAKyuB,aAAa7C,KAAK5rB,QAElCA,KAAKylG,OAAOl5E,kBAAmB,EAC/BvsB,KAAKylG,OAAOj5E,SAASO,GACrB/sB,KAAKylG,OAAOh6E,QAAQkG,cAAc,iBAAyBzF,UAAYlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBACzGjJ,KAAKmiH,kBAETH,EAAiB5+G,UAAU6+G,iBAAmB,WAC1C,GAAIG,GAAeh2F,gBAAc,OAC7Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,qBAC7Bif,UtCogByB,gCsClgBzBmlF,EAAQ/lF,gBAAc,SACtBre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAC7Bif,UtC4hBkB,uBsC3hBlB4T,OAAQ,gBAERwxE,EAAOhmF,gBAAc,MACrBi2F,EAASj2F,gBAAc,MACvBk2F,EAAal2F,gBAAc,OAC3Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,oBAC7Bif,UtC2fwB,6BsC1fxBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAE7Cs5G,EAAYn2F,gBAAc,OAC1Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,oBAEjCs0G,GAAOh2F,YAAYi2F,GACnBD,EAAOh2F,YAAYk2F,GACnBnQ,EAAK/lF,YAAYg2F,GACjBlQ,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrBi2F,EAASj2F,gBAAc,KACvB,IAAIo2F,GAAcp2F,gBAAc,OAC5Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAC7Bif,UtCifyB,uBsChfzBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAE7C09F,EAAav6E,gBAAc,OAC3Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAEjCs0G,GAAOh2F,YAAYm2F,GACnBH,EAAOh2F,YAAYs6E,GACnByL,EAAK/lF,YAAYg2F,GACjBlQ,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrBi2F,EAASj2F,gBAAc,KACvB,IAAIq2F,GAAgBr2F,gBAAc,OAC9Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAC7Bif,UtC+e2B,gCsC9e3Bd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAE7Cy5G,EAAet2F,gBAAc,OAC7Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAEjCs0G,GAAOh2F,YAAYo2F,GACnBJ,EAAOh2F,YAAYq2F,GACnBtQ,EAAK/lF,YAAYg2F,GACjBlQ,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrBi2F,EAASj2F,gBAAc,KACvB,IAAIu2F,GAAev2F,gBAAc,OAC7Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAC7Bif,UtCqe0B,+BsCpe1Bd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,mBAE7C25G,EAAcx2F,gBAAc,OAC5Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBA2BjC,OAzBAs0G,GAAOh2F,YAAYs2F,GACnBN,EAAOh2F,YAAYu2F,GACnBxQ,EAAK/lF,YAAYg2F,GACjBlQ,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrBi2F,EAASj2F,gBAAc,MACvBpsB,KAAK6iH,YAAcz2F,gBAAc,OAC7Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAC7Bif,UtC2cyB,8BsC1czBd,UAAWlsB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,wBAEjDjJ,KAAKwgB,WAAa4L,gBAAc,SAC5Bre,GAAI/N,KAAK0qB,OAAOe,QAAQ1d,GAAK,cAC7Bkf,OACItlB,KAAQ,OAAQwkF,SAAY,KAEhCn/D,UAAW2lF,EAAY,gCAE3B0P,EAAOh2F,YAAYrsB,KAAK6iH,aACxBR,EAAOh2F,YAAYrsB,KAAKwgB,YACxB4xF,EAAK/lF,YAAYg2F,GACjBlQ,EAAM9lF,YAAY+lF,GAClBA,EAAOhmF,gBAAc,MACrB+lF,EAAM9lF,YAAY+lF,GAClBgQ,EAAa/1F,YAAY8lF,GAClBiQ,GAEXJ,EAAiB5+G,UAAU++G,eAAiB,WACxC,GAAIniH,KAAKylG,OAAOh6E,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,oBAAqB,CACtF,GAAIyK,KACJA,GAAY9Y,MACRgM,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAAc+C,MAAOhM,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAE7G,KAAK,GAAInJ,GAAI,EAAGA,EAAIE,KAAK0qB,OAAOwE,mBAAmBxsB,OAAOvD,OAAQW,IAC9D0Y,EAAY9Y,MACRgM,MAAO5L,EAAI,EAAGqF,KAAMnF,KAAK0qB,OAAOwE,mBAAmBxsB,OAAO5C,GAAGsK,SAAWpK,KAAK0qB,OAAOwE,mBAAmBxsB,OAAO5C,GAAGqF,KACjH6G,MAAOhM,KAAK0qB,OAAOwE,mBAAmBxsB,OAAO5C,GAAGqF,MAGxDnF,MAAK8iH,eAAiB,GAAIjyF,iBACtBvtB,WAAYkV,EAAanZ,QAAU+pB,KAAM,OAAQ/qB,MAAO,SAAW+sB,UAAWprB,KAAK0qB,OAAOU,UAC1F1f,MAAO,EAAG0iB,StCoaS,4BsCpa4B0C,OAAQ9wB,KAAK+iH,YAAYn3F,KAAK5rB,MAAO4tB,MAAO,SAE/F5tB,KAAK8iH,eAAev2F,kBAAmB,EACvCvsB,KAAK8iH,eAAet2F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,oBAEhE,GAAI/N,KAAKylG,OAAOh6E,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAAgB,CAC7E1O,IACEqM,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAClDyC,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAClDyC,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,gBAClDyC,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAExDjJ,MAAKgjH,eAAiB,GAAInyF,iBACtBvtB,WAAYjE,EAAQA,QAAU+pB,KAAM,OAAQ/qB,MAAO,QACnDqN,MAAO,EAAGolB,OAAQ9wB,KAAKijH,eAAer3F,KAAK5rB,MAAOorB,UAAWprB,KAAK0qB,OAAOU,UACzEgD,StCyZoB,sBsCzZkBR,MAAO,SAEjD5tB,KAAKgjH,eAAez2F,kBAAmB,EACvCvsB,KAAKgjH,eAAex2F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,eAEhE,GAAI/N,KAAKylG,OAAOh6E,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAAkB,CAC/E1O,IACEqM,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAClDyC,MAAO,EAAGvG,KAAMnF,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAExDjJ,MAAKkjH,iBAAmB,GAAIryF,iBACxBvtB,WAAYjE,EAAQA,QAAU+pB,KAAM,OAAQ/qB,MAAO,QAAU+sB,UAAWprB,KAAK0qB,OAAOU,UACpF1f,MAAO,EAAG0iB,StCyZY,+BsCzZ4BR,MAAO,SAE7D5tB,KAAKkjH,iBAAiB32F,kBAAmB,EACzCvsB,KAAKkjH,iBAAiB12F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,iBAElE,GAAI/N,KAAKylG,OAAOh6E,QAAQkG,cAAc,IAAM3xB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAAiB,CAClF,GAAI1O,KACEqM,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,EAAGvG,KAAM,IAChBuG,MAAO,GAAIvG,KAAM,IAEvBnF,MAAKmjH,gBAAkB,GAAItyF,iBACvBvtB,WAAYjE,EAAQA,QAAU+pB,KAAM,OAAQ/qB,MAAO,QAAU+sB,UAAWprB,KAAK0qB,OAAOU,UACpF1f,MAAO,EAAG0iB,StCwYW,8BsCxY4BilF,YAAa,IAAKzlF,MAAO,SAE9E5tB,KAAKmjH,gBAAgB52F,kBAAmB,EACxCvsB,KAAKmjH,gBAAgB32F,SAAS,IAAMxsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,gBAE7D/N,KAAKgjH,eAAe3kH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAChEjJ,KAAKwgB,WAAWmrE,UAAW,IAGnCq2B,EAAiB5+G,UAAU2/G,YAAc,SAAUn4F,GAG/C,IAAK,GAFD/f,GAAS7K,KAAK0qB,OAAOwE,mBAAmB5pB,eACxC6hG,GAAU,EACLrnG,EAAI,EAAGA,EAAI+K,EAAO1L,OAAQW,IAC/B,GAAI+K,EAAO/K,GAAGqF,OAASylB,EAAKvsB,MAAO,CAC/B,GAAIgoC,GAAUx7B,EAAO/K,GAAG+K,OACpBu4G,EAAQ/8E,EAAQx3B,MAAM,IAAI,GAAG+E,aACV,KAAnByyB,EAAQlnC,SAAiB,IAAK,IAAK,KAAK+F,QAAQk+G,IAAU,GAC1DpjH,KAAKgjH,eAAe3kH,MAAkB,MAAV+kH,EAAgBpjH,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAAsB,MAAVm6G,EACtFpjH,KAAK0qB,OAAO5mB,UAAUmF,YAAY,cAA0B,MAAVm6G,EAAgBpjH,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YACpGjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UACtCjJ,KAAKmjH,gBAAgB9kH,MAAQ0iB,OAAOslB,EAAQx3B,MAAM,IAAI,IACtD7O,KAAKkjH,iBAAiB7kH,MAAQwM,EAAO/K,GAAGopB,YAAclpB,KAAK0qB,OAAO5mB,UAAUmF,YAAY,QACpFjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAGtCjJ,KAAKgjH,eAAe3kH,MAAQ2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC9DjJ,KAAKwgB,WAAWniB,MAAQgoC,GAE5B8gE,GAAU,CACV,OAGHA,IACDnnG,KAAKgjH,eAAe3kH,MAAQ2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAC9DjJ,KAAKmjH,gBAAgB9kH,MAAQ,EAC7B2B,KAAKkjH,iBAAiB7kH,MAAQ2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAGxE+4G,EAAiB5+G,UAAU6/G,eAAiB,SAAUr4F,GAC9CA,EAAKvsB,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WACjDjJ,KAAKwgB,WAAWmrE,UAAW,EAC3B3rF,KAAKkjH,iBAAiBlyF,SAAU,EAChChxB,KAAKmjH,gBAAgBnyF,SAAU,IAG/BhxB,KAAKwgB,WAAWmrE,UAAW,EAC3B3rF,KAAKkjH,iBAAiBlyF,SAAU,EAChChxB,KAAKmjH,gBAAgBnyF,SAAU,IAGvCgxF,EAAiB5+G,UAAUqrB,aAAe,WAClCzuB,KAAKylG,SAAWzlG,KAAKylG,OAAOryE,aAC5BpzB,KAAKylG,OAAOpyE,UAEZrH,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,kBACjDulB,SAAOtH,SAASC,eAAejsB,KAAK0qB,OAAOe,QAAQ1d,GAAK,mBAGhEi0G,EAAiB5+G,UAAU8+G,iBAAmB,WAC1C,GACI94F,GADA0D,EAAQ9sB,IAERA,MAAKgjH,eAAe3kH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,WAChEjJ,KAAKgjH,eAAe3kH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,eAChEjJ,KAAKgjH,eAAe3kH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAChEmgB,EAAOppB,KAAKgjH,eAAe3kH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,UAAY,IAC/EjJ,KAAKgjH,eAAe3kH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,YAAc,IAAM,IACxFmgB,GAAQppB,KAAKmjH,gBAAgB9kH,OAG7B+qB,EAAOppB,KAAKwgB,WAAWniB,KAE3B,IAAIwM,GAASsB,YAAWnM,KAAK0qB,OAAOwE,mBAAmB5pB,gBAAgB,EACvE,IAAItF,KAAK8iH,eAAezkH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,aAAc,CAC9E,GAAIo6G,GAAuC,SAAzBrjH,KAAK0qB,OAAO4J,SAC1Bt0B,KAAK0qB,OAAO6J,iBAAiBhnB,UAAYvN,KAAK0qB,OAAO2E,aAAa9hB,SACtEjO,QAAOC,KAAK8jH,GAAa9kF,QAAQ,SAAU90B,GACT,WAA1B45G,EAAY55G,GAAK9B,MACjBmlB,EAAMw2F,aAAa75G,EAAK2f,SAKhCppB,MAAKsjH,aAAatjH,KAAK8iH,eAAezkH,MAAM6J,WAAYkhB,EAE5D,KACIppB,KAAK0qB,OAAOuH,kBAAiB,GAC7BjyB,KAAKylG,OAAO/2E,QAEhB,MAAO8vB,GACHx+C,KAAK0qB,OAAO6H,eAAgBrD,oBAAsB5pB,eAAgBuF,KAAY,GAC9E7K,KAAK0qB,OAAOwI,YAAYirB,YAAYC,kBAAkBp+C,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAAUjJ,KAAK0qB,OAAO5mB,UAAUmF,YAAY,iBAAkBjJ,KAAKylG,OAAOh6E,SAClKstB,cAAY/4C,KAAK0qB,OAAOe,WAGhCu2F,EAAiB5+G,UAAUkgH,aAAe,SAAU77G,EAAW2hB,GAO3D,IAAK,GAND+9E,IAAU,EACVsK,GACAtsG,KAAMsC,EAAWoD,OAAQue,EACzBF,YAAalpB,KAAKkjH,iBAAiB7kH,QAAU2B,KAAK0qB,OAAO5mB,UAAUmF,YAAY,SAE/E4B,EAAS7K,KAAK0qB,OAAOwE,mBAAmB5pB,eACnCxF,EAAI,EAAGA,EAAI+K,EAAO1L,OAAQW,IAC3B+K,EAAO/K,GAAGqF,OAASsC,IACnBoD,EAAO/K,GAAK2xG,EACZtK,GAAU,EAGbA,IACDt8F,EAAOnL,KAAK+xG,IAQpBuQ,EAAiB5+G,UAAUshF,iBAAmB,WACtC1kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAOiL,GvCrNQ,kBuCqNkB31B,KAAKggH,2BAA4BhgH,OAO3EgiH,EAAiB5+G,UAAUuhF,oBAAsB,WACzC3kF,KAAK0qB,OAAO0I,aAGhBpzB,KAAK0qB,OAAO8vB,IvChOQ,kBuCgOmBx6C,KAAKggH,6BAOhDgC,EAAiB5+G,UAAUiwB,QAAU,WAC7BrzB,KAAKylG,SAAWzlG,KAAKylG,OAAOryE,aAC5BpzB,KAAKylG,OAAOpyE,UAEhBrzB,KAAK2kF,uBAEFq9B,WC1WXuB,IAAgB7lF,OAAO8lF,GAAmBC,GAAiBC,GAAuBC,GAA6BC,GAAqBC,GAAoBC,GAAeC,GAAkBC,EAAiBC,EAAmBC,2iBxCI3M,0BAEY,qCAED,mCAED,0CAEQ,iDAED,uCAET,0CAEY,oDAEF,8CAEJ,wCAEF,qCAED,8BAEN,4BAEI,iCAEC,sCAEI,gCAEV,wBAEE,yBAED,2BAEG,qCAEO,iCAEX,2BAEK,wBAER,uBAEO,gCAEE,+BAEH,8BAEE,oCAEI,iCAEP,2BAEC,2BAED,4BAEE,8BAEA,2BAEH,4BAEI,+BAED,oCAEM,mCAEP,0BAEF,2BAEG,sCAEQ,4CAEF,yCAED,uCAED,qCAED,uCAEG,6CAEG,sCAKV,qCAIL,2DAMU,oCAEF,uCAEG,4CAEE,+BAEd,sBAEM,gCAEG"}