!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@syncfusion/ej2-base"),require("@syncfusion/ej2-svg-base")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@syncfusion/ej2-svg-base"],e):e(t.ej={},t.ej2Base,t.ej2SvgBase)}(this,function(t,e,i){"use strict";function r(t,e,i,r){var s=(r-90)*(Math.PI/180);return{x:t+i*Math.cos(s),y:e+i*Math.sin(s)}}function s(t,e,i,s,n,o,a){var h=r(t,e,i,s),l=r(t,e,i,n),c="0",p=o?"0":"1";c=o?(s>=n?s:s+360)-n<=180?"0":"1":(n>=s?n:n+360)-s<=180?"0":"1";return a?"M "+t+" "+e+" L "+h.x+" "+h.y+" A "+i+" "+i+"  0  "+c+" "+p+" "+l.x+" "+l.y:"M"+h.x+" "+h.y+"A"+i+" "+i+" 0 "+c+" "+p+" "+l.x+" "+l.y}function n(t,e){return null!==t&&void 0!==t?-1!==t.indexOf("%")?e/100*parseInt(t,10):parseInt(t,10):null}function o(t,e,i,r,s){var n=e+(s?-i:i);return(s?i:-i)*Math.cos(t/r*(Math.PI/2))+n}function a(t){return document.getElementById(t)}function h(t){if(!t)return null;var i="string"==typeof t?a(t):t;i&&e.remove(i)}function l(t,i,r,s){var n,a=new e.Animation({}),h=t,c=h.getAttribute("width"),p=(i.isIndeterminate?-+h.getAttribute("width"):+h.getAttribute("x")).toString(),u=i.progressRect.x+i.progressRect.width+(i.isIndeterminate?+h.getAttribute("width"):0),d=i.isIndeterminate?0:r;h.style.visibility="hidden",a.animate(h,{duration:i.animation.duration,delay:d,progress:function(t){i.enableRtl?i.isIndeterminate?t.timeStamp>=t.delay&&(h.style.visibility="visible",n=o(t.timeStamp,u-parseInt(c,10),u-parseInt(p,10),t.duration,i.enableRtl),h.setAttribute("x",n.toString())):t.timeStamp>=t.delay&&(h.style.visibility="visible",n=o(t.timeStamp,parseInt(c,10),parseInt(c,10)-parseInt(p,10),t.duration,i.enableRtl),h.setAttribute("x",n.toString())):i.isIndeterminate?t.timeStamp>=t.delay&&(h.style.visibility="visible",n=o(t.timeStamp,parseInt(p,10),u,t.duration,i.enableRtl),h.setAttribute("x",n.toString())):t.timeStamp>=t.delay&&(h.style.visibility="visible",n=o(t.timeStamp,s,parseInt(c,10),t.duration,i.enableRtl),h.setAttribute("width",n.toString()))},end:function(e){i.enableRtl?i.isIndeterminate?(h.setAttribute("x",p),l(t,i,0)):h.setAttribute("x",p):i.isIndeterminate?(h.setAttribute("x",p),l(t,i,0)):h.setAttribute("width",c),i.animation.enable&&i.labelElement.setAttribute("visibility","visible"),i.trigger("animationComplete",{value:i.value,trackColor:i.trackColor,progressColor:i.progressColor})}})}function c(t,i,r,n,o,a,h){new e.Animation({}).animate(t,{duration:2e3,delay:0,progress:function(e){r+=5,n+=5,t.setAttribute("d",s(o,a,h,r%360,n%360,i.enableRtl,!0))},end:function(e){c(t,i,r,n,o,a,h)}})}function p(t,i,r,s){var n,a,h=new e.Animation({}),l=0,c=i.annotations.length>0;c&&i.progressAnnotationModule&&(a=document.getElementById(i.element.id+"Annotation0").children[0])&&a.children[0]&&"SPAN"===a.children[0].tagName&&(n=a.children[0]);var p,u=i.totalAngle,d=i.minimum,g=i.maximum,m=r>s?s+360:s;h.animate(t,{duration:i.animation.duration,delay:i.animation.delay,progress:function(t){c&&n&&((l=o(t.timeStamp,r,i.totalAngle,t.duration,i.enableRtl))<=m?(p=parseInt(((l-r)/u*(g-d)+d).toString(),10),n.innerHTML=p?p.toString()+"%":""):n.innerHTML=i.value+"%")},end:function(t){n.innerHTML=i.value+"%"}})}function u(t,i,r,n,a,h,l,c,p,u){var d,g,m=new e.Animation({}),y=h,f=2*r*.75,v=0,S=l.annotations.length>0;S&&l.progressAnnotationModule&&(g=document.getElementById(l.element.id+"Annotation0").children[0])&&g.children[0]&&"SPAN"===g.children[0].tagName&&(d=g.children[0]);var P,R=l.totalAngle,k=l.minimum,C=l.maximum,T=n>a?a+360:a,A=l.isIndeterminate?0:p;n+="Round"!==l.cornerRadius||l.isIndeterminate?0:!0===l.enableRtl?b*c/2:-b*c/2,m.animate(y,{duration:l.animation.duration,delay:A,progress:function(e){e.timeStamp>=e.delay&&(v=o(e.timeStamp,u|n,l.totalAngle,e.duration,l.enableRtl),S&&d&&(v<=T?(P=parseInt(((v-n)/R*(C-k)+k).toString(),10),d.innerHTML=P?P.toString()+"%":""):d.innerHTML=l.value+"%"),y.setAttribute("d",s(t,i,f,n,v,l.enableRtl,!0)))},end:function(e){y.setAttribute("d",s(t,i,f,0,359.99,!1,!0)),S&&d&&(d.innerHTML=l.value+"%"),l.animation.enable&&l.labelElement.setAttribute("visibility","visible"),l.trigger("animationComplete",{value:l.value,trackColor:l.trackColor,progressColor:l.progressColor})}})}var d=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),g=function(){return function(t,e,i,r){this.x=t,this.y=e,this.height=i,this.width=r}}(),m=function(){return function(t,e){this.height=t,this.width=e}}(),y=function(t){function e(e,i,r,s,n,o,a,h,l,c){var p=t.call(this,e,i,r,s,n,c)||this;return p.y=o.y,p.x=o.x,p.height=o.height,p.width=o.width,p.rx=a||0,p.ry=h||0,p.transform=l||"",p.stroke=0!==r&&""!==p.stroke?s:"transparent",p}return d(e,t),e}(i.PathOption),f="annotationRender",v=function(){return function(t,e){this.x=t,this.y=e}}(),b=.9,S="progressCompleted",P=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),R=function(t,e,i,r){var s,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},k=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return P(i,t),R([e.Property(10)],i.prototype,"top",void 0),R([e.Property(10)],i.prototype,"bottom",void 0),R([e.Property(10)],i.prototype,"left",void 0),R([e.Property(10)],i.prototype,"right",void 0),i}(e.ChildProperty),C=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return P(i,t),R([e.Property("Normal")],i.prototype,"fontStyle",void 0),R([e.Property("16px")],i.prototype,"size",void 0),R([e.Property("Normal")],i.prototype,"fontWeight",void 0),R([e.Property("")],i.prototype,"color",void 0),R([e.Property("Segoe UI")],i.prototype,"fontFamily",void 0),R([e.Property(1)],i.prototype,"opacity",void 0),i}(e.ChildProperty),T=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return P(i,t),R([e.Property(!1)],i.prototype,"enable",void 0),R([e.Property(2e3)],i.prototype,"duration",void 0),R([e.Property(0)],i.prototype,"delay",void 0),i}(e.ChildProperty),A=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return P(i,t),R([e.Property(null)],i.prototype,"content",void 0),R([e.Property(0)],i.prototype,"annotationAngle",void 0),R([e.Property("0%")],i.prototype,"annotationRadius",void 0),i}(e.ChildProperty),w=function(){function t(t){this.control=t}return t.prototype.render=function(t,i){this.annotation=t;return e.createElement("div",{id:this.control.element.id+"Annotation"+i,styles:"position:absolute;z-index:1",innerHTML:t.content})},t.prototype.processAnnotation=function(t,e,i){var r,s;s=new v(0,0),(r=this.render(t,e))?this.setElementStyle(s,r,i):this.control.redraw&&h(r.id)},t.prototype.setElementStyle=function(t,e,i){var r={cancel:!1,name:f,content:e,location:t};if(this.control.trigger(f,r),!r.cancel){var s=this.Location(this.annotation.annotationRadius,this.annotation.annotationAngle);r.content.style.left=s.left+"px",r.content.style.top=s.top+"px",r.content.style.transform="translate(-50%, -50%)",r.content.setAttribute("aria-label","Annotation"),i.appendChild(r.content)}},t.prototype.Location=function(t,e){var i,r,s=parseFloat(t);if(0===s&&0===e){var n=this.control.progressRect;r=n.x+n.width/2,i=n.y+n.height/2}else{e-=90,e*=Math.PI/180;var o=Math.round(this.control.progressSize.width/2.25),a=Math.round(this.control.progressSize.height/2.25);r=s*Math.cos(e)+o,i=s*Math.sin(e)+a}return{top:i,left:r}},t}(),x=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),E=function(t){function i(e,i){var r=t.call(this,e)||this;return r.progress=e,r.annotations=i,r}return x(i,t),i.prototype.renderAnnotations=function(t){var i=this;this.annotations=this.progress.annotations;var r=document.getElementById(this.progress.element.id+"Annotation_collections");this.parentElement=r||e.createElement("div",{id:this.progress.element.id+"Annotation_collections",styles:"position:absolute"}),this.annotations.map(function(t,e){i.processAnnotation(t,e,i.parentElement)}),r||t.appendChild(this.parentElement)},i.prototype.getModuleName=function(){return"ProgressAnnotation"},i.prototype.destroy=function(t){},i}(w),O=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),F=function(t,e,i,r){var s,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},z=function(t){function r(e,i){return t.call(this,e,i)||this}return O(r,t),r.prototype.getModuleName=function(){return"progressbar"},r.prototype.preRender=function(){this.unWireEvents(),this.progressRect=new g(0,0,0,0),this.progressSize=new m(0,0),this.wireEvents()},r.prototype.render=function(){this.trigger("load",{progressBar:this}),this.calculateProgressBarSize(),this.calculateProgressBarBounds(),this.SetThemeValues(),this.renderAnnotations(),this.renderElements(),this.trigger("loaded",{progressBar:this}),this.renderComplete(),this.controlRenderedTimeStamp=(new Date).getTime()},r.prototype.SetThemeValues=function(){switch(this.theme){case"Bootstrap":case"Bootstrap4":this.gapWidth=this.gapWidth?this.gapWidth:4,this.cornerRadius="Auto"===this.cornerRadius?"Round":this.cornerRadius;break;default:this.cornerRadius="Auto"===this.cornerRadius?"Square":this.cornerRadius}},r.prototype.calculateProgressBarBounds=function(){this.progressRect.x=this.margin.left,this.progressRect.y=this.margin.top,this.progressRect.width-=this.margin.left+this.margin.right,this.progressRect.height-=this.margin.top+this.margin.bottom},r.prototype.calculateProgressBarSize=function(){var t=this.element.clientWidth||this.element.offsetWidth,e=this.element.clientHeight,i="Linear"===this.type?200:120,r="Linear"===this.type?30:120,s=Math.max(this.progressThickness,this.trackThickness);r="Linear"===this.type&&s>r-10?s+10:r,this.progressSize.width=n(this.width,t)||t||i,this.progressSize.height=n(this.height,e)||e||r,this.progressRect.width=this.progressSize.width,this.progressRect.height=this.progressSize.height},r.prototype.renderAnnotations=function(){this.createSecElement(),this.renderAnnotation()},r.prototype.renderElements=function(){this.element.style.display="block",this.element.style.position="relative",this.removeSvg(),this.setTheme(),this.createSVG(),this.clipPathElement(),this.createTrack(),this.createLinearProgress(),this.createCircularProgress(),this.createLabel(),this.element.appendChild(this.svgObject),this.setSecondaryElementPosition()},r.prototype.createSecElement=function(){var t=document.getElementById(this.element.id+"Secondary_Element");if(t)return t.innerHTML="",void(this.secElement=t);this.secElement=e.createElement("div",{id:this.element.id+"Secondary_Element",styles:"position: absolute"}),this.element.appendChild(this.secElement)},r.prototype.setSecondaryElementPosition=function(){var t=this.secElement,e=this.element.getBoundingClientRect(),r=i.getElement(this.svgObject.id).getBoundingClientRect();t.style.left=Math.max(r.left-e.left,0)+"px",t.style.top=Math.max(r.top-e.top,0)+"px"},r.prototype.createSVG=function(){this.renderer=new i.SvgRenderer(this.element.id),this.svgObject=this.renderer.createSvg({id:this.element.id+"SVG",width:this.progressSize.width,height:this.progressSize.height,style:"background-color:"+this.themeStyle.backgroundColor})},r.prototype.clipPathElement=function(){this.clipPath=this.renderer.createClipPath({id:this.element.id+"_clippath"}),this.bufferClipPath=this.renderer.createClipPath({id:this.element.id+"_clippathBuffer"})},r.prototype.createTrack=function(){var t,e,r,o,a,h,l,c,p,u,d,g;this.argsData={value:this.value,progressColor:this.progressColor,trackColor:this.trackColor},this.argsData.value===this.maximum?this.trigger(S,this.argsData):this.trigger("valueChanged",this.argsData),"Linear"===this.type?(e=this.progressRect.width,d=new i.PathOption(this.element.id+"_Lineartrack","none",this.trackThickness||this.themeStyle.linearTrackThickness,this.argsData.trackColor||this.themeStyle.linearTrackColor,this.themeStyle.trackOpacity,"0",this.getPathLine(this.progressRect.x,e,this.trackThickness||this.themeStyle.linearTrackThickness)),t=this.renderer.drawPath(d),this.segmentCount>1&&(this.segmentSize=this.calculateSegmentSize(e,this.trackThickness||this.themeStyle.linearTrackThickness),t.setAttribute("stroke-dasharray",this.segmentSize)),"Round"===this.cornerRadius&&t.setAttribute("stroke-linecap","round"),this.svgObject.appendChild(t)):"Circular"===this.type&&(l=this.startAngle,this.totalAngle=(this.endAngle-this.startAngle)%360,this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle,this.totalAngle-=360===this.totalAngle?.01:0,c=(this.startAngle+(this.enableRtl?-this.totalAngle:+this.totalAngle))%360,r=this.progressRect.x+this.progressRect.width/2,o=this.progressRect.y+this.progressRect.height/2,g=Math.max(this.trackThickness,this.progressThickness)||Math.max(this.themeStyle.circularProgressThickness,this.themeStyle.circularTrackThickness),a=Math.min(this.progressRect.height,this.progressRect.width)/2-g/2,u=s(r,o,h=null===(h=n(this.radius,a))?0:h,l,c,this.enableRtl),d=new i.PathOption(this.element.id+"_Circulartrack","none",this.trackThickness||this.themeStyle.circularTrackThickness,this.argsData.trackColor||this.themeStyle.circularTrackColor,this.themeStyle.trackOpacity,"0",u),p=this.renderer.drawPath(d),this.svgObject.appendChild(p),this.trackwidth=p.getTotalLength(),this.segmentCount>1&&(this.segmentSize=this.calculateSegmentSize(this.trackwidth,this.trackThickness||this.themeStyle.linearTrackThickness),p.setAttribute("stroke-dasharray",this.segmentSize)),"Round"===this.cornerRadius&&p.setAttribute("stroke-linecap","round"))},r.prototype.createLinearProgress=function(t,e){void 0===e&&(e=0);var r,s,n,o,a,h,c,p,u;if("Linear"===this.type&&(null===this.secondaryProgress||this.isIndeterminate||(s=this.calculateProgressRange(this.minimum,this.maximum,this.secondaryProgress),n=this.progressRect.width*s,0===this.segmentColor.length||this.isIndeterminate?(o=new i.PathOption(this.element.id+"_Linearbuffer","none",this.progressThickness||this.themeStyle.linearProgressThickness,this.argsData.progressColor||this.themeStyle.linearProgressColor,this.themeStyle.bufferOpacity,"0",this.getPathLine(this.progressRect.x,n,this.progressThickness||this.themeStyle.linearProgressThickness)),r=this.renderer.drawPath(o),this.segmentCount>1&&r.setAttribute("stroke-dasharray",this.segmentSize),"Round"===this.cornerRadius&&r.setAttribute("stroke-linecap","round")):r=this.createLinearSegment("_LinearBuffer",n,this.themeStyle.bufferOpacity,this.progressThickness||this.themeStyle.linearProgressThickness),this.svgObject.appendChild(r),this.animation.enable&&(p=this.createClipPath(this.bufferClipPath,s,null,this.progressRect.x,!1,this.progressThickness||this.themeStyle.linearProgressThickness),r.setAttribute("style","clip-path:url(#"+this.element.id+"_clippathBuffer)"),l(p,this,this.animation.delay,0)),this.svgObject.appendChild(this.bufferClipPath)),null!==this.argsData.value)){if(h=this.calculateProgressRange(this.minimum,this.maximum,this.argsData.value),this.progressPreviousWidth=c=this.progressRect.width*(this.isIndeterminate?1:h),0===this.segmentColor.length||this.isIndeterminate?(t?((a=i.getElement(this.element.id+"_Linearprogress")).setAttribute("d",this.getPathLine(this.progressRect.x,c,this.progressThickness||this.themeStyle.linearProgressThickness)),a.setAttribute("stroke",this.argsData.progressColor||this.themeStyle.circularProgressColor)):(o=new i.PathOption(this.element.id+"_Linearprogress","none",this.progressThickness||this.themeStyle.linearProgressThickness,this.argsData.progressColor||this.themeStyle.linearProgressColor,this.themeStyle.progressOpacity,"0",this.getPathLine(this.progressRect.x,c,this.progressThickness||this.themeStyle.linearProgressThickness)),a=this.renderer.drawPath(o)),this.segmentCount>1&&a.setAttribute("stroke-dasharray",this.segmentSize),"Round"===this.cornerRadius&&a.setAttribute("stroke-linecap","round")):a=this.createLinearSegment("_LinearProgress",c,this.themeStyle.progressOpacity,this.progressThickness||this.themeStyle.linearProgressThickness),this.svgObject.appendChild(a),this.animation.enable||this.isIndeterminate){var d=this.animation.delay+(null!==this.secondaryProgress?n-c:0);u=this.createClipPath(this.clipPath,h,null,t?e:this.progressRect.x,t,this.progressThickness||this.themeStyle.linearProgressThickness),a.setAttribute("style","clip-path:url(#"+this.element.id+"_clippath)"),l(u,this,d,t?e:0)}this.svgObject.appendChild(this.clipPath)}},r.prototype.createCircularProgress=function(t,e,r){var o,a,h,l,p,d,g=this.startAngle;this.progressStartAngle=g;var m,y,f,v,b,S,P,R,k,C,T;if("Circular"===this.type&&(o=this.progressRect.x+this.progressRect.width/2,a=this.progressRect.y+this.progressRect.height/2,R=Math.max(this.trackThickness,this.progressThickness)||Math.max(this.themeStyle.circularProgressThickness,this.themeStyle.circularTrackThickness),h=Math.min(this.progressRect.height,this.progressRect.width)/2-R/2,p=n(this.innerRadius,h),p=null===p?0:p,null===this.secondaryProgress||this.isIndeterminate||(0===this.segmentColor.length||this.isIndeterminate?(m=s(o,a,p,g,l=this.calculateProgressRange(this.minimum,this.maximum,this.secondaryProgress),this.enableRtl),S=new i.PathOption(this.element.id+"_Circularbuffer","none",this.progressThickness||this.themeStyle.circularProgressThickness,this.argsData.progressColor||this.themeStyle.circularProgressColor,this.themeStyle.bufferOpacity,"0",m),b=this.renderer.drawPath(S),this.segmentCount>1&&(0!==(P=parseInt(this.radius,10)-parseInt(this.innerRadius,10))&&(T=this.trackwidth+(P<0?this.trackwidth*Math.abs(P)/parseInt(this.radius,10):-this.trackwidth*Math.abs(P)/parseInt(this.radius,10)),this.segmentSize=this.calculateSegmentSize(T,this.progressThickness||this.themeStyle.circularProgressThickness)),b.setAttribute("stroke-dasharray",this.segmentSize)),"Round"===this.cornerRadius&&b.setAttribute("stroke-linecap","round")):b=this.createCircularSegment("_CircularBuffer",o,a,p,this.secondaryProgress,this.themeStyle.bufferOpacity,this.progressThickness||this.themeStyle.circularProgressThickness),this.svgObject.appendChild(b),this.animation.enable&&(y=this.createClipPath(this.bufferClipPath,null,"",null,!1),b.setAttribute("style","clip-path:url(#"+this.element.id+"_clippathBuffer)"),u(o,a,p,g,0,y,this,this.progressThickness||this.themeStyle.circularProgressThickness,this.animation.delay,null)),this.svgObject.appendChild(this.bufferClipPath)),null!==this.argsData.value)){if(0===this.segmentColor.length||this.isIndeterminate?(f=this.calculateProgressRange(this.minimum,this.maximum,this.argsData.value),this.annotationEnd=f,m=s(o,a,p,g,l=this.isIndeterminate?(this.startAngle+(this.enableRtl?-this.totalAngle:+this.totalAngle))%360:f,this.enableRtl),S=new i.PathOption(this.element.id+"_Circularprogress","none",this.progressThickness||this.themeStyle.circularProgressThickness,this.argsData.progressColor||this.themeStyle.circularProgressColor,this.themeStyle.progressOpacity,"0",m),r?(d=(v=i.getElement(this.element.id+"_Circularprogress")).getAttribute("d"),v.setAttribute("d",m),v.setAttribute("stroke",this.argsData.progressColor||this.themeStyle.circularProgressColor)):v=this.renderer.drawPath(S),this.segmentCount>1&&(0!==(C=parseInt(this.radius,10)-parseInt(this.innerRadius,10))&&(T=this.trackwidth+(C<0?this.trackwidth*Math.abs(C)/parseInt(this.radius,10):-this.trackwidth*Math.abs(C)/parseInt(this.radius,10)),this.segmentSize=this.calculateSegmentSize(T,this.progressThickness||this.themeStyle.circularProgressThickness)),v.setAttribute("stroke-dasharray",this.segmentSize)),"Round"===this.cornerRadius&&v.setAttribute("stroke-linecap","round")):v=this.createCircularSegment("_CircularProgress",o,a,p,this.argsData.value,this.themeStyle.progressOpacity,this.progressThickness||this.themeStyle.circularProgressThickness),this.progressEndAngle=l,r||this.svgObject.appendChild(v),this.animation.enable&&!this.isIndeterminate){var A=null!==this.secondaryProgress?300:this.animation.delay;k=this.createClipPath(this.clipPath,null,r?d:"",null,r),v.setAttribute("style","clip-path:url(#"+this.element.id+"_clippath)"),u(o,a,p,g,f,k,this,this.progressThickness||this.themeStyle.circularProgressThickness,A,r?e:null)}if(this.isIndeterminate){var w=2*p*.75,x=s(o,a,w,g,f,this.enableRtl,!0),E=new i.PathOption(this.element.id+"_clippathcircle","transparent",10,"transparent",1,"0",x),O=this.renderer.drawPath(E);this.clipPath.appendChild(O),v.setAttribute("style","clip-path:url(#"+this.element.id+"_clippath)"),c(O,this,g,f,o,a,w)}this.svgObject.appendChild(this.clipPath)}},r.prototype.createLabel=function(){var t,e=this.animation.enable;if("Linear"===this.type&&this.showProgressValue){var r=void 0,s=void 0,n=void 0,o=this.calculateProgressRange(this.minimum,this.maximum,this.value);this.value===this.maximum&&(s=100,n=this.progressRect.width*o-10),(this.value>this.maximum||this.value<this.minimum||this.value===this.minimum)&&(s=0,n=this.progressRect.width*o+10),this.value>this.minimum&&this.value<this.maximum&&(s=Math.round(100*this.value/(this.maximum-this.minimum)),n=this.progressRect.width*o-10);var a={cancel:!1,text:this.label?this.label:String(s)+"%",color:this.labelStyle.color};if(this.trigger("textRender",a),!a.cancel){t=i.measureText(a.text,this.labelStyle);var h={id:this.element.id+"_linearLabel","font-size":this.labelStyle.size||this.themeStyle.linearFontSize,"font-style":this.labelStyle.fontStyle||this.themeStyle.linearFontStyle,"font-family":this.labelStyle.fontFamily||this.themeStyle.linearFontFamily,"font-weight":this.labelStyle.fontWeight,fill:a.color||this.themeStyle.fontColor,x:n,y:this.progressRect.y+this.progressRect.height/2+t.height/4,"text-anchor":"middle",visibility:e?"hidden":"visible"};r=this.renderer.createText(h,a.text),this.labelElement=r,this.svgObject.appendChild(r)}}else if("Circular"===this.type&&this.showProgressValue){var l=void 0,c=void 0,p=this.progressRect.x+this.progressRect.width/2,u=this.progressRect.y+this.progressRect.height/2;(this.value===this.minimum||this.value>this.maximum)&&(c=0),this.value===this.maximum&&(c=100),this.value>this.minimum&&this.value<this.maximum&&(c=Math.round(100*this.value/(this.maximum-this.minimum)));a={cancel:!1,text:this.label?this.label:String(c)+"%",color:this.labelStyle.color};if(this.trigger("textRender",a),!a.cancel){t=i.measureText(a.text,this.labelStyle);h={id:this.element.id+"_circularLabel",fill:a.color||this.themeStyle.fontColor,"font-size":this.labelStyle.size||this.themeStyle.circularFontSize,"font-style":this.labelStyle.fontStyle||this.themeStyle.circularFontStyle,"font-family":this.labelStyle.fontFamily||this.themeStyle.circularFontFamily,"font-weight":this.labelStyle.fontWeight,height:this.progressRect.height,width:this.progressRect.width,visibility:e?"hidden":"visible",x:p,y:u+t.height/2,"text-anchor":"middle"};l=this.renderer.createText(h,a.text),this.labelElement=l,this.svgObject.appendChild(l)}}},r.prototype.getPathLine=function(t,e,i){var r=this.enableRtl?"Round"===this.cornerRadius?t+this.progressRect.width-b/2*i:t+this.progressRect.width:"Round"===this.cornerRadius?t+b/2*i:t,s=this.enableRtl?"Round"===this.cornerRadius?r-e+b*i:r-e:"Round"===this.cornerRadius?r+e-b*i:r+e;return"M"+r+" "+(this.progressRect.y+this.progressRect.height/2)+"L"+s+" "+(this.progressRect.y+this.progressRect.height/2)},r.prototype.calculateProgressRange=function(t,e,i){var r;return"Linear"===this.type?(r=(i-t)/(e-t),i<t||i>e?0:r):(r=(i-t)/(e-t)*this.totalAngle,r=(this.startAngle+(this.enableRtl?-r:+r))%360,i<t||i>e?this.startAngle:r)},r.prototype.calculateSegmentSize=function(t,e){var i="Circular"===this.type&&359.99===this.totalAngle?this.segmentCount:this.segmentCount-1,r=359.99===this.totalAngle||"Linear"===this.type?this.segmentCount:this.segmentCount-1,s=this.gapWidth||("Linear"===this.type?this.themeStyle.linearGapWidth:this.themeStyle.circularGapWidth),n=t-i*s;return n=(n-("Round"===this.cornerRadius?r*(b*e):0))/this.segmentCount,s+="Round"===this.cornerRadius?b*e:0," "+n+" "+s},r.prototype.createClipPath=function(t,e,r,s,n,o){var a,h,l;return"Linear"===this.type?n?a=i.getElement(this.element.id+"_clippathrect"):(h=new y(this.element.id+"_clippathrect","transparent",1,"transparent",1,new g("Round"===this.cornerRadius?this.progressRect.x-b/2*o:s,0,this.progressSize.height,this.isIndeterminate?this.progressRect.width*e:"Round"===this.cornerRadius?this.progressRect.width*e+b*o:this.progressRect.width*e)),a=this.renderer.drawRectangle(h),t.appendChild(a)):n?(a=i.getElement(this.element.id+"_clippathcircle")).setAttribute("d",r):(l=new i.PathOption(this.element.id+"_clippathcircle","transparent",10,"transparent",1,"0",r),a=this.renderer.drawPath(l),t.appendChild(a)),a},r.prototype.createLinearSegment=function(t,e,r,s){var n=this.enableRtl?"Round"===this.cornerRadius?this.progressRect.x+this.progressRect.width-b/2*s:this.progressRect.x+this.progressRect.width:"Round"===this.cornerRadius?this.progressRect.x+b/2*s:this.progressRect.x,o=this.progressRect.y+this.progressRect.height/2,a=this.gapWidth||this.themeStyle.linearGapWidth,h=this.progressRect.width/this.segmentCount,l=this.progressRect.width-(this.segmentCount-1)*a;l=(l-("Round"===this.cornerRadius?this.segmentCount*(b*s):0))/this.segmentCount;for(var c,p,u,d,g="Round"===this.cornerRadius?a+b*s:a,m=this.renderer.createGroup({id:this.element.id+t+"Group"}),y=Math.ceil(e/h),f=0,v="Round"===this.cornerRadius?e-b*s:e,S=this.progressThickness||this.themeStyle.linearProgressThickness,P=0;P<y;P++)c=v<l?v:l,f<this.segmentColor.length?(p=this.segmentColor[f],f++):(f=0,p=this.segmentColor[f],f++),u=new i.PathOption(this.element.id+t+P,"none",S,p,r,"0",this.getLinearSegmentPath(n,o,c)),d=this.renderer.drawPath(u),"Round"===this.cornerRadius&&d.setAttribute("stroke-linecap","round"),m.appendChild(d),n+=this.enableRtl?-l-g:l+g,v=(v-=l+g)<0?0:v;return m},r.prototype.getLinearSegmentPath=function(t,e,i){return"M "+t+" "+e+" L"+(t+(this.enableRtl?-i:i))+" "+e},r.prototype.createCircularSegment=function(t,e,r,n,o,a,h){var l=this.startAngle,c=this.widthToAngle(this.minimum,this.maximum,o);c-="Round"===this.cornerRadius&&359.99===this.totalAngle?this.widthToAngle(0,this.trackwidth,b/2*h):0;var p=this.trackwidth-(359.99===this.totalAngle?this.segmentCount:this.segmentCount-1)*(this.gapWidth||this.themeStyle.circularGapWidth);p=(p-("Round"===this.cornerRadius?(359.99===this.totalAngle?this.segmentCount:this.segmentCount-1)*b*h:0))/this.segmentCount;var u=this.widthToAngle(0,this.trackwidth,this.trackwidth/this.segmentCount);u-="Round"===this.cornerRadius&&359.99===this.totalAngle?this.widthToAngle(0,this.trackwidth,b/2*h):0;var d=this.widthToAngle(0,this.trackwidth,p),g=this.widthToAngle(0,this.trackwidth,this.gapWidth||this.themeStyle.circularGapWidth);g+="Round"===this.cornerRadius?this.widthToAngle(0,this.trackwidth,b*h):0;for(var m,y,f,v,S,P=this.renderer.createGroup({id:this.element.id+t+"Group"}),R=Math.floor(c/u),k=Math.ceil((c-g*R)/d),C=(l+(this.enableRtl?-d:d))%360,T=0,A=this.progressThickness||this.themeStyle.circularProgressThickness,w=0;w<k;w++)m=s(e,r,n,l,f=this.enableRtl?this.startAngle-c>C?this.startAngle-c:C:this.startAngle+c<C?this.startAngle+c:C,this.enableRtl),T<this.segmentColor.length?(v=this.segmentColor[T],T++):(T=0,v=this.segmentColor[T],T++),S=new i.PathOption(this.element.id+t+w,"none",A,v,a,"0",m),y=this.renderer.drawPath(S),"Round"===this.cornerRadius&&y.setAttribute("stroke-linecap","round"),P.appendChild(y),l=f+(this.enableRtl?-g:g),C+=this.enableRtl?-d-g:d+g;return P},r.prototype.widthToAngle=function(t,e,i){return(i-t)/(e-t)*this.totalAngle},r.prototype.setTheme=function(){this.themeStyle=function(t){var e;switch(t){case"Material":e={linearTrackColor:"#E3165B",linearProgressColor:"#E3165B",circularTrackColor:"#E3165B",circularProgressColor:"#E3165B",backgroundColor:"transparent",fontColor:"#000000",linearFontFamily:"Roboto",linearFontSize:12,linearFontStyle:"Regular",circularFontFamily:"Roboto",circularFontStyle:"Normal",circularFontSize:20,progressOpacity:1,trackOpacity:.26,bufferOpacity:.4,linearGapWidth:4,circularGapWidth:4,linearTrackThickness:4,linearProgressThickness:4,circularTrackThickness:4,circularProgressThickness:4};break;case"Bootstrap":e={linearTrackColor:"#EEEEEE",linearProgressColor:"#317ab9",circularTrackColor:"#EEEEEE",circularProgressColor:"#317ab9",backgroundColor:"transparent",fontColor:"#000000",linearFontFamily:"Helvetica",linearFontStyle:"Regular",linearFontSize:12,circularFontFamily:"Segoe UI",circularFontStyle:"Normal",circularFontSize:20,progressOpacity:1,trackOpacity:1,bufferOpacity:.44,linearGapWidth:4,circularGapWidth:4,linearTrackThickness:20,linearProgressThickness:20,circularTrackThickness:6,circularProgressThickness:6};break;case"Bootstrap4":e={linearTrackColor:"#E9ECEF",linearProgressColor:"#007bff",circularTrackColor:"#E9ECEF",circularProgressColor:"#007bff",backgroundColor:"transparent",fontColor:"#000000",linearFontFamily:"Helvetica",linearFontStyle:"Regular",linearFontSize:12,circularFontFamily:"Helvetica",circularFontStyle:"Normal",circularFontSize:20,progressOpacity:1,trackOpacity:1,bufferOpacity:.44,linearGapWidth:4,circularGapWidth:4,linearTrackThickness:16,linearProgressThickness:16,circularTrackThickness:6,circularProgressThickness:6};break;case"HighContrast":e={linearTrackColor:"#BFBFBF",linearProgressColor:"#FFD939",circularTrackColor:"#BFBFBF",circularProgressColor:"#FFD939",backgroundColor:"transparent",fontColor:"#FFFFFF",linearFontFamily:"Segoe UI",linearFontSize:12,linearFontStyle:"Regular",circularFontFamily:"Segoe UI",circularFontStyle:"Normal",circularFontSize:20,progressOpacity:1,trackOpacity:1,bufferOpacity:.35,linearGapWidth:2,circularGapWidth:4,linearTrackThickness:2,linearProgressThickness:2,circularTrackThickness:4,circularProgressThickness:4};break;default:e={linearTrackColor:"#EAEAEA",linearProgressColor:"#0078D6",circularTrackColor:"#E6E6E6",circularProgressColor:"#0078D6",backgroundColor:"transparent",fontColor:"#333333",linearFontFamily:"Segoe UI",linearFontStyle:"Regular",linearFontSize:12,circularFontFamily:"Segoe UI",circularFontStyle:"Normal",circularFontSize:20,progressOpacity:1,trackOpacity:1,bufferOpacity:.3,linearGapWidth:2,circularGapWidth:4,linearTrackThickness:2,linearProgressThickness:2,circularTrackThickness:4,circularProgressThickness:4}}return e}(this.theme)},r.prototype.renderAnnotation=function(){this.progressAnnotationModule&&this.annotations.length>0&&this.progressAnnotationModule.renderAnnotations(this.secElement)},r.prototype.progressResize=function(t){var e=this;if(!((new Date).getTime()>this.controlRenderedTimeStamp+800))return!1;var i={bar:this,name:"resized",currentSize:new m(0,0),previousSize:new m(this.progressSize.width,this.progressSize.height)};return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(function(){e.isDestroyed?clearTimeout(e.resizeTo):(i.currentSize=e.progressSize,e.trigger("resized",i),e.calculateProgressBarSize(),e.calculateProgressBarBounds(),e.secElement.innerHTML="",e.renderAnnotation(),e.renderElements())},500),!1},r.prototype.unWireEvents=function(){window.removeEventListener(e.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBounds)},r.prototype.wireEvents=function(){this.resizeBounds=this.progressResize.bind(this),window.addEventListener(e.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBounds)},r.prototype.removeSvg=function(){var t=document.getElementById(this.element.id+"SVG");t&&e.remove(t)},r.prototype.onPropertyChanged=function(t,e){for(var i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"annotations":this.secElement.innerHTML="",this.renderAnnotation();p(document.getElementById(this.element.id+"Annotation0").children[0],this,this.startAngle,this.annotationEnd);break;case"value":this.argsData={value:this.value,progressColor:this.progressColor,trackColor:this.trackColor},this.argsData.value===this.maximum?this.trigger(S,this.argsData):this.trigger("valueChanged",this.argsData),"Circular"===this.type?this.createCircularProgress(this.progressStartAngle,this.progressEndAngle,!0):this.createLinearProgress(!0,this.progressPreviousWidth)}}},r.prototype.requiredModules=function(){var t=[];return this.annotations.some(function(t){return null!==t.content})&&t.push({member:"ProgressAnnotation",args:[this]}),t},r.prototype.getPersistData=function(){return" "},r.prototype.destroy=function(){this.unWireEvents(),t.prototype.destroy.call(this),this.removeSvg(),this.svgObject=null,this.element.classList.remove("e-progressbar")},F([e.Property("Linear")],r.prototype,"type",void 0),F([e.Property(null)],r.prototype,"value",void 0),F([e.Property(null)],r.prototype,"secondaryProgress",void 0),F([e.Property(0)],r.prototype,"minimum",void 0),F([e.Property(100)],r.prototype,"maximum",void 0),F([e.Property(0)],r.prototype,"startAngle",void 0),F([e.Property(0)],r.prototype,"endAngle",void 0),F([e.Property("100%")],r.prototype,"radius",void 0),F([e.Property("100%")],r.prototype,"innerRadius",void 0),F([e.Property(1)],r.prototype,"segmentCount",void 0),F([e.Property(null)],r.prototype,"gapWidth",void 0),F([e.Property("")],r.prototype,"segmentColor",void 0),F([e.Property("Auto")],r.prototype,"cornerRadius",void 0),F([e.Property(null)],r.prototype,"height",void 0),F([e.Property(null)],r.prototype,"width",void 0),F([e.Property(!1)],r.prototype,"isIndeterminate",void 0),F([e.Property(!1)],r.prototype,"enableRtl",void 0),F([e.Property(null)],r.prototype,"trackColor",void 0),F([e.Property(null)],r.prototype,"progressColor",void 0),F([e.Property(0)],r.prototype,"trackThickness",void 0),F([e.Property(0)],r.prototype,"progressThickness",void 0),F([e.Property("Fabric")],r.prototype,"theme",void 0),F([e.Property(!1)],r.prototype,"showProgressValue",void 0),F([e.Complex({size:null,color:null,fontStyle:null,fontWeight:"Normal",fontFamily:null},C)],r.prototype,"labelStyle",void 0),F([e.Property("")],r.prototype,"label",void 0),F([e.Complex({},k)],r.prototype,"margin",void 0),F([e.Complex({},T)],r.prototype,"animation",void 0),F([e.Event()],r.prototype,"load",void 0),F([e.Event()],r.prototype,"textRender",void 0),F([e.Event()],r.prototype,"loaded",void 0),F([e.Event()],r.prototype,"valueChanged",void 0),F([e.Event()],r.prototype,"progressCompleted",void 0),F([e.Event()],r.prototype,"animationComplete",void 0),F([e.Collection([{}],A)],r.prototype,"annotations",void 0),r=F([e.NotifyPropertyChanges],r)}(e.Component);t.ProgressBar=z,t.Margin=k,t.Font=C,t.Animation=T,t.ProgressAnnotationSettings=A,t.ProgressAnnotation=E,t.Rect=g,t.Size=m,t.RectOption=y,t.degreeToLocation=r,t.getPathArc=s,t.stringToNumber=n,t.effect=o,t.annotationRender=f,t.getElement=a,t.removeElement=h,t.ProgressLocation=v,t.doLinearAnimation=l,t.doCircularIndeterminate=c,t.doAnnotationAnimation=p,t.doCircularAnimation=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-progressbar.umd.min.js.map
