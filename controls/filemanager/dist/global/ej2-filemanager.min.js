this.ej=this.ej||{},this.ej.filemanager=function(e,t,i,n,s,a,r,o,l,h,d){"use strict";function c(e){var t=e.path.substr(0,e.path.length-1);e.targetPath=t.substr(0,t.lastIndexOf("/")+1)}function p(e,t,i){i.setProperties({path:u(e,t)},!0),i.pathId=f(e)}function u(e,t){for(var i=m(e,t,!1),n="/",s=i.length-2;s>=0;s--)n+=i[s]+"/";return n}function f(e){for(var t=m(e,e.getAttribute("data-uid"),!0),i=[],n=t.length-1;n>=0;n--)i.push(t[n]);return i}function m(e,i,n){for(var s=[i],a=e.parentNode;!t.isNullOrUndefined(a);){if(t.matches(a,"."+Xe)){var r=n?a.getAttribute("data-uid"):t.select("."+$e,a).textContent;s.push(r)}a=a.parentNode}return s}function g(e,t,i){var n;if(t){var s=0;for(s;s<t.length;s++){var a=t[s],r=a.id;!1===a.isFile&&("cut"===i?e.treeNodes.push(r):e.treeNodes=e.treeNodes,"copy"===i?e.copyNodes.push((n={},n.name=a.name,n)):e.copyNodes=e.copyNodes,"Delete"===i?e.removeNodes.push(r):e.removeNodes=e.removeNodes)}}else e.treeNodes="cut"===i?e.treeObj.selectedNodes:e.treeNodes,e.removeNodes="Delete"===i?e.treeObj.selectedNodes:e.removeNodes}function b(e,t,i){var n=[];v(i);var s=i.activeElements;i.targetPath=i.path;var a,r,o=0;if(s){for(O(s[0],i);o<s.length;)"cut"===e&&y(s[o]),r=!1===(a="largeiconsview"===i.activeModule?!s[o].querySelector("."+ft):null)?s[o].closest("li").getAttribute("data-uid"):null,s[o].querySelector("."+$e)?n.push({name:s[o].querySelector("."+$e).textContent,isFile:a,id:r}):n=n,o++;"detailsview"===i.activeModule&&!1!==t?(n=i.detailsviewModule.gridSelectNodes(),"cut"!==e&&"copy"!==e&&"Delete"!==e||!i.navigationpaneModule||g(i.navigationpaneModule,n,e)):"largeiconsview"===i.activeModule&&i.navigationpaneModule?"cut"===e||"copy"===e||"Delete"===e?g(i.navigationpaneModule,n,e):n=n:("cut"!==e&&"copy"!==e&&"Delete"!==e||!i.navigationpaneModule?n=n:g(i.navigationpaneModule,null,e),"navigationpane"===i.activeModule&&c(i))}return n}function y(e){e.classList.add(et)}function v(e,t){for(var i=t?e.element.querySelectorAll("."+it):e.element.querySelectorAll("."+et),n=0;n<i.length;)t?i[n].classList.remove(it):i[n].classList.remove(et),n++}function O(e,t){e&&(e.classList.contains(at)?t.activeModule="detailsview":e.closest("."+pt)?t.activeModule="largeiconsview":t.activeModule="navigationpane")}function w(e){e.itemData=[S(e)],V(e,Dt,e.path)}function I(e){V(e,Tt,e.path)}function C(e){var i=t.getValue(e.path,e.feFiles);if(i)for(var n=e.selectedItems[e.selectedItems.length-1],s=0,a=i.length;s<a;s++)if(n===t.getValue("name",i[s]))return i[s];return t.getValue(e.path,e.feParent)}function S(e){return t.getValue(e.path,e.feParent)}function N(e){e.cutNodes=[],e.navigationpaneModule.treeNodes=[],e.navigationpaneModule.copyNodes=[],e.nodeNames=[],e.selectedNodes=[],e.nodeNames=b("copy",null,e),e.nodeNames&&(e.fileAction="CopyTo",e.enablePaste=!0,e.notify(Ut,{}))}function E(e){e.navigationpaneModule.treeNodes=[],e.navigationpaneModule.copyNodes=[],e.nodeNames=[],e.selectedNodes=[],e.nodeNames=b("cut",null,e),e.nodeNames&&(e.cutNodes=e.nodeNames,e.fileAction="MoveTo",e.enablePaste=!0,e.notify(Ut,{}))}function j(e){if(!t.getValue("isFile",e))return"e-fe-folder";var i=["bmp","dib","jpg","jpeg","jpe","jfif","gif","tif","tiff","png","ico"],n=["mp3","wav","aac","ogg","wma","aif","fla","m4a"],s=["webm","mkv","flv","vob","ogv","ogg","avi","wmv","mp4","3gp"],a=["css","exe","html","js","msi","pdf","pptx","ppt","rar","zip","txt","docx","doc","xlsx","xls","xml","rtf","php"],r=t.getValue("type",e);-1!==(r=r.toLowerCase()).indexOf(".")&&(r=r.split(".").join(""));return-1!==i.indexOf(r)?ht:-1!==n.indexOf(r)?dt:-1!==s.indexOf(r)?ct:-1!==a.indexOf(r)?"e-fe-"+r:"e-fe-unknown e-fe-"+r}function x(e,i){var n=e.ajaxSettings.getImageUrl?e.ajaxSettings.getImageUrl:e.ajaxSettings.url;return""!==e.breadcrumbbarModule.searchObj.element.value?n+"?path="+e.path+t.getValue("filterPath",i):n+"?path="+e.path+t.getValue("name",i)}function D(e,i){if(0===i.length)return i;var n=(new s.Query).sortBy(e.sortBy,e.sortOrder.toLowerCase(),!0).group("isFile"),a=new s.DataManager(i).executeLocal(n);return t.getValue("records",a)}function R(e,i){var n=t.select("."+$e,i).textContent,a=t.getValue(e.path,e.feFiles),r=(new s.Query).where("name","equal",n);return new s.DataManager(a).executeLocal(r)[0]}function P(e,i,n){if(t.isNullOrUndefined(n.querySelector("."+rt))){var s=t.createElement("div",{className:rt}),a=t.createElement("div",{className:ut}),r=t.createElement("div",{className:ot}),o=t.createElement("div",{className:lt});"Details"===e.view?n.querySelector("."+mt).appendChild(s):n.appendChild(s),s.appendChild(a),s.appendChild(r),s.appendChild(o)}n.querySelector("."+rt)&&("search"===i?(n.querySelector("."+ot).innerHTML=T(e,"Search-Empty"),n.querySelector("."+lt).innerHTML=T(e,"Search-Key")):(n.querySelector("."+ot).innerHTML=T(e,"Folder-Empty"),n.querySelector("."+lt).innerHTML=T(e,"File-Upload")))}function M(e){return new s.DataManager(e).executeLocal((new s.Query).where(St,"equal",!1,!1))}function L(e,i){t.setValue("nodeId",i,e.cwd);for(var n=M(e.files),s=0,a=n.length;s<a;s++)t.setValue("nodeId",i+"_"+s,n[s])}function k(e){for(var i=0;i<e.length;i++)t.setValue("dateCreated",new Date(t.getValue("dateCreated",e[i])),e[i]),t.setValue("dateModified",new Date(t.getValue("dateModified",e[i])),e[i])}function T(e,t){var i=e.localeObj.getConstant(t);return""===i?t:i}function A(e,i){var n=e.cssClass;return n=t.isNullOrUndefined(n)||""===n?i:n+" "+i}function _(e,t){-1!==t.item.id.indexOf("ascending")||-1!==t.item.id.indexOf("descending")?e.sortOrder=B(t.item.id):e.sortBy=B(t.item.id),"Details"===e.view&&(e.isMobile?V(e,_t,e.path):e.notify(qt,{module:"gridview"})),"LargeIcons"===e.view&&V(e,_t,e.path),e.notify(Bt,{})}function B(e){var t=e.substring(e.lastIndexOf("_")+1),i=t;switch(t){case"date":i="dateModified";break;case"ascending":i="Ascending";break;case"descending":i="Descending"}return i}function V(e,t,i){K(e,{action:"Read",path:i,showHiddenItems:e.showHiddenItems,data:e.itemData},W,t)}function F(e,t){K(e,{action:"CreateFolder",path:e.path,name:t,data:e.itemData},G)}function U(e,t){K(e,{action:"Rename",path:e.path,name:e.currentItemText,itemNewName:t,data:e.itemData},Y,e.path)}function H(e,t,i,n,s,a,r){K(e,{action:s,path:t,targetPath:n,itemNames:i,CommonFiles:r},J,t,a,s,n)}function q(e,t,i,n,s){K(e,{action:n,targetPath:i,itemNames:t},X,i,s)}function z(e,t,i,n){K(e,{action:n,targetPath:i,itemNames:t},$,i,null,n)}function K(e,i,n,s,a,r,o){var l={url:e.ajaxSettings.url,type:"POST",mode:!0,dataType:"json",contentType:"application/json",data:JSON.stringify(i),onSuccess:null,onFailure:null},h={action:t.getValue("action",i),ajaxSettings:l,cancel:!1};e.trigger("beforeSend",h),h.cancel||(e.notify(Mt,{}),new t.Ajax({url:t.getValue("url",h.ajaxSettings),type:t.getValue("type",h.ajaxSettings),mode:t.getValue("mode",h.ajaxSettings),dataType:t.getValue("dataType",h.ajaxSettings),contentType:t.getValue("contentType",h.ajaxSettings),data:t.getValue("data",h.ajaxSettings),onSuccess:function(l){if(e.notify(Lt,{action:"success"}),!t.isNullOrUndefined(l.files)){k(l.files);for(var d=0,c=l.files.length;d<c;d++){var p=l.files[d];t.setValue("iconClass",j(p),p)}}if("Read"===t.getValue("action",i)){var u=t.getValue("path",i);L(l,e.expandedId?e.expandedId:e.pathId[e.pathId.length-1]),t.setValue(u,l.files,e.feFiles),t.setValue(u,l.cwd,e.feParent)}n(e,l,s,a,r,o),"function"==typeof t.getValue("onSuccess",h.ajaxSettings)&&t.getValue("onSuccess",h.ajaxSettings)()},onFailure:function(){var i={files:null,error:{code:"404",message:"NetworkError: Faild to send on XMLHTTPRequest: Failed to load "+e.ajaxSettings.url,fileExists:null}};e.notify(Lt,{action:"failure"}),n(e,i,s,a,r,o),"function"==typeof t.getValue("onFailure",h.ajaxSettings)&&t.getValue("onFailure",h.ajaxSettings)()}}).send())}function W(e,i,n){t.isNullOrUndefined(i.files)?Q(e,i,"Read"):(e.notify(n,i),e.notify(At,{}),e.trigger("onSuccess",{action:"Read",result:i}))}function G(e,i){if(t.isNullOrUndefined(i.files))if("400"===i.error.code){var n=t.select("#newname",e.dialogObj.element),s=T(e,"Validation-NewFolder-Exists").replace("{0}",'"'+n.value+'"');n.parentElement.nextElementSibling.innerHTML=s}else e.dialogObj.hide(),Q(e,i,"CreateFolder");else e.dialogObj.hide(),e.createdItem=i.files[0],e.trigger("onSuccess",{action:"CreateFolder",result:i}),V(e,jt,e.path)}function Y(e,i,n){if(t.isNullOrUndefined(i.files))if("400"===i.error.code){var s=t.select("#rename",e.dialogObj.element),a=T(e,"Validation-Rename-Exists").replace("{0}",'"'+e.currentItemText+'"');a=a.replace("{1}",'"'+s.value+'"'),s.parentElement.nextElementSibling.innerHTML=a}else e.dialogObj.hide(),Q(e,i,"Rename");else{if(e.dialogObj.hide(),e.trigger("onSuccess",{action:"Rename",result:i}),e.renamedItem=i.files[0],0===e.selectedItems.length&&e.navigationpaneModule){var r=e.parentPath.split("/"),o=e.parentPath.replace(r[r.length-2]+"/",e.renameText+"/");e.setProperties({path:o},!0)}V(e,Ft,e.path)}}function J(e,i,n,s,a){if(i.error&&i.error.fileExists){e.fileLength=0;for(var r=0;r<i.files.length;r++)ie(e,"DuplicateItems",i,null,i.error.fileExists);e.detailsviewModule.pasteOperation=!0,e.largeiconsviewModule.pasteOperation=!0,e.duplicateItems=[]}else i.error||t.isNullOrUndefined(i.files)?Q(e,i,a):(e.detailsviewModule.pasteOperation=!0,e.largeiconsviewModule.pasteOperation=!0,e.pasteNodes=e.selectedNodes,V(e,Rt,e.path),"MoveTo"===a&&0!==s.treeNodes.length?(e.selectedNodes=[],s.moveNode()):"CopyTo"===a&&0!==s.copyNodes.length&&s.copyNode(),"MoveTo"===a&&(e.enablePaste=!1,e.notify(Ht,{})),e.trigger("onSuccess",{action:a,result:i}))}function X(e,i,n){t.isNullOrUndefined(i.files)?Q(e,i,"Remove"):(e.setProperties({path:n},!0),V(e,xt,e.path),e.trigger("onSuccess",{action:"Remove",result:i}))}function $(e,i,n,s,a){t.isNullOrUndefined(i.details)?Q(e,i,"GetDetails"):(ie(e,a,null,i.details),e.trigger("onSuccess",{action:"GetDetails",result:i}))}function Q(e,t,i){ie(e,"Error",t),e.trigger("onError",{action:i,error:t.error})}function Z(e,t,i,n,s,a){K(e,{action:"Search",path:i,searchString:n,showHiddenItems:s,caseSensitive:a},ee,t)}function ee(e,i,n){t.isNullOrUndefined(i.files)?Q(e,i,"Search"):(e.notify(n,i),e.trigger("onSuccess",{action:"Search",result:i}))}function te(e,i){for(var n,s=[],a=e.ajaxSettings.downloadUrl?e.ajaxSettings.downloadUrl:e.ajaxSettings.url,r=0;r<i.length;r++)s.push(i[r].name),n=i[r].filterPath;var o={action:"Download",path:t.isNullOrUndefined(n)?e.path:n,itemNames:s},l=t.createElement("form",{id:e.element.id+"_downloadForm",attrs:{action:a,method:"post",name:"downloadForm",download:""}}),h=t.createElement("input",{id:e.element.id+"_hiddenForm",attrs:{name:"downloadInput",value:JSON.stringify(o),type:"hidden"}});l.appendChild(h),e.element.appendChild(l),document.forms.namedItem("downloadForm").submit(),e.element.removeChild(l)}function ie(e,i,s,a,r){var o=le(e,i,s,a,r);t.isNullOrUndefined(e.dialogObj)?(e.dialogObj=new n.Dialog({header:o.header,content:o.content,buttons:o.buttons,animationSettings:{effect:"None"},showCloseIcon:!0,closeOnEscape:!0,visible:!0,isModal:!0,target:"#"+e.element.id,width:"350px",open:o.open,enableRtl:e.enableRtl,locale:e.locale}),e.dialogObj.appendTo("#"+e.element.id+Ke)):he(e,o)}function ne(e){var i=t.select("#newname",e.dialogObj.element);i.focus(),i.value="";var n=i.value.length;i.setSelectionRange(0,n)}function se(e){var i=t.select("#newname",e.dialogObj.element);i.parentElement.classList.contains("e-control-wrapper")||oe(i,T(e,"Content-NewFolder")),i.parentElement.nextElementSibling.innerHTML="",i.oninput=function(){ue(e,i)},i.onkeyup=function(t){13===ge(t)&&de(e)},ne(e)}function ae(e){var i=t.select("#rename",e.dialogObj.element);i.parentElement.classList.contains("e-control-wrapper")||oe(i,T(e,"Content-Rename")),i.parentElement.nextElementSibling.innerHTML="",i.oninput=function(){ue(e,i)},i.onkeyup=function(t){13===ge(t)&&ce(e)},re(e,i)}function re(e,t){t.focus(),t.value=e.currentItemText,e.isFile&&e.isFile&&-1!==t.value.indexOf(".")?t.setSelectionRange(0,t.value.lastIndexOf(".")):t.setSelectionRange(0,t.value.length)}function oe(e,t){a.Input.createInput({element:e,properties:{placeholder:t}})}function le(e,i,n,s,a){var r={header:"",content:"",buttons:[],open:null};switch(i=s&&!0===s.multipleFiles?"MultipleFileDetails":i){case"NewFolder":r.header=T(e,"Header-NewFolder"),r.content='<input type="text" value="New folder" id="newname"><div class="e-fe-error"></div>',r.buttons=[{buttonModel:{isPrimary:!0,content:T(e,"Button-Create")},click:function(t){"keydown"!==t.type&&de(e)}}],r.open=se.bind(this,e);break;case"Delete":e.selectedItems.length>1?(r.content=("<div>"+T(e,"Content-Multiple-Delete")+"</div>").replace("{0}",e.selectedItems.length.toString()),r.header=T(e,"Header-Multiple-Delete")):(r.content="<div>"+T(e,"Content-Delete")+"</div>",r.header=T(e,"Header-Delete")),r.buttons=[{buttonModel:{isPrimary:!0,content:T(e,"Button-Yes")},click:function(t){"keydown"!==t.type&&pe(e)}},{buttonModel:{content:T(e,"Button-No")},click:function(){e.dialogObj.hide()}}];break;case"Rename":r.header=T(e,"Header-Rename"),r.content='<input type="text" class="e-input" id="rename"><div class="e-fe-error"></div>',r.buttons=[{buttonModel:{isPrimary:!0,content:T(e,"Button-Save")},click:function(t){"keydown"!==t.type&&ce(e)}}],r.open=ae.bind(this,e);break;case"DuplicateItems":e.replaceItems=a,r.header=T(e,"Header-Duplicate"),r.content="<div>"+e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1)+T(e,"Content-Duplicate")+"</div>",r.buttons=[{buttonModel:{isPrimary:!0,content:T(e,"Button-Yes")},click:function(t){if("keydown"!==t.type){var i=e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1);e.duplicateItems.push(i),a[++e.fileLength]?(e.dialogObj.content="<div>"+e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1)+T(e,"Content-Duplicate")+"</div>",e.dialogObj.show()):(e.dialogObj.hide(),H(e,e.targetPath,e.selectedNodes,e.path,e.fileAction,e.navigationpaneModule,e.duplicateItems))}}},{buttonModel:{content:T(e,"Button-No")},click:function(){if(e.fileLength++,a[e.fileLength]){var t=e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1);e.dialogObj.content="<div>"+t+" already exists. Are you sure you want to replace it ?</div>",e.dialogObj.show()}else e.dialogObj.hide(),0!==e.duplicateItems.length&&H(e,e.targetPath,e.duplicateItems,e.path,e.fileAction,e.navigationpaneModule,e.duplicateItems)}}];break;case"GetDetails":var o=new t.Internationalization,l=(o.parseDate(s.modified,{format:"MM/dd/yyy hh:mm:ss"}),o.formatDate(new Date(s.modified),{format:"MMMM dd, yyyy HH:mm:ss"}));r.header=s.name.split(".")[0],r.content="<table><tr><td>"+T(e,"Type")+'</td><td class="'+Ct+'" title="'+(s.isFile?"File":"Folder")+'">'+(s.isFile?"File":"Folder")+"</td></tr><tr><td>"+T(e,"Size")+"</td><td>"+s.size+'<span class="'+Ct+'" title ="'+s.size+'"></span></td></tr><tr><td>'+T(e,"Location")+'</td><td class="'+Ct+'" title="'+s.location+'">'+s.location+"</td></tr><tr><td>"+T(e,"Modified")+'</td><td class="'+Ct+'" >'+l+"</td></tr></table>",r.buttons=[{buttonModel:{isPrimary:!0,content:T(e,"Button-Ok")},click:function(t){"keydown"!==t.type&&e.dialogObj.hide()}}];break;case"MultipleFileDetails":var h=s.location;r.header=s.name,r.content="<table><tr><td>"+T(e,"Type")+':</td><td class="'+Ct+'">Multiple Types</td></tr><tr><td>'+T(e,"Size")+":</td><td>"+s.size+'<span class="'+Ct+'" title ="'+s.size+'"></span></td></tr><tr><td>'+T(e,"Location")+':</td><td class="'+Ct+'" title="'+h+'">'+h+"</td></tr></table>",r.buttons=[{buttonModel:{isPrimary:!0,content:T(e,"Button-Ok")},click:function(t){"keydown"!==t.type&&e.dialogObj.hide()}}];break;case"Error":var d=n;"523"===d.error.code?r.header="Access Denied":r.header=T(e,"Error"),r.content='<div class="'+Ot+'">'+d.error.message+"</div>",r.buttons=[{buttonModel:{isPrimary:!0,content:T(e,"Button-Ok")},click:function(t){"keydown"!==t.type&&e.dialogObj.hide()}}]}return r}function he(e,t){e.dialogObj.header=t.header,e.dialogObj.content=t.content,e.dialogObj.buttons=t.buttons,e.dialogObj.enableRtl=e.enableRtl,e.dialogObj.open=t.open,e.dialogObj.dataBind(),e.dialogObj.show()}function de(e){var i=t.select("#newname",e.dialogObj.element);fe(e,i),""===i.parentElement.nextElementSibling.innerHTML&&F(e,i.value)}function ce(e){var i=t.select("#rename",e.dialogObj.element);if(fe(e,i),""===i.parentElement.nextElementSibling.innerHTML){var s=i.value;if(e.renameText=i.value,e.currentItemText===s)return void e.dialogObj.hide();if(0===e.selectedItems.length){e.parentPath=e.path;var a=e.path.split("/"),r=e.path.replace(a[a.length-2]+"/","");e.setProperties({path:r},!0)}e.isFile&&e.currentItemText.substr(e.currentItemText.lastIndexOf("."))!==s.substr(s.lastIndexOf("."))?t.isNullOrUndefined(e.extDialogObj)?(e.extDialogObj=new n.Dialog({header:T(e,"Header-Rename-Confirmation"),content:"<div>"+T(e,"Content-Rename-Confirmation")+"</div>",animationSettings:{effect:"None"},target:"#"+e.element.id,showCloseIcon:!0,closeOnEscape:!0,isModal:!0,width:350,buttons:[{buttonModel:{isPrimary:!0,content:T(e,"Button-Yes")},click:function(){e.extDialogObj.hide(),U(e,e.renameText)}},{buttonModel:{content:T(e,"Button-No")},click:function(){e.extDialogObj.hide(),e.dialogObj.hide()}}]}),e.extDialogObj.appendTo("#"+e.element.id+Ge)):e.extDialogObj.show():U(e,s)}}function pe(e){e.dialogObj.hide();var t=b("Delete",null,e);e.deleteHandler(t)}function ue(e,t){/[\/\\|*?"<>:]/.test(t.value)?me(e,t):""===t.value?t.parentElement.nextElementSibling.innerHTML=T(e,"Validation-Empty"):t.parentElement.nextElementSibling.innerHTML=""}function fe(e,t){ue(e,t);var i=t.value.length-1;""===t.value||t.value.lastIndexOf(".")!==i&&t.value.lastIndexOf(" ")!==i||me(e,t)}function me(e,t){var i=T(e,"Validation-Invalid").replace("{0}",'"'+t.value+'"');t.parentElement.nextElementSibling.innerHTML=i}function ge(e){return e.keyCode?e.keyCode:e.which?e.which:e.charCode}function be(e,i,s){var a=t.createElement("div",{className:"e-image-wrap"}),r=t.createElement("img",{className:"e-image",attrs:{src:s}});a.appendChild(r),t.isNullOrUndefined(e.viewerObj)?(e.viewerObj=new n.Dialog({header:i,content:a,animationSettings:{effect:"None"},showCloseIcon:!0,closeOnEscape:!0,visible:!0,isModal:!0,width:"350px",height:"350px",target:"#"+e.element.id,locale:e.locale,enableResize:!0,allowDragging:!0,position:{X:"center",Y:"center"},enableRtl:e.enableRtl,open:ye.bind(this,e),resizing:ve.bind(this,e),resizeStop:ve.bind(this,e)}),e.viewerObj.appendTo("#"+e.element.id+We)):(e.viewerObj.refresh(),e.viewerObj.header=i,e.viewerObj.content=a,e.viewerObj.enableRtl=e.enableRtl,e.viewerObj.dataBind(),e.viewerObj.show())}function ye(e){setTimeout(function(){e.viewerObj.element.focus()}),ve(e)}function ve(e){var i=t.select(".e-dlg-content",e.viewerObj.element),n=t.select(".e-image-wrap",e.viewerObj.element);n.style.width=i.offsetWidth-36+"px",n.style.height=i.offsetHeight-20+"px"}var Oe=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),we=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Ie=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Oe(i,e),we([t.Property(null)],i.prototype,"downloadUrl",void 0),we([t.Property(null)],i.prototype,"getImageUrl",void 0),we([t.Property(null)],i.prototype,"uploadUrl",void 0),we([t.Property(null)],i.prototype,"url",void 0),i}(t.ChildProperty),Ce=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Se=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Ne=["NewFolder","Upload","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"],Ee=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ce(i,e),Se([t.Property(Ne)],i.prototype,"items",void 0),Se([t.Property(!0)],i.prototype,"visible",void 0),i}(t.ChildProperty),je=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xe=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},De=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return je(i,e),xe([t.Property(!0)],i.prototype,"allowSearchOnTyping",void 0),xe([t.Property("contains")],i.prototype,"filterType",void 0),xe([t.Property(!0)],i.prototype,"ignoreCase",void 0),i}(t.ChildProperty),Re=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pe=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Me=[{field:"name",headerText:"Name",minWidth:120,width:"auto",template:'<span class="e-fe-text">${name}</span>',customAttributes:{class:"e-fe-grid-name"}},{field:"dateModified",headerText:"DateModified",format:{type:"date",format:"MMMM dd, yyyy HH:mm"},minWidth:50,width:"190"},{field:"size",headerText:"Size",minWidth:50,width:"110",template:'<span class="e-fe-size">${size}</span>'}],Le=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Re(i,e),Pe([t.Property(!0)],i.prototype,"columnResizing",void 0),Pe([t.Property(Me)],i.prototype,"columns",void 0),i}(t.ChildProperty),ke=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Te=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Ae=["Open","|","Delete","Download","Rename","|","Details"],_e=["Open","|","Delete","Rename","Download","|","Details"],Be=["SortBy","View","Refresh","|","NewFolder","Upload","|","Details","|","SelectAll"],Ve=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ke(i,e),Te([t.Property(Ae)],i.prototype,"file",void 0),Te([t.Property(_e)],i.prototype,"folder",void 0),Te([t.Property(Be)],i.prototype,"layout",void 0),Te([t.Property(!0)],i.prototype,"visible",void 0),i}(t.ChildProperty),Fe=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ue=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},He=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Fe(i,e),Ue([t.Property("650px")],i.prototype,"maxWidth",void 0),Ue([t.Property("240px")],i.prototype,"minWidth",void 0),Ue([t.Property(!0)],i.prototype,"visible",void 0),i}(t.ChildProperty),qe="_grid",ze="_largeicons",Ke="_dialog",We="_img_dialog",Ge="_extn_dialog",Ye="e-fe-m-filter",Je="e-large-icons",Xe="e-list-item",$e="e-list-text",Qe="e-icons e-fe-tick",Ze="e-icons e-fe-dot",et="e-blur",tt="e-active",it="e-hover",nt="e-check",st="e-checkbox-wrapper",at="e-rowcell",rt="e-empty",ot="e-empty-content",lt="e-empty-inner-content",ht="e-fe-image",dt="e-fe-music",ct="e-fe-video",pt="e-large-icon",ut="e-empty-icon e-fe-folder",ft="e-fe-folder",mt="e-content",gt="e-icons e-fe-cut",bt="e-icons e-fe-grid",yt="e-icons e-fe-large",vt="e-icons",Ot="e-fe-errorcontent",wt="e-rtl",It="e-display-none",Ct="e-fe-value",St="isFile",Nt="model-changed",Et="initial-end",jt="create-end",xt="delete-end",Dt="refresh-end",Rt="path-changed",Pt="destroy",Mt="before-request",Lt="after-request",kt="open-init",Tt="open-end",At="selection-changed",_t="layout-change",Bt="sort-by-change",Vt="rename-init",Ft="rename-end",Ut="show-paste",Ht="hide-paste",qt="sort-column",zt=function(){function e(e){this.pasteOperation=!1,this.uploadOperation=!1,this.count=0,this.isRendered=!0,this.tapCount=0,this.parent=e,this.element=t.select("#"+this.parent.element.id+ze,this.parent.element),t.addClass([this.element],Je),this.addEventListener(),this.keyConfigs={end:"end",home:"home",tab:"tab",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlEnd:"ctrl+end",ctrlHome:"ctrl+home",ctrlDown:"ctrl+downarrow",ctrlLeft:"ctrl+leftarrow",ctrlRight:"ctrl+rightarrow",ctrlUp:"ctrl+uparrow",shiftEnd:"shift+end",shiftHome:"shift+home",shiftDown:"shift+downarrow",shiftLeft:"shift+leftarrow",shiftRight:"shift+rightarrow",shiftUp:"shift+uparrow",csEnd:"ctrl+shift+end",csHome:"ctrl+shift+home",csDown:"ctrl+shift+downarrow",csLeft:"ctrl+shift+leftarrow",csRight:"ctrl+shift+rightarrow",csUp:"ctrl+shift+uparrow",space:"space",ctrlSpace:"ctrl+space",shiftSpace:"shift+space",csSpace:"ctrl+shift+space",ctrlA:"ctrl+a",enter:"enter",altEnter:"alt+enter",esc:"escape",del:"delete",ctrlX:"ctrl+x",ctrlC:"ctrl+c",ctrlV:"ctrl+v",f2:"f2",shiftdel:"shift+delete",back:"backspace"}}return e.prototype.render=function(e){if(this.element.setAttribute("tabindex","0"),this.parent.visitedItem=null,this.startItem=null,"LargeIcons"===this.parent.view){this.resetMultiSelect(),this.listObj&&(this.unWireEvents(),this.removeEventListener()),this.parent.notify("hide-layout",{});var i=t.select("#"+this.parent.element.id+ze,this.parent.element),n=t.select("ul",i);if(n&&n.remove(),this.listObj={ariaAttributes:{itemRole:"",listRole:"",itemText:"",groupItemRole:"group",wrapperRole:"presentation"},showIcon:!0,fields:{text:"name",iconCss:"icon",imageUrl:"imageUrl"},sortOrder:this.parent.sortOrder,itemCreated:this.onItemCreated.bind(this)},this.items=[],this.items=this.renderList(e),this.items=D(this.parent,this.items),this.listElements=r.ListBase.createListFromJson(t.createElement,this.items,this.listObj),this.itemList=Array.prototype.slice.call(t.selectAll("."+Xe,this.listElements)),this.element.appendChild(this.listElements),0===this.itemList.length){var s=this.element.querySelector(".e-list-parent");this.element.removeChild(s),P(this.parent,t.getValue("name",e),this.element)}else 0!==this.itemList.length&&this.element.querySelector("."+rt)&&this.element.removeChild(this.element.querySelector("."+rt));!0===this.pasteOperation&&(this.selectItems(e.files,this.parent.selectedNodes),this.parent.setProperties({selectedItems:[]},!0),this.pasteOperation=!1),!0===this.uploadOperation&&(this.selectItems(e.files,this.parent.uploadItem),this.parent.setProperties({selectedItems:[]},!0),++this.count===this.parent.uploadItem.length&&(this.uploadOperation=!1,this.parent.uploadItem=[])),this.parent.activeModule="largeiconsview",i.classList.remove(It);var a=t.select("#"+this.parent.element.id+"_content",this.parent.element),o=t.select("#"+this.parent.element.id+"_breadcrumbbar",this.parent.element);this.element.style.height=a.offsetHeight-o.offsetHeight+"px",this.element.style.maxHeight="100%",this.getItemCount(),this.addEventListener(),this.wireEvents(),this.isRendered=!0,this.parent.persistData&&this.checkItem()}},e.prototype.getModuleName=function(){return"largeiconsview"},e.prototype.onItemCreated=function(e){if(!this.parent.showFileExtension&&t.getValue("isFile",e.curData)){var i=e.item.querySelector("."+$e),n=t.getValue("name",e.curData),s=t.getValue("type",e.curData);i.innerHTML=n.substr(0,n.length-s.length)}this.renderCheckbox(e);var a={element:e.item,fileDetails:e.curData,module:"LargeIcon"};this.parent.trigger("beforeFileLoad",a)},e.prototype.renderCheckbox=function(e){if(this.parent.allowMultiSelection){var i;(i=o.createCheckBox(t.createElement,!1,{checked:!1,cssClass:"e-small"})).setAttribute("role","checkbox"),i.setAttribute("aria-checked","false"),e.item.firstElementChild.insertBefore(i,e.item.firstElementChild.childNodes[0])}},e.prototype.onLayoutChange=function(e){if("LargeIcons"===this.parent.view){if(this.destroy(),this.render(e),this.parent.cutNodes&&0!==this.parent.cutNodes.length)for(var t=this.getIndexes(e.files,this.parent.selectedNodes),i=0;i<t.length;)y(this.itemList[t[i]]),i++;var n=this.element.querySelectorAll("."+tt);this.parent.activeElements=0!==n.length?n:this.parent.activeElements,0!==n.length&&this.element.focus(),this.checkItem()}else this.element.setAttribute("tabindex","-1")},e.prototype.checkItem=function(){var e=this.element.querySelectorAll("."+tt);if(e)for(var t=0;t<e.length;)this.checkState(e[t],!0),t++},e.prototype.renderList=function(e){for(var i=0,n=JSON.parse(JSON.stringify(e.files));i<n.length;){var s=j(n[i]),a=this.parent.pasteNodes,r=this.parent.selectedItems&&-1!==this.parent.selectedItems.indexOf(t.getValue("name",e.files[i]))||a&&0!==a.length&&-1!==a.indexOf(t.getValue("name",e.files[i]))?pt+" e-active":pt;if(s===ht&&this.parent.showThumbnail){var o=x(this.parent,n[i]);t.setValue("imageUrl",o,n[i])}else t.setValue("icon",s,n[i]);t.setValue("htmlAttributes",{class:r},n[i]),i++}return n},e.prototype.onInitialEnd=function(e){this.render(e),this.parent.notify("search-change",e)},e.prototype.onCreateEnd=function(e){"LargeIcons"===this.parent.view&&(this.onLayoutChange(e),this.clearSelect(),this.selectItems(e.files,[t.getValue("name",this.parent.createdItem)]),this.parent.createdItem=null)},e.prototype.onDeleteEnd=function(e){"LargeIcons"===this.parent.view&&(this.onLayoutChange(e),this.parent.setProperties({selectedItems:[]},!0),this.clearSelect())},e.prototype.onRefreshEnd=function(e){"LargeIcons"===this.parent.view&&this.onLayoutChange(e)},e.prototype.onRenameInit=function(){"LargeIcons"===this.parent.view&&1===this.parent.selectedItems.length&&this.updateRenameData()},e.prototype.onRenameEnd=function(e){"LargeIcons"===this.parent.view&&(this.onLayoutChange(e),this.clearSelect(),this.parent.setProperties({selectedItems:[]},!0),this.selectItems(e.files,[t.getValue("name",this.parent.renamedItem)]),this.parent.renamedItem=null)},e.prototype.onPathChanged=function(e){this.parent.breadcrumbbarModule.searchObj.value&&""===this.parent.breadcrumbbarModule.searchObj.value&&(this.parent.searchedItems=[]),"LargeIcons"===this.parent.view&&(v(this.parent),this.parent.persistData||(this.parent.selectedItems=[]),this.parent.persistData=!1,this.parent.pasteNodes=[],this.parent.cutNodes=[],this.onLayoutChange(e),this.parent.notify("search-change",e))},e.prototype.onOpenInit=function(e){"largeiconsview"===this.parent.activeModule&&this.doOpenAction(e.target)},e.prototype.onHideLayout=function(e){"LargeIcons"!==this.parent.view&&this.element&&this.element.classList.add(It)},e.prototype.onSelectAllInit=function(){if("LargeIcons"===this.parent.view){this.startItem=this.getFirstItem();var e=this.getLastItem(),t={ctrlKey:!0,shiftKey:!0};this.doSelection(e,t)}},e.prototype.onClearAllInit=function(){"LargeIcons"===this.parent.view&&this.clearSelection()},e.prototype.onBeforeRequest=function(){this.isRendered=!1},e.prototype.onAfterRequest=function(e){"failure"===t.getValue("action",e)&&(this.isRendered=!0)},e.prototype.onSearch=function(e){this.parent.searchedItems=e.files,this.onLayoutChange(e)},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Et,this.onInitialEnd),this.parent.off(jt,this.onCreateEnd),this.parent.off(xt,this.onDeleteEnd),this.parent.off(Dt,this.onRefreshEnd),this.parent.off(Rt,this.onPathChanged),this.parent.off(_t,this.onLayoutChange),this.parent.off("search",this.onSearch),this.parent.off(kt,this.onOpenInit),this.parent.off(Tt,this.onLayoutChange),this.parent.off(Nt,this.onPropertyChanged),this.parent.off(Vt,this.onRenameInit),this.parent.off(Ft,this.onRenameEnd),this.parent.off("hide-layout",this.onHideLayout),this.parent.off("select-all-init",this.onSelectAllInit),this.parent.off("clear-all-init",this.onClearAllInit),this.parent.off(Mt,this.onBeforeRequest),this.parent.off(Lt,this.onAfterRequest),this.parent.off("splitter-resize",this.resizeHandler),this.parent.off("resize-end",this.resizeHandler))},e.prototype.addEventListener=function(){this.parent.on(Et,this.onInitialEnd,this),this.parent.on(jt,this.onCreateEnd,this),this.parent.on(xt,this.onDeleteEnd,this),this.parent.on(Dt,this.onRefreshEnd,this),this.parent.on(Rt,this.onPathChanged,this),this.parent.on(_t,this.onLayoutChange,this),this.parent.on("search",this.onSearch,this),this.parent.on(kt,this.onOpenInit,this),this.parent.on(Vt,this.onRenameInit,this),this.parent.on(Ft,this.onRenameEnd,this),this.parent.on(Tt,this.onLayoutChange,this),this.parent.on(Nt,this.onPropertyChanged,this),this.parent.on("hide-layout",this.onHideLayout,this),this.parent.on("select-all-init",this.onSelectAllInit,this),this.parent.on("clear-all-init",this.onClearAllInit,this),this.parent.on(Mt,this.onBeforeRequest,this),this.parent.on(Lt,this.onAfterRequest,this),this.parent.on("splitter-resize",this.resizeHandler,this),this.parent.on("resize-end",this.resizeHandler,this)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++)switch(n[i]){case"selectedItems":this.element.querySelectorAll("."+tt);if(0!==this.parent.selectedItems.length){var s=t.getValue(this.parent.path,this.parent.feFiles);this.selectItems(s,this.parent.selectedItems)}else for(;this.element.querySelectorAll("."+tt).length>0;)this.removeActive(this.element.querySelectorAll("."+tt)[0]);break;case"showThumbnail":w(this.parent);break;case"showFileExtension":case"showHiddenItems":V(this.parent,Rt,this.parent.path);break;case"allowMultiSelection":w(this.parent),this.parent.selectedItems.length>1&&!this.parent.allowMultiSelection&&(this.parent.selectedItems=[]);break;case"view":V(this.parent,_t,this.parent.path)}},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.listObj&&this.unWireEvents())},e.prototype.wireEvents=function(){this.wireClickEvent(!0),this.keyboardModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keyup"}),this.keyboardDownModule=new t.KeyboardEvents(this.element,{keyAction:this.keydownActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),t.EventHandler.add(this.element,"mouseover",this.onMouseOver,this)},e.prototype.unWireEvents=function(){this.wireClickEvent(!1),t.EventHandler.remove(this.element,"mouseover",this.onMouseOver),this.keyboardModule.destroy()},e.prototype.onMouseOver=function(e){var t=e.target.closest(".e-list-item");v(this.parent,"hover"),null!==t&&t.classList.add(it)},e.prototype.wireClickEvent=function(e){if(e){var i=this;this.clickObj=new t.Touch(this.element,{tap:function(e){e.originalEvent.preventDefault(),i.parent.isDevice?(i.tapCount=e.tapCount,i.tapEvent=e,setTimeout(function(){i.tapCount>0&&i.doTapAction(i.tapEvent),i.tapCount=0},350)):2===e.tapCount&&3!==e.originalEvent.which?i.dblClickHandler(e):i.clickHandler(e)},tapHold:function(e){i.parent.isDevice&&(i.multiSelect=!!i.parent.allowMultiSelection,i.parent.allowMultiSelection&&t.addClass([i.parent.element],"e-fe-m-select"),i.clickHandler(e))}})}else this.clickObj&&this.clickObj.destroy()},e.prototype.doTapAction=function(e){var i=e.originalEvent.target,n=i.closest("."+Xe);this.multiSelect||i.classList.contains("e-list-parent")||t.isNullOrUndefined(n)?this.clickHandler(e):(this.parent.isFile=!1,this.updateType(n),this.parent.isFile?2===e.tapCount?(this.clickHandler(e),this.dblClickHandler(e)):this.clickHandler(e):this.dblClickHandler(e))},e.prototype.clickHandler=function(e){var t=e.originalEvent.target;this.doSelection(t,e.originalEvent)},e.prototype.doSelection=function(e,i){var n=e.closest("."+Xe),s=(this.getFocusedItem(),e.classList);this.parent.isFile=!1;var a="select";if(3===i.which&&!t.isNullOrUndefined(n)&&n.classList.contains(tt))return void this.updateType(n);if(t.isNullOrUndefined(n))this.clearSelection();else{if(this.parent.allowMultiSelection&&(this.multiSelect||!i||i.ctrlKey)||s.contains("e-frame")||(this.updateType(n),this.clearSelect()),this.parent.allowMultiSelection&&i.shiftKey){i&&i.ctrlKey||this.clearSelect(),this.startItem||(this.startItem=n);var r=this.itemList.indexOf(this.startItem),o=this.itemList.indexOf(n);if(r>o)for(l=r;l>=o;l--)this.addActive(this.itemList[l]);else for(var l=r;l<=o;l++)this.addActive(this.itemList[l]);this.addFocus(this.itemList[o])}else this.startItem=n,this.parent.allowMultiSelection&&n.classList.contains(tt)?(this.removeActive(n),a="unselect"):this.addActive(n),this.addFocus(n);0===this.parent.selectedItems.length&&this.resetMultiSelect(),this.parent.notify(At,{}),this.triggerSelect(a,n)}this.parent.activeElements=this.element.querySelectorAll(".e-active")},e.prototype.dblClickHandler=function(e){var t=e.originalEvent.target;this.doOpenAction(t)},e.prototype.clearSelection=function(){this.clearSelect(),this.resetMultiSelect(),this.parent.notify(At,{})},e.prototype.resetMultiSelect=function(){this.multiSelect=!1,t.removeClass([this.parent.element],"e-fe-m-select")},e.prototype.doOpenAction=function(e){if(!t.isNullOrUndefined(e)){var i=e.closest("."+Xe);if(this.parent.isFile=!1,!t.isNullOrUndefined(i)){this.updateType(i);var n=this.getItemObject(i),s={cancel:!1,fileDetails:n};if(this.parent.trigger("beforeFileOpen",s),s.cancel)return;var a=t.select("."+$e,i).textContent;if(this.parent.isFile){if(j(n)===ht){var r=x(this.parent,n);be(this.parent,t.getValue("name",n),r)}}else{var o=this.parent.path+a+"/";this.parent.setProperties({path:o},!0),this.parent.pathId.push(t.getValue("nodeId",n)),this.parent.itemData=[n],I(this.parent),this.parent.setProperties({selectedItems:[]},!0)}}}},e.prototype.updateType=function(e){var i=t.select(".e-fe-folder",e);this.parent.isFile=!!t.isNullOrUndefined(i)},e.prototype.keydownActionHandler=function(e){if(this.isRendered)switch(e.action){case"end":case"home":case"moveDown":case"moveLeft":case"moveRight":case"moveUp":case"ctrlEnd":case"shiftEnd":case"csEnd":case"ctrlHome":case"shiftHome":case"csHome":case"ctrlDown":case"shiftDown":case"csDown":case"ctrlLeft":case"shiftLeft":case"csLeft":case"ctrlRight":case"shiftRight":case"csRight":case"space":case"ctrlSpace":case"shiftSpace":case"csSpace":case"ctrlA":case"enter":case"altEnter":case"esc":case"del":case"shiftdel":case"ctrlC":case"ctrlV":case"ctrlX":case"f2":e.preventDefault()}},e.prototype.keyActionHandler=function(e){if(this.isRendered){var i=this.getFocusedItem(),n=this.getFirstItem(),s=this.getLastItem();switch(e.action){case"end":this.navigateItem(s);break;case"home":this.navigateItem(n);break;case"tab":t.isNullOrUndefined(n)||(this.startItem=n,this.clearSelect(),this.addFocus(n),this.parent.notify(At,{}),this.triggerSelect("select",n));break;case"moveDown":this.navigateDown(i,!0);break;case"moveLeft":this.navigateRight(i,!1);break;case"moveRight":this.navigateRight(i,!0);break;case"moveUp":this.navigateDown(i,!1);break;case"ctrlEnd":case"shiftEnd":case"csEnd":this.csEndKey(s,e);break;case"ctrlHome":case"shiftHome":case"csHome":this.csHomeKey(n,e);break;case"ctrlDown":case"shiftDown":case"csDown":this.csDownKey(i,e);break;case"ctrlLeft":case"shiftLeft":case"csLeft":this.csLeftKey(i,e);break;case"ctrlRight":case"shiftRight":case"csRight":this.csRightKey(i,e);break;case"ctrlUp":case"shiftUp":case"csUp":this.csUpKey(i,e);break;case"space":this.spaceKey(i);break;case"ctrlSpace":case"shiftSpace":case"csSpace":t.isNullOrUndefined(i)||this.doSelection(i,e);break;case"ctrlA":this.ctrlAKey(n,s);break;case"enter":this.doOpenAction(this.parent.visitedItem?this.parent.visitedItem:this.getVisitedItem());break;case"altEnter":this.parent.getDetails();break;case"esc":this.escapeKey();break;case"del":case"shiftdel":this.parent.selectedItems&&this.parent.selectedItems.length>0&&ie(this.parent,"Delete");break;case"ctrlC":this.copy();break;case"ctrlV":this.parent.pasteHandler();break;case"ctrlX":this.cut();break;case"f2":1===this.parent.selectedItems.length&&(this.updateRenameData(),ie(this.parent,"Rename"))}}},e.prototype.updateRenameData=function(){var e=t.select("."+Xe+"."+tt,this.element),i=this.getItemObject(e);this.parent.itemData=[i],this.parent.currentItemText=t.getValue("name",i),this.parent.isFile=t.getValue("isFile",i)},e.prototype.getVisitedItem=function(){var e=t.getValue(this.parent.path,this.parent.feFiles),i=this.parent.selectedItems[this.parent.selectedItems.length-1],n=this.getIndexes(e,[i]);return this.itemList[n[0]]},e.prototype.getFocusedItem=function(){return t.select("."+Xe+".e-focus",this.element)},e.prototype.getActiveItem=function(){return t.select("."+Xe+"."+tt,this.element)},e.prototype.getFirstItem=function(){return this.itemList[0]},e.prototype.getLastItem=function(){return this.itemList[this.itemList.length-1]},e.prototype.navigateItem=function(e){this.setFocus(e)},e.prototype.navigateDown=function(e,t){var i=this.getNextItem(e,t,this.perRow);this.setFocus(i)},e.prototype.navigateRight=function(e,t){var i=this.getNextItem(e,t);this.setFocus(i)},e.prototype.getNextItem=function(e,i,n){if(t.isNullOrUndefined(e))return this.getFocusedItem()||this.getActiveItem()||this.getFirstItem();var s,a=this.itemList.indexOf(e);do{if(a=i?n?a+n:a+1:n?a-n:a-1,s=this.itemList[a],t.isNullOrUndefined(s))return e}while(!t.isVisible(s));return s},e.prototype.setFocus=function(e){t.isNullOrUndefined(e)||(this.startItem=e,this.clearSelect(),this.addActive(e),this.addFocus(e),this.parent.notify(At,{}),this.triggerSelect("select",e))},e.prototype.cut=function(){E(this.parent),this.parent.fileOperation(this.parent.nodeNames)},e.prototype.copy=function(){N(this.parent),this.parent.fileOperation(this.parent.nodeNames)},e.prototype.escapeKey=function(){v(this.parent),this.parent.selectedNodes=[],this.parent.navigationpaneModule.treeNodes=[]},e.prototype.spaceKey=function(e){t.isNullOrUndefined(e)||e.classList.contains(tt)||(this.addActive(e),this.parent.notify(At,{}),this.triggerSelect("select",e))},e.prototype.ctrlAKey=function(e,i){if(this.parent.allowMultiSelection&&!t.isNullOrUndefined(e)){this.startItem=e;var n={ctrlKey:!0,shiftKey:!0};this.doSelection(i,n)}},e.prototype.csEndKey=function(e,i){this.parent.allowMultiSelection?t.isNullOrUndefined(e)||("ctrlEnd"===i.action?this.addFocus(e):this.doSelection(e,i)):this.navigateItem(e)},e.prototype.csHomeKey=function(e,i){this.parent.allowMultiSelection?t.isNullOrUndefined(e)||("ctrlHome"===i.action?this.addFocus(e):this.doSelection(e,i)):this.navigateItem(e)},e.prototype.csDownKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!0,this.perRow);t.isNullOrUndefined(n)||("ctrlDown"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateDown(e,!0)},e.prototype.csLeftKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!1);t.isNullOrUndefined(n)||("ctrlLeft"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateRight(e,!1)},e.prototype.csRightKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!0);t.isNullOrUndefined(n)||("ctrlRight"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateRight(e,!0)},e.prototype.csUpKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!1,this.perRow);t.isNullOrUndefined(n)||("ctrlUp"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateDown(e,!1)},e.prototype.addActive=function(e){t.isNullOrUndefined(e)||(e.classList.contains(tt)||(this.parent.selectedItems.push(e.textContent),t.addClass([e],[tt]),this.checkState(e,!0)),this.parent.visitedItem=e)},e.prototype.removeActive=function(e){if(!t.isNullOrUndefined(e)){t.removeClass([e],[tt]),this.checkState(e,!1);var i=this.parent.selectedItems.indexOf(e.textContent);i>-1&&this.parent.selectedItems.splice(i,1),this.parent.visitedItem=null}},e.prototype.addFocus=function(e){var i=this.getFocusedItem();i&&t.removeClass([i],["e-focus"]),t.addClass([e],["e-focus"])},e.prototype.checkState=function(e,i){if(this.parent.allowMultiSelection){var n=t.select(".e-frame",e);i?n.classList.contains(nt)||(t.addClass([n],nt),n.closest("."+st).setAttribute("aria-checked","true")):n.classList.contains(nt)&&(t.removeClass([n],nt),n.closest("."+st).setAttribute("aria-checked","false"))}},e.prototype.clearSelect=function(){for(var e=Array.prototype.slice.call(t.selectAll("."+tt,this.listElements)),i=0,n=e.length;i<n;i++)this.removeActive(e[i])},e.prototype.resizeHandler=function(){this.getItemCount()},e.prototype.getItemCount=function(){var e=1;if(this.itemList)for(var t=0,i=this.itemList.length-1;t<i&&this.itemList[t].getBoundingClientRect().top===this.itemList[t+1].getBoundingClientRect().top;t++)e++;this.perRow=e},e.prototype.triggerSelect=function(e,t){var i={action:e,fileDetails:this.getItemObject(t)};this.parent.trigger("fileSelect",i)},e.prototype.selectItems=function(e,t){for(var i=this.getIndexes(e,t),n=0,s=i.length;n<s;n++){var a={ctrlKey:!0,shiftKey:!1};this.doSelection(this.itemList[i[n]],a)}},e.prototype.getIndexes=function(e,i){for(var n=[],s=0,a=this.items.length;s<a;s++)-1!==i.indexOf(t.getValue("name",this.items[s]))&&n.push(s);return n},e.prototype.getItemObject=function(e){var t=this.itemList.indexOf(e);return this.items[t]},e}(),Kt=function(){function e(e){this.addressPath="",this.addressBarLink="",this.parent=e,this.treeView=this.parent.navigationpaneModule,this.keyConfigs={enter:"enter"},this.render()}return e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++)switch(n[i]){case"searchSettings":t.isNullOrUndefined(e.newProp.searchSettings.allowSearchOnTyping)||this.searchEventBind(e.newProp.searchSettings.allowSearchOnTyping)}},e.prototype.render=function(){this.addEventListener()},e.prototype.onPathChanged=function(){var e=t.getValue("name",t.getValue("/",this.parent.feParent));this.addressBarLink?this.addressPath=this.addressBarLink:this.addressPath=e+this.parent.path;var i=this.addressPath,n=i.substring(i.indexOf("/"),i.length);this.parent.setProperties({path:n},!0);var s=[];s=i.split("/");var a=null;(a=this.parent.createElement("ul")).setAttribute("class","e-addressbar-ul");var r=null,o=s.length-1;if(s.length>1){for(var l="",h=0;h<o;h++){var d=null;r=this.parent.createElement("li");for(var c=0;c<=h;c++)l=l+s[c]+"/";if(r.setAttribute("data-utext",l),r.classList.add("e-address-list-item"),r.setAttribute("tabindex","0"),0!==h){var p=t.createElement("span",{className:vt});r.appendChild(p)}l="",(d=o-h!=1?t.createElement("a",{className:$e}):t.createElement("span",{className:$e})).innerText=s[h],r.appendChild(d),a.appendChild(r)}var u=this.parent.breadCrumbBarNavigation.querySelector(".e-addressbar-ul");t.isNullOrUndefined(u)||(t.isNullOrUndefined(this.subMenuObj)||this.subMenuObj.destroy(),u.remove());var f=this.parent.breadCrumbBarNavigation.querySelector(".e-search-wrap");f?this.parent.breadCrumbBarNavigation.appendChild(a):this.parent.breadCrumbBarNavigation.insertBefore(a,f),this.updateBreadCrumbBar(a)}this.addressBarLink="",""!==this.searchObj.value&&(this.searchObj.value="")},e.prototype.updateBreadCrumbBar=function(e){for(var i=e.querySelectorAll("li"),n=this.parent.breadCrumbBarNavigation.querySelector(".e-addressbar-ul"),s=window.getComputedStyle(n,null),r=parseFloat(s.getPropertyValue("padding-right")),o=parseFloat(s.getPropertyValue("padding-left")),h=n.offsetWidth-r-o,d=this.parent.createElement("ul",{className:"e-addressbar-ul"}),c=0,p=[],u=0;u<i.length;u++){var f=i[u].clientWidth;p.push(f),c+=f}t.isNullOrUndefined(n)||n.remove();var m=this.parent.createElement("div");m.setAttribute("class","e-search-wrap");var g=t.createElement("input",{id:this.parent.element.id+"_search"});m.appendChild(g);var b=this.parent.breadCrumbBarNavigation.querySelector(".e-search-wrap .e-input");if(t.isNullOrUndefined(b)){this.parent.breadCrumbBarNavigation.appendChild(m);var y=t.createElement("span",{className:"e-icons e-fe-search"});t.EventHandler.add(y,"click",this.onShowInput,this),g.parentElement.insertBefore(y,g),this.searchObj=new a.TextBox({showClearButton:!0,placeholder:T(this.parent,"Search"),focus:this.onFocus.bind(this),blur:this.onBlur.bind(this)}),this.searchObj.appendTo("#"+this.parent.element.id+"_search"),this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);var v=this.searchObj.element.nextElementSibling;t.EventHandler.add(v,"mousedown",this.searchChangeHandler.bind(this),this),t.EventHandler.add(this.searchObj.element,"keyup",this.onKeyUp.bind(this),this)}var O=this.parent.breadCrumbBarNavigation.querySelector(".e-search-wrap");if(h-=O.offsetWidth,c>h){for(u=i.length;u--;){var w=h-p[u];if(!(w>40)){for(var I=[],C=0;C<=u;C++){var S=i[C];I.push({text:S.innerText,utext:S.getAttribute("data-utext")})}var N=this.parent.createElement("li",{className:"e-breadcrumb-menu"}),E={className:"e-breadcrumb-submenu"},j=this.parent.createElement("button",E);N.appendChild(j),d.insertBefore(N,d.querySelector("li")),this.subMenuObj=new l.DropDownButton({items:I,cssClass:"e-caret-hide e-submenu",iconCss:"e-icons e-fe-breadcrumb",iconPosition:"Top",beforeItemRender:this.addSubMenuAttributes.bind(this),select:this.subMenuSelectOperations.bind(this)}),this.subMenuObj.appendTo(j);break}d.insertBefore(i[u],d.querySelector("li")),h=w}this.parent.breadCrumbBarNavigation.insertBefore(d,O)}else this.parent.breadCrumbBarNavigation.insertBefore(e,O)},e.prototype.onFocus=function(){this.searchObj.element.closest(".e-search-wrap").classList.add("e-focus")},e.prototype.onKeyUp=function(){this.parent.notify("path-column",{args:this.parent})},e.prototype.onBlur=function(){this.searchObj.element.closest(".e-search-wrap").classList.remove("e-focus")},e.prototype.subMenuSelectOperations=function(e){var t={target:e.element};this.addressPathClickHandler(t)},e.prototype.addSubMenuAttributes=function(e){e.element.setAttribute("data-utext",t.getValue("utext",e.item));var i=this.parent.createElement("a",{className:"e-list-text"});e.element.appendChild(i)},e.prototype.searchEventBind=function(e){e?(this.searchObj.input=this.searchChangeHandler.bind(this),this.searchObj.change=null):(this.searchObj.change=this.searchChangeHandler.bind(this),this.searchObj.input=null)},e.prototype.searchChangeHandler=function(e){if(!t.isNullOrUndefined(e.value)){var i=void 0;0===e.value.length&&this.parent.notify("path-column",{args:this.parent}),i="startWith"===this.parent.searchSettings.filterType?"*"+e.value:"endsWith"===this.parent.searchSettings.filterType?e.value+"*":"*"+e.value+"*",this.searchObj.element.value.length>0?Z(this.parent,"search",this.parent.path,i,!1,!1):V(this.parent,Rt,this.parent.path)}},e.prototype.addressPathClickHandler=function(e){var i=e.target;if("LI"===i.nodeName||"A"===i.nodeName){var n="LI"===i.nodeName?i.children[0]:i;if(!t.isNullOrUndefined(n)){var s=this.updatePath(n);this.liClick(s);var a=this.parent.pathId[this.parent.pathId.length-1];this.parent.notify("update-tree-selection",{module:"treeview",selectedNode:a})}}},e.prototype.onShowInput=function(){this.parent.isMobile&&(this.parent.element.classList.contains(Ye)?t.removeClass([this.parent.element],Ye):(t.addClass([this.parent.element],Ye),this.searchObj.element.focus()))},e.prototype.updatePath=function(e){var i=t.closest(e,"li").getAttribute("data-utext");this.addressBarLink=i;var n=this.addressBarLink.split("/"),s=this.parent.pathId;this.parent.pathId=[];for(var a=0,r=n.length-1;a<r;a++)this.parent.pathId.push(s[a]);return this.addressBarLink.substr(this.addressBarLink.indexOf("/"),this.addressBarLink.length)},e.prototype.onInitialEnd=function(){this.onPathChanged()},e.prototype.onRefreshEnd=function(){this.onPathChanged()},e.prototype.onCreateEnd=function(e){this.addressPath.substring(this.addressPath.indexOf("/"),this.addressPath.length)!==this.parent.path&&this.onPathChanged()},e.prototype.onDeleteEnd=function(){this.addressPath.substring(this.addressPath.indexOf("/"),this.addressPath.length)!==this.parent.path&&this.onPathChanged()},e.prototype.onRenameEnd=function(){this.onPathChanged()},e.prototype.liClick=function(e){V(this.parent,Rt,e)},e.prototype.addEventListener=function(){this.keyboardModule=new t.KeyboardEvents(this.parent.breadCrumbBarNavigation,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.parent.on(Nt,this.onPropertyChanged,this),t.EventHandler.add(this.parent.breadCrumbBarNavigation,"click",this.addressPathClickHandler,this),this.parent.on(Pt,this.destroy,this),this.parent.on(Rt,this.onPathChanged,this),this.parent.on(Et,this.onInitialEnd,this),this.parent.on(Dt,this.onRefreshEnd,this),this.parent.on(Tt,this.onPathChanged,this),this.parent.on(jt,this.onCreateEnd,this),this.parent.on(Ft,this.onRenameEnd,this),this.parent.on(xt,this.onDeleteEnd,this),this.parent.on("splitter-resize",this.onPathChanged,this),this.parent.on("resize-end",this.onPathChanged,this),this.parent.on("search-change",this.onSearchTextChange,this)},e.prototype.keyActionHandler=function(e){switch(e.action){case"enter":e.preventDefault(),this.addressPathClickHandler(e)}},e.prototype.removeEventListener=function(){this.keyboardModule.destroy(),this.parent.off(Rt,this.onPathChanged),this.parent.off(Et,this.onInitialEnd),this.parent.off(Dt,this.onRefreshEnd),this.parent.off(Tt,this.onPathChanged),this.parent.off(jt,this.onCreateEnd),this.parent.off(Ft,this.onRenameEnd),this.parent.off(xt,this.onDeleteEnd),this.parent.off("splitter-resize",this.onPathChanged),this.parent.off("resize-end",this.onPathChanged),this.parent.off("search-change",this.onSearchTextChange)},e.prototype.getModuleName=function(){return"breadcrumbbar"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),t.isNullOrUndefined(this.subMenuObj)||this.subMenuObj.destroy(),t.isNullOrUndefined(this.searchObj)||this.searchObj.destroy())},e.prototype.onSearchTextChange=function(e){this.searchObj.element.placeholder=T(this.parent,"Search "+e.cwd.name)},e}(),Wt=function(){function e(e){this.parent=e,this.render()}return e.prototype.render=function(){this.contextMenu=new h.ContextMenu({enableRtl:this.parent.enableRtl,locale:this.parent.locale,target:"#"+this.parent.element.id,beforeItemRender:this.onBeforeItemRender.bind(this),select:this.onSelect.bind(this),beforeOpen:this.onBeforeOpen.bind(this),cssClass:A(this.parent,"e-fe-popup")}),this.contextMenu.appendTo("#"+this.parent.element.id+"_contextmenu"),this.addEventListener()},e.prototype.onBeforeItemRender=function(e){if(e.item.id===this.getMenuId("largeiconsview")){i=t.createElement("span");e.element.insertBefore(i,e.element.childNodes[1]),i.setAttribute("class",yt+" e-menu-icon")}if(e.item.id===this.getMenuId("detailsview")){var i=t.createElement("span");e.element.insertBefore(i,e.element.childNodes[1]),i.setAttribute("class",bt+" e-menu-icon")}},e.prototype.onBeforeOpen=function(e){var i,n,s=!1,a=!1,r=e.event.target;r.classList.contains("e-spinner-pane")&&(r=this.parent.navigationpaneModule.activeNode.getElementsByClassName("e-fullrow")[0]),r.classList.contains("e-fullrow")&&(this.parent.selectedItems.length=0),this.targetElement="Details"===this.parent.fileView?r.closest("tr"):r;var o=this.getTargetView(r);if(r.classList.contains("e-treeview")||r.closest("th")||r.closest("#"+this.parent.element.id+"_breadcrumbbar"))e.cancel=!0;else if("LargeIcons"!==this.parent.fileView&&this.targetElement&&this.targetElement.classList.contains("e-emptyrow"))this.setLayoutItem(r);else if(r.closest("."+rt))this.setLayoutItem(r);else if(!r.classList.contains("e-menu-item")&&!r.classList.contains("e-menu-icon")&&!r.classList.contains("e-caret")){if("LargeIcons"!==this.parent.fileView||t.isNullOrUndefined(r.closest("li"))||r.closest("#"+this.parent.element.id+"_tree"))t.isNullOrUndefined(r.closest("tr"))?r.closest("#"+this.parent.element.id+"_tree")&&(a=!0):(i=this.targetElement.getAttribute("data-uid"),n=this.parent.detailsviewModule.gridObj.getRowObjectFromUID(i).data,t.isNullOrUndefined(this.targetElement.getAttribute("aria-selected"))&&this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute("aria-rowindex"),10)]),s=!0);else{var l={ctrlKey:!0,shiftKey:!0};n=R(this.parent,this.targetElement.closest("li")),r.closest("li").classList.contains("e-active")||this.parent.largeiconsviewModule.doSelection(r,l),s=!0}s?"LargeIcons"===this.parent.fileView?!0===n.isFile?(this.setFileItem(r),r.closest("li")&&0===r.closest("li").getElementsByClassName("e-list-img").length&&this.contextMenu.enableItems([this.getMenuId("Open")],!1,!0)):this.setFolderItem(!1):!0===n.isFile?(this.setFileItem(r),r.closest("tr")&&0===r.closest("tr").getElementsByClassName(ht).length&&this.contextMenu.enableItems([this.getMenuId("Open")],!1,!0)):this.setFolderItem(!1):a?this.setFolderItem(!0):"TreeView"===o||"GridView"===o||"LargeIcon"===o?this.setLayoutItem(r):e.cancel=!0}if(!e.cancel){this.contextMenu.dataBind();var h={fileDetails:C(this.parent),element:e.element,target:r,items:this.contextMenu.items,menuModule:this.contextMenu,cancel:!1};this.parent.trigger("menuOpen",h),e.cancel=h.cancel,e.cancel}},e.prototype.getTargetView=function(e){return e.classList.contains("e-treeview")?"TreeView":e.classList.contains(mt)?"GridView":e.classList.contains("e-list-parent")?"LargeIcon":e.classList.contains(Je)?"LargeIcon":""},e.prototype.setFolderItem=function(e){this.contextMenu.items=this.getItemData(this.parent.contextMenuSettings.folder),this.contextMenu.dataBind(),e?(this.contextMenu.enableItems([this.getMenuId("Open")],!1,!0),this.contextMenu.enableItems([this.getMenuId("Download")],!1,!0)):1!==this.parent.selectedItems.length&&this.contextMenu.enableItems([this.getMenuId("Rename")],!1,!0)},e.prototype.setFileItem=function(e){this.contextMenu.items=this.getItemData(this.parent.contextMenuSettings.file),this.contextMenu.dataBind(),1!==this.parent.selectedItems.length&&this.contextMenu.enableItems([this.getMenuId("Rename")],!1,!0)},e.prototype.setLayoutItem=function(e){this.contextMenu.items=this.getItemData(this.parent.contextMenuSettings.layout),this.contextMenu.dataBind(),("LargeIcons"===this.parent.fileView&&0!==e.closest("#"+this.parent.element.id+ze).getElementsByClassName(rt).length||"Details"===this.parent.fileView&&0!==e.closest("#"+this.parent.element.id+qe).getElementsByClassName(rt).length)&&(this.contextMenu.enableItems([this.getMenuId("SelectAll")],!1,!0),this.contextMenu.dataBind())},e.prototype.onSelect=function(e){if(!t.isNullOrUndefined(e.item)&&e.item.id){var i,n=e.item.id.substr((this.parent.element.id+"_cm_").length);"refresh"===n||"newfolder"===n?(i=S(this.parent),this.parent.itemData=[i]):i=C(this.parent);var s={cancel:!1,element:e.element,fileDetails:i,item:e.item};if(this.parent.trigger("menuClick",s),!s.cancel){if(this.parent.selectedItems.length>0&&("paste"===n||"upload"===n)){var a=void 0,r=void 0;if("Details"===this.parent.fileView){var o=this.targetElement.getAttribute("data-uid");r=this.parent.detailsviewModule.gridObj.getRowObjectFromUID(o).data}else{d=this.targetElement.parentElement;r=R(this.parent,d)}r.isFile?a="":(a=r.name+"/",this.parent.navigationpaneModule.treeObj.selectedNodes=[r.id]);var l=this.parent.path+a;this.parent.setProperties({path:l},!0)}var h=this.parent.selectedItems;switch(n){case"cut":E(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames);break;case"copy":N(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames),"navigationpane"===this.parent.activeModule&&(this.parent.navigationpaneModule.copyNodes=this.parent.nodeNames);break;case"paste":this.parent.pasteHandler(),v(this.parent);break;case"delete":ie(this.parent,"Delete");break;case"download":if("detailsview"===this.parent.activeModule)h=this.parent.detailsviewModule.gridObj.getSelectedRecords();else if("largeiconsview"===this.parent.activeModule)for(var d=this.parent.activeElements,c=0;c<d.length;c++)h[c]=R(this.parent,d[c]);h.length>0&&te(this.parent,h);break;case"rename":this.parent.notify(Vt,{}),ie(this.parent,"Rename");break;case"selectall":this.parent.notify("select-all-init",{});break;case"refresh":w(this.parent);break;case"open":this.parent.visitedItem&&this.parent.notify(kt,{target:this.parent.visitedItem});break;case"details":this.parent.getDetails();break;case"newfolder":ie(this.parent,"NewFolder");break;case"upload":document.getElementById(this.parent.element.id+"_upload").click();break;case"name":case"size":case"date":case"ascending":case"descending":_(this.parent,e);break;case"largeiconsview":this.changeLayout("LargeIcons");break;case"detailsview":this.changeLayout("Details")}}}},e.prototype.changeLayout=function(e){this.parent.view!==e&&(this.parent.setProperties({view:e},!0),V(this.parent,_t,this.parent.path))},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var t=0,i=Object.keys(e.newProp);t<i.length;t++)switch(i[t]){case"cssClass":this.contextMenu.cssClass=A(this.parent,"e-fe-popup");break;case"enableRtl":this.contextMenu.enableRtl=e.newProp.enableRtl}},e.prototype.addEventListener=function(){this.parent.on(Pt,this.destroy,this),this.parent.on(Nt,this.onPropertyChanged,this)},e.prototype.removeEventListener=function(){this.parent.off(Pt,this.destroy),this.parent.off(Nt,this.onPropertyChanged)},e.prototype.getModuleName=function(){return"contextmenu"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.contextMenu.destroy(),document.getElementById(this.parent.element.id+"_contextmenu")&&document.getElementById(this.parent.element.id+"_contextmenu").remove())},e.prototype.getItemData=function(e){for(var t=[],i=0;i<e.length;i++){var n=void 0,s=this.getMenuId(e[i]),a=T(this.parent,e[i]);switch(e[i]){case"|":n={separator:!0};break;case"Open":n={id:s,text:a,iconCss:"e-icons e-fe-open"};break;case"Upload":n={id:s,text:a,iconCss:"e-icons e-fe-upload"};break;case"Cut":n={id:s,text:a,iconCss:gt};break;case"Copy":n={id:s,text:a,iconCss:"e-icons e-fe-copy"};break;case"Paste":n={id:s,text:a,iconCss:"e-icons e-fe-paste"};break;case"Delete":n={id:s,text:a,iconCss:"e-icons e-fe-delete"};break;case"Rename":n={id:s,text:a,iconCss:"e-icons e-fe-rename"};break;case"NewFolder":n={id:s,text:a,iconCss:"e-icons e-fe-newfolder"};break;case"Details":n={id:s,text:a,iconCss:"e-icons e-fe-details"};break;case"SortBy":n={id:s,text:a,iconCss:"e-icons e-fe-sort",items:[{id:this.getMenuId("Name"),text:T(this.parent,"Name"),iconCss:"name"===this.parent.sortBy?Ze:""},{id:this.getMenuId("Size"),text:T(this.parent,"Size"),iconCss:"size"===this.parent.sortBy?Ze:""},{id:this.getMenuId("Date"),text:T(this.parent,"DateModified"),iconCss:"dateModified"===this.parent.sortBy?Ze:""},{separator:!0},{id:this.getMenuId("Ascending"),text:T(this.parent,"Ascending"),iconCss:"Ascending"===this.parent.sortOrder?Qe:""},{id:this.getMenuId("Descending"),text:T(this.parent,"Descending"),iconCss:"Descending"===this.parent.sortOrder?Qe:""}]};break;case"View":n={id:s,text:a,iconCss:"Details"===this.parent.view?bt:yt,items:[{id:this.getMenuId("largeiconsview"),text:T(this.parent,"View-LargeIcons"),iconCss:"Details"===this.parent.view?"":Qe},{id:this.getMenuId("detailsview"),text:T(this.parent,"View-Details"),iconCss:"Details"===this.parent.view?Qe:""}]};break;case"Refresh":n={id:s,text:a,iconCss:"e-icons e-fe-refresh"};break;case"SelectAll":n={id:s,text:a,iconCss:"e-icons e-fe-select"};break;case"Download":n={id:s,text:a,iconCss:"e-icons e-fe-download"};break;default:n={id:s,text:a}}t.push(n)}return t},e.prototype.getMenuId=function(e){return this.parent.element.id+"_cm_"+e.toLowerCase()},e}(),Gt={NewFolder:"New folder",Upload:"Upload",Delete:"Delete",Rename:"Rename",Download:"Download",Cut:"Cut",Copy:"Copy",Paste:"Paste",SortBy:"Sort by",Refresh:"Refresh",Selection:"items selected",View:"View",Details:"Details",SelectAll:"Select all",Open:"Open","Tooltip-NewFolder":"New folder","Tooltip-Upload":"Upload","Tooltip-Delete":"Delete","Tooltip-Rename":"Rename","Tooltip-Download":"Download","Tooltip-Cut":"Cut","Tooltip-Copy":"Copy","Tooltip-Paste":"Paste","Tooltip-SortBy":"Sort by","Tooltip-Refresh":"Refresh","Tooltip-Selection":"Clear selection","Tooltip-View":"View","Tooltip-Details":"Details","Tooltip-SelectAll":"Select all",Name:"Name",Size:"Size",DateModified:"Modified",DateCreated:"Date created",Modified:"Modified",Created:"Created",Location:"Location",Type:"Type",Ascending:"Ascending",Descending:"Descending","View-LargeIcons":"Large icons","View-Details":"Details",Search:"Search","Button-Ok":"OK","Button-Cancel":"Cancel","Button-Yes":"Yes","Button-No":"No","Button-Create":"Create","Button-Save":"Save","Header-NewFolder":"Folder","Content-NewFolder":"Enter your folder name","Header-Rename":"Rename","Content-Rename":"Enter your new name","Header-Rename-Confirmation":"Rename Confirmation","Content-Rename-Confirmation":"If you change a file name extension, the file might become unstable. Are you sure you want to change it?","Header-Delete":"Delete File","Content-Delete":"Are you sure you want to delete this file?","Header-Multiple-Delete":"Delete Multiple Files","Content-Multiple-Delete":"Are you sure you want to delete these {0} files?","Header-Duplicate":"File exists","Content-Duplicate":" already exists. Are you sure you want to replace it?","Header-Upload":"Upload Files",Error:"Error","Validation-Empty":"The file or folder name cannot be empty.","Validation-Invalid":'The file or folder name {0} contains invalid characters. Please use a different name. Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\/:*?"<>|',"Validation-NewFolder-Exists":"A file or folder with the name {0} already exists.","Validation-Rename-Exists":"Cannot rename {0} to {1}: destination already exists.","Folder-Empty":"This folder is empty","File-Upload":"Drag files here to upload","Search-Empty":"No results found","Search-Key":"Try with different keywords"},Yt=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jt=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Xt=function(e){function s(t,i){var n=e.call(this,t,i)||this;return n.selectedNodes=[],n.duplicateItems=[],n.previousPath=[],n.nextPath=[],n.uploadItem=[],n.deleteRecords=[],n.isFile=!1,n.sortOrder="Ascending",n.sortBy="name",n.enablePaste=!1,n.persistData=!1,n.isOpened=!1,n.searchedItems=[],r.Inject(Kt,zt,Wt),n}Yt(s,e),r=s,s.prototype.getModuleName=function(){return"filemanager"},s.prototype.preRender=function(){this.pathId=["fe_tree"],this.itemData=[],this.feParent=[],this.feFiles=[],t.setStyleAttribute(this.element,{width:t.formatUnit(this.width),height:t.formatUnit(this.height)}),this.isDevice=t.Browser.isDevice,this.isMobile=this.checkMobile(),this.isMobile&&this.setProperties({navigationPaneSettings:{visible:!1}},!0);var e=this.element.closest(".e-bigger");this.isBigger=!!e,n.createSpinner({target:this.element},t.createElement),this.addWrapper(),this.keyConfigs={altN:"alt+n",f5:"f5",ctrlShift1:"ctrl+shift+1",ctrlShift2:"ctrl+shift+2"},this.localeObj=new t.L10n(this.getModuleName(),Gt,this.locale)},s.prototype.getPersistData=function(){var e=["view"];return this.addOnPersist(e)},s.prototype.requiredModules=function(){var e=[];return e.push({member:"breadcrumbbar",args:[this]}),e.push({member:"largeiconsview",args:[this]}),this.toolbarSettings.visible&&e.push({member:"toolbar",args:[this]}),this.navigationPaneSettings.visible&&e.push({member:"navigationpane",args:[this]}),this.view&&e.push({member:"detailsview",args:[this]}),this.contextMenuSettings.visible&&!this.isDevice&&e.push({member:"contextmenu",args:[this]}),e},s.prototype.render=function(){this.initialize(),this.selectedItems=t.isNullOrUndefined(this.selectedItems)?[]:this.selectedItems,this.fileView=this.view,this.setRtl(this.enableRtl),this.addEventListeners(),V(this,Et,"/"),this.adjustHeight(),t.isNullOrUndefined(this.navigationpaneModule)&&(this.splitterObj.collapse(0),t.select(".e-split-bar",this.element).classList.add(It)),this.wireEvents()},s.prototype.initialize=function(){this.isMobile&&t.addClass([this.element],"e-fe-mobile"),this.allowMultiSelection&&t.addClass([this.element],"e-fe-cb-select"),this.addCssClass(null,this.cssClass),this.renderFileUpload()},s.prototype.addWrapper=function(){var e=this.createElement("div",{id:this.element.id+"_toolbar"});this.element.appendChild(e);var t=this.createElement("div",{id:this.element.id+"_layout",className:"e-layout"});this.element.appendChild(t);var n=this.createElement("div",{id:this.element.id+"_tree"});t.appendChild(n);var s=this.createElement("div",{id:this.element.id+"_content",className:"e-layout-content"});this.breadCrumbBarNavigation=this.createElement("div",{id:this.element.id+"_breadcrumbbar",className:"e-address"}),s.appendChild(this.breadCrumbBarNavigation);var a=this.createElement("div",{id:this.element.id+qe});s.appendChild(a);var r=this.createElement("div",{id:this.element.id+ze,className:Je});s.appendChild(r);var o=this.createElement("span",{className:"e-fe-overlay"});s.appendChild(o),t.appendChild(s),this.splitterObj=new i.Splitter({paneSettings:[{size:"25%",min:this.navigationPaneSettings.minWidth.toString(),max:this.navigationPaneSettings.maxWidth.toString()},{size:"75%",min:"270px"}],width:"100%",resizing:this.splitterResize.bind(this)}),this.splitterObj.appendTo(t);var l=this.createElement("div",{id:this.element.id+Ke});this.element.appendChild(l);var h=this.createElement("ul",{id:this.element.id+"_contextmenu"});this.element.appendChild(h);var d=this.createElement("div",{id:this.element.id+We});this.element.appendChild(d);var c=this.createElement("div",{id:this.element.id+Ge});this.element.appendChild(c);var p=this.createElement("div",{id:this.element.id+"_upload_dialog"});this.element.appendChild(p)},s.prototype.adjustHeight=function(){var e=t.select("#"+this.element.id+"_toolbar",this.element),i=this.toolbarModule?e.offsetHeight:0;this.splitterObj.height=(this.element.clientHeight-i).toString()},s.prototype.splitterResize=function(){this.notify("splitter-resize",{})},s.prototype.splitterAdjust=function(){var e=t.select(".e-split-bar",this.element);this.navigationPaneSettings.visible?(this.splitterObj.expand(0),e.classList.remove(It)):(this.splitterObj.collapse(0),e.classList.add(It))},s.prototype.addCssClass=function(e,i){t.isNullOrUndefined(e)||""===e||t.removeClass([this.element],e.split(" ")),t.isNullOrUndefined(i)||""===i||t.addClass([this.element],i.split(" "))},s.prototype.showSpinner=function(){n.showSpinner(this.element)},s.prototype.hideSpinner=function(){n.hideSpinner(this.element)},s.prototype.onContextMenu=function(e){e.preventDefault()},s.prototype.checkMobile=function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(t.Browser.userAgent.toLowerCase())&&/mobile/i.test(t.Browser.userAgent.toLowerCase())},s.prototype.renderFileUpload=function(){var e=this.element.id+"_upload",i=this.createElement("input",{id:e,attrs:{name:"uploadFiles",type:"file"}});this.element.appendChild(i),this.uploadDialogObj=new n.Dialog({header:T(this,"Header-Upload"),content:i,animationSettings:{effect:"None"},showCloseIcon:!0,closeOnEscape:!0,visible:!1,isModal:!0,width:"350px",target:"#"+this.element.id,locale:this.locale,allowDragging:!0,position:{X:"center",Y:"center"},enableRtl:this.enableRtl,open:this.onOpen.bind(this),close:this.onClose.bind(this)}),this.uploadDialogObj.appendTo("#"+this.element.id+"_upload_dialog");var s=this.ajaxSettings.uploadUrl?this.ajaxSettings.uploadUrl:this.ajaxSettings.url,r={dropArea:t.select("#"+this.element.id+"_content",this.element),asyncSettings:{saveUrl:s,removeUrl:s},locale:this.locale,enableRtl:this.enableRtl,uploading:this.onUploading.bind(this),removing:this.onRemoving.bind(this),clearing:this.onClearing.bind(this),selected:this.onSelected.bind(this),success:this.onUploadSuccess.bind(this),failure:this.onUploadFailure.bind(this)},o={};t.extend(o,this.uploadSettings,r),this.uploadObj=new a.Uploader(o),this.uploadObj.appendTo("#"+this.element.id+"_upload")},s.prototype.onOpen=function(){this.isOpened=!0,this.uploadDialogObj.element.focus()},s.prototype.onClose=function(){this.isOpened=!1,this.uploadObj.clearAll()},s.prototype.onUploading=function(e){e.customFormData=[{path:this.path},{action:"Save"}]},s.prototype.onRemoving=function(e){e.customFormData=[{path:this.path},{action:"Remove"}],1===this.uploadObj.getFilesData().length&&this.uploadDialogObj.hide()},s.prototype.onClearing=function(){this.isOpened&&this.uploadDialogObj.hide()},s.prototype.onSelected=function(){this.uploadDialogObj.show()},s.prototype.onUploadSuccess=function(e){this.trigger("onSuccess",{action:"Upload",result:e}),V(this,Rt,this.path)},s.prototype.onUploadFailure=function(e){this.trigger("onError",{action:"Upload",error:e})},s.prototype.addEventListeners=function(){this.on(Mt,this.showSpinner,this),this.on(Lt,this.hideSpinner,this),t.EventHandler.add(this.element,"contextmenu",this.onContextMenu,this)},s.prototype.removeEventListeners=function(){this.isDestroyed||(this.off(Mt,this.showSpinner),this.off(Lt,this.hideSpinner),t.EventHandler.remove(this.element,"contextmenu",this.onContextMenu))},s.prototype.resizeHandler=function(){this.notify("resize-end",{})},s.prototype.keyActionHandler=function(e){switch(e.action){case"altN":e.preventDefault(),this.itemData=[S(this)],ie(this,"NewFolder");break;case"f5":e.preventDefault(),w(this);break;case"ctrlShift1":e.preventDefault(),this.fileView="Details",this.setProperties({view:"Details"},!0),V(this,_t,"/");break;case"ctrlShift2":e.preventDefault(),this.fileView="LargeIcons",this.setProperties({view:"LargeIcons"},!0),V(this,_t,"/")}},s.prototype.wireEvents=function(){window.addEventListener("resize",this.resizeHandler.bind(this)),this.keyboardModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},s.prototype.unWireEvents=function(){this.keyboardModule.destroy()},s.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"cssClass":this.addCssClass(i.cssClass,e.cssClass),this.notify(Nt,{module:"common",newProp:e,oldProp:i});break;case"height":var a=t.isNullOrUndefined(e.height)?e.height:t.formatUnit(e.height);t.setStyleAttribute(this.element,{height:a}),this.notify(Nt,{module:"toolbar",newProp:e,oldProp:i});var r=document.getElementById("file_grid").querySelector(".e-gridheader");this.detailsviewModule.gridObj.height=this.setHeight()-r.offsetHeight,this.navigationpaneModule.treeObj.element.style.height=this.setHeight()+"px";break;case"width":var o=t.isNullOrUndefined(e.width)?e.width:t.formatUnit(e.width);t.setStyleAttribute(this.element,{width:o}),this.notify(Nt,{module:"toolbar",newProp:e,oldProp:i});break;case"ajaxSettings":t.isNullOrUndefined(e.ajaxSettings.url)||this.setProperties({ajaxSettings:{url:e.ajaxSettings.url}},!0),t.isNullOrUndefined(e.ajaxSettings.uploadUrl)||this.setProperties({ajaxSettings:{uploadUrl:e.ajaxSettings.uploadUrl}},!0),t.isNullOrUndefined(e.ajaxSettings.downloadUrl)||this.setProperties({ajaxSettings:{downloadUrl:e.ajaxSettings.downloadUrl}},!0),t.isNullOrUndefined(e.ajaxSettings.getImageUrl)||this.setProperties({ajaxSettings:{getImageUrl:e.ajaxSettings.getImageUrl}},!0),w(this);break;case"toolbarSettings":this.adjustHeight(),this.notify(Nt,{module:"toolbar",newProp:e,oldProp:i});break;case"searchSettings":t.isNullOrUndefined(e.searchSettings.allowSearchOnTyping)||this.setProperties({searchSettings:{allowSearchOnTyping:e.searchSettings.allowSearchOnTyping}},!0),t.isNullOrUndefined(e.searchSettings.ignoreCase)&&this.setProperties({searchSettings:{ignoreCase:e.searchSettings.ignoreCase}},!0),t.isNullOrUndefined(e.searchSettings.filterType)&&this.setProperties({searchSettings:{filterType:e.searchSettings.filterType}},!0),this.notify(Nt,{module:"breadcrumbbar",newProp:e,oldProp:i});break;case"selectedItems":"Details"===this.fileView?this.notify(Nt,{module:"detailsview",newProp:e,oldProp:i}):"LargeIcons"===this.fileView&&this.notify(Nt,{module:"largeiconsview",newProp:e,oldProp:i});break;case"showThumbnail":this.notify(Nt,{module:"largeiconsview",newProp:e,oldProp:i});break;case"enableRtl":this.setRtl(e.enableRtl),this.notify(Nt,{module:"common",newProp:e,oldProp:i});break;case"showFileExtension":case"showHiddenItems":this.notify(Nt,{module:"common",newProp:e,oldProp:i});break;case"navigationPaneSettings":this.splitterAdjust(),this.notify(Nt,{module:"navigationpane",newProp:e,oldProp:i});break;case"view":"Details"===e.view?this.notify(Nt,{module:"detailsview",newProp:e,oldProp:i}):"LargeIcons"===e.view&&this.notify(Nt,{module:"largeiconsview",newProp:e,oldProp:i});break;case"allowMultiSelection":this.allowMultiSelection?t.addClass([this.element],"e-fe-cb-select"):t.removeClass([this.element],"e-fe-cb-select"),1===this.selectedItems.length?this.singleSelection=this.selectedItems[0]:this.singleSelection=null,this.notify(Nt,{module:"common",newProp:e,oldProp:i})}},s.prototype.destroy=function(){this.isDestroyed||(this.notify(Pt,{}),this.uploadObj.destroy(),this.uploadDialogObj.destroy(),this.splitterObj.destroy(),this.dialogObj&&this.dialogObj.destroy(),this.viewerObj&&this.viewerObj.destroy(),this.extDialogObj&&this.extDialogObj.destroy(),this.element.removeAttribute("style"),this.element.removeAttribute("tabindex"),this.removeEventListeners(),this.unWireEvents(),this.addCssClass(this.cssClass,null),t.removeClass([this.element],[wt,"e-fe-mobile","e-fe-cb-select"]),this.element.innerHTML="",e.prototype.destroy.call(this))},s.prototype.disableToolbarItems=function(e){t.isNullOrUndefined(e)||this.toolbarModule.enableItems(e,!1)},s.prototype.enableToolbarItems=function(e){t.isNullOrUndefined(e)||this.toolbarModule.enableItems(e,!0)},s.prototype.refreshContent=function(){w(this)},s.prototype.fileOperation=function(e,t){for(var i=0,n=e;i<e.length;)"Remove"!==t?this.selectedNodes.push(n[i].name):this.selectedNodes=this.selectedNodes,"Remove"===t?this.deleteRecords.push(n[i].name):this.deleteRecords=this.deleteRecords,i++},s.prototype.setHeight=function(){var e=this.toolbarModule?this.toolbarModule.toolbarObj.element.offsetHeight:0;return this.element.clientHeight-e},s.prototype.getDetails=function(){v(this),this.targetPath=this.path,this.activeElements&&0===this.activeElements.length&&(this.activeElements=this.element.querySelectorAll("."+tt));var e=b("FileInfo",null,this);e=0!==e.length?e:b("FileInfo",!1,this),this.selectedNodes=[],this.fileOperation(e),0!==this.selectedNodes.length&&""!==this.targetPath||(this.selectedNodes[0]=""),z(this,this.selectedNodes,this.targetPath,"GetDetails")},s.prototype.pasteHandler=function(){0!==this.selectedNodes.length&&("MoveTo"===this.fileAction&&this.targetPath!==this.path||"CopyTo"===this.fileAction?H(this,this.targetPath,this.selectedNodes,this.path,this.fileAction,this.navigationpaneModule,[]):v(this))},s.prototype.deleteHandler=function(e){this.deleteRecords=[],this.fileOperation(e,"Remove"),q(this,this.deleteRecords,this.targetPath,"Remove",this.navigationpaneModule),this.deleteRecords=[]},s.prototype.setRtl=function(e){e?this.addCssClass(null,wt):this.addCssClass(wt,null),this.uploadObj&&(this.uploadDialogObj.enableRtl=e,this.uploadObj.enableRtl=e)};var r;return Jt([t.Complex({},Ie)],s.prototype,"ajaxSettings",void 0),Jt([t.Property(!0)],s.prototype,"allowMultiSelection",void 0),Jt([t.Complex({},Ve)],s.prototype,"contextMenuSettings",void 0),Jt([t.Property("")],s.prototype,"cssClass",void 0),Jt([t.Complex({},Le)],s.prototype,"detailsViewSettings",void 0),Jt([t.Property(!1)],s.prototype,"enablePersistence",void 0),Jt([t.Property(!1)],s.prototype,"enableRtl",void 0),Jt([t.Property("400px")],s.prototype,"height",void 0),Jt([t.Property("LargeIcons")],s.prototype,"view",void 0),Jt([t.Complex({},He)],s.prototype,"navigationPaneSettings",void 0),Jt([t.Property("/")],s.prototype,"path",void 0),Jt([t.Complex({},De)],s.prototype,"searchSettings",void 0),Jt([t.Property()],s.prototype,"selectedItems",void 0),Jt([t.Property(!0)],s.prototype,"showFileExtension",void 0),Jt([t.Property(!1)],s.prototype,"showHiddenItems",void 0),Jt([t.Property(!0)],s.prototype,"showThumbnail",void 0),Jt([t.Complex({},Ee)],s.prototype,"toolbarSettings",void 0),Jt([t.Property()],s.prototype,"uploadSettings",void 0),Jt([t.Property("100%")],s.prototype,"width",void 0),Jt([t.Event()],s.prototype,"beforeFileLoad",void 0),Jt([t.Event()],s.prototype,"beforeFileOpen",void 0),Jt([t.Event()],s.prototype,"beforeSend",void 0),Jt([t.Event()],s.prototype,"created",void 0),Jt([t.Event()],s.prototype,"destroyed",void 0),Jt([t.Event()],s.prototype,"fileSelect",void 0),Jt([t.Event()],s.prototype,"menuClick",void 0),Jt([t.Event()],s.prototype,"menuOpen",void 0),Jt([t.Event()],s.prototype,"onError",void 0),Jt([t.Event()],s.prototype,"onSuccess",void 0),Jt([t.Event()],s.prototype,"toolbarClick",void 0),s=r=Jt([t.NotifyPropertyChanges],s)}(t.Component),$t=function(){function e(e){this.default=["Delete","Rename","Download","Cut","Copy","Paste"],this.single=["Delete","Rename","Download","Cut","Copy"],this.multiple=["Delete","Download","Cut","Copy","Refresh"],this.selection=["NewFolder","Upload","SortBy","Refresh"],this.parent=e,this.render(),this.addEventListener()}return e.prototype.render=function(){this.items=this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items)),this.toolbarObj=new h.Toolbar({items:this.items,created:this.toolbarCreateHandler.bind(this),overflowMode:"Popup",clicked:this.onClicked.bind(this),enableRtl:this.parent.enableRtl}),this.toolbarObj.appendTo("#"+this.parent.element.id+"_toolbar")},e.prototype.getItems=function(e){var t=e.slice();return this.parent.isDevice&&this.parent.allowMultiSelection&&t.push("SelectAll"),t},e.prototype.onClicked=function(e){if(!t.isNullOrUndefined(e.item)&&e.item.id){var i,n=e.item.id.substr((this.parent.element.id+"_tb_").length);"refresh"===n||"newfolder"===n?(i=S(this.parent),this.parent.itemData=[i]):i=C(this.parent);var s={cancel:!1,fileDetails:i,item:e.item};if(this.parent.trigger("toolbarClick",s),!s.cancel)switch(n){case"newfolder":ie(this.parent,"NewFolder");break;case"cut":E(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames);break;case"copy":N(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames),"navigationPane"===this.parent.activeModule&&(this.parent.navigationpaneModule.copyNodes=this.parent.nodeNames);break;case"delete":ie(this.parent,"Delete");break;case"details":this.parent.getDetails();break;case"paste":this.parent.pasteHandler();break;case"refresh":w(this.parent);break;case"download":if(!(this.parent.selectedItems.length>0))return;if("LargeIcons"===this.parent.fileView){for(var a=[],r=t.selectAll(".e-active",this.parent.largeiconsviewModule.listElements),o=0;o<r.length;o++)a[o]=R(this.parent,r[o]);te(this.parent,a)}else te(this.parent,this.parent.detailsviewModule.gridObj.getSelectedRecords());break;case"rename":this.parent.notify(Vt,{}),ie(this.parent,"Rename");break;case"upload":t.select("#"+this.parent.element.id+"_upload",this.parent.element).click();break;case"selectall":this.parent.notify("select-all-init",{});break;case"selection":this.parent.notify("clear-all-init",{})}}},e.prototype.toolbarCreateHandler=function(){if(!t.isNullOrUndefined(t.select("#"+this.getId("SortBy"),this.parent.element))){var e=[{id:this.getPupupId("name"),text:T(this.parent,"Name"),iconCss:Ze},{id:this.getPupupId("size"),text:T(this.parent,"Size")},{id:this.getPupupId("date"),text:T(this.parent,"DateModified")},{separator:!0},{id:this.getPupupId("ascending"),text:T(this.parent,"Ascending"),iconCss:Qe},{id:this.getPupupId("descending"),text:T(this.parent,"Descending")}];this.buttonObj=new l.DropDownButton({items:e,cssClass:A(this.parent,"e-fe-popup"),select:_.bind(this,this.parent),enableRtl:this.parent.enableRtl,iconCss:"e-icons e-fe-sort"}),this.buttonObj.appendTo("#"+this.getId("SortBy"))}if(!t.isNullOrUndefined(t.select("#"+this.parent.element.id+"_view",this.parent.element))){var i=[{id:this.getPupupId("large"),text:'<span class="e-icons e-fe-large e-menu-icon"></span>'+T(this.parent,"View-LargeIcons"),iconCss:"Details"===this.parent.view?"":Qe},{id:this.getPupupId("details"),text:'<span class="e-icons e-fe-grid e-menu-icon"></span>'+T(this.parent,"View-Details"),iconCss:"Details"===this.parent.view?Qe:""}];this.layoutBtnObj=new l.DropDownButton({iconCss:"Details"===this.parent.view?bt:yt,cssClass:A(this.parent,"e-caret-hide e-fe-popup"),items:i,select:this.layoutChange.bind(this),enableRtl:this.parent.enableRtl}),this.layoutBtnObj.appendTo("#"+this.parent.element.id+"_view")}this.hideItems(this.default,!0),this.hideStatus()},e.prototype.updateSortByButton=function(){for(var e=this.buttonObj.items,t=0;t<e.length;t++)e[t].id===this.getPupupId("name")?e[t].iconCss="name"===this.parent.sortBy?Ze:"":e[t].id===this.getPupupId("size")?e[t].iconCss="size"===this.parent.sortBy?Ze:"":e[t].id===this.getPupupId("date")?e[t].iconCss="dateModified"===this.parent.sortBy?Ze:"":e[t].id===this.getPupupId("ascending")?e[t].iconCss="Ascending"===this.parent.sortOrder?Qe:"":e[t].id===this.getPupupId("descending")&&(e[t].iconCss="Descending"===this.parent.sortOrder?Qe:"")},e.prototype.getPupupId=function(e){return this.parent.element.id+"_ddl_"+e.toLowerCase()},e.prototype.layoutChange=function(e){"Details"===this.parent.view?e.item.id===this.getPupupId("large")&&this.updateLayout("LargeIcons"):e.item.id===this.getPupupId("details")&&this.updateLayout("Details")},e.prototype.updateLayout=function(e){this.parent.fileView=e,this.parent.setProperties({view:e},!0);var t;this.parent.breadcrumbbarModule.searchObj.value&&""===this.parent.breadcrumbbarModule.searchObj.value&&this.parent.notify("path-column",{args:this.parent}),t="startWith"===this.parent.searchSettings.filterType?"*"+this.parent.breadcrumbbarModule.searchObj.value:"endsWith"===this.parent.searchSettings.filterType?this.parent.breadcrumbbarModule.searchObj.value+"*":"*"+this.parent.breadcrumbbarModule.searchObj.value+"*",0===this.parent.breadcrumbbarModule.searchObj.value.length?V(this.parent,_t,this.parent.path):Z(this.parent,_t,this.parent.path,t,!1,!1)},e.prototype.toolbarItemData=function(e){var t=[],i="Both";this.parent.isMobile&&(i="Overflow");for(var n=0;n<e.length;n++){var s=void 0,a=this.getId(e[n]),r=T(this.parent,e[n]),o=T(this.parent,"Tooltip-"+e[n]);switch(e[n]){case"|":s={type:"Separator"};break;case"Upload":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-upload",showTextOn:i};break;case"SortBy":s={id:a,tooltipText:o,template:'<button id="'+a+'" class="e-tbar-btn e-tbtn-txt">'+('<span class="e-tbar-btn-text e-tbar-ddb-text">'+r+"</span>")+"</button>"};break;case"Refresh":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-refresh",showTextOn:i};break;case"Selection":s={id:a,tooltipText:o,overflow:"Show",align:"Right",template:'<span class="e-status">2 '+r+'</span><span class="e-icons e-fe-clear"></span>'};break;case"View":s={id:a,tooltipText:o,prefixIcon:"Details"===this.parent.view?bt:yt,overflow:"Show",align:"Right",template:'<button id="'+this.parent.element.id+'_view" class="e-tbar-btn e-tbtn-txt"></button>'};break;case"Details":s={id:a,tooltipText:o,prefixIcon:"e-icons e-fe-details",overflow:"Show",align:"Right"};break;case"NewFolder":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-newfolder",showTextOn:i};break;case"Cut":s={id:a,text:r,tooltipText:o,prefixIcon:gt,showTextOn:i};break;case"Copy":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-copy",showTextOn:i};break;case"Paste":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-paste",showTextOn:i};break;case"Delete":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-delete",showTextOn:i};break;case"Rename":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-rename",showTextOn:i};break;case"Download":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-download",showTextOn:i};break;case"SelectAll":s={id:a,text:r,tooltipText:o,prefixIcon:"e-icons e-fe-select",showTextOn:i};break;default:s={id:a,text:r,tooltipText:o}}t.push(s)}return t},e.prototype.getId=function(e){return this.parent.element.id+"_tb_"+e.toLowerCase()},e.prototype.addEventListener=function(){this.parent.on(Nt,this.onPropertyChanged,this),this.parent.on(At,this.onSelectionChanged,this),this.parent.on(_t,this.onLayoutChange,this),this.parent.on(Ut,this.showPaste,this),this.parent.on(Ht,this.hidePaste,this),this.parent.on(Pt,this.destroy,this),this.parent.on(Bt,this.updateSortByButton,this)},e.prototype.reRenderToolbar=function(e){void 0!==e.newProp.toolbarSettings.items&&(this.items=this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items)),this.toolbarObj.items=this.items,this.toolbarObj.dataBind())},e.prototype.onSelectionChanged=function(e){if(this.hideStatus(),this.hideItems(this.single,!0),this.hideItems(this.selection,!1),1===this.parent.selectedItems.length)this.hideItems(this.single,!1),this.hideItems(this.selection,!0);else if(this.parent.selectedItems.length>1){this.hideItems(this.multiple,!1),this.hideItems(this.selection,!0);var i=t.select(".e-status",this.toolbarObj.element);i&&(i.textContent=this.parent.selectedItems.length+" "+T(this.parent,"Selection"),this.toolbarObj.hideItem(i.parentElement,!1))}},e.prototype.hideItems=function(e,i){for(var n=0;n<e.length;n++){var s=t.select("#"+this.getId(e[n]),this.parent.element);s&&this.toolbarObj.hideItem(s.parentElement,i)}},e.prototype.hideStatus=function(){var e=t.select(".e-status",this.toolbarObj.element);e&&this.toolbarObj.hideItem(e.parentElement,!0)},e.prototype.showPaste=function(){this.hideItems(["Paste"],!1)},e.prototype.hidePaste=function(){this.hideItems(["Paste"],!0)},e.prototype.onLayoutChange=function(e){if(this.layoutBtnObj){this.layoutBtnObj.iconCss="Details"===this.parent.view?bt:yt;for(var t=this.layoutBtnObj.items,i=0;i<t.length;i++)t[i].id===this.getPupupId("large")?t[i].iconCss="LargeIcons"===this.parent.view?Qe:"":t[i].id===this.getPupupId("details")&&(t[i].iconCss="Details"===this.parent.view?Qe:"")}},e.prototype.removeEventListener=function(){this.parent.off(Nt,this.onPropertyChanged),this.parent.off(At,this.onSelectionChanged),this.parent.off(_t,this.onLayoutChange),this.parent.off(Ut,this.showPaste),this.parent.off(Ht,this.hidePaste),this.parent.off(Pt,this.destroy),this.parent.off(Bt,this.updateSortByButton)},e.prototype.getModuleName=function(){return"toolbar"},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var t=0,i=Object.keys(e.newProp);t<i.length;t++)switch(i[t]){case"cssClass":this.buttonObj&&(this.buttonObj.cssClass=A(this.parent,"e-fe-popup")),this.layoutBtnObj&&(this.layoutBtnObj.cssClass=A(this.parent,"e-caret-hide e-fe-popup"));break;case"height":case"width":this.toolbarObj.refreshOverflow();break;case"toolbarSettings":this.reRenderToolbar(e);break;case"enableRtl":var n=e.newProp.enableRtl;this.toolbarObj.enableRtl=n,this.toolbarObj.dataBind(),this.buttonObj&&(this.buttonObj.enableRtl=n,this.buttonObj.dataBind()),this.layoutBtnObj&&(this.layoutBtnObj.enableRtl=n,this.layoutBtnObj.dataBind())}},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.buttonObj&&this.buttonObj.destroy(),this.layoutBtnObj&&this.layoutBtnObj.destroy(),this.toolbarObj.destroy())},e.prototype.enableItems=function(e,i){for(var n=0;n<e.length;n++){var s=t.select("#"+this.getId(e[n]),this.parent.element);s&&this.toolbarObj.enableItems(s.parentElement,i)}},e}(),Qt=function(){function e(e){this.treeNodes=[],this.removeNodes=[],this.expandTree=!1,this.parent=e,this.addEventListener(),this.keyConfigs={altEnter:"alt+enter",esc:"escape",del:"delete",ctrlX:"ctrl+x",ctrlC:"ctrl+c",ctrlV:"ctrl+v",ctrlShiftN:"ctrl+shift+n",shiftF10:"shift+F10",f2:"f2"}}return e.prototype.onInit=function(e){var i=t.getValue("/",this.parent.feParent);t.setValue("selected",!0,i),t.setValue("icon","e-fe-folder",i),this.rootID="fe_tree",t.setValue("nodeId",this.rootID,i),this.rootNode=t.getValue("name",t.getValue("/",this.parent.feParent)),this.treeObj=new h.TreeView({fields:{dataSource:[i],id:"nodeId",text:"name",hasChildren:"hasChild",iconCss:"icon"},nodeSelected:this.onNodeSelected.bind(this),nodeExpanding:this.onNodeExpand.bind(this),allowEditing:!0,nodeEditing:this.onNodeEditing.bind(this),drawNode:this.onDrowNode.bind(this),enableRtl:this.parent.enableRtl}),this.treeObj.appendTo("#"+this.parent.element.id+"_tree"),this.treeObj.element.style.width="25%",this.addChild(e.files,this.rootID,!1),t.setValue(this.parent.path,e.files,this.parent.feFiles),this.parent.persistData=!0,this.wireEvents()},e.prototype.onDrowNode=function(e){var t={element:e.node,fileDetails:e.nodeData,module:"navigationpane"};this.parent.trigger("beforeFileLoad",t)},e.prototype.addChild=function(e,t,i){var n=M(e);if(n.length>0){for(var s=0,a=n;s<n.length;)a[s].icon="e-fe-folder",s++;this.treeObj.addNodes(n,t,null,i)}},e.prototype.onNodeSelected=function(e){if(this.parent.breadcrumbbarModule.searchObj.element.value="",this.parent.searchedItems=[],this.parent.activeElements=this.treeObj.element.querySelectorAll("."+tt),e.isInteracted){var i=t.getValue("text",e.nodeData);this.activeNode=e.node,this.parent.activeModule="navigationpane",this.parent.persistData||(this.parent.selectedItems=[]),p(e.node,i,this.parent),this.expandNodeTarget=null,e.node.querySelector("."+vt)&&null===e.node.querySelector("."+Xe)&&(this.expandNodeTarget="add"),this.parent.itemData=this.treeObj.getTreeData(t.getValue("id",e.nodeData)),V(this.parent,Rt,this.parent.path),this.parent.visitedItem=e.node}},e.prototype.onNodeExpand=function(e){if(e.isInteracted){var i=u(e.node,t.getValue("text",e.nodeData));this.parent.expandedPath=i,null===e.node.querySelector("."+Xe)&&(this.expandNodeTarget=e.node.getAttribute("data-uid"),this.parent.expandedId=this.expandNodeTarget,this.parent.itemData=this.treeObj.getTreeData(t.getValue("id",e.nodeData)),V(this.parent,"node-expand",i))}},e.prototype.onNodeExpanded=function(e){this.addChild(e.files,this.expandNodeTarget,!1),this.parent.expandedId=null},e.prototype.onNodeEditing=function(e){t.isNullOrUndefined(e.innerHtml)||(e.cancel=!0)},e.prototype.onPathChanged=function(e){var i=t.getValue(this.parent.path,this.parent.feFiles);if("add"===this.expandNodeTarget){var n=t.select('[data-uid="'+this.treeObj.selectedNodes[0]+'"]',this.treeObj.element),s=t.select(".e-list-parent",n);t.isNullOrUndefined(s)&&this.addChild(e.files,this.treeObj.selectedNodes[0],!0),this.expandNodeTarget=""}t.isNullOrUndefined(i)&&t.setValue(this.parent.path,e.files,this.parent.feFiles)},e.prototype.updateTree=function(e){var i=this.treeObj.selectedNodes[0],n=t.select('[data-uid="'+i+'"]',this.treeObj.element),s=t.select(".e-list-parent",n),a=s?Array.prototype.slice.call(s.children):null,r=-1!==this.treeObj.expandedNodes.indexOf(i);this.treeObj.removeNodes(a),t.setValue(this.parent.path,e.files,this.parent.feFiles),this.addChild(e.files,i,!r)},e.prototype.onOpenEnd=function(e){var t=this.parent.pathId[this.parent.pathId.length-1];this.treeObj.expandAll(this.treeObj.selectedNodes),this.treeObj.selectedNodes=[t],this.expandNodeTarget="add",this.onPathChanged(e)},e.prototype.onOpenInit=function(e){"navigationpane"===this.parent.activeModule&&e.target.querySelector("."+vt)&&this.treeObj.expandAll(this.treeObj.selectedNodes)},e.prototype.onInitialEnd=function(e){this.onInit(e)},e.prototype.onCreateEnd=function(e){this.updateTree(e)},e.prototype.onDeleteEnd=function(e){if("navigationpane"===this.parent.activeModule){var i=this.treeObj.selectedNodes[0],n=t.select('[data-uid="'+i+'"]',this.treeObj.element).closest(".e-list-parent").parentElement;this.treeObj.selectedNodes=[n.getAttribute("data-uid")],this.treeObj.dataBind()}this.updateTree(e)},e.prototype.onRefreshEnd=function(e){this.updateTree(e)},e.prototype.onRenameInit=function(){0===this.parent.selectedItems.length&&this.updateRenameData()},e.prototype.onRenameEnd=function(e){var t=new s.DataManager(this.treeObj.getTreeData()).executeLocal((new s.Query).where(this.treeObj.fields.text,"equal",this.parent.currentItemText,!1));t[0]&&this.treeObj.updateNode(t[0][this.treeObj.fields.id].toString(),this.parent.renameText)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++)switch(n[i]){case"enableRtl":this.treeObj.enableRtl=e.newProp.enableRtl,this.treeObj.dataBind();break;case"navigationPaneSettings":var s={files:t.getValue("/",this.parent.feFiles)};this.onInitialEnd(s)}},e.prototype.setPath=function(e){this.parent.notify("select-node",{module:"navigationpane"})},e.prototype.onTreeSelect=function(e){if(e.module===this.getModuleName()||"common"===e.module){var i=this.parent.path;if(""!==i){"/"!==i.charAt(i.length-1)&&(i+="/"),this.parent.setProperties({path:i},!0);var n=(this.rootNode+this.parent.path.replace(new RegExp(" ","g"),"*")).toLocaleLowerCase();t.select('[data-uid="'+n+'"]',this.treeObj.element)?t.select('[data-uid="'+n+'"]',this.treeObj.element).parentNode.parentNode.classList.contains("e-node-collapsed")?this.expand(n):this.treeObj.selectedNodes[0]!==n&&this.tapFunction(n,"select"):this.expand(n)}}},e.prototype.expand=function(e){if(t.isNullOrUndefined(t.select('[data-uid="'+e+'"]',this.treeObj.element))){for(;t.isNullOrUndefined(t.select('[data-uid="'+e+'"]',this.treeObj.element));)e=(n=e.substr(0,e.lastIndexOf("/"))).substr(0,n.lastIndexOf("/")+1);var i=t.select('[data-uid="'+e+'"]',this.treeObj.element);t.isNullOrUndefined(i.querySelector("."+vt))?this.tapFunction(e,"select"):i.querySelector("."+vt).classList.contains("e-icon-collapsible")?this.tapFunction(e,"select"):this.tapFunction(e,"expand")}else{if((i=t.select('[data-uid="'+e+'"]',this.treeObj.element).parentNode.parentNode).classList.contains("e-node-collapsed")){var n=e.substr(0,e.lastIndexOf("/"));e=n.substr(0,n.lastIndexOf("/")+1)}this.tapFunction(e,"expand")}},e.prototype.tapFunction=function(e,i){var n={preventDefault:function(){},stopImmediatePropagation:function(){},target:null,type:null,shiftKey:!1,ctrlKey:!1,originalEvent:{target:null}},s={originalEvent:n,tapCount:1},a=this.treeObj,r=t.select('[data-uid="'+e+'"]',this.treeObj.element);"expand"===i?n.target=r.querySelector("."+vt):"select"===i&&(n.target=r.querySelector(".e-fullrow")),a.touchClickObj.tap(s),this.expandTree=!0},e.prototype.onSelectionChanged=function(e){this.treeObj.selectedNodes=[e.selectedNode]},e.prototype.addEventListener=function(){this.parent.on(Nt,this.onPropertyChanged,this),this.parent.on(Et,this.onInitialEnd,this),this.parent.on(Rt,this.onPathChanged,this),this.parent.on("node-expand",this.onNodeExpanded,this),this.parent.on(jt,this.onCreateEnd,this),this.parent.on(xt,this.onDeleteEnd,this),this.parent.on(Dt,this.onRefreshEnd,this),this.parent.on("update-tree-selection",this.onSelectionChanged,this),this.parent.on(kt,this.onOpenInit,this),this.parent.on(Tt,this.onOpenEnd,this),this.parent.on(Pt,this.destroy,this),this.parent.on(Vt,this.onRenameInit,this),this.parent.on(Ft,this.onRenameEnd,this),this.parent.on("select-node",this.onTreeSelect,this)},e.prototype.removeEventListener=function(){this.parent.off(Et,this.onInitialEnd),this.parent.off(Nt,this.onPropertyChanged),this.parent.off(Rt,this.onPathChanged),this.parent.off("update-tree-selection",this.onSelectionChanged),this.parent.off("node-expand",this.onNodeExpanded),this.parent.off(jt,this.onCreateEnd),this.parent.off(Dt,this.onRefreshEnd),this.parent.off(kt,this.onOpenInit),this.parent.off(Tt,this.onOpenEnd),this.parent.off(Pt,this.destroy),this.parent.off(Vt,this.onRenameInit),this.parent.off(Ft,this.onRefreshEnd),this.parent.off("select-node",this.onTreeSelect),this.parent.off(xt,this.onDeleteEnd)},e.prototype.getModuleName=function(){return"navigationpane"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.treeObj&&(this.unWireEvents(),this.treeObj.destroy()))},e.prototype.wireEvents=function(){this.keyboardModule=new t.KeyboardEvents(this.treeObj.element,{keyAction:this.keyDown.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},e.prototype.unWireEvents=function(){this.keyboardModule.destroy()},e.prototype.keyDown=function(e){var t=e.action,i=this.parent;switch(t){case"altEnter":this.parent.getDetails();break;case"esc":v(this.parent),this.parent.selectedNodes=[],this.treeNodes=[];break;case"del":this.removeNodes=[],ie(this.parent,"Delete");break;case"ctrlC":N(this.parent),i.fileOperation(this.parent.nodeNames),this.copyNodes=this.parent.nodeNames;break;case"ctrlV":i.pasteHandler();break;case"ctrlX":E(this.parent),i.fileOperation(this.parent.nodeNames);break;case"shiftF10":te(this.parent,this.parent.detailsviewModule.gridObj.getSelectedRecords());break;case"f2":0===this.parent.selectedItems.length&&(this.updateRenameData(),ie(this.parent,"Rename"))}},e.prototype.updateRenameData=function(){var e=this.treeObj.getTreeData(this.treeObj.selectedNodes[0])[0];this.parent.itemData=[e],this.parent.currentItemText=t.getValue("name",e),this.parent.isFile=!1},e.prototype.moveNode=function(){this.treeObj.moveNodes(this.treeNodes,this.treeObj.selectedNodes[0],null);this.parent;v(this.parent),this.treeNodes=[]},e.prototype.removeNode=function(){this.treeObj.removeNodes(this.removeNodes);this.parent;v(this.parent),this.removeNodes=[]},e.prototype.copyNode=function(){this.treeObj.addNodes(this.copyNodes,this.activeNode,null);this.parent;v(this.parent)},e}();d.Grid.Inject(d.Resize,d.ContextMenu,d.Sort,d.VirtualScroll);var Zt=function(){function e(e){this.isInteracted=!0,this.pasteOperation=!1,this.uploadOperation=!1,this.count=0,this.isRendered=!0,this.parent=e,this.element=t.select("#"+this.parent.element.id+qe,this.parent.element),this.addEventListener(),this.keyConfigs={altEnter:"alt+enter",esc:"escape",tab:"tab",del:"delete",ctrlX:"ctrl+x",ctrlC:"ctrl+c",ctrlV:"ctrl+v",ctrlShiftN:"ctrl+shift+n",shiftdel:"shift+delete",shiftF10:"shift+F10",f2:"f2",ctrlA:"ctrl+a",enter:"enter"}}return e.prototype.render=function(e){if("Details"===this.parent.view){t.removeClass([this.parent.element],"e-fe-m-select");var i=D(this.parent,e.files),n=this.getColumns();this.gridObj=new d.Grid({dataSource:i,allowSorting:!0,rowSelected:this.onSelected.bind(this),rowDeselected:this.onDeSelection.bind(this),allowResizing:this.parent.detailsViewSettings.columnResizing,selectionSettings:{type:this.parent.allowMultiSelection?"Multiple":"Single",checkboxMode:"ResetOnRowClick"},enableRtl:this.parent.enableRtl,pageSettings:{pageSize:20},sortSettings:{allowUnsort:!1,columns:[{direction:this.parent.sortOrder,field:this.parent.sortBy}]},columns:n,recordDoubleClick:this.DblClickEvents.bind(this),beforeDataBound:this.onBeforeDataBound.bind(this),dataBound:this.onDataBound.bind(this),rowDataBound:this.onRowDataBound.bind(this),actionBegin:this.onActionBegin.bind(this),headerCellInfo:this.onHeaderCellInfo.bind(this)}),this.gridObj.appendTo("#"+this.parent.element.id+qe),this.wireEvents();var s=t.select("#"+this.parent.element.id+"_content",this.parent.element),a=t.select("#"+this.parent.element.id+"_breadcrumbbar",this.parent.element),r=t.select(".e-gridheader",this.parent.element),o=s.offsetHeight-a.offsetHeight-r.offsetHeight;this.gridObj.height=o,this.gridObj.defaultLocale.EmptyRecord="",this.checkEmptyDiv(e)}},e.prototype.getColumns=function(){var e;if(this.parent.isMobile)e=[{field:"name",headerText:T(this.parent,"Name"),width:"auto",minWidth:120,headerTextAlign:"Left",template:'<div class="e-fe-text">${name}</div><div class="e-fe-date">${dateModified}</div><span class="e-fe-size">${size}</span>'}];else for(var t=0,i=(e=JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns))).length;t<i;t++)e[t].headerText=T(this.parent,e[t].headerText);var n=this.parent.isBigger?"54":"46",s={field:"type",width:n,minWidth:n,template:'<span class="e-fe-icon ${iconClass}"></span>',allowResizing:!1,allowSorting:!0,customAttributes:{class:"e-fe-grid-icon"},headerTemplate:'<span class="e-fe-icon e-fe-folder"></span>'};if(e.unshift(s),this.parent.allowMultiSelection){var a=this.parent.isBigger?"36":"26",r={type:"checkbox",width:a,minWidth:a,customAttributes:{class:"e-fe-checkbox"},allowResizing:!1,allowSorting:!1};this.parent.isMobile?e.push(r):e.unshift(r)}return e},e.prototype.renderCheckBox=function(){this.gridObj.columns=this.getColumns(),this.gridObj.refreshColumns()},e.prototype.onRowDataBound=function(e){if(!this.parent.showFileExtension&&t.getValue("isFile",e.data)){var i=e.row.querySelector(".e-fe-text"),n=t.getValue("name",e.data),s=t.getValue("type",e.data);i.innerHTML=n.substr(0,n.length-s.length)}if(void 0!==t.getValue("size",e.data)&&e.row.querySelector(".e-fe-size")){var a=e.row.querySelector(".e-fe-size"),r=void 0;if(t.getValue("isFile",e.data)){var o=t.getValue("size",e.data);r=o/1024==0?"0 KB":(h=new t.Internationalization).formatNumber(o/1024,{format:"n"})+" KB"}else r="";a.innerHTML=r}if(this.parent.isMobile&&void 0!==t.getValue("dateModified",e.data)&&e.row.querySelector(".e-fe-date")){for(var l=e.row.querySelector(".e-fe-date"),h=new t.Internationalization,d=this.parent.detailsViewSettings.columns,c=void 0,p=0;p<d.length;p++)if("dateModified"===d[p].field){c=d[p].format;break}var u=h.formatDate(new Date(t.getValue("dateModified",e.data)),c);l.innerHTML=u}var f=e.row.querySelector("."+st);f&&f.classList.add("e-small");var m={element:e.row,fileDetails:e.data,module:"Grid"};this.parent.trigger("beforeFileLoad",m)},e.prototype.onActionBegin=function(e){"sorting"===e.requestType&&(this.parent.sortOrder=e.direction,this.parent.sortBy=e.columnName,this.parent.notify(Bt,{}))},e.prototype.onHeaderCellInfo=function(e){var t=e.node.querySelector("."+st);t&&t.classList.add("e-small")},e.prototype.onBeforeDataBound=function(e){var t=D(this.parent,this.gridObj.dataSource);e.result=t},e.prototype.maintainBlur=function(){var e=0,i=this.gridObj.getCurrentViewRecords();for(e;e<i.length;e++){var n=this.gridObj.getDataRows()[e],s=n.querySelector(".e-templatecell").textContent;if(-1!==this.parent.selectedNodes.indexOf(s))for(var a=t.selectAll("."+at,n),r=0;r<a.length;)y(a[r]),r++}},e.prototype.onDataBound=function(e){if(0!==this.parent.selectedItems.length&&(this.selectedItem=!0),!0===this.pasteOperation||!0===this.selectedItem){var i=!0!==this.selectedItem?this.parent.selectedNodes:this.parent.selectedItems;this.selectRecords(i),this.pasteOperation=!0===this.selectedItem&&this.pasteOperation,this.selectedItem=!1}if(this.parent.cutNodes&&0!==this.parent.cutNodes.length&&this.maintainBlur(),this.parent.createdItem&&(this.selectRecords([t.getValue("name",this.parent.createdItem)]),this.parent.createdItem=null),this.parent.renamedItem&&(this.selectRecords([t.getValue("name",this.parent.renamedItem)]),this.parent.renamedItem=null),!0===this.sortItem&&(this.selectRecords(this.sortSelectedNodes),this.sortItem=!1),this.parent.allowMultiSelection&&void 0!==this.parent.singleSelection&&this.selectRecords([this.parent.singleSelection]),this.parent.allowMultiSelection||void 0===this.parent.singleSelection||this.selectRecords([this.parent.singleSelection]),!0===this.uploadOperation&&(this.count++,this.selectRecords(this.parent.uploadItem),this.count===this.parent.uploadItem.length&&(this.uploadOperation=!1,this.parent.uploadItem=[])),this.gridObj.currentViewData.length*this.gridObj.getRowHeight()<this.gridObj.height)(n=this.gridObj.getHeaderContent()).style.paddingRight="",t.select(".e-headercontent",n).style.borderRightWidth="0",(s=this.gridObj.getContent().querySelector(".e-content")).style.overflowY="",s.classList.add("e-scrollShow");else{var n=this.gridObj.getHeaderContent();n.style.paddingRight="16px";var s=this.gridObj.getContent().querySelector(".e-content");s.classList.remove("e-scrollShow")}this.isRendered=!0},e.prototype.selectRecords=function(e){for(var i=this.gridObj.getCurrentViewRecords(),n=[],s=0,a=i.length;s<a;s++)-1!==e.indexOf(t.getValue("name",i[s]))&&n.push(s);0!==n.length&&this.gridObj.selectRows(n)},e.prototype.onSortColumn=function(e){if(0!==this.parent.selectedItems.length){this.sortItem=!0;var i=this.gridObj.getSelectedRowIndexes(),n=i.length;for(this.sortSelectedNodes=[];n>0;){var s=this.gridObj.getRowsObject()[i[n-1]].data;this.sortSelectedNodes.push(t.getValue("name",s)),n--}}this.gridObj.sortModule.sortColumn(this.parent.sortBy,this.parent.sortOrder)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++)switch(n[i]){case"selectedItems":0!==this.parent.selectedItems.length?this.selectRecords(this.parent.selectedItems):t.isNullOrUndefined(this.gridObj)||this.gridObj.clearSelection();break;case"enableRtl":t.isNullOrUndefined(this.gridObj)||(this.gridObj.enableRtl=e.newProp.enableRtl,this.gridObj.dataBind());break;case"showFileExtension":case"showHiddenItems":V(this.parent,Rt,this.parent.path);break;case"allowMultiSelection":t.isNullOrUndefined(this.gridObj)||(this.gridObj.selectionSettings.type=e.newProp.allowMultiSelection?"Multiple":"Single",this.renderCheckBox());break;case"view":V(this.parent,_t,this.parent.path)}},e.prototype.onPathChanged=function(e){if(""===this.parent.breadcrumbbarModule.searchObj.element.value.trim()&&this.gridObj){this.parent.searchedItems=[];var t=this.gridObj.columns.length,i=JSON.parse(JSON.stringify(this.gridObj.columns));i[t-1].field&&"filterPath"===i[t-1].field&&(this.gridObj.columns.pop(),this.gridObj.refreshColumns())}v(this.parent),this.parent.persistData||this.parent.setProperties({selectedItems:[]},!0),"Details"===this.parent.view&&(this.parent.persistData?this.isInteracted=!1:this.parent.setProperties({selectedItems:[]},!0),this.parent.persistData=!1,this.parent.cutNodes=[],this.gridObj.dataSource=D(this.parent,e.files),this.parent.notify("search-change",e)),this.checkEmptyDiv(e)},e.prototype.checkEmptyDiv=function(e){var i=D(this.parent,e.files);if(0!==i.length||t.isNullOrUndefined(this.element.querySelector("."+mt))){if(0!==i.length&&this.element.querySelector("."+rt))if(this.element.querySelector("."+mt).querySelector("."+rt)){var n=this.element.querySelector("."+mt).querySelector("."+rt);this.element.querySelector("."+mt).removeChild(n)}else this.element.removeChild(this.element.querySelector("."+rt))}else P(this.parent,t.getValue("name",e),this.element)},e.prototype.onOpenInit=function(e){if("detailsview"===this.parent.activeModule){var t=this.gridObj.getSelectedRecords()[0];this.openContent(t)}},e.prototype.DblClickEvents=function(e){this.gridObj.selectRows([e.rowIndex]);var t;e.rowData&&(t=JSON.parse(JSON.stringify(e.rowData)),this.openContent(t))},e.prototype.openContent=function(e){var i={cancel:!1,fileDetails:e};if(this.parent.trigger("beforeFileOpen",i),!i.cancel)if(t.getValue("isFile",e)){if(j(e)===ht){var n=t.getValue("name",e),s=x(this.parent,e);be(this.parent,n,s)}}else{var a=this.parent.path+t.getValue("name",e)+"/";this.parent.setProperties({path:a},!0),this.parent.pathId.push(t.getValue("nodeId",e)),this.parent.itemData=[e],I(this.parent)}},e.prototype.onLayoutChange=function(e){"Details"===this.parent.view&&(this.gridObj||this.render(e),this.gridObj.dataSource=D(this.parent,e.files),this.parent.notify("hide-layout",{}),this.gridObj.element.classList.remove(It),this.isInteracted=!1,this.gridObj.clearSelection(),this.parent.selectedItems&&(this.selectedItem=!0),""!==this.parent.breadcrumbbarModule.searchObj.element.value.trim()&&this.onSearchFiles(e))},e.prototype.onSearchFiles=function(e){if("Details"===this.parent.view){var t=this.gridObj.columns.length,i=JSON.parse(JSON.stringify(this.gridObj.columns));i[t-1].field&&"filterPath"===i[t-1].field&&this.gridObj.columns.pop();var n={field:"filterPath",headerText:"path",minWidth:180};this.parent.isMobile||this.gridObj.columns.push(n),this.gridObj.refreshColumns(),this.parent.searchedItems=e.files,this.onPathChanged(e)}},e.prototype.changeData=function(e){this.isInteracted=!1,this.gridObj.dataSource=D(this.parent,e.files),this.parent.selectedItems&&(this.selectedItem=!0)},e.prototype.onInitialEnd=function(e){this.render(e),this.parent.notify("search-change",e)},e.prototype.onCreateEnd=function(e){"Details"===this.parent.view&&this.onPathChanged(e)},e.prototype.onRenameInit=function(){"Details"===this.parent.view&&1===this.parent.selectedItems.length&&this.updateRenameData()},e.prototype.onDeleteEnd=function(e){"Details"===this.parent.view&&(this.onPathChanged(e),this.parent.setProperties({selectedItems:[]},!0))},e.prototype.onRefreshEnd=function(e){"Details"===this.parent.view&&this.changeData(e)},e.prototype.onHideLayout=function(e){"Details"!==this.parent.view&&this.gridObj&&this.gridObj.element.classList.add(It)},e.prototype.onSelectAllInit=function(){"Details"===this.parent.view&&(this.isInteracted=!1,this.gridObj.selectionModule.selectRowsByRange(0,this.gridObj.getRows().length),this.isInteracted=!0)},e.prototype.onClearAllInit=function(){"Details"===this.parent.view&&this.removeSelection()},e.prototype.onSelectionChanged=function(){t.removeClass([this.element],"e-headercheck"),this.parent.selectedItems.length>0&&t.addClass([this.element],"e-headercheck")},e.prototype.onBeforeRequest=function(){this.isRendered=!1},e.prototype.onAfterRequest=function(e){"failure"===t.getValue("action",e)&&(this.isRendered=!0)},e.prototype.addEventListener=function(){this.parent.on(Et,this.onInitialEnd,this),this.parent.on(Pt,this.destroy,this),this.parent.on(_t,this.onLayoutChange,this),this.parent.on(Rt,this.onPathChanged,this),this.parent.on(jt,this.onCreateEnd,this),this.parent.on(xt,this.onDeleteEnd,this),this.parent.on(Dt,this.onRefreshEnd,this),this.parent.on("search",this.onSearchFiles,this),this.parent.on(Nt,this.onPropertyChanged,this),this.parent.on(Vt,this.onRenameInit,this),this.parent.on(Ft,this.onPathChanged,this),this.parent.on(kt,this.onOpenInit,this),this.parent.on(qt,this.onSortColumn,this),this.parent.on(Tt,this.onPathChanged,this),this.parent.on("hide-layout",this.onHideLayout,this),this.parent.on("select-all-init",this.onSelectAllInit,this),this.parent.on("clear-all-init",this.onClearAllInit,this),this.parent.on("path-column",this.onPathColumn,this),this.parent.on(At,this.onSelectionChanged,this),this.parent.on(Mt,this.onBeforeRequest,this),this.parent.on(Lt,this.onAfterRequest,this)},e.prototype.removeEventListener=function(){this.parent.off(Et,this.onInitialEnd),this.parent.off(Pt,this.destroy),this.parent.off(_t,this.onLayoutChange),this.parent.off(Rt,this.onPathChanged),this.parent.off(jt,this.onCreateEnd),this.parent.off(Dt,this.onRefreshEnd),this.parent.off("search",this.onSearchFiles),this.parent.off(Nt,this.onPropertyChanged),this.parent.off(Vt,this.onRenameInit),this.parent.off(Ft,this.onPathChanged),this.parent.off(kt,this.onOpenInit),this.parent.off(qt,this.onSortColumn),this.parent.off(Tt,this.onPathChanged),this.parent.off("hide-layout",this.onHideLayout),this.parent.off("select-all-init",this.onSelectAllInit),this.parent.off("clear-all-init",this.onClearAllInit),this.parent.off(xt,this.onDeleteEnd),this.parent.off("path-column",this.onPathColumn),this.parent.off(At,this.onSelectionChanged),this.parent.off(Mt,this.onBeforeRequest),this.parent.off(Lt,this.onAfterRequest)},e.prototype.getModuleName=function(){return"detailsview"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.gridObj&&(this.unWireEvents(),this.gridObj.destroy()))},e.prototype.onSelected=function(e){if(this.parent.activeElements=this.gridObj.element.querySelectorAll("."+tt),this.parent.activeModule="detailsview",this.selectedRecords(),this.parent.notify(At,{}),this.triggerSelect("select",e),this.parent.allowMultiSelection){var i=this.gridObj.getSelectedRowIndexes(),n=i.length;if(n>1){s=this.gridObj.getRowsObject()[i[n-1]].data;this.parent.currentItemText=t.getValue("name",s)}}if(1===this.parent.selectedItems.length){var s=this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;this.parent.currentItemText=t.getValue("name",s)}var a=t.getValue("rowIndexes",e),r=t.getValue("enableSelectMultiTouch",this.gridObj.selectionModule);if(this.parent.isDevice&&t.isNullOrUndefined(a)&&e.target&&!r&&!e.target.closest(".e-headercell")&&(this.parent.isFile=t.getValue("isFile",e.data),!this.parent.isFile)){var o=this.parent.path+t.getValue("name",e.data)+"/";this.parent.setProperties({path:o},!0),this.parent.pathId.push(t.getValue("nodeId",e.data)),this.parent.itemData=[e.data],I(this.parent)}this.parent.visitedItem=e.row},e.prototype.onPathColumn=function(e){if("Details"===this.parent.view){var t=this.gridObj.columns.length;if(""===this.parent.breadcrumbbarModule.searchObj.element.value){var i=JSON.parse(JSON.stringify(this.gridObj.columns));i[t-1].field&&"filterPath"===i[t-1].field&&(this.gridObj.columns.pop(),this.gridObj.refreshColumns())}}},e.prototype.selectedRecords=function(){this.parent.setProperties({selectedItems:[]},!0);for(var e=this.gridSelectNodes(),t=0;t<e.length;){var i=e[t];this.parent.selectedItems.push(i.name),t++}},e.prototype.onDeSelection=function(e){if(!this.isInteracted)return void(this.isInteracted=!0);this.parent.activeElements[0].querySelector("."+at)&&(this.selectedRecords(),this.parent.activeElements=this.gridObj.element.querySelectorAll("."+tt));for(var i=e.data,n=0,s=i.length;n<s;n++){var a=this.parent.selectedItems.indexOf(t.getValue("name",i[n]));a>-1&&this.parent.selectedItems.splice(a,1)}0===this.parent.selectedItems.length&&(t.setValue("enableSelectMultiTouch",!1,this.gridObj.selectionModule),t.removeClass([this.parent.element],"e-fe-m-select")),this.parent.notify(At,{}),this.triggerSelect("unselect",e),this.parent.visitedItem=null},e.prototype.triggerSelect=function(e,t){var i={action:e,fileDetails:t.data};this.parent.trigger("fileSelect",i)},e.prototype.wireEvents=function(){this.wireClickEvent(!0),this.keyboardModule=new t.KeyboardEvents(this.gridObj.element,{keyAction:this.keyDown.bind(this),keyConfigs:this.keyConfigs,eventName:"keyup"}),t.EventHandler.add(this.gridObj.element,"focus",this.removeSelection,this)},e.prototype.unWireEvents=function(){this.wireClickEvent(!1),this.keyboardModule.destroy(),t.EventHandler.remove(this.gridObj.element,"focus",this.removeSelection)},e.prototype.wireClickEvent=function(e){if(e){var i=this,n=this.gridObj.getContent();this.clickObj=new t.Touch(n,{tapHold:function(e){if(i.parent.isDevice){e.originalEvent.preventDefault(),i.parent.allowMultiSelection&&(t.setValue("enableSelectMultiTouch",i.parent.allowMultiSelection,i.gridObj.selectionModule),t.addClass([i.parent.element],"e-fe-m-select"));var n=e.originalEvent.target;if(n){var s=n.closest(".e-row"),a=i.gridObj.getRows().indexOf(s);i.gridObj.selectRow(a)}}}})}else this.clickObj&&this.clickObj.destroy()},e.prototype.removeSelection=function(){t.removeClass([this.parent.element],"e-fe-m-select"),this.gridObj.clearSelection(),this.parent.notify(At,{})},e.prototype.keyDown=function(e){if(this.isRendered)switch(e.preventDefault(),e.action){case"altEnter":this.parent.getDetails();break;case"esc":v(this.parent),this.parent.selectedNodes=[],this.parent.navigationpaneModule&&(this.parent.navigationpaneModule.treeNodes=[]);break;case"del":case"shiftdel":this.parent.selectedItems&&this.parent.selectedItems.length>0&&ie(this.parent,"Delete");break;case"enter":if(-1===this.gridObj.selectedRowIndex)break;var i=this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;if(i){var n=JSON.parse(JSON.stringify(i));this.openContent(n)}break;case"ctrlC":v(this.parent),this.parent.navigationpaneModule.treeNodes=[],this.parent.navigationpaneModule.copyNodes=[],this.parent.cutNodes=[],this.parent.selectedNodes=[],this.parent.targetPath=this.parent.path,g(this.parent.navigationpaneModule,this.gridSelectNodes(),"copy"),this.parent.fileAction="CopyTo",this.parent.enablePaste=!0,this.parent.notify(Ut,{}),this.parent.fileOperation(this.gridSelectNodes());break;case"ctrlV":this.parent.pasteHandler();break;case"ctrlX":E(this.parent),this.parent.fileOperation(this.parent.nodeNames);break;case"shiftF10":te(this.parent,this.gridSelectNodes());break;case"f2":1===this.parent.selectedItems.length&&(this.updateRenameData(),ie(this.parent,"Rename"));break;case"ctrlA":var s=[this.gridObj.getSelectedRecords()[0]];this.parent.currentItemText=t.getValue("name",s[0]);break;case"tab":var a=D(this.parent,this.gridObj.dataSource);this.parent.selectedItems=[t.getValue("name",a[0])],this.selectRecords([t.getValue("name",a[0])])}},e.prototype.gridSelectNodes=function(){return this.gridObj.getSelectedRecords()},e.prototype.updateRenameData=function(){var e=this.gridSelectNodes()[0];this.parent.itemData=[e],this.parent.currentItemText=t.getValue("name",e),this.parent.isFile=t.getValue("isFile",e)},e}();return e.AjaxSettings=Ie,e.toolbarItems=Ne,e.ToolbarSettings=Ee,e.SearchSettings=De,e.columnArray=Me,e.DetailsViewSettings=Le,e.fileItems=Ae,e.folderItems=_e,e.layoutItems=Be,e.ContextMenuSettings=Ve,e.NavigationPaneSettings=He,e.TOOLBAR_ID="_toolbar",e.LAYOUT_ID="_layout",e.TREE_ID="_tree",e.GRID_ID=qe,e.LARGEICON_ID=ze,e.DIALOG_ID=Ke,e.ALT_DIALOG_ID="_alt_dialog",e.IMG_DIALOG_ID=We,e.EXTN_DIALOG_ID=Ge,e.UPLOAD_DIALOG_ID="_upload_dialog",e.CONTEXT_MENU_ID="_contextmenu",e.SORTBY_ID="_sortby",e.VIEW_ID="_view",e.SPLITTER_ID="_splitter",e.CONTENT_ID="_content",e.BREADCRUMBBAR_ID="_breadcrumbbar",e.UPLOAD_ID="_upload",e.ROOT="e-filemanager",e.CONTROL="e-control",e.CHECK_SELECT="e-fe-cb-select",e.ROOT_POPUP="e-fe-popup",e.MOBILE="e-fe-mobile",e.MULTI_SELECT="e-fe-m-select",e.FILTER=Ye,e.LAYOUT="e-layout",e.LAYOUT_CONTENT="e-layout-content",e.LARGE_ICONS=Je,e.TB_ITEM="e-toolbar-item",e.LIST_ITEM=Xe,e.LIST_TEXT=$e,e.LIST_PARENT="e-list-parent",e.TB_OPTION_TICK=Qe,e.TB_OPTION_DOT=Ze,e.BLUR=et,e.ACTIVE=tt,e.HOVER=it,e.FOCUS="e-focus",e.CHECK=nt,e.FRAME="e-frame",e.CB_WRAP=st,e.ROW="e-row",e.ROWCELL=at,e.EMPTY=rt,e.EMPTY_CONTENT=ot,e.EMPTY_INNER_CONTENT=lt,e.FOLDER="e-fe-folder",e.ICON_IMAGE=ht,e.ICON_MUSIC=dt,e.ICON_VIDEO=ct,e.LARGE_ICON=pt,e.LARGE_EMPTY_FOLDER=ut,e.LARGE_EMPTY_FOLDER_TWO="e-empty-icon.e-fe-folder",e.LARGE_ICON_FOLDER=ft,e.SELECTED_ITEMS="e-items",e.TEXT_CONTENT="e-text-content",e.GRID_HEADER="e-gridheader",e.TEMPLATE_CELL="e-templatecell",e.TREE_VIEW="e-treeview",e.MENU_ITEM="e-menu-item",e.MENU_ICON="e-menu-icon",e.SUBMENU_ICON="e-caret",e.GRID_VIEW=mt,e.ICON_VIEW="e-list-parent",e.ICON_OPEN="e-icons e-fe-open",e.ICON_UPLOAD="e-icons e-fe-upload",e.ICON_CUT=gt,e.ICON_COPY="e-icons e-fe-copy",e.ICON_PASTE="e-icons e-fe-paste",e.ICON_DELETE="e-icons e-fe-delete",e.ICON_RENAME="e-icons e-fe-rename",e.ICON_NEWFOLDER="e-icons e-fe-newfolder",e.ICON_DETAILS="e-icons e-fe-details",e.ICON_SHORTBY="e-icons e-fe-sort",e.ICON_REFRESH="e-icons e-fe-refresh",e.ICON_SELECTALL="e-icons e-fe-select",e.ICON_DOWNLOAD="e-icons e-fe-download",e.ICON_OPTIONS="e-icons e-fe-options",e.ICON_GRID=bt,e.ICON_LARGE=yt,e.ICON_BREADCRUMB="e-icons e-fe-breadcrumb",e.ICON_CLEAR="e-icons e-fe-clear",e.ICONS=vt,e.DETAILS_LABEL="e-detailslabel",e.ERROR_CONTENT=Ot,e.STATUS="e-status",e.BREADCRUMBS="e-address",e.RTL=wt,e.DISPLAY_NONE=It,e.COLLAPSED="e-node-collapsed",e.FULLROW="e-fullrow",e.ICON_COLLAPSIBLE="e-icon-collapsible",e.SPLIT_BAR="e-split-bar",e.HEADER_CHECK="e-headercheck",e.OVERLAY="e-fe-overlay",e.VALUE=Ct,e.isFile=St,e.modelChanged=Nt,e.initialEnd=Et,e.createEnd=jt,e.deleteEnd=xt,e.refreshEnd=Dt,e.resizeEnd="resize-end",e.splitterResize="splitter-resize",e.pathChanged=Rt,e.destroy=Pt,e.beforeRequest=Mt,e.upload="upload",e.afterRequest=Lt,e.download="download",e.uiRefresh="ui-refresh",e.search="search",e.openInit=kt,e.openEnd=Tt,e.selectionChanged=At,e.selectAllInit="select-all-init",e.clearAllInit="clear-all-init",e.layoutChange=_t,e.sortByChange=Bt,e.nodeExpand="node-expand",e.renameInit=Vt,e.renameEnd=Ft,e.showPaste=Ut,e.hidePaste=Ht,e.hideLayout="hide-layout",e.updateTreeSelection="update-tree-selection",e.treeSelect="select-node",e.sortColumn=qt,e.pathColumn="path-column",e.searchTextChange="search-change",e.FileManager=Xt,e.Toolbar=$t,e.BreadCrumbBar=Kt,e.NavigationPane=Qt,e.DetailsView=Zt,e.LargeIconsView=zt,e.createDialog=ie,e.createImageDialog=be,e.ContextMenu=Wt,e}({},ej.base,ej.layouts,ej.popups,ej.data,ej.inputs,ej.lists,ej.buttons,ej.splitbuttons,ej.navigations,ej.grids),this.ejs=ej;
//# sourceMappingURL=ej2-filemanager.min.js.map
