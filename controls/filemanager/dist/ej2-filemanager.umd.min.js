!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base"),require("@syncfusion/ej2-layouts"),require("@syncfusion/ej2-popups"),require("@syncfusion/ej2-data"),require("@syncfusion/ej2-inputs"),require("@syncfusion/ej2-lists"),require("@syncfusion/ej2-buttons"),require("@syncfusion/ej2-splitbuttons"),require("@syncfusion/ej2-navigations"),require("@syncfusion/ej2-grids")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@syncfusion/ej2-layouts","@syncfusion/ej2-popups","@syncfusion/ej2-data","@syncfusion/ej2-inputs","@syncfusion/ej2-lists","@syncfusion/ej2-buttons","@syncfusion/ej2-splitbuttons","@syncfusion/ej2-navigations","@syncfusion/ej2-grids"],t):t(e.ej={},e.ej2Base,e.ej2Layouts,e.ej2Popups,e.ej2Data,e.ej2Inputs,e.ej2Lists,e.ej2Buttons,e.ej2Splitbuttons,e.ej2Navigations,e.ej2Grids)}(this,function(e,t,i,n,s,a,r,o,l,h,d){"use strict";function c(e,t,i){i.setProperties({path:p(e,t)},!0),i.pathId=function(e){for(var t=u(e,e.getAttribute("data-uid"),!0),i=[],n=t.length-1;n>=0;n--)i.push(t[n]);return i}(e)}function p(e,t){for(var i=u(e,t,!1),n="/",s=i.length-2;s>=0;s--)n+=i[s]+"/";return n}function u(e,i,n){for(var s=[i],a=e.parentNode;!t.isNullOrUndefined(a);){if(t.matches(a,"."+We)){var r=n?a.getAttribute("data-uid"):t.select("."+Ge,a).textContent;s.push(r)}a=a.parentNode}return s}function f(e,t,i){var n;if(t)for(var s=0;s<t.length;s++){var a=t[s],r=a.id;!1===a.isFile&&("cut"===i?e.treeNodes.push(r):e.treeNodes=e.treeNodes,"copy"===i?e.copyNodes.push((n={},n.name=a.name,n)):e.copyNodes=e.copyNodes,"Delete"===i?e.removeNodes.push(r):e.removeNodes=e.removeNodes)}else e.treeNodes="cut"===i?e.treeObj.selectedNodes:e.treeNodes,e.removeNodes="Delete"===i?e.treeObj.selectedNodes:e.removeNodes}function m(e,t,i){var n=[];y(i);var s=i.activeElements;i.targetPath=i.path;var a,r,o=0;if(s){for(!function(e,t){e&&(e.classList.contains(nt)?t.activeModule="detailsview":e.closest("."+dt)?t.activeModule="largeiconsview":t.activeModule="navigationpane")}(s[0],i);o<s.length;)"cut"===e&&g(s[o]),r=!1===(a="largeiconsview"===i.activeModule?!s[o].querySelector("."+pt):null)?s[o].closest("li").getAttribute("data-uid"):null,s[o].querySelector("."+Ge)?n.push({name:s[o].querySelector("."+Ge).textContent,isFile:a,id:r}):n=n,o++;"detailsview"===i.activeModule&&!1!==t?(n=i.detailsviewModule.gridSelectNodes(),"cut"!==e&&"copy"!==e&&"Delete"!==e||!i.navigationpaneModule||f(i.navigationpaneModule,n,e)):"largeiconsview"===i.activeModule&&i.navigationpaneModule?"cut"===e||"copy"===e||"Delete"===e?f(i.navigationpaneModule,n,e):n=n:("cut"!==e&&"copy"!==e&&"Delete"!==e||!i.navigationpaneModule?n=n:f(i.navigationpaneModule,null,e),"navigationpane"===i.activeModule&&function(e){var t=e.path.substr(0,e.path.length-1);e.targetPath=t.substr(0,t.lastIndexOf("/")+1)}(i))}return n}function g(e){e.classList.add($e)}function y(e,t){for(var i=t?e.element.querySelectorAll("."+Ze):e.element.querySelectorAll("."+$e),n=0;n<i.length;)t?i[n].classList.remove(Ze):i[n].classList.remove($e),n++}function b(e){e.itemData=[w(e)],k(e,Xt,e.path)}function v(e){k(e,ai,e.path)}function O(e){var i=t.getValue(e.path,e.feFiles);if(i)for(var n=e.selectedItems[e.selectedItems.length-1],s=0,a=i.length;s<a;s++)if(n===t.getValue("name",i[s]))return i[s];return t.getValue(e.path,e.feParent)}function w(e){return t.getValue(e.path,e.feParent)}function I(e){e.cutNodes=[],e.navigationpaneModule.treeNodes=[],e.navigationpaneModule.copyNodes=[],e.nodeNames=[],e.selectedNodes=[],e.nodeNames=m("copy",null,e),e.nodeNames&&(e.fileAction="CopyTo",e.enablePaste=!0,e.notify(fi,{}))}function C(e){e.navigationpaneModule.treeNodes=[],e.navigationpaneModule.copyNodes=[],e.nodeNames=[],e.selectedNodes=[],e.nodeNames=m("cut",null,e),e.nodeNames&&(e.cutNodes=e.nodeNames,e.fileAction="MoveTo",e.enablePaste=!0,e.notify(fi,{}))}function S(e){if(!t.getValue("isFile",e))return"e-fe-folder";var i=t.getValue("type",e);-1!==(i=i.toLowerCase()).indexOf(".")&&(i=i.split(".").join(""));return-1!==["bmp","dib","jpg","jpeg","jpe","jfif","gif","tif","tiff","png","ico"].indexOf(i)?ot:-1!==["mp3","wav","aac","ogg","wma","aif","fla","m4a"].indexOf(i)?lt:-1!==["webm","mkv","flv","vob","ogv","ogg","avi","wmv","mp4","3gp"].indexOf(i)?ht:-1!==["css","exe","html","js","msi","pdf","pptx","ppt","rar","zip","txt","docx","doc","xlsx","xls","xml","rtf","php"].indexOf(i)?"e-fe-"+i:"e-fe-unknown e-fe-"+i}function N(e,i){var n=e.ajaxSettings.getImageUrl?e.ajaxSettings.getImageUrl:e.ajaxSettings.url;return""!==e.breadcrumbbarModule.searchObj.element.value?n+"?path="+e.path+t.getValue("filterPath",i):n+"?path="+e.path+t.getValue("name",i)}function j(e,i){if(0===i.length)return i;var n=(new s.Query).sortBy(e.sortBy,e.sortOrder.toLowerCase(),!0).group("isFile"),a=new s.DataManager(i).executeLocal(n);return t.getValue("records",a)}function E(e,i){var n=t.select("."+Ge,i).textContent,a=t.getValue(e.path,e.feFiles),r=(new s.Query).where("name","equal",n);return new s.DataManager(a).executeLocal(r)[0]}function x(e,i,n){if(t.isNullOrUndefined(n.querySelector("."+st))){var s=t.createElement("div",{className:st}),a=t.createElement("div",{className:ct}),r=t.createElement("div",{className:at}),o=t.createElement("div",{className:rt});"Details"===e.view?n.querySelector("."+gt).appendChild(s):n.appendChild(s),s.appendChild(a),s.appendChild(r),s.appendChild(o)}n.querySelector("."+st)&&("search"===i?(n.querySelector("."+at).innerHTML=R(e,"Search-Empty"),n.querySelector("."+rt).innerHTML=R(e,"Search-Key")):(n.querySelector("."+at).innerHTML=R(e,"Folder-Empty"),n.querySelector("."+rt).innerHTML=R(e,"File-Upload")))}function D(e){return new s.DataManager(e).executeLocal((new s.Query).where(Kt,"equal",!1,!1))}function R(e,t){var i=e.localeObj.getConstant(t);return""===i?t:i}function P(e,i){var n=e.cssClass;return n=t.isNullOrUndefined(n)||""===n?i:n+" "+i}function M(e,t){-1!==t.item.id.indexOf("ascending")||-1!==t.item.id.indexOf("descending")?e.sortOrder=L(t.item.id):e.sortBy=L(t.item.id),"Details"===e.view&&(e.isMobile?k(e,hi,e.path):e.notify(vi,{module:"gridview"})),"LargeIcons"===e.view&&k(e,hi,e.path),e.notify(di,{})}function L(e){var t=e.substring(e.lastIndexOf("_")+1),i=t;switch(t){case"date":i="dateModified";break;case"ascending":i="Ascending";break;case"descending":i="Descending"}return i}function k(e,t,i){B(e,{action:"Read",path:i,showHiddenItems:e.showHiddenItems,data:e.itemData},_,t)}function T(e,t){B(e,{action:"Rename",path:e.path,name:e.currentItemText,itemNewName:t,data:e.itemData},F,e.path)}function A(e,t,i,n,s,a,r){B(e,{action:s,path:t,targetPath:n,itemNames:i,CommonFiles:r},U,t,a,s,n)}function B(e,i,n,s,a,r,o){var l={url:e.ajaxSettings.url,type:"POST",mode:!0,dataType:"json",contentType:"application/json",data:JSON.stringify(i),onSuccess:null,onFailure:null},h={action:t.getValue("action",i),ajaxSettings:l,cancel:!1};if(e.trigger("beforeSend",h),!h.cancel){e.notify(ti,{});new t.Ajax({url:t.getValue("url",h.ajaxSettings),type:t.getValue("type",h.ajaxSettings),mode:t.getValue("mode",h.ajaxSettings),dataType:t.getValue("dataType",h.ajaxSettings),contentType:t.getValue("contentType",h.ajaxSettings),data:t.getValue("data",h.ajaxSettings),onSuccess:function(l){if(e.notify(ii,{action:"success"}),!t.isNullOrUndefined(l.files)){!function(e){for(var i=0;i<e.length;i++)t.setValue("dateCreated",new Date(t.getValue("dateCreated",e[i])),e[i]),t.setValue("dateModified",new Date(t.getValue("dateModified",e[i])),e[i])}(l.files);for(var d=0,c=l.files.length;d<c;d++){var p=l.files[d];t.setValue("iconClass",S(p),p)}}if("Read"===t.getValue("action",i)){var u=t.getValue("path",i);!function(e,i){t.setValue("nodeId",i,e.cwd);for(var n=D(e.files),s=0,a=n.length;s<a;s++)t.setValue("nodeId",i+"_"+s,n[s])}(l,e.expandedId?e.expandedId:e.pathId[e.pathId.length-1]),t.setValue(u,l.files,e.feFiles),t.setValue(u,l.cwd,e.feParent)}n(e,l,s,a,r,o),"function"==typeof t.getValue("onSuccess",h.ajaxSettings)&&t.getValue("onSuccess",h.ajaxSettings)()},onFailure:function(){var i={files:null,error:{code:"404",message:"NetworkError: Faild to send on XMLHTTPRequest: Failed to load "+e.ajaxSettings.url,fileExists:null}};e.notify(ii,{action:"failure"}),n(e,i,s,a,r,o),"function"==typeof t.getValue("onFailure",h.ajaxSettings)&&t.getValue("onFailure",h.ajaxSettings)()}}).send()}}function _(e,i,n){t.isNullOrUndefined(i.files)?z(e,i,"Read"):(e.notify(n,i),e.notify(ri,{}),e.trigger("onSuccess",{action:"Read",result:i}))}function V(e,i){if(t.isNullOrUndefined(i.files))if("400"===i.error.code){var n=t.select("#newname",e.dialogObj.element),s=R(e,"Validation-NewFolder-Exists").replace("{0}",'"'+n.value+'"');n.parentElement.nextElementSibling.innerHTML=s}else e.dialogObj.hide(),z(e,i,"CreateFolder");else e.dialogObj.hide(),e.createdItem=i.files[0],e.trigger("onSuccess",{action:"CreateFolder",result:i}),k(e,Yt,e.path)}function F(e,i,n){if(t.isNullOrUndefined(i.files))if("400"===i.error.code){var s=t.select("#rename",e.dialogObj.element),a=R(e,"Validation-Rename-Exists").replace("{0}",'"'+e.currentItemText+'"');a=a.replace("{1}",'"'+s.value+'"'),s.parentElement.nextElementSibling.innerHTML=a}else e.dialogObj.hide(),z(e,i,"Rename");else{if(e.dialogObj.hide(),e.trigger("onSuccess",{action:"Rename",result:i}),e.renamedItem=i.files[0],0===e.selectedItems.length&&e.navigationpaneModule){var r=e.parentPath.split("/"),o=e.parentPath.replace(r[r.length-2]+"/",e.renameText+"/");e.setProperties({path:o},!0)}k(e,ui,e.path)}}function U(e,i,n,s,a){if(i.error&&i.error.fileExists){e.fileLength=0;for(var r=0;r<i.files.length;r++)Y(e,"DuplicateItems",i,null,i.error.fileExists);e.detailsviewModule.pasteOperation=!0,e.largeiconsviewModule.pasteOperation=!0,e.duplicateItems=[]}else i.error||t.isNullOrUndefined(i.files)?z(e,i,a):(e.detailsviewModule.pasteOperation=!0,e.largeiconsviewModule.pasteOperation=!0,e.pasteNodes=e.selectedNodes,k(e,Zt,e.path),"MoveTo"===a&&0!==s.treeNodes.length?(e.selectedNodes=[],s.moveNode()):"CopyTo"===a&&0!==s.copyNodes.length&&s.copyNode(),"MoveTo"===a&&(e.enablePaste=!1,e.notify(mi,{})),e.trigger("onSuccess",{action:a,result:i}))}function H(e,i,n){t.isNullOrUndefined(i.files)?z(e,i,"Remove"):(e.setProperties({path:n},!0),k(e,Jt,e.path),e.trigger("onSuccess",{action:"Remove",result:i}))}function q(e,i,n,s,a){t.isNullOrUndefined(i.details)?z(e,i,"GetDetails"):(Y(e,a,null,i.details),e.trigger("onSuccess",{action:"GetDetails",result:i}))}function z(e,t,i){Y(e,"Error",t),e.trigger("onError",{action:i,error:t.error})}function K(e,t,i,n,s,a){B(e,{action:"Search",path:i,searchString:n,showHiddenItems:s,caseSensitive:a},W,t)}function W(e,i,n){t.isNullOrUndefined(i.files)?z(e,i,"Search"):(e.notify(n,i),e.trigger("onSuccess",{action:"Search",result:i}))}function G(e,i){for(var n,s=[],a=e.ajaxSettings.downloadUrl?e.ajaxSettings.downloadUrl:e.ajaxSettings.url,r=0;r<i.length;r++)s.push(i[r].name),n=i[r].filterPath;var o={action:"Download",path:t.isNullOrUndefined(n)?e.path:n,itemNames:s},l=t.createElement("form",{id:e.element.id+"_downloadForm",attrs:{action:a,method:"post",name:"downloadForm",download:""}}),h=t.createElement("input",{id:e.element.id+"_hiddenForm",attrs:{name:"downloadInput",value:JSON.stringify(o),type:"hidden"}});l.appendChild(h),e.element.appendChild(l),document.forms.namedItem("downloadForm").submit(),e.element.removeChild(l)}function Y(e,i,s,a,r){var o=function(e,i,n,s,a){var r={header:"",content:"",buttons:[],open:null};switch(i=s&&!0===s.multipleFiles?"MultipleFileDetails":i){case"NewFolder":r.header=R(e,"Header-NewFolder"),r.content='<input type="text" value="New folder" id="newname"><div class="e-fe-error"></div>',r.buttons=[{buttonModel:{isPrimary:!0,content:R(e,"Button-Create")},click:function(t){"keydown"!==t.type&&X(e)}}],r.open=function(e){var i=t.select("#newname",e.dialogObj.element);i.parentElement.classList.contains("e-control-wrapper")||J(i,R(e,"Content-NewFolder"));i.parentElement.nextElementSibling.innerHTML="",i.oninput=function(){Q(e,i)},i.onkeyup=function(t){var i=te(t);13===i&&X(e)},function(e){var i=t.select("#newname",e.dialogObj.element);i.focus(),i.value="";var n=i.value.length;i.setSelectionRange(0,n)}(e)}.bind(this,e);break;case"Delete":e.selectedItems.length>1?(r.content=("<div>"+R(e,"Content-Multiple-Delete")+"</div>").replace("{0}",e.selectedItems.length.toString()),r.header=R(e,"Header-Multiple-Delete")):(r.content="<div>"+R(e,"Content-Delete")+"</div>",r.header=R(e,"Header-Delete")),r.buttons=[{buttonModel:{isPrimary:!0,content:R(e,"Button-Yes")},click:function(t){"keydown"!==t.type&&function(e){e.dialogObj.hide();var t=m("Delete",null,e);e.deleteHandler(t)}(e)}},{buttonModel:{content:R(e,"Button-No")},click:function(){e.dialogObj.hide()}}];break;case"Rename":r.header=R(e,"Header-Rename"),r.content='<input type="text" class="e-input" id="rename"><div class="e-fe-error"></div>',r.buttons=[{buttonModel:{isPrimary:!0,content:R(e,"Button-Save")},click:function(t){"keydown"!==t.type&&$(e)}}],r.open=function(e){var i=t.select("#rename",e.dialogObj.element);i.parentElement.classList.contains("e-control-wrapper")||J(i,R(e,"Content-Rename"));i.parentElement.nextElementSibling.innerHTML="",i.oninput=function(){Q(e,i)},i.onkeyup=function(t){var i=te(t);13===i&&$(e)},function(e,t){t.focus(),t.value=e.currentItemText,e.isFile&&e.isFile&&-1!==t.value.indexOf(".")?t.setSelectionRange(0,t.value.lastIndexOf(".")):t.setSelectionRange(0,t.value.length)}(e,i)}.bind(this,e);break;case"DuplicateItems":e.replaceItems=a,r.header=R(e,"Header-Duplicate"),r.content="<div>"+e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1)+R(e,"Content-Duplicate")+"</div>",r.buttons=[{buttonModel:{isPrimary:!0,content:R(e,"Button-Yes")},click:function(t){if("keydown"!==t.type){var i=e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1);e.duplicateItems.push(i),e.fileLength++,a[e.fileLength]?(e.dialogObj.content="<div>"+e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1)+R(e,"Content-Duplicate")+"</div>",e.dialogObj.show()):(e.dialogObj.hide(),A(e,e.targetPath,e.selectedNodes,e.path,e.fileAction,e.navigationpaneModule,e.duplicateItems))}}},{buttonModel:{content:R(e,"Button-No")},click:function(){if(e.fileLength++,a[e.fileLength]){var t=e.replaceItems[e.fileLength].substring(e.replaceItems[e.fileLength].lastIndexOf("/")+1);e.dialogObj.content="<div>"+t+" already exists. Are you sure you want to replace it ?</div>",e.dialogObj.show()}else e.dialogObj.hide(),0!==e.duplicateItems.length&&A(e,e.targetPath,e.duplicateItems,e.path,e.fileAction,e.navigationpaneModule,e.duplicateItems)}}];break;case"GetDetails":var o=new t.Internationalization,l=(o.parseDate(s.modified,{format:"MM/dd/yyy hh:mm:ss"}),o.formatDate(new Date(s.modified),{format:"MMMM dd, yyyy HH:mm:ss"}));r.header=s.name.split(".")[0],r.content="<table><tr><td>"+R(e,"Type")+'</td><td class="'+zt+'" title="'+(s.isFile?"File":"Folder")+'">'+(s.isFile?"File":"Folder")+"</td></tr><tr><td>"+R(e,"Size")+"</td><td>"+s.size+'<span class="'+zt+'" title ="'+s.size+'"></span></td></tr><tr><td>'+R(e,"Location")+'</td><td class="'+zt+'" title="'+s.location+'">'+s.location+"</td></tr><tr><td>"+R(e,"Modified")+'</td><td class="'+zt+'" >'+l+"</td></tr></table>",r.buttons=[{buttonModel:{isPrimary:!0,content:R(e,"Button-Ok")},click:function(t){"keydown"!==t.type&&e.dialogObj.hide()}}];break;case"MultipleFileDetails":var h=s.location;r.header=s.name,r.content="<table><tr><td>"+R(e,"Type")+':</td><td class="'+zt+'">Multiple Types</td></tr><tr><td>'+R(e,"Size")+":</td><td>"+s.size+'<span class="'+zt+'" title ="'+s.size+'"></span></td></tr><tr><td>'+R(e,"Location")+':</td><td class="'+zt+'" title="'+h+'">'+h+"</td></tr></table>",r.buttons=[{buttonModel:{isPrimary:!0,content:R(e,"Button-Ok")},click:function(t){"keydown"!==t.type&&e.dialogObj.hide()}}];break;case"Error":var d=n;"523"===d.error.code?r.header="Access Denied":r.header=R(e,"Error"),r.content='<div class="'+At+'">'+d.error.message+"</div>",r.buttons=[{buttonModel:{isPrimary:!0,content:R(e,"Button-Ok")},click:function(t){"keydown"!==t.type&&e.dialogObj.hide()}}]}return r}(e,i,s,a,r);t.isNullOrUndefined(e.dialogObj)?(e.dialogObj=new n.Dialog({header:o.header,content:o.content,buttons:o.buttons,animationSettings:{effect:"None"},showCloseIcon:!0,closeOnEscape:!0,visible:!0,isModal:!0,target:"#"+e.element.id,width:"350px",open:o.open,enableRtl:e.enableRtl,locale:e.locale}),e.dialogObj.appendTo("#"+e.element.id+Pe)):function(e,t){e.dialogObj.header=t.header,e.dialogObj.content=t.content,e.dialogObj.buttons=t.buttons,e.dialogObj.enableRtl=e.enableRtl,e.dialogObj.open=t.open,e.dialogObj.dataBind(),e.dialogObj.show()}(e,o)}function J(e,t){a.Input.createInput({element:e,properties:{placeholder:t}})}function X(e){var i=t.select("#newname",e.dialogObj.element);Z(e,i),""===i.parentElement.nextElementSibling.innerHTML&&function(e,t){B(e,{action:"CreateFolder",path:e.path,name:t,data:e.itemData},V)}(e,i.value)}function $(e){var i=t.select("#rename",e.dialogObj.element);if(Z(e,i),""===i.parentElement.nextElementSibling.innerHTML){var s=i.value;if(e.renameText=i.value,e.currentItemText!==s){if(0===e.selectedItems.length){e.parentPath=e.path;var a=e.path.split("/"),r=e.path.replace(a[a.length-2]+"/","");e.setProperties({path:r},!0)}if(e.isFile){e.currentItemText.substr(e.currentItemText.lastIndexOf("."))!==s.substr(s.lastIndexOf("."))?t.isNullOrUndefined(e.extDialogObj)?(e.extDialogObj=new n.Dialog({header:R(e,"Header-Rename-Confirmation"),content:"<div>"+R(e,"Content-Rename-Confirmation")+"</div>",animationSettings:{effect:"None"},target:"#"+e.element.id,showCloseIcon:!0,closeOnEscape:!0,isModal:!0,width:350,buttons:[{buttonModel:{isPrimary:!0,content:R(e,"Button-Yes")},click:function(){e.extDialogObj.hide(),T(e,e.renameText)}},{buttonModel:{content:R(e,"Button-No")},click:function(){e.extDialogObj.hide(),e.dialogObj.hide()}}]}),e.extDialogObj.appendTo("#"+e.element.id+Le)):e.extDialogObj.show():T(e,s)}else T(e,s)}else e.dialogObj.hide()}}function Q(e,t){/[/\\|*?"<>:]/.test(t.value)?ee(e,t):""===t.value?t.parentElement.nextElementSibling.innerHTML=R(e,"Validation-Empty"):t.parentElement.nextElementSibling.innerHTML=""}function Z(e,t){Q(e,t);var i=t.value.length-1;""===t.value||t.value.lastIndexOf(".")!==i&&t.value.lastIndexOf(" ")!==i||ee(e,t)}function ee(e,t){var i=R(e,"Validation-Invalid").replace("{0}",'"'+t.value+'"');t.parentElement.nextElementSibling.innerHTML=i}function te(e){return e.keyCode?e.keyCode:e.which?e.which:e.charCode}function ie(e,i,s){var a=t.createElement("div",{className:"e-image-wrap"}),r=t.createElement("img",{className:"e-image",attrs:{src:s}});a.appendChild(r),t.isNullOrUndefined(e.viewerObj)?(e.viewerObj=new n.Dialog({header:i,content:a,animationSettings:{effect:"None"},showCloseIcon:!0,closeOnEscape:!0,visible:!0,isModal:!0,width:"350px",height:"350px",target:"#"+e.element.id,locale:e.locale,enableResize:!0,allowDragging:!0,position:{X:"center",Y:"center"},enableRtl:e.enableRtl,open:function(e){setTimeout(function(){e.viewerObj.element.focus()}),ne(e)}.bind(this,e),resizing:ne.bind(this,e),resizeStop:ne.bind(this,e)}),e.viewerObj.appendTo("#"+e.element.id+Me)):(e.viewerObj.refresh(),e.viewerObj.header=i,e.viewerObj.content=a,e.viewerObj.enableRtl=e.enableRtl,e.viewerObj.dataBind(),e.viewerObj.show())}function ne(e){var i=t.select(".e-dlg-content",e.viewerObj.element),n=t.select(".e-image-wrap",e.viewerObj.element);n.style.width=i.offsetWidth-36+"px",n.style.height=i.offsetHeight-20+"px"}var se=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ae=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},re=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return se(i,e),ae([t.Property(null)],i.prototype,"downloadUrl",void 0),ae([t.Property(null)],i.prototype,"getImageUrl",void 0),ae([t.Property(null)],i.prototype,"uploadUrl",void 0),ae([t.Property(null)],i.prototype,"url",void 0),i}(t.ChildProperty),oe=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),le=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},he=["NewFolder","Upload","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"],de=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return oe(i,e),le([t.Property(he)],i.prototype,"items",void 0),le([t.Property(!0)],i.prototype,"visible",void 0),i}(t.ChildProperty),ce=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pe=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},ue=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ce(i,e),pe([t.Property(!0)],i.prototype,"allowSearchOnTyping",void 0),pe([t.Property("contains")],i.prototype,"filterType",void 0),pe([t.Property(!0)],i.prototype,"ignoreCase",void 0),i}(t.ChildProperty),fe=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),me=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},ge=[{field:"name",headerText:"Name",minWidth:120,width:"auto",template:'<span class="e-fe-text">${name}</span>',customAttributes:{class:"e-fe-grid-name"}},{field:"dateModified",headerText:"DateModified",format:{type:"date",format:"MMMM dd, yyyy HH:mm"},minWidth:50,width:"190"},{field:"size",headerText:"Size",minWidth:50,width:"110",template:'<span class="e-fe-size">${size}</span>'}],ye=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return fe(i,e),me([t.Property(!0)],i.prototype,"columnResizing",void 0),me([t.Property(ge)],i.prototype,"columns",void 0),i}(t.ChildProperty),be=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ve=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},Oe=["Open","|","Delete","Download","Rename","|","Details"],we=["Open","|","Delete","Rename","Download","|","Details"],Ie=["SortBy","View","Refresh","|","NewFolder","Upload","|","Details","|","SelectAll"],Ce=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return be(i,e),ve([t.Property(Oe)],i.prototype,"file",void 0),ve([t.Property(we)],i.prototype,"folder",void 0),ve([t.Property(Ie)],i.prototype,"layout",void 0),ve([t.Property(!0)],i.prototype,"visible",void 0),i}(t.ChildProperty),Se=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ne=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},je=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Se(i,e),Ne([t.Property("650px")],i.prototype,"maxWidth",void 0),Ne([t.Property("240px")],i.prototype,"minWidth",void 0),Ne([t.Property(!0)],i.prototype,"visible",void 0),i}(t.ChildProperty),Ee="_toolbar",xe="_tree",De="_grid",Re="_largeicons",Pe="_dialog",Me="_img_dialog",Le="_extn_dialog",ke="_upload_dialog",Te="_contextmenu",Ae="_content",Be="_breadcrumbbar",_e="_upload",Ve="e-fe-cb-select",Fe="e-fe-popup",Ue="e-fe-mobile",He="e-fe-m-select",qe="e-fe-m-filter",ze="e-layout-content",Ke="e-large-icons",We="e-list-item",Ge="e-list-text",Ye="e-list-parent",Je="e-icons e-fe-tick",Xe="e-icons e-fe-dot",$e="e-blur",Qe="e-active",Ze="e-hover",et="e-focus",tt="e-check",it="e-checkbox-wrapper",nt="e-rowcell",st="e-empty",at="e-empty-content",rt="e-empty-inner-content",ot="e-fe-image",lt="e-fe-music",ht="e-fe-video",dt="e-large-icon",ct="e-empty-icon e-fe-folder",pt="e-fe-folder",ut="e-templatecell",ft="e-treeview",mt="e-menu-icon",gt="e-content",yt="e-list-parent",bt="e-icons e-fe-open",vt="e-icons e-fe-upload",Ot="e-icons e-fe-cut",wt="e-icons e-fe-copy",It="e-icons e-fe-paste",Ct="e-icons e-fe-delete",St="e-icons e-fe-rename",Nt="e-icons e-fe-newfolder",jt="e-icons e-fe-details",Et="e-icons e-fe-sort",xt="e-icons e-fe-refresh",Dt="e-icons e-fe-select",Rt="e-icons e-fe-download",Pt="e-icons e-fe-grid",Mt="e-icons e-fe-large",Lt="e-icons e-fe-breadcrumb",kt="e-icons e-fe-clear",Tt="e-icons",At="e-fe-errorcontent",Bt="e-status",_t="e-display-none",Vt="e-node-collapsed",Ft="e-fullrow",Ut="e-icon-collapsible",Ht="e-split-bar",qt="e-headercheck",zt="e-fe-value",Kt="isFile",Wt="model-changed",Gt="initial-end",Yt="create-end",Jt="delete-end",Xt="refresh-end",$t="resize-end",Qt="splitter-resize",Zt="path-changed",ei="destroy",ti="before-request",ii="after-request",ni="search",si="open-init",ai="open-end",ri="selection-changed",oi="select-all-init",li="clear-all-init",hi="layout-change",di="sort-by-change",ci="node-expand",pi="rename-init",ui="rename-end",fi="show-paste",mi="hide-paste",gi="hide-layout",yi="update-tree-selection",bi="select-node",vi="sort-column",Oi="path-column",wi="search-change",Ii=function(){function e(e){this.pasteOperation=!1,this.uploadOperation=!1,this.count=0,this.isRendered=!0,this.tapCount=0,this.parent=e,this.element=t.select("#"+this.parent.element.id+Re,this.parent.element),t.addClass([this.element],Ke),this.addEventListener(),this.keyConfigs={end:"end",home:"home",tab:"tab",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlEnd:"ctrl+end",ctrlHome:"ctrl+home",ctrlDown:"ctrl+downarrow",ctrlLeft:"ctrl+leftarrow",ctrlRight:"ctrl+rightarrow",ctrlUp:"ctrl+uparrow",shiftEnd:"shift+end",shiftHome:"shift+home",shiftDown:"shift+downarrow",shiftLeft:"shift+leftarrow",shiftRight:"shift+rightarrow",shiftUp:"shift+uparrow",csEnd:"ctrl+shift+end",csHome:"ctrl+shift+home",csDown:"ctrl+shift+downarrow",csLeft:"ctrl+shift+leftarrow",csRight:"ctrl+shift+rightarrow",csUp:"ctrl+shift+uparrow",space:"space",ctrlSpace:"ctrl+space",shiftSpace:"shift+space",csSpace:"ctrl+shift+space",ctrlA:"ctrl+a",enter:"enter",altEnter:"alt+enter",esc:"escape",del:"delete",ctrlX:"ctrl+x",ctrlC:"ctrl+c",ctrlV:"ctrl+v",f2:"f2",shiftdel:"shift+delete",back:"backspace"}}return e.prototype.render=function(e){if(this.element.setAttribute("tabindex","0"),this.parent.visitedItem=null,this.startItem=null,"LargeIcons"===this.parent.view){this.resetMultiSelect(),this.listObj&&(this.unWireEvents(),this.removeEventListener()),this.parent.notify(gi,{});var i=t.select("#"+this.parent.element.id+Re,this.parent.element),n=t.select("ul",i);if(n&&n.remove(),this.listObj={ariaAttributes:{itemRole:"",listRole:"",itemText:"",groupItemRole:"group",wrapperRole:"presentation"},showIcon:!0,fields:{text:"name",iconCss:"icon",imageUrl:"imageUrl"},sortOrder:this.parent.sortOrder,itemCreated:this.onItemCreated.bind(this)},this.items=[],this.items=this.renderList(e),this.items=j(this.parent,this.items),this.listElements=r.ListBase.createListFromJson(t.createElement,this.items,this.listObj),this.itemList=Array.prototype.slice.call(t.selectAll("."+We,this.listElements)),this.element.appendChild(this.listElements),0===this.itemList.length){var s=this.element.querySelector("."+Ye);this.element.removeChild(s),x(this.parent,t.getValue("name",e),this.element)}else 0!==this.itemList.length&&this.element.querySelector("."+st)&&this.element.removeChild(this.element.querySelector("."+st));!0===this.pasteOperation&&(this.selectItems(e.files,this.parent.selectedNodes),this.parent.setProperties({selectedItems:[]},!0),this.pasteOperation=!1),!0===this.uploadOperation&&(this.selectItems(e.files,this.parent.uploadItem),this.parent.setProperties({selectedItems:[]},!0),this.count++,this.count===this.parent.uploadItem.length&&(this.uploadOperation=!1,this.parent.uploadItem=[])),this.parent.activeModule="largeiconsview",i.classList.remove(_t);var a=t.select("#"+this.parent.element.id+Ae,this.parent.element),o=t.select("#"+this.parent.element.id+Be,this.parent.element);this.element.style.height=a.offsetHeight-o.offsetHeight+"px",this.element.style.maxHeight="100%",this.getItemCount(),this.addEventListener(),this.wireEvents(),this.isRendered=!0,this.parent.persistData&&this.checkItem()}},e.prototype.getModuleName=function(){return"largeiconsview"},e.prototype.onItemCreated=function(e){if(!this.parent.showFileExtension&&t.getValue("isFile",e.curData)){var i=e.item.querySelector("."+Ge),n=t.getValue("name",e.curData),s=t.getValue("type",e.curData);i.innerHTML=n.substr(0,n.length-s.length)}this.renderCheckbox(e);var a={element:e.item,fileDetails:e.curData,module:"LargeIcon"};this.parent.trigger("beforeFileLoad",a)},e.prototype.renderCheckbox=function(e){if(this.parent.allowMultiSelection){var i;(i=o.createCheckBox(t.createElement,!1,{checked:!1,cssClass:"e-small"})).setAttribute("role","checkbox"),i.setAttribute("aria-checked","false"),e.item.firstElementChild.insertBefore(i,e.item.firstElementChild.childNodes[0])}},e.prototype.onLayoutChange=function(e){if("LargeIcons"===this.parent.view){if(this.destroy(),this.render(e),this.parent.cutNodes&&0!==this.parent.cutNodes.length)for(var t=this.getIndexes(e.files,this.parent.selectedNodes),i=0;i<t.length;)g(this.itemList[t[i]]),i++;var n=this.element.querySelectorAll("."+Qe);this.parent.activeElements=0!==n.length?n:this.parent.activeElements,0!==n.length&&this.element.focus(),this.checkItem()}else this.element.setAttribute("tabindex","-1")},e.prototype.checkItem=function(){var e=this.element.querySelectorAll("."+Qe);if(e)for(var t=0;t<e.length;)this.checkState(e[t],!0),t++},e.prototype.renderList=function(e){for(var i=0,n=JSON.parse(JSON.stringify(e.files));i<n.length;){var s=S(n[i]),a=this.parent.pasteNodes,r=this.parent.selectedItems&&-1!==this.parent.selectedItems.indexOf(t.getValue("name",e.files[i]))||a&&0!==a.length&&-1!==a.indexOf(t.getValue("name",e.files[i]))?dt+" e-active":dt;if(s===ot&&this.parent.showThumbnail){var o=N(this.parent,n[i]);t.setValue("imageUrl",o,n[i])}else t.setValue("icon",s,n[i]);t.setValue("htmlAttributes",{class:r},n[i]),i++}return n},e.prototype.onInitialEnd=function(e){this.render(e),this.parent.notify(wi,e)},e.prototype.onCreateEnd=function(e){"LargeIcons"===this.parent.view&&(this.onLayoutChange(e),this.clearSelect(),this.selectItems(e.files,[t.getValue("name",this.parent.createdItem)]),this.parent.createdItem=null)},e.prototype.onDeleteEnd=function(e){"LargeIcons"===this.parent.view&&(this.onLayoutChange(e),this.parent.setProperties({selectedItems:[]},!0),this.clearSelect())},e.prototype.onRefreshEnd=function(e){"LargeIcons"===this.parent.view&&this.onLayoutChange(e)},e.prototype.onRenameInit=function(){"LargeIcons"===this.parent.view&&1===this.parent.selectedItems.length&&this.updateRenameData()},e.prototype.onRenameEnd=function(e){"LargeIcons"===this.parent.view&&(this.onLayoutChange(e),this.clearSelect(),this.parent.setProperties({selectedItems:[]},!0),this.selectItems(e.files,[t.getValue("name",this.parent.renamedItem)]),this.parent.renamedItem=null)},e.prototype.onPathChanged=function(e){this.parent.breadcrumbbarModule.searchObj.value&&""===this.parent.breadcrumbbarModule.searchObj.value&&(this.parent.searchedItems=[]),"LargeIcons"===this.parent.view&&(y(this.parent),this.parent.persistData||(this.parent.selectedItems=[]),this.parent.persistData=!1,this.parent.pasteNodes=[],this.parent.cutNodes=[],this.onLayoutChange(e),this.parent.notify(wi,e))},e.prototype.onOpenInit=function(e){"largeiconsview"===this.parent.activeModule&&this.doOpenAction(e.target)},e.prototype.onHideLayout=function(e){"LargeIcons"!==this.parent.view&&this.element&&this.element.classList.add(_t)},e.prototype.onSelectAllInit=function(){if("LargeIcons"===this.parent.view){this.startItem=this.getFirstItem();var e=this.getLastItem();this.doSelection(e,{ctrlKey:!0,shiftKey:!0})}},e.prototype.onClearAllInit=function(){"LargeIcons"===this.parent.view&&this.clearSelection()},e.prototype.onBeforeRequest=function(){this.isRendered=!1},e.prototype.onAfterRequest=function(e){"failure"===t.getValue("action",e)&&(this.isRendered=!0)},e.prototype.onSearch=function(e){this.parent.searchedItems=e.files,this.onLayoutChange(e)},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Gt,this.onInitialEnd),this.parent.off(Yt,this.onCreateEnd),this.parent.off(Jt,this.onDeleteEnd),this.parent.off(Xt,this.onRefreshEnd),this.parent.off(Zt,this.onPathChanged),this.parent.off(hi,this.onLayoutChange),this.parent.off(ni,this.onSearch),this.parent.off(si,this.onOpenInit),this.parent.off(ai,this.onLayoutChange),this.parent.off(Wt,this.onPropertyChanged),this.parent.off(pi,this.onRenameInit),this.parent.off(ui,this.onRenameEnd),this.parent.off(gi,this.onHideLayout),this.parent.off(oi,this.onSelectAllInit),this.parent.off(li,this.onClearAllInit),this.parent.off(ti,this.onBeforeRequest),this.parent.off(ii,this.onAfterRequest),this.parent.off(Qt,this.resizeHandler),this.parent.off($t,this.resizeHandler))},e.prototype.addEventListener=function(){this.parent.on(Gt,this.onInitialEnd,this),this.parent.on(Yt,this.onCreateEnd,this),this.parent.on(Jt,this.onDeleteEnd,this),this.parent.on(Xt,this.onRefreshEnd,this),this.parent.on(Zt,this.onPathChanged,this),this.parent.on(hi,this.onLayoutChange,this),this.parent.on(ni,this.onSearch,this),this.parent.on(si,this.onOpenInit,this),this.parent.on(pi,this.onRenameInit,this),this.parent.on(ui,this.onRenameEnd,this),this.parent.on(ai,this.onLayoutChange,this),this.parent.on(Wt,this.onPropertyChanged,this),this.parent.on(gi,this.onHideLayout,this),this.parent.on(oi,this.onSelectAllInit,this),this.parent.on(li,this.onClearAllInit,this),this.parent.on(ti,this.onBeforeRequest,this),this.parent.on(ii,this.onAfterRequest,this),this.parent.on(Qt,this.resizeHandler,this),this.parent.on($t,this.resizeHandler,this)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++){switch(n[i]){case"selectedItems":this.element.querySelectorAll("."+Qe);if(0!==this.parent.selectedItems.length){var s=t.getValue(this.parent.path,this.parent.feFiles);this.selectItems(s,this.parent.selectedItems)}else for(;this.element.querySelectorAll("."+Qe).length>0;)this.removeActive(this.element.querySelectorAll("."+Qe)[0]);break;case"showThumbnail":b(this.parent);break;case"showFileExtension":case"showHiddenItems":k(this.parent,Zt,this.parent.path);break;case"allowMultiSelection":b(this.parent),this.parent.selectedItems.length>1&&!this.parent.allowMultiSelection&&(this.parent.selectedItems=[]);break;case"view":k(this.parent,hi,this.parent.path)}}},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.listObj&&this.unWireEvents())},e.prototype.wireEvents=function(){this.wireClickEvent(!0),this.keyboardModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keyup"}),this.keyboardDownModule=new t.KeyboardEvents(this.element,{keyAction:this.keydownActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),t.EventHandler.add(this.element,"mouseover",this.onMouseOver,this)},e.prototype.unWireEvents=function(){this.wireClickEvent(!1),t.EventHandler.remove(this.element,"mouseover",this.onMouseOver),this.keyboardModule.destroy()},e.prototype.onMouseOver=function(e){var t=e.target.closest(".e-list-item");y(this.parent,"hover"),null!==t&&t.classList.add(Ze)},e.prototype.wireClickEvent=function(e){if(e){var i=this;this.clickObj=new t.Touch(this.element,{tap:function(e){e.originalEvent.preventDefault(),i.parent.isDevice?(i.tapCount=e.tapCount,i.tapEvent=e,setTimeout(function(){i.tapCount>0&&i.doTapAction(i.tapEvent),i.tapCount=0},350)):2===e.tapCount&&3!==e.originalEvent.which?i.dblClickHandler(e):i.clickHandler(e)},tapHold:function(e){i.parent.isDevice&&(i.multiSelect=!!i.parent.allowMultiSelection,i.parent.allowMultiSelection&&t.addClass([i.parent.element],He),i.clickHandler(e))}})}else this.clickObj&&this.clickObj.destroy()},e.prototype.doTapAction=function(e){var i=e.originalEvent.target,n=i.closest("."+We);this.multiSelect||i.classList.contains(Ye)||t.isNullOrUndefined(n)?this.clickHandler(e):(this.parent.isFile=!1,this.updateType(n),this.parent.isFile?2===e.tapCount?(this.clickHandler(e),this.dblClickHandler(e)):this.clickHandler(e):this.dblClickHandler(e))},e.prototype.clickHandler=function(e){var t=e.originalEvent.target;this.doSelection(t,e.originalEvent)},e.prototype.doSelection=function(e,i){var n=e.closest("."+We),s=(this.getFocusedItem(),e.classList);this.parent.isFile=!1;var a="select";if(3!==i.which||t.isNullOrUndefined(n)||!n.classList.contains(Qe)){if(t.isNullOrUndefined(n))this.clearSelection();else{if(this.parent.allowMultiSelection&&(this.multiSelect||!i||i.ctrlKey)||s.contains("e-frame")||(this.updateType(n),this.clearSelect()),this.parent.allowMultiSelection&&i.shiftKey){i&&i.ctrlKey||this.clearSelect(),this.startItem||(this.startItem=n);var r=this.itemList.indexOf(this.startItem),o=this.itemList.indexOf(n);if(r>o)for(var l=r;l>=o;l--)this.addActive(this.itemList[l]);else for(l=r;l<=o;l++)this.addActive(this.itemList[l]);this.addFocus(this.itemList[o])}else this.startItem=n,this.parent.allowMultiSelection&&n.classList.contains(Qe)?(this.removeActive(n),a="unselect"):this.addActive(n),this.addFocus(n);0===this.parent.selectedItems.length&&this.resetMultiSelect(),this.parent.notify(ri,{}),this.triggerSelect(a,n)}this.parent.activeElements=this.element.querySelectorAll(".e-active")}else this.updateType(n)},e.prototype.dblClickHandler=function(e){var t=e.originalEvent.target;this.doOpenAction(t)},e.prototype.clearSelection=function(){this.clearSelect(),this.resetMultiSelect(),this.parent.notify(ri,{})},e.prototype.resetMultiSelect=function(){this.multiSelect=!1,t.removeClass([this.parent.element],He)},e.prototype.doOpenAction=function(e){if(!t.isNullOrUndefined(e)){var i=e.closest("."+We);if(this.parent.isFile=!1,!t.isNullOrUndefined(i)){this.updateType(i);var n=this.getItemObject(i),s={cancel:!1,fileDetails:n};if(this.parent.trigger("beforeFileOpen",s),s.cancel)return;var a=t.select("."+Ge,i).textContent;if(this.parent.isFile){if(S(n)===ot){var r=N(this.parent,n);ie(this.parent,t.getValue("name",n),r)}}else{var o=this.parent.path+a+"/";this.parent.setProperties({path:o},!0),this.parent.pathId.push(t.getValue("nodeId",n)),this.parent.itemData=[n],v(this.parent),this.parent.setProperties({selectedItems:[]},!0)}}}},e.prototype.updateType=function(e){var i=t.select(".e-fe-folder",e);this.parent.isFile=!!t.isNullOrUndefined(i)},e.prototype.keydownActionHandler=function(e){if(this.isRendered)switch(e.action){case"end":case"home":case"moveDown":case"moveLeft":case"moveRight":case"moveUp":case"ctrlEnd":case"shiftEnd":case"csEnd":case"ctrlHome":case"shiftHome":case"csHome":case"ctrlDown":case"shiftDown":case"csDown":case"ctrlLeft":case"shiftLeft":case"csLeft":case"ctrlRight":case"shiftRight":case"csRight":case"space":case"ctrlSpace":case"shiftSpace":case"csSpace":case"ctrlA":case"enter":case"altEnter":case"esc":case"del":case"shiftdel":case"ctrlC":case"ctrlV":case"ctrlX":case"f2":e.preventDefault()}},e.prototype.keyActionHandler=function(e){if(this.isRendered){var i=this.getFocusedItem(),n=this.getFirstItem(),s=this.getLastItem();switch(e.action){case"end":this.navigateItem(s);break;case"home":this.navigateItem(n);break;case"tab":t.isNullOrUndefined(n)||(this.startItem=n,this.clearSelect(),this.addFocus(n),this.parent.notify(ri,{}),this.triggerSelect("select",n));break;case"moveDown":this.navigateDown(i,!0);break;case"moveLeft":this.navigateRight(i,!1);break;case"moveRight":this.navigateRight(i,!0);break;case"moveUp":this.navigateDown(i,!1);break;case"ctrlEnd":case"shiftEnd":case"csEnd":this.csEndKey(s,e);break;case"ctrlHome":case"shiftHome":case"csHome":this.csHomeKey(n,e);break;case"ctrlDown":case"shiftDown":case"csDown":this.csDownKey(i,e);break;case"ctrlLeft":case"shiftLeft":case"csLeft":this.csLeftKey(i,e);break;case"ctrlRight":case"shiftRight":case"csRight":this.csRightKey(i,e);break;case"ctrlUp":case"shiftUp":case"csUp":this.csUpKey(i,e);break;case"space":this.spaceKey(i);break;case"ctrlSpace":case"shiftSpace":case"csSpace":t.isNullOrUndefined(i)||this.doSelection(i,e);break;case"ctrlA":this.ctrlAKey(n,s);break;case"enter":this.doOpenAction(this.parent.visitedItem?this.parent.visitedItem:this.getVisitedItem());break;case"altEnter":this.parent.getDetails();break;case"esc":this.escapeKey();break;case"del":case"shiftdel":this.parent.selectedItems&&this.parent.selectedItems.length>0&&Y(this.parent,"Delete");break;case"ctrlC":this.copy();break;case"ctrlV":this.parent.pasteHandler();break;case"ctrlX":this.cut();break;case"f2":1===this.parent.selectedItems.length&&(this.updateRenameData(),Y(this.parent,"Rename"))}}},e.prototype.updateRenameData=function(){var e=t.select("."+We+"."+Qe,this.element),i=this.getItemObject(e);this.parent.itemData=[i],this.parent.currentItemText=t.getValue("name",i),this.parent.isFile=t.getValue("isFile",i)},e.prototype.getVisitedItem=function(){var e=t.getValue(this.parent.path,this.parent.feFiles),i=this.parent.selectedItems[this.parent.selectedItems.length-1],n=this.getIndexes(e,[i]);return this.itemList[n[0]]},e.prototype.getFocusedItem=function(){return t.select("."+We+"."+et,this.element)},e.prototype.getActiveItem=function(){return t.select("."+We+"."+Qe,this.element)},e.prototype.getFirstItem=function(){return this.itemList[0]},e.prototype.getLastItem=function(){return this.itemList[this.itemList.length-1]},e.prototype.navigateItem=function(e){this.setFocus(e)},e.prototype.navigateDown=function(e,t){var i=this.getNextItem(e,t,this.perRow);this.setFocus(i)},e.prototype.navigateRight=function(e,t){var i=this.getNextItem(e,t);this.setFocus(i)},e.prototype.getNextItem=function(e,i,n){if(t.isNullOrUndefined(e))return this.getFocusedItem()||this.getActiveItem()||this.getFirstItem();var s,a=this.itemList.indexOf(e);do{if(a=i?n?a+n:a+1:n?a-n:a-1,s=this.itemList[a],t.isNullOrUndefined(s))return e}while(!t.isVisible(s));return s},e.prototype.setFocus=function(e){t.isNullOrUndefined(e)||(this.startItem=e,this.clearSelect(),this.addActive(e),this.addFocus(e),this.parent.notify(ri,{}),this.triggerSelect("select",e))},e.prototype.cut=function(){C(this.parent),this.parent.fileOperation(this.parent.nodeNames)},e.prototype.copy=function(){I(this.parent),this.parent.fileOperation(this.parent.nodeNames)},e.prototype.escapeKey=function(){y(this.parent),this.parent.selectedNodes=[],this.parent.navigationpaneModule.treeNodes=[]},e.prototype.spaceKey=function(e){t.isNullOrUndefined(e)||e.classList.contains(Qe)||(this.addActive(e),this.parent.notify(ri,{}),this.triggerSelect("select",e))},e.prototype.ctrlAKey=function(e,i){if(this.parent.allowMultiSelection&&!t.isNullOrUndefined(e)){this.startItem=e;this.doSelection(i,{ctrlKey:!0,shiftKey:!0})}},e.prototype.csEndKey=function(e,i){this.parent.allowMultiSelection?t.isNullOrUndefined(e)||("ctrlEnd"===i.action?this.addFocus(e):this.doSelection(e,i)):this.navigateItem(e)},e.prototype.csHomeKey=function(e,i){this.parent.allowMultiSelection?t.isNullOrUndefined(e)||("ctrlHome"===i.action?this.addFocus(e):this.doSelection(e,i)):this.navigateItem(e)},e.prototype.csDownKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!0,this.perRow);t.isNullOrUndefined(n)||("ctrlDown"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateDown(e,!0)},e.prototype.csLeftKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!1);t.isNullOrUndefined(n)||("ctrlLeft"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateRight(e,!1)},e.prototype.csRightKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!0);t.isNullOrUndefined(n)||("ctrlRight"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateRight(e,!0)},e.prototype.csUpKey=function(e,i){if(this.parent.allowMultiSelection){var n=this.getNextItem(e,!1,this.perRow);t.isNullOrUndefined(n)||("ctrlUp"===i.action?this.addFocus(n):this.doSelection(n,i))}else this.navigateDown(e,!1)},e.prototype.addActive=function(e){t.isNullOrUndefined(e)||(e.classList.contains(Qe)||(this.parent.selectedItems.push(e.textContent),t.addClass([e],[Qe]),this.checkState(e,!0)),this.parent.visitedItem=e)},e.prototype.removeActive=function(e){if(!t.isNullOrUndefined(e)){t.removeClass([e],[Qe]),this.checkState(e,!1);var i=this.parent.selectedItems.indexOf(e.textContent);i>-1&&this.parent.selectedItems.splice(i,1),this.parent.visitedItem=null}},e.prototype.addFocus=function(e){var i=this.getFocusedItem();i&&t.removeClass([i],[et]),t.addClass([e],[et])},e.prototype.checkState=function(e,i){if(this.parent.allowMultiSelection){var n=t.select(".e-frame",e);i?n.classList.contains(tt)||(t.addClass([n],tt),n.closest("."+it).setAttribute("aria-checked","true")):n.classList.contains(tt)&&(t.removeClass([n],tt),n.closest("."+it).setAttribute("aria-checked","false"))}},e.prototype.clearSelect=function(){for(var e=Array.prototype.slice.call(t.selectAll("."+Qe,this.listElements)),i=0,n=e.length;i<n;i++)this.removeActive(e[i])},e.prototype.resizeHandler=function(){this.getItemCount()},e.prototype.getItemCount=function(){var e=1;if(this.itemList)for(var t=0,i=this.itemList.length-1;t<i&&this.itemList[t].getBoundingClientRect().top===this.itemList[t+1].getBoundingClientRect().top;t++)e++;this.perRow=e},e.prototype.triggerSelect=function(e,t){var i={action:e,fileDetails:this.getItemObject(t)};this.parent.trigger("fileSelect",i)},e.prototype.selectItems=function(e,t){for(var i=this.getIndexes(e,t),n=0,s=i.length;n<s;n++){this.doSelection(this.itemList[i[n]],{ctrlKey:!0,shiftKey:!1})}},e.prototype.getIndexes=function(e,i){for(var n=[],s=0,a=this.items.length;s<a;s++)-1!==i.indexOf(t.getValue("name",this.items[s]))&&n.push(s);return n},e.prototype.getItemObject=function(e){var t=this.itemList.indexOf(e);return this.items[t]},e}(),Ci=function(){function e(e){this.addressPath="",this.addressBarLink="",this.parent=e,this.treeView=this.parent.navigationpaneModule,this.keyConfigs={enter:"enter"},this.render()}return e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++){switch(n[i]){case"searchSettings":t.isNullOrUndefined(e.newProp.searchSettings.allowSearchOnTyping)||this.searchEventBind(e.newProp.searchSettings.allowSearchOnTyping)}}},e.prototype.render=function(){this.addEventListener()},e.prototype.onPathChanged=function(){var e=t.getValue("name",t.getValue("/",this.parent.feParent));this.addressBarLink?this.addressPath=this.addressBarLink:this.addressPath=e+this.parent.path;var i=this.addressPath,n=i.substring(i.indexOf("/"),i.length);this.parent.setProperties({path:n},!0);var s=[];s=i.split("/");var a=null;(a=this.parent.createElement("ul")).setAttribute("class","e-addressbar-ul");var r=null,o=s.length-1;if(s.length>1){for(var l="",h=0;h<o;h++){var d=null;r=this.parent.createElement("li");for(var c=0;c<=h;c++)l=l+s[c]+"/";if(r.setAttribute("data-utext",l),r.classList.add("e-address-list-item"),r.setAttribute("tabindex","0"),0!==h){var p=t.createElement("span",{className:Tt});r.appendChild(p)}l="",(d=o-h!=1?t.createElement("a",{className:Ge}):t.createElement("span",{className:Ge})).innerText=s[h],r.appendChild(d),a.appendChild(r)}var u=this.parent.breadCrumbBarNavigation.querySelector(".e-addressbar-ul");t.isNullOrUndefined(u)||(t.isNullOrUndefined(this.subMenuObj)||this.subMenuObj.destroy(),u.remove());var f=this.parent.breadCrumbBarNavigation.querySelector(".e-search-wrap");f?this.parent.breadCrumbBarNavigation.appendChild(a):this.parent.breadCrumbBarNavigation.insertBefore(a,f),this.updateBreadCrumbBar(a)}this.addressBarLink="",""!==this.searchObj.value&&(this.searchObj.value="")},e.prototype.updateBreadCrumbBar=function(e){for(var i=e.querySelectorAll("li"),n=this.parent.breadCrumbBarNavigation.querySelector(".e-addressbar-ul"),s=window.getComputedStyle(n,null),r=parseFloat(s.getPropertyValue("padding-right")),o=parseFloat(s.getPropertyValue("padding-left")),h=n.offsetWidth-r-o,d=this.parent.createElement("ul",{className:"e-addressbar-ul"}),c=0,p=[],u=0;u<i.length;u++){var f=i[u].clientWidth;p.push(f),c+=f}t.isNullOrUndefined(n)||n.remove();var m=this.parent.createElement("div");m.setAttribute("class","e-search-wrap");var g=t.createElement("input",{id:this.parent.element.id+"_search"});m.appendChild(g);var y=this.parent.breadCrumbBarNavigation.querySelector(".e-search-wrap .e-input");if(t.isNullOrUndefined(y)){this.parent.breadCrumbBarNavigation.appendChild(m);var b=t.createElement("span",{className:"e-icons e-fe-search"});t.EventHandler.add(b,"click",this.onShowInput,this),g.parentElement.insertBefore(b,g),this.searchObj=new a.TextBox({showClearButton:!0,placeholder:R(this.parent,"Search"),focus:this.onFocus.bind(this),blur:this.onBlur.bind(this)}),this.searchObj.appendTo("#"+this.parent.element.id+"_search"),this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);var v=this.searchObj.element.nextElementSibling;t.EventHandler.add(v,"mousedown",this.searchChangeHandler.bind(this),this),t.EventHandler.add(this.searchObj.element,"keyup",this.onKeyUp.bind(this),this)}var O=this.parent.breadCrumbBarNavigation.querySelector(".e-search-wrap");if(h-=O.offsetWidth,c>h){for(u=i.length;u--;){var w=h-p[u];if(!(w>40)){for(var I=[],C=0;C<=u;C++){var S=i[C];I.push({text:S.innerText,utext:S.getAttribute("data-utext")})}var N=this.parent.createElement("li",{className:"e-breadcrumb-menu"}),j=this.parent.createElement("button",{className:"e-breadcrumb-submenu"});N.appendChild(j),d.insertBefore(N,d.querySelector("li")),this.subMenuObj=new l.DropDownButton({items:I,cssClass:"e-caret-hide e-submenu",iconCss:Lt,iconPosition:"Top",beforeItemRender:this.addSubMenuAttributes.bind(this),select:this.subMenuSelectOperations.bind(this)}),this.subMenuObj.appendTo(j);break}d.insertBefore(i[u],d.querySelector("li")),h=w}this.parent.breadCrumbBarNavigation.insertBefore(d,O)}else this.parent.breadCrumbBarNavigation.insertBefore(e,O)},e.prototype.onFocus=function(){this.searchObj.element.closest(".e-search-wrap").classList.add("e-focus")},e.prototype.onKeyUp=function(){this.parent.notify(Oi,{args:this.parent})},e.prototype.onBlur=function(){this.searchObj.element.closest(".e-search-wrap").classList.remove("e-focus")},e.prototype.subMenuSelectOperations=function(e){var t={target:e.element};this.addressPathClickHandler(t)},e.prototype.addSubMenuAttributes=function(e){e.element.setAttribute("data-utext",t.getValue("utext",e.item));var i=this.parent.createElement("a",{className:"e-list-text"});e.element.appendChild(i)},e.prototype.searchEventBind=function(e){e?(this.searchObj.input=this.searchChangeHandler.bind(this),this.searchObj.change=null):(this.searchObj.change=this.searchChangeHandler.bind(this),this.searchObj.input=null)},e.prototype.searchChangeHandler=function(e){if(!t.isNullOrUndefined(e.value)){var i=void 0;0===e.value.length&&this.parent.notify(Oi,{args:this.parent}),i="startWith"===this.parent.searchSettings.filterType?"*"+e.value:"endsWith"===this.parent.searchSettings.filterType?e.value+"*":"*"+e.value+"*",this.searchObj.element.value.length>0?K(this.parent,ni,this.parent.path,i,!1,!1):k(this.parent,Zt,this.parent.path)}},e.prototype.addressPathClickHandler=function(e){var i=e.target;if("LI"===i.nodeName||"A"===i.nodeName){var n="LI"===i.nodeName?i.children[0]:i;if(!t.isNullOrUndefined(n)){var s=this.updatePath(n);this.liClick(s);var a=this.parent.pathId[this.parent.pathId.length-1];this.parent.notify(yi,{module:"treeview",selectedNode:a})}}},e.prototype.onShowInput=function(){this.parent.isMobile&&(this.parent.element.classList.contains(qe)?t.removeClass([this.parent.element],qe):(t.addClass([this.parent.element],qe),this.searchObj.element.focus()))},e.prototype.updatePath=function(e){var i=t.closest(e,"li").getAttribute("data-utext");this.addressBarLink=i;var n=this.addressBarLink.split("/"),s=this.parent.pathId;this.parent.pathId=[];for(var a=0,r=n.length-1;a<r;a++)this.parent.pathId.push(s[a]);return this.addressBarLink.substr(this.addressBarLink.indexOf("/"),this.addressBarLink.length)},e.prototype.onInitialEnd=function(){this.onPathChanged()},e.prototype.onRefreshEnd=function(){this.onPathChanged()},e.prototype.onCreateEnd=function(e){this.addressPath.substring(this.addressPath.indexOf("/"),this.addressPath.length)!==this.parent.path&&this.onPathChanged()},e.prototype.onDeleteEnd=function(){this.addressPath.substring(this.addressPath.indexOf("/"),this.addressPath.length)!==this.parent.path&&this.onPathChanged()},e.prototype.onRenameEnd=function(){this.onPathChanged()},e.prototype.liClick=function(e){k(this.parent,Zt,e)},e.prototype.addEventListener=function(){this.keyboardModule=new t.KeyboardEvents(this.parent.breadCrumbBarNavigation,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.parent.on(Wt,this.onPropertyChanged,this),t.EventHandler.add(this.parent.breadCrumbBarNavigation,"click",this.addressPathClickHandler,this),this.parent.on(ei,this.destroy,this),this.parent.on(Zt,this.onPathChanged,this),this.parent.on(Gt,this.onInitialEnd,this),this.parent.on(Xt,this.onRefreshEnd,this),this.parent.on(ai,this.onPathChanged,this),this.parent.on(Yt,this.onCreateEnd,this),this.parent.on(ui,this.onRenameEnd,this),this.parent.on(Jt,this.onDeleteEnd,this),this.parent.on(Qt,this.onPathChanged,this),this.parent.on($t,this.onPathChanged,this),this.parent.on(wi,this.onSearchTextChange,this)},e.prototype.keyActionHandler=function(e){switch(e.action){case"enter":e.preventDefault(),this.addressPathClickHandler(e)}},e.prototype.removeEventListener=function(){this.keyboardModule.destroy(),this.parent.off(Zt,this.onPathChanged),this.parent.off(Gt,this.onInitialEnd),this.parent.off(Xt,this.onRefreshEnd),this.parent.off(ai,this.onPathChanged),this.parent.off(Yt,this.onCreateEnd),this.parent.off(ui,this.onRenameEnd),this.parent.off(Jt,this.onDeleteEnd),this.parent.off(Qt,this.onPathChanged),this.parent.off($t,this.onPathChanged),this.parent.off(wi,this.onSearchTextChange)},e.prototype.getModuleName=function(){return"breadcrumbbar"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),t.isNullOrUndefined(this.subMenuObj)||this.subMenuObj.destroy(),t.isNullOrUndefined(this.searchObj)||this.searchObj.destroy())},e.prototype.onSearchTextChange=function(e){this.searchObj.element.placeholder=R(this.parent,"Search "+e.cwd.name)},e}(),Si=function(){function e(e){this.parent=e,this.render()}return e.prototype.render=function(){this.contextMenu=new h.ContextMenu({enableRtl:this.parent.enableRtl,locale:this.parent.locale,target:"#"+this.parent.element.id,beforeItemRender:this.onBeforeItemRender.bind(this),select:this.onSelect.bind(this),beforeOpen:this.onBeforeOpen.bind(this),cssClass:P(this.parent,Fe)}),this.contextMenu.appendTo("#"+this.parent.element.id+Te),this.addEventListener()},e.prototype.onBeforeItemRender=function(e){if(e.item.id===this.getMenuId("largeiconsview")){var i=t.createElement("span");e.element.insertBefore(i,e.element.childNodes[1]),i.setAttribute("class",Mt+" "+mt)}if(e.item.id===this.getMenuId("detailsview")){i=t.createElement("span");e.element.insertBefore(i,e.element.childNodes[1]),i.setAttribute("class",Pt+" "+mt)}},e.prototype.onBeforeOpen=function(e){var i,n,s=!1,a=!1,r=e.event.target;r.classList.contains("e-spinner-pane")&&(r=this.parent.navigationpaneModule.activeNode.getElementsByClassName(Ft)[0]),r.classList.contains(Ft)&&(this.parent.selectedItems.length=0),this.targetElement="Details"===this.parent.fileView?r.closest("tr"):r;var o=this.getTargetView(r);if(r.classList.contains(ft)||r.closest("th")||r.closest("#"+this.parent.element.id+Be))e.cancel=!0;else if("LargeIcons"!==this.parent.fileView&&this.targetElement&&this.targetElement.classList.contains("e-emptyrow"))this.setLayoutItem(r);else if(r.closest("."+st))this.setLayoutItem(r);else if(!r.classList.contains("e-menu-item")&&!r.classList.contains(mt)&&!r.classList.contains("e-caret")){if("LargeIcons"!==this.parent.fileView||t.isNullOrUndefined(r.closest("li"))||r.closest("#"+this.parent.element.id+xe))t.isNullOrUndefined(r.closest("tr"))?r.closest("#"+this.parent.element.id+xe)&&(a=!0):(i=this.targetElement.getAttribute("data-uid"),n=this.parent.detailsviewModule.gridObj.getRowObjectFromUID(i).data,t.isNullOrUndefined(this.targetElement.getAttribute("aria-selected"))&&this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute("aria-rowindex"),10)]),s=!0);else{n=E(this.parent,this.targetElement.closest("li")),r.closest("li").classList.contains("e-active")||this.parent.largeiconsviewModule.doSelection(r,{ctrlKey:!0,shiftKey:!0}),s=!0}s?"LargeIcons"===this.parent.fileView?!0===n.isFile?(this.setFileItem(r),r.closest("li")&&0===r.closest("li").getElementsByClassName("e-list-img").length&&this.contextMenu.enableItems([this.getMenuId("Open")],!1,!0)):this.setFolderItem(!1):!0===n.isFile?(this.setFileItem(r),r.closest("tr")&&0===r.closest("tr").getElementsByClassName(ot).length&&this.contextMenu.enableItems([this.getMenuId("Open")],!1,!0)):this.setFolderItem(!1):a?this.setFolderItem(!0):"TreeView"===o||"GridView"===o||"LargeIcon"===o?this.setLayoutItem(r):e.cancel=!0}if(!e.cancel){this.contextMenu.dataBind();var l={fileDetails:O(this.parent),element:e.element,target:r,items:this.contextMenu.items,menuModule:this.contextMenu,cancel:!1};this.parent.trigger("menuOpen",l),e.cancel=l.cancel,e.cancel}},e.prototype.getTargetView=function(e){return e.classList.contains(ft)?"TreeView":e.classList.contains(gt)?"GridView":e.classList.contains(yt)?"LargeIcon":e.classList.contains(Ke)?"LargeIcon":""},e.prototype.setFolderItem=function(e){this.contextMenu.items=this.getItemData(this.parent.contextMenuSettings.folder),this.contextMenu.dataBind(),e?(this.contextMenu.enableItems([this.getMenuId("Open")],!1,!0),this.contextMenu.enableItems([this.getMenuId("Download")],!1,!0)):1!==this.parent.selectedItems.length&&this.contextMenu.enableItems([this.getMenuId("Rename")],!1,!0)},e.prototype.setFileItem=function(e){this.contextMenu.items=this.getItemData(this.parent.contextMenuSettings.file),this.contextMenu.dataBind(),1!==this.parent.selectedItems.length&&this.contextMenu.enableItems([this.getMenuId("Rename")],!1,!0)},e.prototype.setLayoutItem=function(e){this.contextMenu.items=this.getItemData(this.parent.contextMenuSettings.layout),this.contextMenu.dataBind(),("LargeIcons"===this.parent.fileView&&0!==e.closest("#"+this.parent.element.id+Re).getElementsByClassName(st).length||"Details"===this.parent.fileView&&0!==e.closest("#"+this.parent.element.id+De).getElementsByClassName(st).length)&&(this.contextMenu.enableItems([this.getMenuId("SelectAll")],!1,!0),this.contextMenu.dataBind())},e.prototype.onSelect=function(e){if(!t.isNullOrUndefined(e.item)&&e.item.id){var i,n=e.item.id.substr((this.parent.element.id+"_cm_").length);"refresh"===n||"newfolder"===n?(i=w(this.parent),this.parent.itemData=[i]):i=O(this.parent);var s={cancel:!1,element:e.element,fileDetails:i,item:e.item};if(this.parent.trigger("menuClick",s),!s.cancel){if(this.parent.selectedItems.length>0&&("paste"===n||"upload"===n)){var a=void 0,r=void 0;if("Details"===this.parent.fileView){var o=this.targetElement.getAttribute("data-uid");r=this.parent.detailsviewModule.gridObj.getRowObjectFromUID(o).data}else{var l=this.targetElement.parentElement;r=E(this.parent,l)}r.isFile?a="":(a=r.name+"/",this.parent.navigationpaneModule.treeObj.selectedNodes=[r.id]);var h=this.parent.path+a;this.parent.setProperties({path:h},!0)}var d=this.parent.selectedItems;switch(n){case"cut":C(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames);break;case"copy":I(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames),"navigationpane"===this.parent.activeModule&&(this.parent.navigationpaneModule.copyNodes=this.parent.nodeNames);break;case"paste":this.parent.pasteHandler(),y(this.parent);break;case"delete":Y(this.parent,"Delete");break;case"download":if("detailsview"===this.parent.activeModule)d=this.parent.detailsviewModule.gridObj.getSelectedRecords();else if("largeiconsview"===this.parent.activeModule){l=this.parent.activeElements;for(var c=0;c<l.length;c++)d[c]=E(this.parent,l[c])}d.length>0&&G(this.parent,d);break;case"rename":this.parent.notify(pi,{}),Y(this.parent,"Rename");break;case"selectall":this.parent.notify(oi,{});break;case"refresh":b(this.parent);break;case"open":this.parent.visitedItem&&this.parent.notify(si,{target:this.parent.visitedItem});break;case"details":this.parent.getDetails();break;case"newfolder":Y(this.parent,"NewFolder");break;case"upload":document.getElementById(this.parent.element.id+"_upload").click();break;case"name":case"size":case"date":case"ascending":case"descending":M(this.parent,e);break;case"largeiconsview":this.changeLayout("LargeIcons");break;case"detailsview":this.changeLayout("Details")}}}},e.prototype.changeLayout=function(e){this.parent.view!==e&&(this.parent.setProperties({view:e},!0),k(this.parent,hi,this.parent.path))},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var t=0,i=Object.keys(e.newProp);t<i.length;t++){switch(i[t]){case"cssClass":this.contextMenu.cssClass=P(this.parent,Fe);break;case"enableRtl":this.contextMenu.enableRtl=e.newProp.enableRtl}}},e.prototype.addEventListener=function(){this.parent.on(ei,this.destroy,this),this.parent.on(Wt,this.onPropertyChanged,this)},e.prototype.removeEventListener=function(){this.parent.off(ei,this.destroy),this.parent.off(Wt,this.onPropertyChanged)},e.prototype.getModuleName=function(){return"contextmenu"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.contextMenu.destroy(),document.getElementById(this.parent.element.id+Te)&&document.getElementById(this.parent.element.id+Te).remove())},e.prototype.getItemData=function(e){for(var t=[],i=0;i<e.length;i++){var n=void 0,s=this.getMenuId(e[i]),a=R(this.parent,e[i]);switch(e[i]){case"|":n={separator:!0};break;case"Open":n={id:s,text:a,iconCss:bt};break;case"Upload":n={id:s,text:a,iconCss:vt};break;case"Cut":n={id:s,text:a,iconCss:Ot};break;case"Copy":n={id:s,text:a,iconCss:wt};break;case"Paste":n={id:s,text:a,iconCss:It};break;case"Delete":n={id:s,text:a,iconCss:Ct};break;case"Rename":n={id:s,text:a,iconCss:St};break;case"NewFolder":n={id:s,text:a,iconCss:Nt};break;case"Details":n={id:s,text:a,iconCss:jt};break;case"SortBy":n={id:s,text:a,iconCss:Et,items:[{id:this.getMenuId("Name"),text:R(this.parent,"Name"),iconCss:"name"===this.parent.sortBy?Xe:""},{id:this.getMenuId("Size"),text:R(this.parent,"Size"),iconCss:"size"===this.parent.sortBy?Xe:""},{id:this.getMenuId("Date"),text:R(this.parent,"DateModified"),iconCss:"dateModified"===this.parent.sortBy?Xe:""},{separator:!0},{id:this.getMenuId("Ascending"),text:R(this.parent,"Ascending"),iconCss:"Ascending"===this.parent.sortOrder?Je:""},{id:this.getMenuId("Descending"),text:R(this.parent,"Descending"),iconCss:"Descending"===this.parent.sortOrder?Je:""}]};break;case"View":n={id:s,text:a,iconCss:"Details"===this.parent.view?Pt:Mt,items:[{id:this.getMenuId("largeiconsview"),text:R(this.parent,"View-LargeIcons"),iconCss:"Details"===this.parent.view?"":Je},{id:this.getMenuId("detailsview"),text:R(this.parent,"View-Details"),iconCss:"Details"===this.parent.view?Je:""}]};break;case"Refresh":n={id:s,text:a,iconCss:xt};break;case"SelectAll":n={id:s,text:a,iconCss:Dt};break;case"Download":n={id:s,text:a,iconCss:Rt};break;default:n={id:s,text:a}}t.push(n)}return t},e.prototype.getMenuId=function(e){return this.parent.element.id+"_cm_"+e.toLowerCase()},e}(),Ni={NewFolder:"New folder",Upload:"Upload",Delete:"Delete",Rename:"Rename",Download:"Download",Cut:"Cut",Copy:"Copy",Paste:"Paste",SortBy:"Sort by",Refresh:"Refresh",Selection:"items selected",View:"View",Details:"Details",SelectAll:"Select all",Open:"Open","Tooltip-NewFolder":"New folder","Tooltip-Upload":"Upload","Tooltip-Delete":"Delete","Tooltip-Rename":"Rename","Tooltip-Download":"Download","Tooltip-Cut":"Cut","Tooltip-Copy":"Copy","Tooltip-Paste":"Paste","Tooltip-SortBy":"Sort by","Tooltip-Refresh":"Refresh","Tooltip-Selection":"Clear selection","Tooltip-View":"View","Tooltip-Details":"Details","Tooltip-SelectAll":"Select all",Name:"Name",Size:"Size",DateModified:"Modified",DateCreated:"Date created",Modified:"Modified",Created:"Created",Location:"Location",Type:"Type",Ascending:"Ascending",Descending:"Descending","View-LargeIcons":"Large icons","View-Details":"Details",Search:"Search","Button-Ok":"OK","Button-Cancel":"Cancel","Button-Yes":"Yes","Button-No":"No","Button-Create":"Create","Button-Save":"Save","Header-NewFolder":"Folder","Content-NewFolder":"Enter your folder name","Header-Rename":"Rename","Content-Rename":"Enter your new name","Header-Rename-Confirmation":"Rename Confirmation","Content-Rename-Confirmation":"If you change a file name extension, the file might become unstable. Are you sure you want to change it?","Header-Delete":"Delete File","Content-Delete":"Are you sure you want to delete this file?","Header-Multiple-Delete":"Delete Multiple Files","Content-Multiple-Delete":"Are you sure you want to delete these {0} files?","Header-Duplicate":"File exists","Content-Duplicate":" already exists. Are you sure you want to replace it?","Header-Upload":"Upload Files",Error:"Error","Validation-Empty":"The file or folder name cannot be empty.","Validation-Invalid":'The file or folder name {0} contains invalid characters. Please use a different name. Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\/:*?"<>|',"Validation-NewFolder-Exists":"A file or folder with the name {0} already exists.","Validation-Rename-Exists":"Cannot rename {0} to {1}: destination already exists.","Folder-Empty":"This folder is empty","File-Upload":"Drag files here to upload","Search-Empty":"No results found","Search-Key":"Try with different keywords"},ji=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ei=function(e,t,i,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},xi=function(e){function s(t,i){var n=e.call(this,t,i)||this;return n.selectedNodes=[],n.duplicateItems=[],n.previousPath=[],n.nextPath=[],n.uploadItem=[],n.deleteRecords=[],n.isFile=!1,n.sortOrder="Ascending",n.sortBy="name",n.enablePaste=!1,n.persistData=!1,n.isOpened=!1,n.searchedItems=[],r.Inject(Ci,Ii,Si),n}ji(s,e),r=s,s.prototype.getModuleName=function(){return"filemanager"},s.prototype.preRender=function(){this.pathId=["fe_tree"],this.itemData=[],this.feParent=[],this.feFiles=[],t.setStyleAttribute(this.element,{width:t.formatUnit(this.width),height:t.formatUnit(this.height)}),this.isDevice=t.Browser.isDevice,this.isMobile=this.checkMobile(),this.isMobile&&this.setProperties({navigationPaneSettings:{visible:!1}},!0);var e=this.element.closest(".e-bigger");this.isBigger=!!e,n.createSpinner({target:this.element},t.createElement),this.addWrapper(),this.keyConfigs={altN:"alt+n",f5:"f5",ctrlShift1:"ctrl+shift+1",ctrlShift2:"ctrl+shift+2"},this.localeObj=new t.L10n(this.getModuleName(),Ni,this.locale)},s.prototype.getPersistData=function(){return this.addOnPersist(["view"])},s.prototype.requiredModules=function(){var e=[];return e.push({member:"breadcrumbbar",args:[this]}),e.push({member:"largeiconsview",args:[this]}),this.toolbarSettings.visible&&e.push({member:"toolbar",args:[this]}),this.navigationPaneSettings.visible&&e.push({member:"navigationpane",args:[this]}),this.view&&e.push({member:"detailsview",args:[this]}),this.contextMenuSettings.visible&&!this.isDevice&&e.push({member:"contextmenu",args:[this]}),e},s.prototype.render=function(){if(this.initialize(),this.selectedItems=t.isNullOrUndefined(this.selectedItems)?[]:this.selectedItems,this.fileView=this.view,this.setRtl(this.enableRtl),this.addEventListeners(),k(this,Gt,"/"),this.adjustHeight(),t.isNullOrUndefined(this.navigationpaneModule)){this.splitterObj.collapse(0);t.select("."+Ht,this.element).classList.add(_t)}this.wireEvents()},s.prototype.initialize=function(){this.isMobile&&t.addClass([this.element],Ue),this.allowMultiSelection&&t.addClass([this.element],Ve),this.addCssClass(null,this.cssClass),this.renderFileUpload()},s.prototype.addWrapper=function(){var e=this.createElement("div",{id:this.element.id+Ee});this.element.appendChild(e);var t=this.createElement("div",{id:this.element.id+"_layout",className:"e-layout"});this.element.appendChild(t);var n=this.createElement("div",{id:this.element.id+xe});t.appendChild(n);var s=this.createElement("div",{id:this.element.id+Ae,className:ze});this.breadCrumbBarNavigation=this.createElement("div",{id:this.element.id+Be,className:"e-address"}),s.appendChild(this.breadCrumbBarNavigation);var a=this.createElement("div",{id:this.element.id+De});s.appendChild(a);var r=this.createElement("div",{id:this.element.id+Re,className:Ke});s.appendChild(r);var o=this.createElement("span",{className:"e-fe-overlay"});s.appendChild(o),t.appendChild(s),this.splitterObj=new i.Splitter({paneSettings:[{size:"25%",min:this.navigationPaneSettings.minWidth.toString(),max:this.navigationPaneSettings.maxWidth.toString()},{size:"75%",min:"270px"}],width:"100%",resizing:this.splitterResize.bind(this)}),this.splitterObj.appendTo(t);var l=this.createElement("div",{id:this.element.id+Pe});this.element.appendChild(l);var h=this.createElement("ul",{id:this.element.id+Te});this.element.appendChild(h);var d=this.createElement("div",{id:this.element.id+Me});this.element.appendChild(d);var c=this.createElement("div",{id:this.element.id+Le});this.element.appendChild(c);var p=this.createElement("div",{id:this.element.id+ke});this.element.appendChild(p)},s.prototype.adjustHeight=function(){var e=t.select("#"+this.element.id+Ee,this.element),i=this.toolbarModule?e.offsetHeight:0;this.splitterObj.height=(this.element.clientHeight-i).toString()},s.prototype.splitterResize=function(){this.notify(Qt,{})},s.prototype.splitterAdjust=function(){var e=t.select("."+Ht,this.element);this.navigationPaneSettings.visible?(this.splitterObj.expand(0),e.classList.remove(_t)):(this.splitterObj.collapse(0),e.classList.add(_t))},s.prototype.addCssClass=function(e,i){t.isNullOrUndefined(e)||""===e||t.removeClass([this.element],e.split(" ")),t.isNullOrUndefined(i)||""===i||t.addClass([this.element],i.split(" "))},s.prototype.showSpinner=function(){n.showSpinner(this.element)},s.prototype.hideSpinner=function(){n.hideSpinner(this.element)},s.prototype.onContextMenu=function(e){e.preventDefault()},s.prototype.checkMobile=function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(t.Browser.userAgent.toLowerCase())&&/mobile/i.test(t.Browser.userAgent.toLowerCase())},s.prototype.renderFileUpload=function(){var e=this.element.id+_e,i=this.createElement("input",{id:e,attrs:{name:"uploadFiles",type:"file"}});this.element.appendChild(i),this.uploadDialogObj=new n.Dialog({header:R(this,"Header-Upload"),content:i,animationSettings:{effect:"None"},showCloseIcon:!0,closeOnEscape:!0,visible:!1,isModal:!0,width:"350px",target:"#"+this.element.id,locale:this.locale,allowDragging:!0,position:{X:"center",Y:"center"},enableRtl:this.enableRtl,open:this.onOpen.bind(this),close:this.onClose.bind(this)}),this.uploadDialogObj.appendTo("#"+this.element.id+ke);var s=this.ajaxSettings.uploadUrl?this.ajaxSettings.uploadUrl:this.ajaxSettings.url,r={dropArea:t.select("#"+this.element.id+Ae,this.element),asyncSettings:{saveUrl:s,removeUrl:s},locale:this.locale,enableRtl:this.enableRtl,uploading:this.onUploading.bind(this),removing:this.onRemoving.bind(this),clearing:this.onClearing.bind(this),selected:this.onSelected.bind(this),success:this.onUploadSuccess.bind(this),failure:this.onUploadFailure.bind(this)},o={};t.extend(o,this.uploadSettings,r),this.uploadObj=new a.Uploader(o),this.uploadObj.appendTo("#"+this.element.id+_e)},s.prototype.onOpen=function(){this.isOpened=!0,this.uploadDialogObj.element.focus()},s.prototype.onClose=function(){this.isOpened=!1,this.uploadObj.clearAll()},s.prototype.onUploading=function(e){e.customFormData=[{path:this.path},{action:"Save"}]},s.prototype.onRemoving=function(e){e.customFormData=[{path:this.path},{action:"Remove"}],1===this.uploadObj.getFilesData().length&&this.uploadDialogObj.hide()},s.prototype.onClearing=function(){this.isOpened&&this.uploadDialogObj.hide()},s.prototype.onSelected=function(){this.uploadDialogObj.show()},s.prototype.onUploadSuccess=function(e){this.trigger("onSuccess",{action:"Upload",result:e}),k(this,Zt,this.path)},s.prototype.onUploadFailure=function(e){this.trigger("onError",{action:"Upload",error:e})},s.prototype.addEventListeners=function(){this.on(ti,this.showSpinner,this),this.on(ii,this.hideSpinner,this),t.EventHandler.add(this.element,"contextmenu",this.onContextMenu,this)},s.prototype.removeEventListeners=function(){this.isDestroyed||(this.off(ti,this.showSpinner),this.off(ii,this.hideSpinner),t.EventHandler.remove(this.element,"contextmenu",this.onContextMenu))},s.prototype.resizeHandler=function(){this.notify($t,{})},s.prototype.keyActionHandler=function(e){switch(e.action){case"altN":e.preventDefault(),this.itemData=[w(this)],Y(this,"NewFolder");break;case"f5":e.preventDefault(),b(this);break;case"ctrlShift1":e.preventDefault(),this.fileView="Details",this.setProperties({view:"Details"},!0),k(this,hi,"/");break;case"ctrlShift2":e.preventDefault(),this.fileView="LargeIcons",this.setProperties({view:"LargeIcons"},!0),k(this,hi,"/")}},s.prototype.wireEvents=function(){window.addEventListener("resize",this.resizeHandler.bind(this)),this.keyboardModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},s.prototype.unWireEvents=function(){this.keyboardModule.destroy()},s.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){switch(s[n]){case"cssClass":this.addCssClass(i.cssClass,e.cssClass),this.notify(Wt,{module:"common",newProp:e,oldProp:i});break;case"height":var a=t.isNullOrUndefined(e.height)?e.height:t.formatUnit(e.height);t.setStyleAttribute(this.element,{height:a}),this.notify(Wt,{module:"toolbar",newProp:e,oldProp:i});var r=document.getElementById("file_grid").querySelector(".e-gridheader");this.detailsviewModule.gridObj.height=this.setHeight()-r.offsetHeight,this.navigationpaneModule.treeObj.element.style.height=this.setHeight()+"px";break;case"width":var o=t.isNullOrUndefined(e.width)?e.width:t.formatUnit(e.width);t.setStyleAttribute(this.element,{width:o}),this.notify(Wt,{module:"toolbar",newProp:e,oldProp:i});break;case"ajaxSettings":t.isNullOrUndefined(e.ajaxSettings.url)||this.setProperties({ajaxSettings:{url:e.ajaxSettings.url}},!0),t.isNullOrUndefined(e.ajaxSettings.uploadUrl)||this.setProperties({ajaxSettings:{uploadUrl:e.ajaxSettings.uploadUrl}},!0),t.isNullOrUndefined(e.ajaxSettings.downloadUrl)||this.setProperties({ajaxSettings:{downloadUrl:e.ajaxSettings.downloadUrl}},!0),t.isNullOrUndefined(e.ajaxSettings.getImageUrl)||this.setProperties({ajaxSettings:{getImageUrl:e.ajaxSettings.getImageUrl}},!0),b(this);break;case"toolbarSettings":this.adjustHeight(),this.notify(Wt,{module:"toolbar",newProp:e,oldProp:i});break;case"searchSettings":t.isNullOrUndefined(e.searchSettings.allowSearchOnTyping)||this.setProperties({searchSettings:{allowSearchOnTyping:e.searchSettings.allowSearchOnTyping}},!0),t.isNullOrUndefined(e.searchSettings.ignoreCase)&&this.setProperties({searchSettings:{ignoreCase:e.searchSettings.ignoreCase}},!0),t.isNullOrUndefined(e.searchSettings.filterType)&&this.setProperties({searchSettings:{filterType:e.searchSettings.filterType}},!0),this.notify(Wt,{module:"breadcrumbbar",newProp:e,oldProp:i});break;case"selectedItems":"Details"===this.fileView?this.notify(Wt,{module:"detailsview",newProp:e,oldProp:i}):"LargeIcons"===this.fileView&&this.notify(Wt,{module:"largeiconsview",newProp:e,oldProp:i});break;case"showThumbnail":this.notify(Wt,{module:"largeiconsview",newProp:e,oldProp:i});break;case"enableRtl":this.setRtl(e.enableRtl),this.notify(Wt,{module:"common",newProp:e,oldProp:i});break;case"showFileExtension":case"showHiddenItems":this.notify(Wt,{module:"common",newProp:e,oldProp:i});break;case"navigationPaneSettings":this.splitterAdjust(),this.notify(Wt,{module:"navigationpane",newProp:e,oldProp:i});break;case"view":"Details"===e.view?this.notify(Wt,{module:"detailsview",newProp:e,oldProp:i}):"LargeIcons"===e.view&&this.notify(Wt,{module:"largeiconsview",newProp:e,oldProp:i});break;case"allowMultiSelection":this.allowMultiSelection?t.addClass([this.element],Ve):t.removeClass([this.element],Ve),1===this.selectedItems.length?this.singleSelection=this.selectedItems[0]:this.singleSelection=null,this.notify(Wt,{module:"common",newProp:e,oldProp:i})}}},s.prototype.destroy=function(){this.isDestroyed||(this.notify(ei,{}),this.uploadObj.destroy(),this.uploadDialogObj.destroy(),this.splitterObj.destroy(),this.dialogObj&&this.dialogObj.destroy(),this.viewerObj&&this.viewerObj.destroy(),this.extDialogObj&&this.extDialogObj.destroy(),this.element.removeAttribute("style"),this.element.removeAttribute("tabindex"),this.removeEventListeners(),this.unWireEvents(),this.addCssClass(this.cssClass,null),t.removeClass([this.element],["e-rtl",Ue,Ve]),this.element.innerHTML="",e.prototype.destroy.call(this))},s.prototype.disableToolbarItems=function(e){t.isNullOrUndefined(e)||this.toolbarModule.enableItems(e,!1)},s.prototype.enableToolbarItems=function(e){t.isNullOrUndefined(e)||this.toolbarModule.enableItems(e,!0)},s.prototype.refreshContent=function(){b(this)},s.prototype.fileOperation=function(e,t){for(var i=0,n=e;i<e.length;)"Remove"!==t?this.selectedNodes.push(n[i].name):this.selectedNodes=this.selectedNodes,"Remove"===t?this.deleteRecords.push(n[i].name):this.deleteRecords=this.deleteRecords,i++},s.prototype.setHeight=function(){var e=this.toolbarModule?this.toolbarModule.toolbarObj.element.offsetHeight:0;return this.element.clientHeight-e},s.prototype.getDetails=function(){y(this),this.targetPath=this.path,this.activeElements&&0===this.activeElements.length&&(this.activeElements=this.element.querySelectorAll("."+Qe));var e=m("FileInfo",null,this);e=0!==e.length?e:m("FileInfo",!1,this),this.selectedNodes=[],this.fileOperation(e),0!==this.selectedNodes.length&&""!==this.targetPath||(this.selectedNodes[0]=""),function(e,t,i,n){B(e,{action:n,targetPath:i,itemNames:t},q,i,null,n)}(this,this.selectedNodes,this.targetPath,"GetDetails")},s.prototype.pasteHandler=function(){0!==this.selectedNodes.length&&("MoveTo"===this.fileAction&&this.targetPath!==this.path||"CopyTo"===this.fileAction?A(this,this.targetPath,this.selectedNodes,this.path,this.fileAction,this.navigationpaneModule,[]):y(this))},s.prototype.deleteHandler=function(e){this.deleteRecords=[],this.fileOperation(e,"Remove"),function(e,t,i,n,s){B(e,{action:n,targetPath:i,itemNames:t},H,i,s)}(this,this.deleteRecords,this.targetPath,"Remove",this.navigationpaneModule),this.deleteRecords=[]},s.prototype.setRtl=function(e){e?this.addCssClass(null,"e-rtl"):this.addCssClass("e-rtl",null),this.uploadObj&&(this.uploadDialogObj.enableRtl=e,this.uploadObj.enableRtl=e)};var r;return Ei([t.Complex({},re)],s.prototype,"ajaxSettings",void 0),Ei([t.Property(!0)],s.prototype,"allowMultiSelection",void 0),Ei([t.Complex({},Ce)],s.prototype,"contextMenuSettings",void 0),Ei([t.Property("")],s.prototype,"cssClass",void 0),Ei([t.Complex({},ye)],s.prototype,"detailsViewSettings",void 0),Ei([t.Property(!1)],s.prototype,"enablePersistence",void 0),Ei([t.Property(!1)],s.prototype,"enableRtl",void 0),Ei([t.Property("400px")],s.prototype,"height",void 0),Ei([t.Property("LargeIcons")],s.prototype,"view",void 0),Ei([t.Complex({},je)],s.prototype,"navigationPaneSettings",void 0),Ei([t.Property("/")],s.prototype,"path",void 0),Ei([t.Complex({},ue)],s.prototype,"searchSettings",void 0),Ei([t.Property()],s.prototype,"selectedItems",void 0),Ei([t.Property(!0)],s.prototype,"showFileExtension",void 0),Ei([t.Property(!1)],s.prototype,"showHiddenItems",void 0),Ei([t.Property(!0)],s.prototype,"showThumbnail",void 0),Ei([t.Complex({},de)],s.prototype,"toolbarSettings",void 0),Ei([t.Property()],s.prototype,"uploadSettings",void 0),Ei([t.Property("100%")],s.prototype,"width",void 0),Ei([t.Event()],s.prototype,"beforeFileLoad",void 0),Ei([t.Event()],s.prototype,"beforeFileOpen",void 0),Ei([t.Event()],s.prototype,"beforeSend",void 0),Ei([t.Event()],s.prototype,"created",void 0),Ei([t.Event()],s.prototype,"destroyed",void 0),Ei([t.Event()],s.prototype,"fileSelect",void 0),Ei([t.Event()],s.prototype,"menuClick",void 0),Ei([t.Event()],s.prototype,"menuOpen",void 0),Ei([t.Event()],s.prototype,"onError",void 0),Ei([t.Event()],s.prototype,"onSuccess",void 0),Ei([t.Event()],s.prototype,"toolbarClick",void 0),s=r=Ei([t.NotifyPropertyChanges],s)}(t.Component),Di=function(){function e(e){this.default=["Delete","Rename","Download","Cut","Copy","Paste"],this.single=["Delete","Rename","Download","Cut","Copy"],this.multiple=["Delete","Download","Cut","Copy","Refresh"],this.selection=["NewFolder","Upload","SortBy","Refresh"],this.parent=e,this.render(),this.addEventListener()}return e.prototype.render=function(){this.items=this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items)),this.toolbarObj=new h.Toolbar({items:this.items,created:this.toolbarCreateHandler.bind(this),overflowMode:"Popup",clicked:this.onClicked.bind(this),enableRtl:this.parent.enableRtl}),this.toolbarObj.appendTo("#"+this.parent.element.id+Ee)},e.prototype.getItems=function(e){var t=e.slice();return this.parent.isDevice&&this.parent.allowMultiSelection&&t.push("SelectAll"),t},e.prototype.onClicked=function(e){if(!t.isNullOrUndefined(e.item)&&e.item.id){var i,n=e.item.id.substr((this.parent.element.id+"_tb_").length);"refresh"===n||"newfolder"===n?(i=w(this.parent),this.parent.itemData=[i]):i=O(this.parent);var s={cancel:!1,fileDetails:i,item:e.item};if(this.parent.trigger("toolbarClick",s),!s.cancel)switch(n){case"newfolder":Y(this.parent,"NewFolder");break;case"cut":C(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames);break;case"copy":I(this.parent),this.parent.nodeNames&&this.parent.fileOperation(this.parent.nodeNames),"navigationPane"===this.parent.activeModule&&(this.parent.navigationpaneModule.copyNodes=this.parent.nodeNames);break;case"delete":Y(this.parent,"Delete");break;case"details":this.parent.getDetails();break;case"paste":this.parent.pasteHandler();break;case"refresh":b(this.parent);break;case"download":if(!(this.parent.selectedItems.length>0))return;if("LargeIcons"===this.parent.fileView){for(var a=[],r=t.selectAll(".e-active",this.parent.largeiconsviewModule.listElements),o=0;o<r.length;o++)a[o]=E(this.parent,r[o]);G(this.parent,a)}else G(this.parent,this.parent.detailsviewModule.gridObj.getSelectedRecords());break;case"rename":this.parent.notify(pi,{}),Y(this.parent,"Rename");break;case"upload":t.select("#"+this.parent.element.id+_e,this.parent.element).click();break;case"selectall":this.parent.notify(oi,{});break;case"selection":this.parent.notify(li,{})}}},e.prototype.toolbarCreateHandler=function(){if(!t.isNullOrUndefined(t.select("#"+this.getId("SortBy"),this.parent.element))){var e=[{id:this.getPupupId("name"),text:R(this.parent,"Name"),iconCss:Xe},{id:this.getPupupId("size"),text:R(this.parent,"Size")},{id:this.getPupupId("date"),text:R(this.parent,"DateModified")},{separator:!0},{id:this.getPupupId("ascending"),text:R(this.parent,"Ascending"),iconCss:Je},{id:this.getPupupId("descending"),text:R(this.parent,"Descending")}];this.buttonObj=new l.DropDownButton({items:e,cssClass:P(this.parent,Fe),select:M.bind(this,this.parent),enableRtl:this.parent.enableRtl,iconCss:Et}),this.buttonObj.appendTo("#"+this.getId("SortBy"))}if(!t.isNullOrUndefined(t.select("#"+this.parent.element.id+"_view",this.parent.element))){var i=[{id:this.getPupupId("large"),text:'<span class="e-icons e-fe-large e-menu-icon"></span>'+R(this.parent,"View-LargeIcons"),iconCss:"Details"===this.parent.view?"":Je},{id:this.getPupupId("details"),text:'<span class="e-icons e-fe-grid e-menu-icon"></span>'+R(this.parent,"View-Details"),iconCss:"Details"===this.parent.view?Je:""}];this.layoutBtnObj=new l.DropDownButton({iconCss:"Details"===this.parent.view?Pt:Mt,cssClass:P(this.parent,"e-caret-hide "+Fe),items:i,select:this.layoutChange.bind(this),enableRtl:this.parent.enableRtl}),this.layoutBtnObj.appendTo("#"+this.parent.element.id+"_view")}this.hideItems(this.default,!0),this.hideStatus()},e.prototype.updateSortByButton=function(){for(var e=this.buttonObj.items,t=0;t<e.length;t++)e[t].id===this.getPupupId("name")?e[t].iconCss="name"===this.parent.sortBy?Xe:"":e[t].id===this.getPupupId("size")?e[t].iconCss="size"===this.parent.sortBy?Xe:"":e[t].id===this.getPupupId("date")?e[t].iconCss="dateModified"===this.parent.sortBy?Xe:"":e[t].id===this.getPupupId("ascending")?e[t].iconCss="Ascending"===this.parent.sortOrder?Je:"":e[t].id===this.getPupupId("descending")&&(e[t].iconCss="Descending"===this.parent.sortOrder?Je:"")},e.prototype.getPupupId=function(e){return this.parent.element.id+"_ddl_"+e.toLowerCase()},e.prototype.layoutChange=function(e){"Details"===this.parent.view?e.item.id===this.getPupupId("large")&&this.updateLayout("LargeIcons"):e.item.id===this.getPupupId("details")&&this.updateLayout("Details")},e.prototype.updateLayout=function(e){this.parent.fileView=e,this.parent.setProperties({view:e},!0);var t;this.parent.breadcrumbbarModule.searchObj.value&&""===this.parent.breadcrumbbarModule.searchObj.value&&this.parent.notify(Oi,{args:this.parent}),t="startWith"===this.parent.searchSettings.filterType?"*"+this.parent.breadcrumbbarModule.searchObj.value:"endsWith"===this.parent.searchSettings.filterType?this.parent.breadcrumbbarModule.searchObj.value+"*":"*"+this.parent.breadcrumbbarModule.searchObj.value+"*",0===this.parent.breadcrumbbarModule.searchObj.value.length?k(this.parent,hi,this.parent.path):K(this.parent,hi,this.parent.path,t,!1,!1)},e.prototype.toolbarItemData=function(e){var t=[],i="Both";this.parent.isMobile&&(i="Overflow");for(var n=0;n<e.length;n++){var s=void 0,a=this.getId(e[n]),r=R(this.parent,e[n]),o=R(this.parent,"Tooltip-"+e[n]);switch(e[n]){case"|":s={type:"Separator"};break;case"Upload":s={id:a,text:r,tooltipText:o,prefixIcon:vt,showTextOn:i};break;case"SortBy":s={id:a,tooltipText:o,template:'<button id="'+a+'" class="e-tbar-btn e-tbtn-txt">'+('<span class="e-tbar-btn-text e-tbar-ddb-text">'+r+"</span>")+"</button>"};break;case"Refresh":s={id:a,text:r,tooltipText:o,prefixIcon:xt,showTextOn:i};break;case"Selection":s={id:a,tooltipText:o,overflow:"Show",align:"Right",template:'<span class="e-status">2 '+r+'</span><span class="'+kt+'"></span>'};break;case"View":s={id:a,tooltipText:o,prefixIcon:"Details"===this.parent.view?Pt:Mt,overflow:"Show",align:"Right",template:'<button id="'+this.parent.element.id+'_view" class="e-tbar-btn e-tbtn-txt"></button>'};break;case"Details":s={id:a,tooltipText:o,prefixIcon:jt,overflow:"Show",align:"Right"};break;case"NewFolder":s={id:a,text:r,tooltipText:o,prefixIcon:Nt,showTextOn:i};break;case"Cut":s={id:a,text:r,tooltipText:o,prefixIcon:Ot,showTextOn:i};break;case"Copy":s={id:a,text:r,tooltipText:o,prefixIcon:wt,showTextOn:i};break;case"Paste":s={id:a,text:r,tooltipText:o,prefixIcon:It,showTextOn:i};break;case"Delete":s={id:a,text:r,tooltipText:o,prefixIcon:Ct,showTextOn:i};break;case"Rename":s={id:a,text:r,tooltipText:o,prefixIcon:St,showTextOn:i};break;case"Download":s={id:a,text:r,tooltipText:o,prefixIcon:Rt,showTextOn:i};break;case"SelectAll":s={id:a,text:r,tooltipText:o,prefixIcon:Dt,showTextOn:i};break;default:s={id:a,text:r,tooltipText:o}}t.push(s)}return t},e.prototype.getId=function(e){return this.parent.element.id+"_tb_"+e.toLowerCase()},e.prototype.addEventListener=function(){this.parent.on(Wt,this.onPropertyChanged,this),this.parent.on(ri,this.onSelectionChanged,this),this.parent.on(hi,this.onLayoutChange,this),this.parent.on(fi,this.showPaste,this),this.parent.on(mi,this.hidePaste,this),this.parent.on(ei,this.destroy,this),this.parent.on(di,this.updateSortByButton,this)},e.prototype.reRenderToolbar=function(e){void 0!==e.newProp.toolbarSettings.items&&(this.items=this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items)),this.toolbarObj.items=this.items,this.toolbarObj.dataBind())},e.prototype.onSelectionChanged=function(e){if(this.hideStatus(),this.hideItems(this.single,!0),this.hideItems(this.selection,!1),1===this.parent.selectedItems.length)this.hideItems(this.single,!1),this.hideItems(this.selection,!0);else if(this.parent.selectedItems.length>1){this.hideItems(this.multiple,!1),this.hideItems(this.selection,!0);var i=t.select("."+Bt,this.toolbarObj.element);i&&(i.textContent=this.parent.selectedItems.length+" "+R(this.parent,"Selection"),this.toolbarObj.hideItem(i.parentElement,!1))}},e.prototype.hideItems=function(e,i){for(var n=0;n<e.length;n++){var s=t.select("#"+this.getId(e[n]),this.parent.element);s&&this.toolbarObj.hideItem(s.parentElement,i)}},e.prototype.hideStatus=function(){var e=t.select("."+Bt,this.toolbarObj.element);e&&this.toolbarObj.hideItem(e.parentElement,!0)},e.prototype.showPaste=function(){this.hideItems(["Paste"],!1)},e.prototype.hidePaste=function(){this.hideItems(["Paste"],!0)},e.prototype.onLayoutChange=function(e){if(this.layoutBtnObj){this.layoutBtnObj.iconCss="Details"===this.parent.view?Pt:Mt;for(var t=this.layoutBtnObj.items,i=0;i<t.length;i++)t[i].id===this.getPupupId("large")?t[i].iconCss="LargeIcons"===this.parent.view?Je:"":t[i].id===this.getPupupId("details")&&(t[i].iconCss="Details"===this.parent.view?Je:"")}},e.prototype.removeEventListener=function(){this.parent.off(Wt,this.onPropertyChanged),this.parent.off(ri,this.onSelectionChanged),this.parent.off(hi,this.onLayoutChange),this.parent.off(fi,this.showPaste),this.parent.off(mi,this.hidePaste),this.parent.off(ei,this.destroy),this.parent.off(di,this.updateSortByButton)},e.prototype.getModuleName=function(){return"toolbar"},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var t=0,i=Object.keys(e.newProp);t<i.length;t++){switch(i[t]){case"cssClass":this.buttonObj&&(this.buttonObj.cssClass=P(this.parent,Fe)),this.layoutBtnObj&&(this.layoutBtnObj.cssClass=P(this.parent,"e-caret-hide "+Fe));break;case"height":case"width":this.toolbarObj.refreshOverflow();break;case"toolbarSettings":this.reRenderToolbar(e);break;case"enableRtl":var n=e.newProp.enableRtl;this.toolbarObj.enableRtl=n,this.toolbarObj.dataBind(),this.buttonObj&&(this.buttonObj.enableRtl=n,this.buttonObj.dataBind()),this.layoutBtnObj&&(this.layoutBtnObj.enableRtl=n,this.layoutBtnObj.dataBind())}}},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.buttonObj&&this.buttonObj.destroy(),this.layoutBtnObj&&this.layoutBtnObj.destroy(),this.toolbarObj.destroy())},e.prototype.enableItems=function(e,i){for(var n=0;n<e.length;n++){var s=t.select("#"+this.getId(e[n]),this.parent.element);s&&this.toolbarObj.enableItems(s.parentElement,i)}},e}(),Ri=function(){function e(e){this.treeNodes=[],this.removeNodes=[],this.expandTree=!1,this.parent=e,this.addEventListener(),this.keyConfigs={altEnter:"alt+enter",esc:"escape",del:"delete",ctrlX:"ctrl+x",ctrlC:"ctrl+c",ctrlV:"ctrl+v",ctrlShiftN:"ctrl+shift+n",shiftF10:"shift+F10",f2:"f2"}}return e.prototype.onInit=function(e){var i=t.getValue("/",this.parent.feParent);t.setValue("selected",!0,i),t.setValue("icon","e-fe-folder",i),this.rootID="fe_tree",t.setValue("nodeId",this.rootID,i),this.rootNode=t.getValue("name",t.getValue("/",this.parent.feParent)),this.treeObj=new h.TreeView({fields:{dataSource:[i],id:"nodeId",text:"name",hasChildren:"hasChild",iconCss:"icon"},nodeSelected:this.onNodeSelected.bind(this),nodeExpanding:this.onNodeExpand.bind(this),allowEditing:!0,nodeEditing:this.onNodeEditing.bind(this),drawNode:this.onDrowNode.bind(this),enableRtl:this.parent.enableRtl}),this.treeObj.appendTo("#"+this.parent.element.id+xe),this.treeObj.element.style.width="25%",this.addChild(e.files,this.rootID,!1),t.setValue(this.parent.path,e.files,this.parent.feFiles),this.parent.persistData=!0,this.wireEvents()},e.prototype.onDrowNode=function(e){var t={element:e.node,fileDetails:e.nodeData,module:"navigationpane"};this.parent.trigger("beforeFileLoad",t)},e.prototype.addChild=function(e,t,i){var n=D(e);if(n.length>0){for(var s=0,a=n;s<n.length;)a[s].icon="e-fe-folder",s++;this.treeObj.addNodes(n,t,null,i)}},e.prototype.onNodeSelected=function(e){if(this.parent.breadcrumbbarModule.searchObj.element.value="",this.parent.searchedItems=[],this.parent.activeElements=this.treeObj.element.querySelectorAll("."+Qe),e.isInteracted){var i=t.getValue("text",e.nodeData);this.activeNode=e.node,this.parent.activeModule="navigationpane",this.parent.persistData||(this.parent.selectedItems=[]),c(e.node,i,this.parent),this.expandNodeTarget=null,e.node.querySelector("."+Tt)&&null===e.node.querySelector("."+We)&&(this.expandNodeTarget="add"),this.parent.itemData=this.treeObj.getTreeData(t.getValue("id",e.nodeData)),k(this.parent,Zt,this.parent.path),this.parent.visitedItem=e.node}},e.prototype.onNodeExpand=function(e){if(e.isInteracted){var i=p(e.node,t.getValue("text",e.nodeData));this.parent.expandedPath=i,null===e.node.querySelector("."+We)&&(this.expandNodeTarget=e.node.getAttribute("data-uid"),this.parent.expandedId=this.expandNodeTarget,this.parent.itemData=this.treeObj.getTreeData(t.getValue("id",e.nodeData)),k(this.parent,ci,i))}},e.prototype.onNodeExpanded=function(e){this.addChild(e.files,this.expandNodeTarget,!1),this.parent.expandedId=null},e.prototype.onNodeEditing=function(e){t.isNullOrUndefined(e.innerHtml)||(e.cancel=!0)},e.prototype.onPathChanged=function(e){var i=t.getValue(this.parent.path,this.parent.feFiles);if("add"===this.expandNodeTarget){var n=t.select('[data-uid="'+this.treeObj.selectedNodes[0]+'"]',this.treeObj.element),s=t.select("."+Ye,n);t.isNullOrUndefined(s)&&this.addChild(e.files,this.treeObj.selectedNodes[0],!0),this.expandNodeTarget=""}t.isNullOrUndefined(i)&&t.setValue(this.parent.path,e.files,this.parent.feFiles)},e.prototype.updateTree=function(e){var i=this.treeObj.selectedNodes[0],n=t.select('[data-uid="'+i+'"]',this.treeObj.element),s=t.select("."+Ye,n),a=s?Array.prototype.slice.call(s.children):null,r=-1!==this.treeObj.expandedNodes.indexOf(i);this.treeObj.removeNodes(a),t.setValue(this.parent.path,e.files,this.parent.feFiles),this.addChild(e.files,i,!r)},e.prototype.onOpenEnd=function(e){var t=this.parent.pathId[this.parent.pathId.length-1];this.treeObj.expandAll(this.treeObj.selectedNodes),this.treeObj.selectedNodes=[t],this.expandNodeTarget="add",this.onPathChanged(e)},e.prototype.onOpenInit=function(e){"navigationpane"===this.parent.activeModule&&e.target.querySelector("."+Tt)&&this.treeObj.expandAll(this.treeObj.selectedNodes)},e.prototype.onInitialEnd=function(e){this.onInit(e)},e.prototype.onCreateEnd=function(e){this.updateTree(e)},e.prototype.onDeleteEnd=function(e){if("navigationpane"===this.parent.activeModule){var i=this.treeObj.selectedNodes[0],n=t.select('[data-uid="'+i+'"]',this.treeObj.element).closest("."+Ye).parentElement;this.treeObj.selectedNodes=[n.getAttribute("data-uid")],this.treeObj.dataBind()}this.updateTree(e)},e.prototype.onRefreshEnd=function(e){this.updateTree(e)},e.prototype.onRenameInit=function(){0===this.parent.selectedItems.length&&this.updateRenameData()},e.prototype.onRenameEnd=function(e){var t=new s.DataManager(this.treeObj.getTreeData()).executeLocal((new s.Query).where(this.treeObj.fields.text,"equal",this.parent.currentItemText,!1));t[0]&&this.treeObj.updateNode(t[0][this.treeObj.fields.id].toString(),this.parent.renameText)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++){switch(n[i]){case"enableRtl":this.treeObj.enableRtl=e.newProp.enableRtl,this.treeObj.dataBind();break;case"navigationPaneSettings":var s={files:t.getValue("/",this.parent.feFiles)};this.onInitialEnd(s)}}},e.prototype.setPath=function(e){this.parent.notify(bi,{module:"navigationpane"})},e.prototype.onTreeSelect=function(e){if(e.module===this.getModuleName()||"common"===e.module){var i=this.parent.path;if(""!==i){"/"!==i.charAt(i.length-1)&&(i+="/"),this.parent.setProperties({path:i},!0);var n=(this.rootNode+this.parent.path.replace(new RegExp(" ","g"),"*")).toLocaleLowerCase();if(t.select('[data-uid="'+n+'"]',this.treeObj.element)){t.select('[data-uid="'+n+'"]',this.treeObj.element).parentNode.parentNode.classList.contains(Vt)?this.expand(n):this.treeObj.selectedNodes[0]!==n&&this.tapFunction(n,"select")}else this.expand(n)}}},e.prototype.expand=function(e){if(t.isNullOrUndefined(t.select('[data-uid="'+e+'"]',this.treeObj.element))){for(;t.isNullOrUndefined(t.select('[data-uid="'+e+'"]',this.treeObj.element));){e=(n=e.substr(0,e.lastIndexOf("/"))).substr(0,n.lastIndexOf("/")+1)}var i=t.select('[data-uid="'+e+'"]',this.treeObj.element);t.isNullOrUndefined(i.querySelector("."+Tt))?this.tapFunction(e,"select"):i.querySelector("."+Tt).classList.contains(Ut)?this.tapFunction(e,"select"):this.tapFunction(e,"expand")}else{if((i=t.select('[data-uid="'+e+'"]',this.treeObj.element).parentNode.parentNode).classList.contains(Vt)){var n;e=(n=e.substr(0,e.lastIndexOf("/"))).substr(0,n.lastIndexOf("/")+1)}this.tapFunction(e,"expand")}},e.prototype.tapFunction=function(e,i){var n={preventDefault:function(){},stopImmediatePropagation:function(){},target:null,type:null,shiftKey:!1,ctrlKey:!1,originalEvent:{target:null}},s={originalEvent:n,tapCount:1},a=this.treeObj,r=t.select('[data-uid="'+e+'"]',this.treeObj.element);"expand"===i?n.target=r.querySelector("."+Tt):"select"===i&&(n.target=r.querySelector("."+Ft)),a.touchClickObj.tap(s),this.expandTree=!0},e.prototype.onSelectionChanged=function(e){this.treeObj.selectedNodes=[e.selectedNode]},e.prototype.addEventListener=function(){this.parent.on(Wt,this.onPropertyChanged,this),this.parent.on(Gt,this.onInitialEnd,this),this.parent.on(Zt,this.onPathChanged,this),this.parent.on(ci,this.onNodeExpanded,this),this.parent.on(Yt,this.onCreateEnd,this),this.parent.on(Jt,this.onDeleteEnd,this),this.parent.on(Xt,this.onRefreshEnd,this),this.parent.on(yi,this.onSelectionChanged,this),this.parent.on(si,this.onOpenInit,this),this.parent.on(ai,this.onOpenEnd,this),this.parent.on(ei,this.destroy,this),this.parent.on(pi,this.onRenameInit,this),this.parent.on(ui,this.onRenameEnd,this),this.parent.on(bi,this.onTreeSelect,this)},e.prototype.removeEventListener=function(){this.parent.off(Gt,this.onInitialEnd),this.parent.off(Wt,this.onPropertyChanged),this.parent.off(Zt,this.onPathChanged),this.parent.off(yi,this.onSelectionChanged),this.parent.off(ci,this.onNodeExpanded),this.parent.off(Yt,this.onCreateEnd),this.parent.off(Xt,this.onRefreshEnd),this.parent.off(si,this.onOpenInit),this.parent.off(ai,this.onOpenEnd),this.parent.off(ei,this.destroy),this.parent.off(pi,this.onRenameInit),this.parent.off(ui,this.onRefreshEnd),this.parent.off(bi,this.onTreeSelect),this.parent.off(Jt,this.onDeleteEnd)},e.prototype.getModuleName=function(){return"navigationpane"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.treeObj&&(this.unWireEvents(),this.treeObj.destroy()))},e.prototype.wireEvents=function(){this.keyboardModule=new t.KeyboardEvents(this.treeObj.element,{keyAction:this.keyDown.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},e.prototype.unWireEvents=function(){this.keyboardModule.destroy()},e.prototype.keyDown=function(e){var t=e.action,i=this.parent;switch(t){case"altEnter":this.parent.getDetails();break;case"esc":y(this.parent),this.parent.selectedNodes=[],this.treeNodes=[];break;case"del":this.removeNodes=[],Y(this.parent,"Delete");break;case"ctrlC":I(this.parent),i.fileOperation(this.parent.nodeNames),this.copyNodes=this.parent.nodeNames;break;case"ctrlV":i.pasteHandler();break;case"ctrlX":C(this.parent),i.fileOperation(this.parent.nodeNames);break;case"shiftF10":G(this.parent,this.parent.detailsviewModule.gridObj.getSelectedRecords());break;case"f2":0===this.parent.selectedItems.length&&(this.updateRenameData(),Y(this.parent,"Rename"))}},e.prototype.updateRenameData=function(){var e=this.treeObj.getTreeData(this.treeObj.selectedNodes[0])[0];this.parent.itemData=[e],this.parent.currentItemText=t.getValue("name",e),this.parent.isFile=!1},e.prototype.moveNode=function(){this.treeObj.moveNodes(this.treeNodes,this.treeObj.selectedNodes[0],null);this.parent;y(this.parent),this.treeNodes=[]},e.prototype.removeNode=function(){this.treeObj.removeNodes(this.removeNodes);this.parent;y(this.parent),this.removeNodes=[]},e.prototype.copyNode=function(){this.treeObj.addNodes(this.copyNodes,this.activeNode,null);this.parent;y(this.parent)},e}();d.Grid.Inject(d.Resize,d.ContextMenu,d.Sort,d.VirtualScroll);var Pi=function(){function e(e){this.isInteracted=!0,this.pasteOperation=!1,this.uploadOperation=!1,this.count=0,this.isRendered=!0,this.parent=e,this.element=t.select("#"+this.parent.element.id+De,this.parent.element),this.addEventListener(),this.keyConfigs={altEnter:"alt+enter",esc:"escape",tab:"tab",del:"delete",ctrlX:"ctrl+x",ctrlC:"ctrl+c",ctrlV:"ctrl+v",ctrlShiftN:"ctrl+shift+n",shiftdel:"shift+delete",shiftF10:"shift+F10",f2:"f2",ctrlA:"ctrl+a",enter:"enter"}}return e.prototype.render=function(e){if("Details"===this.parent.view){t.removeClass([this.parent.element],He);var i=j(this.parent,e.files),n=this.getColumns();this.gridObj=new d.Grid({dataSource:i,allowSorting:!0,rowSelected:this.onSelected.bind(this),rowDeselected:this.onDeSelection.bind(this),allowResizing:this.parent.detailsViewSettings.columnResizing,selectionSettings:{type:this.parent.allowMultiSelection?"Multiple":"Single",checkboxMode:"ResetOnRowClick"},enableRtl:this.parent.enableRtl,pageSettings:{pageSize:20},sortSettings:{allowUnsort:!1,columns:[{direction:this.parent.sortOrder,field:this.parent.sortBy}]},columns:n,recordDoubleClick:this.DblClickEvents.bind(this),beforeDataBound:this.onBeforeDataBound.bind(this),dataBound:this.onDataBound.bind(this),rowDataBound:this.onRowDataBound.bind(this),actionBegin:this.onActionBegin.bind(this),headerCellInfo:this.onHeaderCellInfo.bind(this)}),this.gridObj.appendTo("#"+this.parent.element.id+De),this.wireEvents();var s=t.select("#"+this.parent.element.id+Ae,this.parent.element),a=t.select("#"+this.parent.element.id+Be,this.parent.element),r=t.select(".e-gridheader",this.parent.element),o=s.offsetHeight-a.offsetHeight-r.offsetHeight;this.gridObj.height=o,this.gridObj.defaultLocale.EmptyRecord="",this.checkEmptyDiv(e)}},e.prototype.getColumns=function(){var e;if(this.parent.isMobile)e=[{field:"name",headerText:R(this.parent,"Name"),width:"auto",minWidth:120,headerTextAlign:"Left",template:'<div class="e-fe-text">${name}</div><div class="e-fe-date">${dateModified}</div><span class="e-fe-size">${size}</span>'}];else for(var t=0,i=(e=JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns))).length;t<i;t++)e[t].headerText=R(this.parent,e[t].headerText);var n=this.parent.isBigger?"54":"46",s={field:"type",width:n,minWidth:n,template:'<span class="e-fe-icon ${iconClass}"></span>',allowResizing:!1,allowSorting:!0,customAttributes:{class:"e-fe-grid-icon"},headerTemplate:'<span class="e-fe-icon e-fe-folder"></span>'};if(e.unshift(s),this.parent.allowMultiSelection){var a=this.parent.isBigger?"36":"26",r={type:"checkbox",width:a,minWidth:a,customAttributes:{class:"e-fe-checkbox"},allowResizing:!1,allowSorting:!1};this.parent.isMobile?e.push(r):e.unshift(r)}return e},e.prototype.renderCheckBox=function(){this.gridObj.columns=this.getColumns(),this.gridObj.refreshColumns()},e.prototype.onRowDataBound=function(e){if(!this.parent.showFileExtension&&t.getValue("isFile",e.data)){var i=e.row.querySelector(".e-fe-text"),n=t.getValue("name",e.data),s=t.getValue("type",e.data);i.innerHTML=n.substr(0,n.length-s.length)}if(void 0!==t.getValue("size",e.data)&&e.row.querySelector(".e-fe-size")){var a=e.row.querySelector(".e-fe-size"),r=void 0;if(t.getValue("isFile",e.data)){var o=t.getValue("size",e.data);if(o/1024==0)r="0 KB";else{r=(h=new t.Internationalization).formatNumber(o/1024,{format:"n"})+" KB"}}else r="";a.innerHTML=r}if(this.parent.isMobile&&void 0!==t.getValue("dateModified",e.data)&&e.row.querySelector(".e-fe-date")){for(var l=e.row.querySelector(".e-fe-date"),h=new t.Internationalization,d=this.parent.detailsViewSettings.columns,c=void 0,p=0;p<d.length;p++)if("dateModified"===d[p].field){c=d[p].format;break}var u=h.formatDate(new Date(t.getValue("dateModified",e.data)),c);l.innerHTML=u}var f=e.row.querySelector("."+it);f&&f.classList.add("e-small");var m={element:e.row,fileDetails:e.data,module:"Grid"};this.parent.trigger("beforeFileLoad",m)},e.prototype.onActionBegin=function(e){"sorting"===e.requestType&&(this.parent.sortOrder=e.direction,this.parent.sortBy=e.columnName,this.parent.notify(di,{}))},e.prototype.onHeaderCellInfo=function(e){var t=e.node.querySelector("."+it);t&&t.classList.add("e-small")},e.prototype.onBeforeDataBound=function(e){var t=j(this.parent,this.gridObj.dataSource);e.result=t},e.prototype.maintainBlur=function(){for(var e=0,i=this.gridObj.getCurrentViewRecords();e<i.length;e++){var n=this.gridObj.getDataRows()[e],s=n.querySelector("."+ut).textContent;if(-1!==this.parent.selectedNodes.indexOf(s))for(var a=t.selectAll("."+nt,n),r=0;r<a.length;)g(a[r]),r++}},e.prototype.onDataBound=function(e){if(0!==this.parent.selectedItems.length&&(this.selectedItem=!0),!0===this.pasteOperation||!0===this.selectedItem){var i=!0!==this.selectedItem?this.parent.selectedNodes:this.parent.selectedItems;this.selectRecords(i),this.pasteOperation=!0===this.selectedItem&&this.pasteOperation,this.selectedItem=!1}if(this.parent.cutNodes&&0!==this.parent.cutNodes.length&&this.maintainBlur(),this.parent.createdItem&&(this.selectRecords([t.getValue("name",this.parent.createdItem)]),this.parent.createdItem=null),this.parent.renamedItem&&(this.selectRecords([t.getValue("name",this.parent.renamedItem)]),this.parent.renamedItem=null),!0===this.sortItem&&(this.selectRecords(this.sortSelectedNodes),this.sortItem=!1),this.parent.allowMultiSelection&&void 0!==this.parent.singleSelection&&this.selectRecords([this.parent.singleSelection]),this.parent.allowMultiSelection||void 0===this.parent.singleSelection||this.selectRecords([this.parent.singleSelection]),!0===this.uploadOperation&&(this.count++,this.selectRecords(this.parent.uploadItem),this.count===this.parent.uploadItem.length&&(this.uploadOperation=!1,this.parent.uploadItem=[])),this.gridObj.currentViewData.length*this.gridObj.getRowHeight()<this.gridObj.height){(n=this.gridObj.getHeaderContent()).style.paddingRight="";t.select(".e-headercontent",n).style.borderRightWidth="0";(s=this.gridObj.getContent().querySelector(".e-content")).style.overflowY="",s.classList.add("e-scrollShow")}else{var n;(n=this.gridObj.getHeaderContent()).style.paddingRight="16px";var s;(s=this.gridObj.getContent().querySelector(".e-content")).classList.remove("e-scrollShow")}this.isRendered=!0},e.prototype.selectRecords=function(e){for(var i=this.gridObj.getCurrentViewRecords(),n=[],s=0,a=i.length;s<a;s++)-1!==e.indexOf(t.getValue("name",i[s]))&&n.push(s);0!==n.length&&this.gridObj.selectRows(n)},e.prototype.onSortColumn=function(e){if(0!==this.parent.selectedItems.length){this.sortItem=!0;var i=this.gridObj.getSelectedRowIndexes(),n=i.length;for(this.sortSelectedNodes=[];n>0;){var s=this.gridObj.getRowsObject()[i[n-1]].data;this.sortSelectedNodes.push(t.getValue("name",s)),n--}}this.gridObj.sortModule.sortColumn(this.parent.sortBy,this.parent.sortOrder)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()||"common"===e.module)for(var i=0,n=Object.keys(e.newProp);i<n.length;i++){switch(n[i]){case"selectedItems":0!==this.parent.selectedItems.length?this.selectRecords(this.parent.selectedItems):t.isNullOrUndefined(this.gridObj)||this.gridObj.clearSelection();break;case"enableRtl":t.isNullOrUndefined(this.gridObj)||(this.gridObj.enableRtl=e.newProp.enableRtl,this.gridObj.dataBind());break;case"showFileExtension":case"showHiddenItems":k(this.parent,Zt,this.parent.path);break;case"allowMultiSelection":t.isNullOrUndefined(this.gridObj)||(this.gridObj.selectionSettings.type=e.newProp.allowMultiSelection?"Multiple":"Single",this.renderCheckBox());break;case"view":k(this.parent,hi,this.parent.path)}}},e.prototype.onPathChanged=function(e){if(""===this.parent.breadcrumbbarModule.searchObj.element.value.trim()&&this.gridObj){this.parent.searchedItems=[];var t=this.gridObj.columns.length,i=JSON.parse(JSON.stringify(this.gridObj.columns));i[t-1].field&&"filterPath"===i[t-1].field&&(this.gridObj.columns.pop(),this.gridObj.refreshColumns())}y(this.parent),this.parent.persistData||this.parent.setProperties({selectedItems:[]},!0),"Details"===this.parent.view&&(this.parent.persistData?this.isInteracted=!1:this.parent.setProperties({selectedItems:[]},!0),this.parent.persistData=!1,this.parent.cutNodes=[],this.gridObj.dataSource=j(this.parent,e.files),this.parent.notify(wi,e)),this.checkEmptyDiv(e)},e.prototype.checkEmptyDiv=function(e){var i=j(this.parent,e.files);if(0!==i.length||t.isNullOrUndefined(this.element.querySelector("."+gt))){if(0!==i.length&&this.element.querySelector("."+st))if(this.element.querySelector("."+gt).querySelector("."+st)){var n=this.element.querySelector("."+gt).querySelector("."+st);this.element.querySelector("."+gt).removeChild(n)}else this.element.removeChild(this.element.querySelector("."+st))}else x(this.parent,t.getValue("name",e),this.element)},e.prototype.onOpenInit=function(e){if("detailsview"===this.parent.activeModule){var t=this.gridObj.getSelectedRecords()[0];this.openContent(t)}},e.prototype.DblClickEvents=function(e){this.gridObj.selectRows([e.rowIndex]);var t;e.rowData&&(t=JSON.parse(JSON.stringify(e.rowData)),this.openContent(t))},e.prototype.openContent=function(e){var i={cancel:!1,fileDetails:e};if(this.parent.trigger("beforeFileOpen",i),!i.cancel)if(t.getValue("isFile",e)){if(S(e)===ot){var n=t.getValue("name",e),s=N(this.parent,e);ie(this.parent,n,s)}}else{var a=this.parent.path+t.getValue("name",e)+"/";this.parent.setProperties({path:a},!0),this.parent.pathId.push(t.getValue("nodeId",e)),this.parent.itemData=[e],v(this.parent)}},e.prototype.onLayoutChange=function(e){"Details"===this.parent.view&&(this.gridObj||this.render(e),this.gridObj.dataSource=j(this.parent,e.files),this.parent.notify(gi,{}),this.gridObj.element.classList.remove(_t),this.isInteracted=!1,this.gridObj.clearSelection(),this.parent.selectedItems&&(this.selectedItem=!0),""!==this.parent.breadcrumbbarModule.searchObj.element.value.trim()&&this.onSearchFiles(e))},e.prototype.onSearchFiles=function(e){if("Details"===this.parent.view){var t=this.gridObj.columns.length,i=JSON.parse(JSON.stringify(this.gridObj.columns));i[t-1].field&&"filterPath"===i[t-1].field&&this.gridObj.columns.pop();this.parent.isMobile||this.gridObj.columns.push({field:"filterPath",headerText:"path",minWidth:180}),this.gridObj.refreshColumns(),this.parent.searchedItems=e.files,this.onPathChanged(e)}},e.prototype.changeData=function(e){this.isInteracted=!1,this.gridObj.dataSource=j(this.parent,e.files),this.parent.selectedItems&&(this.selectedItem=!0)},e.prototype.onInitialEnd=function(e){this.render(e),this.parent.notify(wi,e)},e.prototype.onCreateEnd=function(e){"Details"===this.parent.view&&this.onPathChanged(e)},e.prototype.onRenameInit=function(){"Details"===this.parent.view&&1===this.parent.selectedItems.length&&this.updateRenameData()},e.prototype.onDeleteEnd=function(e){"Details"===this.parent.view&&(this.onPathChanged(e),this.parent.setProperties({selectedItems:[]},!0))},e.prototype.onRefreshEnd=function(e){"Details"===this.parent.view&&this.changeData(e)},e.prototype.onHideLayout=function(e){"Details"!==this.parent.view&&this.gridObj&&this.gridObj.element.classList.add(_t)},e.prototype.onSelectAllInit=function(){"Details"===this.parent.view&&(this.isInteracted=!1,this.gridObj.selectionModule.selectRowsByRange(0,this.gridObj.getRows().length),this.isInteracted=!0)},e.prototype.onClearAllInit=function(){"Details"===this.parent.view&&this.removeSelection()},e.prototype.onSelectionChanged=function(){t.removeClass([this.element],qt),this.parent.selectedItems.length>0&&t.addClass([this.element],qt)},e.prototype.onBeforeRequest=function(){this.isRendered=!1},e.prototype.onAfterRequest=function(e){"failure"===t.getValue("action",e)&&(this.isRendered=!0)},e.prototype.addEventListener=function(){this.parent.on(Gt,this.onInitialEnd,this),this.parent.on(ei,this.destroy,this),this.parent.on(hi,this.onLayoutChange,this),this.parent.on(Zt,this.onPathChanged,this),this.parent.on(Yt,this.onCreateEnd,this),this.parent.on(Jt,this.onDeleteEnd,this),this.parent.on(Xt,this.onRefreshEnd,this),this.parent.on(ni,this.onSearchFiles,this),this.parent.on(Wt,this.onPropertyChanged,this),this.parent.on(pi,this.onRenameInit,this),this.parent.on(ui,this.onPathChanged,this),this.parent.on(si,this.onOpenInit,this),this.parent.on(vi,this.onSortColumn,this),this.parent.on(ai,this.onPathChanged,this),this.parent.on(gi,this.onHideLayout,this),this.parent.on(oi,this.onSelectAllInit,this),this.parent.on(li,this.onClearAllInit,this),this.parent.on(Oi,this.onPathColumn,this),this.parent.on(ri,this.onSelectionChanged,this),this.parent.on(ti,this.onBeforeRequest,this),this.parent.on(ii,this.onAfterRequest,this)},e.prototype.removeEventListener=function(){this.parent.off(Gt,this.onInitialEnd),this.parent.off(ei,this.destroy),this.parent.off(hi,this.onLayoutChange),this.parent.off(Zt,this.onPathChanged),this.parent.off(Yt,this.onCreateEnd),this.parent.off(Xt,this.onRefreshEnd),this.parent.off(ni,this.onSearchFiles),this.parent.off(Wt,this.onPropertyChanged),this.parent.off(pi,this.onRenameInit),this.parent.off(ui,this.onPathChanged),this.parent.off(si,this.onOpenInit),this.parent.off(vi,this.onSortColumn),this.parent.off(ai,this.onPathChanged),this.parent.off(gi,this.onHideLayout),this.parent.off(oi,this.onSelectAllInit),this.parent.off(li,this.onClearAllInit),this.parent.off(Jt,this.onDeleteEnd),this.parent.off(Oi,this.onPathColumn),this.parent.off(ri,this.onSelectionChanged),this.parent.off(ti,this.onBeforeRequest),this.parent.off(ii,this.onAfterRequest)},e.prototype.getModuleName=function(){return"detailsview"},e.prototype.destroy=function(){this.parent.isDestroyed||(this.removeEventListener(),this.gridObj&&(this.unWireEvents(),this.gridObj.destroy()))},e.prototype.onSelected=function(e){if(this.parent.activeElements=this.gridObj.element.querySelectorAll("."+Qe),this.parent.activeModule="detailsview",this.selectedRecords(),this.parent.notify(ri,{}),this.triggerSelect("select",e),this.parent.allowMultiSelection){var i=this.gridObj.getSelectedRowIndexes(),n=i.length;if(n>1){var s=this.gridObj.getRowsObject()[i[n-1]].data;this.parent.currentItemText=t.getValue("name",s)}}if(1===this.parent.selectedItems.length){s=this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;this.parent.currentItemText=t.getValue("name",s)}var a=t.getValue("rowIndexes",e),r=t.getValue("enableSelectMultiTouch",this.gridObj.selectionModule);if(this.parent.isDevice&&t.isNullOrUndefined(a)&&e.target&&!r&&!e.target.closest(".e-headercell")&&(this.parent.isFile=t.getValue("isFile",e.data),!this.parent.isFile)){var o=this.parent.path+t.getValue("name",e.data)+"/";this.parent.setProperties({path:o},!0),this.parent.pathId.push(t.getValue("nodeId",e.data)),this.parent.itemData=[e.data],v(this.parent)}this.parent.visitedItem=e.row},e.prototype.onPathColumn=function(e){if("Details"===this.parent.view){var t=this.gridObj.columns.length;if(""===this.parent.breadcrumbbarModule.searchObj.element.value){var i=JSON.parse(JSON.stringify(this.gridObj.columns));i[t-1].field&&"filterPath"===i[t-1].field&&(this.gridObj.columns.pop(),this.gridObj.refreshColumns())}}},e.prototype.selectedRecords=function(){this.parent.setProperties({selectedItems:[]},!0);for(var e=this.gridSelectNodes(),t=0;t<e.length;){var i=e[t];this.parent.selectedItems.push(i.name),t++}},e.prototype.onDeSelection=function(e){if(this.isInteracted){this.parent.activeElements[0].querySelector("."+nt)&&(this.selectedRecords(),this.parent.activeElements=this.gridObj.element.querySelectorAll("."+Qe));for(var i=e.data,n=0,s=i.length;n<s;n++){var a=this.parent.selectedItems.indexOf(t.getValue("name",i[n]));a>-1&&this.parent.selectedItems.splice(a,1)}0===this.parent.selectedItems.length&&(t.setValue("enableSelectMultiTouch",!1,this.gridObj.selectionModule),t.removeClass([this.parent.element],He)),this.parent.notify(ri,{}),this.triggerSelect("unselect",e),this.parent.visitedItem=null}else this.isInteracted=!0},e.prototype.triggerSelect=function(e,t){var i={action:e,fileDetails:t.data};this.parent.trigger("fileSelect",i)},e.prototype.wireEvents=function(){this.wireClickEvent(!0),this.keyboardModule=new t.KeyboardEvents(this.gridObj.element,{keyAction:this.keyDown.bind(this),keyConfigs:this.keyConfigs,eventName:"keyup"}),t.EventHandler.add(this.gridObj.element,"focus",this.removeSelection,this)},e.prototype.unWireEvents=function(){this.wireClickEvent(!1),this.keyboardModule.destroy(),t.EventHandler.remove(this.gridObj.element,"focus",this.removeSelection)},e.prototype.wireClickEvent=function(e){if(e){var i=this,n=this.gridObj.getContent();this.clickObj=new t.Touch(n,{tapHold:function(e){if(i.parent.isDevice){e.originalEvent.preventDefault(),i.parent.allowMultiSelection&&(t.setValue("enableSelectMultiTouch",i.parent.allowMultiSelection,i.gridObj.selectionModule),t.addClass([i.parent.element],He));var n=e.originalEvent.target;if(n){var s=n.closest(".e-row"),a=i.gridObj.getRows().indexOf(s);i.gridObj.selectRow(a)}}}})}else this.clickObj&&this.clickObj.destroy()},e.prototype.removeSelection=function(){t.removeClass([this.parent.element],He),this.gridObj.clearSelection(),this.parent.notify(ri,{})},e.prototype.keyDown=function(e){if(this.isRendered){e.preventDefault();switch(e.action){case"altEnter":this.parent.getDetails();break;case"esc":y(this.parent),this.parent.selectedNodes=[],this.parent.navigationpaneModule&&(this.parent.navigationpaneModule.treeNodes=[]);break;case"del":case"shiftdel":this.parent.selectedItems&&this.parent.selectedItems.length>0&&Y(this.parent,"Delete");break;case"enter":if(-1===this.gridObj.selectedRowIndex)break;var i=this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;if(i){var n=JSON.parse(JSON.stringify(i));this.openContent(n)}break;case"ctrlC":y(this.parent),this.parent.navigationpaneModule.treeNodes=[],this.parent.navigationpaneModule.copyNodes=[],this.parent.cutNodes=[],this.parent.selectedNodes=[],this.parent.targetPath=this.parent.path,f(this.parent.navigationpaneModule,this.gridSelectNodes(),"copy"),this.parent.fileAction="CopyTo",this.parent.enablePaste=!0,this.parent.notify(fi,{}),this.parent.fileOperation(this.gridSelectNodes());break;case"ctrlV":this.parent.pasteHandler();break;case"ctrlX":C(this.parent),this.parent.fileOperation(this.parent.nodeNames);break;case"shiftF10":G(this.parent,this.gridSelectNodes());break;case"f2":1===this.parent.selectedItems.length&&(this.updateRenameData(),Y(this.parent,"Rename"));break;case"ctrlA":var s=[this.gridObj.getSelectedRecords()[0]];this.parent.currentItemText=t.getValue("name",s[0]);break;case"tab":var a=j(this.parent,this.gridObj.dataSource);this.parent.selectedItems=[t.getValue("name",a[0])],this.selectRecords([t.getValue("name",a[0])])}}},e.prototype.gridSelectNodes=function(){return this.gridObj.getSelectedRecords()},e.prototype.updateRenameData=function(){var e=this.gridSelectNodes()[0];this.parent.itemData=[e],this.parent.currentItemText=t.getValue("name",e),this.parent.isFile=t.getValue("isFile",e)},e}();e.AjaxSettings=re,e.toolbarItems=he,e.ToolbarSettings=de,e.SearchSettings=ue,e.columnArray=ge,e.DetailsViewSettings=ye,e.fileItems=Oe,e.folderItems=we,e.layoutItems=Ie,e.ContextMenuSettings=Ce,e.NavigationPaneSettings=je,e.TOOLBAR_ID=Ee,e.LAYOUT_ID="_layout",e.TREE_ID=xe,e.GRID_ID=De,e.LARGEICON_ID=Re,e.DIALOG_ID=Pe,e.ALT_DIALOG_ID="_alt_dialog",e.IMG_DIALOG_ID=Me,e.EXTN_DIALOG_ID=Le,e.UPLOAD_DIALOG_ID=ke,e.CONTEXT_MENU_ID=Te,e.SORTBY_ID="_sortby",e.VIEW_ID="_view",e.SPLITTER_ID="_splitter",e.CONTENT_ID=Ae,e.BREADCRUMBBAR_ID=Be,e.UPLOAD_ID=_e,e.ROOT="e-filemanager",e.CONTROL="e-control",e.CHECK_SELECT=Ve,e.ROOT_POPUP=Fe,e.MOBILE=Ue,e.MULTI_SELECT=He,e.FILTER=qe,e.LAYOUT="e-layout",e.LAYOUT_CONTENT=ze,e.LARGE_ICONS=Ke,e.TB_ITEM="e-toolbar-item",e.LIST_ITEM=We,e.LIST_TEXT=Ge,e.LIST_PARENT=Ye,e.TB_OPTION_TICK=Je,e.TB_OPTION_DOT=Xe,e.BLUR=$e,e.ACTIVE=Qe,e.HOVER=Ze,e.FOCUS=et,e.CHECK=tt,e.FRAME="e-frame",e.CB_WRAP=it,e.ROW="e-row",e.ROWCELL=nt,e.EMPTY=st,e.EMPTY_CONTENT=at,e.EMPTY_INNER_CONTENT=rt,e.FOLDER="e-fe-folder",e.ICON_IMAGE=ot,e.ICON_MUSIC=lt,e.ICON_VIDEO=ht,e.LARGE_ICON=dt,e.LARGE_EMPTY_FOLDER=ct,e.LARGE_EMPTY_FOLDER_TWO="e-empty-icon.e-fe-folder",e.LARGE_ICON_FOLDER=pt,e.SELECTED_ITEMS="e-items",e.TEXT_CONTENT="e-text-content",e.GRID_HEADER="e-gridheader",e.TEMPLATE_CELL=ut,e.TREE_VIEW=ft,e.MENU_ITEM="e-menu-item",e.MENU_ICON=mt,e.SUBMENU_ICON="e-caret",e.GRID_VIEW=gt,e.ICON_VIEW=yt,e.ICON_OPEN=bt,e.ICON_UPLOAD=vt,e.ICON_CUT=Ot,e.ICON_COPY=wt,e.ICON_PASTE=It,e.ICON_DELETE=Ct,e.ICON_RENAME=St,e.ICON_NEWFOLDER=Nt,e.ICON_DETAILS=jt,e.ICON_SHORTBY=Et,e.ICON_REFRESH=xt,e.ICON_SELECTALL=Dt,e.ICON_DOWNLOAD=Rt,e.ICON_OPTIONS="e-icons e-fe-options",e.ICON_GRID=Pt,e.ICON_LARGE=Mt,e.ICON_BREADCRUMB=Lt,e.ICON_CLEAR=kt,e.ICONS=Tt,e.DETAILS_LABEL="e-detailslabel",e.ERROR_CONTENT=At,e.STATUS=Bt,e.BREADCRUMBS="e-address",e.RTL="e-rtl",e.DISPLAY_NONE=_t,e.COLLAPSED=Vt,e.FULLROW=Ft,e.ICON_COLLAPSIBLE=Ut,e.SPLIT_BAR=Ht,e.HEADER_CHECK=qt,e.OVERLAY="e-fe-overlay",e.VALUE=zt,e.isFile=Kt,e.modelChanged=Wt,e.initialEnd=Gt,e.createEnd=Yt,e.deleteEnd=Jt,e.refreshEnd=Xt,e.resizeEnd=$t,e.splitterResize=Qt,e.pathChanged=Zt,e.destroy=ei,e.beforeRequest=ti,e.upload="upload",e.afterRequest=ii,e.download="download",e.uiRefresh="ui-refresh",e.search=ni,e.openInit=si,e.openEnd=ai,e.selectionChanged=ri,e.selectAllInit=oi,e.clearAllInit=li,e.layoutChange=hi,e.sortByChange=di,e.nodeExpand=ci,e.renameInit=pi,e.renameEnd=ui,e.showPaste=fi,e.hidePaste=mi,e.hideLayout=gi,e.updateTreeSelection=yi,e.treeSelect=bi,e.sortColumn=vi,e.pathColumn=Oi,e.searchTextChange=wi,e.FileManager=xi,e.Toolbar=Di,e.BreadCrumbBar=Ci,e.NavigationPane=Ri,e.DetailsView=Pi,e.LargeIconsView=Ii,e.createDialog=Y,e.createImageDialog=ie,e.ContextMenu=Si,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-filemanager.umd.min.js.map
