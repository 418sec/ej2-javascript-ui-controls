{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/base/constant.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor } from '@syncfusion/ej2-data';\n/** @hidden */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\nexport function getTaskData(records) {\n    var result = [];\n    for (var i = 0; i < records.length; i++) {\n        var data = extend({}, records[i].taskData, {}, true);\n        result.push(data);\n    }\n    return result;\n}\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/* tslint:disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.parent = parent;\n    }\n    /**\n     *\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     * @param date\n     * @param ganttProp\n     * @param validateAsMilestone\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < this.parent.defaultStartTime) {\n            this.setTime(this.parent.defaultStartTime, cloneStartDate);\n        }\n        else if (hour === this.parent.defaultEndTime && (!ganttProp || !validateAsMilestone)) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            this.setTime(this.parent.defaultStartTime, cloneStartDate);\n        }\n        else if (hour > this.parent.defaultEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            this.setTime(this.parent.defaultStartTime, cloneStartDate);\n        }\n        else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour >= value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour < this.parent.workingTimeRanges[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if (hour === value.to && (!ganttProp || !validateAsMilestone)) {\n                        this.setTime(this.parent.workingTimeRanges[index + 1].from, cloneStartDate);\n                    }\n                    else if (hour !== value.to) {\n                        this.setTime(this.parent.workingTimeRanges[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        do {\n            tStartDate = new Date(cloneStartDate.getTime());\n            var holidayLength = this.parent.totalHolidayDates.length;\n            // check holidays and weekends\n            if (this.isValidateNonWorkDays(ganttProp)) {\n                if (!this.parent.includeWeekend) {\n                    var tempDate = new Date(cloneStartDate.getTime());\n                    cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                    if (tempDate.getTime() !== cloneStartDate.getTime()) {\n                        this.setTime(this.parent.defaultStartTime, cloneStartDate);\n                    }\n                }\n                for (var count = 0; count < holidayLength; count++) {\n                    var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                    var holidayTo = new Date(holidayFrom.getTime());\n                    holidayFrom.setHours(0, 0, 0, 0);\n                    holidayTo.setHours(23, 59, 59, 59);\n                    if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                        cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                        this.setTime(this.parent.defaultStartTime, cloneStartDate);\n                    }\n                }\n            }\n        } while (tStartDate.getTime() !== cloneStartDate.getTime());\n        return new Date(cloneStartDate.getTime());\n    };\n    /**\n     * To update given date value to valid end date\n     * @param date\n     * @param ganttProp\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > this.parent.defaultEndTime) {\n            this.setTime(this.parent.defaultEndTime, cloneEndDate);\n        }\n        else if (hour <= this.parent.defaultStartTime) {\n            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            this.setTime(this.parent.defaultEndTime, cloneEndDate);\n        }\n        else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        do {\n            tempCheckDate = new Date(cloneEndDate.getTime());\n            var holidayLength = this.parent.totalHolidayDates.length;\n            if (this.isValidateNonWorkDays(ganttProp)) {\n                if (!this.parent.includeWeekend) {\n                    var tempDate = new Date(cloneEndDate.getTime());\n                    cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                    if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                        this.setTime(this.parent.defaultEndTime, cloneEndDate);\n                    }\n                }\n                for (var count = 0; count < holidayLength; count++) {\n                    var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                    var holidayTo = new Date(holidayFrom.getTime());\n                    var tempHoliday = new Date(cloneEndDate.getTime());\n                    tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                    holidayFrom.setHours(0, 0, 0, 0);\n                    holidayTo.setHours(23, 59, 59, 59);\n                    if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                        tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                        cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                        if (!(cloneEndDate.getTime() === holidayFrom.getTime() && this.parent.defaultEndTime === 86400 &&\n                            this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                            this.setTime(this.parent.defaultEndTime, cloneEndDate);\n                        }\n                    }\n                }\n            }\n        } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n        return new Date(cloneEndDate.getTime());\n    };\n    /**\n     * To validate the baseline start date\n     * @param date\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < this.parent.defaultStartTime) {\n                this.setTime(this.parent.defaultStartTime, cloneDate);\n            }\n            else if (hour >= this.parent.defaultEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                this.setTime(this.parent.defaultStartTime, cloneDate);\n            }\n            else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour >= value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     * @param date\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > this.parent.defaultEndTime) {\n                this.setTime(this.parent.defaultEndTime, cloneDate);\n            }\n            else if (hour <= this.parent.defaultStartTime) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                this.setTime(this.parent.defaultEndTime, cloneDate);\n            }\n            else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     * @param ganttData\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param ganttData\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    this.setTime(this.parent.defaultStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                tempEndDate = this.getEndDate(ganttProp.startDate, ganttProp.duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    /**\n     * To calculate duration from start date and end date\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        if (this.parent.taskFields.duration) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n            if (this.parent.taskFields.durationUnit) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n            }\n        }\n    };\n    /**\n     *\n     * @param sDate Method to get total nonworking time between two date values\n     * @param eDate\n     * @param isAutoSchedule\n     * @param isCheckTimeZone\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var timeDiff = this.getTimeDifference(sDate, eDate, isCheckTimeZone) / 1000; // To convert milliseconds to seconds\n        var weekendCount = !this.parent.includeWeekend && isAutoSchedule ? this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = isAutoSchedule ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (totWorkDays * (86400 - this.parent.secondsPerDay)) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    /**\n     *\n     * @param startDate\n     * @param endDate\n     * @param durationUnit\n     * @param isAutoSchedule\n     * @param isCheckTimeZone\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / this.parent.secondsPerDay;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param duration\n     * @param durationUnit\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit) {\n        var value = 0;\n        if (!durationUnit || durationUnit === 'day') {\n            value = this.parent.secondsPerDay * duration;\n        }\n        else if (durationUnit === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     * @param startDate\n     * @param duration\n     * @param durationUnit\n     * @param ganttProp\n     * @param validateAsMilestone\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var secondDuration = this.getDurationAsSeconds(duration, durationUnit);\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param endDate To calculate start date vale from end date and duration\n     * @param duration\n     * @param durationUnit\n     * @param ganttProp\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration = this.getDurationAsSeconds(duration, durationUnit);\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        return startDate;\n    };\n    /**\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @private\n     * @param ganttProp\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                this.setTime(this.parent.defaultStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                sDate = this.getProjectStartDate(ganttProp);\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param ganttProp\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    this.setTime(this.parent.defaultEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    /**\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        var endDate = new Date('10/12/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n                startDate.setHours(0, 0, 0, 0);\n                var tempDate = new Date(startDate.getTime());\n                startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n                var startHour = new Date(startDate.getTime());\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n                var endHour = new Date(tempDate.getTime());\n                var timeDiff = endHour.getTime() - startHour.getTime();\n                var sdSeconds = this.getSecondsInDecimal(startHour);\n                var edSeconds = this.getSecondsInDecimal(endHour);\n                if (edSeconds === 0) {\n                    edSeconds = 86400;\n                }\n                totalSeconds += timeDiff / 1000;\n                if (count === 0) {\n                    this.parent.defaultStartTime = sdSeconds;\n                }\n                if (count === length - 1) {\n                    this.parent.defaultEndTime = edSeconds;\n                }\n                if (count > 0) {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param value\n     * @param isFromDialog\n     * @private\n     */\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param date\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     * @param startDate\n     * @param endDate\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param startDate\n     * @param endDate\n     * @param isCheckTimeZone\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var weekendCount = 0;\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param startDate\n     * @param endDate\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() >= currentHoliday.getTime()) {\n                    if (!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) {\n                        holidaysCount += 1;\n                    }\n                    else if (this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     * @param startDate\n     * @param endDate\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = isAutoSchedule ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = isAutoSchedule ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        for (var i = 0; i < this.parent.nonWorkingTimeRanges.length; i++) {\n            var val = this.parent.nonWorkingTimeRanges[i];\n            if (sHour >= val.from && sHour <= val.to) {\n                startRangeIndex = i;\n            }\n            if (eHour >= val.from && eHour <= val.to) {\n                endRangeIndex = i;\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < this.parent.nonWorkingTimeRanges.length; i++) {\n                    if (!this.parent.nonWorkingTimeRanges[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (this.parent.nonWorkingTimeRanges[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (this.parent.nonWorkingTimeRanges[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!this.parent.nonWorkingTimeRanges[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - this.parent.nonWorkingTimeRanges[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += this.parent.nonWorkingTimeRanges[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!this.parent.nonWorkingTimeRanges[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (this.parent.nonWorkingTimeRanges[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - this.parent.nonWorkingTimeRanges[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += this.parent.nonWorkingTimeRanges[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = this.parent.nonWorkingTimeRanges[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param date\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && this.parent.defaultEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     * @return {void}\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param seconds\n     * @param date\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* tslint:disable-next-line:no-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* tslint:disable-next-line:no-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     *\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     *\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ > 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param date\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param date\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            return new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.dateFormat, type: 'dateTime' });\n            return isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n    };\n    /**\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param duration\n     * @param durationUnit\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     * @param work\n     * @param workUnit\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param editArgs\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(this.parent.projectStartDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(this.parent.projectEndDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data, index) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate = _this.getValidStartDate(task);\n                var tempEndDate = _this.getValidEndDate(task);\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0) {\n                    task.indicators.forEach(function (item, index) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0) {\n                var eventMarkers = this.parent.eventMarkers;\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0) {\n                var holidays = this.parent.totalHolidayDates;\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.parent.cloneProjectStartDate = minStartDate ? minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, isBlazor, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else if (this.parent.dataSource.length > 0) {\n            this.dataArray = this.parent.dataSource;\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            this.parent.renderGantt(isChange);\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        dataManager.executeQuery(queryManager).then(function (e) {\n            _this.dataArray = e.result;\n            _this.cloneDataSource();\n            _this.parent.renderGantt(isChange);\n        }).catch(function (e) {\n            // Trigger action failure event\n            _this.parent.renderGantt(isChange);\n            _this.parent.trigger('actionFailure', { error: e });\n        });\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                var index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            rootData.push.apply(rootData, groupData.items);\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            this.constructDataSource(data);\n            hierarchicalData = this.hierarchyData;\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                record[this.parent.resourceFields.id] = 0;\n                record[this.parent.resourceFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     *\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child;\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if (!tempData[child] && resourceData && resourceData.length) {\n                resourceData.forEach(function (resource) {\n                    var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                        resource;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                });\n            }\n            else if (!tempData[child]) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var length = data.length;\n        for (var i = 0; i < length; i++) {\n            var tempData = data[i];\n            var ganttData = this.createRecord(tempData, level, parentItem, true);\n            ganttData.index = this.recordIndex++;\n            this.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this.parent.flatData.push(ganttData);\n            this.parent.setTaskIds(ganttData);\n            var childData = tempData[this.parent.taskFields.child];\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                if (ganttRecord[columns[i].field] === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     * @param data\n     * @param level\n     * @param parentItem\n     * @param isLoad\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var child = data[taskSettings.child];\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate]);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate]);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            this.addTaskData(ganttData, data, isLoad);\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            name = data[resourceFields.name];\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        if (taskSettings.parentID) {\n            this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        }\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.isSameResourceAdd) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else {\n            var preProperties = getValue('ganttProperties.resourceInfo', data);\n            if (preProperties) {\n                this.parent.setRecordValue('resourceInfo', preProperties, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n            }\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.updateResourceName(ganttData);\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate), ganttProperties, true);\n        // set default end time, if hour is 0\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n            this.setTime(this.parent.defaultEndTime, baselineEndDate);\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.parent.setRecordValue('notes', data[taskSettings.notes], ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        this.parent.setRecordValue('level', level, ganttData);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate), ganttProperties, true);\n        if (!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            this.resetDependency(ganttData);\n        }\n        else {\n            this.parent.setRecordValue('hasChildRecords', false, ganttData);\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n        }\n        return ganttData;\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     * @param ganttData\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        var resources = ganttData.ganttProperties.resourceInfo;\n        var work = 0;\n        if (!isNullOrUndefined(resources)) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var resourceOneDayWork = void 0;\n            var actualOneDayWork = (this.parent.secondsPerDay) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage \n                resourceOneDayWork = resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : actualOneDayWork; //in hours\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n    };\n    /**\n     *\n     * @param record\n     * @param parent\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData = (index > -1) ? this.dataArray[index] : {};\n                    this.parent.setRecordValue('taskData', tempData, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expandStateMapping', updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     *\n     * @param ganttData\n     * @param data\n     * @param isLoad\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate]);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate]);\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseInt(data[taskSettings.work], 10) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        this.parent.setRecordValue('taskType', this.parent.taskType, ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n        if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                return;\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (startDate) {\n            this.calculateDateFromStartDate(startDate, endDate, duration, ganttData);\n        }\n        else if (endDate) {\n            this.calculateDateFromEndDate(endDate, duration, ganttData);\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                this.updateDurationWithWork(ganttData);\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     * @param ganttData\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var actualOneDayWork = (this.parent.secondsPerDay) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            var totalHours = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage \n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : actualOneDayWork); //in hours\n            }\n            totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     * @param ganttData\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = ganttProperties.resourceInfo;\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var actualOneDayWork = (this.parent.secondsPerDay) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage > 0 ? totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        if (endDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n            this.setTime(this.parent.defaultEndTime, endDate);\n        }\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties), ganttProperties, true);\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (endDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n                this.setTime(this.parent.defaultEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n    };\n    /**\n     *\n     * @param parentWidth\n     * @param percent\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param ganttProp\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     * @param ganttProp\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        var milestone = ganttProp.isMilestone;\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     * @param ganttData\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     * @param startDate\n     * @param endDate\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierMode === 'Day') {\n            if (this.getSecondsInDecimal(sDate) === this.parent.defaultStartTime) {\n                sDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(eDate) === this.parent.defaultEndTime) {\n                eDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(eDate) === this.parent.defaultStartTime) {\n                eDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    /**\n     * Get task left value\n     * @param startDate\n     * @param isMilestone\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone) {\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierMode === 'Day') {\n            if (this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === this.parent.defaultEndTime) {\n                date.setHours(24);\n            }\n        }\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        if (timelineStartDate) {\n            return (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param ganttData\n     * @param fieldName\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            var resourcesId = [];\n            var resourcesName = [];\n            for (var i = 0; i < resourceData.length; i++) {\n                resourcesId.push(resourceData[i][resourceSettings.id]);\n                var resName = resourceData[i][resourceSettings.name];\n                var resourceUnit = resourceData[i][resourceSettings.unit];\n                if (resourceUnit !== 100) {\n                    resName += '[' + resourceUnit + '%' + ']';\n                }\n                resourcesName.push(resName);\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], resourcesId, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], this.getWorkString(ganttProp.work, ganttProp.workUnit), ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'taskType') {\n            this.parent.setRecordValue('taskData.' + 'taskType', ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue('taskType', ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        if (!isNullOrUndefined(value)) {\n            value = new Date(value.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(value.getTime());\n        }\n        this.parent.setRecordValue('taskData.' + mapping, value, task);\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, this.getDurationInDay(duration, durationUnit), task);\n            this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param ganttData\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                this.setRecordDuration(ganttData, dataMapping.duration);\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, ganttProperties.parentId, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                this.parent.setRecordValue('taskData.' + dataMapping.work, this.getWorkString(ganttProperties.work, ganttProperties.workUnit), ganttData);\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        var resourceData = this.parent.resources;\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        var _loop_2 = function (count) {\n            var resource = resourceData.filter(function (resourceInfo) {\n                if (typeof (resourceIdCollection[count]) === 'object' &&\n                    resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                    return true;\n                }\n                else {\n                    return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                }\n            });\n            var ganttDataResource = extend({}, resource[0]);\n            resources.push(ganttDataResource);\n            if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n            }\n            if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n            }\n        };\n        for (var count = 0; count < resourceIdCollection.length; count++) {\n            _loop_2(count);\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        if (resourceInfo) {\n            var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n            for (var i = 0; i < resourceInfo.length; i++) {\n                var resource = resourceInfo[i];\n                var resName = resource[this.parent.resourceFields.name];\n                var resourceUnit = resource[this.parent.resourceFields.unit];\n                if (resourceUnit !== 100) {\n                    resName += '[' + resourceUnit + '%' + ']';\n                }\n                resourceName.push(resName);\n                if (data.taskData) {\n                    var mapping = this.parent.taskFields.resourceInfo;\n                    if (typeof (taskResources[i] === 'object')) {\n                        data.taskData[mapping].push(taskResources[i]);\n                    }\n                    else {\n                        data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     * @param duration\n     * @param ganttProperties\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            if (!data.hasChildRecords) {\n                this.updateWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            var childData = [];\n            var parentItem = void 0;\n            if (data.parentItem) {\n                parentItem = this.parent.getParentTask(data.parentItem);\n                childData = parentItem.childRecords;\n            }\n            if (parentItem && childData.indexOf(data) === childData.length - 1 && !data.hasChildRecords) {\n                this.updateParentItems(parentItem);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     * @param data\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * method to update left, width, progress width in record\n     * @param data\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (this.parent.secondsPerDay / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (this.parent.secondsPerDay / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        var deleteUpdate = false;\n        var ganttProp = parentData.ganttProperties;\n        if (parentData.childRecords.length > 0) {\n            var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n            var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                ganttProp.autoEndDate;\n            var childRecords = parentData.childRecords;\n            var childLength = childRecords.length;\n            var totalDuration = 0;\n            var progressValues = {};\n            var minStartDate = null;\n            var maxEndDate = null;\n            var milestoneCount = 0;\n            var totalProgress = 0;\n            var childCompletedWorks = 0;\n            for (var count = 0; count < childLength; count++) {\n                var childData = childRecords[count];\n                if (this.parent.isOnDelete && childData.isDelete) {\n                    if (childLength === 1 && this.parent.viewType === 'ProjectView') {\n                        if (isBlazor()) {\n                            var id = parentData.ganttProperties.rowUniqueID;\n                            var task = this.parent.getRecordByID(id);\n                            if (task && this.parent.editedRecords.indexOf(task) === -1) {\n                                this.parent.editedRecords.push(task);\n                            }\n                        }\n                        deleteUpdate = true;\n                    }\n                    continue;\n                }\n                var startDate = this.getValidStartDate(childData.ganttProperties);\n                var endDate = this.getValidEndDate(childData.ganttProperties);\n                if (isNullOrUndefined(minStartDate)) {\n                    minStartDate = this.getDateFromFormat(startDate);\n                }\n                if (isNullOrUndefined(maxEndDate)) {\n                    maxEndDate = this.getDateFromFormat(endDate);\n                }\n                if (!isNullOrUndefined(endDate) && this.compareDates(endDate, maxEndDate) === 1) {\n                    maxEndDate = this.getDateFromFormat(endDate);\n                }\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = this.getDateFromFormat(startDate);\n                }\n                if (!childData.ganttProperties.isMilestone && isScheduledTask(childData.ganttProperties)) {\n                    progressValues = this.getParentProgress(childData);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milestoneCount++;\n                }\n                childCompletedWorks += childData.ganttProperties.work;\n            }\n            if (!deleteUpdate) {\n                if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                    this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                }\n                if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                    this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                }\n                var taskCount = void 0;\n                if (this.parent.isOnDelete) {\n                    taskCount = childLength - milestoneCount - 1;\n                }\n                else {\n                    taskCount = childLength - milestoneCount;\n                }\n                var parentProgress = (taskCount > 0 && totalDuration > 0) ? (totalProgress / totalDuration) : 0;\n                var parentProp = parentData.ganttProperties;\n                var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                    minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this.calculateDuration(parentData);\n                }\n                this.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                parentWork += childCompletedWorks;\n                this.parent.setRecordValue('work', parentWork, parentProp, true);\n                this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                this.updateMappingData(parentData, 'taskType');\n                this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                    this.updateAutoWidthLeft(parentData);\n                }\n                this.resetDependency(parentData);\n                this.updateWidthLeft(parentData);\n                this.updateTaskData(parentData);\n            }\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = this.parent.getParentTask(parentData.parentItem);\n        if (parentItem) {\n            this.updateParentItems(parentItem);\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var milestoneTop = 'e-milestone-top';\nexport var milestoneBottom = 'e-milestone-bottom';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var baselineMilestoneTop = 'e-baseline-milestone-top';\nexport var baselineMilestoneBottom = 'e-baseline-milestone-bottom';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var parentMilestoneTop = 'e-parent-milestone-top';\nexport var parentMilestoneBottom = 'e-parent-milestone-bottom';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualParentMilestoneTop = 'e-manualparent-milestone-top';\nexport var manualParentMilestoneBottom = 'e-manualparent-milestone-bottom';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var addIcon = 'e-add';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n","import { formatUnit, EventHandler, getValue } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n    };\n    /**\n     * Unbind events\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n    };\n    /**\n     *\n     * @param args\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Scroll event handler\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n        }\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     * @param height - To set height for scroll container in chart side\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     * @param width - To set width to scroll container\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     * @param scrollTop - To set scroll top for scroll container\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     * @param scrollLeft  - To set scroll left for scroll container\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft) {\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        this.previousScroll.left = this.element.scrollLeft;\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement, formatUnit, EventHandler, Browser, isBlazor, getElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        this.parent.chartRowsModule.renderChartRows();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        this.updateWidthAndHeight();\n        this.parent.notify('selectRowByIndex', {});\n    };\n    /**\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow: hidden;' });\n        this.scrollElement.appendChild(this.chartBodyContent);\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        this.chartBodyContent.style.height = formatUnit(this.parent.contentHeight);\n        //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        this.chartBodyContent.style.width = formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    /**\n     * Method to update bottom border for chart rows\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    this.chartBodyContent.style.height = formatUnit(this.parent.contentHeight + 1);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        if (e.which !== 3) {\n            this.parent.notify('chartMouseDown', e);\n            this.parent.element.tabIndex = 0;\n        }\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        this.parent.notify('chartMouseUp', e);\n    };\n    /**\n     *\n     * @param e\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = this.parent.dataOperation.getTaskLeft(dateObject, false);\n                if (this.parent.autoFocusTasks) {\n                    this.updateScrollLeft(left);\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft - 50 > 0 ? scrollLeft - 50 : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     * @return {void}\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar')) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     * @return {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     * @return {void}\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        this.parent.notify('chartMouseLeave', e);\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     * @return {void}\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        this.parent.notify('chartMouseMove', e);\n        if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n            this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     * @return {void}\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     * @param e\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        this.parent.notify('chartDblClick', e);\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     * @return {void}\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        var ganttData;\n        if (row) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            ganttData = this.parent.currentViewData[rowIndex];\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     * @return {NodeListOf<Element>}\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     * @return {void}\n     * @param target\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(expandedRecords);\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n    };\n    /**\n     * To collapse gantt rows\n     * @return {void}\n     * @param args\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.collapsedGanttRow(args);\n        }\n        else {\n            this.parent.trigger('collapsing', args, function (args) {\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', args)) {\n                    if (isBlazor()) {\n                        setValue('chartRow', getElement(getValue('chartRow', args)), args);\n                        setValue('gridRow', getElement(getValue('gridRow', args)), args);\n                    }\n                    _this.collapsedGanttRow(args);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @return {void}\n     * @param args\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var record = getValue('data', args);\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        this.parent.updateContentHeight();\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n        this.parent.trigger('collapsed', args);\n    };\n    /**\n     * To expand gantt rows\n     * @return {void}\n     * @param args\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.expandedGanttRow(args);\n        }\n        else {\n            this.parent.trigger('expanding', args, function (args) {\n                if (isBlazor()) {\n                    setValue('chartRow', getElement(getValue('chartRow', args)), args);\n                    setValue('gridRow', getElement(getValue('gridRow', args)), args);\n                }\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', args)) {\n                    _this.expandedGanttRow(args);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @return {void}\n     * @param args\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var record = getValue('data', args);\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n        }\n        this.parent.updateContentHeight();\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n        this.parent.trigger('expanded', args);\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     * @return {void}\n     * @param action\n     * @param rowElement\n     * @param record\n     * @param isChild\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        var childRecords = record.childRecords;\n        var chartRows = this.getChartRows();\n        var rows = [];\n        for (var i = 0; i < chartRows.length; i++) {\n            if (chartRows[i].classList.contains('gridrowtaskId'\n                + record.ganttProperties.rowUniqueID + 'level' + (record.level + 1))) {\n                rows.push(chartRows[i]);\n            }\n        }\n        for (var i = 0; i < rows.length; i++) {\n            rows[i].style.display = displayType;\n            if ((childRecords[i].childRecords && childRecords[i].childRecords.length)\n                && (action === 'collapse' || childRecords[i].expanded || this.isExpandAll)) {\n                this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     * @return {void}\n     * @param action\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.parent.treeGrid.collapseAll();\n        }\n        this.isExpandAll = false;\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * Public method to expand particular level of rows.\n     * @return {void}\n     * @param level\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     * @return {void}\n     * @param level\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer;\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n            EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n            EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n            if (this.parent.isAdaptive) {\n                EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n                EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(document, mouseUp, this.documentMouseUp, this);\n        }\n        EventHandler.add(document.body, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer;\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            if (this.parent.isAdaptive) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.remove(document, mouseUp, this.documentMouseUp);\n        }\n        EventHandler.remove(document.body, 'mousemove', this.mouseMoveHandler);\n        EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n    };\n    /**\n     * To get record by taskbar element.\n     * @return {IGanttData}\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        return item;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     * @param e\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        var isInEditedState = this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab);\n        if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell')) {\n            e.preventDefault();\n        }\n        if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell'))) {\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        if (!isInEditedState) {\n            if (nextElement) {\n                if ($target.classList.contains('e-rowcell')) {\n                    this.manageFocus($target, 'remove', false);\n                }\n                else {\n                    this.manageFocus($target, 'remove', true);\n                }\n                if (nextElement.classList.contains('e-rowcell')) {\n                    if (!$target.classList.contains('e-rowcell')) {\n                        this.parent.treeGrid.grid.notify('key-pressed', e);\n                        var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                        fmodule.currentInfo.element = nextElement;\n                        fmodule.currentInfo.elementToFocus = nextElement;\n                        /* tslint:disable-next-line:no-any */\n                        fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                    }\n                    this.manageFocus(nextElement, 'add', false);\n                }\n                else {\n                    this.manageFocus(nextElement, 'add', true);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     * @param $target\n     * @param isTab\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab) {\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            if ($target.classList.contains('e-rowcell')) {\n                /* tslint:disable-next-line:no-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell')) {\n                /* tslint:disable-next-line:no-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                    return rowElement ? (rowElement.children[0]) : null;\n                }\n                else {\n                    rowElement = this.parent.treeGrid.grid.getRowByIndex(rowIndex);\n                    return rowElement ? (rowElement.children[this.parent.ganttColumns.length - 1]) : null;\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     * @param rowIndex\n     * @param isTab\n     * @param isChartRow\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.grid.getRowByIndex(nextRowIndex) : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     * @param $target\n     * @param className\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Add/Remove active element.\n     * @param element\n     * @param focus\n     * @param isChartElement\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')) {\n                /* tslint:disable-next-line:no-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? 'e-gantt-parent-taskbar' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement)) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     * @return {number}\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row = closest(target, 'tr.' + cls.chartRow);\n        var recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.scrollObject.destroy();\n        this.scrollObject = null;\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, addClass, removeClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n    };\n    /**\n     * To render timeline header series.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     * @param isZoomIn\n     * @private\n     * @return {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        this.isZoomToFit = false;\n        if (!isNullOrUndefined(this.parent.zoomingProjectStartDate)) {\n            this.parent.cloneProjectStartDate = this.parent.cloneProjectStartDate.getTime() < this.parent.zoomingProjectStartDate.getTime()\n                ? this.parent.cloneProjectStartDate : this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.cloneProjectEndDate.getTime() > this.parent.zoomingProjectEndDate.getTime()\n                ? this.parent.cloneProjectEndDate : this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = null;\n        this.parent.zoomingProjectEndDate = null;\n        var currentLevel;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        currentLevel = isZoomIn ? currentZoomingLevel + 1 : currentZoomingLevel - 1;\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline\n        };\n        this.parent.trigger('actionBegin', args);\n        newTimeline = args.timeline;\n        this.changeTimelineSettings(newTimeline);\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n            };\n            this.parent.trigger('actionComplete', args);\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (a.perDayWidth < b.perDayWidth) ? 1 : -1;\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = __assign({}, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - 25)) / numberOfCells;\n        this.changeTimelineSettings(newTimeline);\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        this.parent.trigger('actionBegin', args);\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode) {\n        var width = tierMode === 'Month' || tierMode === 'Year' ? 60 : 20;\n        var roundOffTime = (width / perDayWidth) * (24 * 60 * 60 * 1000);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n        if (tierMode === 'Hour') {\n            date.setMinutes(isStartDate ? -120 : 120);\n        }\n        else if (tierMode === 'Minutes') {\n            date.setSeconds(isStartDate ? -120 : 120);\n        }\n        else {\n            date.setHours(isStartDate ? -48 : 48, 0, 0, 0);\n        }\n    };\n    ;\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var numberOfDays = Math.abs((this.parent.cloneProjectEndDate.getTime() -\n            this.parent.cloneProjectStartDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        this.checkCurrentZoomingLevel();\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                return tempLevel.bottomTier.unit === closestUnit_1;\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            return (a.bottomTier.count < b.bottomTier.count) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue.bottomTier.count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue.bottomTier.count && count > secondValue.bottomTier.count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            addClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        else {\n            removeClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    /**\n     * To create timeline header template.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.updateTimelineHeaderHeight();\n        for (var count = 0; count < loopCount; count++) {\n            var tierCollection = [];\n            table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n            thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n            tr = createElement('tr', { innerHTML: this.createTimelineTemplate(tier) });\n            td = createElement('th');\n            div = createElement('div', { styles: 'width: 20px' });\n            td.appendChild(div);\n            tr.appendChild(td);\n            thead.appendChild(tr);\n            table.appendChild(thead);\n            this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n            tier = 'bottomTier';\n            tr = null;\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     * @return {number}\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     * @return {number}\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     * @return {string}\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     * @return {object}\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     * @return {string}\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        switch (dayFormat) {\n            case '':\n                dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n                dateString = dateString.slice(0, 1);\n                break;\n            default:\n                dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     * @return {string}\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     * @return {string}\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var parent = this.parent;\n        var parentTh = '';\n        var parentTr = '';\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit : parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var startDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            increment = this.getIncrement(startDate, count, mode);\n            newTime = startDate.getTime() + increment;\n            startDate.setTime(newTime);\n            if (startDate >= endDate) {\n                /* tslint:disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh = parentTh + parentTr;\n            parentTr = '';\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            tierCollection.push(timelineCell);\n        } while (!(startDate >= endDate));\n        return parentTh;\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param startDate\n     * @param count\n     * @param mode\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = ((lastDay.getTime() - firstDay.getTime())) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = ((lastDay.getTime() - firstDay.getTime()));\n                break;\n            case 'Week':\n                var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                    (6 - startDate.getDay()) + dayIndex;\n                count = dayIntervel > 0 ? count - 1 : 0;\n                lastDay.setHours(24, 0, 0, 0);\n                dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                    dayIntervel - 1 : dayIntervel : dayIntervel;\n                lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                increment = ((lastDay.getTime() - firstDay.getTime()));\n                break;\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                increment = ((lastDay.getTime() - firstDay.getTime())) + (1000 * 60 * 60 * 24 * (count - 1));\n                break;\n            case 'Hour':\n                lastDay.setMinutes(60);\n                lastDay.setSeconds(0);\n                increment = ((lastDay.getTime() - firstDay.getTime())) + (1000 * 60 * 60 * (count - 1));\n                break;\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = ((lastDay.getTime() - firstDay.getTime())) + (1000 * 60 * (count - 1));\n                break;\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     * @param mode\n     * @param tier\n     * @param day\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return mode === 'Day' && this.customTimelineSettings[tier].count === 1 &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    /**\n     * To construct template string.\n     * @return {string}\n     * @private\n     */\n    /* tslint:disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell) {\n        var parentTr = '';\n        var td = '';\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var cellWidth;\n        var isWeekendCell;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.dateFormat }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = (this.getIncrement(scheduleWeeks, count, mode) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        cellWidth = thWidth;\n        thWidth = isLast ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate)\n            : thWidth;\n        isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        td += this.parent.timelineModule.isSingleTier ?\n            '<th class=\"' + cls.timelineSingleHeaderCell + ' ' : '<th class=\"' + cls.timelineTopHeaderCell;\n        td += isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        td += '\" tabindex=\"-1\" aria-label= \"' + this.parent.localeObj.getConstant('timelineCell') + ' ' + date;\n        td += '\" style=\"width:' + thWidth + 'px;';\n        td += isWeekendCell && this.customTimelineSettings.weekendBackground ?\n            'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '';\n        td += '\"><div class=\"' + cls.timelineHeaderCellLabel + textClassName + '\" style=\"width:' +\n            (thWidth - 1) + 'px;' + (this.parent.timelineSettings.showTooltip ? '\"title=\"' + date : '');\n        td += '\">' + value + '</div>';\n        parentTr += td;\n        parentTr += '</th>';\n        td = '';\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = cellWidth;\n        return parentTr;\n    };\n    /**\n     * To calculate last 'th' width.\n     * @return {number}\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var balanceDay = ((endDate.getTime() - scheduleWeeks.getTime()) / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        switch (this.bottomTier) {\n            case 'None':\n                this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n                break;\n            default:\n                this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n                break;\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     * @return {number}\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        var filteredStartDateRecord = tempArray.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n        var filteredEndDateRecord = tempArray.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n        var minStartDate = filteredStartDateRecord.length > 0 ?\n            new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n        var maxEndDate = filteredEndDateRecord.length > 0 ?\n            new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n        var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n        var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n        var maxStartLeft = isNullOrUndefined(minStartDate) ?\n            null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n        var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n            null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n        var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n        var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n        var isChanged;\n        if (!isNullOrUndefined(maxStartLeft) && (maxStartLeft <= this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n            isChanged = 'prevTimeSpan';\n            minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n        }\n        else {\n            minStartDate = this.timelineStartDate;\n        }\n        if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= (this.totalTimelineWidth - this.bottomTierCellWidth) ||\n            maxEndLeft >= validEndLeft)) {\n            isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n            maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n        }\n        else {\n            maxEndDate = this.timelineEndDate;\n        }\n        if (isChanged) {\n            this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.timelineModule.totalTimelineWidth);\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     * @return {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject } from '@syncfusion/ej2-base';\nimport { setValue, isBlazor, getElement } from '@syncfusion/ej2-base';\nimport { Deferred, Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\n/**\n * TreeGrid related code goes here\n */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.treeGridColumns = [];\n        this.validateGanttColumns();\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid',\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        this.parent.treeGrid.appendTo(this.treeGridElement);\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.childMapping = this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.dataSource = this.parent.flatData;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight - 46;\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        if (scrollWidth !== 0) {\n            content.style.cssText += 'width: calc(100% + ' + scrollWidth + 'px);';\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        var _this = this;\n        // Collapsing event\n        var callBackPromise = new Deferred();\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            var collapsingArgs = this.createExpandCollapseArgs(args);\n            if (isBlazor()) {\n                this.parent.trigger('collapsing', collapsingArgs, function (args) {\n                    callBackPromise.resolve(args);\n                    setValue('chartRow', getElement(getValue('chartRow', args)), args);\n                    setValue('gridRow', getElement(getValue('gridRow', args)), args);\n                    if (!getValue('cancel', args)) {\n                        _this.parent.ganttChartModule.collapseGanttRow(args, true);\n                    }\n                });\n                return callBackPromise;\n            }\n            else {\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n            }\n            setValue('cancel', getValue('cancel', collapsingArgs), args);\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        var _this = this;\n        // Expanding event\n        var callBackPromise = new Deferred();\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            var expandingArgs = this.createExpandCollapseArgs(args);\n            if (isBlazor()) {\n                this.parent.trigger('expanding', expandingArgs, function (args) {\n                    callBackPromise.resolve(args);\n                    setValue('chartRow', getElement(getValue('chartRow', args)), args);\n                    setValue('gridRow', getElement(getValue('gridRow', args)), args);\n                    if (!getValue('cancel', args)) {\n                        _this.parent.ganttChartModule.expandGanttRow(args, true);\n                    }\n                });\n                return callBackPromise;\n            }\n            else {\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n            }\n            setValue('cancel', getValue('cancel', expandingArgs), args);\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        this.updateExpandStatus(args);\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            var collapsedArgs = this.createExpandCollapseArgs(args);\n            this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n        }\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        this.updateExpandStatus(args);\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            var expandedArgs = this.createExpandCollapseArgs(args);\n            this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n        }\n    };\n    GanttTreeGrid.prototype.updateExpandStatus = function (args) {\n        if (getValue('data', args) && isBlazor()) {\n            var record = this.parent.getTaskByUniqueID(getValue('data', args).uniqueID);\n            record.expanded = getValue('data', args).expanded;\n        }\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        this.parent.notify('actionBegin', args);\n        this.parent.trigger('actionBegin', args);\n    };\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args) {\n        var record = getValue('data', args);\n        var gridRow = getValue('row', args);\n        var chartRow;\n        if (isBlazor()) {\n            /* tslint:disable-next-line */\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(this.parent.getTaskByUniqueID(record.uniqueID))];\n        }\n        else {\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(record)];\n        }\n        var eventArgs = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        return eventArgs;\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var updatedArgs = extend({}, args, true);\n        if (getValue('requestType', args) === 'sorting') {\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            this.parent.notify('updateModel', {});\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterafteropen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(getValue('batchChanges', args)) && !isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (isBlazor()) {\n            this.parent.updateDataArgs(updatedArgs);\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual'];\n        var _loop_1 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    if (column.field === 'taskType' && !isNullOrUndefined(tasks.work)) {\n                        return column.field;\n                    }\n                    else {\n                        return column.field === tasks[name];\n                    }\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_1.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_1.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_1.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                if (column.field === 'taskType') {\n                    this_1.createTreeGridColumn(column, true);\n                    this_1.parent.columnMapping[column.field] = column.field;\n                }\n                else {\n                    var index = tasksMapping.indexOf(columnName[0]);\n                    tasksMapping.splice(index, 1);\n                    this_1.createTreeGridColumn(column, true);\n                    this_1.parent.columnMapping[columnName[0]] = column.field;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_1(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n                if (column.field === tasks.work) {\n                    var column_1 = {};\n                    column_1.field = 'taskType';\n                    this.createTreeGridColumn(column_1, length === 0);\n                    this.parent.columnMapping[column_1.field] = column_1.field;\n                }\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param column\n     * @param isDefined\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var taskSettings = this.parent.taskFields;\n        column.disableHtmlEncode = column.disableHtmlEncode ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            column.editType = column.editType ? column.editType :\n                this.parent.dateFormat.toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.dateFormat };\n            column.width = column.width ? column.width : 150;\n            column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n        }\n        else if (taskSettings.endDate === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.dateFormat };\n            column.editType = column.editType ? column.editType :\n                this.parent.dateFormat.toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (isBlazor() && !column.template) {\n                this.parent.setProperties({ 'showInlineNotes': true }, true);\n            }\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    column.template = '<div class=\"e-ganttnotes-info\">' +\n                        '<span class=\"e-icons e-notes-info\"></span></div>';\n                }\n            }\n            else {\n                column.disableHtmlEncode = true;\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field) {\n            column.width = column.width ? column.width : 150;\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('baselineStartDate');\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.dateFormat };\n            column.editType = column.editType ? column.editType :\n                this.parent.dateFormat.toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.baselineEndDate === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('baselineEndDate');\n            column.width = column.width ? column.width : 150;\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.dateFormat };\n            column.editType = column.editType ? column.editType :\n                this.parent.dateFormat.toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (column.field === 'taskType') {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                },\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    /**\n     * Compose Resource columns\n     * @param column\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     *\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     * @param column\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        column.isPrimaryKey = isNullOrUndefined(column.isPrimaryKey) ? true : column.isPrimaryKey;\n        column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        column.width = column.width ? column.width : 100;\n        column.allowEditing = column.allowEditing ? column.allowEditing : false;\n        column.editType = column.editType ? column.editType : 'numericedit';\n        if (this.parent.viewType !== 'ProjectView') {\n            column.valueAccessor = this.idValueAccessor.bind(this);\n            column.isPrimaryKey = false;\n        }\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     * @param column\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     *\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    };\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        this.treeGridElement.querySelector('.e-content').scrollTop = getValue('top', args);\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines working time of day in project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get resource details from resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","import { createElement, isNullOrUndefined, extend, compile } from '@syncfusion/ej2-base';\nimport { formatUnit, updateBlazorTemplate, resetBlazorTemplate, isBlazor } from '@syncfusion/ej2-base';\nimport { isScheduledTask } from '../base/utils';\nimport * as cls from '../base/css-constants';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function () {\n    function ChartRows(ganttObj) {\n        this.taskBarHeight = 0;\n        this.milestoneHeight = 0;\n        this.milesStoneRadius = 0;\n        this.baselineTop = 0;\n        this.baselineHeight = 3;\n        this.touchLeftConnectorpoint = '';\n        this.touchRightConnectorpoint = '';\n        this.parent = ganttObj;\n        this.initPublicProp();\n        this.addEventListener();\n    }\n    /**\n     * To initialize the public property.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.refreshGanttRows();\n    };\n    /**\n     * To render chart rows.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'z-index: 2;position: absolute;width:' + this.parent.timelineModule.totalTimelineWidth + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.triggerQueryTaskbarInfo();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\"  style=\"line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            'left:' + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     * @return {number}\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false);\n        }\n        else {\n            var labelString = '';\n            if (this.taskLabelTemplateFunction) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false);\n                var tempDiv = createElement('div');\n                tempDiv.appendChild(taskLabelTemplateNode[0]);\n                labelString = tempDiv.innerHTML;\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n            }\n            var template = (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? ('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                '' : cls.manualChildTaskBar) + '\"' +\n                'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                (this.taskBarHeight) + 'px;\">' + '<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                '' : cls.manualChildProgressBar) + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;height:' + this.taskBarHeight + 'px;\">' +\n                labelString + '</span></div></div>') :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"left:' + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"left:' + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"left:' + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            childTaskbarNode = this.createDivElement(template);\n        }\n        return childTaskbarNode;\n    };\n    /**\n     * To get milestone node.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"position:absolute;\">' +\n                '<div class=\"' + cls.milestoneTop + ' ' + ((!data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                cls.unscheduledMilestoneTop : '') + '\" style=\"border-right-width:' +\n                this.milesStoneRadius + 'px;border-left-width:' + this.milesStoneRadius + 'px;border-bottom-width:' +\n                this.milesStoneRadius + 'px;\"></div>' +\n                '<div class=\"' + cls.milestoneBottom + ' ' + ((!data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                cls.unscheduledMilestoneBottom : '') + '\" style=\"top:' +\n                (this.milesStoneRadius) + 'px;border-right-width:' + this.milesStoneRadius + 'px; border-left-width:' +\n                this.milesStoneRadius + 'px; border-top-width:' + this.milesStoneRadius + 'px;\"></div></div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" style=\"margin-top:' + this.baselineTop +\n            'px;left:' + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + ' ' + '\" style=\"' +\n            'left:' + (data.ganttProperties.baselineLeft - this.milesStoneRadius) + 'px;' +\n            'margin-top:' + (-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + 2) +\n            'px\">' + '<div class=\"' + cls.baselineMilestoneDiv + '\">' + '<div class=\"' + cls.baselineMilestoneDiv +\n            ' ' + cls.baselineMilestoneTop + '\"  ' +\n            'style=\"top:' + (-this.milestoneHeight) + 'px;border-right:' + this.milesStoneRadius +\n            'px solid transparent;border-left:' + this.milesStoneRadius +\n            'px solid transparent;border-top:0px' +\n            'solid transparent;border-bottom-width:' + this.milesStoneRadius + 'px;' +\n            'border-bottom-style: solid;' + (this.baselineColor ? 'border-bottom-color: ' + this.baselineColor + ';' : '') +\n            '\"></div>' +\n            '<div class=\"' + cls.baselineMilestoneDiv + ' ' + cls.baselineMilestoneBottom + '\"  ' +\n            'style=\"top:' + (this.milesStoneRadius - this.milestoneHeight) + 'px;border-right:' + this.milesStoneRadius +\n            'px solid transparent;border-left:' + this.milesStoneRadius +\n            'px solid transparent;border-bottom:0px' +\n            'solid transparent;border-top-width:' + this.milesStoneRadius + 'px;' +\n            'border-top-style: solid;' +\n            (this.baselineColor ? 'border-top-color: ' + this.baselineColor + ';' : '') + '\"></div>' +\n            '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            leftLabelNode[0].appendChild([].slice.call(leftLabelTemplateNode)[0]);\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + this.taskBarMarginTop + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            rightLabelNode[0].appendChild([].slice.call(rightLabelTemplateNode)[0]);\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=left:' + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;>' + innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            data.ganttProperties.duration) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            '\"height:' + taskbarHeight + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' +\n            'left:' + (data.ganttProperties.width - taskbarHeight / 5) + 'px;height:' +\n            (taskbarHeight) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"position:absolute;left:' +\n            (data.ganttProperties.left - data.ganttProperties.autoLeft - (this.milestoneHeight / 2)) +\n            'px;width:' + (this.milesStoneRadius * 2) +\n            'px;\">' + '<div class=\"' + cls.manualParentMilestoneTop + '\" style=\"border-right-width:' +\n            this.milesStoneRadius + 'px;border-left-width:' + this.milesStoneRadius + 'px;border-bottom-width:' +\n            this.milesStoneRadius + 'px;\"></div>' +\n            '<div class=\"' + cls.manualParentMilestoneBottom + '\" style=\"top:' +\n            (this.milesStoneRadius) + 'px;border-right-width:' + this.milesStoneRadius + 'px; border-left-width:' +\n            this.milesStoneRadius + 'px; border-top-width:' + this.milesStoneRadius + 'px;\"></div></div>';\n        return this.createDivElement(data.ganttProperties.width === 0 ? milestoneTemplate : template);\n    };\n    /**\n     * To get parent taskbar node.\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false);\n        }\n        else {\n            var labelString = '';\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false);\n                var div = createElement('div');\n                div.appendChild(parentTaskLabelNode[0]);\n                labelString = div.innerHTML;\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n            }\n            var tHeight = this.taskBarHeight / 5;\n            var template = '<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? '' :\n                (tHeight * 2)) + 'px;\">' +\n                '<div class=\"' + cls.parentProgressBarInnerDiv + ' ' + this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"><span class=\"' +\n                cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;height:' + this.taskBarHeight + 'px;\">' +\n                labelString + '</span></div></div>';\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"position:absolute;\">' +\n                '<div class=\"' + cls.parentMilestoneTop + '\" style=\"border-right-width:' +\n                this.milesStoneRadius + 'px;border-left-width:' + this.milesStoneRadius + 'px;border-bottom-width:' +\n                this.milesStoneRadius + 'px;\"></div>' +\n                '<div class=\"' + cls.parentMilestoneBottom + '\" style=\"top:' +\n                (this.milesStoneRadius) + 'px;border-right-width:' + this.milesStoneRadius + 'px; border-left-width:' +\n                this.milesStoneRadius + 'px; border-top-width:' + this.milesStoneRadius + 'px;\"></div></div>';\n            parentTaskbarNode = this.createDivElement(data.ganttProperties.isMilestone ?\n                data.ganttProperties.isAutoSchedule ? milestoneTemplate : '' : template);\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     * @return {NodeList}\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function () {\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\" style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        if (typeof template !== 'string') {\n            result = true;\n        }\n        else if (template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1) {\n            result = true;\n        }\n        return result;\n    };\n    /** @private */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.updateTaskbarBlazorTemplate = function (isUpdate, ganttData) {\n        var isMilestone = true;\n        var isParent = true;\n        var isChild = true;\n        if (ganttData) {\n            if (ganttData.ganttProperties.isMilestone) {\n                isParent = isChild = false;\n            }\n            else if (ganttData.hasChildRecords) {\n                isMilestone = isChild = false;\n            }\n            else if (!ganttData.hasChildRecords) {\n                isParent = isMilestone = false;\n            }\n        }\n        if (this.parentTaskbarTemplateFunction && isParent) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('ParentTaskbarTemplate'), 'ParentTaskbarTemplate', this.parent, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('ParentTaskbarTemplate'), 'ParentTaskbarTemplate');\n            }\n        }\n        if (this.childTaskbarTemplateFunction && isChild) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('TaskbarTemplate'), 'TaskbarTemplate', this.parent, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('TaskbarTemplate'), 'TaskbarTemplate');\n            }\n        }\n        if (this.milestoneTemplateFunction && isMilestone) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('MilestoneTemplate'), 'MilestoneTemplate', this.parent, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('MilestoneTemplate'), 'MilestoneTemplate');\n            }\n        }\n        if (this.leftTaskLabelTemplateFunction) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('LeftLabelTemplate'), 'LeftLabelTemplate', this.parent.labelSettings, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('LeftLabelTemplate'), 'LeftLabelTemplate');\n            }\n        }\n        if (this.rightTaskLabelTemplateFunction) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('RightLabelTemplate'), 'RightLabelTemplate', this.parent.labelSettings, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('RightLabelTemplate'), 'RightLabelTemplate');\n            }\n        }\n        if (this.taskLabelTemplateFunction && (isParent || isChild)) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('TaskLabelTemplate'), 'TaskLabelTemplate', this.parent.labelSettings, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('TaskLabelTemplate'), 'TaskLabelTemplate');\n            }\n        }\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" style=\"height:' +\n            (this.parent.rowHeight - 1) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + '\" ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') +\n            ' tabindex=\"-1\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;left:' + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;') : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;left:' + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (data.ganttProperties.isAutoSchedule ? 'move;' : 'auto;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" style=\"left:' + this.getRightLabelLeft(this.templateData) + 'px;height:'\n            + (this.parent.rowHeight - 1) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = -(this.parent.isAdaptive ? 12 : 2);\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"left:' + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = this.parent.isAdaptive ? -2 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"left:' + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"left:' + (this.templateData.ganttProperties.progressWidth - 6) + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var pointerLeft = -((this.parent.isAdaptive ? 14 : 2) + this.connectorPointWidth);\n        var mileStoneLeft = -(this.connectorPointWidth + 2);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : ('margin-top:' + this.connectorPointMargin + 'px;left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + cls.connectorPointLeft + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var pointerRight = this.parent.isAdaptive ? 10 : -2;\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + (this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;margin-top:' +\n                this.connectorPointMargin + 'px;')) + '\">' +\n            '<div class=\"' + cls.connectorPointRight + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     * @return {string}\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_1 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_1 > 0) {\n                for (var i = 0; i < length_1; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * 0.62) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * 0.82); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / 2);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 1);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 8;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 2));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        this.triggerQueryTaskbarInfo();\n    };\n    /**\n     * To render taskbars.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        this.updateTaskbarBlazorTemplate(false);\n        this.ganttChartTableBody.innerHTML = '';\n        for (var i = 0; i < this.parent.currentViewData.length; i++) {\n            var tempTemplateData = this.parent.currentViewData[i];\n            this.ganttChartTableBody.appendChild(this.getGanttChartRow(i, tempTemplateData));\n        }\n        this.updateTaskbarBlazorTemplate(true);\n    };\n    /**\n     * To render taskbars.\n     * @return {Node}\n     * @private\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var taskBaselineTemplateNode = null;\n        var parentTrNode = this.getTableTrNode();\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        if (!this.templateData.hasChildRecords) {\n            var connectorLineLeftNode = this.getLeftPointNode();\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = this.getParentTaskbarNode(i);\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n            }\n            if (parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                taskbarContainerNode[0].appendChild([].slice.call(parentTaskbarTemplateNode)[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                taskBaselineTemplateNode = this.getTaskBaselineNode();\n            }\n        }\n        else if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                taskbarContainerNode[0].appendChild([].slice.call(milestoneTemplateNode)[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                taskBaselineTemplateNode = this.getMilestoneBaselineNode();\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties);\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarTemplateNode)[0]);\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                taskBaselineTemplateNode = this.getTaskBaselineNode();\n            }\n        }\n        if (!this.templateData.hasChildRecords) {\n            var connectorLineRightNode = this.getRightPointNode();\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n        parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n        if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n            var taskIndicatorNode = void 0;\n            var taskIndicatorTextFunction = void 0;\n            var taskIndicatorTextNode = void 0;\n            var indicators = this.templateData.ganttProperties.indicators;\n            for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n                taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n                if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                    taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                    taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n                }\n                else {\n                    var text = createElement('Text');\n                    text.innerHTML = indicators[indicatorIndex].name;\n                    taskIndicatorTextNode = text.childNodes;\n                }\n                taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n                taskIndicatorNode[0].title =\n                    !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n            }\n        }\n        if (rightLabelNode && rightLabelNode.length > 0) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n        }\n        if (!isNullOrUndefined(taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskBaselineTemplateNode)[0]);\n        }\n        return parentTrNode[0].childNodes[0];\n    };\n    /**\n     * To trigger query taskbar info event.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        var length = this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var taskbarElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.ganttChartTableBody.querySelectorAll('tr')[index];\n            taskbarElement = trElement.querySelector('.' + cls.taskBarMainContainer);\n            data = this.parent.currentViewData[index];\n            this.triggerQueryTaskbarInfoByIndex(trElement, data);\n        }\n    };\n    /**\n     *\n     * @param trElement\n     * @param data\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        var _this = this;\n        var taskbarElement;\n        taskbarElement = trElement.querySelector('.' + cls.taskBarMainContainer);\n        var rowElement;\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: trElement.querySelector('.' + cls.taskBarMainContainer),\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderBottomColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).borderBottomColor : null;\n        }\n        else {\n            args.taskbarBgColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.taskbarBorderColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderColor : null;\n            args.progressBarBgColor = taskbarElement.querySelector(classCollections[1]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor : null;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n            (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n            getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n        args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n            (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n            getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        if (isBlazor()) {\n            rowElement = args.rowElement;\n            triggerTaskbarElement = args.taskbarElement;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     * To update query taskbar info args.\n     * @return {void}\n     * @private\n     */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = isBlazor() && rowElement ? rowElement : args.rowElement;\n        var taskbarElement = isBlazor() && taskBarElement ? taskBarElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderBottomColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.borderBottomColor = args.milestoneColor;\n                taskbarElement.querySelector('.' + cls.milestoneBottom).style.borderTopColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).borderTopColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.borderBottomColor = args.baselineColor;\n                trElement.querySelector('.' + cls.baselineMilestoneBottom).style.borderTopColor = args.baselineColor;\n            }\n        }\n        else {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.borderColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n            (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n            getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n            (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n        }\n        if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n            (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n            getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n            (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.milestoneTop));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneTop));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     * @return {Function}\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    /**\n     * To refresh edited TR\n     * @param index\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index) {\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem = this.parent.currentViewData[index];\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n            this.triggerQueryTaskbarInfoByIndex(tr, data);\n            /* tslint:disable-next-line */\n            var dataId = this.parent.viewType === 'ProjectView' ? parseInt(data.ganttProperties.rowUniqueID) : data.ganttProperties.rowUniqueID;\n            this.parent.treeGrid.grid.setRowData(dataId, data);\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            row.data = data;\n        }\n    };\n    /**\n     * To refresh all edited records\n     * @param items\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items) {\n        if (this.parent.isGanttChartRendered) {\n            this.updateTaskbarBlazorTemplate(false);\n            for (var i = 0; i < items.length; i++) {\n                var index = this.parent.currentViewData.indexOf(items[i]);\n                this.refreshRow(index);\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n            this.updateTaskbarBlazorTemplate(true);\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}());\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if (!ganttData.hasChildRecords) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param ganttData\n     * @param ganttProp\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem);\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    record[task.startDate] = this.parent.projectStartDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param ganttData Method to check parent dependency in predecessor\n     * @param fromId\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     * @param predecessorValue\n     * @param ganttRecord\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values;\n        var offsetValue;\n        var predecessorText;\n        predecessor.split(',').forEach(function (el) {\n            values = el.split('+');\n            offsetValue = '+';\n            if (el.indexOf('-') >= 0) {\n                values = el.split('-');\n                offsetValue = '-';\n            }\n            match = values[0].match(/(\\d+|[A-z]+)/g);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && _this.parent.ids.indexOf(match[0]) !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!isOwnParent) {\n                collection.push(obj);\n            }\n        });\n        return collection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     * @param data\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var durationUnitTexts = this.parent.durationUnitTexts;\n        var resultString = '';\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                if (currentValue.from !== data.ganttProperties.rowUniqueID.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? getValue('days', durationUnitTexts) : getValue('day', durationUnitTexts);\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? getValue('hours', durationUnitTexts) : getValue('hour', durationUnitTexts);\n                        }\n                        else {\n                            temp += multiple ? getValue('minutes', durationUnitTexts) : getValue('minute', durationUnitTexts);\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if (!ganttRecord.hasChildRecords) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     * @param ganttRecord\n     * @param predecessorsCollection\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection;\n        var successorGanttRecord;\n        var connectorCount;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        connectorCount = connectorsCollection.length;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.getRecordByID(connector.from);\n            if (connector.from !== ganttRecord.ganttProperties.rowUniqueID.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        var flatData = this.parent.flatData;\n        for (var count = 0; count < flatData.length; count++) {\n            if (flatData[count].ganttProperties.predecessor && flatData[count].taskData[this.parent.taskFields.dependency]) {\n                this.validatePredecessorDates(flatData[count]);\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     * @param ganttRecord\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = void 0;\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.getRecordByID(predecessor.from);\n                record = this.parent.getRecordByID(predecessor.to);\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     * @param parentGanttRecord\n     * @param childGanttRecord\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties))\n            || isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            this.dateValidateModule.calculateEndDate(childGanttRecord);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(childRecordProperty), childRecordProperty, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(childGanttRecord), childRecordProperty, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(childRecordProperty.width, childRecordProperty.progress), childRecordProperty, true);\n            if (childGanttRecord.parentItem && this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(childGanttRecord.parentItem);\n            }\n        }\n    };\n    /**\n     *\n     * @param ganttRecord\n     * @param predecessorsCollection\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            if (data.to === ganttRecord.ganttProperties.rowUniqueID.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.getRecordByID(predecessor.to);\n                tempStartDate =\n                    this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                if (maxStartDate == null) {\n                    maxStartDate = tempStartDate;\n                }\n                else if (this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     * @param ganttRecord\n     * @param parentGanttRecord\n     * @param predecessor\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param date\n     * @param predecessor\n     * @param isMilestone\n     * @param record\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record);\n        }\n        else {\n            resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param records\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        for (count = 0; count < recordLength; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param predecessorsCollection\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.getRecordByID(predecessor[to]);\n                if (this.parent.currentViewData && this.parent.currentViewData.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.currentViewData.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     * @param parentGanttRecord\n     * @param childGanttRecord\n     * @param predecessor\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj;\n        connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if (this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param childGanttRecord\n     * @param previousValue\n     * @param validationOn\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var currentTaskId_3 = childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.getRecordByID(predecessor.from);\n                record = this.parent.getRecordByID(predecessor.to);\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if ((childGanttRecord.ganttProperties.rowUniqueID.toString() === predecessor.to\n                    || childGanttRecord.ganttProperties.rowUniqueID.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                predecessor = successors[count];\n                parentGanttRecord = this.parent.getRecordByID(predecessor.from);\n                record = this.parent.getRecordByID(predecessor.to);\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    this.validatePredecessor(record, undefined, 'successor');\n                }\n            }\n        }\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     * @param record\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var validPredecessor = [];\n        var recPredecessor = record.ganttProperties.predecessor;\n        if (recPredecessor && recPredecessor.length > 0) {\n            validPredecessor = recPredecessor.filter(function (value) {\n                return value.from !== record.ganttProperties.rowUniqueID.toString();\n            });\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', { className: cls.dependencyViewContainer });\n        this.initPublicProp();\n    }\n    /**\n     * To get connector line gap.\n     * @return {number}\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     * @return {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     * @return {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var parentIndex = updatedRecords.indexOf(parentGanttData);\n        var childIndex = updatedRecords.indexOf(childGanttData);\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var count = 0;\n        var index = 0;\n        if (parentIndex === -1 || childIndex === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            connectorObj.rowHeight = this.parent.rowHeight;\n            connectorObj.type = predecessor.type;\n            connectorObj.connectorLineId = 'parent' + parentGanttRecord.rowUniqueID + 'child' + childGanttRecord.rowUniqueID;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     * @return {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLineContainer;\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.dependencyViewContainer.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.dependencyViewContainer.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.dependencyViewContainer);\n    };\n    /**\n     * To get parent position.\n     * @return {void}\n     * @private\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType1';\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType2';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType1';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (data.parentLeft < data.childLeft || ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     * @return {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n            ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n            ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n    };\n    /**\n     * To get sstype2 inner element width.\n     * @return {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     * @return {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     * @return {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    ConnectorLine.prototype.getBorderStyles = function (cssType, unit) {\n        var borderWidth = 'border-' + cssType + '-width:' + unit + 'px;';\n        var borderStyle = 'border-' + cssType + '-style:solid;';\n        var borderColor = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n        return (borderWidth + borderStyle + borderColor);\n    };\n    /**\n     * To get connector line template.\n     * @return {void}\n     * @private\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var heightValue = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var connectorContainer = '';\n        if (this.getParentPosition(data)) {\n            connectorContainer = '<div id=\"ConnectorLine' + data.connectorLineId + '\" style=\"background-color:black\">';\n            var div = '<div class=\"' + cls.connectorLineContainer +\n                '\" tabindex=\"-1\" style=\"';\n            var eLine = '<div class=\"' + cls.connectorLine + '\" style=\"' +\n                (!isNullOrUndefined(this.lineColor) ? 'outline-color:' + this.lineColor + ';' : '');\n            var rightArrow = '<div class=\"' + cls.connectorLineRightArrow + '\" style=\"' +\n                (!isNullOrUndefined(this.lineColor) ? 'outline-color:' + this.lineColor + ';' : '');\n            var leftArrow = '<div class=\"' + cls.connectorLineLeftArrow + '\" style=\"' +\n                (!isNullOrUndefined(this.lineColor) ? 'outline-color:' + this.lineColor + ';' : '');\n            var duplicateStingOne = leftArrow + (isMilestone ? 'left:0px;' : '') +\n                this.getBorderStyles('right', 10) +\n                'top:' + (-5 - this.lineStroke + (this.lineStroke - 1)) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div>';\n            var duplicateStingTwo = this.getBorderStyles('left', 10) +\n                'top:' + (-6) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div>';\n            var duplicateStingThree = this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>' + eLine +\n                'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                this.getBorderStyles('top', (heightValue - (this.lineStroke - 1))) + 'position:relative;\"></div>';\n            var duplicateStingFour = leftArrow + 'left:' +\n                (isMilestone ? (((data.childLeft + data.childWidth) - (data.parentLeft)) + 10) :\n                    (((data.childLeft + data.childWidth) - (data.parentLeft)) + 10)) + 'px;' +\n                this.getBorderStyles('right', 10);\n            var duplicateStingFive = 'top:' + (-(6 + (5 + this.lineStroke) + (this.lineStroke / 2))) + 'px;' +\n                this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n            if (this.getParentPosition(data) === 'FSType1') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' +\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType1\">';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestoneParent ? -1 : 0) + 'px;width:' + (isMilestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft - (data.parentLeft + data.parentWidth + 10))) - 10) + 'px;' +\n                    'width:0px;' + this.getBorderStyles('right', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft - (data.parentLeft + data.parentWidth + 10))) - 10) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.childLeft - (data.parentLeft + data.parentWidth + 10)) + 'px;' +\n                    this.getBorderStyles('left', 10) + 'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                div = div + 'left:' + data.parentLeft + 'px;top:' + ((data.parentIndex * data.rowHeight) +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType2\">';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestoneParent ? data.parentWidth - 1 : data.parentWidth) + 'px;width:' +\n                    (isMilestoneParent ? 11 : 10) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth + 10 - this.lineStroke) + 'px;' +\n                    this.getBorderStyles('left', this.lineStroke) + 'width:0px;' +\n                    this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft + data.parentWidth) - data.childLeft) + 20)) + 'px;' +\n                    'width:' + (((data.parentLeft + data.parentWidth) - data.childLeft) + 30) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft +\n                    data.parentWidth) - data.childLeft) + 20)) + 'px;width:0px;' +\n                    this.getBorderStyles('top', (this.getconnectorLineGap(data) - this.lineStroke)) +\n                    this.getBorderStyles('left', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft +\n                    data.parentWidth) - data.childLeft) + 20)) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft + data.parentWidth) - data.childLeft) + 10)) + 'px;' +\n                    this.getBorderStyles('left', 10) + 'border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                    'border-top-width:' + (5 + this.lineStroke) + 'px;top:' + (-6 - this.lineStroke) +\n                    'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                div = div + 'left:' + (data.childLeft - 20) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType3\">';\n                div = div + rightArrow;\n                div = div + 'left:10px;' + this.getBorderStyles('left', 10) +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' + (5 + this.lineStroke) + 'px;' +\n                    'top:' + (-6) + 'px;width:0;height:0;position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:10px;' + this.getBorderStyles('top', this.lineStroke) +\n                    'position:relative;top:' + (-(6 + (5 + this.lineStroke) + Math.round(this.lineStroke / 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + this.lineStroke + 'px;' + this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - this.lineStroke + 1)) +\n                    'position:relative;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + (((data.parentLeft + data.parentWidth) - data.childLeft) + 30) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft + data.parentWidth) - data.childLeft) + (30 - this.lineStroke)) +\n                    'px;width:0px;' + 'height:' + (this.getconnectorLineGap(data) - this.lineStroke) + 'px;' +\n                    this.getBorderStyles('left', this.lineStroke) + 'position:relative;' +\n                    'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? 'left:' + (((data.parentLeft +\n                    data.parentWidth) - data.childLeft) + (18 - this.lineStroke)) + 'px;width:' + (12 + this.lineStroke) + 'px;' : 'left:' +\n                    (((data.parentLeft + data.parentWidth) - data.childLeft) + 20) + 'px;width:10px;') +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType4\">';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.childLeft - (data.parentLeft + data.parentWidth + 10)) + 'px;' +\n                    this.getBorderStyles('left', 10) + 'top:' + (-6) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' +\n                    (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.childLeft - (data.parentLeft + data.parentWidth) - 20) +\n                    'px;top:' + (-(6 + (5 + this.lineStroke) + Math.round(this.lineStroke / 2))) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;left:' +\n                    (data.childLeft - (data.parentLeft + data.parentWidth) - 20) + 'px;width:0px;' +\n                    this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke + 1)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? 'left:-1px;' : '') + 'top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    (isMilestoneParent ? ((data.childLeft - (data.parentLeft + data.parentWidth + 20) + 1) + this.lineStroke) :\n                        ((data.childLeft - (data.parentLeft + data.parentWidth + 20)) + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                div = div + 'left:' + (data.parentLeft - 10) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType4\">';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.childLeft - data.parentLeft) + 'px;' + duplicateStingTwo;\n                div = div + eLine;\n                div = div + 'top:' + (-(6 + (5 + this.lineStroke) + (this.lineStroke / 2))) + 'px;width:' +\n                    (data.childLeft - data.parentLeft) + 'px;' + duplicateStingThree;\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                div = div + 'left:' + (data.childLeft - 20) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType3\">';\n                div = div + rightArrow;\n                div = div + 'left:10px;' + duplicateStingTwo;\n                div = div + eLine;\n                div = div + 'top:' + (-(6 + (5 + this.lineStroke) + (this.lineStroke / 2))) + 'px;width:10px;' + duplicateStingThree;\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    (data.parentLeft - data.childLeft + 21) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                div = div + 'left:' + setInnerElementLeftSSType2 + 'px;top:' +\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType2\">';\n                div = div + eLine;\n                div = div + 'width:' + (setInnerChildWidthSSType2 + 1) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + setInnerElementWidthSSType2 + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:' + setInnerElementWidthSSType2 + 'px;' +\n                    this.getBorderStyles('left', 10) + 'top:' + (-6 - this.lineStroke) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' +\n                    (5 + this.lineStroke) + 'px;width:0;' +\n                    'height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                div = div + 'left:' + (data.childLeft - 20) + 'px;top:' + ((data.parentIndex * data.rowHeight) +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType1\">';\n                div = div + eLine;\n                div = div + 'width:' + (data.parentLeft - data.childLeft + 21) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:10px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:10px;' + this.getBorderStyles('left', 10) +\n                    'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                    'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' +\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType1\">';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestoneParent ? (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) - 1) : (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)))) + 'px;' +\n                    'width:' + (isMilestoneParent ? (21 + this.lineStroke) : (20 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestoneParent ? (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) + 20) : (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) + 20)) + 'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestone ? 4 : 10) + 'px;width:' + (isMilestone ?\n                    (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + (16 + this.lineStroke)) :\n                    (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + (10 + this.lineStroke))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + leftArrow;\n                div = div + (isMilestone ? 'left:0px;' : '') + this.getBorderStyles('right', 10) +\n                    'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                    'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' +\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType2\">';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? 'left:-1px;' : '') + 'width:' +\n                    (isMilestoneParent ? (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) +\n                        (21 + this.lineStroke)) : (((data.childLeft + data.childWidth) -\n                        (data.parentLeft + data.parentWidth)) + (20 + this.lineStroke))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) + 20) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestone ? (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) + 4) :\n                    (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) + 10)) + 'px;' +\n                    'width:' + (isMilestone ? (16 + this.lineStroke) : (10 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + leftArrow;\n                div = div + 'left:' + (isMilestone ? (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth))) :\n                    (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)))) + 'px;' +\n                    this.getBorderStyles('right', 10) + 'top:' + (-6 - this.lineStroke) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' + (5 + this.lineStroke) +\n                    'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType3\">';\n                div = div + duplicateStingOne;\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:4px;width:' +\n                    (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + 16)) :\n                    ('left:10px;width:' + (((data.parentLeft + data.parentWidth) -\n                        (data.childLeft + data.childWidth)) + 10))) + 'px;top:' + (-(6 + (5 + this.lineStroke) +\n                    (this.lineStroke / 2))) + 'px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + 20) +\n                    'px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;' +\n                    'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke + 1)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? ('left:' + (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) - 1) + 'px;width:21') : ('left:' + (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth))) + 'px;width:20')) +\n                    'px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType4\">';\n                div = div + leftArrow;\n                div = div + (isMilestone ? ('left:' + ((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth))) :\n                    ('left:' + (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth))))) + 'px;' +\n                    this.getBorderStyles('right', 10) + 'top:' + (-5 - this.lineStroke + (this.lineStroke - 1)) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;' +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + 4) +\n                    'px;width:' + (16 + this.lineStroke)) : ('left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + 10) + 'px;width:' + (10 + this.lineStroke))) +\n                    'px;' + duplicateStingFive;\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + 20) + 'px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke + 1)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? ('left:-1px;width:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + (21 + this.lineStroke))) : ('width:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + (20 + this.lineStroke)))) + 'px;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                div = div + 'left:' + (data.parentLeft - 10) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;width:1px;' +\n                    'height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType4\">';\n                div = div + duplicateStingFour + 'top:' + (-5 - this.lineStroke + (this.lineStroke - 1)) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;' +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestone ? ((((data.childLeft + data.childWidth) - (data.parentLeft)) + (14 + this.lineStroke)) +\n                    'px;width:16') : ((((data.childLeft + data.childWidth) - (data.parentLeft)) + 20) + 'px;width:' +\n                    (10 + this.lineStroke))) + 'px;' + duplicateStingFive;\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) - (data.parentLeft)) + 30) + 'px;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - (this.lineStroke - 1))) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    (((data.childLeft + data.childWidth) - (data.parentLeft)) + (30 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' +\n                    this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:11px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' +\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType3\">';\n                div = div + duplicateStingOne;\n                div = div + eLine;\n                div = div + (isMilestone ? 'left:4px;width:' + (16 + this.lineStroke) : 'left:10px;width:' +\n                    (10 + this.lineStroke)) + 'px;top:' + (-(13 + ((this.lineStroke - 1) * 2) - 1)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:20px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' +\n                    this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - (this.lineStroke - 1))) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:20px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    ((data.parentLeft - (data.childLeft + data.childWidth + 20)) + this.lineStroke) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                div = div + 'left:' + (data.parentLeft - 10) + 'px;top:' +\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType1\">';\n                div = div + eLine;\n                div = div + 'width:11px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + (((data.childLeft + data.childWidth) - (data.parentLeft)) + (30 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) - (data.parentLeft)) + 30) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft)) + 15) + 'px;width:' + (15 + this.lineStroke)) : ('left:' +\n                    (((data.childLeft + data.childWidth) - (data.parentLeft)) + 20) + 'px;width:' + (10 + this.lineStroke))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + duplicateStingFour + 'top:' + (-6 - this.lineStroke) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' +\n                    (5 + this.lineStroke) + 'px;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' +\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType2\">';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft) - (data.childLeft + data.childWidth)) - 10) +\n                    'px;width:11px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft) - (data.childLeft + data.childWidth)) - 10) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:4px;width:' + (((data.parentLeft) - (data.childLeft + data.childWidth))\n                    - (14 - this.lineStroke))) : ('left:10px;width:' + (((data.parentLeft) -\n                    (data.childLeft + data.childWidth)) - (20 - this.lineStroke)))) +\n                    'px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + leftArrow;\n                div = div + 'left:0px;' + this.getBorderStyles('right', 10) +\n                    'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            connectorContainer += div;\n            connectorContainer += '</div>';\n        }\n        return connectorContainer;\n    };\n    /**\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param fromTaskName\n     * @param fromPredecessorText\n     * @param toTaskName\n     * @param toPredecessorText\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td >' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td>' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        this.parent.splitterElement.appendChild(this.parent.chartPane);\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                var leftPane = isBlazor() ? args.element.querySelectorAll('.e-pane')[0] : args.pane[0];\n                var rightPane = isBlazor() ? args.element.querySelectorAll('.e-pane')[1] : args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n            },\n            resizeStop: function (args) {\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n    };\n    /**\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter, isDynamic) {\n        if (splitter.view === 'Grid') {\n            return '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                return isDynamic ? this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px') :\n                    this.getSpliterPositionInPercentage((splitter.columnIndex * 150) + 'px');\n            }\n            else {\n                return this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     *\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                value = position.indexOf('%') === -1 ?\n                    position + '%' : position;\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var tr = this.parent.treeGrid.element.querySelectorAll('.e-headercell');\n        index = tr.length > index ? index : tr.length;\n        for (var column = 0; column < index; column++) {\n            width = width + tr[column].offsetWidth;\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize >= 4 ?\n            this.parent.splitterSettings.separatorSize : 4;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings, true);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        this.splitterObject.paneSettings[0].size = splitterPosition;\n    };\n    /**\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     * @return {void}\n     * @private\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableHtmlSanitizer = false;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    /* tslint:disable-next-line:max-func-body-length */\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n        }\n        var element = parentsUntil(args.target, cls.chartRowCell);\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer')) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? taskbarTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args);\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baseLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args);\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argsData) {\n                callBackPromise_1.resolve(argsData);\n                if (argsData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            return callBackPromise_1;\n        }\n    };\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     * @param args\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n            return;\n        }\n        var postion = this.getPointorPosition(this.tooltipMouseEvent);\n        var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n        var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n        var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n        var tooltipPositionX = postion.x;\n        var tooltipPositionY = postion.y;\n        var tooltipUpdated = false;\n        if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 20)) {\n            tooltipPositionX = tooltipPositionX - args.element.offsetWidth - 10;\n        }\n        else {\n            tooltipPositionX = tooltipPositionX + 10;\n        }\n        if (topEnd < (tooltipPositionY + args.element.offsetHeight + 20)) {\n            tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n        }\n        else {\n            tooltipUpdated = true;\n            tooltipPositionY = tooltipPositionY + 10;\n        }\n        if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n            tooltipPositionY = tooltipPositionY - args.element.offsetHeight - (tooltipUpdated ? 20 : 10);\n        }\n        args.element.style.left = tooltipPositionX + 'px';\n        args.element.style.top = tooltipPositionY + 'px';\n    };\n    /**\n     * Method to get mouse pointor position\n     * @param e\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            taskName = !isNullOrUndefined(data.taskName) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                data.taskName + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                    taskName + '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                    '<td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getFormatedDate(data.startDate, this.parent.dateFormat) + '</tr></tbody></table>';\n                break;\n            case 'taskbar':\n                var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                var startDate = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                    '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                    this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.dateFormat) +\n                    '</td></tr>' : '';\n                var endDate = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                    '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' + this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.dateFormat) + '</td></tr>' : '';\n                var duration = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                    '<td class = \"e-gantt-tooltip-value\"> ' + this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit) +\n                    '</td></tr>' : '';\n                var progress = !isNullOrUndefined(data.progress) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('progress') + '</td><td>:</td><td>' + data.progress +\n                    '</td></tr>' : '';\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                    taskName + startDate + endDate + duration + progress + '</tbody></table>';\n                break;\n            case 'baseline':\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                    taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getFormatedDate(data.baselineStartDate, this.parent.dateFormat) + '</td></tr><tr>' +\n                    '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                    '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getFormatedDate(data.baselineEndDate, this.parent.dateFormat) + '</td></tr></tbody></table>';\n                break;\n            case 'marker':\n                var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                var markerLabel = markerTooltipElement.label ? markerTooltipElement.label : '';\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                    this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.dateFormat) +\n                    '</td></tr><tr><td>' +\n                    markerLabel + '</td></tr></tbody></table>';\n                break;\n            case 'connectorLine':\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                    '<td class = \"e-gantt-tooltip-value\">' + parent.tooltipModule.predecessorTooltipData.fromName + ' (' +\n                    parent.tooltipModule.predecessorTooltipData.fromId + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                    parent.tooltipModule.predecessorTooltipData.toName +\n                    ' (' + parent.tooltipModule.predecessorTooltipData.toId + ')' +\n                    '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                    '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + parent.tooltipModule.predecessorTooltipData.linkText +\n                    '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                    '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    parent.tooltipModule.predecessorTooltipData.offsetString + '</td></tr></tbody></table>';\n                break;\n            case 'indicator':\n                if (args.target.title.length) {\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + args.target.title + '</tr></tbody></table>';\n                }\n                break;\n            case 'timeline':\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + args.target.title + '</tr></tbody></table>';\n                break;\n            case 'manualtaskbar':\n                var autoStartDate = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                    this.parent.getFormatedDate(data.autoStartDate, this.parent.dateFormat) + '</td></tr>' : '';\n                var autoEndDate = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getFormatedDate(data.autoEndDate, this.parent.dateFormat) + '</td></tr>' : '';\n                var durationValue = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                    '<td class = \"e-gantt-tooltip-value\"> ' + this.parent.getDurationString(data.duration, data.durationUnit) +\n                    '</td></tr>' : '';\n                var manualStartDate = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                    this.parent.getFormatedDate(data.startDate, this.parent.dateFormat) + '</td></tr>' : '';\n                var manualEndDate = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getFormatedDate(data.endDate, this.parent.dateFormat) + '</td></tr>' : '';\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                    taskName + manualStartDate + autoStartDate + manualEndDate + autoEndDate + durationValue + '</tbody></table>';\n                break;\n            case 'manualmilestone':\n                var autoStart = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                    this.parent.getFormatedDate(data.autoStartDate, this.parent.dateFormat) + '</td></tr>' : '';\n                var autoEnd = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                    this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getFormatedDate(data.autoEndDate, this.parent.dateFormat) + '</td></tr>' : '';\n                var date = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                    '<td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getFormatedDate(data.startDate, this.parent.dateFormat) + '</tr>';\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                    taskName + date + autoStart + autoEnd + '</tbody></table>';\n                break;\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.parentElement.id;\n        var taskIds = predeceesorParent.match(/\\d+/g);\n        var fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n        var toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        var predecessor = fromTask.ganttProperties.predecessor.filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: fromTask.ganttProperties.rowUniqueID,\n            toId: toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * @private\n     * To compile template string.\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = false;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        return _this;\n    }\n    /**\n     * To get the module name\n     * @private\n     */\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * To perform key interaction in Gantt\n     * @private\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    Gantt.prototype.onKeyPress = function (e) {\n        var expandedRecords = this.getExpandedRecords(this.currentViewData);\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll') {\n            if (!isNullOrUndefined(this.editModule) && !isNullOrUndefined(this.editModule.cellEditModule) &&\n                this.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (this.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (this.selectionModule && this.selectionSettings.type === 'Multiple') {\n                    this.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (this.selectionModule && this.selectionSettings.mode !== 'Cell') {\n                    if (this.selectedRowIndex === 0) {\n                        return;\n                    }\n                    this.selectionModule.selectRow(0);\n                }\n                break;\n            case 'end':\n                if (this.selectionModule && this.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (this.selectedRowIndex === this.currentViewData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    this.selectionModule.selectRow(this.currentViewData.indexOf(currentSelectingRecord));\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                this.upDownKeyNavigate(e);\n                break;\n            case 'expandAll':\n                this.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                this.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(this.editModule) && !isNullOrUndefined(this.editModule.cellEditModule) &&\n                    this.editModule.cellEditModule.isCellEdit === true) {\n                    if (this.editModule.dialogModule.dialogObj && getValue('dialogOpen', this.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    this.editModule.cellEditModule.isCellEdit = false;\n                    this.treeGrid.grid.saveCell();\n                    var focussedElement_1 = this.element.querySelector('.e-treegrid');\n                    focussedElement_1.focus();\n                }\n                break;\n            case 'cancelRequest':\n                if (!isNullOrUndefined(this.editModule) && !isNullOrUndefined(this.editModule.cellEditModule)) {\n                    this.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                e.preventDefault();\n                var focussedElement = this.element.querySelector('.e-gantt-chart');\n                focussedElement.focus();\n                this.addRecord();\n                break;\n            case 'addRowDialog':\n                e.preventDefault();\n                if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n                    if (this.editModule.dialogModule.dialogObj && getValue('dialogOpen', this.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    this.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                e.preventDefault();\n                var focussedTreeElement = this.element.querySelector('.e-treegrid');\n                focussedTreeElement.focus();\n                if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n                    if (this.editModule.dialogModule.dialogObj && getValue('dialogOpen', this.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    this.editModule.dialogModule.openToolbarEditDialog();\n                }\n                break;\n            case 'delete':\n                if (this.selectionModule && this.editModule && (!this.editSettings.allowTaskbarEditing\n                    || (this.editSettings.allowTaskbarEditing && !this.editModule.taskbarEditModule.touchEdit))) {\n                    if ((this.selectionSettings.mode !== 'Cell' && this.selectionModule.selectedRowIndexes.length)\n                        || (this.selectionSettings.mode === 'Cell' && this.selectionModule.getSelectedRowCellIndexes().length)) {\n                        this.editModule.startDeleteAction();\n                    }\n                }\n                break;\n            case 'focusTask':\n                e.preventDefault();\n                var selectedId = void 0;\n                if (this.selectionModule) {\n                    if (this.selectionSettings.mode !== 'Cell' &&\n                        !isNullOrUndefined(this.currentViewData[this.selectedRowIndex])) {\n                        selectedId = this.currentViewData[this.selectedRowIndex].ganttProperties.rowUniqueID;\n                    }\n                    else if (this.selectionSettings.mode === 'Cell' && this.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                        var selectCellIndex = this.selectionModule.getSelectedRowCellIndexes();\n                        selectedId = this.currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                    }\n                }\n                if (selectedId) {\n                    this.scrollToTask(selectedId.toString());\n                }\n                break;\n            case 'focusSearch':\n                if (this.element.querySelector('#' + this.element.id + '_searchbar')) {\n                    var searchElement = this.element.querySelector('#' + this.element.id + '_searchbar');\n                    searchElement.setAttribute('tabIndex', '-1');\n                    searchElement.focus();\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                this.ganttChartModule.onTabAction(e);\n                break;\n            default:\n                var eventArgs = {\n                    requestType: 'keyPressed',\n                    action: e.action,\n                    keyEvent: e\n                };\n                this.trigger('actionComplete', eventArgs);\n                break;\n        }\n    };\n    Gantt.prototype.expandCollapseKey = function (e) {\n        if (this.selectionModule && this.selectedRowIndex !== -1) {\n            var selectedRowIndex = void 0;\n            if (this.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex = this.selectedRowIndex;\n            }\n            else if (this.selectionSettings.mode === 'Cell' && this.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = this.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (e.action === 'expandRow') {\n                this.expandByIndex(selectedRowIndex);\n            }\n            else {\n                this.collapseByIndex(selectedRowIndex);\n            }\n        }\n    };\n    Gantt.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var expandedRecords = this.getExpandedRecords(this.currentViewData);\n        if (this.selectionModule) {\n            if (this.selectionSettings.mode !== 'Cell' && this.selectedRowIndex !== -1) {\n                var selectedItem = this.currentViewData[this.selectedRowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                this.selectionModule.selectRow(this.currentViewData.indexOf(currentSelectingRecord));\n            }\n            else if (this.selectionSettings.mode === 'Cell' && this.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = this.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = this.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: this.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                this.selectionModule.selectCell(cellInfo);\n            }\n        }\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.dateFormat = !isNullOrUndefined(this.dateFormat) ? this.dateFormat :\n            this.globalize.getDatePattern({ skeleton: 'yMd' });\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = null;\n        this.cloneProjectEndDate = null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            cancelRequest: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70' //F Key\n        };\n        this.zoomingLevels = this.getZoomingLevels();\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.resourceFields.unit = 'unit';\n        }\n        if (!isNullOrUndefined(this.taskFields.work)) {\n            this.taskType = 'FixedWork';\n        }\n        this.taskIds = [];\n    };\n    /**\n     * Method to map resource fields.\n     *\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.showSpinner();\n        this.dataOperation.checkDataBinding();\n    };\n    /**\n     * Method used to show spinner.\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n        // predecessor calculation\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        this.dataOperation.calculateProjectDates();\n        this.timelineModule.validateTimelineProp();\n        if (isChange) {\n            this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n            this.dataOperation.updateGanttData();\n            this.treeGrid.dataSource = this.flatData;\n        }\n        else {\n            this.dataOperation.updateGanttData();\n            this.treeGridPane.classList.remove('e-temp-content');\n            remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        this.splitterModule.updateSplitterPosition();\n        if (this.gridLines === 'Vertical' || this.gridLines === 'Both') {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        this.onKeyPress(e);\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        if (isBlazor()) {\n            var records = this.treeGrid.getCurrentViewRecords().slice();\n            this.currentViewData = [];\n            for (var i = 0; i < records.length; i++) {\n                this.currentViewData.push(this.getTaskByUniqueID(records[i].uniqueID));\n            }\n            this.treeGrid.grid.currentViewData = this.currentViewData;\n        }\n        else {\n            this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        }\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function () {\n        var expandedRecords = this.getExpandedRecords(this.currentViewData);\n        this.contentHeight = expandedRecords.length * this.rowHeight;\n    };\n    /**\n     * To get expand status.\n     * @return {boolean}\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     * @param {IGanttData[]} records - Defines record collection.\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     * @private\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    Gantt.prototype.getZoomingLevels = function () {\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 6) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param date\n     * @param format\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.dateFormat;\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    /**\n     *\n     * @param args\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        this.updateCurrentViewData();\n        this.updateContentHeight();\n        if (!this.isTreeGridRendered) {\n            this.isTreeGridRendered = true;\n            this.isLoad = false;\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                toolbarHeight = this.toolbarModule.element.offsetHeight;\n            }\n            if (this.timelineModule.isSingleTier) {\n                addClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                addClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n            else {\n                removeClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                removeClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n            this.treeGrid.height = this.ganttHeight - toolbarHeight -\n                this.treeGrid.grid.getHeaderContent().offsetHeight;\n            this.notify('tree-grid-created', {});\n            this.createGanttPopUpElement();\n            this.hideSpinner();\n            setValue('isGanttCreated', true, args);\n            this.renderComplete();\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineIds = [];\n            this.updatedConnectorLineCollection = [];\n            this.predecessorModule.createConnectorLinesCollection(this.currentViewData);\n        }\n        this.notify('recordsUpdated', {});\n        this.trigger('dataBound', args);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @param newProp\n     * @param oldProp\n     * @private\n     */\n    /* tslint:disable-next-line:max-line-length */\n    // tslint:disable-next-line:max-func-body-length\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                    this.treeGrid.allowSelection = this.allowSelection;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'allowFiltering':\n                    this.treeGrid.allowFiltering = this.allowFiltering;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'showColumnMenu':\n                    this.treeGrid.showColumnMenu = this.showColumnMenu;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'filterSettings':\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'allowResizing':\n                    this.treeGrid.allowResizing = this.allowResizing;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'allowReordering':\n                    this.treeGrid.allowReordering = this.allowReordering;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.grid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'dayWorkingTime':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention();\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.closeGanttActions();\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: this.contextMenuItems });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                    isRefresh = true;\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n            }\n        }\n        if (isRefresh) {\n            this.refresh();\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @return {string}\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['allowSelection'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n    };\n    /**\n     * Method to get taskbarHeight.\n     * @return {number}\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     * @return {ModuleDeclaration[]}\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @return {void}\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     * @return {void}\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     * @return {void}\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && verticalLines.style.display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     * @return {void}\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.contentHeight);\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     * @return {void}\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function () {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     * @return {void}\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;z-index:1'\n            });\n            this.element.getElementsByClassName('e-chart-rows-container')[0].appendChild(this.chartVerticalLineContainer);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: 'left:' + leftPos + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     * @return {void}\n     * @hidden\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'Pdf export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessor_FS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessor_FS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessor_SS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessor_SS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessor_FF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessor_FF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessor_SF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessor_SF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     * @param {string} columnName - Defines the sorted column name.\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param args\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     * @param  {string} date - Defines the task date of data.\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     * @param  {string} taskId - Defines the task id of data.\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To set scroll left and top in chart side.\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (!isNullOrUndefined(cloneParent)) {\n            var parent_1 = this.flatData.filter(function (val) {\n                return cloneParent.uniqueID === val.uniqueID;\n            });\n            if (parent_1.length > 0) {\n                return parent_1[0];\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean} filterValue - Defines the value used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @param  {string} actualFilterValue - Defines the actual filter value for the filter column.\n     * @param  {string} actualOperator - Defines the actual filter operator for the filter column.\n     * @return {void}\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @return {Promise<any>}\n     * @blazorType void\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* tslint:disable-next-line:no-any */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @return {Promise<any>}\n     * @blazorType void\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* tslint:disable-next-line:no-any */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     * @param  {pdfExportProperties} PdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @return {Promise<any>}\n     * @blazorType void\n     */\n    /* tslint:disable-next-line */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc)\n            : null;\n    };\n    /**\n     * Clears all the filtered columns in Gantt.\n     * @return {void}\n     */\n    Gantt.prototype.clearFiltering = function () {\n        this.treeGrid.clearFiltering();\n    };\n    /**\n     * Removes filtered column by field name.\n     * @param  {string} field - Defines column field name to remove filter.\n     * @return {void}\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     * @return {void}\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = this.taskMode !== 'Auto' ? true : this.includeWeekend ? true : false;\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                args.isDisabled = true;\n            }\n        }\n    };\n    /**\n     * To update timeline at start point with one unit.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        if (isBlazor()) {\n            startDate = this.dataOperation.getDateFromFormat(startDate);\n            endDate = this.dataOperation.getDateFromFormat(endDate);\n        }\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        this.timelineModule.updateChartByNewTimeline();\n        this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n        this.ganttChartModule.updateLastRowBottomWidth();\n        if (this.gridLines === 'Vertical' || this.gridLines === 'Both') {\n            this.renderChartVerticalLines();\n        }\n        if (this.taskFields.dependency) {\n            this.ganttChartModule.reRenderConnectorLines();\n        }\n        if (isFrom !== 'beforeAdd') {\n            this.notify('selectRowByIndex', {});\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param field Method to update value in Gantt record and make clone record for this\n     * @param record\n     * @private\n     */\n    /* tslint:disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        if (this.isOnEdit || this.isOnDelete) {\n            this.makeCloneData(field, record, isTaskData);\n            var id = isTaskData ? record.rowUniqueID : record.ganttProperties.rowUniqueID;\n            var task = this.getRecordByID(id);\n            if (task && this.editedRecords.indexOf(task) === -1) {\n                this.editedRecords.push(task);\n            }\n        }\n        value = isUndefined(value) ? null : value;\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* tslint:disable-next-line */\n        var value = getValue(field, record);\n        /* tslint:disable-next-line */\n        var prevValue;\n        /* tslint:disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        cloneData = this.previousRecords[record.uniqueID];\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     * @param {string} id - Defines the task id.\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     * @param {string} id - Defines the id of record.\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings, true);\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the record by index value.\n     * @param {number} index - Defines the index of row.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Expand the record by task id.\n     * @param {number} id - Defines the id of task.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     * @param {number} index - Defines the index of row.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     * @param {number} id - Defines the id of task.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     * @param {Object | IGanttData} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            this.editModule.addRecord(data, rowPosition, rowIndex);\n        }\n    };\n    /**\n     * Method to update record by ID.\n     * @param  {Object} data - Defines the data to modify.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateRecordByID(data);\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var record = void 0;\n            var tasks = this.taskFields;\n            record = this.currentViewData.length > 0 ?\n                !isNullOrUndefined(this.currentViewData[index]) ? this.currentViewData[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     * @param  {number} id - Defines the ID of task to modify.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     * @param {number } taskId - Defines the id of task.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     * @return {void}\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index)) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        var args;\n        return args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     * @param {number} index - Defines the index of row.\n     * @return {HTMLElement}\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     * @param {string | number} id - Defines the id of task.\n     * @return {HTMLElement}\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var record = this.getRecordByID(id.toString());\n        var index = this.currentViewData.indexOf(record);\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     * @param ganttProp\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     * @param ganttProp\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     * @return {HTMLElement}\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     * @param {string} keyVal - Defines key value to search.\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     * @param element\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left) };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     * @return {void}\n     * @param dataSource - Defines a collection of data.\n     * @param args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     * @return {Column[]}\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     * @param field\n     * @param columns\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     * @return {ColumnModel[]}\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n    };\n    /**\n     * Hides a column by column name.\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels edited state.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @return {void}\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @return {void}\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @return {void}\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @return {void}\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @return {void}\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     * @return {void}\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param args\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     * @param {string} id - Defines id of record.\n     * @return {void}\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.taskData[taskfields.startDate]);\n                data[taskfields.endDate] = new Date(rowData.taskData[taskfields.startDate]);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = 'Below';\n                this.addRecord(data, position);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.updateRecordByID(data);\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     * @return {void}\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { isNullOrUndefined as isNOU, isUndefined as isU, getValue, isBlazor, getElement, extend } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     * @param args\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && (field === taskSettings.endDate || field === taskSettings.duration\n            || field === taskSettings.dependency || field === taskSettings.progress\n            || field === taskSettings.work || field === 'taskType')) {\n            args.cancel = true;\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('cellEdit', args, function (args) {\n                if (isBlazor()) {\n                    args.cell = getElement(args.cell);\n                    args.row = getElement(args.row);\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    args.cancel = true;\n                }\n                callBackPromise_1.resolve(args);\n                if (!args.cancel) {\n                    if (args.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(args);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     * @param args\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n    };\n    CellEdit.prototype.isValueChange = function (args, field) {\n        var data = getValue('data', args);\n        var editedValue = data[field];\n        var previousValue = getValue('previousData', args);\n        if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n            return true;\n        }\n        else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n            if (editedValue instanceof Date) {\n                return editedValue.getTime() !== data.taskData[field].getTime() ? true : false;\n            }\n            else if (field === this.parent.taskFields.resourceInfo) {\n                return editedValue !== previousValue ? true : false;\n            }\n            else if (editedValue !== data.taskData[field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     * @param args\n     * @param editedObj\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var tempEditedValue = column.editType === 'stringedit' &&\n            column.field === 'Duration' ? data[column.field] !== '' : !isU(data[column.field]);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : tempEditedValue ? data[column.field] :\n            previousValue;\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data, true);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if (column.field === 'taskType' && !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     * @param args\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     * @param args\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     * @param args\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     * @param args\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProb, true);\n                }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task end date cell with new value\n     * @param args\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            this.parent.setRecordValue('duration', null, ganttProb, true);\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            if ((currentValue.getHours() === 0 && this.parent.defaultEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(this.parent.defaultEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    this.parent.dateValidationModule.setTime(this.parent.defaultEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (this.compareDatesFromRecord(ganttProb) === -1) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     * @param args\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     * @param args\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            this.parent.setRecordValue('endDate', null, ganttProb, true);\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     * @param args\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     * @param args\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(this.parent.defaultEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     * @param args\n     * @param editedObj\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData, isResourceEdited) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[index]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            this.updateEditedRecord(args, isResourceEdited, previousResource);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     * @param editedArgs\n     * @param cellEditArgs\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, editedArgs.data[this.parent.taskFields.dependency], editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     * @param editedArgs\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n    };\n    /**\n     * To update task type cell with new value\n     * @param args\n     * @param editedObj\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     * @param ganttRecord\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     * @param args\n     */\n    CellEdit.prototype.updateEditedRecord = function (args, isResourceEdited, previousResources) {\n        if (this.parent.viewType === 'ResourceView') {\n            this.parent.editModule.updateRsourceRecords(args, isResourceEdited, previousResources);\n        }\n        else {\n            this.parent.editModule.initiateUpdateAction(args);\n        }\n    };\n    /**\n     * To remove all public private properties\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     * @return {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            content: this.getTooltipText(),\n            position: 'TopRight',\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     * @return {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool) {\n        if (bool) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip();\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     * @return {void}\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function () {\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText();\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                this.toolTipObj.content = this.getTooltipText();\n                this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    this.toolTipObj.offsetX = -this.taskbarEdit.taskBarEditRecord.ganttProperties.width;\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    this.toolTipObj.offsetX = 0;\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    this.toolTipObj.offsetX = -(this.taskbarEdit.taskBarEditRecord.ganttProperties.width -\n                        this.taskbarEdit.taskBarEditRecord.ganttProperties.progressWidth);\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (this.taskbarEdit.taskBarEditRecord.ganttProperties.width > 5) {\n                    this.toolTipObj.offsetX = -(this.taskbarEdit.taskBarEditRecord.ganttProperties.width +\n                        this.taskbarEdit.taskBarEditRecord.ganttProperties.left -\n                        this.taskbarEdit.tooltipPositionX);\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     * @return {void}\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function () {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, editRecord, 'TooltipEditingTemplate');\n            tooltipString = templateNode[0];\n        }\n        else {\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    tooltipString = this.parent.localeObj.getConstant('progress') + ' : ' + editRecord.progress;\n                    break;\n                case 'LeftResizing':\n                    tooltipString = this.parent.localeObj.getConstant('startDate') + ' : ';\n                    tooltipString += instance.formatDate(editRecord.startDate, { format: this.parent.dateFormat });\n                    tooltipString += '<br/>' + this.parent.localeObj.getConstant('duration') + ' : ' +\n                        this.parent.getDurationString(editRecord.duration, editRecord.durationUnit);\n                    break;\n                case 'RightResizing':\n                case 'ParentResizing':\n                    tooltipString = this.parent.localeObj.getConstant('endDate') + ' : ';\n                    tooltipString += instance.formatDate(editRecord.endDate, { format: this.parent.dateFormat });\n                    tooltipString += '<br/>' + this.parent.localeObj.getConstant('duration') + ' : ' +\n                        this.parent.getDurationString(editRecord.duration, editRecord.durationUnit);\n                    break;\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                        tooltipString = this.parent.localeObj.getConstant('startDate') + ' : ';\n                        tooltipString += instance.formatDate(editRecord.startDate, { format: this.parent.dateFormat });\n                    }\n                    if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                        tooltipString += tooltipString === '' ? '' : '<br/>';\n                        tooltipString += this.parent.localeObj.getConstant('endDate') + ' : ' + instance.formatDate(editRecord.endDate, { format: this.parent.dateFormat });\n                    }\n                    break;\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    tooltipString = this.parent.connectorLineModule.tooltipTable;\n                    if (isNullOrUndefined(this.toolTipObj)) {\n                        this.parent.connectorLineModule.tooltipTable.innerHTML =\n                            this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                    }\n                    break;\n            }\n        }\n        return tooltipString;\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","import { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, Browser, merge } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\nimport { click } from '@syncfusion/ej2-grids';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function () {\n    function TaskbarEdit(ganttObj) {\n        this.isMouseDragged = false;\n        this.dependencyCancel = false;\n        this.editElement = null;\n        this.parent = ganttObj;\n        this.initPublicProp();\n        this.wireEvents();\n        this.editTooltip = new EditTooltip(this.parent, this);\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth',];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.canDrag = false;\n            if (this.parent.isAdaptive && this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if (element && element.innerHTML === this.taskBarEditElement.innerHTML &&\n                    !(targetElement.classList.contains(cls.connectorPointLeft) ||\n                        targetElement.classList.contains(cls.connectorPointRight)) &&\n                    !this.tapPointOnFocus) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && element && element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover) ||\n            targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (ganttProp.rowUniqueID.toString() === predecessor.from) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n                else if (ganttProp.rowUniqueID.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.getRecordByID(to) :\n            this.parent.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentRecord.rowUniqueID.toString() &&\n                    predecessor.to === childRecord.rowUniqueID.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childRecord.rowUniqueID.toString() &&\n                    predecessor.to === parentRecord.rowUniqueID.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        this.dragMouseLeave = true;\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestoneTop) || target.classList.contains(cls.manualParentMilestoneBottom)\n            || target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            this.editElement = element;\n            this.taskBarEditElement = element;\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.taskBarEditElement);\n            if (e.type === Browser.touchStartEvent || e.type === click) {\n                this.roundOffDuration = true;\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                addClass([element.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n            }\n            else if (this.parent.isAdaptive) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && element.querySelector('.' + cls.connectorPointLeft)) {\n                addClass([element.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                addClass([element.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (secondElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([secondElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && secondElement.querySelector('.' + cls.connectorPointLeft)) {\n                removeClass([secondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                removeClass([secondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n            }\n            else if (this.parent.isAdaptive) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record && record.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     * @return {string}\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestoneTop) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestoneBottom) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? this.parent.taskMode === 'Auto' ? 'ParentDrag' : ''\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            this.mouseDownX = (e.pageX - containerPosition.left) +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag') {\n                this.editTooltip.showHideTaskbarEditTooltip(true);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /**\n     * To handle mouse move action in chart\n     * @param e\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        this.mouseMoveX = e.pageX - containerPosition.left +\n            this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        this.isMouseDragCheck();\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(event);\n            }\n            this.taskBarEditingAction(event, false);\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     * @return {Boolean}\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            this.roundOffDuration = args.roundOffDuration;\n            this.updateMouseMoveProperties(e);\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.performProgressResize(e);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.triggerDependencyEvent(e);\n                if (!this.parent.isAdaptive) {\n                    this.drawFalseLine();\n                }\n            }\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.editTooltip.updateTooltip();\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (args) {\n                if (args.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, args.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (e.pageX || e.pageY) {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if ((this.taskBarEditRecord.ganttProperties.width > 3 && !((this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100)))) ||\n            isConnectorLineEdit) {\n            var mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                containerPosition.left;\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (isConnectorLineEdit && ((mouseY + 20) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (isConnectorLineEdit && ((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        this.scrollTimer = window.setInterval(function () {\n            if (direction === 'right' || direction === 'bottom') {\n                _this.timerCount = (_this.timerCount + 1) >= _this.parent.timelineModule.totalTimelineWidth ?\n                    _this.parent.timelineModule.totalTimelineWidth : (_this.timerCount + 1);\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        if (this.mouseDownX > this.mouseMoveX) {\n            diffrenceWidth = this.mouseDownX - this.mouseMoveX;\n            if (diffrenceWidth > 0) {\n                this.parent.setRecordValue('left', this.previousItem.left - diffrenceWidth, item, true);\n            }\n        }\n        else {\n            diffrenceWidth = this.mouseMoveX - this.mouseDownX;\n            this.parent.setRecordValue('left', this.previousItem.left + diffrenceWidth, item, true);\n        }\n        var left = item.left < 0 ? 0 : (item.left + item.width) >= this.parent.timelineModule.totalTimelineWidth ?\n            (this.parent.timelineModule.totalTimelineWidth - item.width) : item.left;\n        this.parent.setRecordValue('left', left, item, true);\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + item.width)) {\n                diffrenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (item.left > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - diffrenceWidth, item, true);\n                    this.parent.setRecordValue('width', this.previousItem.width + diffrenceWidth, item, true);\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + item.width)) {\n                    diffrenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('left', this.previousItem.left - diffrenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX < (item.left + item.width)) {\n                diffrenceWidth = this.mouseMoveX - this.mouseDownX;\n                if ((item.left) < (item.left + item.width) &&\n                    ((this.previousItem.left + diffrenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                    this.parent.setRecordValue('left', this.previousItem.left + diffrenceWidth, item, true);\n                    this.parent.setRecordValue('width', this.previousItem.width - diffrenceWidth, item, true);\n                }\n            }\n            else {\n                diffrenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + diffrenceWidth, item, true);\n                this.parent.setRecordValue('width', 3, item, true);\n            }\n        }\n        this.updateEditPosition(e, item);\n        this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n    };\n    /**\n     * Update mouse position and edited item value\n     * @param e\n     * @param item\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                diffrenceWidth = this.mouseDownX - this.mouseMoveX;\n                this.parent.setRecordValue('width', this.previousItem.width - diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX < item.left) {\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left) {\n                diffrenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('width', this.previousItem.width + diffrenceWidth, item, true);\n            }\n        }\n        this.updateEditPosition(e, item);\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                this.parent.setRecordValue('progress', this.getProgressPercent(item.width, item.progressWidth), item, true);\n                break;\n            case 'LeftResizing':\n                left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                projectStartDate = this.getDateByLeft(left);\n                if (isNullOrUndefined(item.endDate)) {\n                    endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                    this.parent.setRecordValue('endDate', endDate, item, true);\n                }\n                startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                    && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                    this.parent.setRecordValue('duration', 1, item, true);\n                }\n                if (item.isMilestone) {\n                    this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                }\n                this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                var tempEndDate = this.getDateByLeft(left);\n                if (isNullOrUndefined(item.startDate)) {\n                    startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                    this.parent.setRecordValue('startDate', startDate, item, true);\n                }\n                var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                endDate = item.isMilestone ? tempdate :\n                    this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                projectStartDate = this.getDateByLeft(left);\n                if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                    endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', endDate, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                    if (!isNullOrUndefined(item.duration)) {\n                        this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                    }\n                }\n                break;\n        }\n    };\n    /**\n     * To get roundoff enddate.\n     * @return {number}\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue === 0) {\n                    totalLeft = totalLeft;\n                }\n                else if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     * @return {number}\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = ganttRecord.left;\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     * @return {Date}\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && !this.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To get timezone offset.\n     * @return {number}\n     * @private\n     */\n    TaskbarEdit.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     * @return {boolean}\n     * @private\n     */\n    TaskbarEdit.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * To set item position.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var width = this.taskBarEditAction === 'MilestoneDrag' ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        var taskBarMainContainer = closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n            .querySelector('.' + cls.taskBarMainContainer);\n        var leftLabelContainer = closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n            .querySelector('.' + cls.leftLabelContainer);\n        var rightLabelContainer = closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n            .querySelector('.' + cls.rightLabelContainer);\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                taskBarMainContainer.style.width = (width) + 'px';\n                taskBarMainContainer.style.left = (item.left) + 'px';\n                leftLabelContainer.style.width = (item.left) + 'px';\n                rightLabelContainer.style.left = (item.left + width) + 'px';\n            }\n            if (traceConnectorPointRight) {\n                traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag') {\n                taskBarMainContainer.style.left = (item.left - (width / 2)) + 'px';\n                leftLabelContainer.style.width = (item.left - (width / 2)) + 'px';\n                rightLabelContainer.style.left = (item.left + (width / 2)) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                traceChildProgressBar.style.width = item.progressWidth + 'px';\n                traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                traceChildTaskBar.style.left = (item.left + item.progressWidth - 10) + 'px';\n                childProgressResizer.style.left = item.progressWidth - 8 + 'px';\n            }\n            else if (this.taskBarEditAction === 'RightResizing') {\n                traceChildTaskBar.style.width = (width) + 'px';\n                traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                taskBarRightResizer.style.left = rightResizer + 'px';\n                childProgressResizer.style.left = (item.progressWidth - 10) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                traceParentTaskBar.style.width = (width) + 'px';\n                traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                manualParentTaskbar.style.width = manualTaskbar.style.width = (item.width) + 'px';\n                manualParentRight.style.left = (item.width - manualParentLeft.offsetLeft) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                manualParentTaskbar.style.left = (item.left - item.autoLeft) + 'px';\n            }\n            else {\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.left = rightResizer + 'px';\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    childProgressResizer.style.left = item.progressWidth - 10 + 'px';\n                }\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     * @param e\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.editTooltip.showHideTaskbarEditTooltip(false);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if (!this.dragMouseLeave && this.taskBarEditedAction) {\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.cancelTaskbarEditActionInMouseLeave();\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var row;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2;\n        var y2;\n        var resMouseY;\n        var e = this.getCoordinate(event);\n        x2 = this.mouseMoveX;\n        y2 = this.mouseMoveY;\n        resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor) {\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n    };\n    /**\n     * To cancel the taskbar edt action.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    /**\n     * To trigger taskbar edited event.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                this.parent.setRecordValue('progress', this.getProgressPercent(taskData.width, taskData.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n            }\n        }\n        else {\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        if (this.parent.viewType === 'ResourceView') {\n            this.parent.editModule.updateRsourceRecords(args);\n        }\n        else {\n            this.parent.editModule.initiateUpdateAction(args);\n        }\n    };\n    /**\n     * To get progress in percentage.\n     * @return {number}\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     * @return {void}\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + angle + 'deg)';\n        var left;\n        var top;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            left = (this.taskBarEditElement.offsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            left = (this.taskBarEditElement.offsetLeft + this.taskBarEditElement.offsetWidth) +\n                (this.parent.chartRowsModule.connectorPointWidth / 2) - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        top = ((this.taskBarEditElement.offsetTop) + (this.taskBarEditElement.offsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'transform-origin: 0% 100%;right: auto;position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'left:' + left + 'px;top:' + top + 'px;'\n        });\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param isRemoveConnectorPointDisplay\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param e\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        this.connectorSecondAction = null;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = fromItem.rowUniqueID + 'S';\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = fromItem.rowUniqueID + 'F';\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += 'S';\n                currentTarget = 'Start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += 'F';\n                currentTarget = 'Finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true);\n            }\n            if (this.editTooltip.toolTipObj) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = currentTarget;\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        if (Browser.isTouch && event && event.type !== click) {\n            var e = event;\n            if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                coordinates.pageX = e.changedTouches[0].pageX;\n                coordinates.pageY = e.changedTouches[0].pageY;\n            }\n        }\n        else if (event) {\n            var e = event;\n            coordinates.pageX = e.pageX;\n            coordinates.pageY = e.pageY;\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}());\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, closest, isBlazor } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection, Filter, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     */\n    function DialogEdit(parent) {\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.previousResource = [];\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData)) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var fields;\n        if (Object.keys(this.parent.columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            fields = this.getGeneralColumnFields();\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', this.parent.columnMapping))) {\n            fieldItem = {};\n            fieldItem.type = 'Dependency';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', this.parent.columnMapping))) {\n            fieldItem = {};\n            fieldItem.type = 'Resources';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', this.parent.columnMapping))) {\n            fieldItem = {};\n            fieldItem.type = 'Notes';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.createDialog();\n    };\n    /**\n     *\n     * @return {Date}\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = 'New Task ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === 'taskType') {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempData;\n    };\n    /**\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.currentViewData[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.currentViewData[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param taskId\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.cssClass = 'e-gantt-dialog';\n        dialogModel.allowDragging = this.parent.isAdaptive ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = this.parent.element;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            this.initiateDialogSave();\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.editedRecord = {};\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.id;\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* tslint:disable-next-line:no-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy !== 'string') {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    /* tslint:disable-next-line:max-func-body-length */\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab');\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.renderTabItems();\n        var args = {\n            rowData: this.beforeOpenArgs.rowData,\n            name: this.beforeOpenArgs.name,\n            requestType: this.beforeOpenArgs.requestType,\n            cancel: this.beforeOpenArgs.cancel\n        };\n        this.parent.trigger('actionBegin', isBlazor() ? args : this.beforeOpenArgs, function (args) {\n            if (!args.cancel) {\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                if (isBlazor()) {\n                    _this.parent.updateDataArgs(actionCompleteArgs);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArgs) {\n                    if (actionCompleteArgs.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n        });\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        if (this.parent.isAdaptive) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            var resourceTreeGrid_1 = ganttObj.element.querySelector('#' + id).ej2_instances[0];\n            var resources_1 = this.ganttResources;\n            var currentViewData = resourceTreeGrid_1.getCurrentViewRecords();\n            if (resources_1 && resources_1.length > 0) {\n                currentViewData.forEach(function (data, index) {\n                    for (var i = 0; i < resources_1.length; i++) {\n                        if (data.taskData[ganttObj.resourceFields.id] === resources_1[i][ganttObj.resourceFields.id] &&\n                            !isNullOrUndefined(resourceTreeGrid_1.selectionModule) &&\n                            resourceTreeGrid_1.getSelectedRowIndexes().indexOf(index) === -1) {\n                            resourceTreeGrid_1.selectRow(index);\n                        }\n                    }\n                });\n            }\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            ganttObj.element.querySelector('#' + id).ej2_instances[0].refresh();\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto',\n        };\n        switch (column.editType) {\n            case 'booleanedit':\n                var checkboxModel = {\n                    label: column.headerText,\n                    locale: locale,\n                };\n                fieldsModel[column.field] = checkboxModel;\n                break;\n            case 'stringedit':\n                var textBox = common;\n                if (column.field === ganttObj.columnMapping.duration) {\n                    textBox.change = function (args) {\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'numericedit':\n                var numeric = common;\n                if (taskSettings.progress === column.field) {\n                    numeric.min = 0;\n                    numeric.max = 100;\n                }\n                if (taskSettings.work === column.field) {\n                    numeric.change = function (args) {\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = numeric;\n                break;\n            case 'datepickeredit':\n                var datePickerObj = common;\n                datePickerObj.format = this.parent.dateFormat;\n                datePickerObj.strictMode = true;\n                datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                if (column.field === ganttObj.columnMapping.startDate ||\n                    column.field === ganttObj.columnMapping.endDate) {\n                    datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                    datePickerObj.change = function (args) {\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = datePickerObj;\n                break;\n            case 'datetimepickeredit':\n                var dateTimePickerObj = common;\n                dateTimePickerObj.format = this.parent.dateFormat;\n                dateTimePickerObj.strictMode = true;\n                dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                if (column.field === ganttObj.columnMapping[taskSettings.startDate] ||\n                    column.field === ganttObj.columnMapping[taskSettings.endDate]) {\n                    dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                    dateTimePickerObj.change = function (args) {\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = dateTimePickerObj;\n                break;\n            case 'dropdownedit':\n                if (column.field === 'taskType' || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var dialog = ganttObj.editModule.dialogModule.dialog;\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event.path[1])) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        var cellValue = inputElement.value;\n        var colName = targetId.replace(ganttObj.element.id, '');\n        this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n        var ganttProp = currentData.ganttProperties;\n        var tasks = ganttObj.taskFields;\n        if (!isNullOrUndefined(tasks.startDate)) {\n            this.updateScheduleFields(dialog, ganttProp, 'startDate');\n        }\n        if (!isNullOrUndefined(tasks.endDate)) {\n            this.updateScheduleFields(dialog, ganttProp, 'endDate');\n        }\n        if (!isNullOrUndefined(tasks.duration)) {\n            this.updateScheduleFields(dialog, ganttProp, 'duration');\n        }\n        if (!isNullOrUndefined(tasks.work)) {\n            this.updateScheduleFields(dialog, ganttProp, 'work');\n        }\n        this.dialogEditValidationFlag = false;\n        return true;\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        if (col.editType === 'stringedit') {\n            var textBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            if (textBox.value !== tempValue) {\n                textBox.value = tempValue;\n                textBox.dataBind();\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var picker = col.editType === 'datepickeredit' ?\n                dialog.querySelector('#' + ganttId + columnName).ej2_instances[0] :\n                dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                    && picker.value.toString() !== tempValue.toString())) {\n                picker.value = tempValue;\n                picker.dataBind();\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue)) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param columnName\n     * @param value\n     * @param currentData\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                }\n            }\n            this.validateDuration(currentData);\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                }\n            }\n            this.validateStartDate(currentData);\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                if (endDate.getHours() === 0 && ganttObj.defaultEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(ganttObj.defaultEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() > (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            this.validateEndDate(currentData);\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === 'taskType') {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            },\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: '0 days', validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = this.parent.isAdaptive ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: 5,\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'ResetOnRowClick', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 },\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit'\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = this.parent.isAdaptive ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: this.parent.isAdaptive ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                item.content = this.renderCustomTab(item.content);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName) {\n        var ganttObj = this.parent;\n        var itemModel = this.beforeOpenArgs[itemName];\n        var divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n            + '' + itemName + 'TabContainer');\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            divElement.appendChild(this.renderInputElements(inputModel, column));\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        if (column.allowEditing === false) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.id) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.name) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.duration) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.progress) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.startDate) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.endDate) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.baselineStartDate) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.baselineEndDate) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.work) {\n                    disabled = true;\n                }\n                else if (column.field === 'taskType') {\n                    disabled = true;\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if (column.field === this.parent.taskFields.endDate) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.duration) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.progress) {\n                    disabled = true;\n                }\n                else if (column.field === this.parent.taskFields.work) {\n                    disabled = true;\n                }\n                else if (column.field === 'taskType') {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        gridModel.dataSource = preData;\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.preTableCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (args) {\n                        var tr = closest(args.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (!isNullOrUndefined(args.itemData) && !isNullOrUndefined(args.item)) {\n                            idInput.value = args.itemData.id;\n                        }\n                        else {\n                            idInput.value = '';\n                        }\n                    },\n                    autofill: true,\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var ganttObj = this.parent;\n            var treeGridId = ganttObj.element.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        TreeGrid.Inject(Selection, Filter, TreeGridEdit);\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName) {\n        return this.renderGeneralTab(itemName);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false) {\n            inputModel.enabled = false;\n        }\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create !== 'string') {\n                inputElement = column.edit.create(editArgs);\n                inputElement.className = '';\n                inputElement.setAttribute('type', 'text');\n                inputElement.setAttribute('id', ganttId + '' + column.field);\n                inputElement.setAttribute('name', column.field);\n                inputElement.setAttribute('title', column.field);\n                divElement.appendChild(inputElement);\n            }\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            var ganttProp = ganttData.ganttProperties;\n            inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else {\n            inputModel.value = ganttData[column.field];\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            if (typeof write !== 'string') {\n                column.edit.write({ column: column, rowData: ganttData, element: inputElement });\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        return divElement;\n    };\n    ;\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (data.hasChildRecords) {\n                continue;\n            }\n            var tempObject = {\n                id: data.ganttProperties.rowUniqueID.toString(),\n                text: (data.ganttProperties.rowUniqueID.toString() + '-' + data.ganttProperties.taskName),\n                value: data.ganttProperties.rowUniqueID.toString()\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                if (ganttProp.rowUniqueID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = Math.abs(predecessor[i].offset);\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.getRecordByID(toId);\n                    _this.validSuccessorTasks(ganttData, ids, idCollection);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        var _this = this;\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.id;\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.updatePredecessorTab(element);\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n            }\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            if (this.parent.viewType === 'ResourceView') {\n                if (this.isResourceUpdate) {\n                    this.parent.editModule.updateRsourceRecords(editArgs, true, this.previousResource);\n                    this.previousResource = [];\n                }\n                else {\n                    this.parent.editModule.updateRsourceRecords(editArgs);\n                }\n            }\n            else {\n                this.parent.editModule.initiateUpdateAction(editArgs);\n            }\n        }\n        else {\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                var addingRecords_1 = [];\n                var unassignedTasks = void 0;\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    // Block for if the added recoed has resources\n                    newRecords[this.parent.taskFields.resourceInfo].forEach(function (resourceID) {\n                        var taskIds = _this.parent.getTaskIds();\n                        addingRecords_1.push(_this.parent.currentViewData[taskIds.indexOf('R' + resourceID)]);\n                    });\n                    for (var j = 0; j < addingRecords_1.length; j++) {\n                        if (!addingRecords_1[j][this.parent.taskFields.resourceInfo]) {\n                            /* tslint:disable-next-line */\n                            this.parent.isSameResourceAdd = true;\n                            this.parent.editModule.addRecord(__assign({}, newRecords), 'Child', this.parent.ids.indexOf(addingRecords_1[j].ganttProperties.rowUniqueID));\n                            this.parent.isSameResourceAdd = false;\n                        }\n                    }\n                }\n                else {\n                    // Block for if the added record has no resources\n                    for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                        /* tslint:disable-next-line */\n                        if (this.parent.currentViewData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                            unassignedTasks = this.parent.currentViewData[i];\n                        }\n                    }\n                    this.parent.isOnEdit = false;\n                    if (unassignedTasks) {\n                        /* tslint:disable-next-line */\n                        this.parent.editModule.addRecord(__assign({}, newRecords), 'Child', this.parent.ids.indexOf(unassignedTasks.ganttProperties.rowUniqueID));\n                    }\n                    else {\n                        // Block for create the unassigned task.\n                        var record = {};\n                        record[this.parent.taskFields.id] = 0;\n                        record[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n                        this.parent.editModule.addRecord(__assign({}, record), 'Bottom');\n                        this.parent.editModule.addRecord(__assign({}, newRecords), 'Child', this.parent.ids.length - 1);\n                    }\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                var column = ganttObj.columnByField[fieldName];\n                if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read !== 'string') {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else {\n                    tasksData[fieldName] = controlObj.value;\n                }\n            }\n        }\n        if (this.isEdit) {\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, this.rowData.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.currentViewData;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            if (ids.indexOf(preData.id) === -1) {\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (this.ganttResources !== this.rowData.ganttProperties.resourceInfo) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.rowData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.rowData, 'resource');\n            this.validateDuration(this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","import { isNullOrUndefined, isUndefined, remove, addClass } from '@syncfusion/ej2-base';\nimport { removeClass, isObject, getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLine);\n        var isOnRightArrow = parentsUntil(target, cls.connectorLineRightArrow);\n        var isOnLeftArrow = parentsUntil(target, cls.connectorLineLeftArrow);\n        if (isOnLine || isOnRightArrow || isOnLeftArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        addClass([element], [cls.connectorLineHoverZIndex]);\n        addClass(element.querySelectorAll('.' + cls.connectorLine), [cls.connectorLineHover]);\n        addClass(element.querySelectorAll('.' + cls.connectorLineRightArrow), [cls.connectorLineRightArrowHover]);\n        addClass(element.querySelectorAll('.' + cls.connectorLineLeftArrow), [cls.connectorLineLeftArrowHover]);\n    };\n    /**\n     * To remove connector line highlight class.\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (!isNullOrUndefined(this.connectorLineElement)) {\n            removeClass([this.connectorLineElement], [cls.connectorLineHoverZIndex]);\n            removeClass(this.connectorLineElement.querySelectorAll('.' + cls.connectorLine), [cls.connectorLineHover]);\n            removeClass(this.connectorLineElement.querySelectorAll('.' + cls.connectorLineRightArrow), [cls.connectorLineRightArrowHover]);\n            removeClass(this.connectorLineElement.querySelectorAll('.' + cls.connectorLineLeftArrow), [cls.connectorLineLeftArrowHover]);\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.getRecordByID(predecessor[from]);\n                    childGanttRecord = this.parent.getRecordByID(predecessor[to]);\n                    if ((parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     * @param editedRecord\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.removePreviousConnectorLines(this.parent.previousRecords);\n        var editedConnectorLineString;\n        editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML =\n            this.parent.connectorLineModule.dependencyViewContainer.innerHTML + editedConnectorLineString;\n    };\n    /**\n     * Method to remove connector line from DOM\n     * @param records\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            var predecessors = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id);\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            for (var i = 0; i < preArray[j].length; i++) {\n                if (!isNullOrUndefined(preArray[j].charAt(i)) && parseInt(preArray[j].charAt(i), 10).toString() !== 'NaN') {\n                    strArray.push(preArray[j].charAt(i));\n                }\n                else {\n                    break;\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* tslint:disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     * @param ganttRecord\n     * @param predecessorString\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                if (!checkParent) {\n                    return { value: false };\n                }\n                // Check if predecessor exist more then one \n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check  \n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     * @param ganttRecord\n     * @param predecessorString\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     * @param ganttRecord\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     * @param ganttRecord\n     * @param predecessorString\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule',\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' },\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     * @param buttonType\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            this.calculateOffset(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record) {\n        var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n        var validPredecessor = this.parent.predecessorModule.getValidPredecessor(record);\n        for (var i = 0; i < validPredecessor.length; i++) {\n            var predecessor = validPredecessor[i];\n            var parentTask = this.parent.getRecordByID(predecessor.from);\n            var offset = void 0;\n            if (isScheduledTask(parentTask.ganttProperties) && isScheduledTask(record.ganttProperties)) {\n                var tempStartDate = void 0;\n                var tempEndDate = void 0;\n                var tempDuration = void 0;\n                var isNegativeOffset = void 0;\n                switch (predecessor.type) {\n                    case 'FS':\n                        tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                        break;\n                    case 'SS':\n                        tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                        break;\n                    case 'SF':\n                        tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                        break;\n                    case 'FF':\n                        tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                        break;\n                }\n                if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                    tempStartDate = this.dateValidateModule.checkStartDate(tempStartDate);\n                    tempEndDate = this.dateValidateModule.checkEndDate(tempEndDate, null);\n                    isNegativeOffset = false;\n                }\n                else {\n                    var tempDate = new Date(tempStartDate.getTime());\n                    tempStartDate = this.dateValidateModule.checkStartDate(tempEndDate);\n                    tempEndDate = this.dateValidateModule.checkEndDate(tempDate, null);\n                    isNegativeOffset = true;\n                }\n                if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                    tempDuration = this.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                    offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                }\n                else {\n                    offset = 0;\n                }\n            }\n            else {\n                offset = 0;\n            }\n            var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n            prevPredecessor[preIndex].offset = offset;\n            // Update predecessor in predecessor task\n            var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n            var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n            parentPredecessors[parentPreIndex].offset = offset;\n            this.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n        }\n        this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     * @param args\n     * @return {void}\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[i], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     * @param args\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     * @param args\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, 'MM/dd/yyyy');\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContent;\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     * @param args\n     * @return {boolean}\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        var ganttTaskData = ganttRecord.ganttProperties;\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_FS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_FS';\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (endDate < parentGanttRecord.ganttProperties.endDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_FF';\n                }\n                else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_FF';\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_SF';\n                }\n                else if (endDate > parentGanttRecord.ganttProperties.startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_SF';\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     * @param data\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor)) {\n                for (var p = 0; p < prevPredecessor.length; p++) {\n                    var parentGanttRecord = this.parent.getRecordByID(prevPredecessor[p].from);\n                    if (parentGanttRecord === data) {\n                        data.ganttProperties.predecessor.push(prevPredecessor[p]);\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor[p], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    var parentGanttRecord = this.parent.getRecordByID(newPredecessor[n].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    parentPredecessor.push(newPredecessor[n]);\n                    this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     * @param childRecord\n     * @param index\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     * @return {void}\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' },\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog',\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement, isBlazor } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil, Query } from '@syncfusion/ej2-data';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\n/**\n * The Edit Module is used to handle editing actions.\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        /**\n         * @private\n         */\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog',\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[i], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(column.edit.params, editParam);\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties),\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog',\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     * @param {Object} data - Defines new data to update.\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var tasks = this.parent.taskFields;\n        if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n            return;\n        }\n        var ganttData = this.parent.getRecordByID(data[tasks.id]);\n        if (isBlazor()) {\n            var keys = Object.keys(data);\n            if (keys.indexOf(tasks.startDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.startDate, data))) {\n                setValue(this.parent.taskFields.startDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.startDate, data)), data);\n            }\n            if (keys.indexOf(tasks.endDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.endDate, data))) {\n                setValue(this.parent.taskFields.endDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.endDate, data)), data);\n            }\n            /* tslint:disable-next-line */\n            if (keys.indexOf(tasks.baselineStartDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.baselineStartDate, data))) {\n                setValue(this.parent.taskFields.baselineStartDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.baselineStartDate, data)), data);\n            }\n            if (keys.indexOf(tasks.baselineEndDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.baselineEndDate, data))) {\n                setValue(this.parent.taskFields.baselineEndDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.baselineEndDate, data)), data);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n            this.parent.isOnEdit = true;\n            this.validateUpdateValues(data, ganttData, true);\n            var keys = Object.keys(data);\n            if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                keys.indexOf(tasks.duration) !== -1) {\n                this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n            }\n            this.parent.dataOperation.updateWidthLeft(ganttData);\n            if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n            }\n            else {\n                var args = {};\n                args.data = ganttData;\n                this.parent.editModule.initiateUpdateAction(args);\n            }\n        }\n    };\n    /**\n     *\n     * @param data\n     * @param ganttData\n     * @param isFromDialog\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _a = Object.keys(data); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (isNullOrUndefined(key) || (isNullOrUndefined(data[key]) && !ganttObj.allowUnscheduledTasks)) {\n                continue;\n            }\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        ganttObj.setRecordValue(ganttPropByMapping[key], data[key], ganttData.ganttProperties, true);\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                ganttData.ganttProperties.resourceInfo = resourceData;\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* tslint:disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === 'taskType') {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* tslint:disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     * @param currentData\n     * @param column\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var taskType = ganttProp.taskType;\n        var isEffectDriven;\n        if (!isNullOrUndefined(ganttProp.resourceInfo)) {\n            if (ganttProp.work > 0 || column === 'work') {\n                switch (taskType) {\n                    case 'FixedUnit':\n                        if (ganttProp.resourceInfo.length &&\n                            (column === 'work' || ((column === 'resource') && isEffectDriven))) {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if (ganttProp.resourceInfo.length === 0) {\n                            return;\n                        }\n                        else {\n                            if (column === 'duration' || column === 'endDate') {\n                                this.parent.dataOperation.updateUnitWithWork(currentData);\n                                if (ganttProp.duration === 0) {\n                                    this.parent.setRecordValue('work', 0, ganttProp);\n                                    if (!isNullOrUndefined(this.parent.taskFields.work)) {\n                                        this.parent.dataOperation.updateMappingData(currentData, 'work');\n                                    }\n                                }\n                            }\n                            else {\n                                this.parent.dataOperation.updateDurationWithWork(currentData);\n                            }\n                        }\n                        break;\n                    case 'FixedDuration':\n                        if (ganttProp.resourceInfo.length && (column === 'work' || (isEffectDriven && (column === 'resource')))) {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                        break;\n                }\n            }\n            else {\n                this.parent.dataOperation.updateWorkWithDuration(currentData);\n            }\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     * @param data\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to update the resource records while editing\n     * @private\n     */\n    Edit.prototype.updateRsourceRecords = function (args, isResourceEdited, previousResources) {\n        var _this = this;\n        var editedRecords = [];\n        var unassignedTasks;\n        if (!args.data.hasChildRecords) {\n            for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n                if (this.parent.getTaskIds()[i] === 'T' + args.data.ganttProperties.taskId) {\n                    editedRecords.push(this.parent.currentViewData[i]);\n                    this.updateGanttProperties(args.data, this.parent.currentViewData[i]);\n                    this.parent.dataOperation.updateTaskData(this.parent.currentViewData[i]);\n                }\n            }\n        }\n        if (isResourceEdited) {\n            // Block for if the resources of the task gets edited.\n            var addRecords_1 = [];\n            this.deleteRow(editedRecords);\n            if (args.data.taskData[this.parent.taskFields.resourceInfo].length) {\n                args.data.taskData[this.parent.taskFields.resourceInfo].forEach(function (resourceID) {\n                    var taskIds = _this.parent.getTaskIds();\n                    addRecords_1.push(_this.parent.currentViewData[taskIds.indexOf('R' + resourceID)]);\n                });\n                for (var j = 0; j < addRecords_1.length; j++) {\n                    if (!addRecords_1[j][this.parent.taskFields.resourceInfo]) {\n                        var data = __assign({}, args.data);\n                        data[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                        /* tslint:disable-next-line */\n                        this.parent.isSameResourceAdd = true;\n                        this.parent.editModule.addRecord(data, 'Child', this.parent.ids.indexOf(addRecords_1[j].ganttProperties.rowUniqueID));\n                        this.parent.isSameResourceAdd = false;\n                    }\n                }\n            }\n            else {\n                // Block for if the added record has no resources\n                for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                    if (this.parent.currentViewData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                        unassignedTasks = this.parent.currentViewData[i];\n                    }\n                }\n                this.parent.isOnEdit = false;\n                if (unassignedTasks) {\n                    /* tslint:disable-next-line */\n                    this.parent.editModule.addRecord(__assign({}, args.data), 'Child', this.parent.ids.indexOf(unassignedTasks.ganttProperties.rowUniqueID));\n                }\n                else {\n                    // Block for create the unassigned task.\n                    var unassignTask = {};\n                    unassignTask[this.parent.taskFields.id] = 0;\n                    unassignTask[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n                    this.parent.editModule.addRecord(__assign({}, unassignTask), 'Bottom');\n                    this.parent.editModule.addRecord(__assign({}, args.data), 'Child', this.parent.ids.length - 1);\n                }\n            }\n        }\n        else {\n            for (var j = 0; j < editedRecords.length; j++) {\n                var editArgs = {};\n                editArgs.data = editedRecords[j];\n                this.parent.isOnEdit = true;\n                this.initiateUpdateAction(editArgs);\n                this.parent.isOnEdit = false;\n            }\n        }\n    };\n    /**\n     * Method to copy the ganttProperties values\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     * @param args\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        this.taskbarMoved = this.isTaskbarMoved(args.data);\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor) {\n            validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param data method to trigger validate predecessor link by dialog\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        var blazorArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        if (isBlazor()) {\n            blazorArgs = __assign({}, newArgs);\n            this.parent.updateDataArgs(newArgs);\n            this.parent.currentEditedArgs = blazorArgs;\n        }\n        this.parent.actionBeginTask(newArgs);\n        return isBlazor() ? blazorArgs : newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    /**\n     *\n     * @param args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.updateParentChildRecord(ganttRecord);\n        if (this.parent.isConnectorLineUpdate) {\n            /* validating predecessor for updated child items */\n            for (var i = 0; i < this.validatedChildItems.length; i++) {\n                var child = this.validatedChildItems[i];\n                if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                    this.parent.editedTaskBarItem = child;\n                    this.parent.predecessorModule.validatePredecessor(child, [], '');\n                }\n            }\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n            }\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem || this.parent.taskMode !== 'Auto') {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        this.initiateSaveAction(args);\n    };\n    /**\n     * To update parent records while perform drag action.\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && this.parent.taskMode === 'Auto') {\n            this.updateChildItems(ganttRecord);\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.startDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.endDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     *\n     * @param data\n     * @param newStartDate\n     */\n    Edit.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    /**\n     * To update progress value of parent tasks\n     * @param cloneParent\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     * @param args\n     * @private\n     */\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                this.parent.treeGrid.grid.setRowData(originalData.ganttProperties.rowUniqueID, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     * @param existing\n     * @param newValue\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     *\n     * @param ganttRecord\n     */\n    Edit.prototype.updateChildItems = function (ganttRecord) {\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To get updated child records.\n     * @param parentRecord\n     * @param childLists\n     */\n    Edit.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        var modifiedTaskData = [];\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords);\n        if (args.action && args.action === 'DrawConnectorLine') {\n            eventArgs.action = 'DrawConnectorLine';\n        }\n        if (isBlazor()) {\n            eventArgs = this.parent.updateDataArgs(eventArgs);\n            modifiedTaskData = eventArgs.modifiedTaskData;\n        }\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (eventArgs.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties();\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: isBlazor() ? modifiedTaskData : eventArgs.modifiedTaskData\n                    };\n                    /* tslint:disable-next-line */\n                    var crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, new Query());\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.saveSuccess(args);\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    /**\n     * Method for save action success for local and remote data\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing(tempArray, args.action);\n        }\n        this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        if (this.parent.isConnectorLineUpdate && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n            this.updateScheduleDatesOnEditing(args);\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords);\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            if (isBlazor()) {\n                this.parent.updateDataArgs(eventArgs);\n            }\n            this.parent.trigger('actionComplete', eventArgs);\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n            if (isBlazor()) {\n                this.parent.updateDataArgs(eventArgs);\n            }\n        }\n    };\n    Edit.prototype.resetEditProperties = function () {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule)) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     * @return {void}\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' },\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            var deleteRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < selectedRecords.length; i++) {\n                    /* tslint:disable-next-line */\n                    if (selectedRecords[i].parentItem) {\n                        for (var j = 0; j < this.parent.getTaskIds().length; j++) {\n                            if (this.parent.getTaskIds()[j] === 'T' + selectedRecords[i].ganttProperties.taskId) {\n                                deleteRecords.push(this.parent.currentViewData[j]);\n                            }\n                        }\n                    }\n                }\n                this.deleteRow(deleteRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                this.deleteRow(this.targetedRecords);\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                var taskId = taskDetail.toString();\n                if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                    this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                }\n                break;\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     * @param taskDetailArray\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var taskId = taskDetailArray[i].toString();\n                    if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var flatData = this.parent.flatData;\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            for (var i = 0; i < rowItems.length; i++) {\n                var deleteRecord = rowItems[i];\n                if (this.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    continue;\n                }\n                if (deleteRecord.parentItem) {\n                    var childRecord = this.parent.getParentTask(deleteRecord.parentItem).childRecords;\n                    var filteredRecord = childRecord.length === 1 ?\n                        childRecord : childRecord.filter(function (data) {\n                        return !data.isDelete;\n                    });\n                    if (filteredRecord.length > 0) {\n                        this.parent.dataOperation.updateParentItems(deleteRecord.parentItem);\n                    }\n                }\n                var predecessor = deleteRecord.ganttProperties.predecessor;\n                if (predecessor && predecessor.length) {\n                    this.removePredecessorOnDelete(deleteRecord);\n                }\n                this.deletedTaskDetails.push(deleteRecord);\n                if (deleteRecord.hasChildRecords) {\n                    this.deleteChildRecords(deleteRecord);\n                }\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            if (predecessor.from.toString() === record.ganttProperties.rowUniqueID.toString()) {\n                var toRecord = this.parent.getRecordByID(predecessor.to.toString());\n                var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                var index = void 0;\n                for (var t = 0; t < toRecordPredcessor.length; t++) {\n                    if (toRecordPredcessor[t].to.toString() === toRecord.ganttProperties.rowUniqueID.toString()\n                        && toRecordPredcessor[t].from.toString() === record.ganttProperties.rowUniqueID.toString()) {\n                        index = t;\n                        break;\n                    }\n                }\n                toRecordPredcessor.splice(index, 1);\n                this.updatePredecessorValues(toRecord, toRecordPredcessor);\n            }\n            else if (predecessor.to.toString() === record.ganttProperties.rowUniqueID.toString()) {\n                var fromRecord = this.parent.getRecordByID(predecessor.from.toString());\n                var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                var index = void 0;\n                for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                    if (fromRecordPredcessor[t].from.toString() === fromRecord.ganttProperties.rowUniqueID.toString()\n                        && fromRecordPredcessor[t].to.toString() === record.ganttProperties.rowUniqueID.toString()) {\n                        index = t;\n                        break;\n                    }\n                }\n                fromRecordPredcessor.splice(index, 1);\n                this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            if (predecessor && predecessor.length) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            this.deletedTaskDetails.push(childRecord);\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        var taskFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection);\n        var blazorArgs = {};\n        if (isBlazor()) {\n            eventArgs = this.parent.updateDataArgs(eventArgs);\n            blazorArgs.modifiedTaskData = eventArgs.modifiedTaskData;\n            blazorArgs.data = eventArgs.data;\n        }\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (eventArgs.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        /* tslint:disable-next-line */\n                        deletedRecords: isBlazor() ? getTaskData(blazorArgs.data) : getTaskData(eventArgs.data),\n                        changedRecords: isBlazor() ? blazorArgs.modifiedTaskData : eventArgs.modifiedTaskData\n                    };\n                    if (isBlazor()) {\n                        var blazAddedRec = 'addedRecords';\n                        updatedData[blazAddedRec] = [];\n                    }\n                    var crud = data.saveChanges(updatedData, _this.parent.taskFields.id);\n                    crud.then(function (e) { return _this.deleteSuccess(args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = this.parent.getRecordFromFlatdata(args.deletedRecordCollection);\n        var deleteRecordIDs = [];\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = currentData.indexOf(deleteRecord);\n            var flatIndex = flatData.indexOf(deleteRecord);\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            deleteRecordIDs.push(deleteRecord.ganttProperties.rowUniqueID.toString());\n            if (flatIndex !== -1) {\n                this.parent.ids.splice(flatIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(flatIndex, 1);\n                }\n            }\n            if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n            }\n            if (deleteRecord.parentItem) {\n                var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                if (parentItem) {\n                    var childRecords = parentItem.childRecords;\n                    childIndex = childRecords.indexOf(deleteRecord);\n                    if (childIndex !== -1) {\n                        childRecords.splice(childIndex, 1);\n                    }\n                    if (!childRecords.length) {\n                        parentItem.hasChildRecords = false;\n                    }\n                }\n            }\n            this.updateTreeGridUniqueID(deleteRecord, 'delete');\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        // this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(flatData);\n        this.parent.treeGrid.refresh();\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection);\n        setValue('action', args.action, eventArgs);\n        if (isBlazor()) {\n            this.parent.updateDataArgs(eventArgs);\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        this.parent.hideSpinner();\n    };\n    /**\n     *\n     * @return {number | string}\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var maxId = DataUtil.aggregates.max(this.parent.flatData, this.parent.taskFields.id);\n        if (!isNullOrUndefined(maxId)) {\n            return parseInt(maxId.toString(), 10) + 1;\n        }\n        else {\n            return 1;\n        }\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1 && !this.parent.isSameResourceAdd) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                obj[taskModel.id] = isNullOrUndefined(obj[taskModel.id]) ? null : parseInt(obj[taskModel.id], 10);\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (taskModel.name && !obj[taskModel.name]) {\n            obj[taskModel.name] = 'New Task' + ' ' + obj[taskModel.id];\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                startDate.setDate(startDate.getDate() + 4);\n                obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.dateFormat);\n            }\n        }\n    };\n    /**\n     *\n     * @return {IGanttData}\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem) {\n        var cAddedRecord;\n        cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        cAddedRecord.index = parseInt(cAddedRecord.ganttProperties.rowUniqueID.toString(), 10) - 1;\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n            }\n        }\n        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        // need to push in dataSource also.\n        this.parent.isOnEdit = true;\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        else {\n            if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n                this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n            }\n        }\n        return cAddedRecord;\n    };\n    /**\n     *\n     * @return {number}\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     *\n     * @return {number}\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var id;\n        var updatedPredecessor = [];\n        for (var count = 0; count < len; count++) {\n            if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                var predecessorCollections = void 0;\n                predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                predecessorCollections.splice(predecessorIndex, 1);\n                this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n            }\n            else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                var stringPredecessor = this.predecessorToString(childRecord.ganttProperties.predecessor, parentRecord);\n                var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                var ind = prdcList.indexOf(str);\n                prdcList.splice(ind, 1);\n                this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                var temppredecessorCollection = void 0;\n                temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                temppredecessorCollection.splice(predecessorIndex, 1);\n                this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                this.parent.predecessorModule.validatePredecessorDates(childRecord);\n            }\n        }\n        this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n        this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n    };\n    /**\n     *\n     * @return {string}\n     * @private\n     */\n    Edit.prototype.predecessorToString = function (predecessorCollection, record) {\n        var predecessorString = [];\n        var count = 0;\n        var length = predecessorCollection.length;\n        for (count; count < length; count++) {\n            if (record.ganttProperties.rowUniqueID.toString() !== predecessorCollection[count].from) {\n                var tem = predecessorCollection[count].from + predecessorCollection[count].type;\n                predecessorCollection[count].offset =\n                    isNaN(predecessorCollection[count].offset) ? 0 : predecessorCollection[count].offset;\n                if (predecessorCollection[count].offset !== 0) {\n                    if (predecessorCollection[count].offset < 0) {\n                        tem += predecessorCollection[count].offset.toString() + 'd';\n                    }\n                    else if (predecessorCollection[count].offset > 0) {\n                        tem += '+' + predecessorCollection[count].offset.toString() + 'd';\n                    }\n                }\n                predecessorString.push(tem);\n            }\n        }\n        return predecessorString.join(',');\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item \n                    if (!this.addRowSelectedItem.expanded) {\n                        this.parent.expandByID(Number(this.addRowSelectedItem.ganttProperties.rowUniqueID));\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.addRowSelectedItem.hasChildRecords = true;\n                    this.addRowSelectedItem.childRecords = [];\n                    this.addRowSelectedItem.expanded = true;\n                    this.addRowSelectedItem.ganttProperties.isMilestone = false;\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     *\n     * @return {ITaskAddedEventArgs}\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @return {ITaskAddedEventArgs}\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        eventArgs.data = cAddedRecord;\n        eventArgs.newTaskData = getTaskData([cAddedRecord])[0];\n        eventArgs.recordIndex = cAddedRecord.index;\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords);\n        return eventArgs;\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        // this.parent.updatedConnectorLineCollection = [];\n        // this.parent.connectorLineIds = [];\n        // this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.refresh();\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = this.parent.dataSource;\n        if (rowPosition === 'Top') {\n            dataSource.splice(0, 0, addedRecord.taskData);\n        }\n        else if (rowPosition === 'Bottom') {\n            dataSource.push(addedRecord);\n        }\n        else {\n            if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID)) {\n                dataSource.push(addedRecord.taskData);\n            }\n            else {\n                this.addDataInRealDataSource(dataSource, addedRecord.taskData, rowPosition);\n            }\n        }\n        this.isBreakLoop = false;\n    };\n    /**\n     *\n     * @return {boolean | void}\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                if (rowPosition === 'Above') {\n                    dataCollection.splice(i, 0, record);\n                }\n                else if (rowPosition === 'Below') {\n                    dataCollection.splice(i + 1, 0, record);\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to add new record.\n     * @param {Object | IGanttData} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @return {void}\n     * @private\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n                this.parent.selectionModule ?\n                    (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                        this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                        this.parent.selectionModule.selectedRowIndexes[0] :\n                        this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                            this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n            this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.currentViewData[selectedRowIndex];\n            rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n            data = isNullOrUndefined(data) ? this.parent.editModule.dialogModule.composeAddRecord() : data;\n            if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n                isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n                || rowPosition === 'Below'\n                || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n                && rowPosition !== 'Below'\n                && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n                rowPosition !== 'Bottom')) {\n                rowPosition = 'Top';\n            }\n            var level = 0;\n            var cAddedRecord_1;\n            var args = {};\n            var parentItem = void 0;\n            switch (rowPosition) {\n                case 'Top':\n                case 'Bottom':\n                    level = 0;\n                    break;\n                case 'Above':\n                case 'Below':\n                    level = this.addRowSelectedItem.level;\n                    parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                    break;\n                case 'Child':\n                    level = this.addRowSelectedItem.level + 1;\n                    parentItem = this.addRowSelectedItem;\n                    break;\n            }\n            //Add Action Init.\n            this.prepareNewlyAddedData(data, rowPosition);\n            cAddedRecord_1 = this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem);\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            this.parent.showSpinner();\n            var blazorArgs_1 = {};\n            if (isBlazor()) {\n                if (!Array.isArray(args.data)) {\n                    var customData = [];\n                    customData.push(args.data);\n                    setValue('data', customData, args);\n                }\n                blazorArgs_1 = __assign({}, args);\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                if (!args.cancel) {\n                    if (isBlazor()) {\n                        blazorArgs_1.data = blazorArgs_1.data[0];\n                        args = blazorArgs_1;\n                        _this._resetProperties();\n                    }\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_1 = _this.parent.dataSource;\n                        var updatedData = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var crud = data_1.saveChanges(updatedData, _this.parent.taskFields.id, null, new Query());\n                        crud.then(function (e) {\n                            if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                e.addedRecords[0][_this.parent.taskFields.id] !== args.data.ganttProperties.rowUniqueID) {\n                                _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                _this.parent.setRecordValue('taskData.' + _this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                            }\n                            if (cAddedRecord_1.level === 0) {\n                                _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                            }\n                            _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                            _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                            _this._resetProperties();\n                        }).catch(function (e) {\n                            _this.removeAddedRecord();\n                            _this.dmFailure(e, args);\n                            _this._resetProperties();\n                        });\n                    }\n                    else {\n                        _this.updateRealDataSource(args.data, rowPosition);\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        _this._resetProperties();\n                    }\n                }\n                else {\n                    args = isBlazor() ? blazorArgs_1 : args;\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    if (_this.dialogModule.dialog && !_this.dialogModule.dialogObj.isDestroyed) {\n                        _this.dialogModule.dialogObj.hide();\n                    }\n                    _this.dialogModule.dialogClose();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    /**\n     * Method to reset the flag after adding new record\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray.push(args.data);\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing(tempArray, args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        if (isBlazor()) {\n            this.parent.updateDataArgs(args);\n        }\n        this.parent.trigger('actionComplete', args);\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     * @return {void}\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     * @return {void}\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","import { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     * @return {void}\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     * @return {void}\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && this.parent.filterSettings.type === 'Menu' && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.filter;\n        }\n    };\n    /**\n     * To get filter menu UI\n     * @param column\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue') });\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue') });\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     * @param args\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && this.parent.element.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (args.requestType === filterAfterOpen) {\n            this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                instanceObj.index = 2;\n                instanceObj.dataBind();\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues))) {\n                var element = this.filterMenuElement.querySelector('.e-numerictextbox');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.left - gridPos.left;\n        var top = liPos.top - gridPos.top;\n        if (gridPos.height < top) {\n            top = top - ul.offsetHeight + liPos.height;\n        }\n        else if (gridPos.height < top + ul.offsetHeight) {\n            top = gridPos.height - ul.offsetHeight;\n        }\n        if (window.innerHeight < ul.offsetHeight + top + gridPos.top) {\n            top = window.innerHeight - ul.offsetHeight - gridPos.top;\n        }\n        left += (this.parent.enableRtl ? -ul.offsetWidth : liPos.width);\n        if (gridPos.width <= left + ul.offsetWidth) {\n            left -= liPos.width + ul.offsetWidth;\n        }\n        else if (left < 0) {\n            left += ul.offsetWidth + liPos.width;\n        }\n        ul.style.top = top + 7 + 'px';\n        ul.style.left = left + 7 + 'px';\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        this.parent.element.appendChild(element);\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args), this.parent.treeGrid.grid);\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * To destroy module\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     * @return {void}\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     * @param {string} columnName - Defines the sorted column name to remove.\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend, isBlazor } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module name\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if (this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest;\n        args.isShiftPressed = this.isMultiShiftRequest;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.parent.trigger('rowSelecting', args);\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = args[rowIndexes] || args.rowIndex;\n        this.removeClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @return {void}\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @return {void}\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @return {void}\n     */\n    Selection.prototype.selectRow = function (index, isToggle) {\n        var selectedRow = this.parent.getRowByIndex(index);\n        if (index === -1 || isNullOrUndefined(selectedRow) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        this.parent.treeGrid.selectRow(index, isToggle);\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @return {void}\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     * @return {number[]}\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     * @return {number[]}\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     * @return {Object[]}\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (isBlazor()) {\n            return this.parent.getRecordFromFlatdata(this.parent.treeGrid.getSelectedRecords());\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     * @return {IGanttData[]}\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        if (isBlazor()) {\n            return this.parent.getRecordFromFlatdata(cellSelectedRecords);\n        }\n        else {\n            return cellSelectedRecords;\n        }\n    };\n    /**\n     * Gets the collection of selected rows.\n     * @return {Element[]}\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     * @return {void}\n     */\n    Selection.prototype.clearSelection = function () {\n        this.removeClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        var rows = closest(e.target, 'tbody').children;\n        var selectedRow = closest(e.target, 'tr.e-chart-row');\n        var rIndex = [].slice.call(rows).indexOf(selectedRow);\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        var isToggle = this.parent.selectionSettings.enableToggle;\n        if (fromChart) {\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                this.selectRow(rIndex, isToggle);\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @return {void}\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addClass = function (records) {\n        var ganttRow = document.getElementById(this.parent.element.id + 'GanttTaskTableBody').children;\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(ganttRow[records[i]])) {\n                addClass([ganttRow[records[i]]], 'e-active');\n                ganttRow[records[i]].setAttribute('aria-selected', 'true');\n            }\n        }\n    };\n    Selection.prototype.removeClass = function (records) {\n        if (!this.parent.selectionSettings.persistSelection) {\n            var ganttRow = document.getElementById(this.parent.element.id + 'GanttTaskTableBody').children;\n            /* tslint:disable-next-line:no-any */\n            var rowIndex = isBlazor() && isNullOrUndefined(records.length) ? [records] : records;\n            for (var i = 0; i < rowIndex.length; i++) {\n                removeClass([ganttRow[rowIndex[i]]], 'e-active');\n                ganttRow[rowIndex[i]].removeAttribute('aria-selected');\n            }\n        }\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /** @private */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && this.selectedRowIndexes.length === 0) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To destroy the selection module.\n     * @return {void}\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport', 'PdfExport'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport', 'PdfExport'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = item.toLowerCase();\n                var localeName = item[0].toLowerCase() + item.slice(1);\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">\\\n                <input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\" \\\n                placeholder= \\\"' + searchLocalText + '\\\"/>\\\n                <span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\"></span> \\\n                </div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.appendTo(this.element);\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        if (this.parent.isAdaptive) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                floatLabelType: 'Never',\n                showClearButton: true,\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        this.parent.off('ui-toolbarupdate', this.propertyChanged);\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            switch (typeof item) {\n                case 'string':\n                    items.push(this.getItemObject(item));\n                    break;\n                default:\n                    items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (args) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        extend(args, { cancel: false });\n        gObj.trigger(events.toolbarClick, args, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        var searchButtonId = getValue('originalEvent.target.id', args);\n                        if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                            var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                            if (_this.parent.searchSettings.key !== keyVal) {\n                                _this.parent.searchSettings.key = keyVal;\n                                _this.parent.dataBind();\n                            }\n                        }\n                        break;\n                    case gID + '_searchbutton':\n                        var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                        adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                        adaptiveSearchbar.style.display = 'block';\n                        break;\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     *\n     * @return {void}\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     */\n    Toolbar.prototype.refreshToolbarItems = function () {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var isSelected = gObj.selectionModule ? gObj.selectionModule.selectedRowIndexes.length === 1 ||\n            gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel'];\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.currentViewData && gObj.currentViewData.length;\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            edit.allowEditing && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.selectedRowIndexes.length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            edit.allowDeleting && hasData && isDeleteSelected && !touchEdit ?\n                enableItems.push(gID + '_delete') : disableItems.push(gID + '_delete');\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 && disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @return {void}\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     * @method destroy\n     * @return {void}\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.toolbar.destroy();\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","import { createElement, formatUnit, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            this.parent.ganttChartModule.chartBodyContent.appendChild(this.nonworkingContainer);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var scrollElement = this.parent.ganttChartModule.scrollElement;\n        var viewportHeight = parseInt(scrollElement.style.height, 10);\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false);\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: \"left:\" + left + \"px; width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var startDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: \"left:\" + left + \"px;width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.contentHeight;\n        var scrollElement = this.parent.ganttChartModule.scrollElement;\n        var viewportHeight = parseInt(scrollElement.style.height, 10);\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(this.parent.contentHeight);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(this.parent.contentHeight);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n        }\n    };\n    /**\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day), false);\n            eventMarkerElement = createElement('div', {\n                className: cls.eventMarkersChild, styles: \"left:\" + left + \"px;  height:100%;\",\n                id: 'stripline' + i\n            });\n            if (this.parent.eventMarkers[i].label) {\n                spanElement = createElement('div', {\n                    className: cls.eventMarkersSpan,\n                });\n                var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                spanElement[property] = this.parent.eventMarkers[i].label;\n                eventMarkerElement.appendChild(spanElement);\n                rightArrow = createElement('div', {\n                    className: 'e-gantt-right-arrow'\n                });\n                eventMarkerElement.appendChild(rightArrow);\n            }\n            if (this.parent.eventMarkers[i].cssClass) {\n                eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n            }\n            eventMarkerElement.setAttribute('tabindex', '-1');\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day : this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n            }\n            container.appendChild(eventMarkerElement);\n        }\n    };\n    /**\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.contentHeight);\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.eventMarkerRender.renderEventMarkers();\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, getElement, isBlazor } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                var position = this.item;\n                var data = extend({}, {}, this.rowData.taskData, true);\n                var taskfields = this.parent.taskFields;\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                    delete data[taskfields.child];\n                }\n                if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                    data[taskfields.parentID] = null;\n                }\n                if (this.rowData) {\n                    var rowIndex = this.parent.currentViewData.indexOf(this.rowData);\n                    this.parent.addRecord(data, position, rowIndex);\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                break;\n            case 'DeleteTask':\n                this.parent.editModule.deleteRecord(this.rowData);\n                break;\n            case 'ToTask':\n                data = extend({}, {}, this.rowData.taskData, true);\n                taskfields = this.parent.taskFields;\n                if (!isNullOrUndefined(taskfields.duration)) {\n                    var ganttProp = this.rowData.ganttProperties;\n                    data[taskfields.duration] = '1 ' + ganttProp.durationUnit;\n                }\n                else {\n                    data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                    var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                    endDate.setDate(endDate.getDate() + 1);\n                    data[taskfields.endDate] = endDate;\n                }\n                if (!isNullOrUndefined(data[taskfields.milestone])) {\n                    if (data[taskfields.milestone] === true) {\n                        data[taskfields.milestone] = false;\n                    }\n                }\n                this.parent.updateRecordByID(data);\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n        }\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        args.gridRow = closest(args.event.target, '.e-row');\n        args.chartRow = closest(args.event.target, '.e-chart-row');\n        var menuElement = closest(args.event.target, '.e-gantt');\n        var editForm = closest(args.event.target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement)) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                rowIndex = parseInt(args.gridRow.getAttribute('aria-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                rowIndex = parseInt(getValue('rowIndex', args.chartRow), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.currentViewData[rowIndex];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var target = args.event.target;\n                if (!item.separator) {\n                    this.updateItemStatus(item, target);\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (args) {\n                callBackPromise_1.resolve(args);\n                if (isBlazor()) {\n                    args.element = !isNullOrUndefined(args.element) ? getElement(args.element) : args.element;\n                    args.gridRow = !isNullOrUndefined(args.gridRow) ? getElement(args.gridRow) : args.gridRow;\n                    args.chartRow = !isNullOrUndefined(args.chartRow) ? getElement(args.chartRow) : args.chartRow;\n                }\n                _this.hideItems = args.hideItems;\n                _this.disableItems = args.disableItems;\n                if (!args.parentItem && args.hideItems.length === args.items.length) {\n                    _this.revertItemStatus();\n                    args.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        var subMenu_1 = [];\n                        if (!this.rowData.ganttProperties.isMilestone) {\n                            subMenu_1.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu_1.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu_1;\n                    }\n                    break;\n                case 'DeleteDependency':\n                    var items = this.getPredecessorsItems();\n                    if (this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else if (items.length > 0) {\n                        item.items = items;\n                    }\n                    break;\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    var subMenu = [];\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function () {\n        this.isOpen = true;\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : ''\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        if (isBlazor() && isNullOrUndefined(this.disableItems)) {\n            this.disableItems = [];\n        }\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     * @return {void}\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Excel Export module\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     * @return {void}\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     * @return {void}\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left = getValue('event', args.originalEvent).clientX - ganttLeft;\n        var top = getValue('event', args.originalEvent).clientY - ganttTop;\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.filterSettings.columns.length > 0 || this.parent.sortSettings.columns.length > 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        var ganttDragelem = document.querySelector('.e-ganttdrag');\n        if (ganttDragelem) {\n            ganttDragelem.remove();\n        }\n        args.dropRecord = this.parent.currentViewData[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (!args.cancel) {\n            args.cancel = true;\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            this.dropRows(args, true); // method to update the data collections based on drop action\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        this.dropPosition = args.dropPosition;\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var gObj = this.parent;\n            var draggedRecord = void 0;\n            var droppedRecord = void 0;\n            this.droppedRecord = gObj.currentViewData[args.dropIndex];\n            var dragRecords = [];\n            droppedRecord = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var count = 0;\n            var dragLength = dragRecords.length;\n            for (var i = 0; i < dragLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRecord = dragRecords[i];\n                this.draggedRecord = draggedRecord;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.ganttData.indexOf(droppedRecord);\n                    if (this.dropPosition === 'topSegment') {\n                        this.dropAtTop(recordIndex1);\n                    }\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRecord.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.parent.dataSource.length > 0) {\n                                this.parent.dataSource.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.flatData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            count = this.parent.editModule.getChildCount(droppedRecord, 0);\n                            if (this.parent.taskFields.parentID && this.parent.dataSource.length > 0) {\n                                this.parent.dataSource.splice(recordIndex1 + count + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.ganttData.splice(recordIndex1 + count + 1, 0, this.draggedRecord);\n                            this.parent.flatData.splice(recordIndex1 + count + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + count + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        draggedRecord.parentItem = this.ganttData[recordIndex1].parentItem;\n                        draggedRecord.parentUniqueID = this.ganttData[recordIndex1].parentUniqueID;\n                        draggedRecord.level = this.ganttData[recordIndex1].level;\n                        if (draggedRecord.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRecord, level);\n                            this.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                        }\n                        if (droppedRecord.parentItem) {\n                            var rec = this.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                            var childRecords = rec;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRecord.parentItem && this.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                        this.updateParentRecords.push(draggedRecord.parentItem);\n                    }\n                }\n                gObj.rowDragAndDropModule.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (droppedRecord.ganttProperties.predecessor) {\n                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                    droppedRecord.ganttProperties.predecessor = null;\n                    droppedRecord.ganttProperties.predecessorsName = null;\n                    droppedRecord[this.parent.taskFields.dependency] = null;\n                    droppedRecord.taskData[this.parent.taskFields.dependency] = null;\n                }\n                if (droppedRecord.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            // method to update the edited parent records\n            for (var j = 0; j < this.updateParentRecords.length; j++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.parent.treeGrid.refresh();\n        args.requestType = 'rowDropped';\n        args.modifiedRecords = this.parent.editedRecords;\n        this.parent.trigger('actionComplete', args);\n        this.parent.editedRecords = [];\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            tempDataSource = proxy.dataSource.dataSource.json;\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (tempDataSource[i][this.parent.taskFields.child] === droppedRecord.taskData[this.parent.taskFields.child]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource(draggedRecord, rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRecord[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.parentID];\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRecord[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.id];\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n            }\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment') {\n            if (gObj.taskFields.parentID && this.parent.dataSource.length > 0) {\n                this.parent.dataSource.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.flatData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            draggedRecord.parentItem = createParentItem;\n            draggedRecord.parentUniqueID = droppedRecord.uniqueID;\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID && !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            this.ganttData = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            this.ganttData = this.parent.currentViewData;\n        }\n        var deletedRow;\n        deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(deletedRow);\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (gObj.taskFields.parentID && this.parent.dataSource.length > 0) {\n            this.parent.dataSource.splice(recordIndex1, 0, this.draggedRecord.taskData);\n        }\n        this.draggedRecord.parentItem = this.ganttData[recordIndex1].parentItem;\n        this.draggedRecord.parentUniqueID = this.ganttData[recordIndex1].parentUniqueID;\n        this.draggedRecord.level = this.ganttData[recordIndex1].level;\n        this.ganttData.splice(recordIndex1, 0, this.draggedRecord);\n        this.parent.flatData.splice(recordIndex1, 0, this.draggedRecord);\n        this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n        if (this.draggedRecord.hasChildRecords) {\n            var level = 1;\n            this.updateChildRecord(this.draggedRecord, recordIndex1);\n            this.updateChildRecordLevel(this.draggedRecord, level);\n        }\n        if (this.droppedRecord.parentItem) {\n            var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n            var childRecords = rec;\n            var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n            childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n        }\n        if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n            this.updateParentRecords.push(this.draggedRecord.parentItem);\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                parentData = this.parent.getParentTask(record.parentItem);\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.currentViewData.splice(count, 0, currentRecord);\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                gObj.dataSource.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (deletedRow && !this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    this.ganttData.splice(idx, 1);\n                    this.parent.flatData.splice(idx, 1);\n                    this.parent.ids.splice(idx, 1);\n                }\n            }\n            var recordIndex = this.ganttData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.ganttData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var gObj = this.parent;\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            ganttData = this.parent.dataSource.length > 0 ?\n                this.parent.dataSource : this.parent.currentViewData;\n            for (var i_1 = 0; i_1 < ganttData.length; i_1++) {\n                if (ganttData[i_1][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = i_1;\n                }\n            }\n            if (idx !== -1) {\n                if (gObj.dataSource.length > 0) {\n                    gObj.dataSource.splice(idx, 1);\n                }\n                this.ganttData.splice(idx, 1);\n                this.parent.flatData.splice(idx, 1);\n                this.parent.ids.splice(idx, 1);\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (fromIndexes[0] !== toIndex && position === 'above' || 'below' || 'child') {\n            if (position === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (position === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (position === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var data = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                data[i] = this.parent.currentViewData[fromIndexes[i]];\n            }\n            var isByMethod = true;\n            var args = {\n                data: data,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            this.dropRows(args, isByMethod);\n        }\n        else {\n            return;\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            if (this.ganttStyle) {\n                return this.ganttStyle;\n            }\n            else {\n                this.setTheme(this.ganttStyle, 'Material');\n                return this.ganttStyle;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* tslint:disable-next-line:max-func-body-length */\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* tslint:disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        originalHeight = this.currentBounds.y;\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            var height_1 = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height_1 > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height_1);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height_1);\n                }\n            }\n            else if (this.currentBounds.y + height_1 > this.currentPageBounds.height ||\n                this.currentBounds.y + height_1 > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height_1);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height_1);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height_1);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (column.isTreeColumn) {\n                    leftAdjustment = (row.level) * 10;\n                }\n                var cancelSpans = ((i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n                if (!cancelSpans) {\n                    for (var j = 1; j < cell.columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(column.width, height);\n                if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                    cell.style.format = column.format;\n                }\n                /* tslint:disable-next-line */\n                var stringResult = cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                /* tslint:disable-next-line */\n                if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                    row.rowOverflowIndex = this.cellEndIndex;\n                }\n                location_1.x += column.width;\n                leftAdjustment = 0;\n            }\n            this.currentBounds.y += height;\n            /* tslint:disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     *\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            /* tslint:disable-next-line */\n            var stringResult = cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseBeginCellDraw\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseEndCellDraw\", {\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     * @private\n     */\n    /* tslint:disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 == null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = this.rows.getRow(0).cells.getCell(0).style;\n            if (style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    PdfTreeGrid.prototype.onBeginCellDraw = function (args) {\n        if (this.raiseBeginCellDraw) {\n            this.beginCellDraw(this, args);\n        }\n    };\n    PdfTreeGrid.prototype.onEndCellDraw = function (args) {\n        if (this.raiseEndCellDraw) {\n            this.endCellDraw(this, args);\n        }\n    };\n    /* tslint:disable-next-line:max-func-body-length */\n    PdfTreeGrid.prototype.setSpan = function () {\n        var colSpan = 1;\n        var rowSpan = 1;\n        var currentCellIndex = 0;\n        var currentRowIndex = 0;\n        var maxSpan = 0;\n        var rowCount = this.headers.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.headers.getHeader(i);\n            maxSpan = 0;\n            var colCount = row.cells.count;\n            for (var j = 0; j < colCount; j++) {\n                var cell = row.cells.getCell(j);\n                maxSpan = Math.max(maxSpan, cell.rowSpan);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.rowSpan + i > this.headers.count) {\n                        throw new Error('Invalid span specified at Header ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //Set Column merges for first row\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).rowSpan = rowSpan;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        //Set Row Merges and column merges foreach subsequent rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //Set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //Set row Merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n            row.maximumRowSpan = maxSpan;\n        }\n        colSpan = rowSpan = 1;\n        currentCellIndex = currentRowIndex = 0;\n        rowCount = this.rows.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.rows.getRow(i);\n            var colcount = row.cells.count;\n            for (var j = 0; j < colcount; j++) {\n                var cell = row.cells.getCell(j);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.rowSpan + i > this.rows.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //set Column merges for first row.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        // Set row merges and column merges for each subsequentt rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.rows.getRow(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //set row merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**\n *\n */\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* tslint:disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            /* tslint:disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @private\n     */\n    /* tslint:disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders.left.width + this.style.borders.right.width;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width, 0), false, new SizeF(0, 0));\n            height += slr.actualSize.height;\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* tslint:enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i).width;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        if (cancelSubsequentSpans) {\n            // Cancel all subsequent cell spans, if no space exists.\n            var currentCellIndex = this.row.cells.indexOf(this);\n            for (var i = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n                this.row.cells.getCell(i).isCellMergeContinue = false;\n                this.row.cells.getCell(i).isRowMergeContinue = false;\n            }\n            this.columnSpan = 1;\n        }\n        // Skip cells which were already covered by span map.\n        if (this.isCellMergeContinue || this.isRowMergeContinue) {\n            if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n                if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n                    (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n                    return result;\n                }\n                else {\n                    return result;\n                }\n            }\n        }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            innerLayoutArea.x = innerLayoutArea.x;\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* tslint:disable-next-line */\n                graphics.drawString(temp, font, textPen, textBrush, (innerLayoutArea.x + leftAdjustment), innerLayoutArea.y, this.style.format);\n            }\n            else {\n                /* tslint:disable-next-line */\n                graphics.drawString(this.remainingString, font, textPen, textBrush, (innerLayoutArea.x + leftAdjustment), innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        if (this.style.borders != null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush != null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage != null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            if (this.style.borders.left.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            if (this.style.borders.right.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            if (this.style.borders.top.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            if (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation    \n    /**\n     * `Adds` this instance.\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* tslint:disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = this.cells.getCell(0).height;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        /* tslint:disable-next-line */\n        this._headerText = '';\n        /* tslint:disable-next-line */\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         * @private\n         */\n        get: function () {\n            if (this.stringFormat == null) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","import { PdfFontFamily } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.parent = parent;\n    }\n    /**\n     * @return {void}\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        cell.value = args.value;\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        var templateColumn = !isNullOrUndefined(column.template) ? false : true;\n        return (visibleColumn && templateColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            this.flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], timelineSettings.bottomTierCollection, true);\n        this.gantt.chartHeader.width = timelineSettings.totalTimelineWidth;\n        this.gantt.chartHeader.height = this.gantt.rows.getRow(0).height;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.currentViewData);\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = this.parent.getFormatedDate(data[column.field]);\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (this.colIndex !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        if (this.parent.pdfQueryCellInfo != null) {\n            var args = {\n                data: data,\n                value: cell.value,\n                column: column,\n                style: cell.style,\n                cell: cell\n            };\n            args.value = this.exportValueFormatter.formatCellValue(args);\n            if (this.parent.pdfQueryCellInfo) {\n                this.parent.trigger('pdfQueryCellInfo', args);\n            }\n            cell.value = args.value;\n        }\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        this.flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            else {\n                taskbar.unscheduleStarteDate = null;\n                taskbar.unscheduleEndDate = null;\n            }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.width = ganttProp.width;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 30 : 30;\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n            }\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    /* tslint:disable-next-line:no-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : PdfFontFamily.TimesRoman;\n        var fontStyle = PdfFontStyle.Regular;\n        if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n            fontStyle |= PdfFontStyle.Bold;\n        }\n        if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n            fontStyle |= PdfFontStyle.Italic;\n        }\n        if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n            fontStyle |= PdfFontStyle.Underline;\n        }\n        if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n            fontStyle |= PdfFontStyle.Strikeout;\n        }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        this.mergeCells(0, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        cell.style.format = extend({}, {}, style.format, true);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        cell.style.padding.all = 10;\n    };\n    /**\n     * @return {void}\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82)) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        var section = this.pdfDoc.sections.add();\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content            \n            var bounds = new RectangleF(0, 0, pdfDoc.pageSettings.width, 35);\n            var pen = new PdfPen(this.ganttStyle.chartGridLineColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pdfDoc.pageSettings.width, 35);\n            /* tslint:disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* tslint:disable-next-line:no-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* tslint:disable-next-line:no-any */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n            /* tslint:disable-next-line:max-line-length */\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', skeleton: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', skeleton: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', skeleton: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    /* tslint:disable-next-line:max-line-length */\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* tslint:disable-next-line:max-line-length */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var nextPage = null;\n        var index = section.indexOf(page);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     * @private\n     */\n    /* tslint:disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar) {\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var taskPen = new PdfPen(taskbar.gridLineColor, 0.5);\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed \n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            yPoint = startPoint.y + rowHeight;\n            isNextPage = true;\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var pageIndex = -1;\n        if (!taskbar.isMilestone) {\n            var taskbarPen = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush = new PdfSolidBrush(taskbar.taskColor);\n            var progressPen = new PdfPen(taskbar.progressColor);\n            var progressBrush = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeight = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    if (this.progress > 0 && this.progressWidth > 0 && this.isScheduledTask) {\n                        taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(this.parent.taskFields.progress) && !isNullOrUndefined(this.parent.labelSettings.taskLabel)) {\n                            taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(this.progressWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && !(endDate < detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var renderWidth = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(renderWidth), pixelToPoint(taskbar.height));\n                    if (this.progress > 0 && this.progressWidth > 0 && this.isScheduledTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= renderWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = renderWidth;\n                        }\n                        taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.progressWidth === 0 && this.progress !== 0 && this.parent.labelSettings.taskLabel) {\n                            taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight), pixelToPoint(progressBoundsWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date \n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                if (this.isScheduledTask) {\n                    taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    if (this.progressWidth === 0 && this.progress !== 0) {\n                        taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight), pixelToPoint(this.progressWidth), pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                if (this.progress > 0 && this.progressWidth > 0 && this.isScheduledTask) {\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    this.progressWidth -= progressBoundsWidth;\n                    if (this.progressWidth === 0 && this.progress !== 0) {\n                        taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight), pixelToPoint(progressBoundsWidth), pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth);\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* tslint:enable */\n    /**\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var graphics = page.graphics;\n        var left;\n        if (this.rightTaskLabel.isLeftCalculated) {\n            left = this.rightTaskLabel.left;\n        }\n        else {\n            left = pixelToPoint(this.rightTaskLabel.left);\n        }\n        var actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n        if (detail.startPoint <= left && left < detail.endPoint &&\n            !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n            var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n            var font = new PdfStandardFont(this.fontFamily, 9);\n            var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n            var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n            var size = new SizeF(result.actualSize.width, result.actualSize.height);\n            var labelBounds = new RectangleF(point, size);\n            var labelFormat = new PdfStringFormat();\n            labelFormat.alignment = PdfTextAlignment.Right;\n            labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n            if (result.actualSize.width > 0) {\n                var fontColor = null;\n                var fontBrush = new PdfSolidBrush(this.labelColor);\n                /* tslint:disable-next-line */\n                graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                if (result.remainder !== null) {\n                    this.rightTaskLabel.value = result.remainder;\n                    this.rightTaskLabel.left = detail.endPoint;\n                    this.rightTaskLabel.isLeftCalculated = true;\n                }\n                else {\n                    this.rightTaskLabel.isCompleted = true;\n                }\n            }\n            else {\n                this.rightTaskLabel.left = detail.endPoint;\n            }\n        }\n    };\n    /**\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 30 : 30;\n                left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 10);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* tslint:disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font = new PdfStandardFont(this.fontFamily, 10);\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* tslint:disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        /* tslint:disable-next-line */\n        taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n    };\n    /**\n     * Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeight = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            taskGraphics.save(); //saving graphics state  \n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.6);\n            /* tslint:disable-next-line */\n            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n            taskGraphics.rotateTransform(45); //apply rotation\n            /* tslint:disable-next-line */\n            taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            taskGraphics.restore(); //restoring graphics state \n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint } from '../base/utils';\n/**\n *\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param page\n     * @param startPoint\n     * @param detail\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        var remainWidth = Math.floor(detail.totalWidth);\n        var renderWidth = 0;\n        var headerGraphics = page.graphics;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                /* tslint:disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, renderWidth, pHeader.value, true);\n                this.topTierPoint.x += pixelToPoint(renderWidth);\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.floor(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                /* tslint:disable-next-line */\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, width, secondHeader.value, false);\n                this.bottomTierPoint.x = this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                if (isCompleted) {\n                    this.bottomTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n    };\n    /**\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        var headerGraphics = page.graphics;\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* tslint:disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, pHeader.completedWidth, pHeader.value, true);\n                    this.topTierPoint.x += pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* tslint:disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, secondHeader.width, secondHeader.value, false);\n                    this.bottomTierPoint.x = this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* tslint:disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier) {\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value,\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen = new PdfPen(eventArgs.timelineCell.borderColor);\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        graphics.drawRectangle(rectPen, rectBrush, x, y, pixelToPoint(width), pixelToPoint(height));\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        var textBrush = new PdfSolidBrush(eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* tslint:disable-next-line */\n        graphics.drawString(eventArgs.value, font, null, textBrush, x + pLeft, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     * @return {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.parentIndex];\n        var childTask = pdfGantt.taskbarCollection[this.childIndex];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPoint = Math.round((this.parent.rowHeight - 1) / 2.0);\n        midPoint = pixelToPoint(midPoint);\n        /* tslint:disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n        var sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n        var ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n        var ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n        var sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, parentY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * @private\n     * Method to draw the predecessor lines with calculated connector points\n     */\n    /* tslint:disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * @private\n     * Method to check the predecessor line  occurs within the page\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * @private\n     * Find the PDF page index of given point\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * @private\n     * Draw predecessor line\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * @private\n     * Draw predecessor arrow\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* tslint:disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.type === 'FS' || this.type === 'SS') {\n            startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n        }\n        else {\n            startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.type === 'FS' || this.type === 'SS') {\n            point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n        }\n        else {\n            point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n        }\n        var point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    /* tslint:disable-next-line:max-func-body-length */\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            var nextPage = this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.cloneProjectStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    detail.startDate = new Date(timelineStartDate.getTime());\n                    var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                    detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                    detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                    detail.endDate = new Date(detail.startDate.getTime());\n                    var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                        / (this.chartHeader.bottomTierCellWidth));\n                    detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                    break;\n                case 'Hour':\n                    detail.startDate = new Date(timelineStartDate.getTime());\n                    var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                    detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                    detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                    detail.endDate = new Date(detail.startDate.getTime());\n                    var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                        / (this.chartHeader.bottomTierCellWidth));\n                    detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                    break;\n                case 'Day':\n                    detail.startDate = new Date(timelineStartDate.getTime());\n                    var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                    detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                    var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                        / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                    detail.endDate = new Date(detail.startDate.getTime());\n                    detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                    break;\n                case 'Week':\n                    detail.startDate = new Date(timelineStartDate.getTime());\n                    var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                    detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                    var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                        / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                    detail.endDate = new Date(detail.startDate.getTime());\n                    detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                    break;\n                case 'Month':\n                    detail.startDate = new Date(timelineStartDate.getTime());\n                    var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                    detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                    var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                        / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                    detail.endDate = new Date(detail.startDate.getTime());\n                    detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                    break;\n                case 'Year':\n                    detail.startDate = new Date(timelineStartDate.getTime());\n                    var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                    detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                    var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                        / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                    detail.endDate = new Date(detail.startDate.getTime());\n                    detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                    break;\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var totalHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var page_1 = _this.result.page.section.getPages()[_this.startPageIndex];\n                /* tslint:disable-next-line */\n                var isNextPage = task.drawTaskbar(page_1, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[i]);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    pageData.width = pixelToPoint(detail.totalWidth);\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                totalHeight += rowHeight;\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            pageData.width = pixelToPoint(detail.totalWidth);\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                var nextPage = _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     *\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);        \n    };\n    /**\n     *\n     */\n    /* tslint:disable-next-line */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc) {\n        var _this = this;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (getValue('cancel', args)) {\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    /* tslint:disable-next-line */\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.exportType === 'CurrentViewData') {\n            data = this.parent.currentViewData;\n        }\n        else {\n            data = this.parent.flatData;\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', {});\n            resolve(_this.pdfDocument);\n        });\n    };\n    /* tslint:disable-next-line */\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        var pdfPage = section.pages.add();\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (!isMultipleExport) {\n                // save the PDF\n                if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                    _this.pdfDocument.save(pdfExportProperties.fileName);\n                }\n                else {\n                    _this.pdfDocument.save('Export.pdf');\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation && pdfExportProperties.pageOrientation === 'Portrait')) {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isRemoteData","dataSource","DataManager","adaptor","ODataAdaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","UrlAdaptor","getTaskData","records","result","i","data","extend","taskData","push","formatString","str","args","regx","RegExp","replace","toString","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","DateProcessor","this","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","cloneStartDate","Date","getTime","hour","getSecondsInDecimal","isMilestone","defaultStartTime","setTime","defaultEndTime","setDate","getDate","workingTimeRanges","to","from","tStartDate","holidayLength","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","cloneEndDate","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","calculateStartDate","ganttData","ganttProperties","tempStartDate","getStartDate","durationUnit","setRecordValue","taskFields","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","getEndDate","tDuration","getDuration","getNonworkingTime","sDate","eDate","isCheckTimeZone","getTimeDifference","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","secondsPerDay","durationValue","durationHours","getFormatedDate","parseFloat","getDurationAsSeconds","tempStart","secondDuration","setSeconds","getSeconds","tempEnd","getProjectStartDate","isLoad","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoStartDate","autoEndDate","autoDuration","getValidEndDate","getSecondsPerDay","dayWorkingTime","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","currentRange","startHour","endHour","timeDiff","sdSeconds","edSeconds","isWorking","interval","getDurationValue","isFromDialog","values","match","trim","unit","toLowerCase","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","isOnHolidayOrWeekEnd","checkWeekEnd","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDay","weekDayLength","workWeek","slice","seconds","min","parseInt","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getHours","getMinutes","dateObject","globalize","parseDate","format","dateFormat","type","isNaN","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDates","editArgs","_this","timelineModule","isZooming","projectEndDate","cloneProjectEndDate","maxEndDate","currentViewData","taskRange","addDateToList","sortDates","dates","sort","a","b","isZoomToFit","treeGrid","filterModule","filteredResult","forEach","task","renderBaseline","baselineStartDate","baselineEndDate","indicators","item","eventMarkers","marker","day","holiday","setValue","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","dataArray","ids","predecessorsCollection","parentData","renderGantt","initDataSource","cloneDataSource","queryManager","query","Query","requiresCount","executeQuery","then","e","catch","trigger","error","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","viewType","resources","unassignedTasks","constructResourceViewDataSource","record","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","resource","j","prepareRecordCollection","dependency","predecessorModule","ensurePredecessorCollection","level","parentItem","createRecord","rowUniqueID","setTaskIds","childData","addCustomFieldValue","ganttRecord","columns","ganttColumns","undefined","field","taskSettings","progress","predecessors","autoSchedule","taskMode","manual","addTaskData","isSameResourceAdd","preProperties","setResourceInfo","updateResourceName","calculateScheduledValues","notes","cssClass","getCloneParent","parentUniqId","uniqueID","getUid","element","resetDependency","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","updateWorkWithDuration","updateTaskData","childRecords","taskId","uniqueId","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","cloneParent","expanded","reUpdateResources","dataManager","json","offline","updatableValue","expandStateMapping","expandState","mappingValue","isMileStone","milestone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskType","calculateDateFromStartDate","calculateDateFromEndDate","updateDurationValue","allowUnscheduledTasks","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","updateUnitWithWork","totalUnitInPercentage","individualUnit","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","left","getTaskLeft","calculateAutoLeft","calculateAutoDuration","calculateAutoWidth","bottomTier","topTier","perDayWidth","timelineStartDate","fieldName","columnMapping","resourceSettings","resourcesId","resourcesName","resName","join","setRecordDate","setRecordDuration","mapping","dataMapping","taskName","parentId","resourceIdCollection","resourceIDMapping","resourceUnitMapping","resourceGroup","filter","ganttDataResource","updateResourceUnit","length_1","resourceName","taskResources","flatCollection","rootCollection","shift","splice","toLocaleLowerCase","tempDuration","reUpdateGanttData","updateGanttData","updateWidthLeft","getParentTask","updateParentItems","reUpdateGanttDataPosition","updateAutoWidthLeft","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","totalDuration","recordProp","isParent","deleteUpdate","previousStartDate","previousEndDate","childLength","milestoneCount","childCompletedWorks","isOnDelete","isDelete","isBlazor","getRecordByID","editedRecords","taskCount","parentProgress","parentProp","parentWork","Math","floor","timelineSingleHeaderOuterDiv","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","baselineBar","chartRow","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","ChartScroll","previousScroll","top","ganttChartModule","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","removeEventListeners","remove","off","scrollTop","isFromTreeGrid","scrollArgs","notify","previousScrollTop","scrollDirection","action","scrollLeft","chartTimelineContainer","previousScrollLeft","requestType","setHeight","height","style","formatUnit","setWidth","setScrollTop","setScrollLeft","destroy","GanttChart","isExpandCollapseFromChart","isExpandAll","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","createElement","className","chartPane","appendChild","renderTimelineContainer","renderBodyContainers","createTimelineSeries","chartRowsModule","renderChartRows","connectorLineModule","renderConnectorLines","updatedConnectorLineCollection","updateWidthAndHeight","chartBodyContainer","cls.chartScrollElement","styles","chartBodyContent","scrollObject","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","contentHeight","totalTimelineWidth","updateGridLineContainerHeight","updateLastRowBottomWidth","expandedRecords","getExpandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","getRowByIndex","table","ganttChartTableBody","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","which","tabIndex","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","row","closest","target","rowIndex","updateScrollLeft","scrollWidth","offsetWidth","documentMouseUp","allowRowDragAndDrop","ganttDragElemet","querySelector","isTaskbarEdited","editSettings","allowTaskbarEditing","showActiveElement","focusedElement","isOnTaskbarElement","cls.taskBarMainContainer","chartExpandCollapseRequest","editModule","taskbarEditModule","removeFalseLine","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","connectorLineEditModule","updateConnectorLineEditElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","predecessor","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getChartRows","document","getElementById","gridRow","getRows","cancel","collapseGanttRow","expandGanttRow","reRenderConnectorLines","innerHTML","connectorLineIds","createConnectorLinesCollection","isCancel","collapsedGanttRow","getElement","expandCollapseChartRows","collapseRow","updateContentHeight","setAttribute","expandedGanttRow","expandRow","isChild","displayType","targetElement","t","chartRows","rows","display","expandCollapseAll","expandAll","collapseAll","focus","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","mouseUp","touchEndEvent","mouseMove","touchMoveEvent","isAdaptive","click","body","unWireEvents","getRecordByTaskBar","getIndexByTaskBar","onTabAction","isInEditedState","cellEditModule","isCellEdit","$target","isTab","nextElement","getNextElement","preventDefault","grid","manageFocus","fmodule","currentInfo","elementToFocus","matrix","current","nextElementSibling","previousElementSibling","validateNextElement","getElementsByClassName","getNextRowElement","children","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","isChartElement","childElement","getElementsByTagName","blur","cls.chartRow","childNodes","__assign","assign","s","n","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","initProperties","timelineEndDate","customTimelineSettings","isTimelineRoundOff","validateTimelineProp","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","updateProjectDates","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","processZooming","zoomingProjectStartDate","zoomingProjectEndDate","currentLevel","currentZoomingLevel","checkCurrentZoomingLevel","zoomingLevels","enableItems","controlId","newTimeline","timeline","changeTimelineSettings","skipProperty","isSingleTier","property","processZoomToFit","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","timelineUnitSize","abs","isStartDate","tierMode","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineSettings","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","zoomLevel","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","tempLevel","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","cls.timelineSingleHeaderOuterDiv","tr","td","div","thead","loopCount","tier","createTimelineTemplate","mode","difference","tierCount","timeDifference","timelineRoundOffEndDate","round","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","customFormat","formatter","window","increment","newTime","parentTh","parentTr","scheduleDateCollection","timelineCell","getHeaterTemplateString","getIncrement","tierCollection","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","isWeekendHeaderCell","scheduleWeeks","isLast","thWidth","cellWidth","isWeekendCell","calculateWidthBetweenTwoDate","textClassName","weekendBackground","showTooltip","isWeekend","bottomTierCount","topTierCount","bottomTierCellWidth","topTierCellWidth","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","isChanged","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowEditing","allowReordering","allowResizing","allowSorting","allowFiltering","edit","merge","GanttTreeGrid","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","columnMenuClick","TreeGrid","allowSelection","allowKeyboard","treeGridColumns","validateGanttColumns","createContainer","updateScrollTop","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","appendTo","showColumnMenu","columnMenuItems","childMapping","treeColumnIndex","gridLines","searchSettings","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","test","navigator","userAgent","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","treeDataBound","callBackPromise","Deferred","collapsingArgs","createExpandCollapseArgs","resolve","expandingArgs","updateExpandStatus","collapsedArgs","expandedArgs","getTaskByUniqueID","updateKeyConfigSettings","updatedArgs","deleteObject","initiateCellEdit","currentEditRow","refreshToolbarItems","updateDataArgs","isCancelled","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","contextMenuModule","isOpen","contextMenu","close","tasks","columnByField","customColumns","tasksMapping","columnName","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","column_1","composeUniqueIDColumn","isDefined","disableHtmlEncode","clipMode","composeIDColumn","params","renderDayCell","renderWorkingDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","composeResourceColumn","template","setProperties","showInlineNotes","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","text","fields","resourceValueAccessor","getResourceIds","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","prop","GanttColumn","resourceNames","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","initPublicProp","createChartTable","initiateTemplates","taskTable","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","triggerQueryTaskbarInfo","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","dateValidationModule","getChildTaskbarNode","childTaskbarNode","templateData","childTaskbarTemplateFunction","getTemplateID","labelString","taskLabelTemplateFunction","taskLabelTemplateNode","tempDiv","getTaskLabel","labelSettings","progressWidth","getBorderRadius","cls.taskLabel","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","getMilestoneBaselineNode","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","leftLabel","getLableText","labelDiv","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","rightLabel","getManualTaskbar","innerDiv","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","parentTaskLabelNode","tHeight","getExpandClass","getTableTrNode","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","templateCompiler","isTemplate","taskbarTemplate","templateName","updateTaskbarBlazorTemplate","isUpdate","updateBlazorTemplate","resetBlazorTemplate","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","taskBarEditAction","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","rResizerLeft","childTaskbarProgressResizer","getLeftPointNode","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","diff","getCurrentViewRecords","tempTemplateData","getGanttChartRow","taskBaselineTemplateNode","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","parentTaskbarTemplateNode","manualTaskbar","milestoneTemplateNode","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","connectorLineRightNode","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","title","tooltip","trElement","triggerQueryTaskbarInfoByIndex","triggerTaskbarElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","borderBottomColor","taskbarBgColor","backgroundColor","taskbarBorderColor","borderColor","progressBarBgColor","cls.baselineBar","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","taskBarElement","borderTopColor","classCollection","compile","refreshRow","selectedItem","replaceChild","dataId","setRowData","getRowObjectFromUID","getDataRows","getAttribute","refreshRecords","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","Dependency","gantt","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","predecessorsName","preValues","predecessorItem","preValue","offsetUnits","offset","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","split","predId","predData","updateRecordByID","fromId","boolValue","predecessorValue","offsetValue","predecessorText","el","toUpperCase","tempOffset","isDrawn","durationUnitTexts","currentValue","multiple","durationUnitLabels","x","updatePredecessors","updatePredecessorHelper","connectorsCollection","successorGanttRecord","connectorCount","connector","predecessorCollection","updatedRecordsDateByPredecessor","validatePredecessorDates","parentGanttRecord","currentTaskId_1","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","isInPredecessorValidation","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","length_2","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","recordLength","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","connectorLineId","validatePredecessor","previousValue","validationOn","currentTaskId_3","successors","isValidationEnabled","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","cls.dependencyViewContainer","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","updatedRecords","parentIndex","childIndex","parentLeft","childLeft","childWidth","milestoneParent","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","getBorderStyles","cssType","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","heightValue","isMilestoneParent","connectorContainer","eLine","rightArrow","leftArrow","duplicateStingOne","duplicateStingTwo","duplicateStingThree","duplicateStingFour","duplicateStingFive","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","start","finish","Splitter","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","resizeStartArgs","resizing","resizeStop","splitterResizedArgs","splitter","isDynamic","view","position","columnIndex","getTotalColumnWidthByIndex","intValue","updateSplitterPosition","dataBind","triggerCustomResizedEvent","pane1","pane2","eventArgs","event","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","enableHtmlSanitizer","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","isOnEdit","argsData","getTooltipContent","tooltipSettings","taskbarTemplateNode","taskbar","baseLineTemplateNode","baseline","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","currentTarget","tooltipMouseEvent","postion","getPointorPosition","containerPosition","getOffsetRect","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","tooltipUpdated","innerHeight","posX","posY","documentElement","elementType","markerTooltipElement","markerLabel","toId","linkText","offsetString","autoStart","autoEnd","markerTooltipId","Number","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","Gantt","previousRecords","isConnectorLineUpdate","staticSelectedRowIndex","needsID","isTreeGridRendered","getModuleName","onKeyPress","selectionModule","selectionSettings","hidePopUp","selectedRowIndex","selectRow","currentSelectingRecord","upDownKeyNavigate","expandCollapseKey","dialogModule","dialogObj","saveCell","addRecord","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","selectedRowIndexes","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","searchElement","keyEvent","expandByIndex","collapseByIndex","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","preRender","Internationalization","locale","getDatePattern","skeleton","isDevice","L10n","getDefaultLocale","days","hours","minutes","minute","isMileStoneEdited","chartVerticalLineContainer","enablePredecessorValidation","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","treeGridModule","splitterModule","keyConfig","home","end","saveRequest","cancelRequest","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","resourceFieldsMapping","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","createSpinner","renderToolbar","showSpinner","hideSpinner","enableContextMenu","renderChartVerticalLines","KeyboardEvents","keyAction","keyActionHandler","eventName","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","parentRecord","updateTimescaleView","displayHalfValue","displayQuarterValue","month","getHeaderContent","createGanttPopUpElement","renderComplete","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","properties","getActualProperties","sortSettings","filterSettings","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","allowDeleting","showDeleteConfirmDialog","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","refresh","getPersistData","keyEntity","addOnPersist","modules","requiredModules","member","toolbar","allowExcelExport","highlightWeekends","allowPdfExport","sortColumn","direction","isMultiSort","sortModule","clearSorting","verticalLines","chartRowsTD","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessor_FS","taskAfterPredecessor_FS","taskBeforePredecessor_SS","taskAfterPredecessor_SS","taskBeforePredecessor_FF","taskAfterPredecessor_FF","taskBeforePredecessor_SF","taskAfterPredecessor_SF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","convert","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","scrollHeight","parent_1","filterByColumn","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","pdfExportModule","export","clearFiltering","removeFilteredColsByField","nonWorkingDays","isDisabled","previousTimeSpan","reorderColumns","fromFName","toFName","initiateEditAction","isStart","isTaskData","makeCloneData","isUndefined","cloneData","prevValue","clonedValue","isObjectArray","isObject","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","expandByID","collapseByID","rowPosition","fitToProject","reorderRows","fromIndexes","toIndex","rowDragAndDropModule","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","getRowByID","gridRows","isUnscheduledTask","popup","append","textValue","keyVal","box","getBoundingClientRect","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","selectRows","deleteRecord","taskDetail","isEnable","clearSelection","isArray","customData","convertToMilestone","taskfields","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","getTaskIds","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","cell","openNotesEditor","isNOU","updatedEditFields","map","ej2_instances","isValueChange","editedValue","editedObj","editedArgs","tempEditedValue","isU","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","updateDates","currentDuration","baseLineStartDate","baseLineEndDate","previousData","isResourceEdited","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","cellEditArgs","workValue","previousResources","updateRsourceRecords","EditTooltip","taskbarEdit","opensOn","mouseTrail","getTooltipText","taskBarEditRecord","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","offsetY","offsetX","tooltipString","instance","editRecord","editing","TaskbarEdit","isMouseDragged","dependencyCancel","editElement","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","childRecord","isValid","predecessorIndex","renderPredecessorDeleteConfirmDialog","getTaskBarAction","updateMouseDownProperties","secondElement","fadeConnectorLine","mouseDownElement","getCoordinate","pageX","pageY","mouseDownX","mouseDownY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","updateConnectorLineSecondProperties","isMouseClick","editingFields","updateMouseMoveProperties","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","triggerDependencyEvent","drawFalseLine","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","clearInterval","diffrenceWidth","widthValue","progressBorderRadius","updateEditPosition","updateIsMilestone","getProgressPercent","getRoundOffStartLeft","getDateByLeft","getRoundOffEndLeft","tempdate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","pStartDate","milliSecondsPerPixel","isInDst","getDefaultTZOffset","janMonth","julMonth","rightResizer","traceChildProgressBar","traceChildTaskBar","childProgressResizer","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","manualParentTaskbar","manualParentRight","manualParentLeft","borderBottomRightRadius","borderTopRightRadius","offsetLeft","mouseDragged","cancelTaskbarEditActionInMouseLeave","x2","resMouseY","x1","y1","offsetTop","taskbarEditedArgs","taskbarEdited","reUpdatePreviousRecords","arg","updateParentProgress","parentwidth","progresswidth","ceil","y2","sqrt","transform","atan2","PI","falseLine","isRemoveConnectorPointDisplay","fromItem","toItem","isValidLink","validatePredecessorRelation","newPredecessorString","innerText","coordinates","isTouch","changedTouches","elementFromPoint","DialogEdit","updatedAddFields","addedRecord","dialogEditValidationFlag","ganttResources","isResourceUpdate","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","isEdit","composeAddRecord","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","dialogModel","dialogMaxWidth","dialog","animationSettings","header","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","pointerEvents","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","selectedContent","responsiveTabContent","resourceTreeGrid_1","resources_1","getSelectedRowIndexes","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","placeholder","floatLabelType","checkboxModel","textBox","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","targetId","currentData","container","path","cellValue","colName","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","tempValue","ganttId","col","picker","numericTextBox","validateDuration","validateStartDate","validateEndDate","inputModel","prefixIcon","tooltipText","align","validationRules","required","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","persistSelection","toolbarSettings","createInputElement","HTMLElement","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","itemName","itemModel","renderInputElements","isCheckIsDisabled","gridModel","preData","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","write","ComboBox","preTableCollection","popupHeight","allowCustom","idInput","itemData","autofill","read","Grid","Page","GridToolbar","ForeignKey","gridObj","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","getSelectedRecords","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","rowDeselected","Selection","Filter","TreeGridEdit","treeGridObj","RichTextEditor","RTEToolbar","Link","HtmlEditor","QuickToolbar","Count","enabled","preTaskIds","tempObject","preDataCollection","idCollection","validSuccessorTasks","fromId_1","idIndex","typeText","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","newRecords","addingRecords_1","newRowPosition","generalForm","isCustom","tasksData","updateScheduleProperties","validateUpdateValues","fromRecord","toRecord","preElement","endEdit","predecessorName","newValues","name_1","resourceElement","idArray","notesElement","rte","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isOnRightArrow","isOnLeftArrow","connectorLineElement","removeHighlight","addHighlight","getEditedConnectorLineString","lineArray","editedConnectorLineString","removeConnectorLineById","lineIndex","lineString","refreshEditedRecordConnectorLine","removePreviousConnectorLines","isObjectType","pre","lineId","idFromPredecessor","preArray","preIdArray","strArray","charAt","predecessorValidation","currentId","currentRecord","recordId","visitedIdArray","state_1","currentIdArray","predecessorIdArray","this_2","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","this_3","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","isPrimary","validationDialogCancelButton","currentArgs","validateMode","checked","applyPredecessorOption","removePredecessors","updateEditedTask","editEventArgs","calculateOffset","prevPredecessor","parentTask","isNegativeOffset","parentPredecessors","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContent","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","innerTable","validateTypes","violatedParent","violateType","ganttTaskData","addRemovePredecessor","prevData","newPredecessor","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","taskbarMoved","predecessorUpdated","isBreakLoop","deletedTaskDetails","validatedChildItems","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","validateScheduleValues","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","addRecords_1","deleteRow","unassignTask","updateData","validateObject","newArgs","validateTaskEvent","editedEventArgs","blazorArgs","resetValidateArgs","updateParentChildRecord","updateChildItems","calculateDateByRoundOffDuration","newStartDate","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","childLists","modifiedTaskData","modifiedRecords","updatedData","changedRecords","saveChanges","dmSuccess","dmFailure","saveSuccess","deleteRecords","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","selectedRecords","getCellSelectedRecords","variableType","updateTargetedRecords","valueOf","taskDetailArray","rowItems","removePredecessorOnDelete","deleteChildRecords","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","removeFromDataSource","deleteRecordIDs","removeData","dataCollection","deletedRecords","deleteSuccess","currentIndex","flatIndex","treeGridParentIndex","updateTreeGridUniqueID","maxId","prepareNewlyAddedData","taskModel","updateNewlyAddedDataBeforeAjax","cAddedRecord","pIndex","backUpAndPushNewlyAddedRecord","getChildCount","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","len","parentRecordTaskData","updatedPredecessor","predecessorCollections","predecessorToString","prdcList","ind","temppredecessorCollection","tem","currentItemIndex","updatedCollectionIndex","flatRecords","addRowSelectedItem","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","updateRealDataSource","addDataInRealDataSource","cAddedRecord_1","blazorArgs_1","removeAddedRecord","_resetProperties","data_1","addedRecords","refreshNewlyAddedRecord","flatRecordsIndex","currentViewDataIndex","idsIndex","Reorder","TreeGridReorder","columnDragStart","columnDrag","columnDrop","Resize","TreeGridResize","TreeGridFilter","updateCustomFilters","settings","initiateFiltering","updateModel","treeColumn","ui","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","flValInput","filteredValue","fltrObj","operator","dropInstance","textBoxInstance","durationObj","intVal","dayVal","filterMenuElement","filterAfterOpen","updateFilterMenuPosition","taskID","filterObj","filterValues","instanceObj","setPosition","li","ul","gridPos","liPos","enableRtl","getColumnHeaderByField","getFilterMenuPostion","Sort","TreeGrdSort","sortByColumn","isSelectionFromChart","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","prevRowIndex","isInteracted","cellselectingArgs","selectedRow","preventFocus","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","rIndex","ctrlKey","shiftKey","selectRowsByRange","addRowsToSelection","getselectedrowsIndex","startIndex","endIndex","indexes","reverse","ganttRow","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","isSelected","Toolbar","predefinedItems","propertyChanged","headerModule","insertBefore","offsetParent","preItems_1","itemStr","localeName","searchLocalText","Search","createToolbar","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","keyCode","toolbarItems","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","toolbarDefaultItems","hasData","isDeleteSelected","hideItem","items_1","NonWorkingDay","nonworkingContainer","holidayContainer","weekendContainer","createNonworkingContainer","renderHolidays","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","renderWeekends","getWeekendElements","nonWorkingIndex","isFirstCell","weekendDiv","updateHolidayLabelHeight","labels","updateContainerHeight","removeContainers","eventMarkersContainer","renderEventMarkers","getEventMarkersElements","removeContainer","eventMarkerElement","DayMarkers","nonworkingDayRender","eventMarkerRender","refreshMarkers","updateHeight","ContextMenu","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","menuElement","contentMenuItems","updateItemStatus","hideItems","revertItemStatus","updateItemVisibility","subMenu_1","createItemModel","cons.content","getLocale","getPredecessorsItems","subMenu","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","ExcelExport","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","ColumnMenu","TreeGridColumnMenu","getColumnMenu","columnMenuModule","RowDD","isTest","updateParentRecords","isaddtoBottom","canDrop","TreeGridRowDD","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","addErrorElem","dragelem","ele","errorVal","spanContent","paddingLeft","removeErrorElem","errorelem","cloneElement","ganttDragElement","cloneNode","dragElement","ganttTop","getClientRects","ganttLeft","clientX","clientY","ganttDragelem","dropRecord","dropIndex","dropRows","isByMethod","dropPosition","draggedRecord","droppedRecord","dragRecords","dragLength","deleteDragRow","recordIndex1","dropAtTop","parentUniqueID","updateChildRecordLevel","updateChildRecord","droppedRecordIndex","dropMiddle","refreshDataSource","tempDataSource","idx","proxy","childRecordsLength","recordLevel","childItem","createParentItem","deletedRow","removeRecords","flatParentData","removeChildItem","deletedRecordCount","i_1","PdfGanttTheme","theme","ganttStyle","setTheme","get","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","clear","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","set","PdfPaddings","right","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","elements","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","cells","getCell","borders","startLocation","isFitToWidth","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","getColumn","subWidths","getFormat","layoutedPages","startPage","range","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","height_1","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","beginCellDraw","endCellDraw","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowCount","tempWidth","rowWidth","initialWidth","getHeader","drawGrid","newBound","setSpan","layouter","onBeginCellDraw","raiseBeginCellDraw","onEndCellDraw","raiseEndCellDraw","colSpan","rowSpan","currentRowIndex","maxSpan","isRowMergeContinue","isCellMergeStart","isRowMergeStart","maximumRowSpan","colcount","PdfLayoutElement","PdfTreeGridCell","cellHeight","measureWidth","PdfStringLayouter","font","PdfStandardFont","MAX_VALUE","actualSize","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","isParentRow","PdfFontStyle","Bold","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","drawString","stringLayoutResult","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","totalWidth","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","processGridExport","props","exportValueFormatter","ExportValueFormatter","exportProps","colIndex","processHeaderContent","processGanttContent","processTimeline","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","totalColumnWidth","treeGridHeaderHeight","copyStyles","headerTextAlign","pdfColumnHeaderQueryCellInfo","visibleColumn","includeHiddenColumn","templateColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","ganttProps","textAlign","pdfQueryCellInfo","formatCellValue","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isParentTask","reduceLeft","labelColor","gridLineColor","taskbarCollection","taskStyle","pdfQueryTaskbarInfo","getHorizontalAlignment","Justify","getVerticalAlignment","verticalAlign","PdfVerticalAlignment","Bottom","Middle","Top","getFontFamily","getFont","TimesRoman","Regular","bold","italic","Italic","underline","Underline","strikeout","Strikeout","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","sections","enableFooter","PdfPageTemplateElement","footerBrush","brush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","detail","cumulativeWidth","taskGraphics","isNextPage","pageSize","yPoint","drawPageTimeline","drawLeftLabel","fontBrush","progressFormat","pageIndex","drawMilestone","taskbarPen","taskBrush","progressPen","progressBrush","adjustHeight","isStartPoint","taskStartPoint","drawUnscheduledTask","isCompleted","renderWidth","progressBoundsWidth","drawRightLabel","actualLeft","isLeftCalculated","endPoint","getWidth","point","labelBounds","labelFormat","lines","remainder","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","PdfWordWrapType","Character","milestonePen","milestoneBrush","translateTransform","rotateTransform","PdfTimeline","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","remainWidth","pHeader","isFinished","completedWidth","triggerQueryTimelinecell","secondHeader","isTopTier","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","parentPageData","childPageData","childTask","PdfPage","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPoint","point1","point2","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","PdfGantt","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","cumulativeHeight","pageStartPoint","page_1","PdfExport","helper","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","processSectionExportProperties","pdfPage","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","getPageSize","setPageSettings","defaultGanttTheme","index.Gantt","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport"],"mappings":"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"}