{"version":3,"file":"ej2-dropdowns.umd.min.js","sources":["../src/common/incremental-search.js","../src/common/highlight-search.js","../src/multi-select/float-label.js","../src/drop-down-base/drop-down-base.js","../src/drop-down-list/drop-down-list.js","../src/combo-box/combo-box.js","../src/auto-complete/auto-complete.js","../src/multi-select/multi-select.js","../src/multi-select/checkbox-selection.js","../src/list-box/list-box.js"],"sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar matches = [];\nvar activeClass = 'e-active';\n/**\n * Search and focus the list item based on key code matches with list text content\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]] } items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, isBlazor) {\n    queryString += String.fromCharCode(keyCode);\n    setTimeout(function () { queryString = ''; }, 1000);\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevString === queryString) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        return matches[index];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            i === -1 ? index = 0 : index = i;\n            item = listItems[index];\n            if (isBlazor) {\n                text = ignoreCase ? item.textContent.trim().toLowerCase() : item.textContent.trim();\n            }\n            else {\n                text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            }\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        return matches[0];\n    }\n}\nexport function Search(inputVal, items, searchType, ignoreCase) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var item = itemsData[i];\n            var text = (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr)) {\n                itemData.item = item;\n                itemData.index = i;\n                return { item: item, index: i };\n            }\n        }\n        return itemData;\n    }\n    return itemData;\n}\n","/**\n * Function helps to find which highlightSearch is to call based on your data.\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ? '(' + query + ')$' : '(' + query + ')';\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3) {\n            element.innerHTML = element.innerHTML.replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n * @param  {HTMLElement} content - Specifies an content element.\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nimport { removeClass, addClass, detach } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/**\n * Function to create Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param element - the given html element.\n * @param inputElement - specify the input wrapper.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement;\n    var floatLabelElement;\n    floatLinelement = createElement('span', { className: FLOATLINE });\n    floatLabelElement = createElement('label', { className: FLOATTEXT });\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        attributes(element, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerHTML = inputElement.placeholder;\n        inputElement.removeAttribute('placeholder');\n    }\n    floatLabelElement.innerHTML = placeholder;\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n * @param value - Value of the MultiSelect.\n * @param label - float label element.\n */\nexport function updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n * @param searchWrapper - search wrapper of multiselect.\n * @param inputElement - specify the input wrapper.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n * @param value - Value of the MultiSelect.\n * @param inputElement - specify the input wrapper.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n */\nexport function floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/**\n * Function to focus the Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase, cssClass as ListBaseClasses } from '@syncfusion/ej2-lists';\nimport { updateBlazorTemplate, resetBlazorTemplate } from '@syncfusion/ej2-base';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: ListBaseClasses.li,\n    group: ListBaseClasses.group,\n    disabled: ListBaseClasses.disabled,\n    grouping: 'e-dd-group'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar NOHEADERTEMPLATE_PROPERTY = 'NoHeaderTemplate';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     */\n    function DropDownBase(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ;\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    ;\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    var itemValue = getValue(fields.value, item);\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === value.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            this.DropDownBaseresetBlazorTemplates(false, false, true, true);\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            compiledString = compile(template);\n            for (var _i = 0, _a = compiledString({}, null, null, templateId, this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                ele.appendChild(item);\n            }\n            this.DropDownBaseupdateBlazorTemplates(false, false, !actionFailure, actionFailure, false, false, false, false);\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed',\n                noHeaderTemplate: 'Group' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : 'dropdowns', l10nLocale, this.locale);\n            }\n            ele.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n    };\n    DropDownBase.prototype.l10nUpdateUndefinedHeader = function () {\n        // For update ulelement in action complete data         \n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    ;\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text;\n        text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = this.typeOfData(this.listData);\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return (value === 'true');\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (this.list) {\n            this.enableRtlElements.push(this.list);\n        }\n        this.enableRtl ? addClass(this.enableRtlElements, dropDownBaseClasses.rtl) :\n            removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n    };\n    ;\n    /**\n     * Initialize the Component.\n     */\n    DropDownBase.prototype.initialize = function () {\n        this.bindEvent = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query);\n        }\n    };\n    ;\n    DropDownBase.prototype.DropDownBaseupdateBlazorTemplates = function (item, group, noRecord, action, value, header, footer, isEmpty) {\n        if (!this.isStringTemplate) {\n            if (this.itemTemplate && item) {\n                updateBlazorTemplate(this.itemTemplateId, ITEMTEMPLATE_PROPERTY, this, isEmpty);\n            }\n            if (this.groupTemplate && group) {\n                updateBlazorTemplate(this.groupTemplateId, GROUPTEMPLATE_PROPERTY, this, isEmpty);\n            }\n            if (this.noRecordsTemplate && noRecord) {\n                updateBlazorTemplate(this.noRecordsTemplateId, NORECORDSTEMPLATE_PROPERTY, this, isEmpty);\n            }\n            if (this.actionFailureTemplate && action) {\n                updateBlazorTemplate(this.actionFailureTemplateId, ACTIONFAILURETEMPLATE_PROPERTY, this, isEmpty);\n            }\n            if (value) {\n                updateBlazorTemplate(this.valueTemplateId, VALUETEMPLATE_PROPERTY, this, isEmpty);\n            }\n            if (header) {\n                updateBlazorTemplate(this.headerTemplateId, HEADERTEMPLATE_PROPERTY, this);\n            }\n            if (footer) {\n                updateBlazorTemplate(this.footerTemplateId, FOOTERTEMPLATE_PROPERTY, this);\n            }\n        }\n    };\n    DropDownBase.prototype.DropDownBaseresetBlazorTemplates = function (item, group, noRecord, action, value, header, footer) {\n        if (!this.isStringTemplate) {\n            if (this.itemTemplate && item) {\n                resetBlazorTemplate(this.itemTemplateId, ITEMTEMPLATE_PROPERTY);\n            }\n            if (this.groupTemplate && group) {\n                resetBlazorTemplate(this.groupTemplateId, GROUPTEMPLATE_PROPERTY);\n            }\n            if (this.noRecordsTemplate && noRecord) {\n                resetBlazorTemplate(this.noRecordsTemplateId, NORECORDSTEMPLATE_PROPERTY);\n            }\n            if (this.actionFailureTemplate && action) {\n                resetBlazorTemplate(this.actionFailureTemplateId, ACTIONFAILURETEMPLATE_PROPERTY);\n            }\n            if (value) {\n                resetBlazorTemplate(this.valueTemplateId, VALUETEMPLATE_PROPERTY);\n            }\n            if (header) {\n                resetBlazorTemplate(this.headerTemplateId, HEADERTEMPLATE_PROPERTY);\n            }\n            if (footer) {\n                resetBlazorTemplate(this.footerTemplateId, FOOTERTEMPLATE_PROPERTY);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    ;\n    /**\n     * Sets the enabled state to DropDownBase.\n     */\n    DropDownBase.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    ;\n    /**\n     * Sets the enabled state to DropDownBase.\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            var items = element.querySelectorAll('select>option');\n        }\n        this.fields.text = fields.text;\n        this.fields.value = fields.value;\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = option.getAttribute(fields.value) ? option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     * @private\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n        this.noHeaderTemplateId = \"\" + this.element.id + NOHEADERTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.showSpinner();\n                if (dataSource instanceof DataManager) {\n                    _this.isRequested = true;\n                    if (_this.isDataFetched) {\n                        _this.emptyDataRequest(fields);\n                        return;\n                    }\n                    eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                        _this.trigger('actionComplete', e, function (e) {\n                            if (!e.cancel) {\n                                var listItems = e.result;\n                                if (listItems.length === 0) {\n                                    _this.isDataFetched = true;\n                                }\n                                ulElement = _this.renderItems(listItems, fields);\n                                _this.onActionComplete(ulElement, listItems, e);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.isRequested = false;\n                                _this.bindChildItems(listItems, ulElement, fields, e);\n                            }\n                        });\n                    }).catch(function (e) {\n                        _this.isRequested = false;\n                        _this.onActionFailure(e);\n                        _this.hideSpinner();\n                    });\n                }\n                else {\n                    var dataManager = new DataManager(eventArgs.data);\n                    var listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                    var localDataArgs = { cancel: false, result: listItems };\n                    _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                        if (!localDataArgs.cancel) {\n                            ulElement = _this.renderItems(localDataArgs.result, fields);\n                            _this.onActionComplete(ulElement, localDataArgs.result);\n                            if (_this.groupTemplate) {\n                                _this.renderGroupTemplate(ulElement);\n                            }\n                            _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                        }\n                    });\n                }\n            }\n        });\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.DropDownBaseupdateBlazorTemplates(true, false, false, false);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        var listArr = [].slice.call(list.querySelectorAll(findNode));\n        for (var index = 0; index < listArr.length; index++) {\n            if (listArr[index].getAttribute(attribute) === (value + '')) {\n                liElement = listArr[index];\n                break;\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields));\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.list], dropDownBaseClasses.noData);\n    };\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        this.listData = list;\n        this.list.innerHTML = '';\n        this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        this.list.appendChild(ulElement);\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.postRender(this.list, list, this.bindEvent);\n    };\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            focusItem.classList.add(dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    /**\n     * To render the template content for group header element.\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option);\n            this.DropDownBaseupdateBlazorTemplates(false, true, false, false, false, false, false, false);\n        }\n    };\n    /**\n     * To create the ul li list items\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        var _this = this;\n        if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n            if (fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            addClass([this.list], dropDownBaseClasses.grouping);\n        }\n        else {\n            dataSource = this.getSortedDataSource(dataSource);\n        }\n        if (this.getModuleName() !== 'listbox') {\n            this.l10nUpdate();\n            this.groupHeaderName = this.l10n.getConstant('noHeaderTemplate');\n        }\n        var options = this.listOption(dataSource, fields, this.groupHeaderName);\n        if (fields && fields.groupBy && this.getModuleName() !== 'listbox' && this.getModuleName() !== 'multiselect') {\n            var text_1 = fields.text;\n            options.itemCreated = function (args) {\n                if (args.curData[text_1] === undefined && args.curData.isHeader) {\n                    args.item.textContent = _this.groupHeaderName;\n                    args.item.classList.add('e-undefine-group');\n                }\n            };\n        }\n        var spliceData = (dataSource.length > 100) ?\n            new DataManager(dataSource).executeLocal(new Query().take(100))\n            : dataSource;\n        this.sortedData = dataSource;\n        return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true);\n    };\n    ;\n    DropDownBase.prototype.listOption = function (dataSource, fields, headerName) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    ;\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (isNullOrUndefined(this.fixedHeaderElement)) {\n            this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n            if (!this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                this.fixedHeaderElement.style.display = 'none';\n            }\n            prepend([this.fixedHeaderElement], this.list);\n            this.setFixedHeader();\n        }\n        if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n            this.setFixedHeader();\n        }\n        this.scrollStop(e);\n    };\n    DropDownBase.prototype.scrollStop = function (e) {\n        var target = e.target;\n        var liHeight = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.list.querySelectorAll('li');\n        for (var i = topIndex; i > -1; i--) {\n            if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n                var currentLi = liCollections[i];\n                this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n                this.fixedHeaderElement.style.top = e.target.scrollTop + 'px';\n                this.fixedHeaderElement.style.display = 'block';\n                break;\n            }\n            else {\n                this.fixedHeaderElement.style.display = 'none';\n                this.fixedHeaderElement.style.top = 'none';\n            }\n        }\n    };\n    /**\n     * To render the list items\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n            this.DropDownBaseupdateBlazorTemplates(true, false, false, false, false, false, false, false);\n        }\n        else {\n            ulElement = this.createListItems(listData, fields);\n        }\n        return ulElement;\n    };\n    ;\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        this.DropDownBaseresetBlazorTemplates(true, false, false, false);\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option);\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                return item = { typeof: typeof items[i], item: items[i] };\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        this.list.parentElement.style.display = 'block';\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n        }\n        var liWidth = this.liCollections[0].offsetWidth - borderWidth;\n        this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    ;\n    /**\n     * To dispatch the event manually\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n    };\n    /**\n     * To set the current fields\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.fields.text = this.fields.value;\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.fields.value = this.fields.text;\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.fields.value = this.fields.text = 'text';\n        }\n    };\n    /**\n     * reset the items list.\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            this.setListData(dataSource, fields, query);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if (isFiltering && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    DropDownBase.prototype.updateDataSource = function (props) {\n        this.resetList(this.dataSource);\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            this.updateDataSource(updateData);\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     * @private\n     */\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed',\n                        noHeaderTemplate: 'Group' };\n                    this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : 'dropdowns', l10nLocale, this.locale);\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    else if (this.fields.groupBy && this.list && this.list.querySelector('.e-list-group-item.e-undefine-group')\n                        && this.getModuleName() !== 'listbox') {\n                        var localizedText = this.l10n.getConstant('noHeaderTemplate');\n                        this.list.querySelector('.e-list-group-item.e-undefine-group').innerText = localizedText;\n                        this.l10nUpdateUndefinedHeader();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    ;\n    /**\n     * Build and render the component\n     * @private\n     */\n    DropDownBase.prototype.render = function (isEmptyData) {\n        this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        this.setEnabled();\n        if (!isEmptyData) {\n            this.initialize();\n        }\n    };\n    ;\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    ;\n    /**\n     * Gets all the list items bound on this component.\n     * @returns Element[].\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    ;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @return {void}.\n     * @deprecated\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        this.DropDownBaseresetBlazorTemplates(true, false, false, false);\n        var itemsCount = this.getItems().length;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var compiledString = compile(this.itemTemplate);\n                append(compiledString(item, null, null, this.itemTemplateId, this.isStringTemplate), li);\n                this.DropDownBaseupdateBlazorTemplates(true, false, false, false);\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            this.listData.push(item);\n            this.updateActionCompleteData(li, item);\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            this.list.innerHTML = '';\n            this.list.classList.remove(dropDownBaseClasses.noData);\n            this.list.appendChild(this.ulElement);\n            append(liCollections, this.ulElement);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index]) {\n                        this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        this.ulElement.appendChild(liCollections[i]);\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    DropDownBase.prototype.updateActionCompleteData = function (li, item) {\n        // this is for ComboBox custom value\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns Object.\n     * @blazorType object\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document.body.contains(this.list)) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            if (!isNullOrUndefined(this.rippleFun)) {\n                this.rippleFun();\n            }\n            detach(this.list);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ;\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList, isBlazor } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\n/* tslint:disable */\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n// don't use space in classnames \nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden'\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        return _this;\n    }\n    ;\n    /**\n     * Initialize the event handler.\n     * @private\n     */\n    DropDownList.prototype.preRender = function () {\n        this.isServerBlazor = (isBlazor() && this.isServerRendered && this.getModuleName() === 'dropdownlist') ? true : false;\n        if (this.isServerBlazor) {\n            this.initializeData();\n        }\n        else {\n            this.element.style.opacity = '0';\n            this.initializeData();\n            _super.prototype.preRender.call(this);\n        }\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.renderList = function (isEmptyData) {\n        if (!this.isServerBlazor) {\n            _super.prototype.render.call(this, isEmptyData);\n            this.wireListEvents();\n        }\n        else {\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('OnServerRenderList', this.beforePopupOpen);\n        }\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete') {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if (this.previousValue === dataItem.value) {\n            return;\n        }\n        this.onChangeEvent(e);\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    var actionList = this.actionCompleteData.ulElement.querySelector('li');\n                    var ulElement = this.ulElement && this.ulElement.querySelector('li');\n                    if (this.element.tagName === 'EJS-COMBOBOX' && actionList && ulElement &&\n                        actionList.childElementCount > 0 && ulElement.childElementCount > 0 &&\n                        actionList.textContent !== ulElement.textContent && this.itemTemplate) {\n                        this.cloneElements();\n                    }\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        this.hiddenElement.innerHTML = '';\n        this.inputElement.value = '';\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.container.classList.add(this.htmlAttributes[htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        htmlAttr === 'placeholder' ? Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputElement) :\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false',\n            'aria-activedescendant': 'null',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ;\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    ;\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return this.inputWrapper.container;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    ;\n    DropDownList.prototype.initValue = function () {\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            this.setSelection(this.getElementByValue(this.value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlur = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction();\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function () {\n        this.isInteracted = false;\n        this.focusOut();\n        this.onFocusOut();\n    };\n    DropDownList.prototype.onFocusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(null);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlur, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        EventHandler.remove(this.targetElement(), 'blur', this.onBlur);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, 'click', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    ;\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                if (!this.isServerBlazor) {\n                    this.renderList();\n                }\n                else {\n                    this.isServerIncrementalSearch = true;\n                    // tslint:disable-next-line\n                    this.interopAdaptor.invokeMethodAsync('OnServerRenderList', true);\n                }\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    ;\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    DropDownList.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    ;\n    DropDownList.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    ;\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.isServerBlazor);\n            if (!isNullOrUndefined(li)) {\n                this.setSelection(li, e);\n                this.setScrollPosition();\n            }\n        }\n    };\n    ;\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (isTabAction && this.isPopupOpen || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n                    if (this.isSelectFocusItem(focusEle)) {\n                        this.setSelection(focusEle, e);\n                    }\n                    else {\n                        var nextItem = void 0;\n                        var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n                        var startIndex = 0;\n                        if (this.getModuleName() === 'autocomplete') {\n                            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n                        }\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n                        this.setSelection(nextItem, e);\n                    }\n                    e.preventDefault();\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        e.preventDefault();\n                        if (this.activeIndex === 0) {\n                            return;\n                        }\n                        this.setSelection(this.liCollections[0], e);\n                    }\n                    break;\n                case 'end':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        e.preventDefault();\n                        var lastLi = this.getItems().length - 1;\n                        if (this.activeIndex === lastLi) {\n                            return;\n                        }\n                        this.setSelection(this.liCollections[lastLi], e);\n                    }\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup();\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup();\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'escape':\n                case 'tab':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup();\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup();\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.getPageCount = function () {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        this.setSelection(previousItem, event);\n    };\n    ;\n    DropDownList.prototype.pageDownSelection = function (steps, event) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        this.setSelection(previousItem, event);\n    };\n    ;\n    DropDownList.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n        EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, 'click', this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    ;\n    DropDownList.prototype.checkSelector = function (id) {\n        return '#' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1');\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                this.isInteracted = false;\n                this.hidePopup();\n                if (!isActive) {\n                    this.onFocusOut();\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup();\n            }\n            var proxy_1 = this;\n            var duration = (isBlazor()) ? 1000 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () { proxy_1.cloneElements(); proxy_1.isSecondClick = true; }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (_this.isServerBlazor) {\n                        // tslint:disable-next-line\n                        _this.interopAdaptor.invokeMethodAsync('OnServerItemData', _this.itemData);\n                    }\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (this.isServerBlazor) {\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnServerItemData', this.itemData);\n            }\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.isServerBlazor) {\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('OnServerValueTemplate', dataItem);\n        }\n        if (this.valueTemplate && this.itemData !== null && !this.isServerBlazor) {\n            this.DropDownBaseresetBlazorTemplates(false, false, false, false, true);\n            this.setValueTemplate();\n        }\n        else if (this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (this.previousValue === dataItem.value) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if (this.isPopupOpen) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            if (this.isFilterLayout()) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            }\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            attributes(this.inputElement, { 'aria-label': this.inputElement.value });\n            attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id });\n            this.targetElement().removeAttribute('aria-live');\n        }\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        this.valueTempElement.innerHTML = '';\n        var templateData = (isBlazor()) ? JSON.parse(JSON.stringify(this.itemData)) : this.itemData;\n        compiledString = compile(this.valueTemplate);\n        for (var _i = 0, _a = compiledString(templateData, null, null, this.valueTemplateId, this.isStringTemplate); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.valueTempElement.appendChild(item);\n        }\n        this.DropDownBaseupdateBlazorTemplates(false, false, false, false, true, true, true);\n    };\n    DropDownList.prototype.removeSelection = function () {\n        var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n        if (selectedItems.length) {\n            removeClass(selectedItems, dropDownBaseClasses.selected);\n            selectedItems[0].removeAttribute('aria-selected');\n        }\n    };\n    ;\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     */\n    DropDownList.prototype.onChangeEvent = function (eve) {\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        this.setProperties({ 'index': index, 'text': dataItem.text, 'value': dataItem.value }, true);\n        this.detachChangeEvent(eve);\n    };\n    ;\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n            var selectedElement = this.hiddenElement.querySelector('option');\n            selectedElement.setAttribute('value', this.value.toString());\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (this.isValidKey || e.keyCode === 40 || e.keyCode === 38) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                case 38: //up arrow \n                case 40: //down arrow \n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        this.resetFocusElement();\n                        this.activeIndex = null;\n                        if (this.getModuleName() === 'autocomplete') {\n                            this.hidePopup();\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow \n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab \n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query : this.query ? this.query : new Query();\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            if (this.isServerBlazor) {\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnServerFilter', this.filterInput.value);\n            }\n            else {\n                var eventArgs_1 = {\n                    preventDefaultAction: false,\n                    text: this.filterInput.value,\n                    updateData: function (dataSource, query, fields) {\n                        if (eventArgs_1.cancel) {\n                            return;\n                        }\n                        _this.isCustomFilter = true;\n                        _this.filteringAction(dataSource, query, fields);\n                    },\n                    baseEventArgs: e,\n                    cancel: false\n                };\n                this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                    if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                        _this.filteringAction(_this.dataSource, null, _this.fields);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @return {void}.\n     * @deprecated\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = true;\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                this.resetList(dataSource, fields, query);\n            }\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            if (this.isServerBlazor) {\n                parentElement.innerHTML = '';\n            }\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    ;\n    DropDownList.prototype.onInput = function (e) {\n        this.isValidKey = true;\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.isNotSearchList) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.isActive) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            this.list.scrollTop = 0;\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            if (this.initRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.updateValues();\n                this.initRemoteRender = false;\n                this.initial = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var checkVal = list.some(function (x) { return x[checkField_1] === _this.value; });\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', this.value)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                _this.addItem(e.result, list.length);\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                }\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n                }\n                this.addNewItem(list, selectedItem);\n                if (!isNullOrUndefined(this.itemData)) {\n                    this.focusIndexItem();\n                }\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup();\n            }\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_1 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_1) ||\n                    (getValue(_this.fields.value, data) === value_1));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item) {\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n            if (this.isFiltering() && this.actionCompleteData.list.indexOf(item) < 0) {\n                this.actionCompleteData.list.push(item);\n            }\n        }\n    };\n    DropDownList.prototype.l10nUpdateUndefinedHeader = function () {\n        this.actionCompleteData.ulElement = this.ulElement;\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        this.removeFocus();\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    ;\n    DropDownList.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle = (_this.serverPopupEle) ? _this.serverPopupEle : _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n                });\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (_this.headerTemplate && !_this.isServerBlazor) {\n                    _this.setHeaderTemplate(popupEle);\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate && !_this.isServerBlazor) {\n                    _this.setFooterTemplate(popupEle);\n                }\n                if (_this.isServerRendered && popupEle && popupEle.querySelector('.e-ddl-footer')) {\n                    popupEle.appendChild(popupEle.querySelector('.e-ddl-footer'));\n                }\n                document.body.appendChild(popupEle);\n                _this.updateServerPopup(popupEle);\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container)) {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate || (_this.isServerRendered && popupEle && popupEle.querySelector('.e-ddl-header'))) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate || (_this.isServerRendered && popupEle && popupEle.querySelector('.e-ddl-footer'))) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listHeight = (parseInt(_this.listHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                        parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                        parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                }\n                _this.getFocusElement();\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout()) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (Browser.isDevice && _this.isFilterLayout()) {\n                    EventHandler.add(_this.list, 'scroll', _this.listScroll, _this);\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true' });\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = (isBlazor() && _this.isServerRendered) ? null : _this.popupObj;\n                var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        _this.serverBlazorUpdateSelection();\n                        _this.bindServerScrollEvent();\n                        addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n        }\n    };\n    DropDownList.prototype.serverBlazorUpdateSelection = function () {\n        if (this.isServerBlazor && this.value) {\n            this.removeSelection();\n            this.removeFocus();\n            this.removeHover();\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.bindServerScrollEvent = function () {\n        if (this.isServerBlazor && this.list) {\n            if ((this.fields.groupBy) && !this.isGroupChecking) {\n                EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n                EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n            }\n        }\n    };\n    DropDownList.prototype.updateServerPopup = function (popupEle) {\n        if (this.isServerBlazor) {\n            if (popupEle && popupEle.querySelector('li')) {\n                removeClass([this.list], ['e-nodata']);\n            }\n            this.initial = false;\n            popupEle.removeAttribute('style');\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                var isResetItem = (_this.getModuleName() === 'autocomplete') ? true : false;\n                _this.DropDownBaseresetBlazorTemplates(isResetItem, isResetItem, true, true, false, true, true);\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                var formElement = closest(_this.inputElement, 'form');\n                if (_this.isFiltering() && formElement && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n                    _this.isActive = true;\n                    _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent)) {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            this.hidePopup();\n        }\n    };\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial) {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = nextOffset;\n            }\n        }\n    };\n    DropDownList.prototype.scrollTop = function () {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0) {\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.searchLists(null);\n    };\n    DropDownList.prototype.listScroll = function () {\n        this.filterInput.blur();\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay) {\n        var _this = this;\n        this.isTyped = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n            EventHandler.remove(this.list, 'scroll', this.listScroll);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            EventHandler.remove(this.filterInput, 'input', this.onInput);\n            EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n            EventHandler.remove(this.filterInput, 'blur', this.onBlur);\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false', 'aria-activedescendant': null });\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = (isBlazor() && this.isServerRendered) ? null : this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (!_this.isServerBlazor && !isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        if (this.isServerBlazor && this.serverPopupEle) {\n            document.querySelector('#' + this.element.id + '_popup_holder').appendChild(this.serverPopupEle);\n        }\n        if (this.isServerBlazor) {\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('OnServerClosePopup');\n        }\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        this.popupObj.destroy();\n        detach(this.popupObj.element);\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    // tslint:disable-next-line\n    DropDownList.prototype.render = function () {\n        if (this.isServerBlazor) {\n            this.inputElement = this.element;\n            this.inputWrapper = { container: this.element.parentElement };\n            this.hiddenElement = this.inputWrapper.container.querySelector('select');\n            this.inputWrapper.buttons = [this.inputWrapper.container.querySelector('.e-input-group-icon.e-ddl-icon')];\n            if (this.showClearButton) {\n                this.inputWrapper.clearButton = this.inputWrapper.container.querySelector('.e-clear-icon');\n                Input.wireClearBtnEvents(this.element, this.inputWrapper.clearButton, this.inputWrapper.container);\n            }\n            Input.bindInitialEvent({\n                element: this.element,\n                buttons: null, customTag: null,\n                floatLabelType: this.floatLabelType,\n                properties: this.properties\n            });\n            this.setFields();\n            this.wireEvent();\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            if (!this.enabled) {\n                this.targetElement().tabIndex = -1;\n            }\n            if (this.element.hasAttribute('autofocus')) {\n                this.focusIn();\n            }\n        }\n        else {\n            if (this.element.tagName === 'INPUT') {\n                this.inputElement = this.element;\n                if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                    this.inputElement.setAttribute('role', 'textbox');\n                }\n                if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                    this.inputElement.setAttribute('type', 'text');\n                }\n            }\n            else {\n                this.inputElement = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n                if (this.element.tagName !== this.getNgDirective()) {\n                    this.element.style.display = 'none';\n                }\n                this.element.parentElement.insertBefore(this.inputElement, this.element);\n                this.preventTabIndex(this.inputElement);\n            }\n            this.inputWrapper = Input.createInput({\n                element: this.inputElement,\n                buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n                floatLabelType: this.floatLabelType,\n                properties: {\n                    readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                    placeholder: this.placeholder,\n                    cssClass: this.cssClass,\n                    enabled: this.enabled,\n                    enableRtl: this.enableRtl,\n                    showClearButton: this.showClearButton\n                },\n            }, this.createElement);\n            if (this.element.tagName === this.getNgDirective()) {\n                this.element.appendChild(this.inputWrapper.container);\n            }\n            else {\n                this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n            }\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n            });\n            prepend([this.hiddenElement], this.inputWrapper.container);\n            this.validationAttribute(this.element, this.hiddenElement);\n            this.setFields();\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n            this.inputWrapper.container.classList.add('e-ddl');\n            this.wireEvent();\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n            this.element.id = id;\n            this.hiddenElement.id = id + '_hidden';\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n            attributes(this.targetElement(), this.getAriaAttributes());\n            this.updateDataAttribute(this.htmlAttributes);\n            this.setHTMLAttributes();\n            if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n                this.initValue();\n            }\n            else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n                var selectElement = this.element;\n                this.value = selectElement.options[selectElement.selectedIndex].value;\n                this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n                this.initValue();\n            }\n            this.preventTabIndex(this.element);\n            if (!this.enabled) {\n                this.targetElement().tabIndex = -1;\n            }\n            this.initial = false;\n            this.element.style.opacity = '';\n            this.inputElement.onselect = function (e) { e.stopImmediatePropagation(); };\n            this.inputElement.onchange = function (e) { e.stopImmediatePropagation(); };\n            if (this.element.hasAttribute('autofocus')) {\n                this.focusIn();\n            }\n            if (!isNullOrUndefined(this.text)) {\n                this.inputElement.setAttribute('value', this.text);\n            }\n        }\n        this.renderComplete();\n    };\n    ;\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            this.footer.innerHTML = '';\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        compiledString = compile(this.footerTemplate);\n        for (var _i = 0, _a = compiledString({}, null, null, this.footerTemplateId, this.isStringTemplate); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.footer.appendChild(item);\n        }\n        this.DropDownBaseupdateBlazorTemplates(false, false, false, false, false, false, true);\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        compiledString = compile(this.headerTemplate);\n        for (var _i = 0, _a = compiledString({}, null, null, this.headerTemplateId, this.isStringTemplate); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.header.appendChild(item);\n        }\n        this.DropDownBaseupdateBlazorTemplates(false, false, false, false, false, true, false);\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.checkDatasource = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering) {\n            this.list = null;\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        this.itemData = this.getDataByValue(this.value);\n        var dataItem = this.getItemData();\n        this.setProperties({ 'value': dataItem.value, 'text': dataItem.text });\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownlist') {\n            if (!this.isServerBlazor) {\n                this.checkDatasource(newProp);\n                this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n            }\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this.setEleWidth(newProp.width);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this.inputElement);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp, oldProp);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this.clearAll();\n                        break;\n                    }\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var li = this.getElementByText(newProp.text);\n                        if (!this.checkValidLi(li)) {\n                            if (this.liCollections && this.liCollections.length === 100 &&\n                                this.getModuleName() === 'autocomplete' && this.listData.length > 100) {\n                                this.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else {\n                                this.setOldText(oldProp.text);\n                            }\n                        }\n                        this.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this.clearAll();\n                        break;\n                    }\n                    this.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var item = this.getElementByValue(newProp.value);\n                        if (!this.checkValidLi(item)) {\n                            if (this.liCollections && this.liCollections.length === 100 &&\n                                this.getModuleName() === 'autocomplete' && this.listData.length > 100) {\n                                this.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else {\n                                this.setOldValue(oldProp.value);\n                            }\n                        }\n                        this.updateInputFields();\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this.clearAll();\n                        break;\n                    }\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var element = this.liCollections[newProp.index];\n                        if (!this.checkValidLi(element)) {\n                            if (this.liCollections && this.liCollections.length === 100 &&\n                                this.getModuleName() === 'autocomplete' && this.listData.length > 100) {\n                                this.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this.index = oldProp.index;\n                            }\n                        }\n                        this.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.popupObj) {\n                        this.setFooterTemplate(this.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this.popupObj) {\n                        this.setHeaderTemplate(this.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this.itemData) && this.valueTemplate != null) {\n                        this.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this.allowFiltering) {\n                        this.actionCompleteData = { ulElement: this.ulElement,\n                            list: this.listData, isUpdated: true };\n                        this.updateSelectElementData(this.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, newProp.floatLabelType, this.placeholder, this.createElement);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.inputElement, this.inputWrapper, null, this.createElement);\n                    this.bindClearEvent();\n                    break;\n                default:\n                    var ddlProps = void 0;\n                    ddlProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, ddlProps.newProperty, ddlProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.setCssClass = function (newProp, oldProp) {\n        if (!isNullOrUndefined(oldProp.cssClass) && oldProp.cssClass !== '') {\n            removeClass([this.inputWrapper.container], oldProp.cssClass.split(' '));\n        }\n        Input.setCssClass(newProp.cssClass, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            if (!isNullOrUndefined(oldProp.cssClass) && oldProp.cssClass !== '') {\n                removeClass([this.popupObj.element], oldProp.cssClass.split(' '));\n            }\n            if (!isNullOrUndefined(newProp.cssClass) && newProp.cssClass !== '') {\n                addClass([this.popupObj.element], newProp.cssClass.split(' '));\n            }\n        }\n    };\n    /**\n     * Return the module name.\n     * @private\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     * @returns void.\n     */\n    DropDownList.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (isBlazor() && this.itemTemplate) {\n            this.DropDownBaseupdateBlazorTemplates(true, false, false, false);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && this.list.classList.contains(dropDownBaseClasses.noData)) {\n            this.renderList();\n        }\n        else if (this.isFiltering() && this.isServerBlazor) {\n            this.renderList();\n        }\n        if (!this.isServerBlazor) {\n            this.invokeRenderPopup();\n        }\n        if (this.isServerBlazor && !isNullOrUndefined(this.list)) {\n            this.invokeRenderPopup();\n        }\n    };\n    DropDownList.prototype.invokeRenderPopup = function () {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list.children[0]) || this.list.classList.contains(dropDownBaseClasses.noData)) {\n            this.renderPopup();\n        }\n        attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n    };\n    DropDownList.prototype.clientRenderPopup = function (data, popupEle) {\n        if (popupEle) {\n            this.serverPopupEle = popupEle;\n            this.list = popupEle.querySelector('.e-dropdownbase.e-content') ?\n                popupEle.querySelector('.e-dropdownbase.e-content') : this.list;\n            this.ulElement = this.list.querySelector('ul');\n            this.liCollections = this.ulElement ?\n                this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li) : [];\n            this.listData = data;\n            this.initRemoteRender = false;\n            this.serverBlazorUpdateSelection();\n            this.wireListEvents();\n            if (this.isServerIncrementalSearch && this.searchKeyEvent) {\n                this.isServerIncrementalSearch = false;\n                this.initial = false;\n                this.onServerIncrementalSearch(this.searchKeyEvent);\n            }\n            if (this.beforePopupOpen) {\n                this.invokeRenderPopup();\n            }\n        }\n        else if (data != null && this.listData !== data) {\n            this.listData = data;\n            this.initRemoteRender = false;\n        }\n    };\n    DropDownList.prototype.updateclientItemData = function (data) {\n        this.listData = data;\n    };\n    DropDownList.prototype.serverUpdateListElement = function (data, popupEle) {\n        this.listData = data;\n        if (this.ulElement) {\n            this.liCollections = this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n        }\n    };\n    /**\n     * Hides the popup if it is in an open state.\n     * @returns void.\n     */\n    DropDownList.prototype.hidePopup = function () {\n        var isHeader = (this.headerTemplate) ? true : false;\n        var isFooter = (this.headerTemplate) ? true : false;\n        this.DropDownBaseresetBlazorTemplates(false, false, false, false, false, isHeader, isFooter);\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', this.value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.closePopup();\n        var dataItem = this.getItemData();\n        if (this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            !isNullOrUndefined(this.selectedLI) && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll();\n        }\n    };\n    /**\n     * Sets the focus on the component for interaction.\n     * @returns void.\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     * @returns void.\n     */\n    DropDownList.prototype.focusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        this.isTyped = true;\n        this.hidePopup();\n        this.targetElement().blur();\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    DropDownList.prototype.destroy = function () {\n        var _this = this;\n        this.isActive = false;\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n            if (this.isServerBlazor) {\n                if ((this.fields.groupBy) && !this.isGroupChecking) {\n                    EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n                }\n            }\n        }\n        if (!this.isServerBlazor) {\n            if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n                return;\n            }\n            var attrArray = ['readonly', 'aria-disabled', 'aria-placeholder',\n                'placeholder', 'aria-owns', 'aria-labelledby', 'aria-haspopup', 'aria-expanded',\n                'aria-activedescendant', 'autocomplete', 'aria-readonly', 'autocorrect',\n                'autocapitalize', 'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            attrArray.forEach(function (value) {\n                _this.inputElement.removeAttribute(value);\n            });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            this.element.style.display = 'block';\n            if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n                detach(this.inputWrapper.container);\n            }\n            else {\n                this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n                detach(this.inputWrapper.container);\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    ;\n    /**\n     * Gets all the list items bound on this component.\n     * @returns Element[].\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     * @returns void.\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue, Complex } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\n/* tslint:disable */\nimport { Input } from '@syncfusion/ej2-inputs';\n/* tslint:enable */\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ;\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ;\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlur, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlur = function (e) {\n        var inputValue = this.inputElement.value === '' ? null : this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue();\n        }\n        _super.prototype.onBlur.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if (this.previousValue !== this.value) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var li = this.getElementByValue(this.value);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if (this.allowCustom) {\n                this.valueMuteChange(this.value);\n            }\n            else {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-owns': this.element.id + '_options',\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-hasPopup': 'true',\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        return (this.isFiltering() ? this.inputWrapper : inputObject);\n    };\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped) {\n            this.inlineSearch();\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n        var isSelected = dataItem.text === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var activeItem = Search(inputValue, this.liCollections, 'StartsWith', true);\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    this.list.scrollTop = count * height + fixedHead;\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    this.list.scrollTop = 0;\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        this.itemData = this.getDataByValue(this.value);\n        var dataItem = this.getItemData();\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': dataItem.value, 'text': dataItem.text });\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && this.previousValue !== currentFillValue) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (this.inputElement.value === '') {\n            this.activeIndex = null;\n            this.list.scrollTop = 0;\n            var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n            this.setHoverList(focusItem);\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length < 0) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup();\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ;\n    ComboBox.prototype.setAutoFillSelection = function (currentValue) {\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ;\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlur);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n        if (!this.readonly) {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n            EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue();\n        }\n        this.hidePopup();\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ;\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus();\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function () {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            if (this.autofill && previousValue === this.value && currentValue !== this.value) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                var eventArgs = void 0;\n                eventArgs = { text: value_1, item: {} };\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                this.setProperties({ value: value });\n                if (previousValue_1 !== this.value) {\n                    this.onChangeEvent(null);\n                }\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue) {\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        if (previousValue !== this.value) {\n            this.onChangeEvent(null);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default:\n                    var comboProps = void 0;\n                    comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     * @private\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n        }\n        this.renderComplete();\n    };\n    ;\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @return {void}.\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @return {void}.\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /**\n     * Hides the popup if it is in open state.\n     * @returns void.\n     */\n    ComboBox.prototype.hidePopup = function () {\n        var inputValue = this.inputElement.value === '' ? null : this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n            if (dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(null);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue();\n            }\n        }\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== this.value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     * @returns void.\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], ComboBox.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], ComboBox.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('The Request Failed')\n    ], ComboBox.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], ComboBox.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property([])\n    ], ComboBox.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], ComboBox.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], ComboBox.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], ComboBox.prototype, \"locale\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, attributes, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\n/* tslint:disable */\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/* tslint:enable */\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     */\n    function AutoComplete(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFiltered = false;\n        return _this;\n    }\n    ;\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    ;\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.value)) ? this.value : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null) {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.keyCode === 40 || e.keyCode === 38) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @return {void}.\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            this.resetList(dataSource, fields, query);\n        }\n        else {\n            this.hidePopup();\n        }\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        this.fixedHeaderElement = null;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0])) {\n            var items = [this.liCollections[0]];\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase);\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill) {\n                this.preventAutoFill = false;\n                _super.prototype.setAutoFill.call(this, li);\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    ;\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function () {\n        this.list.scrollTop = 0;\n        _super.prototype.renderPopup.call(this);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return true && this.inputElement.value.trim() !== '';\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     * @returns void.\n     */\n    AutoComplete.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n        }\n        else {\n            this.resetList(this.dataSource, this.fields);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     * @returns void.\n     */\n    AutoComplete.prototype.hidePopup = function () {\n        this.DropDownBaseresetBlazorTemplates(true, false, false, false);\n        _super.prototype.hidePopup.call(this);\n        this.activeIndex = -1;\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default:\n                    var atcProps = void 0;\n                    atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    ;\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Popup, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { attributes, setValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, Property, Event, compile, L10n } from '@syncfusion/ej2-base';\nimport { Animation, Browser, prepend, isBlazor, Complex } from '@syncfusion/ej2-base';\nimport { Search } from '../common/incremental-search';\nimport { append, addClass, removeClass, closest, detach, remove } from '@syncfusion/ej2-base';\nimport { getUniqueID, formatUnit, isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\n/* tslint:disable */\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\nimport { createFloatLabel, removeFloating, floatLabelFocus, floatLabelBlur } from './float-label';\n/* tslint:enable */\nvar FOCUS = 'e-input-focus';\nvar DISABLED = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group e-control-wrapper';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER = 'e-remain';\nvar CLOSEICON_CLASS = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER = 'e-ddl-footer';\nvar HEADER = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\nvar TOTAL_COUNT_WRAPPER = 'e-delim-total';\nvar BOX_ELEMENT = 'e-multiselect-box';\nvar FILTERPARENT = 'e-filter-parent';\nvar CUSTOM_WIDTH = 'e-search-custom-width';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ;\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.mode === 'CheckBox') {\n            this.isGroupChecking = this.enableGroupCheckBox;\n            if (this.enableGroupCheckBox) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                this.enableSelectionOrder = false;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class':\n                        this.overAllWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n                        this.popupWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n                        break;\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        if (!this.placeholder) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                            this.setProperties({ placeholder: this.inputElement.placeholder }, true);\n                            this.refreshPlaceHolder();\n                        }\n                        break;\n                    default:\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (state || this.mode === 'CheckBox') {\n            this.inputElement.setAttribute('readonly', 'true');\n        }\n        else {\n            this.inputElement.removeAttribute('readonly');\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            addClass([this.overAllWrapper], this.cssClass.split(' '));\n            addClass([this.popupWrapper], this.cssClass.split(' '));\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function () {\n        var _this = this;\n        var listItems;\n        var mainListItems;\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n                proxy_1.inputElement.focus();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.focusAtFirstListItem();\n                document.body.appendChild(_this.popupObj.element);\n                if (_this.mode === 'CheckBox' && _this.enableGroupCheckBox && !isNullOrUndefined(_this.fields.groupBy)) {\n                    _this.updateListItems(_this.list.querySelectorAll('li.e-list-item'), _this.mainList.querySelectorAll('li.e-list-item'));\n                }\n                if (_this.mode === 'CheckBox' || _this.showDropDownIcon) {\n                    addClass([_this.overAllWrapper], [iconAnimation]);\n                }\n                _this.refreshPopup();\n                _this.popupObj.show(eventArgs.animation, (_this.zIndex === 1000) ? _this.element : null);\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                if (_this.isFirstClick) {\n                    _this.loadTemplate();\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.updateListItems = function (listItems, mainListItems) {\n        for (var i = 0; i < listItems.length; i++) {\n            this.findGroupStart(listItems[i]);\n            this.findGroupStart(mainListItems[i]);\n        }\n        this.deselectHeader();\n    };\n    MultiSelect.prototype.loadTemplate = function () {\n        this.refreshListItems(null);\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n    };\n    MultiSelect.prototype.setScrollPosition = function () {\n        if (((!this.hideSelectedItem && this.mode !== 'CheckBox') || (this.mode === 'CheckBox' && !this.enableSelectionOrder)) &&\n            (!isNullOrUndefined(this.value) && (this.value.length > 0))) {\n            var valueEle = this.findListElement((this.hideSelectedItem ? this.ulElement : this.list), 'li', 'data-value', this.value[this.value.length - 1]);\n            if (!isNullOrUndefined(valueEle)) {\n                this.scrollBottom(valueEle);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                this.removeFocus();\n                return;\n            }\n            else {\n                element = this.ulElement.querySelector('li.'\n                    + dropDownBaseClasses.li + ':not(.'\n                    + HIDE_LIST + ')');\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                Search(this.value[this.value.length - 1], this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            this.scrollBottom(activeElement.item, activeElement.index);\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-multiselectable': 'true',\n            'aria-activedescendant': 'null',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        attributes(this.ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n        var disableStatus = (this.inputElement.disabled) ? true : false;\n        attributes(this.inputElement, this.getAriaAttributes());\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        this.ensureAriaDisabled((disableStatus) ? 'true' : 'false');\n    };\n    MultiSelect.prototype.ensureAriaDisabled = function (status) {\n        if (this.htmlAttributes && this.htmlAttributes['aria-disabled']) {\n            var attr = this.htmlAttributes;\n            extend(attr, { 'aria-disabled': status }, attr);\n            this.setProperties({ htmlAttributes: attr }, true);\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var elements;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.value.slice();\n        }\n        this.removeValue(value, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar, e);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            this.refreshSelection();\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox' && this.allowFiltering) {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        for (var i = 0; i < valuecheck.length; i++) {\n            if (i === 0) {\n                predicate = new Predicate(field, 'equal', valuecheck[i]);\n            }\n            else {\n                predicate = predicate.or(field, 'equal', valuecheck[i]);\n            }\n        }\n        return this.getQuery(this.query).where(predicate);\n    };\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        this.updateSelectElementData(this.allowFiltering);\n        var proxy = this;\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n            for (var i = 0; i < this.value.length; i++) {\n                var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', proxy.value[i]);\n                if (!checkEle) {\n                    valuecheck.push(proxy.value[i]);\n                }\n            }\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)) {\n            this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n                proxy.addItem(e.result, list.length);\n                proxy.updateActionList(ulElement, list, e);\n            });\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n    };\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (!isNullOrUndefined(this.mainData) && this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering) {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            return;\n        }\n        if (this.value && this.value.length && ((this.mode !== 'CheckBox' && this.inputElement.value !== '') ||\n            this.mode === 'CheckBox')) {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.initialTextUpdate();\n            }\n            this.initialValueUpdate();\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                this.updateValueState(null, this.value, null);\n            }\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown();\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.value[index];\n                element = this.findListElement(this.list, 'li', 'data-value', value);\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                        }\n                        else {\n                            this.ulElement = this.ulElement.cloneNode ? this.ulElement.cloneNode(true) : this.ulElement;\n                            this.l10nUpdate();\n                            addClass([this.list], dropDownBaseClasses.noData);\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.firstElementChild.getAttribute('aria-checked');\n                        if (isNullOrUndefined(ariaValue) || ariaValue === 'false') {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var groupItemLength = this.list.querySelectorAll('li.e-list-group-item.e-active').length;\n        var listItem = this.list.querySelectorAll('li.e-list-item');\n        var searchCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            searchActiveCount = searchActiveCount - groupItemLength;\n        }\n        if ((searchCount === searchActiveCount || searchActiveCount === this.maximumSelectionLength)\n            && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        else if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n        if (this.enableGroupCheckBox && this.fields.groupBy && !this.enableSelectionOrder) {\n            for (var i = 0; i < listItem.length; i++) {\n                this.findGroupStart(listItem[i]);\n            }\n            this.deselectHeader();\n        }\n    };\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox') {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup();\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.KeyUp = function (e) {\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    // For filtering works in mobile firefox\n                    this.search(e);\n            }\n        }\n    };\n    /**\n     * To filter the multiselect data from given data source by using query\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @return {void}.\n     */\n    MultiSelect.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.remoteFilterAction = true;\n        this.dataUpdater(dataSource, query, fields);\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.filterAction) {\n            if (this.targetElement() !== null) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            return filterQuery;\n        }\n        else {\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        this.refreshPopup();\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var field = fields ? fields : this.fields;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (typeof (customData) !== 'string') {\n                var dataItem = {};\n                setValue(field.text, value, dataItem);\n                setValue(field.value, value, dataItem);\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, dataItem);\n                this.resetList(tempData, field, query);\n            }\n            else {\n                var tempData = [this.inputElement.value];\n                this.resetList(tempData, field);\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        if (!this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus) {\n            this.inputElement.focus();\n        }\n        if (!this.readonly) {\n            if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE) !== -1) {\n                if (this.isPopupOpen()) {\n                    this.refreshPopup();\n                }\n                return;\n            }\n            if (!this.isPopupOpen() &&\n                (this.openOnClick || (this.showDropDownIcon && e.target && e.target.className === dropdownIcon))) {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup();\n                if (this.mode === 'CheckBox') {\n                    this.showOverAllClear();\n                    this.inputFocus = true;\n                    if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                        this.overAllWrapper.classList.add(FOCUS);\n                    }\n                }\n            }\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.ensureAriaDisabled('false');\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.ensureAriaDisabled('true');\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlur = function (eve) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            return;\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve)) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            if (!isNullOrUndefined(eve)) {\n                eve.preventDefault();\n            }\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.refreshListItems(null);\n            this.updateDelimView();\n        }\n        if (this.changeOnBlur) {\n            this.updateValueState(eve, this.value, this.tempValues);\n            this.dispatchEvent(this.hiddenElement, 'change');\n        }\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.DropDownBaseresetBlazorTemplates(false, false, true, true, false, true, true);\n            this.hidePopup();\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n        if ((this.allowFiltering || (this.enableSelectionOrder === true && this.mode === 'CheckBox'))\n            && !isNullOrUndefined(this.mainList)) {\n            this.ulElement = this.mainList;\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.checkPlaceholderSize = function () {\n        if (this.showDropDownIcon) {\n            var downIconWidth = this.dropIcon.offsetWidth +\n                parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            this.setPlaceholderSize(downIconWidth);\n        }\n    };\n    MultiSelect.prototype.setPlaceholderSize = function (downIconWidth) {\n        if (isNullOrUndefined(this.value) || this.value.length === 0) {\n            if (this.dropIcon.offsetWidth !== 0) {\n                this.searchWrapper.style.width = ('calc(100% - ' + (downIconWidth + 10)) + 'px';\n            }\n            else {\n                addClass([this.searchWrapper], CUSTOM_WIDTH);\n            }\n        }\n        else if (!isNullOrUndefined(this.value)) {\n            this.searchWrapper.removeAttribute('style');\n            removeClass([this.searchWrapper], CUSTOM_WIDTH);\n        }\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if ((!this.value || !this.value.length) && (isNullOrUndefined(this.text) || this.text === '')) {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        else {\n            this.searchWrapper.classList.add(ZERO_SIZE);\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: oldVal,\n                value: newVal,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.updateTempValue();\n            if (!this.changeOnBlur) {\n                this.dispatchEvent(this.hiddenElement, 'change');\n            }\n        }\n    };\n    MultiSelect.prototype.updateTempValue = function () {\n        if (!this.value) {\n            this.tempValues = this.value;\n        }\n        else {\n            this.tempValues = this.value.slice();\n        }\n    };\n    MultiSelect.prototype.getPagingCount = function () {\n        var height = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.offsetHeight / parseInt(height, 10));\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps) {\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem;\n        previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    ;\n    MultiSelect.prototype.pageDownSelection = function (steps) {\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem;\n        previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement ? (this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li).length > 0 &&\n            this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')')) : null;\n    };\n    MultiSelect.prototype.focusInHandler = function (e) {\n        if (this.enabled) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            this.checkPlaceholderSize();\n            if (this.focused) {\n                var args = { isInteracted: e ? true : false, event: e };\n                this.trigger('focus', args);\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (e) {\n        switch (e.keyCode) {\n            case 38:\n                this.hidePopup();\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                e.preventDefault();\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup();\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n        }\n    };\n    MultiSelect.prototype.homeNavigation = function (isHome) {\n        this.removeFocus();\n        var scrollEle = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (scrollEle.length > 0) {\n            var element = scrollEle[(isHome) ? 0 : (scrollEle.length - 1)];\n            element.classList.add(dropDownBaseClasses.focus);\n            this.scrollBottom(element);\n        }\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e);\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            switch (e.keyCode) {\n                case 36:\n                case 35:\n                    this.homeNavigation((e.keyCode === 36) ? true : false);\n                    break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    this.arrowUp(e);\n                    break;\n                case 40:\n                    this.arrowDown(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.hidePopup();\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    this.checkPlaceholderSize();\n                    return;\n                case 32:\n                    this.spaceKeySelection(e);\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.hidePopup();\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        this.refreshPopup();\n    };\n    MultiSelect.prototype.arrowDown = function (e) {\n        e.preventDefault();\n        this.moveByList(1);\n        this.keyAction = true;\n        if (document.activeElement.classList.contains('e-input-filter')\n            || (this.mode === 'CheckBox' && !this.allowFiltering && document.activeElement !== this.list)) {\n            this.list.focus();\n            EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.arrowUp = function (e) {\n        e.preventDefault();\n        this.keyAction = true;\n        var list = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            list = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        }\n        var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n        if (index <= 0 && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            this.keyAction = false;\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'focus' });\n        }\n        else {\n            this.list.focus();\n        }\n        this.moveByList(-1);\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.spaceKeySelection = function (e) {\n        if (this.mode === 'CheckBox') {\n            if (!document.activeElement.classList.contains('e-input-filter')) {\n                e.preventDefault();\n                this.keyAction = true;\n                this.list.focus();\n            }\n            this.selectByKey(e);\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37: //left arrow   \n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39: //right arrow  \n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46: //del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.value[this.value.length - 1];\n                this.removeValue(temp, e);\n                this.updateDelimeter(this.delimiterChar, e);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.value && this.validateValues(this.value, temp)) {\n            if (this.mode !== 'CheckBox') {\n                this.value = temp;\n                this.initialValueUpdate();\n            }\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex) {\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset) {\n            this.list.scrollTop = nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = nextOffset;\n        }\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex) {\n        var nextOffset = selectedLI.offsetTop - this.list.scrollTop;\n        var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0) {\n            this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var target;\n        if (li !== null) {\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.updateDelimeter(this.delimiterChar, e);\n                    this.refreshInputHight();\n                    this.checkPlaceholderSize();\n                    if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                        target = li.firstElementChild.lastElementChild;\n                        this.findGroupStart(target);\n                        this.deselectHeader();\n                    }\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent);\n                }\n                if (!this.changeOnBlur) {\n                    this.updateValueState(e, this.value, this.tempValues);\n                }\n                this.refreshPopup();\n            }\n            else {\n                if (!this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                    target = li.firstElementChild.lastElementChild;\n                    target.classList.contains('e-check') ? this.selectAllItem(false, e, li) : this.selectAllItem(true, e, li);\n                }\n            }\n            this.refreshSelection();\n            if (this.closePopupOnSelect) {\n                this.hidePopup();\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data) {\n        if ((this.allowFiltering || (this.mode === 'CheckBox' && this.enableSelectionOrder === true)\n            || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = void 0;\n            list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            this.removeValue(selectedElem.getAttribute('data-value'), e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup();\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.moveByList = function (position) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                elements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            }\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var temp = -1;\n            if (elements.length) {\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        this.addListFocus(elements[++temp]);\n                        this.updateCheck(elements[temp]);\n                        this.scrollBottom(elements[temp], temp);\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        this.removeFocus();\n                        this.addListFocus(elements[--temp]);\n                        this.updateCheck(elements[temp]);\n                        this.scrollTop(elements[temp], temp);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateCheck = function (element) {\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox &&\n            !isNullOrUndefined(this.fields.groupBy)) {\n            var checkElement = element.firstElementChild.lastElementChild;\n            if (checkElement.classList.contains('e-check')) {\n                element.classList.add('e-active');\n            }\n            else {\n                element.classList.remove('e-active');\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var elements;\n        var selectedElem;\n        var temp;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var customVal = element.getAttribute('data-value');\n            var value = this.getFormattedValue(customVal);\n            if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n                (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n                value = customVal;\n            }\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup();\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            if (isNullOrUndefined(this.findListElement(this.list, 'li', 'data-value', value)) && this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar, e);\n            if (this.placeholder && this.floatLabelType === 'Never') {\n                this.makeTextBoxEmpty();\n                this.checkPlaceholderSize();\n            }\n            else {\n                this.inputElement.value = '';\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if ((this.value && this.value.length) || (!isNullOrUndefined(this.text) && this.text !== '')) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = this.placeholder;\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length, isClearAll) {\n        var _this = this;\n        var index = this.value.indexOf(this.getFormattedValue(value));\n        if (index === -1 && this.allowCustomValue && !isNullOrUndefined(value)) {\n            index = this.value.indexOf(value.toString());\n        }\n        var targetEle = eve && eve.target;\n        isClearAll = (isClearAll || targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var element_1 = this.findListElement(this.list, 'li', 'data-value', value);\n            var val_1 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element_1,\n                itemData: val_1,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    _this.removeIndex++;\n                }\n                else {\n                    var removeVal = _this.value.slice(0);\n                    removeVal.splice(index, 1);\n                    _this.setProperties({ value: [].concat([], removeVal) }, true);\n                    if (element_1 !== null) {\n                        var hideElement = _this.findListElement(_this.mainList, 'li', 'data-value', value);\n                        element_1.setAttribute('aria-selected', 'false');\n                        removeClass([element_1], className);\n                        if (hideElement) {\n                            hideElement.setAttribute('aria-selected', 'false');\n                            removeClass([element_1, hideElement], className);\n                        }\n                        _this.notify('activeList', {\n                            module: 'CheckBoxSelection',\n                            enable: _this.mode === 'CheckBox', li: element_1,\n                            e: _this, index: index\n                        });\n                        _this.notify('updatelist', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', li: element_1, e: eve });\n                        attributes(_this.inputElement, { 'aria-activedescendant': element_1.id });\n                        if ((_this.value.length !== _this.mainData.length) && (_this.mode === 'CheckBox' && _this.showSelectAll)) {\n                            _this.notify('checkSelectAll', { module: 'CheckBoxSelection',\n                                enable: _this.mode === 'CheckBox',\n                                value: 'uncheck' });\n                        }\n                    }\n                    if (_this.hideSelectedItem && _this.fields.groupBy) {\n                        _this.hideGroupItem(value);\n                    }\n                    _this.updateMainList(true, value);\n                    _this.removeChip(value);\n                    _this.updateChipStatus();\n                    var limit = _this.value && _this.value.length ? _this.value.length : 0;\n                    if (limit < _this.maximumSelectionLength) {\n                        var collection = _this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                    _this.trigger('removed', eventArgs);\n                    var targetEle_1 = eve && eve.currentTarget;\n                    var isSelectAll = (targetEle_1 && targetEle_1.classList.contains('e-selectall-parent')) ? true : null;\n                    if (!_this.changeOnBlur && !isClearAll && (eve && length && !isSelectAll)) {\n                        _this.updateValueState(eve, _this.value, _this.tempValues);\n                    }\n                    if (length) {\n                        _this.selectAllEventData.push(val_1);\n                        _this.selectAllEventEle.push(element_1);\n                    }\n                    if (length === 1) {\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(eve, _this.value, _this.tempValues);\n                        }\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: false\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                        _this.selectAllEventEle = [];\n                    }\n                    if (isClearAll) {\n                        _this.clearAllCallback(eve, isClearAll);\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value) {\n        if (this.allowFiltering || this.mode === 'CheckBox') {\n            var element2 = this.findListElement(this.mainList, 'li', 'data-value', value);\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        element2.firstElementChild.setAttribute('aria-checked', 'false');\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        element2.firstElementChild.setAttribute('aria-checked', 'true');\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value) {\n        if (this.chipCollectionWrapper) {\n            var element = this.findListElement(this.chipCollectionWrapper, 'span', 'data-value', value);\n            if (element) {\n                remove(element);\n            }\n        }\n    };\n    MultiSelect.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.overAllWrapper.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.overAllWrapper.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        this.setProperties({ value: [].concat([], this.value, [value]) }, true);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n        var _this = this;\n        if (this.initStatus && !isNotTrigger) {\n            var val_2 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val_2,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (length) {\n                        _this.selectAllEventData.push(val_2);\n                        _this.selectAllEventEle.push(element);\n                    }\n                    if (length === 1) {\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: true\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                    }\n                    _this.updateListSelectEventCallback(value, element, eve);\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            this.getChip(text, value, e);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements;\n        var closeElements;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE.split(' ')[0]);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var _this = this;\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE });\n        if (this.mainData) {\n            itemData = isBlazor() ? JSON.parse(JSON.stringify(this.getDataByValue(value))) : this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var compiledString = compile(this.valueTemplate);\n            for (var _i = 0, _a = compiledString(itemData, null, null, this.valueTemplateId, this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                chipContent.appendChild(item);\n            }\n            this.DropDownBaseupdateBlazorTemplates(false, false, false, false, true, false, false, false);\n        }\n        else {\n            chipContent.innerHTML = data;\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.trigger('tagging', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (eventArgs.setClass && typeof eventArgs.setClass === 'string' && isBlazor()) {\n                    addClass([chip], eventArgs.setClass);\n                }\n                if (Browser.isDevice) {\n                    chip.classList.add(MOBILE_CHIP);\n                    append([chipClose], chip);\n                    chipClose.style.display = 'none';\n                    EventHandler.add(chip, 'click', _this.onMobileChipInteraction, _this);\n                }\n                else {\n                    EventHandler.add(chip, 'mousedown', _this.chipClick, _this);\n                    if (_this.showClearButton) {\n                        chip.appendChild(chipClose);\n                    }\n                }\n                EventHandler.add(chipClose, 'mousedown', _this.onChipRemove, _this);\n                _this.chipCollectionWrapper.appendChild(chip);\n                if (!_this.changeOnBlur && e) {\n                    _this.updateValueState(e, _this.value, _this.tempValues);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields, headerName) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = isNullOrUndefined(fields.properties) ? fields :\n            fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            var moduleName = this.getModuleName();\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty,\n                moduleName: moduleName, headerName: headerName });\n        }\n        if (fields && fields.groupBy && this.mode !== 'CheckBox') {\n            var text_1 = fields.text;\n            this.listCurrentOptions.itemCreated = function (args) {\n                if (args.curData[text_1] === undefined && args.curData.isHeader) {\n                    args.item.textContent = headerName;\n                    args.item.classList.add('e-undefine-group');\n                }\n            };\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            var args = { cancel: false };\n            this.trigger('beforeOpen', args, function (args) {\n                if (!args.cancel) {\n                    document.body.appendChild(_this.popupWrapper);\n                    var checkboxFilter = _this.popupWrapper.querySelector('.' + FILTERPARENT);\n                    if (_this.mode === 'CheckBox' && !_this.allowFiltering && checkboxFilter && _this.filterParent) {\n                        checkboxFilter.remove();\n                        _this.filterParent = null;\n                    }\n                    var overAllHeight = parseInt(_this.popupHeight, 10);\n                    _this.popupWrapper.style.visibility = 'hidden';\n                    if (_this.headerTemplate) {\n                        _this.setHeaderTemplate();\n                        overAllHeight -= _this.header.offsetHeight;\n                    }\n                    append([_this.list], _this.popupWrapper);\n                    if (_this.footerTemplate) {\n                        _this.setFooterTemplate();\n                        overAllHeight -= _this.footer.offsetHeight;\n                    }\n                    if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                        _this.notify('selectAll', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                        overAllHeight -= _this.selectAllHeight;\n                    }\n                    else if (_this.mode === 'CheckBox' && !_this.showSelectAll && (!_this.headerTemplate || !_this.footerTemplate)) {\n                        _this.notify('selectAll', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                        overAllHeight = parseInt(_this.popupHeight, 10);\n                    }\n                    else if (_this.mode === 'CheckBox' && !_this.showSelectAll) {\n                        _this.notify('selectAll', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                        overAllHeight = parseInt(_this.popupHeight, 10);\n                        if (_this.headerTemplate && _this.header) {\n                            overAllHeight -= _this.header.offsetHeight;\n                        }\n                        if (_this.footerTemplate && _this.footer) {\n                            overAllHeight -= _this.footer.offsetHeight;\n                        }\n                    }\n                    if (_this.mode === 'CheckBox') {\n                        var args_1 = {\n                            module: 'CheckBoxSelection',\n                            enable: _this.mode === 'CheckBox',\n                            popupElement: _this.popupWrapper\n                        };\n                        if (_this.allowFiltering) {\n                            _this.notify('searchBox', args_1);\n                            overAllHeight -= _this.searchBoxHeight;\n                        }\n                        addClass([_this.popupWrapper], 'e-checkbox');\n                    }\n                    if (_this.popupHeight !== 'auto') {\n                        _this.list.style.maxHeight = formatUnit(overAllHeight);\n                        _this.popupWrapper.style.maxHeight = formatUnit(_this.popupHeight);\n                    }\n                    else {\n                        _this.list.style.maxHeight = formatUnit(_this.popupHeight);\n                    }\n                    _this.popupObj = new Popup(_this.popupWrapper, {\n                        width: _this.calcPopupWidth(), targetType: 'relative', position: { X: 'left', Y: 'bottom' },\n                        relateTo: _this.overAllWrapper, collision: { X: 'flip', Y: 'flip' }, offsetY: 1,\n                        enableRtl: _this.enableRtl, zIndex: _this.zIndex,\n                        close: function () {\n                            if (_this.popupObj.element.parentElement) {\n                                _this.popupObj.unwireScrollEvents();\n                                detach(_this.popupObj.element);\n                            }\n                        },\n                        open: function () {\n                            if (!_this.isFirstClick) {\n                                var ulElement = _this.list.querySelector('ul');\n                                if (ulElement) {\n                                    if (_this.itemTemplate && (_this.mode === 'CheckBox') && isBlazor()) {\n                                        setTimeout(function () {\n                                            _this.mainList = _this.ulElement;\n                                        }, 0);\n                                    }\n                                    else {\n                                        _this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                                    }\n                                }\n                                _this.isFirstClick = true;\n                            }\n                            _this.popupObj.wireScrollEvents();\n                            _this.loadTemplate();\n                            _this.setScrollPosition();\n                            if (_this.allowFiltering) {\n                                _this.notify('inputFocus', {\n                                    module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus'\n                                });\n                            }\n                        }, targetExitViewport: function () {\n                            if (!Browser.isDevice) {\n                                _this.hidePopup();\n                            }\n                        }\n                    });\n                    _this.popupObj.close();\n                    _this.popupWrapper.style.visibility = '';\n                    if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                        _this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER);\n        compiledString = compile(this.headerTemplate);\n        var elements = compiledString({}, null, null, this.headerTemplateId, this.isStringTemplate);\n        for (var temp = 0; temp < elements.length; temp++) {\n            this.header.appendChild(elements[temp]);\n        }\n        this.DropDownBaseupdateBlazorTemplates(false, false, false, false, false, true, false);\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER);\n        compiledString = compile(this.footerTemplate);\n        var elements = compiledString({}, null, null, this.footerTemplateId, this.isStringTemplate);\n        for (var temp = 0; temp < elements.length; temp++) {\n            this.footer.appendChild(elements[temp]);\n        }\n        this.DropDownBaseupdateBlazorTemplates(false, false, false, false, false, false, true);\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.ClearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            if (this.value && this.value.length > 0) {\n                var liElement = this.list && this.list.querySelectorAll('li.e-list-item');\n                if (liElement && liElement.length > 0) {\n                    this.selectAllItems(false, e);\n                }\n                else {\n                    this.removeIndex = 0;\n                    for (temp = this.value[this.removeIndex]; this.removeIndex < this.value.length; temp = this.value[this.removeIndex]) {\n                        this.removeValue(temp, e, null, true);\n                    }\n                }\n            }\n            else {\n                this.clearAllCallback(e);\n            }\n        }\n    };\n    MultiSelect.prototype.clearAllCallback = function (e, isClearAll) {\n        var tempValues = this.value ? this.value.slice() : [];\n        if (this.mainList && this.listData && (this.allowFiltering || this.allowCustomValue)) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n        }\n        this.focusAtFirstListItem();\n        this.updateDelimeter(this.delimiterChar, e);\n        if (this.mode !== 'Box' && (!this.inputFocus || this.mode === 'CheckBox')) {\n            this.updateDelimView();\n        }\n        this.makeTextBoxEmpty();\n        this.checkPlaceholderSize();\n        if (this.isPopupOpen()) {\n            this.refreshPopup();\n        }\n        if (!this.inputFocus) {\n            if (this.changeOnBlur) {\n                this.updateValueState(e, this.value, tempValues);\n            }\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.refreshPlaceHolder();\n            this.refreshInputHight();\n            if (this.changeOnBlur && isClearAll && (this.value && this.value.length === 0)) {\n                this.updateValueState(e, this.value, this.tempValues);\n            }\n        }\n        if (!this.changeOnBlur && isClearAll && (this.value && this.value.length === 0)) {\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            this.updateListItems(this.list.querySelectorAll('li.e-list-item'), this.mainList.querySelectorAll('li.e-list-item'));\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if ((!this.inputFocus || this.mode === 'CheckBox') && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var textVal = (this.element.tagName === this.getNgDirective()) ? null : this.element.getAttribute('data-initial-value');\n            this.text = textVal;\n        }\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusInHandler, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.KeyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlur, this);\n        EventHandler.add(this.componentWrapper, 'mousemove', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mouseup', this.ClearAll, this);\n    };\n    MultiSelect.prototype.onInput = function (e) {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        // For Filtering works in mobile firefox\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.search(e);\n        }\n    };\n    MultiSelect.prototype.search = function (e) {\n        var _this = this;\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup();\n        }\n        this.openClick(e);\n        if (this.checkTextLength() && !this.allowFiltering && (e.keyCode !== 8)) {\n            this.focusAtFirstListItem();\n        }\n        else {\n            var text = this.targetElement();\n            this.keyCode = e.keyCode;\n            if (this.allowFiltering) {\n                var eventArgs_1 = {\n                    preventDefaultAction: false,\n                    text: this.targetElement(),\n                    updateData: function (dataSource, query, fields) {\n                        if (eventArgs_1.cancel) {\n                            return;\n                        }\n                        _this.isFiltered = true;\n                        _this.remoteFilterAction = true;\n                        _this.dataUpdater(dataSource, query, fields);\n                    },\n                    event: e,\n                    cancel: false\n                };\n                this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!_this.isFiltered && !eventArgs.preventDefaultAction) {\n                            _this.filterAction = true;\n                            _this.dataUpdater(_this.dataSource, null, _this.fields);\n                        }\n                    }\n                });\n            }\n            else if (this.allowCustomValue) {\n                var query = new Query();\n                query = (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                this.dataUpdater(this.mainData, query, this.fields);\n            }\n            else {\n                var liCollections = void 0;\n                liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (activeElement && activeElement.item !== null) {\n                    this.addListFocus(activeElement.item);\n                    this.list.scrollTop =\n                        activeElement.item.offsetHeight * activeElement.index;\n                }\n                else if (this.targetElement() !== '') {\n                    this.removeFocus();\n                }\n                else {\n                    this.focusAtFirstListItem();\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.preRender = function () {\n        if (this.allowFiltering === null) {\n            this.allowFiltering = (this.mode === 'CheckBox') ? true : false;\n        }\n        this.initializeData();\n        this.updateDataAttribute(this.htmlAttributes);\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.getLocaleName = function () {\n        return 'multi-select';\n    };\n    ;\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar, e) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        this.listData = this.mainData;\n        this.hiddenElement.innerHTML = '';\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                if (this.listData) {\n                    temp = this.getTextByValue(this.value[index]);\n                }\n                else {\n                    temp = this.value[index];\n                }\n                data += temp + delimiterChar + ' ';\n                text.push(temp);\n                this.hiddenElement.innerHTML += '<option selected value =\"' + this.value[index] + '\">' + index + '</option>';\n            }\n        }\n        this.setProperties({ text: text.toString() }, true);\n        if (delim) {\n            this.delimiterWrapper.innerHTML = data;\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n        }\n        var targetEle = e && e.target;\n        var isClearAll = (targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        if (!this.changeOnBlur && ((e && !isClearAll)) || this.isSelectAll) {\n            this.isSelectAll = false;\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        this.listData = tempData;\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.initialTextUpdate = function () {\n        if (!isNullOrUndefined(this.text)) {\n            var textArr = this.text.split(this.delimiterChar);\n            var textVal = [];\n            for (var index = 0; textArr.length > index; index++) {\n                var val = this.getValueByText(textArr[index]);\n                if (!isNullOrUndefined(val)) {\n                    textVal.push(val);\n                }\n                else if (this.allowCustomValue) {\n                    textVal.push(textArr[index]);\n                }\n            }\n            if (textVal && textVal.length) {\n                this.setProperties({ value: textVal }, true);\n            }\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    MultiSelect.prototype.renderList = function (isEmptyData) {\n        _super.prototype.render.call(this, isEmptyData);\n        this.unwireListEvents();\n        this.wireListEvents();\n    };\n    MultiSelect.prototype.initialValueUpdate = function () {\n        if (this.list) {\n            var text = void 0;\n            var textField = void 0;\n            var valueField = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.value[index];\n                    element = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                    text = this.getTextByValue(value);\n                    if ((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) {\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if (value && this.allowCustomValue) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        var noDataEle = this.popupWrapper.querySelector('.' + dropDownBaseClasses.noData);\n                        this.addItem(newValue, indexItem);\n                        if (this.popupWrapper.contains(noDataEle)) {\n                            this.list.setAttribute('style', noDataEle.getAttribute('style'));\n                            this.popupWrapper.replaceChild(this.list, noDataEle);\n                            this.wireListEvents();\n                        }\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                if (this.changeOnBlur) {\n                    this.updateValueState(null, this.value, this.tempValues);\n                }\n                this.updateDelimeter(this.delimiterChar);\n                this.refreshInputHight();\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && (isNullOrUndefined(this.value) || !this.value.length)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (this.mode === 'Box') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n        }\n    };\n    MultiSelect.prototype.updateActionCompleteData = function (li, item) {\n        if (this.value && this.value.indexOf(li.getAttribute('data-value')) > -1) {\n            this.mainList = this.ulElement;\n            addClass([li], HIDE_LIST);\n        }\n    };\n    MultiSelect.prototype.updateDataList = function () {\n        if (this.mainList && this.ulElement && this.mainList.childElementCount < this.ulElement.childElementCount) {\n            this.mainList = this.ulElement.cloneNode ? this.ulElement.cloneNode(true) : this.ulElement;\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    ;\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var customVal = li.getAttribute('data-value');\n        var value = this.getFormattedValue(customVal);\n        if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n            (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n            value = customVal;\n        }\n        var text = this.getTextByValue(value);\n        this.removeHover();\n        if (!this.value || this.value.indexOf(value) === -1) {\n            this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.updateListSelectEventCallback = function (value, li, e) {\n        var _this = this;\n        var text = this.getTextByValue(value);\n        if ((this.allowCustomValue || this.allowFiltering) && !this.findListElement(this.mainList, 'li', 'data-value', value)) {\n            var temp_1 = li.cloneNode(true);\n            var data_1 = this.getDataByValue(value);\n            var eventArgs = {\n                newData: data_1,\n                cancel: false\n            };\n            this.trigger('customValueSelection', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    append([temp_1], _this.mainList);\n                    _this.mainData.push(data_1);\n                    _this.remoteCustomValue = false;\n                    _this.addValue(value, text, e);\n                }\n            });\n        }\n        else {\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        if (selectedItems && (selectedItems.length > (temp1 - 1))) {\n                            selectedItems[temp1 - 1].firstElementChild.setAttribute('aria-checked', 'false');\n                            removeClass([selectedItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                        }\n                        selectItems[temp1 - 1].firstElementChild.setAttribute('aria-checked', 'false');\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    ;\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list && this.mainList) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    ;\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n        else {\n            if ((li !== null && li.classList.contains('e-list-group-item')) && this.enableGroupCheckBox && this.mode === 'CheckBox'\n                && !isNullOrUndefined(this.fields.groupBy)) {\n                this.removeHover();\n                addClass([li], dropDownBaseClasses.hover);\n            }\n        }\n    };\n    ;\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && this.isValidLI(element)) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n        }\n        else {\n            if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n                addClass([element], dropDownBaseClasses.focus);\n            }\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'));\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox') {\n                var ariaCheck = element.firstElementChild.getAttribute('aria-checked');\n                if (ariaCheck === 'false' || isNullOrUndefined(ariaCheck)) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper !== null) {\n                this.removeChipSelection();\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': element.id });\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar, e) {\n        this.updateData(delimChar, e);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        this.scrollFocusStatus = false;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        var headerLi = closest(target, '.' + dropDownBaseClasses.group);\n        if (headerLi && this.enableGroupCheckBox && this.mode === 'CheckBox' && this.fields.groupBy) {\n            target = target.classList.contains('e-list-group-item') ? target.firstElementChild.lastElementChild\n                : e.target;\n            if (target.classList.contains('e-check')) {\n                this.selectAllItem(false, e);\n                target.classList.remove('e-check');\n                target.classList.remove('e-stop');\n                closest(target, '.' + 'e-list-group-item').classList.remove('e-active');\n                target.setAttribute('aria-selected', 'false');\n            }\n            else {\n                this.selectAllItem(true, e);\n                target.classList.remove('e-stop');\n                target.classList.add('e-check');\n                closest(target, '.' + 'e-list-group-item').classList.add('e-active');\n                target.setAttribute('aria-selected', 'true');\n            }\n            this.refreshSelection();\n            this.checkSelectAll();\n        }\n        else {\n            if (this.isValidLI(li)) {\n                var limit = this.value && this.value.length ? this.value.length : 0;\n                if (li.classList.contains('e-active')) {\n                    limit = limit - 1;\n                }\n                if (limit < this.maximumSelectionLength) {\n                    this.updateListSelection(li, e);\n                    this.checkPlaceholderSize();\n                    this.addListFocus(li);\n                    if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                        if (this.mode !== 'CheckBox') {\n                            this.focusAtLastListItem(li.getAttribute('data-value'));\n                        }\n                        this.refreshSelection();\n                    }\n                    else {\n                        this.makeTextBoxEmpty();\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.updateDelimeter(this.delimiterChar, e);\n                    this.refreshInputHight();\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.checkSelectAll();\n                this.refreshPopup();\n                if (this.hideSelectedItem) {\n                    this.focusAtFirstListItem();\n                }\n                if (this.closePopupOnSelect) {\n                    this.hidePopup();\n                }\n                else {\n                    e.preventDefault();\n                }\n                this.makeTextBoxEmpty();\n                this.findGroupStart(target);\n            }\n            else {\n                e.preventDefault();\n            }\n            if (this.mode !== 'CheckBox') {\n                this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n            }\n            this.refreshPlaceHolder();\n            this.deselectHeader();\n        }\n    };\n    MultiSelect.prototype.findGroupStart = function (target) {\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var count = 0;\n            var liChecked = 0;\n            var liUnchecked = 0;\n            var groupValues = void 0;\n            if (this.itemTemplate && !target.getElementsByClassName('e-frame').length) {\n                while (!target.getElementsByClassName('e-frame').length) {\n                    target = target.parentElement;\n                }\n            }\n            if (target.classList.contains('e-frame')) {\n                target = target.parentElement.parentElement;\n            }\n            groupValues = this.findGroupAttrtibutes(target, liChecked, liUnchecked, count, 0);\n            groupValues = this.findGroupAttrtibutes(target, groupValues[0], groupValues[1], groupValues[2], 1);\n            while (!target.classList.contains('e-list-group-item')) {\n                if (target.classList.contains('e-list-icon')) {\n                    target = target.parentElement;\n                }\n                target = target.previousElementSibling;\n                if (target == null) {\n                    break;\n                }\n            }\n            this.updateCheckBox(target, groupValues[0], groupValues[1], groupValues[2]);\n        }\n    };\n    MultiSelect.prototype.findGroupAttrtibutes = function (listElement, checked, unChecked, count, position) {\n        while (!listElement.classList.contains('e-list-group-item')) {\n            if (listElement.classList.contains('e-list-icon')) {\n                listElement = listElement.parentElement;\n            }\n            if (listElement.getElementsByClassName('e-frame')[0].classList.contains('e-check') &&\n                listElement.classList.contains('e-list-item')) {\n                checked++;\n            }\n            else if (listElement.classList.contains('e-list-item')) {\n                unChecked++;\n            }\n            count++;\n            listElement = position ? listElement.nextElementSibling : listElement.previousElementSibling;\n            if (listElement == null) {\n                break;\n            }\n        }\n        return [checked, unChecked, count];\n    };\n    MultiSelect.prototype.updateCheckBox = function (groupHeader, checked, unChecked, count) {\n        if (groupHeader === null) {\n            return;\n        }\n        var checkBoxElement = groupHeader.getElementsByClassName('e-frame')[0];\n        if (count === checked) {\n            checkBoxElement.classList.remove('e-stop');\n            checkBoxElement.classList.add('e-check');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'true');\n        }\n        else if (count === unChecked) {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.remove('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.remove('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n        else if (this.maximumSelectionLength === checked - 1) {\n            checkBoxElement.classList.remove('e-stop');\n            groupHeader.setAttribute('aria-selected', 'true');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            checkBoxElement.classList.add('e-check');\n        }\n        else {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.add('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n    };\n    MultiSelect.prototype.deselectHeader = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var collection = this.list.querySelectorAll('li.e-list-group-item:not(.e-active)');\n        if (limit < this.maximumSelectionLength) {\n            removeClass(collection, 'e-disable');\n        }\n        if (limit === this.maximumSelectionLength) {\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        if (currentLi === null && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)\n            && this.enableGroupCheckBox) {\n            currentLi = closest(e.target, '.' + dropDownBaseClasses.group);\n        }\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id)) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n        EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    ;\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    ;\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if (((this.value && this.value.length) || this.inputElement.value !== '') && this.showClearButton && this.readonly !== true) {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     * @returns void\n     */\n    MultiSelect.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     * @returns void\n     */\n    MultiSelect.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement && this.enabled) {\n            this.inputElement.blur();\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            if (this.overAllClear.style.display !== 'none') {\n                this.spinnerElement = this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS + ' ' + SPINNER_CLASS });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        this.viewWrapper.style.display = '';\n        this.viewWrapper.style.width = '';\n        this.viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            var overAllContainer = void 0;\n            this.viewWrapper.innerHTML = '';\n            var l10nLocale = {\n                noRecordsTemplate: 'No Records Found',\n                actionFailureTemplate: 'The Request Failed',\n                overflowCountTemplate: '+${count} more..',\n                totalCountTemplate: '${count} selected'\n            };\n            var l10n = new L10n(this.getLocaleName(), {}, this.locale);\n            if (l10n.getConstant('actionFailureTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER\n            });\n            var compiledString = compile(remainContent);\n            var totalCompiledString = compile(l10n.getConstant('totalCountTemplate'));\n            raminElement.appendChild(compiledString({ 'count': this.value.length }, null, null, null, !this.isStringTemplate)[0]);\n            this.viewWrapper.appendChild(raminElement);\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = this.dropIcon.offsetWidth +\n                    parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            }\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    data += (index === 0) ? '' : this.delimiterChar + ' ';\n                    temp = this.getOverflowVal(index);\n                    data += temp;\n                    temp = this.viewWrapper.innerHTML;\n                    this.viewWrapper.innerHTML = data;\n                    wrapperleng = this.viewWrapper.offsetWidth +\n                        parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                    overAllContainer = this.componentWrapper.offsetWidth -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n                    if ((wrapperleng + downIconWidth) > overAllContainer) {\n                        if (tempData !== undefined && tempData !== '') {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.viewWrapper.innerHTML = temp;\n                        remaining = this.value.length - index;\n                        wrapperleng = this.viewWrapper.offsetWidth;\n                        while (((wrapperleng + remainSize + downIconWidth) > overAllContainer) && wrapperleng !== 0\n                            && this.viewWrapper.innerHTML !== '') {\n                            var textArr = this.viewWrapper.innerHTML.split(this.delimiterChar);\n                            textArr.pop();\n                            this.viewWrapper.innerHTML = textArr.join(this.delimiterChar);\n                            remaining++;\n                            wrapperleng = this.viewWrapper.offsetWidth;\n                        }\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize + downIconWidth) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                var totalWidth = overAllContainer - downIconWidth;\n                this.viewWrapper.appendChild(this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, compiledString, totalCompiledString, totalWidth));\n                this.updateRemainWidth(this.viewWrapper, totalWidth);\n                this.updateRemainingText(raminElement, downIconWidth, remaining, compiledString, totalCompiledString);\n            }\n        }\n        else {\n            this.viewWrapper.innerHTML = '';\n            this.viewWrapper.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.updateRemainWidth = function (viewWrapper, totalWidth) {\n        if (viewWrapper.classList.contains(TOTAL_COUNT_WRAPPER) && totalWidth < (viewWrapper.offsetWidth +\n            parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10)\n            + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10))) {\n            viewWrapper.style.width = totalWidth + 'px';\n        }\n    };\n    MultiSelect.prototype.updateRemainTemplate = function (raminElement, viewWrapper, remaining, compiledString, totalCompiledString, totalWidth) {\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 && viewWrapper.firstChild.nodeValue === '') {\n            viewWrapper.removeChild(viewWrapper.firstChild);\n        }\n        raminElement.innerHTML = '';\n        raminElement.appendChild((viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) ?\n            compiledString({ 'count': remaining }, null, null, null, !this.isStringTemplate)[0] :\n            totalCompiledString({ 'count': remaining }, null, null, null, !this.isStringTemplate)[0]);\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) {\n            viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            viewWrapper.classList.add(TOTAL_COUNT_WRAPPER);\n            this.updateRemainWidth(viewWrapper, totalWidth);\n        }\n        return raminElement;\n    };\n    MultiSelect.prototype.updateRemainingText = function (raminElement, downIconWidth, remaining, compiledString, totalCompiledString) {\n        var overAllContainer = this.componentWrapper.offsetWidth -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n        var wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n        if (((wrapperleng + downIconWidth) >= overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n            this.viewWrapper.firstChild.nodeType === 3) {\n            while (((wrapperleng + downIconWidth) > overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n                this.viewWrapper.firstChild.nodeType === 3) {\n                var textArr = this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);\n                textArr.pop();\n                this.viewWrapper.firstChild.nodeValue = textArr.join(this.delimiterChar);\n                if (this.viewWrapper.firstChild.nodeValue === '') {\n                    this.viewWrapper.removeChild(this.viewWrapper.firstChild);\n                }\n                remaining++;\n                wrapperleng = this.viewWrapper.offsetWidth;\n            }\n            var totalWidth = overAllContainer - downIconWidth;\n            this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, compiledString, totalCompiledString, totalWidth);\n        }\n    };\n    MultiSelect.prototype.getOverflowVal = function (index) {\n        var temp;\n        if (this.mainData && this.mainData.length) {\n            if (this.mode === 'CheckBox') {\n                var newTemp = this.listData;\n                this.listData = this.mainData;\n                temp = this.getTextByValue(this.value[index]);\n                this.listData = newTemp;\n            }\n            else {\n                temp = this.getTextByValue(this.value[index]);\n            }\n        }\n        else {\n            temp = this.value[index];\n        }\n        return temp;\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(this.inputElement, 'focus', this.focusInHandler);\n        EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n        }\n        EventHandler.remove(this.inputElement, 'keyup', this.KeyUp);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.onBlur);\n        EventHandler.remove(this.componentWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.ClearAll);\n    };\n    MultiSelect.prototype.selectAllItem = function (state, event, list) {\n        var li;\n        li = this.list.querySelectorAll(state ?\n            'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n            'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var target = (event ? event.target : null);\n            target = (event && event.keyCode === 32) ? list : target;\n            target = (target && target.classList.contains('e-frame')) ? target.parentElement.parentElement : target;\n            if (target && target.classList.contains('e-list-group-item')) {\n                var listElement = target.nextElementSibling;\n                if (isNullOrUndefined(listElement)) {\n                    return;\n                }\n                while (listElement.classList.contains('e-list-item')) {\n                    if (state) {\n                        if (!listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            var selectionLimit = this.value && this.value.length ? this.value.length : 0;\n                            if (listElement.classList.contains('e-active')) {\n                                selectionLimit -= 1;\n                            }\n                            if (selectionLimit < this.maximumSelectionLength) {\n                                this.updateListSelection(listElement, event);\n                            }\n                        }\n                    }\n                    else {\n                        if (listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            this.updateListSelection(listElement, event);\n                        }\n                    }\n                    listElement = listElement.nextElementSibling;\n                    if (listElement == null) {\n                        break;\n                    }\n                }\n                if (target.classList.contains('e-list-group-item')) {\n                    var focusedElement = this.list.getElementsByClassName('e-item-focus')[0];\n                    if (focusedElement) {\n                        focusedElement.classList.remove('e-item-focus');\n                    }\n                    state ? target.classList.add('e-active') : target.classList.remove('e-active');\n                    target.classList.add('e-item-focus');\n                }\n                this.textboxValueUpdate();\n                this.checkPlaceholderSize();\n                if (!this.changeOnBlur && event) {\n                    this.updateValueState(event, this.value, this.tempValues);\n                }\n            }\n            else {\n                this.updateValue(event, li, state);\n            }\n        }\n        else {\n            this.updateValue(event, li, state);\n        }\n    };\n    MultiSelect.prototype.updateValue = function (event, li, state) {\n        var _this = this;\n        var length = li.length;\n        if (li && li.length) {\n            var index_1 = 0;\n            var count_1 = 0;\n            if (this.enableGroupCheckBox) {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : li.length;\n            }\n            else {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : this.maximumSelectionLength;\n            }\n            while (index_1 < length && index_1 <= 50 && index_1 < count_1) {\n                this.updateListSelection(li[index_1], event, length - index_1);\n                this.findGroupStart(li[index_1]);\n                index_1++;\n            }\n            this.deselectHeader();\n            if (length > 50) {\n                setTimeout(function () {\n                    while (index_1 < length && index_1 < count_1) {\n                        _this.updateListSelection(li[index_1], event, length - index_1);\n                        _this.findGroupStart(li[index_1]);\n                        index_1++;\n                    }\n                    _this.deselectHeader();\n                    _this.textboxValueUpdate(event);\n                }, 0);\n            }\n        }\n        this.textboxValueUpdate(event);\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.textboxValueUpdate = function (event) {\n        if (this.mode !== 'Box' && !this.isPopupOpen()) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            this.updateDelimeter(this.delimiterChar, event);\n            this.refreshInputHight();\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar, event);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.setProperties({ 'value': this.value });\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    MultiSelect.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state, event);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    value: state ? 'check' : 'uncheck',\n                    enable: this.mode === 'CheckBox',\n                    module: 'CheckBoxSelection'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state, event);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ;\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.mainList = null;\n            this.mainData = null;\n            this.isFirstClick = false;\n        }\n        if (this.getModuleName() === 'multiselect') {\n            this.filterAction = false;\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'text':\n                    this.updateVal(this.value, this.value, 'text');\n                    break;\n                case 'value':\n                    this.updateVal(this.value, oldProp.value, 'value');\n                    this.addValidInputClass();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass) && oldProp.cssClass !== '') {\n                        removeClass([this.overAllWrapper], oldProp.cssClass.split(' '));\n                        removeClass([this.popupWrapper], oldProp.cssClass.split(' '));\n                    }\n                    this.updateCssClass();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    this.addValidInputClass();\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    this.reInitializePoup();\n                    break;\n                case 'allowFiltering':\n                    if (this.mode === 'CheckBox' && this.popupObj) {\n                        this.reInitializePoup();\n                    }\n                    this.updateSelectElementData(this.allowFiltering);\n                    break;\n                default:\n                    var msProps = void 0;\n                    msProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    MultiSelect.prototype.reInitializePoup = function () {\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            this.popupObj = null;\n        }\n        this.renderPopup();\n    };\n    MultiSelect.prototype.updateVal = function (newProp, oldProp, prop) {\n        if (!this.list) {\n            this.onLoadSelect();\n        }\n        else if (!this.inputFocus) {\n            if (prop === 'text') {\n                this.initialTextUpdate();\n                newProp = this.value;\n            }\n            if (this.value && this.value.length === 0) {\n                this.tempValues = oldProp;\n            }\n            this.initialValueUpdate();\n            if (this.mode !== 'Box') {\n                this.updateDelimView();\n            }\n            this.refreshInputHight();\n            this.refreshPlaceHolder();\n            if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                this.updateValueState(null, newProp, oldProp);\n            }\n            this.checkPlaceholderSize();\n        }\n        if (!this.changeOnBlur) {\n            this.updateValueState(null, newProp, oldProp);\n        }\n    };\n    /**\n     * Adds a new item to the multiselect popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @return {void}.\n     */\n    MultiSelect.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     * @returns void\n     */\n    MultiSelect.prototype.hidePopup = function () {\n        var _this = this;\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n            this.trigger('close', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.beforePopupOpen = false;\n                    _this.overAllWrapper.classList.remove(iconAnimation);\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    if (_this.allowFiltering) {\n                        _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'clear' });\n                    }\n                    _this.popupObj.hide();\n                    removeClass([document.body, _this.popupObj.element], 'e-popup-full-page');\n                    EventHandler.remove(_this.list, 'keydown', _this.onKeyDown);\n                }\n            });\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     * @returns void\n     */\n    MultiSelect.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (isBlazor() && this.itemTemplate) {\n            this.DropDownBaseupdateBlazorTemplates(true, false, false, false, false, false, false, false);\n            if (this.mode !== 'CheckBox' && this.list) {\n                this.refreshSelection();\n            }\n        }\n        if (!this.ulElement) {\n            this.beforePopupOpen = true;\n            _super.prototype.render.call(this);\n            return;\n        }\n        var mainLiLength = this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n        var liLength = this.ulElement.querySelectorAll('li.'\n            + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n        if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === this.mainData.length)) {\n            this.beforePopupOpen = false;\n            return;\n        }\n        this.onPopupShown();\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     * @returns void\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        this.isSelectAll = true;\n        this.selectAllItems(state);\n    };\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    ;\n    /**\n     * Allows you to clear the selected values from the Multiselect component.\n     * @returns void\n     */\n    MultiSelect.prototype.clear = function () {\n        this.selectAll(false);\n        this.setProperties({ value: null }, true);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    MultiSelect.prototype.render = function () {\n        this.setDynValue = this.initStatus = false;\n        this.isSelectAll = false;\n        this.searchWrapper = this.createElement('span', { className: SEARCHBOX_WRAPPER + ' ' + ((this.mode === 'Box') ? BOX_ELEMENT : '') });\n        this.viewWrapper = this.createElement('span', { className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;' });\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.setWidth(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER,\n                styles: 'display:none'\n            });\n            if (this.mode === 'Default') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_default'));\n            }\n            else if (this.mode === 'Box') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_box'));\n            }\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0'\n            }\n        });\n        if (this.mode === 'Default' || this.mode === 'Box') {\n            this.inputElement.setAttribute('aria-describedby', this.chipCollectionWrapper.id);\n        }\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.addValidInputClass();\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': '' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        this.checkInitialValue();\n        this.renderComplete();\n    };\n    MultiSelect.prototype.checkInitialValue = function () {\n        var _this = this;\n        var isData = this.dataSource instanceof Array ? (this.dataSource.length > 0)\n            : !isNullOrUndefined(this.dataSource);\n        if (!(this.value && this.value.length) &&\n            isNullOrUndefined(this.text) &&\n            !isData &&\n            this.element.tagName === 'SELECT' &&\n            this.element.options.length > 0) {\n            var optionsElement = this.element.options;\n            var valueCol = [];\n            var textCol = '';\n            for (var index = 0, optionsLen = optionsElement.length; index < optionsLen; index++) {\n                var opt = optionsElement[index];\n                if (!isNullOrUndefined(opt.getAttribute('selected'))) {\n                    (opt.getAttribute('value')) ? valueCol.push(opt.getAttribute('value')) : textCol += (opt.text + this.delimiterChar);\n                }\n            }\n            if (valueCol.length > 0) {\n                this.setProperties({ value: valueCol }, true);\n            }\n            else if (textCol !== '') {\n                this.setProperties({ text: textCol }, true);\n            }\n            if (valueCol.length > 0 || textCol !== '') {\n                this.refreshInputHight();\n                this.refreshPlaceHolder();\n            }\n        }\n        if ((this.value && this.value.length) || !isNullOrUndefined(this.text)) {\n            this.renderPopup();\n        }\n        if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.initialTextUpdate();\n        }\n        if (this.value && this.value.length) {\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate();\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    _this.initialValueUpdate();\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n            this.updateTempValue();\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n        if (!isNullOrUndefined(this.text)) {\n            this.element.setAttribute('data-initial-value', this.text);\n        }\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.inputElement.focus();\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.addValidInputClass = function () {\n        if ((!isNullOrUndefined(this.value) && this.value.length) || this.floatLabelType === 'Always') {\n            addClass([this.overAllWrapper], 'e-valid-input');\n        }\n        else {\n            removeClass([this.overAllWrapper], 'e-valid-input');\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box') {\n            this.updateDelimView();\n        }\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n        this.checkPlaceholderSize();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        this.list = null;\n        this.popupObj = null;\n        this.mainList = null;\n        this.mainData = null;\n        _super.prototype.destroy.call(this);\n        var temp = ['readonly', 'aria-disabled', 'aria-placeholder', 'placeholder'];\n        var length = temp.length;\n        while (length > 0) {\n            this.inputElement.removeAttribute(temp[length - 1]);\n            length--;\n        }\n        this.element.removeAttribute('data-initial-value');\n        this.element.style.display = 'block';\n        if (this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n    };\n    ;\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], MultiSelect.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], MultiSelect.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('The Request Failed')\n    ], MultiSelect.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], MultiSelect.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enabled\", void 0);\n    __decorate([\n        Property([])\n    ], MultiSelect.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], MultiSelect.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], MultiSelect.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableGroupCheckBox\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\nexport { MultiSelect };\n","import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlur, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlur);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    };\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        var groupHeaderName = args.headerName;\n        var moduleName = args.moduleName;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.updateHeaderName(e, groupHeaderName, moduleName);\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.updateHeaderName(e, groupHeaderName, moduleName);\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    ;\n    CheckBoxSelection.prototype.updateHeaderName = function (e, groupHeaderName, moduleName) {\n        if (e.text === undefined && e.curData.isHeader && moduleName === 'multiselect') {\n            e.item.textContent = groupHeaderName;\n            e.item.classList.add('e-undefine-group');\n        }\n    };\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\n            && item.className !== 'e-list-group-item')) {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            var id = item.getAttribute('data-uid');\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            if (this.parent.enableGroupCheckBox) {\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\n            }\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        append([this.checkAllParent], this.parent.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1)) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            target = !isNullOrUndefined(args.e.target) ?\n                (args.e.target.classList.contains('e-frame')\n                    && (!this.parent.showSelectAll\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            target = args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        if (!isNullOrUndefined(target)) {\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        }\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAllItems(true, e);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNullOrUndefined(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            append([this.filterInputObj.container], this.parent.filterParent);\n            prepend([this.parent.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.parent.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.KeyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    ;\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.parent.inputElement.focus();\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        this.parent.refreshPopup();\n        this.parent.refreshListItems(null);\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n        addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        if (!isNullOrUndefined(this.clearIconElement)) {\n            this.parent.targetInputElement = this.filterInput;\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        }\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlur = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox')) {\n            var target = void 0;\n            if (this.parent.keyAction) {\n                return;\n            }\n            if (Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.target;\n            }\n            if (!Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.relatedTarget;\n            }\n            if (document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target) && !Browser.isIE\n                && this.filterInput) {\n                this.filterInput.focus();\n                return;\n            }\n            if (this.parent.scrollFocusStatus && this.filterInput) {\n                e.preventDefault();\n                this.filterInput.focus();\n                this.parent.scrollFocusStatus = false;\n                return;\n            }\n            if (document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n            }\n            if (document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.overAllWrapper.classList.remove(FOCUS);\n                this.parent.trigger('blur');\n                this.parent.focused = true;\n            }\n            if (document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n                this.parent.hidePopup();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox') && this.parent.element.tagName !== 'EJS-LISTBOX') {\n            var target = e.target;\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '#' + this.parent.popupObj.element.id)) {\n                e.preventDefault();\n            }\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '#' + this.parent.popupObj.element.id)) &&\n                !this.parent.overAllWrapper.contains(e.target)) {\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                    this.parent.inputFocus = false;\n                    this.parent.scrollFocusStatus = false;\n                    this.parent.hidePopup();\n                    this.parent.onBlur();\n                    this.parent.focused = true;\n                }\n            }\n            else {\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.filterInput);\n            }\n            if (!this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n                !this.parent.isPopupOpen()) {\n                if (Browser.isIE) {\n                    this.parent.onBlur();\n                }\n                else {\n                    this.parent.onBlur(e);\n                }\n            }\n            if (this.filterInput === target) {\n                this.filterInput.focus();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (this.parent.keyAction && e.value !== 'clear') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check' && this.checkAllParent.getAttribute('aria-checked') !== 'true') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            var compiledString = void 0;\n            this.selectAllSpan.textContent = '';\n            compiledString = compile(template);\n            for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All', noHeaderTemplate: 'Group' };\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n            if (l10n.getConstant('selectAllText') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            }\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            var removeEle = this.parent.createElement('div');\n            if (activeLiCount > 0) {\n                append(this.parent.ulElement.querySelectorAll('li.e-active'), ulEle);\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                prepend([ulEle], this.parent.list);\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { EventHandler, closest, removeClass, addClass, Complex, Property, ChildProperty, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, getComponent, Event, extend, detach, attributes } from '@syncfusion/ej2-base';\nimport { getUniqueID, Browser, formatUnit, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { prepend, append, isBlazor, resetBlazorTemplate } from '@syncfusion/ej2-base';\nimport { cssClass, Sortable, moveTo } from '@syncfusion/ej2-lists';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Multiple')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showCheckbox\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Left')\n    ], SelectionSettings.prototype, \"checkboxPosition\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('Right')\n    ], ToolbarSettings.prototype, \"position\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * The ListBox is a graphical user interface component used to display a list of items.\n * Users can select one or more items in the list using a checkbox or by keyboard selection.\n * It supports sorting, grouping, reordering, and drag and drop of items.\n * ```html\n * <select id=\"listbox\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var listObj = new ListBox();\n *   listObj.appendTo(\"#listbox\");\n * </script>\n * ```\n */\nvar ListBox = /** @class */ (function (_super) {\n    __extends(ListBox, _super);\n    /**\n     * Constructor for creating the ListBox component.\n     */\n    function ListBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isValidKey = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ListBox_1 = ListBox;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @return {void}.\n     * @private\n     */\n    ListBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    ;\n    /**\n     * Build and render the component\n     * @private\n     */\n    ListBox.prototype.render = function () {\n        this.inputString = '';\n        this.initLoad = true;\n        this.isCustomFiltering = false;\n        this.initialSelectedOptions = this.value;\n        _super.prototype.render.call(this);\n        this.renderComplete();\n    };\n    ListBox.prototype.initWrapper = function () {\n        var hiddenSelect = this.createElement('select', { className: 'e-hidden-select', attrs: { 'multiple': '' } });\n        this.list.classList.add('e-listbox-wrapper');\n        if (this.itemTemplate) {\n            this.list.classList.add('e-list-template');\n        }\n        this.list.classList.add('e-wrapper');\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.setAttribute('tabindex', '0');\n            if (this.initLoad) {\n                this.element.appendChild(this.list);\n            }\n        }\n        else {\n            if (this.initLoad) {\n                this.element.parentElement.insertBefore(this.list, this.element);\n            }\n            this.list.insertBefore(this.element, this.list.firstChild);\n            this.element.style.display = 'none';\n        }\n        this.list.insertBefore(hiddenSelect, this.list.firstChild);\n        if (this.list.getElementsByClassName(cssClass.li)[0]) {\n            this.list.getElementsByClassName(cssClass.li)[0].classList.remove(dropDownBaseClasses.focus);\n        }\n        removeClass([this.list], [dropDownBaseClasses.content, dropDownBaseClasses.root]);\n        this.validationAttribute(this.element, hiddenSelect);\n        this.list.setAttribute('role', 'listbox');\n        attributes(this.list, { 'role': 'listbox', 'aria-multiselectable': this.selectionSettings.mode === 'Multiple' ? 'true' : 'false' });\n        if (this.selectionSettings.showCheckbox && this.selectionSettings.showSelectAll && this.liCollections.length) {\n            var l10nSelect = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n            this.showSelectAll = true;\n            this.selectAllText = l10nSelect.getConstant('selectAllText');\n            this.unSelectAllText = l10nSelect.getConstant('unSelectAllText');\n            this.popupWrapper = this.list;\n            this.checkBoxSelectionModule.checkAllParent = null;\n            this.notify('selectAll', {});\n        }\n    };\n    ListBox.prototype.initDraggable = function () {\n        var _this = this;\n        if (this.allowDragAndDrop) {\n            new Sortable(this.ulElement, {\n                scope: this.scope,\n                itemClass: cssClass.li,\n                dragStart: this.triggerDragStart.bind(this),\n                drag: this.triggerDrag.bind(this),\n                beforeDrop: this.beforeDragEnd.bind(this),\n                drop: this.dragEnd.bind(this),\n                placeHolder: function () { return _this.createElement('span', { className: 'e-placeholder' }); },\n                helper: function (e) {\n                    var ele = e.sender.cloneNode(true);\n                    ele.style.width = _this.getItems()[0].offsetWidth + 'px';\n                    if ((_this.value && _this.value.length) > 1 && _this.isSelected(ele)) {\n                        ele.appendChild(_this.createElement('span', {\n                            className: 'e-list-badge', innerHTML: _this.value.length + ''\n                        }));\n                    }\n                    return ele;\n                }\n            });\n        }\n    };\n    ListBox.prototype.updateActionCompleteData = function (li, item) {\n        this.jsonData.push(item);\n    };\n    ListBox.prototype.initToolbar = function () {\n        var scope;\n        var pos = this.toolbarSettings.position;\n        var prevScope = this.element.getAttribute('data-value');\n        if (this.toolbarSettings.items.length) {\n            var toolElem = this.createElement('div', { className: 'e-listbox-tool', attrs: { 'role': 'toolbar' } });\n            var wrapper = this.createElement('div', {\n                className: 'e-listboxtool-wrapper e-' + pos.toLowerCase()\n            });\n            this.list.parentElement.insertBefore(wrapper, this.list);\n            wrapper.appendChild(pos === 'Right' ? this.list : toolElem);\n            wrapper.appendChild(pos === 'Right' ? toolElem : this.list);\n            this.createButtons(toolElem);\n            if (!this.element.id) {\n                this.element.id = getUniqueID('e-' + this.getModuleName());\n            }\n            if (this.scope) {\n                document.querySelector(this.scope).setAttribute('data-value', this.element.id);\n            }\n            else {\n                this.updateToolBarState();\n            }\n        }\n        scope = this.element.getAttribute('data-value');\n        if (prevScope && scope && (prevScope !== scope)) {\n            this.tBListBox = getComponent(document.getElementById(prevScope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n        else if (scope) {\n            this.tBListBox = getComponent(document.getElementById(scope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.createButtons = function (toolElem) {\n        var _this = this;\n        var btn;\n        var ele;\n        var title;\n        var l10n = new L10n(this.getModuleName(), {\n            moveUp: 'Move Up', moveDown: 'Move Down', moveTo: 'Move To',\n            moveFrom: 'Move From', moveAllTo: 'Move All To', moveAllFrom: 'Move All From'\n        }, this.locale);\n        this.toolbarSettings.items.forEach(function (value) {\n            title = l10n.getConstant(value);\n            ele = _this.createElement('button', {\n                attrs: {\n                    'type': 'button',\n                    'data-value': value,\n                    'title': title,\n                    'aria-label': title\n                }\n            });\n            toolElem.appendChild(ele);\n            btn = new Button({ iconCss: 'e-icons e-' + value.toLowerCase() }, ele);\n            btn.createElement = _this.createElement;\n        });\n    };\n    ListBox.prototype.validationAttribute = function (input, hiddenSelect) {\n        _super.prototype.validationAttribute.call(this, input, hiddenSelect);\n        hiddenSelect.required = input.required;\n        input.required = false;\n    };\n    ListBox.prototype.setHeight = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        ele.style.height = formatUnit(this.height);\n    };\n    ListBox.prototype.setCssClass = function () {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.cssClass) {\n            addClass([wrap], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            addClass([wrap], 'e-rtl');\n        }\n    };\n    ListBox.prototype.setEnable = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.enabled) {\n            removeClass([ele], cssClass.disabled);\n        }\n        else {\n            addClass([ele], cssClass.disabled);\n        }\n    };\n    ListBox.prototype.showSpinner = function () {\n        if (!this.spinner) {\n            this.spinner = this.createElement('div', { className: 'e-listbox-wrapper', styles: 'height:' + formatUnit(this.height) });\n        }\n        this.element.parentElement.insertBefore(this.spinner, this.element.nextSibling);\n        createSpinner({ target: this.spinner }, this.createElement);\n        showSpinner(this.spinner);\n    };\n    ListBox.prototype.hideSpinner = function () {\n        if (this.spinner.querySelector('.e-spinner-pane')) {\n            hideSpinner(this.spinner);\n        }\n        if (this.spinner.parentElement) {\n            detach(this.spinner);\n        }\n    };\n    ListBox.prototype.onInput = function () {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n    };\n    ListBox.prototype.onActionComplete = function (ulElement, list, e) {\n        var searchEle;\n        if (this.allowFiltering) {\n            searchEle = this.list.getElementsByClassName('e-filter-parent')[0];\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.allowFiltering && !isNullOrUndefined(searchEle)) {\n            this.list.insertBefore(searchEle, this.list.firstElementChild);\n        }\n        this.initWrapper();\n        this.setSelection();\n        this.initDraggable();\n        this.mainList = this.ulElement;\n        if (this.initLoad) {\n            this.jsonData = [];\n            extend(this.jsonData, list, []);\n            this.initToolbarAndStyles();\n            this.wireEvents();\n            if (this.showCheckbox) {\n                this.setCheckboxPosition();\n            }\n            if (this.allowFiltering) {\n                this.setFiltering();\n            }\n        }\n        else {\n            if (this.allowFiltering) {\n                this.list.getElementsByClassName('e-input-filter')[0].focus();\n            }\n        }\n        this.initLoad = false;\n    };\n    ListBox.prototype.initToolbarAndStyles = function () {\n        this.initToolbar();\n        this.setCssClass();\n        this.setEnable();\n        this.setHeight();\n    };\n    ListBox.prototype.triggerDragStart = function (args) {\n        var _this = this;\n        var badge;\n        args = extend(this.getDragArgs(args), { dragSelected: true });\n        if (Browser.isIos) {\n            this.list.style.overflow = 'hidden';\n        }\n        this.trigger('dragStart', args, function (dragEventArgs) {\n            _this.allowDragAll = dragEventArgs.dragSelected;\n            if (!_this.allowDragAll) {\n                badge = _this.ulElement.getElementsByClassName('e-list-badge')[0];\n                if (badge) {\n                    detach(badge);\n                }\n            }\n            if (isBlazor()) {\n                args.bindEvents(args.dragElement);\n            }\n        });\n    };\n    ListBox.prototype.triggerDrag = function (args) {\n        this.trigger('drag', this.getDragArgs(args));\n        var listObj = this.getComponent(args.target);\n        if (listObj && listObj.listData.length === 0) {\n            listObj.ulElement.innerHTML = '';\n        }\n    };\n    ListBox.prototype.beforeDragEnd = function (args) {\n        var dragValue = args.droppedElement.getAttribute('data-value');\n        if (this.value.indexOf(dragValue) > -1) {\n            args.items = this.getDataByValues(this.value);\n        }\n        else {\n            args.items = this.getDataByValues([dragValue]);\n        }\n        this.trigger('beforeDrop', args);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    ListBox.prototype.dragEnd = function (args) {\n        var _this = this;\n        var listData;\n        var liColl;\n        var jsonData;\n        var droppedData;\n        var selectedOptions;\n        var sortedData;\n        var dropValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        var listObj = this.getComponent(args.droppedElement);\n        var getArgs = this.getDragArgs({ target: args.droppedElement }, true);\n        var sourceArgs = { previousData: this.dataSource };\n        var destArgs = { previousData: listObj.dataSource };\n        var dragArgs = extend({}, getArgs, { target: args.target, source: { previousData: this.dataSource } });\n        if (listObj !== this) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: this.listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1, destination: destArgs });\n        }\n        if (Browser.isIos) {\n            this.list.style.overflow = '';\n        }\n        if (listObj === this) {\n            var ul_1 = this.ulElement;\n            listData = [].slice.call(this.listData);\n            liColl = [].slice.call(this.liCollections);\n            jsonData = [].slice.call(this.jsonData);\n            sortedData = [].slice.call(this.sortedData);\n            var toIdx_1 = args.currentIndex = this.getCurIdx(this, args.currentIndex);\n            var rIdx = listData.indexOf(this.getDataByValue(dropValue));\n            var jsonIdx = jsonData.indexOf(this.getDataByValue(dropValue));\n            var sIdx = sortedData.indexOf(this.getDataByValue(dropValue));\n            listData.splice(toIdx_1, 0, listData.splice(rIdx, 1)[0]);\n            jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx, 1)[0]);\n            sortedData.splice(toIdx_1, 0, sortedData.splice(sIdx, 1)[0]);\n            liColl.splice(toIdx_1, 0, liColl.splice(rIdx, 1)[0]);\n            if (this.allowDragAll) {\n                selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 ? this.value : [dropValue];\n                selectedOptions.forEach(function (value) {\n                    if (value !== dropValue) {\n                        var idx = listData.indexOf(_this.getDataByValue(value));\n                        var jsonIdx_1 = jsonData.indexOf(_this.getDataByValue(value));\n                        var sIdx_1 = sortedData.indexOf(_this.getDataByValue(value));\n                        if (idx > toIdx_1) {\n                            toIdx_1++;\n                        }\n                        listData.splice(toIdx_1, 0, listData.splice(idx, 1)[0]);\n                        jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx_1, 1)[0]);\n                        sortedData.splice(toIdx_1, 0, sortedData.splice(sIdx_1, 1)[0]);\n                        liColl.splice(toIdx_1, 0, liColl.splice(idx, 1)[0]);\n                        ul_1.insertBefore(_this.getItems()[_this.getIndexByValue(value)], ul_1.getElementsByClassName('e-placeholder')[0]);\n                    }\n                });\n            }\n            this.listData = listData;\n            this.jsonData = jsonData;\n            this.sortedData = sortedData;\n            this.liCollections = liColl;\n        }\n        else {\n            var li_1;\n            var fLiColl_1 = [].slice.call(this.liCollections);\n            var currIdx_1 = args.currentIndex = this.getCurIdx(listObj, args.currentIndex);\n            var ul_2 = listObj.ulElement;\n            listData = [].slice.call(listObj.listData);\n            liColl = [].slice.call(listObj.liCollections);\n            jsonData = [].slice.call(listObj.jsonData);\n            sortedData = [].slice.call(listObj.sortedData);\n            selectedOptions = (this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 && this.allowDragAll)\n                ? this.value : [dropValue];\n            selectedOptions.forEach(function (value) {\n                droppedData = _this.getDataByValue(value);\n                var srcIdx = _this.listData.indexOf(droppedData);\n                var jsonSrcIdx = _this.jsonData.indexOf(droppedData);\n                _this.listData.splice(srcIdx, 1);\n                _this.jsonData.splice(jsonSrcIdx, 1);\n                var rLi = fLiColl_1.splice(srcIdx, 1)[0];\n                var destIdx = value === dropValue ? args.currentIndex : currIdx_1;\n                listData.splice(destIdx, 0, droppedData);\n                jsonData.splice(destIdx, 0, droppedData);\n                liColl.splice(destIdx, 0, rLi);\n                sortedData.splice(destIdx, 0, droppedData);\n                if (!value) {\n                    var liCollElem = _this.getItems();\n                    for (var i = 0; i < liCollElem.length; i++) {\n                        if (liCollElem[i].getAttribute('data-value') === null && liCollElem[i].classList.contains('e-list-item')) {\n                            li_1 = liCollElem[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    li_1 = _this.getItems()[_this.getIndexByValue(value)];\n                }\n                _this.removeSelected(_this, value === dropValue ? [args.droppedElement] : [li_1]);\n                ul_2.insertBefore(li_1, ul_2.getElementsByClassName('e-placeholder')[0]);\n                currIdx_1++;\n            });\n            this.updateSelectedOptions();\n            if (this.fields.groupBy) {\n                this.ulElement.innerHTML = this.renderItems(this.listData, this.fields).innerHTML;\n                this.setSelection();\n            }\n            if (listObj.sortOrder !== 'None' || this.selectionSettings.showCheckbox\n                !== listObj.selectionSettings.showCheckbox || listObj.fields.groupBy) {\n                var sortabale = getComponent(ul_2, 'sortable');\n                ul_2.innerHTML = listObj.renderItems(listData, listObj.fields).innerHTML;\n                if (sortabale.placeHolderElement) {\n                    ul_2.appendChild(sortabale.placeHolderElement);\n                }\n                ul_2.appendChild(args.helper);\n                listObj.setSelection();\n            }\n            this.liCollections = fLiColl_1;\n            listObj.liCollections = liColl;\n            listObj.jsonData = extend([], [], jsonData, false);\n            listObj.listData = extend([], [], listData, false);\n            listObj.sortedData = extend([], [], sortedData, false);\n            if (this.listData.length === 0) {\n                this.l10nUpdate();\n            }\n        }\n        if (this === listObj) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1 });\n        }\n        else {\n            var dragArgs1 = extend(destArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { destination: dragArgs1 });\n        }\n        this.trigger('drop', dragArgs);\n    };\n    ListBox.prototype.removeSelected = function (listObj, elems) {\n        if (listObj.selectionSettings.showCheckbox) {\n            elems.forEach(function (ele) { ele.getElementsByClassName('e-frame')[0].classList.remove('e-check'); });\n        }\n        else {\n            removeClass(elems, cssClass.selected);\n        }\n    };\n    ListBox.prototype.getCurIdx = function (listObj, idx) {\n        if (listObj.fields.groupBy) {\n            idx -= [].slice.call(listObj.ulElement.children).slice(0, idx)\n                .filter(function (ele) { return ele.classList.contains(cssClass.group); }).length;\n        }\n        return idx;\n    };\n    ListBox.prototype.getComponent = function (li) {\n        var listObj;\n        var ele = (this.element.tagName === 'EJS-LISTBOX' ? closest(li, '.e-listbox')\n            : closest(li, '.e-listbox-wrapper') && closest(li, '.e-listbox-wrapper').querySelector('.e-listbox'));\n        if (ele) {\n            listObj = getComponent(ele, this.getModuleName());\n        }\n        return listObj;\n    };\n    ListBox.prototype.listOption = function (dataSource, fields) {\n        this.listCurrentOptions = _super.prototype.listOption.call(this, dataSource, fields);\n        this.listCurrentOptions = extend({}, this.listCurrentOptions, { itemCreated: this.triggerBeforeItemRender.bind(this) }, true);\n        this.notify('listoption', { module: 'CheckBoxSelection' });\n        return this.listCurrentOptions;\n    };\n    ListBox.prototype.triggerBeforeItemRender = function (e) {\n        e.item.setAttribute('tabindex', '-1');\n        this.trigger('beforeItemRender', { element: e.item, item: e.curData });\n    };\n    ListBox.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.selectionSettings.showCheckbox) {\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method is used to enable or disable the items in the ListBox based on the items and enable argument.\n     * @param items Text items that needs to be enabled/disabled.\n     * @param enable Set `true`/`false` to enable/disable the list items.\n     * @returns void\n     */\n    ListBox.prototype.enableItems = function (items, enable) {\n        var _this = this;\n        if (enable === void 0) { enable = true; }\n        var li;\n        items.forEach(function (item) {\n            li = _this.findListElement(_this.list, 'li', 'data-value', _this.getValueByText(item));\n            if (enable) {\n                removeClass([li], cssClass.disabled);\n                li.removeAttribute('aria-disabled');\n            }\n            else {\n                addClass([li], cssClass.disabled);\n                li.setAttribute('aria-disabled', 'true');\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, specified list item will be selected/deselected.\n     * @param items Array of text value of the item.\n     * @param state Set `true`/`false` to select/un select the list items.\n     * @returns void\n     */\n    ListBox.prototype.selectItems = function (items, state) {\n        if (state === void 0) { state = true; }\n        this.setSelection(items, state, true);\n        this.updateSelectedOptions();\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * @param state Set `true`/`false` to select/un select the entire list items.\n     * @returns void\n     */\n    ListBox.prototype.selectAll = function (state) {\n        if (state === void 0) { state = true; }\n        this.selectAllItems(state);\n    };\n    /**\n     * Adds a new item to the list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.addItems = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItems = function (items, itemIndex) {\n        this.removeItem(items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItem = function (items, itemIndex) {\n        var liCollections = [];\n        var liElement = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        if (items) {\n            items = (items instanceof Array ? items : [items]);\n            var fields = this.fields;\n            var dataValue = void 0;\n            var objValue = void 0;\n            var dupData = [];\n            var itemIdx = void 0;\n            extend(dupData, [], this.listData);\n            for (var j = 0; j < items.length; j++) {\n                if (items[j] instanceof Object) {\n                    dataValue = getValue(fields.value, items[j]);\n                }\n                else {\n                    dataValue = items[j].toString();\n                }\n                for (var i = 0, len = dupData.length; i < len; i++) {\n                    if (dupData[i] instanceof Object) {\n                        objValue = getValue(fields.value, dupData[i]);\n                    }\n                    else {\n                        objValue = dupData[i].toString();\n                    }\n                    if (objValue === dataValue) {\n                        itemIdx = this.getIndexByValue(dataValue);\n                        liCollections.push(liElement[itemIdx]);\n                        this.listData.splice(i, 1);\n                        this.updateLiCollection(itemIdx);\n                    }\n                }\n            }\n        }\n        else {\n            itemIndex = itemIndex ? itemIndex : 0;\n            liCollections.push(liElement[itemIndex]);\n            this.listData.splice(itemIndex, 1);\n            this.updateLiCollection(itemIndex);\n        }\n        for (var i = 0; i < liCollections.length; i++) {\n            this.ulElement.removeChild(liCollections[i]);\n        }\n    };\n    /**\n     * Gets the array of data Object that matches the given array of values.\n     * @param  { string[] | number[] | boolean[] } value - Specifies the array value of the list item.\n     * @returns object[].\n     */\n    ListBox.prototype.getDataByValues = function (value) {\n        var data = [];\n        for (var i = 0; i < value.length; i++) {\n            data.push(this.getDataByValue(value[i]));\n        }\n        return data;\n    };\n    /**\n     * Moves the given value(s) / selected value(s) upwards.\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveUp = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) downwards.\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveDown = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(false, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) to the given / default scoped ListBox.\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value or array value of the list item.\n     * @returns {void}\n     */\n    ListBox.prototype.moveTo = function (value, index, targetId) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n        this.moveData(this, tlistbox, false, elem, index);\n    };\n    /**\n     * Moves all the values from one ListBox to the scoped ListBox.\n     * @param  { string } targetId - Specifies the scoped ListBox ID.\n     * @param  { string } index - Specifies the index to where the items moved.\n     * @returns {void}\n     */\n    ListBox.prototype.moveAllTo = function (targetId, index) {\n        var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n        this.moveAllData(this, tlistbox, false, index);\n    };\n    /**\n     * Returns the updated dataSource in ListBox\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]}\n     */\n    ListBox.prototype.getDataList = function () {\n        return this.jsonData;\n    };\n    ListBox.prototype.getElemByValue = function (value) {\n        var elem = [];\n        for (var i = 0; i < value.length; i++) {\n            elem.push(this.ulElement.querySelector('[data-value =\"' + value[i] + '\"]'));\n        }\n        return elem;\n    };\n    ListBox.prototype.updateLiCollection = function (index) {\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 1);\n        this.liCollections = tempLi;\n    };\n    ListBox.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        [].slice.call(this.getItems()).forEach(function (li) {\n            if (!li.classList.contains(cssClass.disabled)) {\n                if (_this.selectionSettings.showCheckbox) {\n                    var ele = li.getElementsByClassName('e-check')[0];\n                    if ((!ele && state) || (ele && !state)) {\n                        _this.notify('updatelist', { li: li });\n                        if (_this.maximumSelectionLength >= _this.list.querySelectorAll('.e-list-item span.e-check').length) {\n                            _this.checkMaxSelection();\n                        }\n                    }\n                }\n                else {\n                    if (state) {\n                        li.classList.add(cssClass.selected);\n                    }\n                    else {\n                        li.classList.remove(cssClass.selected);\n                    }\n                }\n            }\n        });\n        this.updateSelectedOptions();\n        if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n            var liEle = this.list.getElementsByTagName('li');\n            var index = 0;\n            if (state) {\n                var _loop_1 = function () {\n                    var dataValue1 = this_1.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    if (!this_1.value.some(function (e) { return e === dataValue1; })) {\n                        this_1.value.push(this_1.getFormattedValue(liEle[index].getAttribute('data-value')));\n                    }\n                };\n                var this_1 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_1();\n                }\n            }\n            else {\n                var _loop_2 = function () {\n                    var dataValue2 = this_2.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    this_2.value = this_2.value.filter(function (e) { return e !== dataValue2; });\n                };\n                var this_2 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_2();\n                }\n            }\n            if (document.querySelectorAll('ul').length < 2) {\n                this.updateMainList();\n            }\n        }\n        this.triggerChange(this.getSelectedItems(), event);\n    };\n    ListBox.prototype.updateMainList = function () {\n        var mainCount = this.mainList.querySelectorAll('.e-list-item').length;\n        var ulEleCount = this.ulElement.querySelectorAll('.e-list-item').length;\n        if (this.selectionSettings.showCheckbox || (document.querySelectorAll('ul').length > 1 || mainCount !== ulEleCount)) {\n            var listindex = 0;\n            var valueindex = 0;\n            var count = 0;\n            for (listindex; listindex < this.mainList.querySelectorAll('.e-list-item').length;) {\n                if (this.value) {\n                    for (valueindex; valueindex < this.value.length; valueindex++) {\n                        if (this.mainList.querySelectorAll('.e-list-item')[listindex].getAttribute('data-value') === this.value[valueindex]) {\n                            count++;\n                        }\n                    }\n                }\n                if (!count && this.selectionSettings.showCheckbox) {\n                    this.mainList.querySelectorAll('.e-list-item')[listindex].getElementsByClassName('e-frame')[0].classList.remove('e-check');\n                }\n                if (document.querySelectorAll('ul').length > 1 && count && mainCount !== ulEleCount) {\n                    this.mainList.removeChild(this.mainList.getElementsByTagName('li')[listindex]);\n                    listindex = 0;\n                }\n                else {\n                    listindex++;\n                }\n                count = 0;\n                valueindex = 0;\n            }\n        }\n    };\n    ListBox.prototype.wireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.add(this.list, 'click', this.clickHandler, this);\n        EventHandler.add(wrapper, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'focusout', this.focusOutHandler, this);\n        this.wireToolbarEvent();\n        if (this.selectionSettings.showCheckbox) {\n            EventHandler.remove(document, 'mousedown', this.checkBoxSelectionModule.onDocumentClick);\n        }\n        if (this.fields.groupBy || this.element.querySelector('select>optgroup')) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n        if (form) {\n            EventHandler.add(form, 'reset', this.formResetHandler, this);\n        }\n    };\n    ListBox.prototype.wireToolbarEvent = function () {\n        if (this.toolbarSettings.items.length) {\n            EventHandler.add(this.getToolElem(), 'click', this.toolbarClickHandler, this);\n        }\n    };\n    ListBox.prototype.unwireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.remove(this.list, 'click', this.clickHandler);\n        EventHandler.remove(wrapper, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'focusout', this.focusOutHandler);\n        if (this.toolbarSettings.items.length) {\n            EventHandler.remove(this.getToolElem(), 'click', this.toolbarClickHandler);\n        }\n        if (form) {\n            EventHandler.remove(form, 'reset', this.formResetHandler);\n        }\n    };\n    ListBox.prototype.clickHandler = function (e) {\n        this.selectHandler(e);\n    };\n    ;\n    ListBox.prototype.checkSelectAll = function () {\n        var searchCount = 0;\n        var liItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        for (var i = 0; i < liItems.length; i++) {\n            if (!liItems[i].classList.contains('e-disabled')) {\n                searchCount++;\n            }\n        }\n        var len = this.getSelectedItems().length;\n        if (this.showSelectAll && searchCount) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', value: (searchCount === len) ? 'check' : 'uncheck' });\n        }\n    };\n    ListBox.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.allowFiltering) {\n            var filterType = this.inputString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query : this.query ? this.query : new Query();\n        }\n        return filterQuery;\n    };\n    ListBox.prototype.setFiltering = function () {\n        if (isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.createElement('span', {\n                className: 'e-filter-parent'\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: 'e-input-filter'\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var filterInputObj = Input.createInput({\n                element: this.filterInput\n            }, this.createElement);\n            append([filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], this.list);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.inputString = this.filterInput.value;\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.KeyUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onKeyDown, this);\n            return filterInputObj;\n        }\n    };\n    ListBox.prototype.selectHandler = function (e, isKey) {\n        var isSelect = true;\n        var currSelIdx;\n        var li = closest(e.target, '.' + cssClass.li);\n        var selectedLi = [li];\n        if (li) {\n            currSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            if (!this.selectionSettings.showCheckbox) {\n                if ((e.ctrlKey || Browser.isDevice) && this.isSelected(li)) {\n                    li.classList.remove(cssClass.selected);\n                    li.removeAttribute('aria-selected');\n                    isSelect = false;\n                }\n                else if (!(this.selectionSettings.mode === 'Multiple' && (e.ctrlKey || Browser.isDevice))) {\n                    this.getSelectedItems().forEach(function (ele) {\n                        ele.removeAttribute('aria-selected');\n                    });\n                    removeClass(this.getSelectedItems(), cssClass.selected);\n                }\n            }\n            else {\n                isSelect = !li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n            }\n            if (e.shiftKey && !this.selectionSettings.showCheckbox && this.selectionSettings.mode !== 'Single') {\n                selectedLi = [].slice.call(li.parentElement.children)\n                    .slice(Math.min(currSelIdx, this.prevSelIdx), Math.max(currSelIdx, this.prevSelIdx) + 1)\n                    .filter(function (ele) { return ele.classList.contains(cssClass.li); });\n            }\n            else {\n                this.prevSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (isSelect) {\n                if (!this.selectionSettings.showCheckbox) {\n                    addClass(selectedLi, cssClass.selected);\n                }\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'true');\n                });\n                this.list.setAttribute('aria-activedescendant', li.id);\n            }\n            if (!isKey && (this.maximumSelectionLength > (this.value && this.value.length) || !isSelect) &&\n                (this.maximumSelectionLength >= (this.value && this.value.length) || !isSelect) &&\n                !(this.maximumSelectionLength < (this.value && this.value.length))) {\n                this.notify('updatelist', { li: li, e: e });\n            }\n            if (this.allowFiltering && !isKey) {\n                var liDataValue_1 = this.getFormattedValue(li.getAttribute('data-value'));\n                if (!isSelect) {\n                    this.value = this.value.filter(function (value1) {\n                        return value1 !== liDataValue_1;\n                    });\n                }\n                else {\n                    var values = [];\n                    extend(values, this.value);\n                    values.push(liDataValue_1);\n                    this.value = values;\n                }\n                if (document.querySelectorAll('ul').length < 2) {\n                    this.updateMainList();\n                }\n            }\n            this.updateSelectedOptions();\n            this.triggerChange(this.getSelectedItems(), e);\n            this.checkMaxSelection();\n        }\n    };\n    ListBox.prototype.triggerChange = function (selectedLis, event) {\n        this.trigger('change', { elements: selectedLis, items: this.getDataByElems(selectedLis), value: this.value, event: event });\n    };\n    ListBox.prototype.getDataByElems = function (elems) {\n        var _this = this;\n        var data = [];\n        elems.forEach(function (ele) {\n            data.push(_this.getDataByValue(_this.getFormattedValue(ele.getAttribute('data-value'))));\n        });\n        return data;\n    };\n    ListBox.prototype.checkMaxSelection = function () {\n        var limit = this.list.querySelectorAll('.e-list-item span.e-check').length;\n        if (this.selectionSettings.showCheckbox) {\n            var index = 0;\n            var liCollElem = void 0;\n            liCollElem = this.list.getElementsByClassName('e-list-item');\n            for (index; index < liCollElem.length; index++) {\n                if (!liCollElem[index].querySelector('.e-frame.e-check')) {\n                    if (limit === this.maximumSelectionLength) {\n                        liCollElem[index].classList.add('e-disable');\n                    }\n                    else if (liCollElem[index].classList.contains('e-disable')) {\n                        liCollElem[index].classList.remove('e-disable');\n                    }\n                }\n            }\n        }\n    };\n    ListBox.prototype.toolbarClickHandler = function (e) {\n        var btn = closest(e.target, 'button');\n        if (btn) {\n            switch (btn.getAttribute('data-value')) {\n                case 'moveUp':\n                    this.moveUpDown(true);\n                    break;\n                case 'moveDown':\n                    this.moveUpDown();\n                    break;\n                case 'moveTo':\n                    this.moveItemTo();\n                    break;\n                case 'moveFrom':\n                    this.moveItemFrom();\n                    break;\n                case 'moveAllTo':\n                    this.moveAllItemTo();\n                    break;\n                case 'moveAllFrom':\n                    this.moveAllItemFrom();\n                    break;\n            }\n        }\n    };\n    ListBox.prototype.moveUpDown = function (isUp, isKey, value) {\n        var _this = this;\n        var elems = this.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        if (((isUp && this.isSelected(this.ulElement.firstElementChild))\n            || (!isUp && this.isSelected(this.ulElement.lastElementChild))) && !value) {\n            return;\n        }\n        (isUp ? elems : elems.reverse()).forEach(function (ele) {\n            var idx = Array.prototype.indexOf.call(_this.ulElement.children, ele);\n            moveTo(_this.ulElement, _this.ulElement, [idx], isUp ? idx - 1 : idx + 2);\n            _this.changeData(idx, isUp ? idx - 1 : idx + 1, ele);\n        });\n        elems[0].focus();\n        if (!isKey && this.toolbarSettings.items.length) {\n            this.getToolElem().querySelector('[data-value=' + (isUp ? 'moveUp' : 'moveDown') + ']').focus();\n        }\n        this.updateToolBarState();\n    };\n    ListBox.prototype.moveItemTo = function () {\n        this.moveData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveItemFrom = function () {\n        this.moveData(this.getScopedListBox(), this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @returns void\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    ListBox.prototype.moveData = function (fListBox, tListBox, isKey, value, index) {\n        var idx = [];\n        var dataIdx = [];\n        var jsonIdx = [];\n        var sortIdx = [];\n        var listData = [].slice.call(fListBox.listData);\n        var tListData = [].slice.call(tListBox.listData);\n        var sortData = [].slice.call(fListBox.sortedData);\n        var tSortData = [].slice.call(tListBox.sortedData);\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var dataLiIdx = [];\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        var data = [];\n        var elems = fListBox.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        var isRefresh = tListBox.sortOrder !== 'None' ||\n            (tListBox.selectionSettings.showCheckbox !== fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy;\n        fListBox.value = [];\n        if (elems.length) {\n            this.removeSelected(fListBox, elems);\n            elems.forEach(function (ele, i) {\n                idx.push(Array.prototype.indexOf.call(fListBox.ulElement.children, ele)); // update sortable elem\n                // To update lb view data\n                dataLiIdx.push(Array.prototype.indexOf.call(fListBox.ulElement.querySelectorAll('.e-list-item'), ele));\n                // To update lb listdata data\n                dataIdx.push(Array.prototype.indexOf.call(fListBox.listData, fListBox.getDataByElems([ele])[0]));\n                // To update lb sorted data\n                sortIdx.push(Array.prototype.indexOf.call(fListBox.sortedData, fListBox.getDataByElems([ele])[0]));\n                // To update lb original data\n                jsonIdx.push(Array.prototype.indexOf.call(fListBox.jsonData, fListBox.getDataByElems([ele])[0]));\n            });\n            var rLiCollection_1 = [];\n            dataLiIdx.sort(function (n1, n2) { return n1 - n2; }).reverse().forEach(function (i) {\n                rLiCollection_1.push(fliCollections.splice(i, 1)[0]);\n            });\n            fListBox.liCollections = fliCollections;\n            if (index) {\n                var toColl = tliCollections.splice(0, index);\n                tListBox.liCollections = toColl.concat(rLiCollection_1.reverse()).concat(tliCollections);\n            }\n            else {\n                tListBox.liCollections = tliCollections.concat(rLiCollection_1.reverse());\n            }\n            if (tListBox.listData.length === 0) {\n                tListBox.ulElement.innerHTML = '';\n            }\n            dataIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                listData.splice(i, 1)[0];\n            });\n            sortIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                sortData.splice(i, 1)[0];\n            });\n            jsonIdx.slice().reverse().forEach(function (i) {\n                data.push(fListBox.jsonData.splice(i, 1)[0]);\n            });\n            if (isRefresh) {\n                if (fListBox.fields.groupBy) {\n                    fListBox.ulElement.innerHTML = fListBox.renderItems(listData, fListBox.fields).innerHTML;\n                }\n                else {\n                    elems.forEach(function (ele) { detach(ele); });\n                }\n            }\n            else {\n                moveTo(fListBox.ulElement, tListBox.ulElement, idx, index);\n            }\n            if (tListBox.mainList.childElementCount !== tListBox.jsonData.length) {\n                tListBox.mainList = tListBox.ulElement;\n            }\n            fListBox.updateMainList();\n            var childCnt = fListBox.ulElement.querySelectorAll('.e-list-item').length;\n            var ele = void 0;\n            var liIdx = void 0;\n            var tJsonData = [].slice.call(tListBox.jsonData);\n            tSortData = [].slice.call(tListBox.sortedData);\n            if (elems.length === 1 && childCnt && !fListBox.selectionSettings.showCheckbox) {\n                liIdx = childCnt <= dataLiIdx[0] ? childCnt - 1 : dataLiIdx[0];\n                ele = fListBox.ulElement.querySelectorAll('.e-list-item')[liIdx];\n                fListBox.ulElement.querySelectorAll('.e-list-item')[fListBox.getValidIndex(ele, liIdx, childCnt === dataIdx[0]\n                    ? 38 : 40)].classList.add(cssClass.selected);\n            }\n            if (isKey) {\n                this.list.focus();\n            }\n            fListBox.listData = listData;\n            fListBox.sortedData = sortData;\n            index = (index) ? index : tListData.length;\n            for (var i = 0; i < data.length; i++) {\n                tListData.splice(index, 0, data[i]);\n                tJsonData.splice(index, 0, data[i]);\n                tSortData.splice(index, 0, data[i]);\n            }\n            tListBox.listData = tListData;\n            tListBox.jsonData = tJsonData;\n            tListBox.sortedData = tSortData;\n            if (isRefresh) {\n                tListBox.ulElement.innerHTML = tListBox.renderItems(tListData, tListBox.fields).innerHTML;\n                tListBox.setSelection();\n            }\n            fListBox.updateSelectedOptions();\n            if (fListBox.listData.length === 0) {\n                fListBox.l10nUpdate();\n            }\n        }\n        if (fListBox.value.length === 1 && fListBox.getSelectedItems().length) {\n            fListBox.value[0] = fListBox.getSelectedItems()[0].innerHTML;\n        }\n    };\n    ListBox.prototype.moveAllItemTo = function () {\n        this.moveAllData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveAllItemFrom = function () {\n        this.moveAllData(this.getScopedListBox(), this);\n    };\n    ListBox.prototype.moveAllData = function (fListBox, tListBox, isKey, index) {\n        var listData = [].slice.call(tListBox.listData);\n        var jsonData = [].slice.call(tListBox.jsonData);\n        var isRefresh = tListBox.sortOrder !== 'None' ||\n            (tListBox.selectionSettings.showCheckbox !== fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy;\n        this.removeSelected(fListBox, fListBox.getSelectedItems());\n        if (tListBox.listData.length === 0) {\n            tListBox.ulElement.innerHTML = '';\n        }\n        if (isRefresh) {\n            fListBox.ulElement.innerHTML = '';\n        }\n        else {\n            moveTo(fListBox.ulElement, tListBox.ulElement, Array.apply(null, { length: fListBox.ulElement.childElementCount }).map(Number.call, Number), index);\n        }\n        if (isKey) {\n            this.list.focus();\n        }\n        index = (index) ? index : listData.length;\n        for (var i = 0; i < fListBox.listData.length; i++) {\n            listData.splice(index + i, 0, fListBox.listData[i]);\n        }\n        for (var i = 0; i < fListBox.jsonData.length; i++) {\n            jsonData.splice(index + i, 0, fListBox.jsonData[i]);\n        }\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        fListBox.liCollections = [];\n        fListBox.value = [];\n        if (index) {\n            var toColl = tliCollections.splice(0, index);\n            tListBox.liCollections = toColl.concat(fliCollections).concat(tliCollections);\n        }\n        else {\n            tListBox.liCollections = tliCollections.concat(fliCollections);\n        }\n        listData = listData\n            .filter(function (data) { return data.isHeader !== true; });\n        tListBox.listData = listData;\n        tListBox.jsonData = jsonData;\n        fListBox.listData = fListBox.sortedData = fListBox.jsonData = [];\n        if (isRefresh) {\n            tListBox.ulElement.innerHTML = tListBox.renderItems(listData, tListBox.fields).innerHTML;\n        }\n        else {\n            tListBox.sortedData = listData;\n        }\n        fListBox.updateSelectedOptions();\n        if (fListBox.listData.length === 0) {\n            fListBox.l10nUpdate();\n        }\n    };\n    ListBox.prototype.changeData = function (fromIdx, toIdx, ele) {\n        var listData = [].slice.call(this.listData);\n        var jsonData = [].slice.call(this.jsonData);\n        var jsonIdx = Array.prototype.indexOf.call(this.jsonData, this.getDataByElems([ele])[0]);\n        var liColl = [].slice.call(this.liCollections);\n        listData.splice(toIdx, 0, listData.splice(fromIdx, 1)[0]);\n        jsonData.splice(toIdx, 0, jsonData.splice(jsonIdx, 1)[0]);\n        liColl.splice(toIdx, 0, liColl.splice(fromIdx, 1)[0]);\n        this.listData = listData;\n        this.jsonData = jsonData;\n        this.liCollections = liColl;\n    };\n    ListBox.prototype.getSelectedItems = function () {\n        var ele = [];\n        if (this.selectionSettings.showCheckbox) {\n            [].slice.call(this.ulElement.getElementsByClassName('e-check')).forEach(function (cbox) {\n                ele.push(closest(cbox, '.' + cssClass.li));\n            });\n        }\n        else {\n            ele = [].slice.call(this.ulElement.getElementsByClassName(cssClass.selected));\n        }\n        return ele;\n    };\n    ListBox.prototype.getScopedListBox = function () {\n        var _this = this;\n        var listObj;\n        if (this.scope) {\n            [].slice.call(document.querySelectorAll(this.scope)).forEach(function (ele) {\n                if (getComponent(ele, _this.getModuleName())) {\n                    listObj = getComponent(ele, _this.getModuleName());\n                }\n            });\n        }\n        return listObj;\n    };\n    ListBox.prototype.getDragArgs = function (args, isDragEnd) {\n        var elems = this.getSelectedItems();\n        if (elems.length) {\n            elems.pop();\n            if (isDragEnd) {\n                elems.push(args.target);\n            }\n        }\n        else {\n            elems = [args.target];\n        }\n        if (isBlazor()) {\n            return { elements: elems, items: this.getDataByElems(elems), bindEvents: args.bindEvents,\n                dragElement: args.dragElement };\n        }\n        else {\n            return { elements: elems, items: this.getDataByElems(elems) };\n        }\n    };\n    ListBox.prototype.onKeyDown = function (e) {\n        this.keyDownHandler(e);\n        event.stopPropagation();\n    };\n    ListBox.prototype.keyDownHandler = function (e) {\n        if ([32, 35, 36, 37, 38, 39, 40, 65].indexOf(e.keyCode) > -1 && !this.allowFiltering) {\n            e.preventDefault();\n            if (e.keyCode === 32) {\n                this.selectHandler({\n                    target: this.ulElement.getElementsByClassName('e-focused')[0],\n                    ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                });\n            }\n            else if (e.keyCode === 65 && e.ctrlKey) {\n                this.selectAll();\n            }\n            else if ((e.keyCode === 38 || e.keyCode === 40) && e.ctrlKey && e.shiftKey) {\n                this.moveUpDown(e.keyCode === 38 ? true : false, true);\n            }\n            else if ((this.toolbarSettings.items.length || this.tBListBox) && (e.keyCode === 39 || e.keyCode === 37) && e.ctrlKey) {\n                var listObj = this.tBListBox || this.getScopedListBox();\n                if (e.keyCode === 39) {\n                    e.shiftKey ? this.moveAllData(this, listObj, true) : this.moveData(this, listObj, true);\n                }\n                else {\n                    e.shiftKey ? this.moveAllData(listObj, this, true) : this.moveData(listObj, this, true);\n                }\n            }\n            else if (e.keyCode !== 37 && e.keyCode !== 39) {\n                this.upDownKeyHandler(e);\n            }\n        }\n        else if (this.allowFiltering) {\n            if (e.keyCode === 40 || e.keyCode === 38) {\n                this.upDownKeyHandler(e);\n            }\n        }\n    };\n    ListBox.prototype.upDownKeyHandler = function (e) {\n        var ul = this.ulElement;\n        var defaultIdx = (e.keyCode === 40 || e.keyCode === 36) ? 0 : ul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = ul.getElementsByClassName('e-focused')[0] || ul.getElementsByClassName(cssClass.selected)[0];\n        if (fli) {\n            if (e.keyCode !== 35 && e.keyCode !== 36) {\n                fliIdx = Array.prototype.indexOf.call(ul.children, fli);\n                e.keyCode === 40 ? fliIdx++ : fliIdx--;\n                if (fliIdx < 0 || fliIdx > ul.childElementCount - 1) {\n                    return;\n                }\n            }\n            removeClass([fli], 'e-focused');\n        }\n        var cli = ul.children[fliIdx];\n        fliIdx = this.getValidIndex(cli, fliIdx, e.keyCode);\n        if (fliIdx === -1) {\n            addClass([fli], 'e-focused');\n            return;\n        }\n        ul.children[fliIdx].focus();\n        ul.children[fliIdx].classList.add('e-focused');\n        if (!e.ctrlKey) {\n            this.selectHandler({ target: ul.children[fliIdx], ctrlKey: e.ctrlKey, shiftKey: e.shiftKey }, true);\n        }\n    };\n    ListBox.prototype.KeyUp = function (e) {\n        var _this = this;\n        var char = String.fromCharCode(e.keyCode);\n        var isWordCharacter = char.match(/\\w/);\n        if (!isNullOrUndefined(isWordCharacter)) {\n            this.isValidKey = true;\n        }\n        this.isValidKey = (e.keyCode === 8) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                default:\n                    var text = this.targetElement();\n                    var keyCode = e.keyCode;\n                    if (this.allowFiltering) {\n                        var eventArgsData_1 = {\n                            preventDefaultAction: false,\n                            text: this.targetElement(),\n                            updateData: function (dataSource, query, fields) {\n                                if (eventArgsData_1.cancel) {\n                                    return;\n                                }\n                                _this.isFiltered = true;\n                                _this.remoteFilterAction = true;\n                                _this.dataUpdater(dataSource, query, fields);\n                            },\n                            event: e,\n                            cancel: false\n                        };\n                        this.trigger('filtering', eventArgsData_1, function (args) {\n                            _this.isDataFetched = false;\n                            if (eventArgsData_1.cancel || (_this.filterInput.value !== '' && _this.isFiltered)) {\n                                return;\n                            }\n                            if (!eventArgsData_1.cancel && !_this.isCustomFiltering && !eventArgsData_1.preventDefaultAction) {\n                                _this.inputString = _this.filterInput.value;\n                                _this.filteringAction(_this.jsonData, new Query(), _this.fields);\n                            }\n                            if (!_this.isFiltered && !_this.isCustomFiltering && !eventArgsData_1.preventDefaultAction) {\n                                _this.dataUpdater(_this.jsonData, new Query(), _this.fields);\n                            }\n                        });\n                    }\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @return {void}.\n     */\n    ListBox.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFiltering = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    ListBox.prototype.filteringAction = function (dataSource, query, fields) {\n        this.resetList(dataSource, fields, query);\n    };\n    ListBox.prototype.targetElement = function () {\n        this.targetInputElement = this.list.getElementsByClassName('e-input-filter')[0];\n        return this.targetInputElement.value;\n    };\n    ListBox.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var backCommand = true;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (backCommand) {\n                this.remoteCustomValue = false;\n                this.onActionComplete(list, this.jsonData);\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.selectionSettings.showCheckbox, e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n        }\n    };\n    ListBox.prototype.focusOutHandler = function () {\n        var ele = this.list.getElementsByClassName('e-focused')[0];\n        if (ele) {\n            ele.classList.remove('e-focused');\n        }\n    };\n    ListBox.prototype.getValidIndex = function (cli, index, keyCode) {\n        var cul = this.ulElement;\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            (keyCode === 40 || keyCode === 36) ? index++ : index--;\n        }\n        if (index < 0 || index === cul.childElementCount) {\n            return -1;\n        }\n        cli = cul.querySelectorAll('.e-list-item')[index];\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            index = this.getValidIndex(cli, index, keyCode);\n        }\n        return index;\n    };\n    ListBox.prototype.updateSelectedOptions = function () {\n        var _this = this;\n        var selectedOptions = [];\n        var values = [];\n        extend(values, this.value);\n        this.getSelectedItems().forEach(function (ele) {\n            if (!ele.classList.contains('e-grabbed')) {\n                selectedOptions.push(_this.getFormattedValue(ele.getAttribute('data-value')));\n            }\n        });\n        if (this.mainList.childElementCount === this.ulElement.childElementCount) {\n            this.setProperties({ value: selectedOptions }, true);\n        }\n        this.updateSelectTag();\n        this.updateToolBarState();\n        if (this.tBListBox) {\n            this.tBListBox.updateToolBarState();\n        }\n        if (this.allowFiltering) {\n            this.list.getElementsByClassName('e-input-filter')[0].focus();\n        }\n    };\n    ListBox.prototype.clearSelection = function (values) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (this.selectionSettings.showCheckbox) {\n            var dvalue_1;\n            this.getSelectedItems().forEach(function (li) {\n                dvalue_1 = _this.getFormattedValue(li.getAttribute('data-value'));\n                if (values.indexOf(dvalue_1) < 0) {\n                    li.getElementsByClassName('e-check')[0].classList.remove('e-check');\n                    li.getElementsByClassName('e-checkbox-wrapper')[0].removeAttribute('aria-checked');\n                    li.removeAttribute('aria-selected');\n                }\n            });\n        }\n    };\n    ;\n    ListBox.prototype.setSelection = function (values, isSelect, isText) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (isSelect === void 0) { isSelect = true; }\n        if (isText === void 0) { isText = false; }\n        var li;\n        var liselect;\n        if (values) {\n            values.forEach(function (value) {\n                li = _this.list.querySelector('[data-value=\"' + (isText ? _this.getValueByText(value) : value) + '\"]');\n                if (li) {\n                    if (_this.selectionSettings.showCheckbox) {\n                        liselect = li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n                    }\n                    else {\n                        liselect = li.classList.contains('e-selected');\n                    }\n                    if (!isSelect && liselect || isSelect && !liselect && li) {\n                        if (_this.selectionSettings.showCheckbox) {\n                            _this.notify('updatelist', { li: li });\n                        }\n                        else {\n                            if (isSelect) {\n                                li.classList.add(cssClass.selected);\n                                li.setAttribute('aria-selected', 'true');\n                            }\n                            else {\n                                li.classList.remove(cssClass.selected);\n                                li.removeAttribute('aria-selected');\n                            }\n                        }\n                    }\n                }\n            });\n        }\n        this.updateSelectTag();\n    };\n    ListBox.prototype.updateSelectTag = function () {\n        var ele = this.getSelectTag();\n        ele.innerHTML = '';\n        if (this.value) {\n            Array.prototype.forEach.call(this.value, function (value) {\n                ele.innerHTML += '<option selected value=\"' + value + '\"></option>';\n            });\n        }\n        this.checkSelectAll();\n    };\n    ListBox.prototype.updateToolBarState = function () {\n        var _this = this;\n        if (this.toolbarSettings.items.length) {\n            var listObj_1 = this.getScopedListBox();\n            var wrap_1 = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            this.toolbarSettings.items.forEach(function (value) {\n                var btn = wrap_1.querySelector('[data-value=\"' + value + '\"]');\n                switch (value) {\n                    case 'moveAllTo':\n                        btn.disabled = _this.ulElement.childElementCount ? false : true;\n                        break;\n                    case 'moveAllFrom':\n                        btn.disabled = listObj_1.ulElement.childElementCount ? false : true;\n                        break;\n                    case 'moveFrom':\n                        btn.disabled = listObj_1.value && listObj_1.value.length ? false : true;\n                        break;\n                    case 'moveUp':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[0]) ? false : true;\n                        break;\n                    case 'moveDown':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[_this.ulElement.childElementCount - 1]) ? false : true;\n                        break;\n                    default:\n                        btn.disabled = _this.value && _this.value.length ? false : true;\n                        break;\n                }\n            });\n        }\n    };\n    ListBox.prototype.setCheckboxPosition = function () {\n        var listWrap = this.list;\n        if (!this.initLoad && this.selectionSettings.checkboxPosition === 'Left') {\n            listWrap.classList.remove('e-right');\n        }\n        if (this.selectionSettings.checkboxPosition === 'Right') {\n            listWrap.classList.add('e-right');\n        }\n    };\n    ListBox.prototype.showCheckbox = function (showCheckbox) {\n        var index = 0;\n        var liColl = this.list.lastElementChild.querySelectorAll('li');\n        var liCollLen = this.list.lastElementChild.getElementsByClassName('e-list-item').length;\n        if (showCheckbox) {\n            this.ulElement = this.renderItems(this.listData, this.fields);\n            this.mainList = this.ulElement;\n            this.list.removeChild(this.list.getElementsByTagName('ul')[0]);\n            this.list.appendChild(this.ulElement);\n            if (this.selectionSettings.showSelectAll) {\n                var l10nShow = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                this.showSelectAll = true;\n                this.selectAllText = l10nShow.getConstant('selectAllText');\n                this.unSelectAllText = l10nShow.getConstant('unSelectAllText');\n                this.popupWrapper = this.list;\n                this.checkBoxSelectionModule.checkAllParent = null;\n                this.notify('selectAll', {});\n                this.checkSelectAll();\n            }\n        }\n        else {\n            if (this.selectionSettings.showSelectAll) {\n                this.list.removeChild(this.list.getElementsByClassName('e-selectall-parent')[0]);\n            }\n            for (index; index < liCollLen; index++) {\n                liColl[index].removeChild(liColl[index].getElementsByClassName('e-checkbox-wrapper')[0]);\n                if (liColl[index].hasAttribute('aria-selected')) {\n                    liColl[index].removeAttribute('aria-selected');\n                }\n            }\n            this.mainList = this.ulElement;\n        }\n        this.value = [];\n    };\n    ListBox.prototype.isSelected = function (ele) {\n        if (!isNullOrUndefined(ele)) {\n            return ele.classList.contains(cssClass.selected) || ele.querySelector('.e-check') !== null;\n        }\n        else {\n            return false;\n        }\n    };\n    ListBox.prototype.getSelectTag = function () {\n        return this.list.getElementsByClassName('e-hidden-select')[0];\n    };\n    ListBox.prototype.getToolElem = function () {\n        return this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n    };\n    ListBox.prototype.formResetHandler = function () {\n        this.value = this.initialSelectedOptions;\n    };\n    /**\n     * Return the module name.\n     * @private\n     */\n    ListBox.prototype.getModuleName = function () {\n        return 'listbox';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    ListBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ListBox.prototype.getLocaleName = function () {\n        return 'listbox';\n    };\n    ;\n    ListBox.prototype.destroy = function () {\n        if (this.itemTemplate) {\n            resetBlazorTemplate(\"\" + this.element.id + ITEMTEMPLATE_PROPERTY, ITEMTEMPLATE_PROPERTY);\n        }\n        this.unwireEvents();\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.innerHTML = '';\n        }\n        else {\n            this.element.style.display = 'inline-block';\n            if (this.toolbarSettings.items.length) {\n                this.list.parentElement.parentElement.insertBefore(this.list, this.list.parentElement);\n                detach(this.list.nextElementSibling);\n            }\n            this.list.parentElement.insertBefore(this.element, this.list);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @returns void\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    ListBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrap], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrap], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrap.classList.add('e-rtl');\n                    }\n                    else {\n                        wrap.classList.remove('e-rtl');\n                    }\n                    break;\n                case 'value':\n                    removeClass(this.list.querySelectorAll('.' + cssClass.selected), cssClass.selected);\n                    this.clearSelection(this.value);\n                    this.setSelection();\n                    break;\n                case 'height':\n                    this.setHeight();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.initDraggable();\n                    }\n                    else {\n                        getComponent(this.ulElement, 'sortable').destroy();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this.allowFiltering) {\n                        this.setFiltering();\n                    }\n                    else {\n                        this.list.removeChild(this.list.getElementsByClassName('e-filter-parent')[0]);\n                        this.filterParent = null;\n                    }\n                    break;\n                case 'scope':\n                    if (this.allowDragAndDrop) {\n                        getComponent(this.ulElement, 'sortable').scope = newProp.scope;\n                    }\n                    if (this.toolbarSettings.items.length) {\n                        if (oldProp.scope) {\n                            getComponent(document.querySelector(oldProp.scope), this.getModuleName())\n                                .tBListBox = null;\n                        }\n                        if (newProp.scope) {\n                            getComponent(document.querySelector(newProp.scope), this.getModuleName())\n                                .tBListBox = this;\n                        }\n                    }\n                    break;\n                case 'toolbarSettings':\n                    var ele = void 0;\n                    var pos = newProp.toolbarSettings.position;\n                    var toolElem = this.getToolElem();\n                    if (pos) {\n                        removeClass([wrap], ['e-right', 'e-left']);\n                        wrap.classList.add('e-' + pos.toLowerCase());\n                        if (pos === 'Left') {\n                            wrap.insertBefore(toolElem, this.list);\n                        }\n                        else {\n                            wrap.appendChild(toolElem);\n                        }\n                    }\n                    if (newProp.toolbarSettings.items) {\n                        if (oldProp.toolbarSettings.items.length) {\n                            ele = this.list.parentElement;\n                            ele.parentElement.insertBefore(this.list, ele);\n                            detach(ele);\n                        }\n                        this.initToolbarAndStyles();\n                        this.wireToolbarEvent();\n                    }\n                    break;\n                case 'selectionSettings':\n                    var showSelectAll = newProp.selectionSettings.showSelectAll;\n                    var showCheckbox = newProp.selectionSettings.showCheckbox;\n                    if (!isNullOrUndefined(showSelectAll)) {\n                        this.showSelectAll = showSelectAll;\n                        if (this.showSelectAll) {\n                            var l10nSel = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                            this.checkBoxSelectionModule.checkAllParent = null;\n                            this.showSelectAll = true;\n                            this.selectAllText = l10nSel.getConstant('selectAllText');\n                            this.unSelectAllText = l10nSel.getConstant('selectAllText');\n                            this.popupWrapper = this.list;\n                        }\n                        this.notify('selectAll', {});\n                        this.checkSelectAll();\n                    }\n                    if (!isNullOrUndefined(showCheckbox)) {\n                        this.showCheckbox(showCheckbox);\n                    }\n                    if (this.selectionSettings.showCheckbox) {\n                        this.setCheckboxPosition();\n                    }\n                    break;\n                case 'dataSource':\n                    this.jsonData = [].slice.call(this.dataSource);\n                    break;\n            }\n        }\n    };\n    var ListBox_1;\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], ListBox.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], ListBox.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property([])\n    ], ListBox.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], ListBox.prototype, \"filterType\", void 0);\n    __decorate([\n        Property()\n    ], ListBox.prototype, \"locale\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], ListBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"scope\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeDrop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dataBound\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], ListBox.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('The Request Failed')\n    ], ListBox.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Complex({}, ToolbarSettings)\n    ], ListBox.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], ListBox.prototype, \"selectionSettings\", void 0);\n    ListBox = ListBox_1 = __decorate([\n        NotifyPropertyChanges\n    ], ListBox);\n    return ListBox;\n}(DropDownBase));\nexport { ListBox };\n"],"names":["incrementalSearch","keyCode","items","selectedIndex","ignoreCase","isBlazor","queryString","String","fromCharCode","setTimeout","index","toLowerCase","prevString","i","matches","length","classList","contains","activeClass","listItems","strLength","item","textContent","trim","innerText","substr","push","Search","inputVal","searchType","undefined","itemData","queryStr","toLocaleLowerCase","itemsData","text","replace","highlightSearch","element","query","type","ignoreRegex","test","replaceQuery","findTextNode","RegExp","pattern","childNodes","nodeType","innerHTML","createFloatLabel","overAllWrapper","searchWrapper","inputElement","value","floatLabelType","placeholder","floatLinelement","floatLabelElement","createElement","className","FLOATLINE","FLOATTEXT","isNullOrUndefined","id","attributes","aria-labelledby","removeAttribute","appendChild","add","label","addClass","LABELTOP","removeClass","LABELBOTTOM","updateFloatLabelState","setPlaceHolder","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","FieldSettings","_super","apply","Property","ChildProperty","dropDownBaseClasses","root","rtl","content","selected","hover","noData","fixedHead","focus","li","ListBaseClasses","group","disabled","grouping","ITEMTEMPLATE_PROPERTY","VALUETEMPLATE_PROPERTY","GROUPTEMPLATE_PROPERTY","HEADERTEMPLATE_PROPERTY","FOOTERTEMPLATE_PROPERTY","NORECORDSTEMPLATE_PROPERTY","ACTIONFAILURETEMPLATE_PROPERTY","DropDownBase","options","call","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","data","getValueByText","ignoreAccent","listData","checkValueCase","isTextByValue","_this","dataSource","fields","typeOfData","typeof","_i","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","filter","itemValue","getValue","toString","dataItem","DataUtil","ignoreDiacritics","textItem","typedText","getFormattedValue","l10nUpdate","actionFailure","ele","getModuleName","ulElement","list","noRecordsTemplate","actionFailureTemplate","DropDownBaseresetBlazorTemplates","template","templateId","actionFailureTemplateId","noRecordsTemplateId","_a","compile","compiledString","isStringTemplate","DropDownBaseupdateBlazorTemplates","componentLocale","L10n","getLocaleName","locale","getConstant","l10n","noHeaderTemplate","l10nUpdateUndefinedHeader","getTextByValue","parseFloat","setEnableRtl","enableRtlElements","enableRtl","initialize","bindEvent","tagName","jsonElement","ListBase","createJsonFromElement","setProperties","resetList","renderItemsBySelect","setListData","noRecord","action","header","footer","isEmpty","itemTemplate","updateBlazorTemplate","itemTemplateId","groupTemplate","groupTemplateId","valueTemplateId","headerTemplateId","footerTemplateId","resetBlazorTemplate","getPersistData","addOnPersist","setEnabled","setAttribute","updateDataAttribute","invalidAttr","attr","a","indexOf","name","getAttribute","extend","htmlAttributes","querySelectorAll","option","getJSONfromOption","optionGroup","isHeader","child","options_1","json","preRender","scrollTimer","isRequested","isDataFetched","noHeaderTemplateId","isActive","eventArgs","cancel","trigger","showSpinner","DataManager","emptyDataRequest","executeQuery","getQuery","then","e","result","renderItems","onActionComplete","renderGroupTemplate","bindChildItems","catch","onActionFailure","hideSpinner","dataManager","localDataArgs","executeLocal","childNode","remainingItems","sortedData","append","liCollections","updateListValues","raiseDataBound","findListElement","findNode","attribute","liElement","listArr","slice","dataBoundEventArgs","spliceData","Query","skip","listElements","templateListItem","createListItemFromArray","listOption","createListItemFromJson","fixedHeaderElement","querySelector","postRender","listElement","focusItem","selectedItem","remove","listEle","groupBy","groupTemplateID","headerItems","properties","createListItems","sortOrder","getSortedDataSource","groupDataSource","groupHeaderName","text_1","itemCreated","args","curData","take","createList","headerName","iconCss","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","style","display","prepend","setFixedHeader","zIndex","scrollStop","liHeight","parseInt","getComputedStyle","getPropertyValue","topIndex","Math","round","scrollTop","currentLi","top","templateID","renderContentTemplate","parentElement","borderWidth","document","defaultView","liWidth","offsetWidth","width","setStyleAttribute","firstLi","textField","getDataSource","addSorting","getIndexByValue","getItems","dispatchEvent","evt","createEvent","initEvent","setFields","selectData","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","setUpdateInitial","updateData","j","keys","onPropertyChanged","localizedText","setZIndex","isEmptyData","attrs","tabindex","rippleModel","duration","selector","rippleFun","rippleEffect","isGroupChecking","EventHandler","wrapperElement","insertBefore","addItem","itemIndex","itemsCount","selectedItemValue","itemText","createTextNode","notify","module","updateActionCompleteData","listGroupItem","parentNode","tempLi","splice","updateDataList","validationAttribute","hidden","getDataByValue","_b","_c","destroy","body","detach","Complex","Event","NotifyPropertyChanges","Component","dropDownListClasses","disable","base","input","inputFocus","icon","iconAnimation","device","backIcon","filterBarClearIcon","filterInput","filterParent","mobileFilter","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","inputObject","container","buttons","DropDownList","previousValue","isServerBlazor","isServerRendered","initializeData","opacity","activeIndex","isPopupOpen","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","initRemoteRender","isNotSearchList","isTyped","isSelected","preventFocus","preventAutoFill","isValidKey","typedString","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isCustomFilter","isSecondClick","keyConfigure","tab","enter","escape","end","home","down","up","pageUp","pageDown","open","close","hide","space","popupObj","interopAdaptor","invokeMethodAsync","wireListEvents","floatLabelChange","floatElement","inputWrapper","resetHandler","preventDefault","clearAll","resetFocusElement","removeHover","removeSelection","removeFocus","resetSelection","getItemData","onChangeEvent","allowFiltering","actionList","childElementCount","cloneElements","cloneNode","selectedLI","valueTempElement","setSelection","updateIconState","setHTMLAttributes","htmlAttr","enabled","setEnable","Input","setPlaceholder","readonly","dataBind","getAriaAttributes","aria-disabled","aria-owns","role","aria-haspopup","aria-expanded","aria-activedescendant","aria-live","targetElement","tabIndex","hidePopup","preventTabIndex","getNgDirective","getElementByText","getElementByValue","listItems_1","liItem","initValue","updateValues","setHiddenValue","setValue","showClearButton","onBlur","relatedTarget","currentTarget","isFilterLayout","activeElement","focusOutAction","focusOut","onFocusOut","clearButton","onFocus","event","resetValueHandler","formElement","closest","val","wireEvent","dropDownClick","focusIn","onSearch","bindCommonEvent","Browser","isDevice","keyboardModule","KeyboardEvents","keyAction","mobileKeyActionHandler","bind","keyConfigs","eventName","keyActionHandler","bindClearEvent","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","isServerIncrementalSearch","searchKeyEvent","onServerIncrementalSearch","isValidLI","history","back","closePopup","setHover","hoveredItem","hasAttribute","setScrollPosition","spinnerElement","filterInputObj","createSpinner","preventAction","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","focusEle","isSelectFocusItem","nextItem","startIndex","pageUpSelection","getPageCount","pageDownSelection","lastLi","showPopup","focusDropDown","selectCurrentItem","getBoundingClientRect","height","steps","previousItem","unWireEvent","unWireListEvents","checkSelector","onDocumentClick","isIE","info","activeStateChange","which","button","proxy_1","updateSelectedItem","preventSelect","isSelection","selectedData","selectEventCallback","setSelectOptions","detachChanges","previousItemData","focusedItem","activeItem","valueTemplate","setValueTemplate","previousSibling","previousSelectedLI","aria-label","aria-describedby","templateData","JSON","parse","stringify","selectedItems","dataValue","dataText","isUndefined","eve","detachChangeEvent","defineProperties","enumerable","preItems","onFilterUp","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","filterQuery","clone","filterType","dataType","where","start","abs","selectionStart","selectionEnd","visibility","eventArgs_1","preventDefaultAction","filteringAction","baseEventArgs","focusIndexItem","setSearchBox","popupElement","createInput","filterBarPlaceholder","autocomplete","autocorrect","autocapitalize","spellcheck","clearIconElement","clearText","searchKeyModule","onInput","renderPopup","aria-hidden","checkField_1","some","x","Predicate","addNewItem","newElement","value_1","highlightedItem","refreshPopup","popupEle","serverPopupEle","cssClass","searchBox","listHeight","formatUnit","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","updateServerPopup","searchBoxHeight","maxHeight","offsetValue","left","getOffsetValue","firstItem","isEmptyList","textIndent","paddingLeft","borderLeftWidth","getFocusElement","createPopup","checkCollision","collision","X","Y","position","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements_1","getScrollableParent","scrollHandler","listScroll","inputParent","popup","animation","destroyPopup","serverBlazorUpdateSelection","bindServerScrollEvent","show","Animation","isCollide","marginTop","popupStyles","borderTop","borderTopWidth","borderBottom","borderBottomWidth","setPopupPosition","Popup","setWidth","targetType","relateTo","offsetY","offsetX","isResetItem","targetExitViewport","window","innerHeight","clearElement","border","popupOffset","lastItem","offsetHeight","offsetTop","count","paddingBottom","popupWidth","scrollBottom","isInitial","currentOffset","nextBottom","nextOffset","paddingTop","boxRange","isPopupButton","blur","setEleWidth","match","delay","scrollableParentElements_1","animModel","fixedHeader","removeChild","wireClearBtnEvents","bindInitialEvent","customTag","class","getUniqueID","selectElement","onselect","stopImmediatePropagation","onchange","renderComplete","contentEle","setOldText","setOldValue","refreshPosition","checkDatasource","checkCustomValue","updateInputFields","setReadonly","setCssClass","checkValidLi","setSelectionData","removeFloating","addFloating","setClearButton","ddlProps","split","invokeRenderPopup","proxy_2","onpopstate","pushState","children","clientRenderPopup","updateclientItemData","serverUpdateListElement","isFooter","isFocused","forEach","clear","SPINNER_CLASS","ComboBox","preventBlur","targetFocus","inputValue","customValue","allowCustom","valueMuteChange","aria-autocomplete","aria-hasPopup","aria-readonly","setHoverList","inlineSearch","isNaN","autofill","appendSpan","setAutoFill","isHover","currentValue","currentFillValue","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","prevEnd","curEnd","prevStart","curStart","property","isKeyNavigate","previousValue_1","updateCustomValueCallback","changeData","comboProps","isEscape","searchItem","AutoComplete","isFiltered","mapping","suggestionCount","filterAction","minLength","postBackAction","fieldsSettings","highlight","itemCreated_1","showPopupButton","atcProps","FOCUS","HIDE_LIST","CHIP","CHIP_CLOSE","CHIP_SELECTED","ZERO_SIZE","CLOSEICON_CLASS","CLOSE_ICON_HIDE","DISABLE_ICON","dropdownIcon","TOTAL_COUNT_WRAPPER","CUSTOM_WIDTH","MultiSelect","selectAllEventData","selectAllEventEle","scrollFocusStatus","keyDownStatus","enableRTL","state","requiredModules","modules","mode","enableGroupCheckBox","prevOnChange","isProtectedOnChange","enableSelectionOrder","allowCustomValue","hideSelectedItem","closePopupOnSelect","member","updateHTMLAttribute","popupWrapper","enable","refreshPlaceHolder","updateReadonly","updateClearButton","overAllClear","componentWrapper","updateCssClass","onPopupShown","focusAtFirstListItem","updateListItems","mainList","showDropDownIcon","isFirstClick","loadTemplate","mainListItems","findGroupStart","deselectHeader","refreshListItems","valueEle","addListFocus","focusAtLastListItem","aria-multiselectable","updateListARIA","disableStatus","ensureAriaDisabled","status","removelastSelection","elements","chipCollectionWrapper","tempValues","removeValue","removeChipSelection","updateDelimeter","delimiterChar","makeTextBoxEmpty","refreshSelection","checkPlaceholderSize","targetInputElement","getForQuery","valuecheck","predicate","field","or","proxy","updateActionList","showSelectAll","mainData","mainListCollection","remoteCustomValue","checkForCustomValue","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialTextUpdate","initialValueUpdate","initialUpdate","changeOnBlur","updateValueState","previousElementSibling","nextElementSibling","hideGroupItem","ariaValue","firstElementChild","checkSelectAll","checkMaxSelection","element1","temp","temp1","groupItemLength","listItem","searchCount","searchActiveCount","maximumSelectionLength","openClick","openOnClick","KeyUp","isWordCharacter","expandTextbox","showOverAllClear","search","remoteFilterAction","dataUpdater","backCommand","dataChecks","tempData","wrapperClick","updateDelimView","focused","removeChipFocus","refreshInputHight","floatLabelBlur","downIconWidth","dropIcon","marginRight","setPlaceholderSize","validateValues","newValue","oldValue","sort","newVal","oldVal","initStatus","updateTempValue","getPagingCount","collection","focusInHandler","showDelimWrapper","viewWrapper","floatLabelFocus","delimiterWrapper","hideDelimWrapper","size","mobFilter","calcPopupWidth","checkTextLength","popupKeyActions","updateAriaAttribute","homeNavigation","isHome","scrollEle","onKeyDown","altKey","arrowUp","arrowDown","selectByKey","spaceKeySelection","escapeAction","keyNavigation","checkBackCommand","moveByList","focuseElem","moveBy","removeSelectedChip","selectListByKey","hideOverAllClear","limit","updateListSelection","lastElementChild","selectAllItem","selectedElem","addChipSelection","moveByTop","updateCheck","chipClick","elem","onChipRemove","customVal","setFloatLabelType","isClearAll","targetEle","element_1","val_1","removeIndex","removeVal","concat","hideElement","updateMainList","removeChip","updateChipStatus","targetEle_1","isSelectAll","isChecked","clearAllCallback","element2","addValue","addListSelection","addChip","dispatchSelect","isNotTrigger","val_2","updateListSelectEventCallback","getChip","closeElements","onMobileChipInteraction","chipElem","chipClose","chip","data-value","title","chipContent","setClass","classes","mouseIn","mouseOut","fieldProperty","listCurrentOptions","moduleName","checkboxFilter","overAllHeight","selectAllHeight","args_1","unwireScrollEvents","wireScrollEvents","onListMouseDown","ClearAll","selectAllItems","windowResize","textVal","delim","addValidInputClass","textArr","removeListSelection","indexItem","noDataEle","replaceChild","temp_1","data_1","newData","selectItems","mainlist","addListHover","ariaCheck","delimChar","groupValues","getElementsByClassName","findGroupAttrtibutes","updateCheckBox","checked","unChecked","groupHeader","checkBoxElement","tempIndex","wrapperleng","remaining","overAllContainer","overflowCountTemplate","totalCountTemplate","remainContent","raminElement","totalCompiledString","remainSize","getOverflowVal","paddingRight","pop","join","totalWidth","updateRemainTemplate","updateRemainWidth","updateRemainingText","firstChild","nodeValue","newTemp","selectionLimit","focusedElement","textboxValueUpdate","updateValue","index_1","count_1","onLoadSelect","updateVal","dropDownIcon","reInitializePoup","msProps","mainLiLength","liLength","selectAll","SEARCHBOX_WRAPPER","DELIMITER_VIEW","styles","multiple","checkInitialValue","isData","optionsElement","valueCol","textCol","optionsLen","opt","checkAutoFocus","placeholderText","placeholderElement","floatLine","CHECKBOXFRAME","CHECK","CHECKBOXWRAP","CheckBoxSelection","parent","activeLi","activeEle","addEventListener","isDestroyed","on","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","setLocale","checboxCreate","removeEventListener","off","updateHeaderName","checkboxEle","createCheckBox","select","checkAllParent","selectAllSpan","nextSibling","clickHandler","checkWrapper","checkElement","validateCheckNode","checkWrap","isCheck","changeState","wrapper","isPrevent","ariaState","frameSpan","unSelect","selectAllText","unSelectAllText","activeLiCount","remLi","ulEle","SelectionSettings","ToolbarSettings","ListBox","ListBox_1","inputString","initLoad","isCustomFiltering","initialSelectedOptions","initWrapper","hiddenSelect","selectionSettings","showCheckbox","l10nSelect","checkBoxSelectionModule","initDraggable","allowDragAndDrop","Sortable","scope","itemClass","dragStart","triggerDragStart","drag","triggerDrag","beforeDrop","beforeDragEnd","drop","dragEnd","placeHolder","helper","sender","jsonData","initToolbar","pos","toolbarSettings","prevScope","toolElem","createButtons","updateToolBarState","tBListBox","getComponent","getElementById","moveUp","moveDown","moveTo","moveFrom","moveAllTo","moveAllFrom","Button","required","setHeight","wrap","spinner","searchEle","initToolbarAndStyles","wireEvents","setCheckboxPosition","setFiltering","badge","getDragArgs","dragSelected","isIos","overflow","dragEventArgs","allowDragAll","bindEvents","dragElement","listObj","dragValue","droppedElement","getDataByValues","liColl","droppedData","dropValue","getArgs","sourceArgs","previousData","destArgs","dragArgs","source","sourceArgs1","currentData","destination","ul_1","toIdx_1","currentIndex","getCurIdx","rIdx","jsonIdx","sIdx","idx","jsonIdx_1","sIdx_1","li_1","fLiColl_1","currIdx_1","ul_2","srcIdx","jsonSrcIdx","rLi","destIdx","liCollElem","removeSelected","updateSelectedOptions","sortabale","placeHolderElement","dragArgs1","elems","triggerBeforeItemRender","enableItems","addItems","removeItems","removeItem","dupData","itemIdx","len","updateLiCollection","getElemByValue","getSelectedItems","moveUpDown","targetId","tlistbox","getScopedListBox","moveData","moveAllData","getDataList","liEle","getElementsByTagName","_loop_1","dataValue1","this_1","_loop_2","dataValue2","this_2","triggerChange","mainCount","ulEleCount","listindex","valueindex","form","keyDownHandler","focusOutHandler","wireToolbarEvent","formResetHandler","getToolElem","toolbarClickHandler","unwireEvents","selectHandler","liItems","isKey","currSelIdx","isSelect","selectedLi","ctrlKey","shiftKey","min","prevSelIdx","max","liDataValue_1","values","value1","selectedLis","getDataByElems","btn","moveItemTo","moveItemFrom","moveAllItemTo","moveAllItemFrom","isUp","reverse","fListBox","tListBox","dataIdx","sortIdx","tListData","sortData","tSortData","fliCollections","dataLiIdx","tliCollections","isRefresh","rLiCollection_1","n1","n2","toColl","childCnt","liIdx","tJsonData","getValidIndex","map","Number","fromIdx","toIdx","cbox","isDragEnd","stopPropagation","upDownKeyHandler","ul","fliIdx","fli","cli","eventArgsData_1","cul","selectedOptions","updateSelectTag","clearSelection","dvalue_1","isText","liselect","getSelectTag","listObj_1","wrap_1","listWrap","checkboxPosition","liCollLen","l10nShow","l10nSel","contentElement","parent_1"],"mappings":"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"}